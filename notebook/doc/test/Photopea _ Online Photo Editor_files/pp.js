(function(){var ht=window.location.hostname=="www.vectorpea.com"?1:0;(function(){var I;try{I=window.localStorage}catch(jL){}var k={};
if(I){var a=I.getItem("_ppp");if(a)k=JSON.parse(a);else{var n="0_uid 0_provider 0_token 0_stateLocal capShown localFonts __glm dpiUnit swfPrms lpOpt".split(" ");
for(var Y=0;Y<n.length;Y++){var s=I.getItem(n[Y]);if(s!=null)k[n[Y]]=s}}}var C=window.locStor={};C.setItem=function(T,S){k[T]=S;
if(I)I.setItem("_ppp",JSON.stringify(k))};C.getItem=function(T){return k[T]};C.removeItem=function(T){delete k[T];
if(I)I.setItem("_ppp",JSON.stringify(k))}}());var bU={TH:0,b9:null,rT:null,wk:null,zc:null,jk:null,Nc:!0,Ld:0,N8:!1};
bU.event=function(I,k){if(ht!=0)return;if(k!=null&&k<Math.random())return;var a=new XMLHttpRequest;a.open("GET","/papi/event.php?id="+I+"&rnd="+Math.random());
a.send()};bU.Wn=function(I){if(ht!=0)I="//www.photopea.com/"+I;return I};bU.Oa=function(){var I=bU.U8();
if(I==null)return null;var k=$.Vl(24)?" ":"",a=$.EV[$.R8("Uu,"+k)];a=a[$.R8(k+"$/")];var n=bU.mr(1,999);
if(n&&bU.X3(n)*50>a()/20)return[0,n];var s=I.inTeams;if(s)for(var Y=0;Y<s.length;Y++)if(s[Y][1]*50>a()/20)return[1,s[Y]];
return null};bU.za=function(){return bU.aaJ()!=null};bU.Kq=function(){return bU.X3(bU.mr(1e3,999999999))};
bU.X3=function(I){return I==null?0:I[0]+I[1]*24*60*60};bU.mr=function(I,k){var a=bU.U8(),n=a.pmnts,s=0,C=null;
if(n==null||n.length==0)return 0;for(var Y=0;Y<n.length;Y++){var T=n[Y],S=bU.X3(T);if(I<=T[2]&&T[2]<=k)if(s<S){s=S;
C=T}}return C};bU.U8=function(){return bU.jk};bU.Ui=function(I){window.addEventListener("message",bU.a8m,!1);
setInterval(bU.Bg,5e3);if(bU.za()&&navigator.onLine){bU.b9=I;bU.KO()}else setTimeout(I,1)};bU.Bg=function(){if(bU.za()&&bU.N8){bU.jd(bU.i0());
bU.N8=!1}};bU.f8=function(I){bU.b9=I;var k="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
bU.wk=window.open(k,"_blank")};bU.acF=function(){var I=window.locStor;I.removeItem(bU.TH+"_uid");I.removeItem(bU.TH+"_provider");
I.removeItem(bU.TH+"_token");bU.jk=null};bU.a8m=function(I){if(I.data instanceof ArrayBuffer||I.data instanceof Object)return;
if(I.data.charAt(0)!="{")return;var k=JSON.parse(I.data);if(k.prms==null)return;var a=k.prms.split(",");
if(a[0]=="papi_logged_in"){var n=window.locStor;n.setItem(bU.TH+"_uid",a[1]);bU.jE(a[2]);n.setItem(bU.TH+"_provider",a[3]);
bU.wk.close();bU.KO()}if(a[0]=="payment_complete"){bU.zc.close();bU.KO()}};bU.aaJ=function(){var I=window.locStor.getItem(bU.TH+"_token");
if(I!=null&&Date.now()*.001+10<parseInt(I.split("-")[0]))return I;return null};bU.jE=function(I){var k=window.locStor.getItem(bU.TH+"_token");
if(k!=null&&parseInt(I.split("-")[0])<parseInt(k.split("-")[0]))return;window.locStor.setItem(bU.TH+"_token",I);
clearTimeout(bU.Ld);bU.Ld=setTimeout(bU.aDZ,Math.min(1e9,parseInt(I.split("-")[0])*1e3-Date.now()-20*1e3))};
bU.WC=function(I,k,a,n){if(!navigator.onLine)throw"a";var s=new XMLHttpRequest;s.open("POST","https://www.photopea.com/papi/record_new.php",!0);
s.onload=a;var C=bU.wM(0)+"&read=3&tuid="+I+"&tid="+k;if(n)C+="&tpl="+encodeURIComponent(n);s.setRequestHeader("Content-type","application/x-www-form-urlencoded");
s.send(C)};bU.aDZ=function(){if(!navigator.onLine)throw"a";var I=new XMLHttpRequest;I.open("POST","https://www.photopea.com/papi/record_new.php",!0);
I.onload=bU.aB2;var k=bU.wM(0)+"&read=2";I.setRequestHeader("Content-type","application/x-www-form-urlencoded");
I.send(k)};bU.KO=function(){if(!navigator.onLine)throw"b";var I=new XMLHttpRequest;I.open("POST","https://www.photopea.com/papi/record_new.php",!0);
I.onload=bU.afl;var k=bU.wM(0)+"&read=1";I.setRequestHeader("Content-type","application/x-www-form-urlencoded");
I.send(k)};bU.jd=function(I){if(!navigator.onLine)throw"c";var k=new XMLHttpRequest;k.open("POST","https://www.photopea.com/papi/record_new.php",!0);
k.onload=bU.aEc;var a=bU.wM(0)+"&read=0&score="+(I.tpl?1:0)+"&spublic="+bU.Nc+"&record="+encodeURIComponent(JSON.stringify(I));
k.setRequestHeader("Content-type","application/x-www-form-urlencoded");k.send(a)};bU.afl=function(I){var k=JSON.parse(I.target.response);
if(k.error){}else{bU.jk=k.user;var a=bU.i0(),n=k.record;if(k.record){bU.Nc=k.spublic;bU.bQ(n)}else if(a)bU.jd(a)}bU.jE(k.token);
if(bU.b9){bU.b9();bU.b9=null}if(bU.rT){bU.rT();bU.rT=null}};bU.aB2=function(I){var k=JSON.parse(I.target.response);
bU.jE(k.token)};bU.aEc=function(I){var k=JSON.parse(I.target.response);bU.jE(k.token);if(bU.rT)bU.KO()};
bU.wM=function(I){var k=window.locStor;return"app="+I+"&uid="+k.getItem(bU.TH+"_uid")+"&token="+k.getItem(bU.TH+"_token")};
bU.So=function(){return bU.i0()};bU.rO=function(I,k){bU.bQ(I);bU.N8=!0;if(k){bU.rT=k;bU.Bg()}};bU.i0=function(){var I=window.locStor.getItem(bU.TH+"_stateLocal"),k;
if(I==null)return null;try{k=JSON.parse(I)}catch(jL){return null}return k};bU.bQ=function(I){var k=JSON.stringify(I);
window.locStor.setItem(bU.TH+"_stateLocal",k)};bU.order=function(I,k,a){bU.b9=a;var n=window.locStor,s="https://www.photopea.com/papi/order.php?ptype="+k+"&param="+I+"&uid="+n.getItem(bU.TH+"_uid")+"&token="+n.getItem(bU.TH+"_token");
bU.zc=window.open(s,"_blank")};bU.ak3=function(I,k){bU.b9=k;var a=window.locStor,n="https://www.photopea.com/papi/insertKey.php?key="+I+"&uid="+a.getItem(bU.TH+"_uid")+"&token="+a.getItem(bU.TH+"_token");
bU.zc=window.open(n,"_blank")};var dz={};dz.a2h=function(I,k){var a=$.EV[$.R8("%|xK")];if(a==null)return"XYP";
var n=I.toString(16).slice(0,4),s=n+k+"aQYRDCB";return a(s).slice(5,17)+n.split("").reverse().join("")};
dz.Hd=function(){var I=$.EV[$.Iy("3M"+($.Vl(26)?"]K":"fa"))];I=I[$.Iy("]["+(!$.Vl(28)?",":"`"))];return Math.floor(I()/1e3)};
dz.Vl=function(I){var k=0;for(var Y=0;Y<I;Y++)k+=Math.random();return k/I<Math.PI/4};dz.Iy=function(I){var k="";
if(!dz.Vl(28))I+="-3";for(var Y=0;Y<I.length;Y++){var a=I.charCodeAt(Y);if(a<32||126<a)throw"e";k+=String.fromCharCode(32+(a-32+17+3*Y)%95)}return k};
dz.R8=function(I){var k="";if(!dz.Vl(28))I+="-1";for(var Y=0;Y<I.length;Y++){var a=I.charCodeAt(Y);a-=32;
a+=95e4;a-=17+3*Y;a=a%95;k+=String.fromCharCode(32+a)}return k};dz.FS=dz.Iy("XP");dz.qH=dz.Iy("XYP");
dz.Rs=dz.Iy("c[Y");dz.a5Z=dz.Iy("][`");dz.p9=dz.Iy("SU_");dz.lG=dz.Iy("b^L");dz.a6c=dz.Iy("61=");dz.sN=dz.Iy("Q[M_");
dz.Jg=dz.Iy("WQJJ");dz.cS=dz.Iy("W^NL");dz.c9=dz.Iy("[[JJ");dz.a7k=dz.Iy("[[PU");dz.HC=dz.Iy("^\\NT");
dz.awe=dz.Iy("bQUL");dz.Fn=dz.Iy("bQWJ");dz.Xr=dz.Iy("3M]K");dz.a6G=dz.Iy("<M]N");dz.yc=dz.Iy("][WK");
dz.jw=dz.Iy("P_bTF");dz.Od=dz.Iy("RXRIN");dz.$k=dz.Iy("b`bRH");dz.azb=dz.Iy("fUMZK");dz.a81=dz.Iy("Q[]ZRM");
dz.abA=dz.Iy("WQRMKT");dz.a85=dz.Iy("WUMJHN");dz.vF=dz.Iy("XR[GPE");dz.age=dz.Iy("aMWJRM");dz.UI=dz.Iy("bO[OST");
dz.azp=dz.Iy("cM[MHT");dz.a5N=dz.Iy("^Z5OQE");dz.an0=dz.Iy("POLUXNQ");dz.hC=dz.Iy("R[WLLRJ");dz.a9F=dz.Iy("SU\\VOAV");
dz.arx=dz.Iy("XZMK[/C");dz.n5=dz.Iy("aQYRDCB");dz.ly=dz.Iy("[[LGWILH");dz.tL=dz.Iy("S[L[PEKN");dz.a5k=dz.Iy("aQOKURBL");
dz.T$=dz.Iy("aQ\\VRNP?");dz.am_=dz.Iy("XZWKU(1'#");dz.arH=dz.Iy("SQLUGE2, ");dz.aeD=dz.Iy("]M_OJAQII");
dz.a1K=dz.Iy("bQ]:LMBILH");dz.arN=dz.Iy("UU[YW#ECC8");dz.LR=dz.Iy("cQaZ&OKN<BE");dz.pp=dz.Iy("P\\YKQD B@@5");
dz.anH=dz.Iy("aQVUYE B@@5");dz.ajc=dz.Iy("bQ]/QTBLM5=");dz.A_=dz.Iy("bQ]'WTOC9IE3");dz.ajk=dz.Iy("XZ\\KUT~?=CC3");
dz.eg=dz.Iy("R^NGWE\"F<A6<?");dz.aBG=dz.Iy("VQ]+OEJ?EHrGs,");dz.akG=dz.Iy("G95.WTM,<EF3><");dz.a3l=dz.Iy("PZLKVTLL&F:5468");
dz.RF=dz.Iy("PPM+YEKN#=DB06*4");dz.abW=dz.Iy("SQLUGE2, v@;;73'-0");function as(I){this.S5={};this.J8=0;
this.bD();if(I!=!0)window.__kb=this}as.q6=null;as.prototype.bD=function(){var I=navigator.keyboard;if(I&&window.top==window.self)I.getLayoutMap().then(function(k){as.q6=k})};
as.prototype.a7S=function(I){var k={shiftKey:as.bJ,altKey:as.dE,ctrlKey:as.nU};for(var a in k){var n=I[a],s=k[a],C=this.W(s);
if(!n&&C){for(var Y=0;Y<s.ZB.length;Y++)this.R1(s.ZB[Y])}}};as.prototype.eP=function(I){this.J8++;this.S5[I]=!0};
as.prototype.R1=function(I){this.J8--;delete this.S5[I];if(this.J8<=0||as.rM(I,as.a8Z))this.reset()};
as.prototype.W=function(I){for(var Y=0;Y<I.ZB.length;Y++)if(this.S5[I.ZB[Y]])return!0;return!1};as.prototype.reset=function(){this.S5={};
this.J8=0};as.prototype.m4=function(I){var k=this,a=k.W(as.bJ)?10:1,n=0,s=0;if(k.W(as.C8))n=-a;else if(k.W(as.K0))n=a;
else if(k.W(as.yo))s=-a;else if(k.W(as.Sx))s=a;var C=new kK(n,s);if(I!=null){var T=new dc;T.rotate(I);
C=T.yt(C);if(Math.abs(C.x)<Math.abs(C.y))C.x=0;else C.y=0;C.x=Math.round(C.x);C.y=Math.round(C.y)}return C};
as.prototype.Sj=function(){var I=this,k=as.J0;for(var Y=0;Y<10;Y++)if(I.W(k[Y]))return Y;return-1};as.rM=function(I,k){return k.ZB.indexOf(I)!=-1};
as.WQ=function(){return navigator.userAgent.toLowerCase().indexOf("mac")!=-1};as.a6d="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
if(as.WQ())as.a6d.push("ControlLeft","ControlRight");as.a0L=function(I){var k=I.code;if(k=="")return!1;
var a=as.rM;if(I.altKey&&!I.shiftKey&&!I.ctrlKey){var n=as.J0.concat([as.AC,as.q0,as.CQ,as.Zi]),s=!1;
for(var Y=0;Y<n.length;Y++)if(a(k,n[Y]))return!1}return as.a6d.indexOf(k)==-1||I.shiftKey&&(k=="F5"||k=="F6")};
as.akX=function(I){var k=as;if(I.ctrlKey&&(k.rM(I.code,k.AC)||k.rM(I.code,k.q0)))I.preventDefault()};
as.WV=function(I){I.addEventListener("keydown",as.akX,!1)};as.cq=function(I){if(typeof I=="string")return I;
var k=navigator.platform.toUpperCase().indexOf("MAC")>=0;if(I==null)return"";var a=[];for(var Y=0;Y<I.length;
Y++){var n=I[Y].vo?I[Y].vo:I[Y];if(k&&I[Y].Aq)n=I[Y].Aq;a.push(n)}if(k||a.length==1)return a.join(" + ");
else{var s=a.pop();return a.join("+")+" + "+s}};as.aol=function(I){window.__kb.bD();var k=I.code,a=as.q6;
if(a&&a.get(k)){var n={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},s=a.get(k).toLowerCase(),C=s.charCodeAt(0);
if(97<=C&&C<=122){var T="Key"+s.toUpperCase();k=T}else if(n[s])k=n[s];return k}var n={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},s=I.key.toLowerCase(),C=s.charCodeAt(0);
if(s.length==1){if(97<=C&&C<=122){var T="Key"+s.toUpperCase();k=T}else if(n[s])k=n[s]}if(s=="control"&&k!="")k="ControlLeft";
return k};as.acI=0;as.axp=function(I,k){var a=0;if(Date.now()-as.acI>1e3){a=k==0?100:k*10}else{if(I%10!=0)I*=10;
a=(I+k)%100}as.acI=Date.now();return a};as.anr={nm:"No Touch",ZB:["NoTouch"]};as.da={vo:"Enter",ZB:["Enter","NumpadEnter"]};
as.bJ={vo:"Shift",Aq:"\u21E7",ZB:["ShiftLeft","ShiftRight"]};as.a8Z={vo:"Meta",ZB:["MetaLeft","MetaRight","OSLeft","OSRight"]};
as.nU={vo:"Ctrl",Aq:"\u2318",ZB:as.WQ()?["MetaLeft","MetaRight","OSLeft","OSRight"]:["ControlLeft","ControlRight"]};
as.dE={vo:"Alt",Aq:"\u2325",ZB:["AltLeft","AltRight"]};as.a9w={vo:"CtrlOrAlt",ZB:as.nU.ZB.concat(as.dE.ZB)};
as._a={vo:"Escape",ZB:["Escape"]};as.lO={vo:"Space",ZB:["Space"]};as.mK={vo:"Tab",ZB:["Tab"]};as.qC={vo:"Home",ZB:["Home"]};
as.azK={vo:"End",ZB:["End"]};as.C8={vo:"Left",ZB:["ArrowLeft"]};as.yo={vo:"Up",ZB:["ArrowUp"]};as.K0={vo:"Right",ZB:["ArrowRight"]};
as.Sx={vo:"Down",ZB:["ArrowDown"]};as.AC={vo:"+",ZB:["NumpadAdd","Equal"]};as.q0={vo:"-",ZB:["NumpadSubtract","Minus"]};
as.db={vo:";",ZB:["Semicolon"]};as.aeN={vo:"Dead",ZB:["Dead"]};as.a5r={vo:"=",ZB:["Equal"]};as.QE={vo:"Backspace",ZB:["Backspace"]};
as.Zf={vo:"Delete",ZB:["Delete"]};as.agL={vo:"Backslash",ZB:["Backslash","IntlBackslash"]};as.apj={vo:"Slash",ZB:["NumpadDivide","Slash"]};
as.aaY={vo:"Backquote",ZB:["Backquote"]};as.CQ={vo:"[",ZB:["BracketLeft"]};as.Zi={vo:"]",ZB:["BracketRight"]};
as.nB={vo:".",ZB:["Period"]};as.Cy={vo:",",ZB:["Comma"]};as.tP={vo:"'",ZB:["Quote"]};as.p={vo:"A",ZB:["KeyA"]};
as.eW={vo:"B",ZB:["KeyB"]};as.E5={vo:"C",ZB:["KeyC"]};as.hW={vo:"D",ZB:["KeyD"]};as.E={vo:"E",ZB:["KeyE"]};
as.v6={vo:"F",ZB:["KeyF"]};as.Rt={vo:"G",ZB:["KeyG"]};as.y2={vo:"H",ZB:["KeyH"]};as.rx={vo:"I",ZB:["KeyI"]};
as.qp={vo:"J",ZB:["KeyJ"]};as.RA={vo:"K",ZB:["KeyK"]};as.eI={vo:"L",ZB:["KeyL"]};as.U$={vo:"M",ZB:["KeyM"]};
as.kO={vo:"N",ZB:["KeyN"]};as.TJ={vo:"O",ZB:["KeyO"]};as.NL={vo:"P",ZB:["KeyP"]};as.axf={vo:"Q",ZB:["KeyQ"]};
as.Hg={vo:"R",ZB:["KeyR"]};as.Z7={vo:"S",ZB:["KeyS"]};as.qj={vo:"T",ZB:["KeyT"]};as.Qt={vo:"U",ZB:["KeyU"]};
as.xb={vo:"V",ZB:["KeyV"]};as.aBi={vo:"W",ZB:["KeyW"]};as.E2={vo:"X",ZB:["KeyX"]};as.fc={vo:"Y",ZB:["KeyY"]};
as.AB={vo:"Z",ZB:["KeyZ"]};as.Vz={vo:"0",ZB:["Numpad0","Digit0"]};as.m9={vo:"1",ZB:["Numpad1","Digit1"]};
as.aio={vo:"2",ZB:["Numpad2","Digit2"]};as.am8={vo:"3",ZB:["Numpad3","Digit3"]};as.at_={vo:"4",ZB:["Numpad4","Digit4"]};
as.alL={vo:"5",ZB:["Numpad5","Digit5"]};as.aaP={vo:"6",ZB:["Numpad6","Digit6"]};as.On={vo:"7",ZB:["Numpad7","Digit7"]};
as.a65={vo:"8",ZB:["Numpad8","Digit8"]};as.aDU={vo:"9",ZB:["Numpad9","Digit9"]};as.J0=[as.Vz,as.m9,as.aio,as.am8,as.at_,as.alL,as.aaP,as.On,as.a65,as.aDU];
as.amJ={vo:"F1",ZB:["F1"]};as.a2b={vo:"F2",ZB:["F2"]};as.a1m={vo:"F3",ZB:["F3"]};as.an_={vo:"FF",ZB:["F4"]};
as.ayc={vo:"F5",ZB:["F5"]};as.au8={vo:"F6",ZB:["F6"]};as.aqY={vo:"F7",ZB:["F7"]};as.aCt={vo:"F8",ZB:["F8"]};
as.adJ={vo:"F9",ZB:["F9"]};as.acP={vo:"F10",ZB:["F10"]};as.asi={vo:"F11",ZB:["F11"]};as.adf={vo:"F12",ZB:["F12"]};
function jL(I){this.CT={};this.sX={};this.avk=0;this.a7J={};this.jm=[];this.aEl=0;this.c9=I;jL.$e=this}jL.avf=function(I,k){var Y=0,a=jL.r0;
while(Y<a.length){if((k>>>Y&1)==1)break;Y++}if(Y!=0&&jL.SP(I,[33,126])>.7)Y=0;if(k==0||a[Y][1]==""){if((k&15)!=0&&jL.SP(I,[33,126])>.7)Y=0;
else if(k==0)Y=0;else{Y=0}}return a[Y][1]};jL.P3=120;jL.yB=20;jL.cols=16;jL.Oq=function(I){var k=I.name.postScriptName;
if(k==null)return null;return k.replace(/ /g,"-")};jL.aeT=function(I){var k=I.name,a=k.typoFamilyName,n=k.typoSubfamilyName,s=a&n,C=s?a:k.fontFamily,T=s?n:k.fontSubfamily;
if(T==null)T="Regular";var S=jL.anD,D=C.toLowerCase();for(var Y=0;Y<S.length;Y++){if(S[Y]=="roman")continue;
if(D.endsWith(" "+S[Y])||D.endsWith("-"+S[Y])){var o=C.length-S[Y].length,v=C.slice(o);C=C.slice(0,o-1);
if(v!=""){if(T=="Regular"||T==C+" Regular")T=v;else T=v+" "+T}break}}var g="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,Noto Sans Cond,Noto Sans ExtCond,Noto Sans SemCond,Noto Serif Cond,Noto Serif ExtCond,Noto Serif SemCond,Office Code Pro,Mathlete,Mochiy Pop,Dehuti,Cicle,Chivo,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,Qomolangma,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway,Saira Condensed,Saira ExtraCondensed,Saira SemiCondensed".split(",");
for(var Y=0;Y<g.length;Y++)if(C.startsWith(g[Y])){var v=C.slice(g[Y].length);C=g[Y];if(v.startsWith(" ")||v.startsWith("-"))v=v.slice(1);
if(v!=""){if(T=="Regular")T=v;else T=v+" "+T}break}var d={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},R=d[jL.Oq(I)];
if(R)T=R;return[C,T]};jL.prototype.adp=function(I){var k=this.tH();for(var a in k)if(k[a][0]==I)this.B3(a)};
jL.prototype.a7i=function(){return Object.keys(this.sX).length!=0};jL.prototype.B3=function(I,k){if(this.CT[I])return this.CT[I];
if(this.sX[I])return null;var a=null,n=this.tH();if(n[I]!=null)a=n[I][5];if(a==null){var s=jL.n5[I];
if(s==null){var C="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),T=I.toLowerCase(),S=0;
if(T.indexOf("sans")!=-1)S=0;else if(T.indexOf("serif")!=-1)S=4;var D=T.indexOf("bold")!=-1||T.indexOf("-black")!=-1,o=T.indexOf("italic")!=-1||T.indexOf("oblique")!=-1||T.endsWith("-it");
if(D&&o)S+=3;else if(o)S+=2;else if(D)S+=1;s=C[S]}if(k!=null&&k>128)s=this.al1(k,s);if(this.a7J[I]==null){this.a7J[I]=1;
var v=Date.now()-this.avk>2e3?2e3:0;this.avk=Date.now();alert(I+" \u27A1 "+s,v)}return this.B3(s,k)}this.sX[I]="a";
if(a=="--loc")jL.x3.load(I);else this.c9(a)};jL.prototype.al1=function(I,k,a){var n=this.CT[k];if(n&&Typr.U.codeToGlyph(n,I)!=0)return k;
var s=this.tH(),C=jL.aF1(I),T=C[0];if(s[k]&&(s[k][3]&T)==0){if(a)for(var Y=0;Y<a.length;Y++){var S=a[Y].Name,D=s[S];
if(D&&(D[3]&T)!=0)return S}var S=jL.r0[C[1]][4];if(s[S])return S}return k};jL.aF1=function(I){var k=jL.r0,a=[0];
for(var Y=0;Y<k.length;Y++){var n=k[Y][2];for(var s=0;s<n.length;s+=2)if(n[s]<=I&&I<=n[s+1]){a[0]+=1<<Y;
a.push(Y)}}if(a.length==1)a.push(0);return a};jL.prototype.ayx=function(){var I=this.jm,k=I[0],a=I.length-1;
alert(hJ.get([22,6,0])+" "+k+(a==0?"":", ... ("+a+")")+" "+hJ.get([23,0])+".",1500);this.jm=[]};jL.prototype.ahm=function(I,k){if(k!=!0){this.jm.push(I.name.fullName);
clearTimeout(this.aEl);this.aEl=setTimeout(this.ayx.bind(this),300)}var a=jL.Oq(I),n=this.tH(),s=n[a],C=jL.ajV(I);
if(s==null){C.FK=jL.a49(I,C);this.xB(C)}delete this.sX[a];this.CT[a]=I};jL.apT=function(){var I=jL.r0,k=[];
for(var Y=0;Y<I.length;Y++)k.push(I[Y][0]);return k};jL.a49=function(I,k){var a=document.createElement("canvas"),n=a.getContext("2d"),s=a.width=jL.P3,C=a.height=jL.yB,T=jL.yB*1.2/I.head.unitsPerEm;
n.translate(4,jL.yB*.9);n.scale(T,-T);n.fillStyle="#000000";var S=Typr.U.shape(I,jL.avf(I,k[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(I,S),n);n.fill();var D=n.getImageData(0,0,s,C).data.buffer,o=kk.wV("PNG").G0([[D,0]],s,C,[1]);
return"data:image/png;base64,"+kk.Tk(o)};jL.r0=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","Ελληνικά",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","Привет",[1040,1119],.7,"DejaVuSans"],["Hebrew","עברית",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","اَلْعَرَبِيَّةُ",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","예고편",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","預習",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","ཐུགས\u0F0Bརྗེ\u0F0Bཆེ\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","पूर्वावलोकन",[2304,2431],.7,"Hind-Regular"],["Malayalam","മലയാളം",[3328,3455],.5,"Hind-Regular"],["Thai","ภาพตัวอย่าง",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","មើលជាមុន",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem trước",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Bengali","স্বাধীনভাবে",[2432,2559],.2,"FreeSans"],["Geʽez","ግዕዝ",[4608,4991],.4,"FreeSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
jL.ajV=function(I,k,a){var n=I.name,D=0;if(jL.Oq(I)==null){console.log(I);throw"No postScriptName!"}var s=jL.r0,C=[];
for(var Y=0;Y<s.length;Y++){var T=s[Y][2],S=s[Y][3];C[Y]=jL.SP(I,T)>S?1:0}for(var Y=0;Y<C.length;Y++)D+=C[Y]<<Y;
var o=jL.aeT(I);return[o[0],o[1],jL.Oq(I),D,a,k]};jL.SP=function(I,k){var a=0,n=0;for(var s=0;s<k.length;
s+=2){for(var C=k[s];C<=k[s+1];C++){var T=Typr.U.codeToGlyph(I,C);if(T==0)n++;else a++}}return a/(a+n)};
jL.azy=function(I,k){if(I[2]<k[2])return-1;if(I[2]>k[2])return 1;return 0};jL.aA8=function(I,k){if(I[5]=="fs/"+I[2]+".otf")I[5]="";
else if(I[5]=="gf/"+I[2]+".otf")I[5]="a";if(I[2]==(I[0]+"-"+I[1]).replace(/\s/g,"")){I[2]=""}else if(I[2]==I[0].replace(/\s/g,"")){I[2]="a"}if(k){if(I[0]==k[0])I[0]="";
if(I[1]==k[1])I[1]="";if(I[3]==k[3])I[3]="";if(I[4]==k[4])I[4]=""}return I.join(",")};jL.auN=function(I,k){I=I.split(",");
if(I[0]=="")I[0]=k[0];if(I[1]=="")I[1]=k[1];if(I[3]=="")I[3]=k[3];else I[3]=parseInt(I[3]);if(I[4]=="")I[4]=k[4];
else I[4]=parseInt(I[4]);if(I[2]=="")I[2]=(I[0]+"-"+I[1]).replace(/\s/g,"");else if(I[2]=="a")I[2]=I[0].replace(/\s/g,"");
if(I[5]=="")I[5]="fs/"+I[2]+".otf";else if(I[5]=="a")I[5]="gf/"+I[2]+".otf";return I};jL.n5={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"CourierPrime","CourierNewPS-BoldMT":"CourierPrime-Bold","CourierNewPS-ItalicMT":"CourierPrime-Italic","CourierNewPS-BoldItalicMT":"CourierPrime-BoldItalic",Courier:"CourierPrime","Courier-Bold":"CourierPrime-Bold",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold",Helvetica:"LiberationSans","Helvetica-Bold":"LiberationSans-Bold","Helvetica-Oblique":"LiberationSans-Italic","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","BasisGrotesque-Regular":"Roboto-Regular","BasisGrotesque-Medium":"Roboto-Medium","BasisGrotesque-Bold":"Roboto-Bold",ElementaPro:"FreeMono","ElementaPro-Bold":"FreeMonoBold","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"Roboto-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-Black":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold","MyriadPro-SemiboldCond":"PTSans-NarrowBold","MyriadPro-BoldCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL","MinionPro-Regular":"CrimsonText-Regular","LyonDisplay-Medium":"Buenard-Regular","LyonText-Regular":"Buenard-Regular","LyonDisplay-Black":"Buenard-Bold","LyonText-Bold":"Buenard-Bold","Interstate-Light":"Overpass-Light","Interstate-Regular":"Overpass-Regular","Interstate-Bold":"Overpass-Bold","Interstate-BlackCondensed":"Overpass-Black",BullettoKilla:"Lobster-Regular","Junegull-Regular":"RoundedMplus1c-Black",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
jL.prototype.tH=function(){if(FNTS.map==null){var I=FNTS.list,k=[];for(var Y=0;Y<I.length;Y++){k[Y]=jL.auN(I[Y],k[Y-1]);
k[Y].Gq=Y;this.xB(k[Y])}}return FNTS.map};jL.prototype.xB=function(I){var k=I[0],a=I[1],n=I[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[I[2]]=I;if(FNTS.mapFS==null)FNTS.mapFS={};var s=FNTS.mapFS[k+"---"+a];FNTS.mapFS[k+"---"+a]=I;
if(FNTS.mapSub==null)FNTS.mapSub={};var C=FNTS.mapSub[k];if(C==null)C=FNTS.mapSub[k]=[];var T=C.indexOf(a);
if(T==-1)C.push(a);else C[T]=a};jL.afE=function(I,k){return jL.U4(I)-jL.U4(k)};jL.U4=function(I){I=I.toLowerCase();
var k=jL.av1(I)+(jL.aA6(I)<<1);if(I.indexOf("cond")==-1)k+=1<<25;return k};jL.av1=function(I){return I.indexOf("italic")!=-1||I.indexOf("oblique")!=-1?1:0};
jL.anD="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
jL.awV=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold","smbold"],"bold",["extrabold","exbold"],"heavy","ultra","black","x black"];
jL.aA6=function(I){var k=jL.awV,a=-1,n=-1;for(var Y=0;Y<k.length;Y++){var s=k[Y];if(s instanceof Array)for(var C=0;
C<s.length;C++){var T=s[C];if(I.indexOf(T)!=-1&&(a==-1||n<T.length)){a=Y;n=T.length}}else if(I.indexOf(s)!=-1&&(a==-1||n<s.length)){a=Y;
n=s.length}}if(a==-1)a=8;return a};jL.Ng=function(I,k){var a=1e9,n=null,s=jL.U4(k);for(var Y=0;Y<I.length;
Y++){var C=Math.abs(jL.U4(I[Y])-s);if(C<a){a=C;n=I[Y]}}return n};jL.prototype.XX=function(I,k){this.tH();
return FNTS.mapFS[I+"---"+k]};jL.prototype.Kl=function(I){this.tH();return FNTS.mapSub[I]};jL.prototype.ahI=function(){this.tH();
return FNTS.mapSub};jL.x3={TW:null,k3:null};jL.x3.Ui=function(I){jL.x3.k3=I;var k=window.locStor.getItem("localFonts");
if(k){k=kk.gu(k);k=pako.inflate(new Uint8Array(k));k=jL.x3.TW=JSON.parse(u.Im(k));jL.x3.Wm()}};jL.x3.load=function(I){var k=window.queryLocalFonts,a=jL.x3.TW.toPSN,n;
for(var bQ in a)if(a[bQ].indexOf(I)!=-1)n=bQ;k({postscriptNames:[n]}).then(jL.x3.aeY)};jL.x3.Wm=function(){var I=jL.$e,k=jL.x3.TW,a=k.imap,n=I.tH();
for(var s in a){if(n[s])continue;var C=a[s].slice(0);C.FK=k.tmap[s];I.xB(C)}};jL.x3.XK=function(){var I=jL.x3.TW,k=pako.deflate(u.ba(JSON.stringify(I))),a=kk.Tk(k.buffer);
console.log(a.length);window.locStor.setItem("localFonts",a)};jL.x3.D6=function(){var I=jL.x3.TW;return I!=null&&I.added};
jL.x3.wl=function(I,k,a){var n=jL.x3.TW;if(n){n.added=!n.added;jL.x3.XK();jL.x3.Wm();return}var s=window.queryLocalFonts;
if(s==null){alert("This feature is not available in your web browser :(");a();return}s().then(jL.x3.aeY.bind({aCc:k,amP:a}))};
jL.x3.aeY=async function(I){if(I.length==0){alert("You didn't allow us to access your fonts.");this.amP();
return}if(I.length==1){var k=await I[0].blob();k=await k.arrayBuffer();gM.Td({name:"file.otf"},k,jL.x3.k3);
return}var a=new d2(M.E.b,!0),C=!1;a.data={q:M.p.bm,cJ:"Loading local fonts ..."};jL.x3.k3.a(a);var n=Date.now(),s=jL.x3.TW;
if(s==null)s=jL.x3.TW={toPSN:{},imap:{},tmap:{},added:!0};var T={};for(var Y=0;Y<I.length;Y++){var S=I[Y],D=S.postscriptName;
T[D]=!0;if(s.toPSN[D])continue;var k=await S.blob();k=await k.arrayBuffer();if(kk.V1(k)!="otf")continue;
var o=Typr.parse(k),v=[];for(var g=0;g<o.length;g++){var d=o[g],R=jL.Oq(d);v.push(R);if(s.imap[R])continue;
var c=s.imap[R]=jL.ajV(d,"--loc",0);s.tmap[R]=jL.a49(d,c)}s.toPSN[D]=v;C=!0}for(var D in s.toPSN)if(T[D]==null){var e=s.toPSN[D];
delete s.toPSN[D];for(var Y=0;Y<e.length;Y++){delete s.imap[e[Y]];delete s.tmap[e[Y]]}C=!0}if(C){console.log(Date.now()-n);
jL.x3.XK();jL.x3.Wm();this.aCc()}else console.log("no change");var a=new d2(M.E.b,!0);a.data={q:M.p.ki,cJ:"Loading local fonts ..."};
jL.x3.k3.a(a);alert("Local fonts loaded!")};var hJ={};hJ.rX=0;hJ.Vg={};hJ.a2V=function(I){var k=LNG.tables,a=k[I];
if(a==null)a=k[0];if(typeof a=="string"){a=k[I]=hJ.qS(a)}return a};hJ.qS=function(I){var k=[],a=0,n=0,s=[],C=I.length;
while(n!=C){var T=I[n];if(T=="["){k.push(s);s=[];n=a=n+1}else if(T=="]"){s.push(a==n?null:I.substring(a,n));
var S=s;s=k.pop();s.push(S);n=a=n+1}else if(T==";"){if(I[n-1]!="]")s.push(a==n?null:I.substring(a,n));
n=a=n+1}else n++}return s};hJ.get=function(I){if(typeof I=="string")return I;var k=typeof I[0];if(k=="number"){for(var Y=1;
Y<I.length;Y++)if(typeof I[Y]!="number"){console.log(I);throw"e"}return hJ.so(I)}var a=hJ.get(I[0]);
for(var Y=1;Y<I.length;Y++){var n=hJ.get(I[Y]),s=a.indexOf("VAR"+(Y-1));a=a.slice(0,s)+n+a.slice(s+4)}return a};
hJ.so=function(I){var k=JSON.stringify(I);if(hJ.Vg[k]!=null)return hJ.Vg[k];var a=hJ.a2V(0),n=hJ.a2V(hJ.rX),s=hJ.aDo(I,n);
if(s==null)s=hJ.aDo(I,a);return s};hJ.aDo=function(I,k){for(var Y=0;Y<I.length;Y++){k=k[I[Y]];if(k==null)return null;
else if(typeof k=="string")break}if(k instanceof Array)k=k[0];return k.split("::")[0]};hJ.aaK=function(){var I=navigator.languages;
for(var Y=0;Y<I.length;Y++)if(I[Y]=="zh-HK"||I[Y]=="zh-TW"||I[Y]=="zh-MO")I[Y]="zh-CHT";return I};hJ.ajj=function(){var I=hJ.aaK(),k=function(n,s){var C=n.code,T=s.code;
if(C=="en")return-1;if(T=="en")return 1;var S=I.indexOf(C)!=-1,D=I.indexOf(T)!=-1;if(S&&D)return C>T?1:-1;
if(S)return-1;if(D)return 1;return C>T?1:-1},a=LNG.langs.slice(0);a.sort(k);return a};hJ.a56=function(I,k){hJ.rX=I;
if(LNG.tables[I])k();else{var a=new XMLHttpRequest;a.open("GET",bU.Wn("code/lang/"+I+".js"));a.onreadystatechange=function(){LNG.tables[I]=a.responseText;
k()};a.send()}};hJ.aeI=function(I,k){for(var a=0;a<2;a++){var n=!1;for(var Y=0;Y<LNG.langs.length;Y++)if(LNG.langs[Y].code==I){hJ.a56(Y,k);
n=!0}if(n)break;I=I.split("-")[0]}};hJ.au2=function(){return LNG.langs[hJ.rX].code};hJ.awn=function(I){for(var Y=0;
Y<I.length;Y+=2)if(I[Y+1].indexOf(">")==-1)hJ.Vg[JSON.stringify(I[Y])]=I[Y+1]};hJ.ag4=function(I){var k=-1,a=LNG.langs;
for(var Y=0;Y<a.length;Y++)if(a[Y].code==I)k=Y;return k};var gP={Zm:!1,zN:!1,aqe:!1,dx:null};gP.hS=function(){return $.EV[dz.Rs]!=$.EV[dz.awe]};
gP.mf=function(){var I=$.EV[dz.tL],k=I[dz.sN],a=0,n=dz.A_,s=$.Iy("PP\\KQSB"),C=$.Iy("Y_5UDDB>idge"),T=I[dz.eg](dz.p9);
T[n](dz.FS,s);T[n](dz.$k,$.Iy("fUMZKyqifDIhJ0*+&$-OG?<y~>"));k[dz.pp](T);T=I[dz.aBG](s);if(T==null){a=2}else{if(!k[$.Iy("R[WZDIKM")](T)){a=3}else if(Math.round(T[$.Iy("VQ](RUK>@B8p71*03m}x'")]()[dz.azb]-500)>5){a=4}k[dz.anH](T)}if(gP.zN)a=5;
if(gP.aqe)a=6;return a};gP.abD=function(I){var k=$.R8("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),a={method:"HEAD",mode:"no-cors"},n=new Request(k,a);
fetch(n).then(function(s){return s}).then(function(s){var C=$.R8("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),n=new Request(C);
fetch(n).then(function(s){s.text().then(function(T){gP.zN=T.length<2200;I(T.length<2200)})}).catch(function(T){gP.zN=!0;
console.clear();I(!0)})}).catch(function(s){gP.zN=!0;console.clear();I(!0)})};gP.anv=function(){var I=$.Iy("UU[YW#ECC8"),k=$.Iy("VQ](RUK>@B8p71*03m}x'"),a=$.Iy("WQRMKT"),n=this.asD[I][k]();
if(n[a]<4){gP.aqe=!0;this.agk(!0)}};gP.af$=function(){var I=$.EV._cwY,k=$.EV[dz.a1K],a="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEc&1~)3&{lssdidf\\qPP\\qbRBFF55Mz046.,}v@",n=String.fromCharCode(32);
I($.Iy(a)+n+n+gP.mf());if(!bU.Oa())k(gP.af$,Math.round(Math.PI*1e4))};gP.ajx=function(I){var k=$.EV[dz.tL],a=k[dz.eg](I[0]);
for(var n in I[1]){if(n=="txt")a[dz.LR]=I[1][n];else a[dz.A_](n,I[1][n])}return a};gP.akC=function(I,k,a,n){$.GD(a);
var s=$.EV[dz.tL],C=$.R8(" u.$%\"86<"),T=$.R8("!#c$,&"),S=$.EV[C][T],D=$.EV[$.R8(" u.$%\"86<")][$.R8("}u&\"3\"+,")].slice(0,2)=="ru"&&Math.random()<.5;
if(!gP.hS()&&!gP.mf()&&S&&I*k>300*300&&!D){var o=s[$.Iy("VQ]+OEJ?EHDoD{&)l|&z")](dz.Jg)[0],v=JSON.parse($.R8("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var Y=0;Y<v.length;Y++){var g=gP.ajx(v[v.length-1-Y]);o[dz.ajk](g,o[dz.adg])}var d=$.R8("p}&$2a(:"),R=$.R8("'#!}i0%+"),c=$.R8("ps,}$\"40"),e=$.EV.__cbu=gP.ajx(JSON.parse(dz.Iy("JmMOYahUX=5OdI:0(~($&tz}3fok``[rkH")));
a[dz.pp](e);$.EV.___ggo=function(){$.EV[c](dz.RF,2,function(U,K){if(K&&U[R]==!0){$.EV.__csrf=null;if(!$.EV[d]){$.EV[d]=!0;
var _=gP.aBr.bind({cQ:a,head:o,L4:k});_()}}else{$.EV.__csrf=!0}})}}else{var O=gP.a1N.bind({asD:a,aD1:n,L4:k});
O();setInterval(O,3e4)}};gP.g4="loGHOLE074^CF8P@NQu[\\Xu#{fmj5y|n*~|!L23/L+\\/fe^IPMwcPd#hie#0)szwB.z/~:/-1\\BC?\\ibL[^]c-%(unwy}9pvCm4JP.Al}=gvZg`cpilK|O'(.,%ovs>y#,J\"11)1/4HFLVmMVPmzs^eb-hqz9p  w }#75;E.IbBKEbohx{SbbZb`eyw}(?}.{,,Q5/AQ^WZg`cBsF}~%#{fmj5py#Ax(*-'(<4=?aAJDangRYV!\\en-dsuxrs( )+~:S3<6S`YilDSUXRSg_hj-k{iyy?#|/?LEHUNQ0a4klrpiT[X#^[j/gow{w($-ML,5/LYR=DAkGPYwPX`d`plu6f\";z$};HAQT-5=A=MIRrqP`N^^$gas$1*-:36tFxPQWUN9@=gCLUsTZcUf`^br1pys1>7\")&P,5>\\=CL>OIGK[Kf _hb -&69%(+D&,5'8204Db;JKbohkxqtS%W/074-w~{F\"+4R49<>FJ>NRoOXRo|u`gd/js|;|\"%'/3'7;*E^>GA^kdtwY^ackocsw5s$q\"\"G+%7GTMP]VY8i<st{xq\\c`+fox7 w .%*,48,<@]=F@]jcNUR|Xaj)qiq v{}&*}.2!<U5>8Ub[knWOWe\\ackocsw5s$q\"\"G+%7GTMP]VY8;";
gP.g4=gP.g4.slice(0,2);gP.a1N=function(){var I=$.EV[dz.tL],k=this.asD,a=this.aD1,n=gP.dx,s=this.L4;$.GD(k);
var C=$.EV[$.R8(" u.$%\"86<")][$.R8("}u&\"3\"+,")].slice(0,2)=="ru"&&Math.random()<1.25,T=n==1?1:gP.akS(s),S=JSON.parse(dz.R8(gP.g4)),D=I[dz.eg]("a");
D.textContent=dz.Iy("0PhHOO@E@B8M/-9'\"0}y");D[dz.A_](dz.cS,dz.Iy("}z`]ZmMBFH@>0)R%.)G*($ 8ggs*ce!aVZ\\TRD=e:B\\;9;P8--#A)vl|2vn)]e\""));
D[dz.A_](dz.azp,dz.R8("pv${,,"));D[dz.A_](dz.$k,dz.Iy("R[UUUyTB@H6h"));if(!C)k[dz.pp](D);for(var Y=0;
Y<T;Y++){var o=Math.random(),v=0,g=0;while(v+S[g][0]<o){v+=S[g][0];g++}if(C)g=1;var d=S[g],R=I[dz.eg](dz.qH);
R[dz.A_](dz.$k,dz.Iy("Ra[YRRvJF=?B0:_")+dz.Iy(n==1?"fUMZKymofDIh3-.)'0RKB?|\"A":"fUMZKyoifDIh3-.)'0RGG?|\"A"));
R[dz.A_](dz.lG,d[n]);if(d.length>3){var c=d[3]+d[3+n],D=I[dz.eg]("a");D[dz.A_](dz.cS,c);D[dz.A_](dz.azp,dz.R8("pv${,,"));
D[dz.pp](R);k[dz.pp](D)}else{R[dz.RF](dz.Od,a,!1);k[dz.pp](R)}}};gP.akS=function(I){var k=2;if(I>=3*270+30)k=3;
if(I>=4*270+30)k=4;return k};gP.aoa=function(I,k){var a=k;k-=30;var n=[];if(I==0)n.push(9);if(I==1){n.push(1);
k-=600+10;if(k-250>0){n.push(0);k-=250}}if(I==2){if(k-260>0){n.push(2);k-=260}if(k-260>0){n.push(3);
k-=260}if(k-260>0){n.push(4);k-=260}if(k-260>0){n.push(5);k-=260}if(k-260>0){n.push(6);k-=260}if(k-110>0){n.push(7);
k-=110}if(k-60>0){n.push(8);k-=60}}return n};gP.aBr=function(){var I=dz.pp,k=dz.A_,a=dz.RF,n=dz.n5,s=dz.$k,C=dz.lG,T=$.Iy("P_bTF"),S=dz.LR,D=dz.vF,o=$.EV[dz.tL],v=dz.eg,g=dz.UI,d=this.cQ,R=gP.dx,c=this.head,e=this.L4,O=$.R8("~u*\"'/P)9ADBCrlnR]"),U=$.EV.__cbu,Z=0;
if(U&&R==0)U[dz.A_](dz.$k,"position:absolute; left:124px; bottom:2px");var K=[1/11,10/11],_=Math.random();
while(K[Z]<_&&Z<K.length-1){_-=K[Z];Z++}var H=new URLSearchParams(window.location.search),G=H.get("adsfrom");
if(G!=null)Z=parseFloat(G);if(Z!=0&&Z!=1)Z=0;var N=gP.aoa(R,e);if(Z==0){console.log(0);if(!gP.Zm){gP.Zm=!0;
for(var Y=0;Y<2;Y++){var z=o[dz.eg](dz.UI),L=["y),+1ZRU=23HH>LTDFL^{X\"[irboklxxu!F*$6S<,5_>JhDPWsS_","y),+1ZRU=A@7c<HNWIv^ORg&-09:"][Y];
z[dz.A_](dz.lG,dz.R8(L));z[dz.A_](dz.jw,"");c[dz.pp](z)}var p=JSON.parse(dz.R8("lo9\"-0+3/A1:c=AEKSM>Z`h~!,17=;@ECMQGPRZY]eieippnSNX`^bZY)apqf;?@,HMLFNE$'_cdclqpArE} #\"*,/_1c<@A@PJzL~W[\\[he69jakXS]ecg_^_fuvk@DE1MRQKPX/58*?OVLINs_S}3|*#kvyt|x+z$M'+/5=7(DJRhjuz!'%*/-7;1:<DCGOSOSZZX=8BJHLDCrKZ[P%-*u63608/mpIQNMZWZ+\\/gklkxuxInqtwz}!$'*j<3=*%/7591018GH=qyvb# #|x{(0floav'.$!&K7+UjTaZCNQLTPbR[%^bfltn_{\"*@BMRX^\\afdnrhqs{z~'+'+220toy\" ${zJ#23(^^aMiomgofEH##&%.42b4f@FDCLRP!R%__bajkn?Bsjta\\fnlphgho~ tKKN:V\\ZTPS_g>DG9N^e[X]#nb-B,92z&)$,(:*3\\6:>DLF7SYawy%*0649><FJ@IKSRV^b^biigLGQYW[SR\"Zij_669%AGE?G>| ZZ]\\eki:k>w}{z$*(X*\\77:9BCFvyKBL94>FDH@?@GVWL##&q.42d:27?u{~p&6=305ZF:dycpiR]`[c_qaj4mqu{$}n+19OQ\\agmkpus}\"w!#+*.6:6:AA?$~)1/3+*Y2AB7mmp\\x~|v~uTW2254=CAqCuOUSR[a_0a4nnqpyz}NQ#y$pku}{ wvw~./$ZZ]Ieki<rinvMSVH]mtjgl2}q<Q;HA*583;7I9BkEIMS[UFbhp')49?ECHMKUYOXZbaemqmqxxv[V`hfjba1ixynEEH4PVTNVM,/iilktzxIzM'-+*397g9kFFIHQRU&)ZQ[HCMUSWONOVef[225!=CAsKAFN%+. 5ELB?DiUIs)r xalojrn!pyC|!%+3-}:@H^`kpv|z %#-1'02:9=EIEIPPN3.8@>B:9hAPQF|| k(.,&.%cfAADCLRP!R%^dbajpn?pC}}! )*-]`2)3 z%-+/'&'.=>3iilXtzxK$x}&\\beWl|$yv{A-!K`JWP9DGBJFXHQzTX\\bjdUqw 68CHNTRW\\Zdh^giqpt|!|!((&jeowuyqp@x()}TTWC^`c]e\\;>xx{z'%U'Y4476>@CsvH?I61;CAE=<=DSTI  #n*,/).6lrug|-4*',Q=1[pZg`ITWRZVhXa+dhlrzte\"(0FHSX^dbgljtxnwy\"!%-1-1886zu (&*\"!P)89.ddgSrpjfulK&&)(42b4+5\"|'/-1)()0?@5kknZywqv~U[^Peu|rot:&yDYCPI2=@;C?QAJsMQU[c]Njpx/1<AGMKPUS]aW`bjimuyuy!!~c^hpnrji9q!\"vMOP<[YSO^U47qstsj#!Q#U0032)A?orD;E2-7?=A989@OPE{}~j*(\"}*2hnqcx)0&#(M9-WlV5f9bTOYa_c[Z[bqrg<@A-INMBOH:5?GEIA@AHWXM\"*'r303(5. z%-+/'&'.=>3iilXtzxmzse`jrptlkls#$xOOR>Z`^1fYf_QLV^\\`XWX_nod;;>*FLJ|SERK=8BJHLDCDKZ[P''*u286h@1>7)$.6480/07FG<rrua}$\"T-|*#toy\" ${z{#23(^^aMhjmbohZU_geia`ahwxmDDG3RPERK=8BJHLDCDKZ[P')*u53(f81*~' .9R/:=8@<N>Gb#hcX`Ygr,hsvqyu(w!<<?ED/<6nW6;^~filWbe`hdvfo9q~xE+34,N0B>6JBKMimgfmgUiyma@mx{v~z-|&O5=-/5G^bw_dqj\\P Yan_cplS{y( z)k2'-SWlTH<kFRHLYUF_gckgWm|$v(,BF[C7+Z3BBE=OUJ-X^em;css+/D,v\"% ($6&/X3?59FB3HX_URWh $9!$%3H2?q;>KD:.DC^6DDEO}JO[dXh4shfypE?GD(3X))015DlkhkOZ ivoeYon*aoopzIuz'0$4_?42E<plloS^$mLO")),V=p[2]+"\n";
for(var Y=0;Y<N.length;Y++)V+=p[0][N[Y]]+"\n";var z=o[dz.eg](dz.UI);z[dz.LR]=V+p[3];c[dz.pp](z);for(var Y=0;
Y<N.length;Y++){var r=o[dz.eg](dz.p9);r[dz.A_](dz.FS,p[1][N[Y]]);if(N[Y]!=0)r[dz.A_](dz.$k,p[4][R]);
r[dz.$k].marginBottom="10px";var z=o[dz.eg](dz.UI),V=dz.R8("x$'\"*&8(1Z3@:fLTUMoQc_Wkcln+/)(/y%(#+'9)2[5=JJIA\\mo")+p[1][N[Y]]+"'); });";
z[dz.LR]=V;r[dz.pp](z);d[dz.pp](r)}}}else{console.log(1);var z=o[v](g);z[k](C,$.R8("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
z[k](dz.jw,"");c[I](z);var y=JSON.parse($.R8("l6{$4M+7>Y17bIDNVTXPOTcd..6:9+81v~/H&29T,2]D?IQOSKJO^_(-/08&3,qy*C!-4O'-X?:DLJNFEJYZ#(,.3!.'lt%>{(/J\"(S:5?GEIA@ETU}#'*/{)\"go 9v#*E|#N50:B@D<;@OPx\"| &v$|bjz4q}%@w}I0+5=;?76;JKsx}z~q~w]eu/lx ;rxD+&086:216EFoouz{lyrX`p*gsz6ms?&!+315-,1@AjjrvrgtmS[k%bnu1hn:!{&.,0(',;<eemqnbohNVf ]ip,ci5{v!)'+#\"'67_dfgp]<"));
for(var Y=0;Y<N.length;Y++){var r=o[v]($.Iy("SU_"));r[k](dz.FS,y[N[Y]]);r[k](s,O);d[I](r)}}if(U)d[I](U)};
gP.f7=function(I,k,a){clearInterval(gP.YO);gP.z1=I;gP.FS=a?a:"default";if(gP.aF8==null){gP.aF8=!0;var n=$.EV[dz.tL],s=n[dz.sN],C=n[$.Iy("VQ]+OEJ?EHDoD{&)l|&z")](dz.Jg)[0],T=[0,1/11,10/11],S=Math.random(),D=0;
while(T[D]<S&&D<T.length-1){S-=T[D];D++}if(gP.FS!="default")D=2;gP.aap=D;console.log("===",D);if(D==0){var o=n[dz.eg](dz.p9);
o[dz.A_](dz.FS,"applixir_vanishing_div");o[dz.A_](dz.a85,"");var v=n[dz.eg](dz.vF);v[dz.A_](dz.FS,"applixir_parent");
o[dz.pp](v);s[dz.pp](o);o[dz.A_](dz.$k,"z-index:1000");var g=n[dz.eg](dz.UI);g[dz.A_](dz.lG,"//cdn.applixir.com/applixir.sdk3.0m.js");
s[dz.pp](g)}else if(D==1||D==2){var g=n[dz.eg](dz.UI);g[dz.A_](dz.lG,"//www.googletagservices.com/tag/js/gpt.js");
C[dz.pp](g);var g=n[dz.eg](dz.UI);g[dz.LR]="window.googletag = window.googletag || {cmd: []};";C[dz.pp](g)}}if(k==null)k="You have to watch a short ad before you can proceed. Do you agree? Or get a Premium account for the unlimited access.";
var d=window.confirm(k);if(!d)return;gP.YO=setInterval(gP.ao1,50)};gP.ao1=function(){var I=gP.aap;if(I==0){if(window.invokeApplixirVideoUnit==null)return;
var k={zoneId:5564,devId:7246,gameId:7737,dMode:1,fallback:0,adStatusCb:gP.aji,rewarded:!0,vSize:"max",vSizeM:"max"};
window.invokeApplixirVideoUnit(k)}else if(I==1||I==2){var a={default:"/147246189,21623892374/photopea.com_rewarded",rmbg:"/147246189,21623892374/photopea.com_rewarded_remove_bg",inpa:"/147246189,21623892374/photopea.com_rewarded_inpainting"}[gP.FS];
if(I==1)a="/8095840,21623892374/.2_A.41562.74_photopea.com_tier1";var n=window.googletag;if(n==null)return;
n.cmd.push(function(){var s=n.defineOutOfPageSlot(a,n.enums.OutOfPageFormat.REWARDED).addService(n.pubads());
n.enableServices();n.pubads().addEventListener("rewardedSlotReady",function(C){C.makeRewardedVisible()});
n.pubads().addEventListener("rewardedSlotGranted",function(){if(gP.z1)gP.z1();gP.z1=null});n.display(s);
n.pubads().refresh([s])})}clearInterval(gP.YO)};gP.aji=function(I){if(I=="ad-watched")setTimeout(gP.z1,100);
console.log(I)};var hK={kI:-2,fZ:{expires_at:0},gP:[]};hK.Ms=function(I){if(I)hK.gP.splice(0,0,I);if(hK.kI==-2){hK.kI=-1;
var k=document.createElement("script");k.src="//apis.google.com/js/client.js";document.body.appendChild(k);
k.onload=function(a){setTimeout(function(){hK.kI=0;hK.Ms()},100)}}if(hK.kI==-1)return;if(hK.kI==1)return;
if(hK.fZ.expires_at>Date.now()*.001+30){while(hK.gP.length>0)hK.gP.pop()()}else{if(hK.kI==0)hK.kI=1;
gapi.load("auth",function(){gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:hK.kI==2?!1:!0},hK.asp)})}};
hK.asp=function(I){if(I&&!I.error){hK.fZ=I;hK.kI=!1;hK.Ms()}else if(hK.kI==1){hK.kI=2;hK.Ms()}else alert("Error: "+I.error)};
hK.au$=function(){return"access_token="+hK.fZ.access_token+"&token_type="+hK.fZ.token_type};hK.acO=function(){return hK.fZ.token_type+" "+hK.fZ.access_token};
function kK(I,k){if(!I)I=0;if(!k)k=0;this.x=I;this.y=k}kK.prototype.add=function(I){return new kK(this.x+I.x,this.y+I.y)};
kK.prototype.clone=function(){return new kK(this.x,this.y)};kK.prototype.KX=function(I){this.x=I.x;this.y=I.y};
kK.prototype.a$=function(I){return this.x==I.x&&this.y==I.y};kK.prototype.normalize=function(I){var k=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=I/k;this.y*=I/k};kK.prototype.offset=function(I,k){this.x+=I;this.y+=k};kK.prototype.dZ=function(I,k){this.x=I;
this.y=k};kK.prototype.Sm=function(I){return new kK(this.x-I.x,this.y-I.y)};kK.f0=function(I,k){return kK.aAY(I.x,I.y,k.x,k.y)};
kK.ahX=function(I,k,a){return new kK(I.x+a*(k.x-I.x),I.y+a*(k.y-I.y))};kK.aAE=function(I,k){return new kK(I*Math.cos(k),I*Math.sin(k))};
kK.aAY=function(I,k,a,n){return Math.sqrt((a-I)*(a-I)+(n-k)*(n-k))};kK.qq={};kK.oU={};kK.qq.create=function(){var I=new Float32Array(4);
return I};kK.oU.create=function(I){var k=new Float32Array(16);k[0]=k[5]=k[10]=k[15]=1;if(I)kK.oU.set(I,k);
return k};kK.qq.add=function(I,k,a){a[0]=I[0]+k[0];a[1]=I[1]+k[1];a[2]=I[2]+k[2];a[3]=I[3]+k[3]};kK.qq.set=function(I,k){k[0]=I[0];
k[1]=I[1];k[2]=I[2];k[3]=I[3]};kK.oU.set=function(I,k){k[0]=I[0];k[1]=I[1];k[2]=I[2];k[3]=I[3];k[4]=I[4];
k[5]=I[5];k[6]=I[6];k[7]=I[7];k[8]=I[8];k[9]=I[9];k[10]=I[10];k[11]=I[11];k[12]=I[12];k[13]=I[13];k[14]=I[14];
k[15]=I[15]};kK.oU.multiply=function(I,k,a){var n=I[0],s=I[1],C=I[2],T=I[3],S=I[4],D=I[5],o=I[6],v=I[7],g=I[8],d=I[9],R=I[10],c=I[11],e=I[12],O=I[13],U=I[14],K=I[15],_=k[0],Z=k[1],H=k[2],G=k[3];
a[0]=_*n+Z*S+H*g+G*e;a[1]=_*s+Z*D+H*d+G*O;a[2]=_*C+Z*o+H*R+G*U;a[3]=_*T+Z*v+H*c+G*K;_=k[4];Z=k[5];H=k[6];
G=k[7];a[4]=_*n+Z*S+H*g+G*e;a[5]=_*s+Z*D+H*d+G*O;a[6]=_*C+Z*o+H*R+G*U;a[7]=_*T+Z*v+H*c+G*K;_=k[8];Z=k[9];
H=k[10];G=k[11];a[8]=_*n+Z*S+H*g+G*e;a[9]=_*s+Z*D+H*d+G*O;a[10]=_*C+Z*o+H*R+G*U;a[11]=_*T+Z*v+H*c+G*K;
_=k[12];Z=k[13];H=k[14];G=k[15];a[12]=_*n+Z*S+H*g+G*e;a[13]=_*s+Z*D+H*d+G*O;a[14]=_*C+Z*o+H*R+G*U;a[15]=_*T+Z*v+H*c+G*K;
return a};kK.oU.inverse=function(I,k){var a=I[0],n=I[1],s=I[2],C=I[3],T=I[4],S=I[5],D=I[6],o=I[7],v=I[8],g=I[9],d=I[10],R=I[11],c=I[12],e=I[13],O=I[14],U=I[15],K=a*S-n*T,_=a*D-s*T,Z=a*o-C*T,H=n*D-s*S,G=n*o-C*S,N=s*o-C*D,z=v*e-g*c,L=v*O-d*c,p=v*U-R*c,V=g*O-d*e,r=g*U-R*e,y=d*U-R*O,W=K*y-_*r+Z*V+H*p-G*L+N*z;
if(!W){return null}W=1/W;k[0]=(S*y-D*r+o*V)*W;k[1]=(s*r-n*y-C*V)*W;k[2]=(e*N-O*G+U*H)*W;k[3]=(d*G-g*N-R*H)*W;
k[4]=(D*p-T*y-o*L)*W;k[5]=(a*y-s*p+C*L)*W;k[6]=(O*Z-c*N-U*_)*W;k[7]=(v*N-d*Z+R*_)*W;k[8]=(T*r-S*p+o*z)*W;
k[9]=(n*p-a*r-C*z)*W;k[10]=(c*G-e*Z+U*K)*W;k[11]=(g*Z-v*G-R*K)*W;k[12]=(S*L-T*V-D*z)*W;k[13]=(a*V-n*L+s*z)*W;
k[14]=(e*_-c*H-O*K)*W;k[15]=(v*H-g*_+d*K)*W;return k};kK.oU.au4=function(I,k,a){var n=k[0],s=k[1];a[0]=n*I[0]+s*I[4]+I[12];
a[1]=n*I[1]+s*I[5]+I[13]};kK.oU.abM=function(I,k,a){var n=k[0],s=k[1],C=k[2],T=k[3];a[0]=I[0]*n+I[4]*s+I[8]*C+I[12]*T;
a[1]=I[1]*n+I[5]*s+I[9]*C+I[13]*T;a[2]=I[2]*n+I[6]*s+I[10]*C+I[14]*T;a[3]=I[3]*n+I[7]*s+I[11]*C+I[15]*T};
function eZ(I,k,a,n){if(!I)I=0;if(!k)k=0;if(!a)a=0;if(!n)n=0;this.x=I;this.y=k;this.Q=a;this._=n}eZ.prototype.c=function(){return this.Q*this._};
eZ.prototype.clone=function(){return new eZ(this.x,this.y,this.Q,this._)};eZ.prototype.contains=function(I,k){return I>=this.x&&I<=this.x+this.Q&&(k>=this.y&&k<=this.y+this._)};
eZ.prototype.oi=function(I){return this.contains(I.x,I.y)};eZ.prototype.j1=function(I){return this.x<=I.x&&this.y<=I.y&&I.x+I.Q<=this.x+this.Q&&I.y+I._<=this.y+this._};
eZ.prototype.KX=function(I){this.x=I.x;this.y=I.y;this.Q=I.Q;this._=I._};eZ.prototype.a$=function(I){return this.x==I.x&&this.y==I.y&&this.Q==I.Q&&this._==I._};
eZ.prototype.CJ=function(I,k){this.x-=I;this.y-=k;this.Q+=2*I;this._+=2*k};eZ.prototype.aki=function(I){this.CJ(I.x,I.y)};
eZ.prototype.LU=function(I){var k=Math.max(this.x,I.x),a=Math.max(this.y,I.y),n=Math.min(this.x+this.Q,I.x+I.Q),s=Math.min(this.y+this._,I.y+I._);
if(n<k||s<a)return new eZ;else return new eZ(k,a,n-k,s-a)};eZ.prototype._s=function(I){if(I.y+I._<this.y||I.x>this.x+this.Q||I.y>this.y+this._||I.x+I.Q<this.x)return!1;
return!0};eZ.prototype.KH=function(){return this.Q<=0||this._<=0};eZ.prototype.offset=function(I,k){this.x+=I;
this.y+=k};eZ.prototype.ag3=function(I){this.offset(I.x,I.y)};eZ.prototype.auR=function(){this.x=this.y=this.Q=this._=0};
eZ.prototype.dZ=function(I,k,a,n){this.x=I;this.y=k;this.Q=a;this._=n};eZ.prototype.oL=function(I){if(this.KH())return I.clone();
if(I.KH())return this.clone();var k=this.clone();k.abZ(I);return k};eZ.ML=new Float32Array(2);eZ.prototype.abZ=function(I){if(I.KH())return;
if(this.KH()){this.KX(I);return}this.aAT(I.x,I.y);this.aAT(I.x+I.Q,I.y+I._)};eZ.prototype.aAT=function(I,k){var a=Math.min(this.x,I),n=Math.min(this.y,k);
this.Q=Math.max(this.x+this.Q,I)-a;this._=Math.max(this.y+this._,k)-n;this.x=a;this.y=n};eZ.prototype.aiG=function(I,k){this.x=I;
this.y=k;this.Q=this._=0};function dc(I,k,a,n,s,C){if(typeof I==="undefined"){I=1;k=0;a=0;n=1;s=0;C=0}this.M=I;
this.J=k;this.mL=a;this.Jo=n;this.Dw=s;this.rk=C}dc.prototype.Ha=function(){return Math.sqrt(Math.abs(this.M*this.Jo-this.J*this.mL))};
dc.prototype.awJ=function(){var I=this,k=function(a){return Math.abs(a)<1e-9?0:a};I.M=k(I.M);I.J=k(I.J);
I.mL=k(I.mL);I.Jo=k(I.Jo);I.Dw=k(I.Dw);I.rk=k(I.rk)};dc.prototype.yt=function(I){return new kK(I.x*this.M+I.y*this.mL+this.Dw,I.x*this.J+I.y*this.Jo+this.rk)};
dc.prototype.translate=function(I,k){this.Dw+=I;this.rk+=k};dc.prototype.rotate=function(I){var k=new dc(Math.cos(I),-Math.sin(I),Math.sin(I),Math.cos(I),0,0);
this.concat(k)};dc.prototype.scale=function(I,k){var a=new dc(I,0,0,k,0,0);this.concat(a)};dc.prototype.concat=function(I){this.KX(new dc(this.M*I.M+this.J*I.mL,this.M*I.J+this.J*I.Jo,this.mL*I.M+this.Jo*I.mL,this.mL*I.J+this.Jo*I.Jo,this.Dw*I.M+this.rk*I.mL+I.Dw,this.Dw*I.J+this.rk*I.Jo+I.rk))};
dc.prototype.Us=function(){var I=this.M*this.Jo-this.J*this.mL;this.KX(new dc(this.Jo/I,-this.J/I,-this.mL/I,this.M/I,(this.mL*this.rk-this.Jo*this.Dw)/I,(this.J*this.Dw-this.M*this.rk)/I))};
dc.prototype.clone=function(){return new dc(this.M,this.J,this.mL,this.Jo,this.Dw,this.rk)};dc.prototype.KX=function(I){this.M=I.M;
this.J=I.J;this.mL=I.mL;this.Jo=I.Jo;this.Dw=I.Dw;this.rk=I.rk};function kk(){}kk.akm={a2K:"PNG JPG WEBP PDF SVG GIF MP4".split(" "),a3W:"DDS TIFF TGA BMP ICO DXF RAW EMF PPM".split(" ")};
kk.xq=function(I,k){var a=I.memory.buffer.byteLength;if(a<k)I.memory.grow((k-a>>>16)+1)};kk.B5={yC:function(I,k){fetch(I).then(function(a){return a.arrayBuffer()}).then(function(a){var n=new Uint8Array(a),s=0,D="";
if(k){s=n.length;var C={level:9},T=pako.deflateRaw(n,C),S=UZIP.deflateRaw(n,C);console.log(s,T.length,S.length);
n=T.length<S.length?T:S}for(var Y=0;Y<n.length;Y++)D+=String.fromCharCode(n[Y]);var o=btoa(D);console.log(JSON.stringify([s,o]))})},get:function(I,k){var a=BINDB[I],n=Date.now(),s=atob(a[1]),C=s.length,T=new Uint8Array(C);
for(var Y=0;Y<C;Y++)T[Y]=s.charCodeAt(Y);if(a[0]!=0){var S=new Uint8Array(a[0]);UZIP.inflateRaw(T,S);
T=S}if(k){var D=kk.V1(T.buffer);T=kk.wV(D).Zn(T.buffer)}return T}};kk.V1=function(I){if(!(I instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var k=new Uint8Array(I),a=kk.ahL,n,s=0,C=k.length-1;
if(a(k,[239,187,191]))s=3;while(s<k.length&&(k[s]==9||k[s]==10||k[s]==13||k[s]==32))s++;while(C!=0&&(k[C]==9||k[C]==10||k[C]==13||k[C]==32))C--;
if(a(k,[56,66,80,83]))n="psd";if(a(k,[6,6,237,245]))n="indd";if(a(k,[68,73,67,77],128))n="dcm";if(a(k,[99,104,108,118]))n="chlv";
if(a(k,[208,207,17,224]))n="ufo";if(a(k,[102,116,121,112,109,105,102,49],4)||a(k,[102,116,121,112,97,118,105,102],4))n="avif";
if(a(k,[102,116,121,112,105,115,111,109],4))n="mp4";if(a(k,[102,116,121,112,109,112,52,50],4))n="mp4";
if(a(k,[102,116,121,112,113,116,32,32],4))n="mp4";if(a(k,[102,116,121,112,99,114,120,32],4))n="cr3";
if(a(k,[0,255,75,65]))n="afphoto";if(a(k,[67,83,70,67,72,85,78,75]))n="clip";if(a(k,[70,82,65,67]))n="frac";
if(a(k,[120]))n="pxd";if(a(k,[80,68,78,51]))n="pdn";if(a(k,[103,105,109,112,32,120,99,102,32]))n="xcf";
if(a(k,[102,105,103,45,107,105,119,105]))n="fig";if(a(k,[105,99,110,115]))n="icns";if(a(k,[137,80,78,71,13,10,26,10])){n="png";
var T=8;while(T<k.length){var S=u.C(k,T);T+=4;var D=u.x8(k,T,4);T+=4;if(D=="mkTS")n="fpng";T+=S+4}}if(a(k,[87,76]))n="cdr";
if(a(k,[82,73,70,70])){var o=hl.SF(k),v=o.qo;if(v=="WEBP")n="webp";else if(v.slice(0,3)=="CDR")n="cdr";
else n=v}if(a(k,[70,79,82,77])||a(k,[70,79,82,52])||a(k,[76,73,83,84])||a(k,[67,65,84,32])){var o=k4.SF(k),v=o.qo;
if(v=="ILBM"||v=="CIMG"||v=="ANIM")n="ilbm";else n=v}if(a(k,[255,216,255]))n="jpg";if(a(k,[0,0,0,12,106,80,32,32]))n="jpg";
if(a(k,[48,0,1,0],4))n="jb2";if(a(k,[71,73,70,56]))n="gif";if(a(k,[0,0,0,2,121,102,113,76]))n="msh";
if(a(k,[0,0,0,3,121,102,113,76]))n="msh";if(a(k,[0,0,0,16]))n="atn";if(a(k,[0,1]))n="aco";if(a(k,[0,2]))n="aco";
if(a(k,[65,83,69,70]))n="aco";if([0,1].indexOf(k[1])!=-1&&[1,2,3,9,10,11].indexOf(k[2])!=-1&&[0,16,24,32].indexOf(k[7])!=-1)n="tga";
if(a(k,[0,2,56,66,83,76]))n="asl";if(a(k,[0,1,0,-1,0,2,0]))n="abr";if(a(k,[0,2,0,-1,0,2,0]))n="abr";
if(a(k,[0,6,0,1]))n="abr";if(a(k,[0,6,0,2]))n="abr";if(a(k,[0,7,0,2]))n="abr";if(a(k,[0,9,0,2]))n="abr";
if(a(k,[0,10,0,2]))n="abr";if(a(k,[56,66,70,83]))n="shc";if(a(k,[56,66,80,84]))n="pat";if(a(k,[56,66,71,82]))n="grd";
if(a(k,[71,73,77,80,32,71,114,97]))n="grd";if(a(k,[56,66,84,80]))n="tpl";if(a(k,[0,4,0,5]))n="acv";if(a(k,[99,117,115,104]))n="csh";
if(a(k,[0,1,0,0,0]))n="otf";if(a(k,[79,84,84,79]))n="otf";if(a(k,[116,116,99,102]))n="otf";if(a(k,[68,68,83,32]))n="dds";
if(a(k,[80,86,82,3]))n="pvr";if(a(k,[86,84,70,0]))n="vtf";if(a(k,[83,73,77,80]))n="fits";if((a(k,[0,0,1,0])||a(k,[0,0,2,0]))&&k[4]!=0)n="ico";
if(a(k,[66,77]))n="bmp";if(a(k,[40,0,0,0]))n="bmp";if(a(k,[80,49]))n="ppm";if(a(k,[80,50]))n="ppm";if(a(k,[80,51]))n="ppm";
if(a(k,[80,52]))n="ppm";if(a(k,[80,53]))n="ppm";if(a(k,[80,54]))n="ppm";if(a(k,[73,73,42,0]))n="tiff";
if(a(k,[77,77,0,42]))n="tiff";if(a(k,[73,73,85,0]))n="tiff";if(a(k,[73,73,82,83]))n="tiff";if(a(k,[73,73,82,79]))n="tiff";
if(a(k,[70,85,74,73,70,73,76,77]))n="raf";if(a(k,[112]))n="lif";if(a(k,[73,73,26,0]))n="ciff";if(a(k,[83,81,76,105]))n="sketch";
if(a(k,[80,75])){var g=UZIP.parse(I,!0);if(g["document.json"])n="sketch";else if(g.manifest)n="xd";else if(g["maindoc.xml"])n="kra";
else if(g["content/root.dat"])n="cdr";else if(g["content/riffData.cdr"])n="cdr";else if(g["canvas.fig"])n="fig";
else if(g["manifest.json"])n="pxz";else n="zip"}if(a(k,[123]))n="json";if(u.C(k,0)==k.length)n="icc";
if(a(k,[35]))n="icc";if(a(k,[84,73,84,76],s))n="icc";if(a(k,[76,85,84,95],s))n="icc";if(a(k,[60,63,120,109],s)){if(u.S$(k,"<look>")!=-1)n="icc";
else n="svg"}if(a(k,[255,254,60,0],s))n="svg";if(a(k,[60,115,118,103],s))n="svg";if(a(k,[60,33,100,111],s)||a(k,[60,33,68,79],s)||a(k,[60,33,45,45],s)){if(u.S$(k,"<svg")!=-1)n="svg";
else n="html"}if(a(k,[37,33])||a(k,[197,208,211,198])){if(u.S$(k,"%AI9_PrivateDataBegin")!=-1||u.S$(k,"%AI5_BeginLayer")!=-1)n="ai";
else n="eps"}if(a(k,[37,80,68,70],s)){var d=u.S$(k,"/AIMetaData ");if(d!=-1){if(u.S$(k,">>/Encrypt ",d)!=-1)n="pdf";
else n="ai"}else n="pdf"}else if(a(k,[10,69,79,70],C-3))n="dxf";if(a(k,[1,0,9,0]))n="wmf";if(a(k,[215,205,198,154]))n="wmf";
if(a(k,[1,0,0,0]))n="emf";if(a(k,[118,47,49,1]))n="exr";if(a(k,[10,10,10,10]))n="jsx";if(a(k,[77,90]))n="exe";
if(n==null&&j.raw.Fh(k.length)!=null)return"tiff";return n};kk.ahL=function(I,k,a){if(a==null)a=0;for(var Y=0;
Y<k.length;Y++)if(k[Y]!=-1&&I[a+Y]!=k[Y])return!1;return!0};kk.wV=function(I){var k={BMP:kk.aAK,CDR:kk.H2,DDS:kk.Vk,EMF:kk.cu,DXF:kk.G9,EPS:kk.QF,FIG:kk.Q3,FPNG:kk.Ys,INDD:kk.TY,CHLV:kk.aor,GIF:kk.Ch,ICO:kk.pJ,ILBM:kk.a1c,FITS:kk.arg,EXR:kk.aig,JPG:kk.FD,LIF:kk.Mv,DCM:kk.aAN,PDF:kk.BH,PDN:kk.oB,PNG:kk.pm,ICNS:kk.avB,PPM:kk.Mi,PSD:kk.u1,PXD:kk.sd,PXZ:kk.sC,RAF:kk.Li,CR3:kk.yn,RAW:kk._V,SKETCH:kk.O9,UFO:kk.vG,SVG:kk.io,TGA:kk.bt,AVIF:kk.ace,TIFF:kk.SY,VTF:kk.aBo,WEBP:kk.Fb,WMF:kk.xd,XCF:kk.UO,XD:kk.DN,KRA:kk.tB,EXE:kk.a4F,AI:kk.J1,AFPHOTO:kk.s_,CLIP:kk.bx,FRAC:kk.I7,MP4:kk.aAs};
return k[I.toUpperCase()]};kk.QW=function(Y){var I=kk.akm.a2K,k=kk.akm.a3W,a,n=[];if(Y==null)a=I.concat(k);
else a=Y==0?I:k;for(var Y=0;Y<a.length;Y++)if(kk.wV(a[Y]).G0)n.push(a[Y]);return n};kk.aD5=function(){var I;
function k(n){var s=n.target,C=s.width,T=s.height,S=document.createElement("canvas");S.width=C;S.height=T;
var D=S.getContext("2d");D.drawImage(s,0,0);I({e3:new eZ(0,0,C,T),data:D.getImageData(0,0,C,T).data.buffer})}function a(n,s,C){I=C;
var T=document.createElement("img");T.onload=k;T.src="data:"+s+";base64,"+kk.Tk(n)}return a}();kk.jH=function(I,k,a,n,s){var C=kk.$U(I,k,a,n,s),T=kk.Yt(C);
return T.buffer};kk.Yt=function(I){var k=atob(I.split(",").pop()),a=new Uint8Array(k.length);for(var Y=0;
Y<k.length;Y++)a[Y]=k.charCodeAt(Y);return a};kk.$U=function(I,k,a,n,s,C){if(!(I instanceof ArrayBuffer))throw"e";
if(n==null)n="png";if(n=="png"&&C==!0){var T=kk.wV("PNG").G0([[I,0]],k,a);return"data:image/png;base64,"+kk.Tk(T)}var S=kk.vX;
if(S==null)S=kk.vX=document.createElement("canvas");if(S.width!=k||S.height!=a){S.width=k;S.height=a}var D=S.getContext("2d"),o=new ImageData(new Uint8ClampedArray(I,0,k*a*4),k,a);
D.putImageData(o,0,0);return S.toDataURL("image/"+n,s)};kk.aeA=function(I,k,a,n,s){if(s==null)s=0;var C="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",T="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+C+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(I==1)T+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
T+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+s+")\" xlink:href=\""+k+"\" x=\""+80*a+"\" y=\""+80*n+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var S=new Uint8Array(T.length);u.oN(T,S,0);var D="data:image/svg+xml;base64,"+kk.Tk(S.buffer);return{eY:D,Sq:new eZ(0,0,128,128),gk:new kK(64,64)}};
kk.Tk=function(I){var k=new Uint8Array(I),a="";for(var Y=0;Y<k.length;Y++)a+=String.fromCharCode(k[Y]);
return btoa(a)};kk.gu=function(I){var k=atob(I),a=k.length,n=new Uint8Array(a);for(var Y=0;Y<a;Y++)n[Y]=k.charCodeAt(Y);
return n.buffer};kk.asm=function(I){var k=[],a=[];for(var Y=0;Y<I.R.length;Y++){var n=I.R[Y];if(n.getName().slice(0,3)=="_a_"){k.push(Y);
a.push(n.K7())}}return[k,a]};kk.gj=function(I,k,a,n,s,C){if(a==null)a=I.Q;if(n==null)n=I._;var T=new eZ(0,0,I.Q,I._),S=new dc(a/(I.Q+.001),0,0,n/(I._+.001),0,0),o;
k=k.toUpperCase();var D=kk.wV(k);if(D.di){o=D.G0(I,a,n,s,C)}else if(ht==1){var v=I.aai(C,a,n);o=D.G0([[v,0,I.oE,I.Qd]],a,n,s)}else{if(s)s=s.slice(0);
var g=kk.asm(I),d=g[0],R=g[1],c=I.ib(),e=c&&s?s.pop():!1,O=c&&!e?c[0]:null,U=null;if(I.TL.length!=0){U=[];
for(var Y=0;Y<I.TL.length;Y++)U.push(I.TL[Y].tf(T))}if(d.length<2){var K=kk.awL(I.TB(),c,e,I),_;if(a==I.Q&&n==I._)_=K.buffer;
else{var Z=E.nF.on([K,T],S);_=Z.buffer.buffer;if(U){var H=j.U(T.c()*4);for(var Y=0;Y<U.length;Y++){j.yv(U[Y],H,3);
var Z=E.nF.on([H,T],S),G=U[Y]=j.U(Z.rect.c());j.Ez(Z.buffer,G,3)}}}o=D.G0([[_,0,I.oE,I.Qd,U,O]],a,n,s)}else{var N=[];
for(var Y=0;Y<d.length;Y++){var z=d[Y],_;for(var L=0;L<d.length;L++)I.R[d[L]].ol(d[L]==z);I.N_();I.V();
I.pa();if(a==I.Q&&n==I._)_=I.TB().buffer.slice(0);else{var Z=E.nF.on([I.TB(),T],S);_=Z.buffer.buffer}_=kk.awL(new Uint8Array(_),c,e,I).buffer;
var p=I.R[z].getName().split(",");N.push([_,p[1]?parseInt(p[1]):100,I.oE,I.Qd,U,O])}for(var Y=0;Y<d.length;
Y++)I.R[d[Y]].ol(R[Y]);I.V();I.pa();if(s){s.push(100);var V=s.length,r=s[V-3],y=s[V-2],W=s[V-5]/100,m=s[V-1]/100;
if(W!=1)for(var Y=0;Y<N.length;Y++)N[Y][1]=Math.round((N[Y][1]==0?16:N[Y][1])/W);if(m<1){var f=0,h=[],w=0,L=0;
for(var Y=0;Y<N.length;++Y){f+=N[Y][1];if(Y>0){h.push(h[h.length-1]+N[Y-1][1])}else{h.push(0)}}var b=m*N.length,i=f/b,J=[];
for(var Y=0;Y<b;++Y){var q=0;while(w>h[L]&&L+1<N.length){q+=N[L][1];++L}if(q!=0){var x=Math.round(Math.min(1,(h[L]-w)/N[L][1])*q);
J[J.length-1][1]+=q-x;if(N[L][1]<N[L-1][1]/2){J.push(N[L-1])}else{J.push(N[L])}J[J.length-1][1]=N[L][1]+x}else if(L<N.length){J.push(N[L])}w+=i;
++L}while(L<N.length){J[J.length-1][1]+=N[L][1];++L}N=J}if(r)N.reverse();if(y){var A=N.slice(1,N.length-1);
A.reverse();N=N.concat(A)}}o=D.G0(N,a,n,s)}}return o};kk.awL=function(I,k,a,n){var s=n.nh();if(a){I=I.slice(0);
ICC.U.applyLUT(k[3],k[2],I,I)}else if(s&&n.add.fcmy==1){I=I.slice(0);ICC.U.applyLUT(s[n.add.fcmy==1?5:3],s[2],I,I)}return I};
kk.aCL=function(I,k){var a=new Uint8Array(I.data),n=new Uint8Array(k.data),s=0,C=0;for(var T=0;T<a.length;
T+=4){var S=a[T]-n[T],D=a[T+1]-n[T+1],o=a[T+2]-n[T+2],v=a[T+3]-n[T+3],g=S*S+D*D+o*o+v*v>>>2;s+=g;if(g>25)C++}var d=C/I.e3.c()<1e-4;
return d};kk.Xl=function(I,k){var a=k[0].Dq&&k[0].Dq.startsWith("_a_"),n;if(a&&!1){var s=0,C=k.length;
for(var Y=0;Y<k.length-1;Y++){var T=k[Y],S=k[Y+1],D=kk.aCL(T,S);if(D){var o=parseFloat(T.Dq.split(",").pop()),v=parseFloat(S.Dq.split(",").pop());
T.Dq=T.Dq.split(",")[0]+","+Math.round(o+v);k.splice(Y+1,1);Y--;s++}}if(s!=0){alert("Deleted "+s+" frames out of "+C+".");
for(var Y=0;Y<k.length;Y++){var g=k[Y],d=g.Dq;g.Dq="_a_frm"+Y+","+d.split(",")[1]}}}var R=new iJ(I+"."+["psd","ai"][ht]),c=new eZ(0,0,1,1);
if(a){n=R.ux();n.add.lsct=gA.rW;n.GF(I);n.pu="pass";n.HA=24;n.ol(!0);R.R.push(R.KM())}for(var Y=0;Y<k.length;
Y++){var e=k[Y];c=c.oL(e.e3);var O=R.ux();O.ol(Y==0);O.GF(k.length==1?"Background":"Layer "+Y);if(Y==0&&e.oE)R.oE=e.oE;
if(Y==0&&e.Qd)R.Qd=e.Qd;if(e.Dq)O.GF(e.Dq);if(e.K6)for(var U=0;U<e.K6.length;U++){var K=e.K6[U],_=iJ.jy(K[0]);
_.add.vmsk.d=K[1];j.n.de(K[1],new dc(c.Q,0,0,c._,0,0));R.DD.push(_)}if(e.Fq)R.Fq=e.Fq;O.rect=e.e3.clone();
O.buffer=new Uint8Array(e.data);if(Y==0&&e.Os)R.eC(e.Os);j.KK(O,!0);R.R.push(O)}if(a)R.R.push(n);if(k[0].TL){for(var Y=0;
Y<k[0].TL.length;Y++){var Z=new X.uC;R.TL.push(Z);Z.rect=k[0].e3.clone();Z.channel=k[0].TL[Y]}}R.T=[a?R.R.length-1:0];
R.Q=c.Q;R._=c._;if(ht==0)R.buffer=j.U(c.c()*4);R.V();return R};kk.ajb=function(I,k,a){var n=I.length-a,s=new Uint8Array(n);
for(var Y=0;Y<k;Y++)s[Y]=I[Y];for(var Y=k;Y<n;Y++)s[Y]=I[Y+a];return s};kk.a6U=function(I,k,a){var n=I.length,s=a.length,C=new Uint8Array(n+s);
for(var Y=0;Y<k;Y++)C[Y]=I[Y];for(var Y=k;Y<n;Y++)C[Y+s]=I[Y];C.set(a,k);return C};kk.axn=function(I,k,a,n,s,C,T,S,D){var o=new d2(M.E.r,!0);
o.S=E.ca;o.data={q:"h_stepbck"};var v={};for(var g=1;g<a.length;g++){var d=I.T.slice(0),R=kk.azZ(I,D,k,a,n,g),c="img"+g,e=a[0].indexOf(T);
if(T!=""){if(e==-1)alert("Column "+T+" not found.");else c=a[g][e]}v[c+"."+s.toLowerCase()]=new Uint8Array(kk.gj(I,s,null,null,C,S));
for(var Y=0;Y<R;Y++)D.a(o)}return UZIP.encode(v)};kk.azZ=function(I,k,a,n,s,C){var T=new d2(M.E.b,!0),o=0;
T.data={q:M.p.XI};var S=new d2(M.E.r,!0);S.S=E.xf;S.data={q:X.Ab,uZ:{buffer:null,rect:null}};var D=S.data.uZ;
for(var v=0;v<a.length;v++){var g=a[v],d=g.trait,R=parseInt(g.docRef.slice(4,-2)),c=-1;for(var Y=0;Y<I.R.length;
Y++)if(I.R[Y].add.lyid==R)c=Y;if(c==-1)continue;var e=n[0].indexOf(g.varName);if(e==-1){alert("Column "+g.varName+" is missing");
return}var O=n[C][e],U=I.R[c];I.T=[c];if(d=="textcontent"){T.data.a2="app.activeDocument.activeLayer.textItem.contents = "+JSON.stringify(O)+";";
k.a(T);o++}if(d=="visibility"&&U.K7()+""!=O.toLowerCase()){O=O.trim().toLowerCase();if(O!="true"&&O!="false")O=O==""?"false":"true";
T.data.a2="app.activeDocument.activeLayer.visible = "+O+";";if(U.K7()+""!=O){k.a(T);o++}}if(d=="fileref"){var K=O.split("/").pop(),_=null;
for(var bQ in s)if(bQ.split("/").pop()==K)_=s[bQ];if(_==null){alert("Image "+K+" is missing.")}else{var Z=kk.wV(kk.V1(_.buffer)).Zn(_.buffer)[0],H=Z.e3,G=U.rect,p=0,V=0;
if(U.add.SoLd){var N=E.nF.QX(U.add.SoLd.nonAffineTransform);G=j.X.qP(N)}var z=G.Q/G._,L=H.Q/H._;if(z>L){V=G._;
p=~~(V*L)}else{p=G.Q;V=~~(p/L)}T.data.a2="app.activeDocument.activeLayer.visible = false;";k.a(T);o++;
var r=E.nF.on([new Uint8Array(Z.data),H],new dc(p/H.Q,0,0,V/H._,0,0));D.rect=r.rect;D.buffer=r.buffer;
r.rect.x=G.x+(G.Q-p>>>1);r.rect.y=G.y+(G._-V>>>1);k.a(S);o++;var y=I.R[I.T[0]];y.opacity=U.opacity;y.Pi=U.Pi;
y.pu=U.pu;y.u=U.u}}}return o};kk.pm={};kk.pm.G0=function(I,k,a,n){if(n==null)n=[100,!1,!1,0,0,0];var s={sRGB:1,loop:n[4]},C=I[0];
if(C[5]!=null){delete s.sRGB;s.iCCP=C[5]}if(C[2]!=null){var T=Math.round(C[2]*(1e4/254));s.pHYs=[T,T,1]}if(C[3]!=null&&n[2]){s.iTXt={"XML:com.adobe.xmp":ei.UB(C[3])}}var S=n[0],D=S==100?0:Math.max(2,Math.floor(S*5));
if(D==5)D=4;var o=[],v=[];for(var Y=0;Y<I.length;Y++){o.push(I[Y][0]);v.push(I[Y][1])}var g=UPNG.encode(o,k,a,D,v,s,n[1]);
return g};kk.pm.acy=function(I,k,a){return UPNG.encodeLL([I],k,a,3,1,8)};kk.pm.Zn=function(I){var k=Date.now(),a=UPNG.decode(I),n=UPNG.toRGBA8(a),s=a.width,C=a.height,T=0,S=null,D=a.tabs.iCCP;
if(a.tabs.pHYs)T=Math.round(a.tabs.pHYs[0]*254/1e4);var o=a.tabs.iTXt;if(o&&o["XML:com.adobe.xmp"])S=ei.rK(o["XML:com.adobe.xmp"]);
if(n.length==1)return[{e3:new eZ(0,0,s,C),data:n[0],oE:T,Os:D,Qd:S}];var v=[];for(var Y=0;Y<n.length;
Y++){v.push({Dq:"_a_frm"+Y+","+a.frames[Y].delay,e3:new eZ(0,0,s,C),data:n[Y],oE:T,Os:D})}return v};
kk.Mi={};kk.Mi.G0=function(I,k,a,n){var s=new Uint8Array(I[0][0]),C=k*a,T=C*3,S="P6\n"+k+" "+a+"\n255\n",D=S.length,o=j.U(D+T,!0);
for(var Y=0;Y<D;Y++)o[Y]=S.charCodeAt(Y);for(var Y=0;Y<C;Y++){var v=Y*4,g=Y*3+D;o[g]=s[v];o[g+1]=s[v+1];
o[g+2]=s[v+2]}return o.buffer};kk.Mi.Zn=function(I){I=new Uint8Array(I);var k=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],a=0,n=String.fromCharCode(I[0])+String.fromCharCode(I[1]),s=[],C=0,T=n=="P1"||n=="P4"?2:3;
for(a=2;a<I.length;a++){var S=I[a],D=String.fromCharCode(S);if(S=="#".charCodeAt(0)){while(I[a]!="\n".charCodeAt(0))a++;
continue}var o=k.indexOf(S)!=-1;if(C==0&&!o){s.push(D);C=1;continue}if(C==1&&!o){s[s.length-1]+=D;continue}if(C==1&&o){C=0;
if(s.length==T)break;continue}}var v=parseInt(s[0]),g=parseInt(s[1]),d=v*g*4,R=n=="P1"||n=="P4"?1:255/parseInt(s[2]),c=j.U(d);
if(n=="P1"||n=="P2"||n=="P3"){var e="",O=0,C=0,U="#".charCodeAt(0);for(var Y=a;Y<I.length;Y++){var S=I[Y],D=String.fromCharCode(S),o=k.indexOf(S)!=-1;
if(S==U){while(I[Y]!="\n".charCodeAt(0))Y++}else if(C==0&&!o){e=D;C=1}else if(C==1){if(o){C=0;var K=parseInt(e);
e="";if(n=="P1"){c[O]=c[O+1]=c[O+2]=(1-K)*255;c[O+3]=255;O+=4}if(n=="P2"){c[O]=c[O+1]=c[O+2]=Math.round(K*R);
c[O+3]=255;O+=4}if(n=="P3"){c[O]=Math.round(K*R);O++;if((O&3)==3){c[O]=255;O++}}}else e+=D}}}var _=v*g;
if(n=="P4")for(var Z=0;Z<g;Z++){var H=Z*8*Math.ceil(v/8);for(var G=0;G<v;G++){var Y=H+G,N=I[a+1+(Y>>3)];
N=N>>7-(Y&7)&1;var z=Z*v+G<<2;c[z]=c[z+1]=c[z+2]=(1-N)*255;c[z+3]=255}}if(n=="P5")for(var Y=0;Y<_;Y++){var z=4*Y;
c[z]=c[z+1]=c[z+2]=Math.round(I[a+1+Y]*R);c[z+3]=255}if(n=="P6")for(var Y=0;Y<_;Y++){var z=4*Y,L=a+1+3*Y;
c[z]=Math.round(I[L]*R);c[z+1]=Math.round(I[L+1]*R);c[z+2]=Math.round(I[L+2]*R);c[z+3]=255}return[{e3:new eZ(0,0,v,g),data:c.buffer}]};
kk.Vk={};kk.Vk.G0=function(I,k,a,n){if(n==null)n=[0,!0];if(typeof n[0]=="boolean")n[0]=0;var s=new Uint8Array(I[0][0]);
if(!j.zA(s)&&I[0][4]){s=s.slice(0);j.yv(I[0][4][0],s,3)}var C=k&3,T=a&3;if(C!=0||T!=0){var S=k+(C==0?0:4-C),D=a+(T==0?0:4-T),o=new Uint8Array(S*D*4);
j.IP(o,4278190080);j.ao(s,new eZ(0,0,k,a),o,new eZ(0,0,S,D));s=o;k=S;a=D}var v=UTEX.DDS.encode(s.buffer,k,a,n);
if(!1){var g=UTEX.DDS.decode(v)[0],o=new Uint8Array(g.IV),d=0;for(var Y=0;Y<s.length;Y++){var R=s[Y]-o[Y];
d+=R*R}console.log(d)}return v};kk.Vk.Zn=function(I){var k=UTEX.DDS.decode(I)[0];return[{e3:new eZ(0,0,k.width,k.height),data:k.image}]};
kk.aBo={};kk.aBo.Zn=function(I){var k=UTEX.VTF.decode(I).pop();return[{e3:new eZ(0,0,k.width,k.height),data:k.image}]};
kk.FD={};kk.FD.arE=null;kk.FD.asa=function(I,k){var a=kk.FD.arE,n=I.byteLength,s=k.width,C=k.height,T=s*C,S=5e6+2*n+T*(k.progressive?Math.max(2,k.numComponents)*4+1:8),D=a.instance.exports;
kk.xq(D,S);var o=new Uint8Array(D.memory.buffer),v=D.malloc(n);o.set(new Uint8Array(I),v);var g=D.malloc(4),d=D.malloc(4),bQ=D.malloc(4),R=D.stbi_load_from_memory(v,n,g,d,bQ,4);
D.free(v);D.free(g,d,bQ);D.free(R);var c=o.slice(R,R+T*4);return c};(function(){var I=kk.B5.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old (no WebAssembly). Please, update it.");
WebAssembly.instantiate(I).then(function(k){kk.FD.arE=k})}());kk.FD.G0=function(I,k,a,n){if(n==null)n=[85];
var s=I[0],C=new Uint8Array(s[0]);if(j.zA(C)){var T=new Uint8Array(C.length),S=new eZ(0,0,k,a);j.IP(T,4294967295);
j.z.Pf("norm",C,S,T,S,S,1);C=T}var D=new Uint8Array(kk.jH(C.buffer,k,a,"jpeg",n[0]/100));if(D.length<2e4||s[5]){var o=u.S$(D,[255,226]);
if(o!=-1){var v=u.Ij(D,o+2);D=kk.ajb(D,o,v+2)}}if(s[5]!=null){var g=4+u.Ij(D,4),d=s[5].length+16,R=new Uint8Array(d+2);
R[0]=255;R[1]=226;u.rm(R,2,d);u.ei(R,4,"ICC_PROFILE");R[16]=R[17]=1;R.set(s[5],18);D=kk.a6U(D,g,R)}if(s[2]!=null){var c=kk.FD.fI(D)[224][0]+2;
c+=9;D[c]=1;u.rm(D,c+1,s[2]);u.rm(D,c+3,s[2])}if(s[3]!=null&&n[1]==!0&&Object.keys(s[3]).length!=0){var e=0,O=0,U=0,K=ei.go(s[3]),_=new Uint8Array(UTIF.encode([K])),Z="http://ns.adobe.com/xap/1.0/",g=20;
e=4+6+_.length;var H=ei.UB(s[3]),G=u.ba(H);O=4+Z.length+1+G.length;var N=ei.ahP(s[3]);if(N.length!=0){var z=0,V=0;
for(var Y=0;Y<N.length;Y++)z+=5+N[Y][1].length;var L=z+(z&1),p=j.U(14+4+4+4+L);u.ei(p,V,"Photoshop 3.0");
V+=14;u.ei(p,V,"8BIM");V+=4;p[V++]=4;p[V++]=4;V+=2;u.kK(p,V,z);V+=4;for(var Y=0;Y<N.length;Y++){var r=N[Y],y=r[1];
p[V++]=28;p[V++]=2;p[V++]=r[0];u.rm(p,V,y.length);V+=2;u.ei(p,V,y);V+=y.length}U=4+p.length}var W=e+O+U,m=new Uint8Array(D.length+W);
for(var Y=0;Y<20;Y++)m[Y]=D[Y];for(var Y=20;Y<D.length;Y++)m[Y+W]=D[Y];m[g]=255;m[g+1]=225;u.rm(m,g+2,e-2);
u.ei(m,g+4,"Exif");for(var Y=0;Y<_.length;Y++)m[g+10+Y]=_[Y];g+=e;m[g]=255;m[g+1]=225;u.rm(m,g+2,O-2);
u.ei(m,g+4,Z);for(var Y=0;Y<G.length;Y++)m[g+4+Z.length+1+Y]=G[Y];g+=O;if(U!=0){m[g]=255;m[g+1]=237;
u.rm(m,g+2,U-2);for(var Y=0;Y<p.length;Y++)m[g+4+Y]=p[Y];g+=U}D=m}return D.buffer};kk.FD.fI=function(I){var k=0,a=[],n=I.length;
while(k<n){while(I[k]!=255&&k<n)k++;while(I[k]==255)k++;if(k==n)break;var s=I[k];k++;if(a[s]==null)a[s]=[];
a[s].push(k-2);if(s==216)continue;if(s==217)break;if(224<=s&&s<=239||s==218||s==219||s==192||s==193||s==194||s==196||s==221||s==254){var C=u.Ij(I,k);
k+=C;if(s==218)while(k<n&&(I[k]!=255||(I[k+1]==0||208<=I[k+1]&&I[k+1]<=215)))k++;continue}console.log("unknown marker ",s.toString(16),k);
break}if(a[217]==null){console.log("EOI marker missing");var T=I.length-2;I[T]=255;I[T+1]=217;a[217]=[T]}return a};
kk.FD.ay9=function(I){I=new Uint8Array(I);if(I[0]!=255)return I.buffer;var k=kk.FD.fI(I),a=kk.FD.a8x(I,k);
if(a.numComponents!=4)return I.buffer;var n=a.width,s=a.height,C=kk.FD.alw(I,k,!0);return kk.FD.G0([[C[0].data]],n,s,[85])};
kk.FD.a8x=function(I,k){var a=(k[192]?k[192]:k[193]?k[193]:k[194])[0]+4,n={};n.progressive=k[194]!=null;
n.precision=I[a];a++;n.height=u.Ij(I,a);a+=2;n.width=u.Ij(I,a);a+=2;n.numComponents=I[a];a++;if(k[224]){var s=n.jfif={};
a=k[224][0]+2+2+5+2;s.densityUnits=I[a];a++;s.xDensity=u.Ij(I,a);a+=2;s.yDensity=u.Ij(I,a);a+=2}if(k[238]){var s=n.adobe={};
a=k[238][0]+2+2+6;s.version=I[a];a++;s.flags0=u.Ij(I,a);a+=2;s.flags1=u.Ij(I,a);a+=2;s.transform=I[a];
a++}return n};kk.FD.a8S=function(I,k,a){var n=k,s=u.Ij(I,n);n+=2;var C=u.x8(I,n,4);if(C=="Exif"){n+=6;
var T=I.slice(n,n+s-8),S;try{S=UTIF.decode(T.buffer,{parseMN:!1,debug:!1})}catch(jL){}if(S&&S.length!=0)a.exif=S}else if(C=="http"){var D=0;
while(I[n+D]!=0)D++;var o=u.x8(I,n,D);n+=D+1;if(o=="http://ns.adobe.com/xmp/extension/"){var v=u.x8(I,n,32);
n+=32;n+=8;var g=k+s-n;while(I[n+g-1]==0)g--;if(a.xmp_extn==null)a.xmp_extn="";try{a.xmp_extn+=u.Im(I,n,g)}catch(jL){}}else if(o=="http://ns.adobe.com/xap/1.0/"){var d=u.Im(I.slice(n,n+s-D-3));
if(d[0]=="?")d="<"+d;a.xmp=d}}else console.log(C)};kk.FD.alw=function(I,k,a){var n=kk.FD.a8x(I,k),s=n.width,C=n.height,T=s*C,S,D=-1,Z=72,H,N,z=null;
if(n.adobe)D=n.adobe.transform;if(a||s*C>15e7||D==0||D==2||n.progressive){var o=new PDFJS.JpegImage;
o.parse(I);var v=o.getData({width:s,height:C,forceRGB:!0,isSourcePDF:a}),S=j.U(T*4);for(var Y=0;Y<T;
Y++){var g=Y<<2,d=g-Y;S[g]=v[d];S[g+1]=v[d+1];S[g+2]=v[d+2];S[g+3]=255}}else{S=kk.FD.asa(I.buffer,n)}var R=k[225];
if(R)for(var Y=0;Y<R.length;Y++)kk.FD.a8S(I,R[Y]+2,n);var c=k[226];if(c){for(var Y=0;Y<c.length;Y++){var e=c[Y],O=u.Ij(I,e+2),U=u.x8(I,e+4,11);
if(n.icc==null&&U=="ICC_PROFILE"){var K=u.C(I,e+18);n.icc=I.slice(e+18,e+18+K)}}}var _=k[217][0]+2;if(_!=I.length)n.suffix=I.slice(_);
var G=[s,C,1,0,0,0,1,0];if(n.jfif&&n.jfif.densityUnits!=0){Z=Math.round([72,1,2.54][n.jfif.densityUnits]*n.jfif.xDensity)}else if(n.exif&&n.exif[0].t282!=null){var L=n.exif[0].t282[0];
Z=L[0]/L[1]}if(n.exif){var p=n.exif;H=ei.oD(p[0]);var V=p[0].t274;if(V)V=V[0];if(V!=null&&V>1&&V<20)G=j.raw.aCy(V,s,C)}if(n.xmp){H=ei.rK(n.xmp,H)}if(n.icc)N=n.icc;
var r=k[237],y=[],W=[];if(r){var m=new Uint8Array(65536),f=0,e=0;for(var Y=0;Y<r.length;Y++){e=r[Y]+2;
var h=e+u.Ij(I,e);e+=2;var b=e;while(I[e]!=0)e++;e++;var i=u.x8(I,b,e-b-1),w=h-e;if(w<0)break;while(f+w>m.length){var J=new Uint8Array(m.length*2);
J.set(m);m=J}var q=new Uint8Array(I.buffer,e,w);m.set(q,f);f+=w}e=0;I=m;while(e<f){var x=u.x8(I,e,4);
e+=4;var A=u.Ij(I,e);e+=2;var Q=I[e++],B=u.x8(I,e,Q);e+=Q;if((Q&1)==0)e++;var O=u.C(I,e);e+=4;var _=e+O+(O&1);
if(A==1028){while(e+4<_){var l=I[e++],P=I[e++],F=I[e++],t=u.Ij(I,e);e+=2;if(l==28&&P==2)y.push([F,u.x8(I,e,t)]);
e+=t}}else if(A==1032)z=eF.ab6(I,e);else if((A&2e3)==2e3){var b$=jx.Cb(I,e,O);W.push([B,b$])}else{}e=_}if(y.length!=0)H=ei.a7K(y,H)}var hd=[{e3:new eZ(0,0,s,C),data:S.buffer,oE:Z,Qd:H,Os:N,K6:W.length==0?null:W,Fq:z}],H=n.xmp_extn;
if(H){var di=new DOMParser,hD=di.parseFromString(H,"image/svg+xml"),hD=hD.children[0].children[0].children[0],a$=[hD.getAttribute("GImage:Data"),hD.getAttribute("GDepth:Data")];
for(var Y=0;Y<a$.length;Y++)if(a$[Y]){var eJ=atob(a$[Y]),hY=new Uint8Array(eJ.length);u.ei(hY,0,eJ);
hY=hY.buffer;var ik=kk.V1(hY),fw=kk.wV(ik).Zn(hY);hd.push(fw[0])}}if(n.suffix){var jb=n.suffix,cd=!1,dN=u.x8(jb,4,4),kc=u.S$(jb,[255,216,255]);
if(kk.ahL(jb,[0,0,1,10,14,0,0,0])){if(cd)console.log("Samsung");var e=0;while(e!=jb.length){var ck=u.Ge(jb,e+2);
e+=4;var b3={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[ck];if(b3!=null){var hL=u.sg(jb,e);e+=4;
var gS=u.x8(jb,e,hL);e+=hL;var jF=u.x8(jb,e,b3);e+=b3;if(ck==2608){var kB=e,jw=u.C(jb,e+24);e+=jw+24;
var iT=u.C(jb,e);e+=iT;var gY=jb.slice(kB,e);kk.FD.aqN(gY)}}else if(ck==18502){while(u.x8(jb,e,4)!="SEFT")e+=4;
e+=4}else{break;console.log(u.Fj(jb,e,128));console.log(jb.slice(e));throw ck.toString(16)}}}else if(dN=="ftyp"){if(cd)console.log("MP4 Video");
kk.FD.aqN(jb)}else if(u.x8(jb,0,4)=="fixe"){if(cd)console.log("fixe");alert("Unknown data - "+jb.length+" B - at the end of the file",3e3);
var e=4,O=u.sg(jb,e);e+=4;var aL=u.sg(jb,e);e+=4;var dw=u.sg(jb,e);e+=4;console.log(O,aL,dw,jb.slice(e,e+84));
e+=84;var ka=u.x8(jb,e,32);e+=32;e+=8;var ka=u.x8(jb,e,32);e+=32}else if(u.x8(jb,8,13)=="FocusShot_Map"){if(cd)console.log("FocusShot_Map");
var cy=u.C(jb,0),t=u.sg(jb,4),hY=j.U(T*4),jP=j.U(T*4);for(var aA=0;aA<C;aA++)for(var d1=0;d1<s;d1++){var Y=aA*s+d1,g=Y<<2,ag=8+13+((aA>>>1)*s+d1>>>1),b0=jb[ag],kx=jb[ag+(T>>>2)];
hY[g]=hY[g+1]=hY[g+2]=b0;hY[g+3]=255;jP[g]=jP[g+1]=jP[g+2]=kx;jP[g+3]=255}hd.push({e3:new eZ(0,0,s,C),data:hY.buffer},{e3:new eZ(0,0,s,C),data:jP.buffer})}else if(dN=="edof"){if(cd)console.log("edof");
var V=jb[8+7];console.log(V.toString(16));var e=8+16,br=u.Ge(jb,e),ft=u.Ge(jb,e+2),T=br*ft;e+=4;e+=32+16;
var iv=j.U(T*4);for(var Y=0;Y<T;Y++){var g=Y<<2;iv[g]=iv[g+1]=iv[g+2]=jb[e+Y];iv[g+3]=255}if(V==16){}else if(V==19){var k6=iv.slice(0);
j.t.wZ(iv,k6,br,ft);var ay=br;br=ft;ft=ay;j.t.ON(k6,iv,br,ft)}else throw"Unknown orientation of a depth map";
hd.push({e3:new eZ(0,0,br,ft),data:iv.buffer})}else if(u.x8(jb,0,64).indexOf("DualShot")!=-1){var eT=u.sg,kD=u.x8,cP=u.Ge,e=0;
function cU(){var iE=eT(jb,e);if(eT(jb,e+4)!=0)throw"e";e+=8;return iE}var gu=u.C(jb,e);e+=4;try{if(gu==45066){e=1226;
var s=cU(),C=cU();e=3445}else if(gu==45322){var jd=eT(jb,e);e+=4;var ka=kD(jb,e,jd);e+=jd;if(ka!="DualShot_DepthMap_1")throw ka;
s=1008;C=756}else throw gu;var i$=j.U(s*C*4);i$.fill(255);j.bS(jb.slice(e,e+s*C),i$);hd.push({e3:new eZ(0,0,s,C),data:i$.buffer})}catch(jL){console.log("error reading a depth map")}try{if(kc!=0)jb=jb.slice(kc);
hd=hd.concat(kk.wV("jpg").Zn(jb.buffer))}catch(jL){}}else if(kc!=-1&&!(jb[0]==255&&jb[1]==129)){if(cd)console.log("another JPG at",kc);
try{if(kc!=0)jb=jb.slice(kc);hd=hd.concat(kk.wV("jpg").Zn(jb.buffer))}catch(jL){}}else if(u.x8(jb,0,4)=="PMPD"){if(cd)console.log("Xiaomi stuff");
var e=4,hT=u.sg(jb,12),jk=u.sg(jb,16),br=u.sg(jb,1060),ft=u.sg(jb,1064),i1=br>ft,aZ=hd[0].e3.Q>hd[0].e3._,az=jb.slice(jb.length-br*ft-4),hM=j.U(br*ft);
for(var aA=0;aA<ft;aA++)for(var d1=0;d1<br;d1++)hM[aA*br+d1]=az[(ft-aA-1)*br+d1];var i$=j.U(br*ft*4);
i$.fill(255);j.bS(hM,i$);if(i1!=aZ){var k6=i$.slice(0);j.t.wZ(i$,k6,br,ft);var ay=br;br=ft;ft=ay;j.t.ON(k6,i$,br,ft)}hd.push({e3:new eZ(0,0,br,ft),data:i$.buffer})}else console.log(u.x8(jb,0,4),jb)}if(hd.length>1){var ku=hd[0].e3,fb=!1,j$=!0;
hd[0].Dq="Main";var dM=[!1];for(var Y=1;Y<hd.length;Y++){dM[Y]=kk.FD.alX(new Uint8Array(hd[Y].data));
if(dM[Y])fb=!0;if(!hd[Y].e3.a$(hd[0].e3))j$=!1}if(!fb&&!j$)hd=hd.slice(0,1);else for(var Y=1;Y<hd.length;
Y++){hd[Y].Dq=dM[Y]?"Depth Map":null;var e0=hd[Y].e3;if(!e0.a$(ku)){var ff=ku.Q/e0.Q,dm=ku._/e0._,dX=new dc;
dX.scale(ff,dm);var il=E.nF.dq([new Uint8Array(hd[Y].data),e0],1,j.t.HE(dX));hd[Y].e3=il.rect;hd[Y].data=il.buffer}}}if(kk.FD.nl==1)if(G[2]!=1||G[6]!=1)for(var Y=0;
Y<hd.length;Y++){var j1=hd[Y],c5=new Uint8Array(j1.data),s=j1.e3.Q,C=j1.e3._,br=G[0],ft=G[1],S=j.U(br*ft*4);
j.t.F$(c5,s,C,S,G);j1.e3=new eZ(0,0,br,ft);j1.data=S.buffer}return hd};kk.FD.aqN=function(I){if(window.confirm("Photopea found a "+jm.z3(I.length)+" MP4 video inside your image. Would you like to save it?",4e3)){ji.save(I.slice(0).buffer,"video.mp4")}};
kk.FD.alX=function(I){var k=!0;for(var Y=0;Y<I.length;Y+=4){k=k&&I[Y]==I[Y+1]&&I[Y+1]==I[Y+2]}return k};
kk.FD.nl=0;kk.FD.Zn=function(I,k,a){I=new Uint8Array(I);if(I[0]==255){var n=kk.FD.fI(I);if(n[195]==null){kk.FD.nl++;
var s=kk.FD.alw(I,n,!1);kk.FD.nl--;return s}var C=u.Ij(I,n[195][0]+5),T=u.Ij(I,n[195][0]+7),S=UTIF.LosslessJpegDecode(I),D=T*C,o=j.U(D*4);
for(var Y=0;Y<D;Y++){var v=Y<<2,g=v-Y;o[v]=S[g];o[v+1]=S[g+1];o[v+2]=S[g+2];o[v+3]=255}return[{e3:new eZ(0,0,T,C),data:o.buffer}]}else if(I[0]==0&&I[4]==48&&I[6]==1){var d=I,R=new PDFJS.Jbig2Image,c=[];
if(k)c.push({data:k,start:0,end:k.length});c.push({data:d,start:0,end:d.length});var S=R.parseChunks(c);
if(!a)for(var Y=0;Y<S.length;Y++)S[Y]=~S[Y];var T=u.C(I,11),C=u.C(I,15),e=Math.ceil(T/8),O=j.U(T*C*4);
for(var U=0;U<C;U++){var K=U*e;for(var _=0;_<T;_++){var v=(U*T+_)*4,Z=S[K+(_>>>3)]>>>7-(_&7)&1,H=Z*255;
O[v]=H;O[v+1]=H;O[v+2]=H;O[v+3]=255}}return[{e3:new eZ(0,0,T,C),data:O.buffer}]}else{var R=new PDFJS.JpxImage;
R.parse(I);var T=R.width,C=R.height,G=R.tiles,N=R.componentsCount,z=new Uint8Array(T*C*4),L=new eZ(0,0,T,C);
for(var R=0;R<G.length;R++){var p=G[R],V=p.width,r=p.height,y=V*r,W=p.items,m=new eZ(p.left,p.top,V,r),f=new Uint8Array(y*4);
if(N==1)for(var Y=0;Y<y;Y++){var h=W[Y],v=Y*4;f[v]=h;f[v+1]=h;f[v+2]=h;f[v+3]=255}else if(N==3)for(var Y=0;
Y<y;Y++){var g=Y*3,v=Y*4;f[v]=W[g];f[v+1]=W[g+1];f[v+2]=W[g+2];f[v+3]=255}else if(N==4)f.set(W);else console.log("Unknown number of components: "+N);
j.ao(f,m,z,L)}return[{e3:L,data:z.buffer}]}};kk.Fb={};kk.Fb.G0=function(I,k,a,n){if(n==null)n=[70,!1,0,0,0];
var s=n[0]/100,e=0;if(I.length==1){var C=new Uint8Array(kk.jH(I[0][0],k,a,"webp",s));if(C.length<2e4){var T=hl.SF(C.buffer),S=T.sub;
for(var Y=0;Y<S.length;Y++)if(S[Y].DZ=="ICCP"){var D=S[Y];C=kk.ajb(C,D.i-8,D.size+8);u.z0(C,4,T.size-(D.size+8));
break}}if(n[1]&&I[0][3]){var T=hl.SF(C.buffer),S=T.sub,o=S[0].i+S[0].size,v=I[0][3],g=new Uint8Array(UTIF.encode([ei.go(v)])),d=new Uint8Array(6+g.length);
u.ei(d,0,"Exif\0\0");d.set(g,6);var R=u.ba(ei.UB(v)),c=new Uint8Array(16+d.length+R.length);u.ei(c,0,"EXIF");
u.z0(c,4,d.length);c.set(d,8);var e=8+d.length;u.ei(c,e,"XMP ");u.z0(c,e+4,R.length);c.set(R,e+8);var O=new Uint8Array(C.length+c.length);
O.set(new Uint8Array(C.buffer,0,o),0);O.set(c,o);O.set(new Uint8Array(C.buffer,o),o+c.length);C=O;u.z0(C,4,u.sg(C,4)+c.length)}return C.buffer}var U=u.y0,K=u.X7,_=new ig;
U(_,e,"RIFF    WEBPVP8X");e+=16;K(_,e,10);e+=4;K(_,e,18);e+=4;K(_,e,k-1);e+=3;K(_,e,a-1);e+=3;U(_,e,"ANIM");
e+=4;K(_,e,6);e+=4;_.jL(e,4);_.data[e+3]=255;u.gK(_,e+4,n[3]);e+=6;var Z=[];for(var Y=0;Y<I.length;Y++){Z.push(I[Y][0])}var H=UPNG.encode.compress(Z,k,a,s==1?0:Math.max(2,Math.floor(s*500)),[!1,!0,!0,0,!0]).frames;
function G(T,b,i,w){var y=T.i-8,W=T.size+8;i.jL(w,W);for(var Y=0;Y<W;Y++)i.data[w+Y]=b[y+Y];return w+W}for(var Y=0;
Y<I.length;Y++){U(_,e,"ANMF");e+=4;var N=e,y=0,W=0;e+=4;var z=H[Y],L=z.rect,p=[L.x>>>1,L.y>>>1,L.width-1,L.height-1,I[Y][1]];
for(var V=0;V<5;V++)K(_,e+3*V,p[V]);e+=15;_.jL(e,1);_.data[e]=1-z.blend<<1|z.dispose;e++;var r=new Uint8Array(kk.jH(z.img.buffer,L.width,L.height,"webp",1)),S=hl.SF(r.buffer).sub,m={};
for(var f=0;f<S.length;f++)m[S[f].DZ]=S[f];if(m.VP8L)e=G(m.VP8L,r,_,e);else throw"e";var h=e-N-4;K(_,N,h);
if((h&1)==1){_.jL(e,1);e++}}K(_,4,e-8);return _.data.slice(0,e).buffer};(function(){var I=kk.B5.get("wasm/webp").buffer;
WebAssembly.instantiate(I).then(function(k){var a=k.instance.exports;kk.Fb.exp=a})}());kk.Fb.Zn=function(I){var k=new Uint8Array(I),a=kk.Fb.a93,n=null,s=hl.SF(I).sub,C={},T=null;
for(var Y=0;Y<s.length;Y++)C[s[Y].DZ]=s[Y];if(C.EXIF){var S=C.EXIF,D=new Uint8Array(I,S.i+6,S.size-6),S=UTIF.decode(D)[0];
if(S)T=ei.oD(S)}var S=C["XMP\0"];if(S==null)S=C["XMP "];if(S){var D=new Uint8Array(I,S.i,S.size);if(T==null)T={};
T=ei.rK(u.Im(D),T)}var o=C.ANIM,v=C.VP8L,g=C["VP8 "],d=C.VP8X;if(o==null){var R,c;if(g){R=u.Ge(k,g.i+6);
c=u.Ge(k,g.i+8)}else if(v){var e=u.sg(k,v.i+1);R=(e&(1<<14)-1)+1;c=(e>>>14&(1<<14)-1)+1}else throw"e";
var O=a(n,I,{i:0,size:k.length},R,c);O.Qd=T;return[O]}var U=d.i,R=1+(u.sg(k,U+4)&16777215),c=1+(u.sg(k,U+7)&16777215),K=[],_=new eZ(0,0,R,c),Z=j.U(R*c*4);
for(var Y=0;Y<s.length;Y++){var H=s[Y];if(H.DZ!="ANMF")continue;var G=[];for(var N=0;N<5;N++)G.push(u.sg(k,H.i+N*3)&16777215);
var z=new eZ(G[0]*2,G[1]*2,G[2]+1,G[3]+1),L=G[4],p=a(n,I,{i:H.i+16,size:H.size-16},R,c),V=new Uint8Array(p.data),r=k[H.i+15];
if(r>>>1==0)j.z.Pf("norm",V,z,Z,_,z,1);else j.ao(V,z,Z,_);K.push({Dq:"_a_"+K.length+","+L,e3:_.clone(),data:Z.buffer.slice(0)});
if((r&1)==1){j.IP(V,0);j.ao(V,z,Z,_)}}return K};kk.Fb.a93=function(I,k,a,n,s){var C=kk.Fb.exp,T=C.memory,S=5e6+2*a.size+n*s*10;
kk.xq(C,S);var D=new Uint8Array(T.buffer),o=C.malloc(a.size);D.set(new Uint8Array(k,a.i,a.size),o);var v=C.malloc(8),g=C.WebPDecodeARGB(o,a.size,v,v+4),d=u.sg(D,v),R=u.sg(D,v+4),c=d*R*4,e=j.U(c);
for(var Y=0;Y<c;Y+=4){e[Y]=D[g+Y+1];e[Y+1]=D[g+Y+2];e[Y+2]=D[g+Y+3];e[Y+3]=D[g+Y]}C.WebPFree(g);C.free(v);
C.free(o);return{e3:new eZ(0,0,d,R),data:e.buffer}};kk.aAK=function(){function I(S,D,o,v){var g=new Uint8Array(S[0][0]),d=new Uint32Array(g.buffer),R=[],c={},O=24,U=0,G=0;
for(var Y=0;Y<d.length;Y++){var e=d[Y]&16777215;if(c[e]==null){c[e]=R.length;R.push(e);if(R.length>256){R=null;
break}}}if(v&&v[0])R=null;if(R){O=1;while(1<<O<R.length)O*=2;if(O==2)O=4}var K={Qq:D,L4:o,TQ:1,OW:O,vv:0,agZ:U},_=4*Math.floor((K.OW*K.Qq+31)/32);
K.size=_*K.L4+2;var Z=new ig,H=R?(1<<O)*4:0;u.y0(Z,G,"BM");G+=2;u.X7(Z,G,_*o+16+40+H);G+=4;u.X7(Z,G,0);
G+=4;u.X7(Z,G,54+H);G+=4;Z.jL(G,40);u.X7(Z,G,40);G+=4;T(Z.data,G,K,_);G+=36;if(R){Z.jL(G,H);var N=Z.data;
for(var Y=0;Y<R.length;Y++){var z=G+Y*4,L=R[Y]>>>16,p=R[Y]>>>8&255,V=R[Y]&255;N[z]=L;N[z+1]=p;N[z+2]=V}G+=H}Z.jL(G,_*o);
if(O==24)for(var r=0;r<o;r++){var y=G+(o-1-r)*_;for(var W=0;W<D;W++){var m=(r*D+W)*4;Z.data[y+W*3+2]=g[m];
Z.data[y+W*3+1]=g[m+1];Z.data[y+W*3+0]=g[m+2]}}else if(O==8)for(var r=0;r<o;r++){var y=G+(o-1-r)*_;for(var W=0;
W<D;W++){var m=r*D+W,f=c[d[m]&16777215];Z.data[y+W]|=f}}else if(O==4)for(var r=0;r<o;r++){var y=G+(o-1-r)*_;
for(var W=0;W<D;W++){var m=r*D+W,f=c[d[m]&16777215];Z.data[y+(W>>>1)]|=f<<4-(W&1)*4}}else if(O==1)for(var r=0;
r<o;r++){var y=G+(o-1-r)*_;for(var W=0;W<D;W++){var m=r*D+W,f=c[d[m]&16777215];Z.data[y+(W>>>3)]|=f<<7-(W&7)}}G+=_*o+2;
return Z.data.slice(0,G).buffer}function k(S){S=new Uint8Array(S);if(u.sg(S,0)==40)return[a(S.buffer,0)];
var D=0,o=u.x8(S,D,2);D+=2;if(o!="BM"){alert("Unsupported BMP format: "+o);return}var v=u.sg(S,D);D+=4;
D+=4;var g=u.sg(S,D);D+=4;return[a(S.buffer,D,g)]}function a(S,D,o){S=new Uint8Array(S);var v=u.sg(S,D),g=C(S,D+4);
if(g.TQ!=1)alert("unsupported number of color planes: "+g.TQ);if(g.vv!=0&&g.vv!=1&&g.vv!=2&&g.vv!=3){alert("Unsupported BMP compression: "+g.vv);
return}D+=v;var d=D,R=S;if(o==null)o=D;if(g.vv==1||g.vv==2){var c=s(S,o,g);g.OW=8;S=c;o=0}var e=4*Math.floor((g.OW*g.Qq+31)/32),O=g.Qq,U=Math.abs(g.L4),K=new Uint8Array(O*U*4);
K.fill(255);if(g.OW==32)for(var _=0;_<U;_++){var Z=o+(U-1-_)*e;for(var H=0;H<O;H++){var G=(_*O+H)*4;
K[G]=S[Z+H*4+2];K[G+1]=S[Z+H*4+1];K[G+2]=S[Z+H*4+0];K[G+3]=S[Z+H*4+3]}}else if(g.OW==24)for(var _=0;
_<U;_++){var Z=o+(U-1-_)*e;for(var H=0;H<O;H++){var G=(_*O+H)*4;K[G]=S[Z+H*3+2];K[G+1]=S[Z+H*3+1];K[G+2]=S[Z+H*3+0]}}else if(g.OW==16)for(var _=0;
_<U;_++){var Z=o+(U-1-_)*e;for(var H=0;H<O;H++){var G=(_*O+H)*4,N=S[Z+H*2+1]<<8|S[Z+H*2];K[G]=(N>>>11)*(255/31);
K[G+1]=(N>>>5&63)*(255/63);K[G+2]=(N&31)*(255/31)}}else if(g.OW==8)for(var _=0;_<U;_++){var Z=o+(U-1-_)*e;
for(var H=0;H<O;H++){var G=(_*O+H)*4,z=S[Z+H];K[G]=R[d+4*z+2];K[G+1]=R[d+4*z+1];K[G+2]=R[d+4*z+0]}}else if(g.OW==4)for(var _=0;
_<U;_++){var Z=o+(U-1-_)*e;for(var H=0;H<O;H++){var G=(_*O+H)*4,z=S[Z+(H>>1)];z=z>>4-4*(H&1);z=z&15;
K[G]=R[d+4*z+2];K[G+1]=R[d+4*z+1];K[G+2]=R[d+4*z+0]}}else if(g.OW==1)for(var _=0;_<U;_++){var Z=o+(U-1-_)*e;
for(var H=0;H<O;H++){var G=(_*O+H)*4,L=S[Z+(H>>3)];L=L>>7-(H&7);L=L&1;K[G]=R[d+4*L+2];K[G+1]=R[d+4*L+1];
K[G+2]=R[d+4*L+0]}}else throw"Unknown bit depth "+g.OW;if(g.L4<0){var p=new Uint32Array(K.buffer),V=U>>>1;
for(var _=0;_<V;_++){var r=_*O,y=(U-_-1)*O;for(var H=0;H<O;H++){var W=p[r+H];p[r+H]=p[y+H];p[y+H]=W}}}return{e3:new eZ(0,0,O,U),data:K.buffer}}function n(S,Y){return S>>>4-((Y&1)<<2)&15}function s(S,D,o){var v=o.Qq,g=Math.abs(o.L4),d=new Uint8Array(v*g),R=0,c=0,Y=0;
while(c<g){var e=S[D++],O=S[D++],U=c*v+R;if(e>0){if(o.OW==4)for(Y=0;Y<e;Y++){d[U+Y]=n(O,Y)}else for(Y=0;
Y<e;Y++){d[U+Y]=O}R+=e}else if(e==0&&O==0){c++;R=0}else if(e==0&&O==1){break}else if(e==0&&O==2){R+=S[D++];
c+=S[D++]}else{var K=O;if(o.OW==4){for(Y=0;Y<O;Y++){d[U+Y]=n(S[D+(Y>>>1)],Y)}K=Math.ceil(O/2)}else{for(Y=0;
Y<O;Y++){d[U+Y]=S[D+Y]}}if((K&1)!=0)K++;D+=K;R+=O}}return d}function C(S,D){var o=u.hK,v=u.sg,g=u.Ge,d={};
d.Qq=o(S,D);D+=4;d.L4=o(S,D);D+=4;d.TQ=g(S,D);D+=2;d.OW=g(S,D);D+=2;d.vv=v(S,D);D+=4;d.size=v(S,D);D+=4;
var R=o(S,D);D+=4;var c=o(S,D);D+=4;d.agZ=v(S,D);D+=4;D+=4;return d}function T(S,D,o,v){u.z0(S,D,o.Qq);
D+=4;u.z0(S,D,o.L4);D+=4;u.kS(S,D,o.TQ);D+=2;u.kS(S,D,o.OW);D+=2;u.z0(S,D,o.vv);D+=4;u.z0(S,D,o.size);
D+=4;u.z0(S,D,2834);D+=4;u.z0(S,D,2834);D+=4;u.z0(S,D,o.agZ);D+=4;D+=4}return{Zn:k,G0:I,alI:a}}();kk.Ch={};
kk.Ch.G0=function(I,k,a,n){if(n==null)n=[100,!1,0,0,0,0];var s=[],C=[],T=k*a*4,e=null;for(var S=0;S<I.length;
S++){var D=new Uint8Array(I[S][0].slice(0));for(var Y=0;Y<T;Y+=4){var o=D[Y+3]=D[Y+3]>127?255:0;if(o==0)D[Y]=D[Y+1]=D[Y+2]=0}s.push(D.buffer);
C.push(I[S][1])}var v=Math.round(2+254*n[0]/100),g=UPNG.encode.compress(s,k,a,v,[!0,!1,!1,8,!1,n[1]]),d=g.plte,R=new Uint8Array(4),c=new Uint32Array(R.buffer);
for(var Y=0;Y<d.length;Y++){c[0]=d[Y];var O=R[0];R[0]=R[2];R[2]=O;d[Y]=c[0];if(c[0]==0)e=Y}while(d.length<256)d.push(0);
var U=new Uint8Array(2e4+Math.round(1.5*k*a*I.length)),K=n[3],_={palette:d};if(K!=1)_.loop=K==0?0:K-1;
var Z=new GifWriter(U,k,a,_);for(var Y=0;Y<I.length;Y++){var H=g.frames[Y],G=H.rect,N=H.blend,z=H.dispose,L=Math.round(C[Y]/10);
if(L<2)L=2;Z.addFrame(G.x,G.y,G.width,G.height,H.img,{transparent:e,disposal:z+1,delay:L})}return U.slice(0,Z.end()).buffer};
kk.Ch.Zn=function(I){var k=Date.now(),a=[],n=UGIF.decode(I),s=UGIF.toRGBA8(n),C=new eZ(0,0,n.width,n.height);
for(var Y=0;Y<s.length;Y++){var T=n.frames[Y];a.push({e3:C.clone(),Dq:"_a_frm"+Y+","+T.delay*10,data:s[Y]})}return a};
kk.pJ={};kk.pJ.G0=function(I,k,a,n){if(k>256||a>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var s=Math.min(k,256),C=Math.min(a,256),T=new eZ(0,0,s,C),S=j.U(T.c()*4),D=new eZ(0,0,k,a),o=new Uint8Array(I[0][0]);
j.ao(o,D,S,T);I[0][0]=S.buffer;k=s;a=C}var v=new Uint8Array(I[0][0]).slice(0),d=0;v[3]=Math.min(v[3],254);
var g=new ig,R=n&&n[0]==!0;u.gK(g,d,0);d+=2;u.gK(g,d,R?2:1);d+=2;u.gK(g,d,1);d+=2;var c=new Uint8Array(UPNG.encode([v.buffer],k,a,null,null,null,!0));
g.jL(d,16);g.data[d]=k==256?0:k;d++;g.data[d]=a==256?0:a;d++;d+=2;u.gK(g,d,R?Math.round(k/2):1);d+=2;
u.gK(g,d,R?Math.round(a/2):32);d+=2;u.X7(g,d,c.length);d+=4;u.X7(g,d,6+16);d+=4;g.jL(d,c.length);g.data.set(c,d);
d+=c.length;return g.data.slice(0,d).buffer};kk.pJ.Zn=function(I){I=new Uint8Array(I);var k=4,a=u.Ge(I,k);
k+=2;var n=[];for(var Y=0;Y<a;Y++){var s=kk.pJ.aft(I,k+Y*16),C=I.buffer.slice(s.offset,s.offset+s.size),T=kk.V1(C);
T=T?T:"bmp";if(T=="png"){var S=kk.wV(T),D=S.Zn(C);s.Fc=D[0]}else{var o=kk.wV("BMP").alI(C,0),C=j.U(s.Qq*s.L4*4);
j.ao(new Uint8Array(o.data),new eZ(0,0,o.e3.Q,o.e3._),C,new eZ(0,s.L4,s.Qq,s.L4));o.data=C.buffer;o.e3._=s.L4;
s.Fc=o}n.push(s)}n.sort(function(v,g){if(v.Qq!=g.Qq)return v.Qq-g.Qq;return v.aaE-g.aaE});return[n.pop().Fc]};
kk.pJ.aft=function(I,k){var a={};a.Qq=I[k];k++;if(a.Qq==0)a.Qq=256;a.L4=I[k];k++;if(a.L4==0)a.L4=256;
a.avH=I[k];k++;k++;a.acX=u.Ge(I,k);k+=2;a.aaE=u.Ge(I,k);k+=2;a.size=u.sg(I,k);k+=4;a.offset=u.sg(I,k);
k+=4;return a};kk.SY={};kk.SY.Zn=function(I){var k=Date.now(),n;if(j.raw.Fh(I.byteLength))return[j.raw.aiH(I)];
var a=UTIF.decode(I);console.log(a);if(a[0].t33421)n=a[0];else if(a[0].subIFD&&a[0].t271&&a[0].t271[0]=="Hasselblad"){n=a[0].subIFD[0];
n.t33421=[2,2]}else if(a[0].subIFD&&a[0].subIFD[0].t33421){n=a[0].subIFD[0];if(n.t50706==null){if(n.t258[0]==8)n.t258[0]=12}}else if(a[0].subIFD&&a[0].subIFD[0]&&a[0].subIFD[0].t262&&a[0].subIFD[0].t262[0]==34892)n=a[0].subIFD[0];
else if(a[0].t50706)n=a[0];else if(a[0].subIFD&&a[0].subIFD[1]&&a[0].subIFD[1].t33421)n=a[0].subIFD[1];
else if(a[0].subIFD&&a[0].subIFD[2]&&a[0].subIFD[2].t33421)n=a[0].subIFD[2];else if(a[3]&&a[3].t50648){var s=a[0].exifIFD,C=s.makerNote;
n=a[3];var T=C.t224[1],S=C.t224[2];n.t256=[T];n.t257=[S];n.t258=[16];n.t259=[7];n.t262=[32803];n.t277=[1];
n.t33421=[2,2];var D=n.t50656[0],o=j.raw._8[D];if(o==null)throw"e";n.t33422=o}else if(a[0].t1&&a[0].t1.length==4){var v=a[0],g={2:256,3:257,8:277,11:259,271:271,272:272,279:279,280:273,278:278,273:273,278:278},d=v.t280==null;
n={};for(var R in g)if(v["t"+R])n["t"+g[R]]=v["t"+R];n.t2=v.t2;n.t3=v.t3;n.t10=v.t10;n.t45=v.t45;n.t258=[16];
n.t33421=[2,2];var c=v.t9[0];if(d)c=2;n.t33422=[[0,1,1,2],[1,0,2,1],[1,2,0,1],[2,1,1,0]][c-1];var e=v.t4[0],O=v.t5[0],U=v.t6[0],K=v.t7[0];
n.t50829=[e,O,U,K];var _=v.t36[0],Z=v.t37[0],H=v.t38[0];n.t50728=[Z/_,Z/Z,Z/H]}else if(a[0].t258&&a[0].t258[0]>=12&&a[0].t271&&(a[0].t271[0].startsWith("OLYMPUS")||a[0].t271[0].startsWith("OM Digital Solutions"))){n=a[0];
n.t33421=[2,2]}if(n){UTIF.decodeImage(I,n,a);for(var G in a[0])if((G[0]=="t"||G[0]=="e"||G[0]=="d")&&n[G]==null)n[G]=a[0][G];
n.Nm=a[0].t274?a[0].t274[0]:1;return[n]}var N=[];for(var Y=0;Y<a.length;Y++){var z=a[Y],L=null,f=72;
UTIF.decodeImage(I,z,a);if(z.t258&&z.t258[0]==16&&z.t277&&z.t277[0]==1){var p=0,V=0,r=0,y=z.data;for(var W=0;
W<y.length;W+=2){var m=y[W+1]<<8|y[W];if(m>p)p=m;V+=m;r++}L=1/256*65535/(.5*p+.5*(2*V/r))}var h=z.t282,b=z.t296;
if(h!=null&&b!=null){f=h[0][0]/h[0][1];if(b[0]==3)f=Math.round(f/2.54)}if(z.width==null)continue;var i=UTIF.toRGBA8(z,L).buffer,w=ei.oD(z);
console.log(z);N.push({e3:new eZ(0,0,z.width,z.height),data:i,oE:f,Qd:w,Os:z.t34675?z.t34675.slice(0):null})}return N};
kk.SY.G0=function(I,k,a,n){if(n==null)n=[!1];var s={},C=I[0];if(C[3]!=null&&n[0])s=ei.go(C[3]);if(C[2]!=null){s.t282=s.t283=[[Math.round(C[2]),1]];
s.t296=[2]}return UTIF.encodeImage(C[0],k,a,s)};kk.avB={};kk.avB.Zn=function(I){I=new Uint8Array(I);
var k=8,a,n=0;while(k<I.length){var s=u.x8(I,k,4),C=u.C(I,k+4);if(s.startsWith("ic")){var T=I.slice(k+8,k+C),S=kk.V1(T.buffer),D=kk.wV(S),o=D.Zn(T.buffer),v=o[0].e3.c();
if(v>n){n=v;a=o}}k+=C}return a};kk.u1={};kk.u1.di=!0;kk.u1.Zn=function(I,k){eF.SF(I,k)};kk.u1.aoj=function(I,k,a,n){if(n==null)n=[!1,!1,!1,!1,!1];
if(!n[0])I.TB();var s=new ig,C=eF.OM(I,s,n);return[s.data.buffer,C]};kk.u1.G0=function(I,k,a,n){var s=kk.u1.aoj(I,k,a,n),C=s[0],T=s[1];
return C.byteLength==T?C:C.slice(0,T)};kk.sd={};kk.sd.di=!0;kk.sd.Zn=function(I,k){var a=pako.inflate(new Uint8Array(I)),n=u.Ij(a,0),s=u.Ij(a,2),C=4;
k.Q=u.C(a,C);C+=4;k._=u.C(a,C);C+=4;k.buffer=j.U(k.Q*k._*4);var T=u.Ij(a,C);C+=2;C+=4;for(var S=0;S<T;
S++){var D=k.ux(),c=0,f=1,h=2,b=3,i=0;k.R.push(D);var o=u.C(a,C);C+=4;var v=C,g=u.Ij(a,v);v+=2;var d=u.Im(a,v,g);
v+=g;D.GF(d);var R=a[v];v++;if(R!=0&&R!=1)throw R;D.rect.x=u.bL(a,v);v+=4;D.rect.y=u.bL(a,v);v+=4;D.rect.Q=u.C(a,v);
v+=4;D.rect._=u.C(a,v);v+=4;if(n>3){c=u.bL(a,v);v+=4}D.opacity=Math.round(255*a[v]/100);v++;var e=a[v];
v++;D.ol(e!=0);D.pu="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[a[v]];
v++;var O=a[v];v++;if(O)D.add.lspf=1<<31;if(n>3){var U=u.Ij(a,v);v+=2;if(U!=0){var K=JSON.parse(u.Im(a,v,U));
v+=U;var _=K.text,Z=K.textSettings,H=Z.font,G=Z.size,N=Z.padding,z=parseInt(Z.color.slice(1),16);D.add.lnsr="rend";
D.add.TySh=f4.MU(0,0);D.add.TySh.uT=new eZ(0,0,100,100);var L=D.add.TySh.h=new dc,p=D.rect.Q/2,V=D.rect._/2;
L.translate(-p,-V);L.rotate(-c*Math.PI/180);L.translate(p,V);L.translate(D.rect.x+N,D.rect.y+N);var r=D.add.TySh.RW;
f4.IC(r,1);f4.s7(r,[0,0,D.rect.Q-N*2,D.rect._]);f4.lL(r,0,_);var y=f4.dm(r,0,1);y.CX.FontSize=G;y.CX.FillColor={Type:1,Values:[1,(z>>>16&255)/255,(z>>>8&255)/255,(z>>>0&255)/255]};
if(Z.bold)H+="-Bold";f4.YW(y,H);y.i9.Justification=["left","right","center"].indexOf(Z.align);f4.Xy(r,0,_.length,y)}}var W=u.C(a,v);
v+=4;if(W!=D.rect.c()*4){for(var Y=D.rect.Q;Y>D.rect.Q/2;Y--){var m=W/(Y*4);if(m==Math.round(m)){D.rect.Q=Y;
D.rect._=m;break}}}D.buffer=j.U(D.rect.c()*4);if(n>3){f=0;h=1;b=2;i=3}for(var Y=0;Y<W;Y+=4){D.buffer[Y]=a[v+Y+f];
D.buffer[Y+1]=a[v+Y+h];D.buffer[Y+2]=a[v+Y+b];D.buffer[Y+3]=a[v+Y+i]}v+=W;var w=u.C(a,v);v+=4;if(w==0&&n>3){C+=o;
continue}var J=a[v];v++;var q=u.Ij(a,v);v+=2;if(w!=0){D.u=new X.uC;D.u.rect=D.rect.clone();D.u.channel=j.U(D.rect.c());
for(var Y=0;Y<w;Y+=4)D.u.channel[Y>>>2]=a[v+Y+1];v+=w}if(J!=0){var x=JSON.parse(fY.default);D.add.lmfx=x;
for(var Y=0;Y<fY.order.length;Y++)x[fY.zQ[Y]]={t:"VlLs",v:[]};var A={"102":9,"101":2,"103":0,"104":3,"105":8};
for(var Y=0;Y<J;Y++){var Q=u.Ij(a,v),B=v+Q+4,l=a.slice(v,B),P=a[v+2];v+=3;var F=A[P+""],t=JSON.parse(fY.iH[F]);
x[fY.zQ[F]].v.push({t:"Objc",v:t});if(F!=0){t.Md.v.BlnM=aU.Vu("norm");t.Opct.v.val=a[v];v++;if(F==9||F==2){t.Dstn.v.val=a[v+1];
v+=2}else v+=2;t.blur.v.val=Math.round(a[v]*1.2);v++;if(F==9||F==2){t.uglg.v=!1;t.lagl.v.val=180-u.Ij(a,v);
v+=2}t.Clr.v=j.G.pI({$:a[v+1],H:a[v+2],J:a[v+3]})}else{t.hglM.v.BlnM=t.sdwM.v.BlnM=aU.Vu("norm");v+=2;
var b$=a[v++],hd=a[v++];t.blur.v.val=Math.round(Math.sqrt(hd*b$)*1.3);t.srgR.v.val=Math.round(100*b$/hd);
t.uglg.v=!1;t.lagl.v.val=180-u.Ij(a,v);v+=2;t.hglO.v.val=a[v++];t.hglC.v=j.G.pI({$:a[v+1],H:a[v+2],J:a[v+3]});
v+=4;t.sdwO.v.val=a[v++];t.sdwC.v=j.G.pI({$:a[v+1],H:a[v+2],J:a[v+3]});v+=4}v=B}}if(v-C<o){var di=u.C(a,v),eJ=0;
v+=4;v++;var g=u.Ij(a,v);v+=2;var _=u.Im(a,v,g);v+=g;_=_.replace(/\r/g,"\n");var g=u.Ij(a,v);v+=2;var H=u.Im(a,v,g);
v+=g;var G=u.Ij(a,v);v+=2;var hD=D.rect.x,a$=D.rect.Q;if(di&4)eJ=1;if(di&2)eJ=2;var hY=Math.round(G*.4);
if(eJ==0||eJ==2)a$+=hY;if(eJ==1||eJ==2){a$+=hY;hD-=hY}D.add.lnsr="rend";D.add.TySh=f4.MU(0,0);D.add.TySh.uT=new eZ(0,0,100,100);
D.add.TySh.h=new dc(1,0,0,1,hD,D.rect.y+G*.25);var r=D.add.TySh.RW;f4.IC(r,1);f4.s7(r,[0,0,a$,D.rect._]);
f4.lL(r,0,_);var y=f4.dm(r,0,1);y.CX.FontSize=G;y.CX.FillColor={Type:1,Values:[1,a[v+1]/255,a[v+2]/255,a[v+3]/255]};
v+=4;if(a[v+5])H+="-Bold";if(a[v+6])H+="-Italic";f4.YW(y,H);y.i9.Justification=eJ;v+=8;f4.Xy(r,0,_.length,y)}C+=o}};
kk.sC={};kk.sC.di=!0;kk.sC.Zn=function(I,k){var a=UZIP.parse(I),n=JSON.parse(u.Im(a["manifest.json"].buffer));
k.Q=n.width;k._=n.height;k.buffer=j.U(k.Q*k._*4);k.name=n.name+".psd";var s=n.stack;for(var C=0;C<s.length;
C++){var T=s[C],S=T.type,D=T.rect,o=T.format,v=k.ux();v.GF(T.name);v.ol(T.visible);v.opacity=Math.round(255*T.opacity);
var g=v.rect=new eZ(D.x,D.y,D.w,D.h),d=D.r;if(d==null)d=0;k.R.push(v);if(S=="image"&&d!=0||S=="shape"&&o.variant=="svg"){var R=k.MA(a[T.content],v.getName(),0,0);
R.HA=v.HA;R.opacity=v.opacity;v=R;k.R.pop();k.R.push(v);var c=j.X.Eu(g).s;j.X.h(c,kk.sC.I5(g,d),c);v.add.SoLd.Trnf=E.nF.D1(c);
v.add.SoLd.nonAffineTransform=E.nF.D1(c);v.Bi(k,!1)}else if(S=="image"){if(g.c()!=0){var e=a[T.content].buffer,O=kk.V1(e),U=kk.wV(O),K=U.Zn(e)[0];
g.Q=K.e3.Q;g._=K.e3._;v.buffer=new Uint8Array(K.data)}}else if(S=="shape"){v.HA|=16;var _=v.add.vstk=fY.Lg.nI(!0),Z=v.add.vmsk=new X.JB,H;
v.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.G.pI({$:0,H:0,J:0})}};var G=o.variant,N=o.fill;if(G=="rectangle"||G=="rounded"){H=j.n.uQ.Rect(g.x,g.y,g.Q,g._,o.radii)}else if(G=="ellipse"){H=j.n.uQ.hO(g.x,g.y,g.Q,g._)}else if(G=="path"){var z=Typr.U.SVGToPath(T.content),L={m:z.cmds,s:z.crds};
H=j.X.ep(L);var p=j.n.oz(H);j.n.de(H,new dc(g.Q/p.Q,0,0,g._/p._,g.x,g.y))}else console.log(o);v.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.G.pI({$:0,H:0,J:0})}};
if(N==null){_.fillEnabled.v=!1}else if(N.type=="color"){v.add.SoCo.Clr.v=j.G.pI(CSS.rh(N.value))}else if(N.type=="gradient"){delete v.add.SoCo;
var V=v.add.GdFl=JSON.parse(fY.iH[fY.order.indexOf("GrFl")]),r=V.Grad.v;r.Intr.v=0;var y=[],W=N.value.stops;
for(var Y=0;Y<W.length;Y++){var m=W[Y],f=CSS.rh(m.color);y.push([m.position,[f.$/255,f.H/255,f.J/255]])}j.G.gD(y,r);
V.Angl.v.val=-(N.value.direction+d)+90+180}else console.log(N);var h=kk.sC.I5(g,d);j.n.de(H,h);var b=T.style;
if(b&&b.outline){var i=b.outline;_.strokeEnabled.v=!0;_.strokeStyleLineWidth.v.val=i.size;_.strokeStyleContent.v.Clr.v=j.G.pI(CSS.rh(i.color))}Z.d=H;
v.Bb();v.Wr(k)}else if(S=="text"){v.add.lnsr="rend";v.add.TySh=f4.MU(0,0);v.add.TySh.uT=new eZ(0,0,100,100);
var w=v.add.TySh.RW;f4.IC(w,1);f4.s7(w,[0,0,g.Q,g._]);var J=T.content;f4.lL(w,0,J);var q=f4.dm(w,0,Math.min(J.length,1));
f4.YW(q,o.font.name);var x=q.CX.FontSize=Math.round(o.size);if(o.fill&&o.fill.value){var A=CSS.rh(o.fill.value);
q.CX.FillColor={Type:1,Values:[1,A.$/255,A.H/255,A.J/255]}}var Q=o.linespace;if(Q){q.CX.AutoLeading=!1;
q.CX.Leading=Math.round(x*(1.06+parseFloat(Q)));console.log(Q,q.CX)}q.CX.FauxBold=o.bold;q.i9.Justification=["left","right","center","justify"].indexOf(o.align);
f4.Xy(w,0,J.length,q);v.add.TySh.h=new dc(1,0,0,1,g.x+Math.round(x*.1),g.y+Math.round(x*.1));v.rect=new eZ}else console.log(T)}k.P5=!0};
kk.sC.I5=function(I,k){var a=I.x+I.Q/2,n=I.y+I._/2,s=new dc;s.translate(-a,-n);s.rotate(-k*Math.PI/180);
s.translate(a,n);return s};kk.tB={};kk.tB.di=!0;kk.tB.Zn=function(I,k){k7.SF(I,k)};var k7=function(){function I(g,d){var R=Date.now(),c=UZIP.parse(g),e=c["maindoc.xml"],O=new DOMParser,U=O.parseFromString(u.Im(e),"image/svg+xml").children[0].children[0],K=U.getAttribute("name"),_=d.Q=o(U,"width"),Z=d._=o(U,"height");
d.oE=Math.round(o(U,"x-res"));var H=U.children[0].children;k(H,d,{Oo:K,Bm:c,kP:null});console.log(Date.now()-R);
R=Date.now()}function k(g,d,R){for(var c=0;c<g.length;c++){var e=g[g.length-1-c],O=e.getAttribute("nodetype");
if(O=="transparencymask"){R.kP.u=v(e,R);continue}var U=e.getAttribute("compositeop"),K=e.getAttribute("filename"),_=e.getAttribute("channelflags"),Z=e.children;
Z=Z.length==0?null:Z[0].children;var H=d.ux();if(O=="paintlayer"){var G=o(e,"x"),N=o(e,"y"),z=R.Bm[R.Oo+"/layers/"+K+".defaultpixel"],L=R.Bm[R.Oo+"/layers/"+K],p=D(L);
H.rect=p[0];H.rect.offset(G,N);H.buffer=p[1];if(H.rect.KH()&&z.join()!="0,0,0,0"){H.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.G.pI({$:z[0],H:z[1],J:z[2]})}};
H.Wr(d)}}else if(O=="grouplayer"){H.add.lsct=gA.rW;H.pu="pass";H.HA|=24;d.R.push(d.KM());var V=R.kP;
R.kP=H;k(Z,d,R);R.kP=V}else if(O=="shapelayer"){var L=R.Bm[R.Oo+"/layers/"+K+".shapelayer/content.svg"],r=u.Im(L),y=d.MA(L,H.getName(),0,0);
H=y;var W=new eZ(0,0,d.Q,d._),m=j.X.Eu(W).s;H.add.SoLd.Trnf=E.nF.D1(m);H.add.SoLd.nonAffineTransform=E.nF.D1(m);
H.Bi(d,!1)}else if(O=="clonelayer"){var Y=-1;for(var f=0;f<g.length;f++)if(g[f].getAttribute("name")==e.getAttribute("clonefrom"))Y=f;
if(Y!=-1){k([g[Y]],d,R);H=d.R.pop()}}else console.log(O,e);H.GF(e.getAttribute("name"));if(o(e,"locked")==1)H.add.lspf=1<<31;
H.ol(o(e,"visible")==1);var h={normal:"norm",multiply:"mul ",diff:"diff",hard_light:"hLit"}[U];if(h)H.pu=h;
else console.log(U);H.opacity=o(e,"opacity");if(_=="1110")H.Pi=!0;var b=Z?Z[0]:null;if(b&&b.tagName=="mask")H.u=v(b,R);
d.R.push(H)}}function a(g,d){var R=0,c=0,e=g.length,O,U,K;while(R<e){O=g[R++];if(O>31){U=O>>>5;if(U==7)U=7+g[R++];
K=(O&31)<<8|g[R++];var _=c-K-1,Z=U>>>1;d[c++]=d[_++];d[c++]=d[_++];for(var Y=0;Y<Z;Y++){d[c++]=d[_++];
d[c++]=d[_++]}if((U&1)==1)d[c++]=d[_++]}else{for(var Y=0;Y<=O;Y++){d[c++]=g[R++]}}}}function n(g,d){var R=0;
while(g[d+R]!=10)R++;return u.x8(g,d,R)}var s=new eZ(0,0,64,64),C=new Uint8Array(64*64*4),T=new Uint8Array(64*64*4);
function S(){for(var Y=0;Y<4096;Y++){var g=Y<<2;C[g+0]=T[Y+8192];C[g+1]=T[Y+4096];C[g+2]=T[Y];C[g+3]=T[Y+12288]}}function D(g){var d=0,R={};
for(var Y=0;Y<5;Y++){var c=n(g,d);d+=c.length+1;c=c.split(" ");R[c[0]]=parseInt(c[1])}var e=R.PIXELSIZE,O=[],U=new eZ;
while(d<g.length){var c=n(g,d),K=c.split(",");d+=c.length+1;if(K[2]!="LZF")throw K[2];s.x=parseInt(K[0]);
s.y=parseInt(K[1]);U=U.oL(s);var _=parseInt(K[3]);O.push([s.clone(),new Uint8Array(g.buffer,d+1,_-1)]);
d+=_}var Z=j.U(U.c()*e);for(var Y=0;Y<O.length;Y++){var H=O[Y];a(H[1],T);if(e==4){S();j.ao(C,H[0],Z,U)}else j.O0(T,H[0],Z,U)}return[U,Z]}function o(g,d){return parseInt(g.getAttribute(d))}function v(g,d){var R=g.getAttribute("filename"),c=d.Bm[d.Oo+"/layers/"+R+".pixelselection"],e=D(c),O=new X.uC;
O.U6=o(g,"visible")==1;O.rect=e[0];O.channel=e[1];return O}return{SF:I}}();kk.O9={};kk.O9.di=!0;kk.O9.Zn=function(I,k){dC.SF(I,k)};
kk.I7={};kk.I7.Zn=function(I){var k=new Uint8Array(I),a=kk.I7.Og(k,0,0),n=a.sub[2],s=kk.I7.awt(k,n),C=a.sub[3],T=kk.I7.awt(k,C);
return[s,T]};kk.I7.awt=function(I,k){var a=k.sub[k.sub.length-1],n=a.sub[0].i,s=a.sub[1].i,C=I.slice(n,n+16),T=I.slice(s,s+a.sub[1].size),S=u.sg,D=I[n],o=S(I,n+1),v=S(I,n+5),g=I[n+13],d=new eZ(0,0,o,v),R=j.U(o*v*4);
if(g){new Uint32Array(R.buffer).fill(4278190080)}else{UTEX.readBC1(I,s,R,o,v)}return{e3:d,data:R}};kk.I7.Og=function(I,k,a){var n=u.x8,s=u.sg,C=n(I,k,4);
C=C.split("").reverse().join("");var T=s(I,k+4);if(T!=0){console.log(I.slice(k-8));throw T}var S=s(I,k+8);
while((S&3)!=0)S++;var D={DZ:C,i:k+12,size:S};if(C=="CARF"||C=="CTEX"||C=="CREW"||C=="BMAP"){D.sub=[];
k+=12;if(C=="CTEX"||C=="CREW")k+=32;var o=D.i+D.size;while(k<o){var v=kk.I7.Og(I,k,a+1);D.sub.push(v);
k+=12+v.size+(v.size&1)}}return D};kk.DN={};kk.DN.di=!0;kk.DN.Zn=function(I,k){dK.SF(I,k)};kk.Q3={};
kk.Q3.di=!0;kk.Q3.Zn=function(I,k){jz.SF(I,k)};kk.UO={};kk.UO.di=!0;kk.UO.Zn=function(I,k){ej.SF(I,k)};
kk.Ys={};kk.Ys.di=!0;kk.Ys.Zn=function(I,k){dR.SF(I,k)};kk.s_={};kk.s_.di=!0;kk.s_.Zn=function(I,k){iN.SF(I,k)};
kk.io={};kk.io.di=!0;kk.io.G0=function(I,k,a,n,s,C){if(n==null)n=[!0,!1,!1,!1,!0];var T=av.TZ(I,{fa:n[0],hidden:n[1],a3R:n[2],agC:n[3],i1:n[4],a6_:k,aup:a},s.IE,C);
return T};kk.io.Zn=function(I,k,a){av.SF(I,k,a)};kk.QF={};kk.QF.di=!0;kk.QF.Zn=function(I,k){var a=150,n=new dc(1,0,0,-1,0,0);
n.scale(a/72,a/72);k.oE=a;var s=new gG(k,n,!0);FromPS.Parse(I,s)};kk.BH={};kk.BH.di=!0;kk.BH.G0=function(I,k,a,n,s){if(n==null)n=["",100,!1,!1,!1,0,!1];
n[7]=["jpg"];var C=new ToPDF;hx.TZ(I,n,C,s.IE,k,a);return C.buffer};kk.BH.Zn=function(I,k,a){var n=2;
while(!0){var s=n*72,C=new dc(1,0,0,-1,0,0);C.scale(s/72,s/72);k.oE=s;var T=new gG(k,C,!0);FromPDF.Parse(I,T);
var S=Math.max(k.Q,k._);if(a&&S<Math.max(a[0],a[1])){k.R=[];var D=n;while(S*(n/D)<Math.max(a[0],a[1]))n++}else break}};
kk.xd={};kk.xd.di=!0;kk.xd.Zn=function(I,k){var a=72,n=new dc(1,0,0,1,0,0);n.scale(a/72,a/72);k.oE=a;
var s=new gG(k,n,!1);FromWMF.Parse(I,s)};kk.cu={};kk.cu.RZ=!0;kk.cu.di=!0;kk.cu.G0=function(I,k,a,n,s){if(n==null)n=["",100,!1,!1,!1,0,!1];
n[7]=[];var C=new ToEMF;hx.TZ(I,n,C,s.IE);return C.buffer};kk.cu.Zn=function(I,k){var a=72,n=new dc(1,0,0,1,0,0);
n.scale(a/72,a/72);k.oE=a;var s=new gG(k,n,!1);FromEMF.Parse(I,s)};kk.H2={};kk.H2.di=!0;kk.H2.Zn=function(I,k){return h6.SF(I,k)};
kk.a1c={};kk.a1c.Zn=function(){var I,k,a,n,s,C,T=0,S=0,D=0,o=0,v=0,K="eJzt0lGR6kAUBNBIQEIkICESWgISkICESLgSIgEJkbAS2sG+s7AO+HkfO1RXQZPcOanJsnx/L5/k489n2/+tv/W3PlwXWeUqm0RucpeH7DJyyFNO+ZL+NwOuv9fvv//3PW7Vr/pVv+rXvsdv+k2/6Tf91vftN/3Nl5v+pr/1PXLX7/rdj12/90059If+0B/6o2/aqT/1p/7Un31Tq6+++urb15OGPwCxWfjj4vCHP/zhD3/4wx/+8Ic//OGPseEPf/jDH/7YKvzhD3/4wx/+8Ic//OEPf/jDH/7whz/84Q9/+MMf/vDP62SucpNdnqLnH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7XsfCXv/zl/2nLX/7yl7/85S9/+ctf/vKX/3Ws/OUvf/nL/zpq/vKXv/zlL3/5y1/+8pe//OUvf/nLX/7+vEL8tVENLX+Vl8tlWdd1uV6vy7ZtS+JNYrjf78vj8fDKetaZ5TiO5fl8Lud5Ll9fX/8ACveX4A==",_=null;
function g(Z){var H=k4.SF(Z),G=H.qo,r=0,y,W;console.log(H);var N=new Uint8Array(Z);if(G=="ILBM")return d(H,N);
if(G=="CIMG")return e(H,N);if(G=="ANIM"&&H.sub[0].DZ=="ADAT")return U(H,N);if(G!="ANIM")throw G;var z=u.Ij,L=u.C,p=H.sub,V=d(p[0],N);
for(var m=1;m<p.length-2;m++){var f=V[Math.max(0,m-2)].aoX.slice(0),h=p[m];for(var b=0;b<h.sub.length;
b++){var i=h.sub[b],w=i.i;if(i.DZ=="ANHD"){var J=N[w++];if(J!=5)throw J;var n=N[w++],q=z(N,w),x=z(N,w+2);
if(q!=0&&q!=I)throw q;if(x!=0&&x!=k)throw x;var A=z(N,w+4),Q=z(N,w+6);if(A!=0||Q!=0)throw A;w+=8;var B=z(N,w);
w+=2;y=z(N,w);w+=2;if(N[w++]!=0)throw"e";if(N[w++]!=0)throw"e";W=z(N,w);w+=2}else if(i.DZ=="DLTA"){var l=[],P=w;
for(var Y=0;Y<16;Y++)l.push(L(N,w+Y*4));w+=64;var F=C;for(var t=0;t<s;t++){if(l[t]==0)continue;w=P+l[t];
for(var b$=0;b$<F;b$++){var hd=N[w++],di=0;if(hd==0)continue;for(var Y=0;Y<hd;Y++){var hD=N[w++];if(hD==0){var a$=N[w++],ik=N[w++];
for(var fw=0;fw<a$;fw++){f[(di*s+t)*F+b$]=ik;di++}}else if(hD<128){di+=hD}else{hD-=128;for(var fw=0;
fw<hD;fw++){f[(di*s+t)*F+b$]=N[w+fw];di++}w+=hD}}}}}else console.log(i.DZ)}if(m==1&&y>100)y=0;var jb=y==0?17:Math.round((y-r)*1e3/60);
V.push({data:c(N,f).buffer,e3:new eZ(0,0,I,k),aoX:f,Dq:"_a_frm"+m+","+jb});r=y}if(D!=0&&I>k*2){var cd=new Uint32Array(I*k*2);
cd.fill(4294967295);for(var m=0;m<V.length;m++){var dN=V[m],kc=new Uint32Array(dN.data);for(var di=0;
di<k;di++){var ck=di*2;for(var b$=0;b$<I;b$++)cd[ck*I+b$]=kc[di*I+b$];ck++;for(var b$=0;b$<I;b$++)cd[ck*I+b$]=kc[di*I+b$]}dN.e3._*=2;
dN.data=cd.slice(0).buffer}}return V}function d(Z,H){var G,N,z;T=0;S=0;o=0;v=0;D=0;for(var L=0;L<Z.sub.length;
L++){var p=Z.sub[L],V=p.i;if(p.DZ=="BMHD"){var r=[];for(var Y=0;Y<4;Y++)r[Y]=u.Ij(H,V+2*Y);V+=8;var y=r[2],W=r[3];
I=r[0];k=r[1];a=H[V++];n=H[V++];z=H[V++];if(z!=0&&z!=1)throw z;C=I+15>>>4<<1;s=a+n}else if(p.DZ=="CMAP")T=V;
else if(p.DZ=="CAMG"){var m=u.C(H,V);S=m&32768,D=m&4,o=m&2048;v=m&128}else if(p.DZ=="BODY"){N=j.U(C*k*s);
if(z==0)N=H.slice(V,V+N.length);if(z==1)fC.D0(H,V,p.size,N,0,N.length)}else if(p.DZ=="PLTP"){console.log(H.slice(V,V+p.size))}}G=c(H,N);
return[{e3:new eZ(0,0,I,k),data:G.buffer,aoX:N}]}function R(Z,bQ){return Z[bQ>>>3]>>>7-(bQ&7)&1}function c(Z,H){var G=a-2,N=(1<<G)-1,z=Math.round(255/N),L,p,V,r=C*8;
if(T!=0){var y=1<<a,W=!0;for(var Y=1;Y<y;Y++){var m=T+Y*3;if(Z[m]!=Z[m-3]||Z[m+1]!=Z[m-2]||Z[m+2]!=Z[m-1]&&Z[m+2]!=Z[m-1]+1)W=!1}if(W){for(var Y=0;
Y<y;Y++){var m=T+Y*3,f=Math.round(Y*255/(y-1));Z[m]=Z[m+1]=Z[m+2]=f}}}var h=j.U(I*k*4);for(var b=0;b<k;
b++)for(var i=0;i<I;i++){var w=0;for(var J=0;J<s;J++){var q=(b*s+J)*r+i,x=R(H,q);w|=x<<J}w=w&(1<<a)-1;
var Y=b*I+i,A=Y<<2;if(T!=0){if(o!=0&&w>>>G!=0){var Q=w>>>G,B=(w&N)*z;if(Q==1)V=B;else if(Q==2)L=B;else if(Q==3)p=B}else{var B=T+w*3;
L=Z[B+0];p=Z[B+1];V=Z[B+2]}}else{if(a==24){L=w>>>0&255;p=w>>>8&255;V=w>>>16&255}else if(a==16){var l=0,P=1,t=4;
for(var J=0;J<16;J++)l+=(w>>>J&1)<<15-J;var F=(1<<P)-1,b$=(1<<t)-1;L=(l>>>7&F)*(255/F);p=V=L}else throw a}h[A+0]=L;
h[A+1]=p;h[A+2]=V;h[A+3]=255}return h}function e(Z,H){var G=1,N=2,z=4,L=u.C,p=u.Ij,I=200,k=200,V,r,y,W;
for(var m=0;m<Z.sub.length;m++){var f=Z.sub[m],h=f.i;if(f.DZ=="TBHD"){I=L(H,h);h+=4;k=L(H,h);h+=4;W=j.U(I*k*4);
y=new eZ(0,0,I,k);h+=4;var b=L(H,h);h+=4;var i=p(H,h);h+=2;if(i!=0)throw"e";r=p(H,h);h+=2;var w=L(H,h);
h+=4;if(w!=1)throw w;V=0;if(b&G)V+=3;if(b&N)V+=1}if(f.qo=="TBMP"){var J=f.sub;for(var q=0;q<J.length;
q++){var x=J[q].i,A=J[q].size,Q=p(H,x),B=p(H,x+2),l=p(H,x+4)-Q+1,P=p(H,x+6)-B+1;x+=8;var F=j.U(l*P*4),t=j.U(l*P);
F.fill(255);for(var Y=0;Y<4;Y++){x=O(H,x,A-8,t,0);j.yv(t,F,3-Y)}if(x!=J[q].i+A)throw"e";j.ao(F,new eZ(Q,B,l,P),W,y)}}}return[{e3:y,data:W.buffer}]}function O(Z,H,G,N,z){var L=H;
while(z<N.length){var p=Z[H++],bC=(p&127)+1;if(p&128){p=Z[H++];for(var Y=0;Y<bC;++Y)N[z++]=p}else{for(var Y=0;
Y<bC;++Y)N[z++]=Z[H++]}}return H}function U(Z,H){if(_==null){var G=kk.gu(K);_=new Uint32Array(pako.inflate(new Uint8Array(G)).buffer)}var N=u.C,z=u.Ij,L=Z.sub[0],p=Z.sub[1],I=z(H,L.i),k=z(H,L.i+2),V=z(H,L.i+4),f,Y,h,b,i,w;
if(V!=3)throw V;var r=new eZ(0,0,I,k),y=j.U(I*k*4),W=j.U(I*k);y.fill(255);var m=new Uint32Array(y.buffer),J=p.i;
for(b=0;b<2;b++){w=b;i=0;f=Math.floor((I*k+2-b-1)/2);while(f>0){Y=H[J++];if(Y&128){Y=257-Y;f-=Y;h=H[J++];
i=i&_[h]|_[h+256];do{m[w]=i;w+=2}while(--Y)}else{Y++;f-=Y;do{h=H[J++];m[w]=i=i&_[h]|_[h+256];w+=2}while(--Y)}}}for(var Y=0;
Y<y.length;Y+=4){var q=y[Y+3],x=y[Y+2],A=y[Y+1];y[Y]=q;y[Y+1]=x;y[Y+2]=A;y[Y+3]=255}for(var Q=0;Q<k>>>1;
Q++){for(var B=0;B<I;B++){var Y=Q*I+B,h=(k-1-Q)*I+B,l=m[Y];m[Y]=m[h];m[h]=l}}return[{e3:r,data:y.buffer}]}return g}();
kk.bt={};kk.bt.di=!1;kk.bt.G0=function(I,k,a,n){var s=I[0][4],C=new Uint8Array(I[0][0]),T=2,S=s?!0:!1,D=S?4:3,o=new Uint8Array(k*a*D);
for(var v=0;v<a;v++)for(var g=0;g<k;g++){var d=v*k+g<<2,R=((a-v-1)*k+g)*D;o[R]=C[d+2];o[R+1]=C[d+1];
o[R+2]=C[d+0];if(S)o[R+3]=s[0][v*k+g]}if(!0){var c=o.length,e=0,O=new Uint8Array(c*2),U=0,K=0,_=k*D;
while(K<c){var Z=K,H=0,G=_*(Math.floor(K/_)+1);while(Z<G&&H<128){var N=!0;for(var Y=0;Y<D;Y++)N=N&o[K+Y]==o[Z+Y];
if(!N)break;Z+=D;H++}if(H==1){var z=1;while(z<128&&K+(z+1)*D<G){var N=!0,L=K+z*D;for(var Y=0;Y<D;Y++)N=N&o[L+Y]==o[L+D+Y];
if(N)break;z++}O[U++]=z-1;for(var p=0;p<z;p++)for(var Y=0;Y<D;Y++)O[U++]=o[K++]}else{O[U++]=127+H;for(var Y=0;
Y<D;Y++)O[U+Y]=o[K+Y];U+=D;K+=D*H;e+=H}}o=O.slice(0,U);T+=8}var V=new Uint8Array(18+o.length+26);V[2]=T;
u.kS(V,12,k);u.kS(V,14,a);V[16]=D*8;V[17]=D==4?8:0;V.set(o,18);u.ei(V,18+o.length+8,"TRUEVISION-XFILE.");
return V.buffer};kk.bt.Zn=function(I){var k=new Uint8Array(I),a=0,n=k[0],s=k[1],C=k[2],T=k[4]*256+k[3],S=k[6]*256+k[5],D=k[7],o=k[9]*256+k[8],v=k[11]*256+k[10],g=k[13]*256+k[12],d=k[15]*256+k[14],R=k[16],c=k[17],e=c>>>4,O=u.x8(k,18,n),U=j.U(g*d*4),a=18+n+(S*D>>>3),K=new Uint8Array(k.buffer,a);
if(C>3){var _=0,Z=k,H=new Uint8Array(g*d*R>>>3),G=a,N=0,z=k.length,L=R>>>3;while(N<H.length){var bQ=Z[G];
G++;if(bQ<128)for(var Y=0;Y<bQ+1;Y++){for(var p=0;p<L;p++){H[N]=Z[G];N++;G++}}else{for(var Y=0;Y<bQ-127;
Y++){for(var p=0;p<L;p++){H[N]=Z[G+p];N++}}G+=L}}C-=8;K=H;a=G}else a+=g*d*R>>>3;var V=new Uint8Array(4),r=kk.bt.amE;
for(var y=0;y<d;y++)for(var W=0;W<g;W++){var m=(e&2)==0?(d-y-1)*g+W:y*g+W,f=y*g+W,h,b,i,w=255,J=m*R>>>3;
if(C==1){var q=0;if(R==8)q=K[J];else throw"e";r(k,18+n+T+(q*D>>>3),D,V);h=V[0];b=V[1];i=V[2];w=V[3]}else if(C==2){r(K,J,R,V);
h=V[0];b=V[1];i=V[2];w=V[3]}else if(C==3){if(R==8)h=b=i=K[J];else throw"e"}var x=f*4;U[x]=h;U[x+1]=b;
U[x+2]=i;U[x+3]=w}var V={e3:new eZ(0,0,g,d),data:U.buffer,Dq:O};if(j.zA(U)){var A=j.U(g*d);j.Ez(U,A,3);
j.IP(U,4278190080,16777215);V.TL=[A]}return[V]};kk.bt.amE=function(I,k,a,n){var s,C,T,S=255;if(a==24||a==32){T=I[k];
C=I[k+1];s=I[k+2];if(a==32)S=I[k+3]}else if(a==16){var D=I[k+1]<<8|I[k+0];s=D>>>10&31;C=D>>>5&31;T=D>>>0&31;
s=Math.round(s*(255/31));C=Math.round(C*(255/31));T=Math.round(T*(255/31))}else throw"e";n[0]=s;n[1]=C;
n[2]=T;n[3]=S};kk.ace=function(){var I,k=[],a=!1;function n(T,S,D,o){I=D;k.push(T,o);s()}function s(){if(a||k.length==0)return;
a=!0;kk.aD5(k.shift(),"image/avif",C)}function C(T){I(null,[T],k.shift());a=!1;s()}return{di:!1,Gr:!0,Zn:n}}();
kk.aAs=function(){var I,k=[],a=!1,n,s,C,T=10,S,D,o,v=0,d;function g(_,Z,H,G,N){I=H;k.push(_,G);var z=iB.SF(_),L=iB.af7(z,"vide"),p=L.tkhd,V=L.mdia.minf.stbl,r=p.duration/z.moov.mvhd.Dk,y=V.stsz.length,W=Math.round(y/r);
console.log(z);n=p.Qq;s=p.L4;var m=n+" \xD7 "+s+" px, "+y+" frames, "+jm.z3(n*s*4*y)+" decoded<br/>";
m+=r.toFixed(2)+" seconds, "+W+" FPS";var f=new d2(M.E.b,!0);f.data={q:M.p.Fu,aw:"setFPS",P6:T,h1:e,a1$:m};
N.a(f)}async function R(){if(a||k.length==0)return;a=!0;var _=k.shift(),Z=iB.SF(_),H=iB.af7(Z,"vide"),G=H.tkhd,N=H.mdia.minf.stbl,z=N.stsd.asJ.avcC,L=G.duration/Z.moov.mvhd.Dk,p=N.stsz.length,V=Math.round(p/L),r=Math.max(1,Math.round(V/T)),y=N.stsd.FT,f=0;
console.log(y);if(["hvc1","hev1","apcn"].indexOf(y)!=-1)alert(y.toUpperCase()+" codec not supported");
d=Date.now();n=G.Qq;s=G.L4;C=[];S=document.createElement("canvas");D=S.getContext("2d");S.width=n;S.height=s;
var W=new Uint8Array(_),m=[];if(y=="raw "||y=="rle "){for(var h=0;h<p;h++){var b=n*s;if(f%r==0){var i=iB.axS(Z,"vide",h),w=new Uint8Array(_,i[0],i[1]),J=j.U(n*s*4);
J.fill(255);if(y=="rle "){var q=new Int8Array(_,i[0],i[1]),x=6,A=0;while(x<w.length){var Q=q[x];x++;
A+=(Q-1)*4;while(x<w.length){var B=q[x];x++;if(B==0){Q=q[x];A+=(Q-1)*4}else if(B==-1)break;else if(B>0){for(var Y=0;
Y<B*4;Y++){J[A]=w[x];A++;x++}}else if(B<-1){for(var Y=0;Y<-B;Y++){J[A]=w[x];J[A+1]=w[x+1];J[A+2]=w[x+2];
J[A+3]=w[x+3];A+=4}x+=4}}}}else for(var Y=0;Y<b;Y++){var l=Y*4,P=Y*3;J[l]=w[P];J[l+1]=w[P+1];J[l+2]=w[P+2]}var F=C.length;
C[F]={Dq:"_a_"+F+","+Math.round(r*1e3/V),e3:new eZ(0,0,n,s),data:J}}f++}c();return}var t=new VideoDecoder({output:function(di){if(f%r==0){D.drawImage(di,0,0);
di.close();var J=D.getImageData(0,0,n,s).data.buffer,F=C.length;C[F]={Dq:"_a_"+F+","+Math.round(r*1e3/V),e3:new eZ(0,0,n,s),data:J}}else di.close();
clearTimeout(v);v=setTimeout(c,100);f++},error:function(di){console.log(di.message)}}),b$={codec:"vp09.00.10.08",codedWidth:n,codedHeight:s};
if(z){b$.codec="avc1.640034";b$.description=W.slice(z.i,z.i+z.mk)}t.configure(b$);for(var Y=0;Y<p;Y++){var i=iB.axS(Z,"vide",Y),w=new Uint8Array(_,i[0],i[1]),hd=new EncodedVideoChunk({timestamp:Y,duration:1e3,type:Y==0?"key":"delta",data:w});
t.decode(hd)}await t.flush()}function c(){I(null,C,k.shift());a=!1;console.log(Date.now()-d);R()}function e(_){T=Math.max(1,Math.min(60,_));
if(window.VideoDecoder)R();else O()}function O(){if(a||k.length==0)return;a=!0;S=document.createElement("canvas");
D=S.getContext("2d");o=document.createElement("video");var _="data:"+"video/mp4"+";base64,"+kk.Tk(k.shift());
o.src=_;o.muted=!0;o.currentTime=0;o.addEventListener("canplay",U,!1);o.addEventListener("timeupdate",K,!1)}function U(_){o.removeEventListener("canplay",U);
n=S.width=o.videoWidth;s=S.height=o.videoHeight;C=[];o.play()}function K(_){clearTimeout(v);D.drawImage(o,0,0);
C.push({Dq:"_a_"+C.length+","+Math.round(1e3/T),e3:new eZ(0,0,n,s),data:D.getImageData(0,0,n,s).data.buffer});
var Z=o.currentTime+1/T;if(Z<o.duration&&_){o.currentTime=Z;v=setTimeout(K,1e3)}else{I(null,C,k.shift());
o.removeEventListener("timeupdate",K);a=!1;O();C=null}}return{di:!1,Gr:!0,Zn:g}}();kk.aAs.G0=function(){var I,k,a,n,s,C,T=[0,0,0,24,102,116,121,112,109,112,52,50,0,0,0,0,109,112,52,50,105,115,111,109,0,0,0,8,102,114,101,101],S=40,D,o,v,g,d,R;
function c(y,W){if(!s&&W){if(W.description){s=W.description}if(W.decoderConfig&&W.decoderConfig.description){s=W.decoderConfig.description}}var m=new ArrayBuffer(y.byteLength);
y.copyTo(m);e(m);a.push({duration:y.duration,timestamp:y.timestamp,type:y.type,byteLength:y.byteLength});
if(y.type=="key"){n.push(a.length)}}function e(y){var W=new Uint8Array(C.byteLength+y.byteLength);W.set(new Uint8Array(C));
W.set(new Uint8Array(y),C.byteLength);C=W.buffer}function O(y){return new Uint8Array([y.charCodeAt(0),y.charCodeAt(1),y.charCodeAt(2),y.charCodeAt(3)]).buffer}function U(y){var W=new Uint32Array([y]),m=new Uint8Array(W.buffer);
return new Uint8Array([m[3],m[2],m[1],m[0]])}function K(y){d[g]=y;++g}function _(y){d[g]=y>>8&255;d[g+1]=y&255;
g+=2}function Z(y){d[g]=y>>16&255;d[g+1]=y>>8&255;d[g+2]=y&255;g+=3}function H(y){d[g]=y>>24&255;d[g+1]=y>>16&255;
d[g+2]=y>>8&255;d[g+3]=y&255;g+=4}function G(y){v.push(g);g+=4;N(y)}function N(y){for(var Y=0;Y<y.length;
++Y){d[g]=y.charCodeAt(Y);++g}}function z(y){d.set(new Uint8Array(y),g);g+=y.byteLength}function L(){var y=g;
g=v.pop();H(y-g);g=y}function p(){v=[];var y=[],W={},m=9e4,f=a.length,h=n.length,b=-1;for(var Y=0;Y<a.length;
++Y){D+=a[Y].duration/1e3;o+=a[Y].byteLength;if(a[Y].duration!=b){if(Y!=0){y.push(W)}b=a[Y].duration;
W={duration:9e4*a[Y].duration/1e6,sampleCount:1}}else{W.sampleCount=W.sampleCount+1}}o+=8;y.push(W);
var i=y.length,w=579+s.byteLength+4*f+4*f+4*h+8*i;d=new Uint8Array(w);g=0;G("moov");G("mvhd");H(0);H(0);
H(0);H(1e3);H(D);H(65536);_(256);_(0);H(0);H(0);H(65536);H(0);H(0);H(0);H(65536);H(0);H(0);H(0);H(1073741824);
H(0);H(0);H(0);H(0);H(0);H(0);H(2);L();G("trak");G("tkhd");H(7);H(0);H(0);H(1);H(0);H(D);H(0);H(0);_(0);
_(0);_(256);_(0);H(65536);H(0);H(0);H(0);H(65536);H(0);H(0);H(0);H(1073741824);H(I*65536);H(k*65536);
L();G("mdia");G("mdhd");H(0);H(0);H(0);H(m);H(D/1e3*m);K(85);K(196);_(0);L();G("hdlr");H(0);H(0);N("vide");
H(0);H(0);H(0);N("VideoHandler");K(0);L();G("minf");G("vmhd");H(1);_(0);_(0);_(0);_(0);L();G("dinf");
G("dref");H(0);H(1);G("url ");H(1);L();L();L();G("stbl");G("stsd");H(0);H(1);G("avc1");_(0);_(0);_(0);
_(1);_(0);_(0);H(0);H(0);H(0);_(I);_(k);H(4718592);H(4718592);H(0);_(1);for(var Y=0;Y<8;++Y){H(0)}_(24);
_(-1);G("avcC");z(s);L();L();L();G("stts");H(0);H(i);for(var Y=0;Y<i;++Y){H(y[Y].sampleCount);H(y[Y].duration)}L();
G("stsc");H(0);H(1);H(1);H(1);H(1);L();G("stsz");H(0);H(0);H(f);for(var Y=0;Y<f;++Y){H(a[Y].byteLength)}L();
G("stco");H(0);H(f);var J=S;for(var Y=0;Y<f;++Y){H(J);J+=a[Y].byteLength}L();G("stss");H(0);H(h);for(var Y=0;
Y<h;++Y){H(n[Y])}L();L();L();L();L();L();return}function V(y,W,m){var f=new Uint8Array(I*k*4),h=new Uint8Array(y),b=W?I-1:I,i=m?k-1:k;
if(W){for(var Y=0;Y<i;++Y){f.set(h.slice(4*Y*b,4*Y*b+4*b),4*Y*I);f[4*(Y+1)*I-4]=h[4*(Y+1)*b-4];f[4*(Y+1)*I-3]=h[4*(Y+1)*b-3];
f[4*(Y+1)*I-2]=h[4*(Y+1)*b-2];f[4*(Y+1)*I-1]=h[4*(Y+1)*b-1]}if(m){f.set(f.slice(4*I*i-4*I,4*I*i),4*I*i)}}else if(m){f.set(h);
f.set(h.slice(4*b*i-4*b),4*b*i)}return f.buffer}async function r(y,W,m,f){var h=Date.now(),b=!1,i=!1,l=0;
if(W%2!=0){b=!0;I=W+1}else{I=W}if(m%2!=0){i=!0;k=m+1}else{k=m}s=null;n=[];a=[];D=0;o=0;C=new Uint8Array;
e(new Uint8Array(T));e(U(0).buffer);e(O("mdat"));var w=new VideoEncoder({output:(chunk,opts)=>c(chunk,opts),error:jL=>{console.log(jL)}}),J=.02*(1+Math.pow(3.2*f[0]/100,2.3)),q=J*I*k,x=q*y.length,A=Math.round(q*24),Q={width:I,height:k,codec:"avc1.420034",bitrate:A},B=await VideoEncoder.isConfigSupported(Q);
console.log(B);if(B.supported==!1){console.log("Encoding not supported. Config: ",B.config);return new Uint8Array(0).buffer}w.configure(Q);
for(var Y=0;Y<y.length;++Y){var P=y[Y][1]*1e3,F=y[Y][0];if(i||b){F=V(y[Y][0],b,i)}var t=new VideoFrame(F,{timestamp:l,duration:P,format:"RGBA",codedWidth:I,codedHeight:k});
w.encode(t);t.close();l+=P}await w.flush();p();R=new Uint8Array(C.byteLength+d.byteLength);R.set(new Uint8Array(C),0);
R.set(U(o),S-8);R.set(d,C.byteLength);var b$=Date.now();console.log(b$-h);return R.buffer}return r}();
kk.Mv={};kk.Mv.Zn=function(I){var k=new Uint8Array(I),a=0,n=112,s=42,C=u.sg,v;a+=8;var T=k[a];a++;if(T!=s)throw"e";
var S=C(k,a);a+=4;var D=u.SB(k,a,S);a+=S*2;var o=[];while(a<k.length){v=C(k,a);a+=4;if(v!=n)throw v;
a+=4;v=k[a];a++;if(v!=s)throw v;var g=C(k,a);a+=4;var d=k[a];a++;if(d!=s){a-=5;g=C(k,a);a+=8;v=k[a];
a++;if(v!=s)throw v}var R=C(k,a)*2;a+=4;if(g>0)o.push(a+R);a+=R+g}var c=new DOMParser,e=c.parseFromString(D,"image/svg+xml").firstChild.firstChild,O=[];
kk.Mv.a55(e,k,o,O);return O};kk.Mv.a55=function(I,k,a,n){var s=I.firstChild.firstChild;if(s.tagName=="Image"){var C=s.getElementsByTagName("ImageDescription")[0],T=C.children[0].children,S=C.children[1].children,D=a.shift(),o=[];
for(var Y=0;Y<S.length;Y++)o.push(parseInt(S[Y].getAttribute("NumberOfElements")));while(o.length>3)o[2]*=o.pop();
var v=T.length,g=o[0],d=o[1],R=o[2],c=parseInt(S[0].getAttribute("BytesInc"));for(var e=0;e<R;e++){var O=j.U(g*d*4);
j.IP(O,4278190080);for(var U=0;U<v;U++){var K=j.U(g*d);if(c==1)for(var _=0;_<K.length;_++)K[_]=k[D+_];
else if(c==2)for(var _=0;_<K.length;_++)K[_]=Math.min(255,(k[D+_*2+1]<<8|k[D+_*2])>>>2);else throw c;
if(U!=3)j.yv(K,O,U);if(v==1){j.yv(K,O,1);j.yv(K,O,2)}D+=g*d*c}n.push({e3:new eZ(0,0,g,d),data:O.buffer})}}else{var Z=I.children,H=0;
while(H<Z.length&&Z[H].tagName!="Children")H++;if(H==Z.length)throw"e";Z=Z[H].children;for(var G=0;G<Z.length;
G++)kk.Mv.a55(Z[G],k,a,n)}};kk.aAN=function(){function I(T,S,D,o,v){var g=new Int8Array(T.buffer),d=new Int8Array(o.buffer),R=S+D;
while(S<R){var bQ=g[S];S++;if(bQ>=0&&bQ<128)for(var Y=0;Y<bQ+1;Y++){d[v]=g[S];v++;S++}if(bQ>=-127&&bQ<0){for(var Y=0;
Y<-bQ+1;Y++){d[v]=g[S];v++}S++}}return v}function k(T,S,D,o,v,g){var d=S*D*o>>>3,R=j.U(d*v),c=n(T,0,0,0)[0];
for(var e=0;e<v;e++){var O=c[e+1];if(g){var U=kk.wV("jpg").Zn(O.buffer),K=j.U(d);j.xD(new Uint8Array(U[0].data),K);
R.set(K,d*e)}else if(O[0]==255&&O[1]==216&&O[2]==255){var _=UTIF.LosslessJpegDecode(O);R.set(new Uint8Array(_.buffer),d*e)}else I(O,64,O.length,R,d*e)}return R}function a(T){var S=new Uint8Array(T),D=0,o=u.x8(S,0,128);
D+=128;var v=u.x8(S,D,4);D+=4;var g=s(S,D,0)[0],d=g.g28;if(d==null){alert("No image.");return[]}var R=d.cols,c=d.rows,e=R*c,O=d.photoInterpret,U=d.bitsAlloc,K=d.bitsStored,_=d.lossyCompr;
if(_==null)_=g.g8.lossyCompr;var Z=g.g7fe0.pixelData,H=d.numOfFrames;H=H?parseInt(H):1;var G=new Uint8Array(Z.buffer),N=e*U>>>3;
if(G.length!=N*H){Z=k(Z,R,c,U,H,_)}else{}if(U==16)Z=new Uint16Array(Z.buffer);console.log(d);console.log(g);
var z=[];for(var L=0;L<H;L++){var p=L*N,T=j.U(R*c*4);T.fill(255);if(O=="MONOCHROME2"){var V=0,r=255,y=d.largestValue,W=d.smallestValue;
if(y!=null){r=y;V=W}else if(K!=8){r=0;V=1e9;for(var Y=0;Y<e;Y++){var m=Z[p+Y];if(m>1<<K-8){if(m>r)r=m;
if(m<V)V=m}}}var f=255/(r-V);for(var Y=0;Y<e;Y++){var m=Math.max(0,Math.min(255,(Z[p+Y]-V)*f)),h=Y*4;
T[h]=T[h+1]=T[h+2]=m}}else if(O=="PALETTE COLOR"){var b=d.pltRed,i=d.pltGreen,w=d.pltBlue;for(var Y=0;
Y<e;Y++){var J=Z[p+Y],h=Y*4;T[h]=b[J]>>>8;T[h+1]=i[J]>>>8;T[h+2]=w[J]>>>8}}else throw O;z.push({e3:new eZ(0,0,R,c),data:T.buffer})}return z}function n(T,S,D,o){if(D==0)D=T.length;
var v=u.Ge,g=u.Gn,d=u.sg,R=[],c=S;while(S<D){var e=v(T,S);S+=2;var O=v(T,S);S+=2;var U=d(T,S);S+=4;if(e==65534&&O==57344){if(U==4294967295){var K=s(T,S,o+1);
R.push(K[0]);S=K[1]}else{R.push(T.slice(S,S+U));S+=U}}else if(e==65534&&O==57357){}else if(e==65534&&O==57565)break;
else throw"e"}return[R,S]}function s(T,S,D){var o=u.Ge,v=u.Gn,g=u.sg,d={},R="\t".repeat(D);while(S<T.length){var c=o(T,S),K="",_=0,H=null;
S+=2;var e=o(T,S);S+=2;var O=c.toString(16),U=e.toString(16);if(c==65532)break;if(c==65534&&e==57357){S-=4;
break}if(c==65534&&e==57565)throw"e";if(e==0){S+=8;continue}if(65<=T[S+1]){K=u.x8(T,S,2);S+=2;if(K=="OB"||K=="SQ"||K=="OW"){_=g(T,S+2);
S+=6}else{_=o(T,S);S+=2}}else{K=C[O][U].split(",")[1];_=g(T,S);S+=4}console.log(O,U,K,_);var Z=C[O][U];
if(Z)Z=Z.split(",")[0];if(Z==null){Z="t"+U}if(K=="SQ"){var G=n(T,S,S+_,D);H=G[0];S=G[1];_=0}else if(K=="US")H=o(T,S);
else if(K=="SS")H=v(T,S);else if(K=="UL")H=g(T,S);else if(K=="FL")H=u.qu(T,S);else if(K=="AT")H=[o(T,S),o(T,S+2)];
else if(K=="OB")H=T.slice(S,S+_);else if(K=="OW")H=new Uint16Array(T.slice(S,S+_).buffer);else if("UI CS DA TM DT SH LO ST LT PN AE AS DS IS".split(" ").indexOf(K)!=-1){var N=S+_;
while(T[N-1]==0)N--;H=u.x8(T,S,N-S).trim()}else{console.log(R,JSON.stringify(u.x8(T,S,Math.min(_,32))));
throw K}if(d["g"+O]==null)d["g"+O]={};d["g"+O][Z]=H;S+=_}return[d,S]}var C={"2":{"1":"fmiVersion","2":"classUID","3":"instanceUID","10":"syntaxUID","12":"icUID","13":"implVerName","16":"appTitle"},"4":{"1130":"fileSetID"},"8":{"5":"charSet","8":"imageType,CS","16":"classUID,UI","18":"instanceUID,UI","20":"studyDate","21":"seriesDate","22":"acqDate","23":"contentDate","2a":"acqDateTime","30":"studyTime","32":"acqTime","33":"contentTime","50":"accNumber","60":"modality,CS","64":"convType,CS","70":"manufacturer","80":"institutionName","81":"institutionAddress","90":"rpName","1010":"stationName","1030":"studyDescription","103e":"seriesDesc","1050":"ppName","1090":"modelName","1150":"rclassUID","1155":"rinstanceUID","2110":"lossyCompr","2112":"imageSequence"},"9":{},"10":{"10":"patientName,PN","20":"patientID,LO","30":"patientBirthDate","40":"patientSex","1010":"patientAge"},"18":{"60":"KVP","1020":"swVersion","1063":"frameTime","1150":"expTime","1151":"xrayTubeCurrent","1152":"exposure","1155":"radiation","1500":"posMotion","1510":"posAngle0","1511":"posAngle1"},"19":{},"20":{d:"studyUID,UI",e:"seriesUID,UI","10":"studyID","11":"seriesNumber","12":"acqNumber,IS","13":"instanceNumber,IS","20":"patientOrientation"},"21":{},"28":{"2":"spp,US","4":"photoInterpret,CS","8":"numOfFrames","9":"frameIncPointer","10":"rows,US","11":"cols,US","30":"pixelSpacing","100":"bitsAlloc,US","101":"bitsStored,US","102":"highBit,US","103":"pixRepresentation,US","106":"smallestValue","107":"largestValue","120":"pixPaddingValue","1040":"pixIntensityRelation","1050":"windCenter","1051":"windWidth","1090":"viewMode","1101":"pdRed","1102":"pdGreen","1103":"pdBlue","1199":"paletteUID","1201":"pltRed","1202":"pltGreen","1203":"pltBlue","2110":"lossyCompr","6010":"repFrameNum","6020":"foi","6022":"foiDescription","6040":"rWavePointer","6100":"maskSubtraction","6101":"maskOp","6110":"maskFrameNum"},"29":{},"37":{},"40":{},"50":{"4":"calibImage"},"5000":{"5":"curveDim","10":"numOfPoints","20":"typeOfData","30":"axisUnits","103":"dataValRepr","104":"minCrdValue","105":"maxCrdValue","106":"curveRange","110":"curveDataDesc","112":"crdStartValue","114":"crdStepValue","3000":"curveData"},"7fe0":{"10":"pixelData,OB"}};
return{Zn:a}}();kk.arg={};kk.arg.Zn=function(I){var k=new Uint8Array(I),a=0,n={},v=1e9;for(var Y=0;Y<306;
Y++){var s=u.x8(k,a,8).trim(),C=u.x8(k,a+9,71).split("/")[0].trim();n[s]=C;a+=80;if(s=="END"){a=Math.ceil(a/2880)*2880;
break}}var T=parseInt(n.NAXIS1),S=parseInt(n.NAXIS2),D=T*S,o=parseInt(n.BITPIX),g=-1e9,d=new Float32Array(D),R=new Float32Array(I,a,I.byteLength-a>>>2);
for(var Y=0;Y<D;Y++){var c=Y<<2,e=Y<<1;if(o==-32){var O=k[a+c+0];k[a+c+0]=k[a+c+3];k[a+c+3]=O;var O=k[a+c+1];
k[a+c+1]=k[a+c+2];k[a+c+2]=O;d[Y]=R[Y]}else if(o==16){d[Y]=u.Ge(k,a+e)}else throw o;var U=d[Y];if(U<v)v=U;
if(U>g)g=U}var K=j.U(D*4),_=1/g;for(var Z=0;Z<S;Z++)for(var H=0;H<T;H++){var Y=Z*T+H,G=(S-Z-1)*T+H,c=G<<2,U=d[Y]*_;
K[c]=K[c+1]=K[c+2]=255*U;K[c+3]=255}return[{e3:new eZ(0,0,T,S),data:K,Dq:n.OBJECT}]};kk.Li={};kk.Li.Zn=function(I){var k=new Uint8Array(I),a=16,n=u.x8(k,a,4),C=32,U=0,K=0,_=!1,b;
a+=4;var s=u.x8(k,a,8);a+=8;while(k[a+C-1]==0)C--;var T=u.x8(k,a,C);a+=32;var S=u.x8(k,a,4);a+=4;a+=20;
var D=u.C(k,a);a+=4;var o=u.C(k,a);a+=4;var v=u.C(k,a);a+=4;var g=u.C(k,a);a+=4;var d=u.C(k,a);a+=4;
var R=u.C(k,a);a+=4;var c="FujiFilm "+T,e=[0,1,1,2];if(c=="FujiFilm X10"){c="FujiFilm FinePix X10";e=[2,1,1,0]}var O={t271:["FujiFilm"],t272:[c],t277:[1],t33421:[2,2],t33422:e,Nm:1};
a=v;var Z=[],H=u.Ij,G=u.C(k,a);a+=4;for(var Y=0;Y<G;Y++){var N=H(k,a);a+=2;var z=H(k,a);a+=2;if(N==256){K=H(k,a);
U=H(k,a+2)}else if(N==272){Z=[H(k,a),H(k,a+2)]}else if(N==273){Z.push(H(k,a),H(k,a+2))}else if(N==304){_=!(k[a]>>>7)}else if(N==305){var L=Math.round(Math.sqrt(z)),p=[];
for(var V=0;V<z;V++)p.push(k[a+V]);p.reverse();O.t33421=[L,L];O.t33422=p}else if(N==12272){var r=H(k,a),y=H(k,a+2),W=H(k,a+6);
O.t50728=[r/y,1,r/W]}a+=z}var m=U<K,f=k.slice(d,d+R),h=Math.round(R*8/(U*K));if(f[0]==73&&f[1]==73&&f[2]==42){b=UTIF.decode(f.buffer)[0].fujiIFD;
h=b.t61443[0];var i=b.t61454,w=b.t61450;if(w)O.t50714=w;if(i)O.t50728=[i[0]/i[1],1,i[0]/i[2]];var J=b.t61447[0];
f=f.slice(J,J+b.t61448[0])}var R=f.length,q=R*8<U*K*h;if(q){console.log("compressed");var x=O.t33422,A=~~Math.sqrt(x.length),Q=[];
for(var Y=0;Y<A;Y++)Q[Y]=x.slice(Y*A,Y*A+A);f=new Uint8Array(UTIF._decompressRAF(f,Q).buffer);R=f.length}function B(b$,hd,di){di=di<<8-(hd&7);
var hD=hd>>>3;b$[hD]|=di>>>16;b$[hD+1]|=di>>>8;b$[hD+2]|=di}var l=R*8/(U*K);if(l==16)for(var Y=0;Y<R;
Y+=2){var P=f[Y];f[Y]=f[Y+1];f[Y+1]=P}else if(l==14){for(var Y=0;Y<R;Y+=4){var P=f[Y];f[Y]=f[Y+3];f[Y+3]=P;
P=f[Y+1];f[Y+1]=f[Y+2];f[Y+2]=P}}else if(l==12)for(var Y=0;Y<R;Y+=3){var F=f[Y+2]<<16|f[Y+1]<<8|f[Y+0];
F=F>>>12|(F&4095)<<12;f[Y]=F>>>16&255;f[Y+1]=F>>>8&255;f[Y+2]=F&255}if(m)f=kk.Li.aen(f,U,K);var t=m?2:1;
U*=t;O.t256=[U];O.t257=[K];O.t258=[h];O.t50719=[Z[1],Z[0]*t];O.t50720=[Z[3],Z[2]*t];O.width=U;O.height=K;
O.data=new Uint8Array(f.buffer);return[O]};kk.Li.aen=function(I,k,a){I=new Uint16Array(I.buffer);var n=new Uint16Array(k*a*2);
for(var s=0;s<a;s+=2)for(var C=0;C<k;C++){var T=s*k+C,S=T*2,D=I[T],o=I[T+k];n[S+1]=n[S+2*k]=o;if(((s>>>1)+C&1)==0){n[S]=D;
n[S+2*k+1]=I[T+1]}else{n[S]=I[T-1];n[S+2*k+1]=D}}return n};kk.yn={};kk.yn.alo=function(I,k,a){a=a<<8-(k&7);
var n=k>>>3;I[n]|=a>>>16;I[n+1]|=a>>>8;I[n+2]|=a};kk.yn.Zn=function(I){var k=new Uint8Array(I),a=0,n=Date.now(),s=iB.SF(I),C=s.moov.uuid[0],T=new CR3Parser(I),S=T.getTrack().meta,D=C.CMT1[0],o=D.t256[0]=S.width,v=D.t257[0]=S.height,g=o*v,d=D.exifIFD=C.CMT2[0],R=d.makerNote=C.CMT3[0],c=s.moov.trak[3].mdia.minf.stbl,e=c.co64[0],O=k.slice(e,e+c.stsz[0]),U=0;
while(U<O.length){var K=u.sg(O,U);U+=4;var _=u.Ge(O,U);U+=2;var Z=O[U]==1;U+=2;U+=4;if(_==8||_==9){var H=UTIF.decode(O.slice(U+8,U+K-12).buffer)[0];
for(var G in H)R[G]=H[G]}U+=K-12}D.t277=[1];D.t33421=[2,2];D.t33422=[0,1,1,2];D.Nm=1;if(D.t274)D.Nm=D.t274[0];
var N=T.extractCFA(),z=S.bitDepth;if(z!=14)throw"e";D.t258=[z];var L=new Uint8Array(Math.ceil(g*z/8)),p=16-z;
for(var Y=0;Y<g;Y++)kk.yn.alo(L,Y*14,N[Y]<<p);D.width=o;D.height=v;D.data=L;return[D]};kk._V={};kk._V.RZ=!0;
kk._V.G0=function(I,k,a,n){var s=new Uint8Array(I[0][0]),C=k*a,T=[1,3,4][n[0]],S=8+8*n[1],D=n[2];if(T==1){var o=new Uint8Array(k*a);
j.Ez(s,o,0);s=o}if(T==3){var o=new Uint8Array(k*a*3);for(var Y=0;Y<C;Y++){var v=Y*4,g=Y*3;o[g]=s[v];
o[g+1]=s[v+1];o[g+2]=s[v+2]}s=o}if(S==16){var d=s.length,o=new Uint8Array(d*2);for(var Y=0;Y<d;Y++){var R=Math.round(s[Y]*(65535/255));
o[Y*2+D]=R>>>8;o[Y*2+1-D]=R&255}s=o}return s.buffer};kk.aig={};kk.aig.Zn=function(I,k){function a(D){return~~(.5+j.lD(Math.max(0,Math.min(1,D)))*255)}var n=EXRLoader.parse(I),s=n.width,C=n.height,T=j.U(s*C*4);
for(var S=0;S<C;S++)for(var D=0;D<s;D++){var Y=(S*s+D)*4,o=((C-S-1)*s+D)*4;T[Y]=a(n.data[o+0]);T[Y+1]=a(n.data[o+1]);
T[Y+2]=a(n.data[o+2]);T[Y+3]=a(n.data[o+3])}return[{e3:new eZ(0,0,s,C),data:T.buffer}]};kk.G9={};kk.G9.RZ=!0;
kk.G9.di=!0;kk.G9.G0=function(I,k,a,n,s){n=["",100,!1,!1,!1,0,!1];n[7]=["jpg"];var C=new ToDXF;hx.TZ(I,n,C,s.IE);
return C.buffer};kk.G9.Zn=function(I,k){var a=72,n=new dc(1,0,0,1,0,0);n.scale(a/72,a/72);k.oE=a;var s=new gG(k,n,!1);
FromDXF.Parse(I,s)};kk.a4F={};kk.a4F.Zn=function(){var I=u.Ge,k=u.sg,a=u.x8,n;function s(T,S,D,o,v){var g=k(T,D),d=k(T,D+4),R=k(T,D+8),c=I(T,D+12),e=I(T,D+14);
D+=16;var O={};for(var Y=0;Y<c+e;Y++){var U=k(T,D),K=k(T,D+4),_,Z;if(U>>>31==1){U=U&16777215}if(Y<c)_=u.SB(T,S+U+2,I(T,S+U));
else _="id"+U;var H=o.slice(0);H.push(_);if(K>>>31==1){K=K&268435455;Z=s(T,S,S+K,H,v)}else{var G=k(T,S+K),N=k(T,S+K+4),z=k(T,S+K+8),L=k(T,S+K+12);
if(L!=0)throw"e";if(G<v[0]||G>v[0]+v[1])throw"e";var p=v[2]+G-v[0];Z=T.slice(p,p+N);var V=kk.V1(Z.buffer);
if(V&&["bmp","png","ico"].indexOf(V)!=-1){var r=kk.wV(V);if(!r.di){var y=null;try{y=r.Zn(Z.buffer)}catch(jL){}if(y){y[0].Dq=H[1];
n.push(y[0])}}}else if(V)console.log(V)}O[_]=Z;D+=8}return O}function C(T){n=[];var S=new Uint8Array(T),D=0,o=I(S,D);
D+=2;D+=58;var v=k(S,D);D+=4;D=v;var g=a(S,D,4);D+=4;var d=I(S,D);D+=2;var R=I(S,D);D+=2;var c=k(S,D);
D+=4;var e=k(S,D);D+=4;var O=k(S,D);D+=4;var U=I(S,D);D+=2;var K=I(S,D);D+=2;D+=U;var _={};for(var Y=0;
Y<R;Y++){var Z=D;while(S[Z]!=0)Z++;var H=a(S,D,Z-D),G=k(S,D+8),N=k(S,D+12),z=k(S,D+16),L=k(S,D+20),p=k(S,D+24),V=k(S,D+28),r=I(S,D+32),y=I(S,D+34),K=k(S,D+36);
_[H]=[N,G,L,z,K];if(p+V!=0)throw"e";D+=40}for(var W in _){var m=_[W];D=m[2];if(W==".rsrc"){var f=s(S,D,D,[],m),h="id134"}}return n}return C}();
kk.J1={};kk.J1.di=!0;kk.J1.Zn=function(I,k,a){cp.SF(I,k,a)};kk.J1.G0=function(I,k,a){return cp.TZ(I)};
(function(){var I=kk.B5.get("wasm/zstd").buffer;WebAssembly.instantiate(I).then(function(k){var a=k.instance.exports;
kk.J1.a6C=a})}());kk.J1.SO=function(I,k){var a=kk.J1.a6C,n=I.length,s=a.memory,C=2*n+1e6,D=4;kk.xq(a,C);
var T=new Uint8Array(s.buffer),S=a.malloc(n);T.set(I,S);while(!0){var o=k==null?n*D:k;kk.xq(a,C+o);var v=a.malloc(o),g=a.ZSTD_decompress(v,o,S,n);
if(g==-70){a.free(v);D+=D>>>1;if(k!=null)throw"error"}else{T=new Uint8Array(s.buffer);I=T.slice(v,v+g);
a.free(v);break}}a.free(S);return I};kk.oB={};kk.oB.di=!0;kk.oB.Zn=function(){var I=0,k=1,a=2,n=3,s=4,C=5,T=6,S=7,D=1,o=2,v=7,g=8,d=9,R,c,e,O,U;
function K(){var bQ=u.hK(R,c);c+=4;return bQ}function _(){var b=0,i=0;for(var Y=0;Y<5;Y++){var w=R[c++];
b+=(w&127)<<i;i+=7;if((w&128)==0)break}return b}function Z(){var b=_(),i=u.Im(R,c,b);c+=b;return i}function H(){return{typeName:Z(),ary:K()}}function G(){var b=K(),i=Z(),w=[],J=K();
for(var Y=0;Y<J;Y++)w.push([Z()]);return{id:b,h2:i,aeW:w}}function N(b){var i=b.aeW,w=[];for(var Y=0;
Y<i.length;Y++)i[Y].push(R[c++]);for(var Y=0;Y<i.length;Y++){var J=i[Y][1],q;i[Y].push(z(J))}}function z(b){var i;
if(b==I)i=R[c++];else if(b==n)i=Z();else if(b==s)i=H();else if(b==k||b==a||b==T||b==C){}else throw b;
return i}function L(b,i,w){var J;if(b==I){if(i==D)J=R[c++]==1;else if(i==o){J=R[c++]}else if(i==g)J=K();
else if(i==d){J=K();K()}else throw i}else if(b==n){J=y(w+1)}else if(b==s){J=y(w+1)}else if(b==C){J=y(w+1)}else if(b==k){J=y(w+1)}else if(b==T){J=y(w+1)}else if(b==a){J=y(w+1)}else throw b;
return J}function p(b,i){var w=e["c"+b],J=w.aeW,q={_class:w.h2};for(var Y=0;Y<J.length;Y++){var x=J[Y],A=x[1],Q=x[2],B=L(A,Q,i),l=x[0];
q[l]=B}return q}function V(b,i,w,J){var q=[];for(var Y=0;Y<b;Y++){var x=L(i,w,J);if(x.Tx&&x.Tx=="null_count"){var A=x.B9;
for(var Q=0;Q<A;Q++)q.push(null);Y+=A-1}else q.push(x)}return q}function r(){return[K(),K()]}function y(b){if(b==null)throw"e";
var i=null,w=R[c],J=null;c++;if(w==0){var q=K(),x=K(),A=K(),Q=K();i=[q,x,A,Q]}else if(w==1){J=K();var B=K();
i=p(B,b)}else if(w==4){var l=G();J=l.id;N(l);e["c"+l.id]=l;i=p(l.id,b)}else if(w==5){var l=G();J=l.id;
N(l);var P=K();e["c"+l.id]=l;i=p(l.id,b)}else if(w==6){J=K();var F=Z();i=F}else if(w==7){J=K();var t=R[c++];
if(t!=0)throw t;var b$=K();if(b$!=1)throw b$;var hd=K(),di=R[c++],hD=z(di);i=V(hd,di,hD,b)}else if(w==9){var a$=K();
i={Tx:"ref",B9:a$};U["o"+a$]=!0}else if(w==10){i={Tx:"null_count",B9:1}}else if(w==11){i={Tx:"end"}}else if(w==12){var P=K(),eJ=Z()}else if(w==13){var hY=R[c++];
i={Tx:"null_count",B9:hY}}else if(w==16){var ik=r();J=ik[0];i=V(ik[1],s,null,b)}else if(w==17){var ik=r();
J=ik[0];i=V(ik[1],k,null,b)}else throw"e";if(J!=null&&J>0){if(O["o"+J]!=null)throw"e";O["o"+J]=i}return i}function W(b,O){if(b instanceof Array){for(var Y=0;
Y<b.length;Y++)b[Y]=m(b[Y],O)}else if(b instanceof Object){for(var i in b)b[i]=m(b[i],O)}}function m(b,O){if(b&&b.Tx&&b.Tx=="ref")return O["o"+b.B9];
else return b}function f(b,i,w){var J=Date.now();R=new Uint8Array(b);c=0;e={};O={};U={};var q=u.x8(R,0,4);
if(q!="PDN3")throw q;c+=4;var x=u.Ge(R,c)+R[c+2]*256*256;c+=3;var A=u.x8(R,c,x);c+=x;c+=2;while(!0){var Q=y(0);
if(Q&&Q.Tx&&Q.Tx=="end")break}for(var B in U)if(O[B]==null)throw B;for(var B in O)W(O[B],O);var l=O.o1;
console.log(l);i.Q=l.width;i._=l.height;i.buffer=j.U(i.Q*i._*4);var P=l.layers["ArrayList+_items"];for(var Y=0;
Y<P.length;Y++){var F=P[Y];if(F==null)continue;var t=F["Layer+width"],b$=F["Layer+height"],hd=F["Layer+properties"],di=F.properties,hD=di.blendOp._class.split("+").pop();
hD=hD.slice(0,hD.length-7);var a$={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[hD],eJ=i.ux();
eJ.GF(hd.name);eJ.opacity=hd.opacity;eJ.ol(hd.visible);eJ.pu=a$;if(R[c]!=0)throw"e";c++;var hY=u.C(R,c);
c+=4;var ik=Math.ceil(t*b$*4/hY);eJ.rect=new eZ(0,0,t,b$);var fw=eJ.buffer=j.U(t*b$*4);for(var jb=0;
jb<ik&&c<R.length;jb++){var cd=h();fw.set(cd[1],cd[0]*hY)}for(var dN=0;dN<fw.length;dN+=4){var kc=fw[dN+0];
fw[dN+0]=fw[dN+2];fw[dN+2]=kc}i.R.push(eJ)}}function h(){var b=u.C(R,c);c+=4;var i=u.C(R,c);c+=4;c+=10;
i-=10;var w=pako.inflateRaw(R.slice(c,c+i));c+=i;return[b,w]}return f}();kk.TY={};kk.TY.di=!0;kk.TY.Zn=function(I,k){bv.SF(I,k)};
kk.bx={};kk.bx.di=!0;kk.bx.Zn=function(){var I,k,O=null,z,L;function a(){var h=I[k];k+=1;return h}function n(){var h=u.Ij(I,k);
k+=2;return h}function s(){var h=u.C(I,k);k+=4;return h}function C(){var h=u.bL(I,k);k+=4;return h}function T(){var h=u.DH(I,k);
k+=8;return h}function S(){var h=s();if(h>200)throw h;var b=u.u$(I,k,h);k+=h*2;return b}function D(){var h=u._x(I,k);
k+=8;return h}function o(){var h=u.Yh(I,k);k+=4;return h}function v(){var h=s();if(s()!=4)throw"e";var b=[];
for(var Y=0;Y<h;Y++)b.push(s());return b}function g(h,b,i){for(var Y=0;Y<h.length;Y++)if(h[Y][b]==i)return h[Y]}function d(h,b){var i=Date.now();
I=new Uint8Array(h);k=u.S$(I,"CH"+"NK"+"SQ"+"Li")+8;var w=T(),J=eE.parse(I.buffer.slice(k,k+w)),q=eE.arM(J,!0);
console.log(q);var x=q.Canvas[0],A=x.Width,Q=x.Height,B=x.Unit,l=b.oE=x.Resolution;if(B==0){}else if(B==1){A=Math.round(A*l/2.54);
Q=Math.round(Q*l/2.54)}else if(B==2){A=Math.round(A*l/25.4);Q=Math.round(Q*l/25.4)}else if(B==3){A=Math.round(A*l);
Q=Math.round(Q*l)}else if(B==5){A=Math.round(A*l/72);Q=Math.round(Q*l/72)}else{console.log(x);throw B}b.Q=A;
b._=Q;b.buffer=j.U(A*Q*4);console.log(Date.now()-i);var P=g(q.Layer,"MainId",x.RootFolder);y(q,I,b,P.FirstChildIndex,0);
console.log(Date.now()-i)}function R(){var h=u.Ge(I,k);k+=2;return h}function c(){var h=u.sg(I,k);k+=4;
return h}function e(){var h=u.hK(I,k);k+=4;return h}function U(h){var b={11:"runs",31:"font",32:"size",33:"unit",34:"colr",42:"bbox",57:"fnts",63:"bdim",64:"bplg"},w=0;
I=h;k=0;var i={};while(k<I.length){var J=c(),q=c(),x=k+q;if(q==0)continue;var A=[];if(J==11){var Q=c();
for(var B=0;B<Q;B++){var l=[c(),c()];A.push(l);w+=l[1];var P=k+c()-4;l.push(R(),R(),R(),R());l.push(u.SS(I,k));
k+=8;var F=R();l.push(u.SB(I,k,F));k+=F*2;if(k!=P)throw"e"}}else if(J==31){A=u.Im(I,k,q);k+=q}else if(J==34)for(var Y=0;
Y<3;Y++)A.push(c()>>>16);else if(J==42)for(var Y=0;Y<4;Y++)A.push(e());else if([32,33,35,37,38,43,44,45,46,48,49,50,51,52,53,55,58,59,60,61,62].indexOf(J)!=-1){if(q!=4)throw"e";
A=c();if([37,45,46,51,53,55,61,62].indexOf(J)!=-1){if(A!=0&&A!=1&&A!=2&&A!=360)throw J+":"+A;k=x;continue}}else if(J==47){var t=R();
if(c()!=50)throw"e";if(c()!=0)throw"e";var b$=R();A=u.x8(I,k,b$);k+=b$}else if(J==57){var Q=R();for(var Y=0;
Y<Q;Y++){var hd=R(),di=u.x8(I,k,hd);k+=hd;var hD=R(),a$=u.x8(I,k,hD);k+=hD;A.push([di,a$])}var eJ=c();
for(var Y=0;Y<Q;Y++)A[Y].push(eJ)}else if(J==39||J==63)A.push(c(),c());else if(J==64){for(var Y=0;Y<8;
Y++)A.push(u.hK(I,k+Y*4)/100);k+=32}else{A=I.slice(k,x);k+=q}var hY=b[J];if(hY==null)hY="t"+J;if(i[hY])throw"e";
i[hY]=A;if(k!=x)throw J}if(O){}O=i;return i}function K(h){I=h;k=0;var b=s();if(b!=h.length)throw"e";
var i=s(),w=S(),J=s(),q=D(),x=[s()/4294967295,s()/4294967295,s()/4294967295];return[J,q,x]}function _(h,b){function i(){var kx=[];
for(var Y=0;Y<4;Y++)kx.push(u.bL(I,k+Y*4));k+=16;return kx}function w(bQ){var kx=[];for(var Y=0;Y<bQ;
Y++)kx.push(o());return kx}function J(kx){var br="";for(var Y=k;Y<kx;Y+=4)br+=I.slice(Y,Y+4).join(", ")+"\n";
return br}I=h;k=b+8;var q=T(),x=k+q;k+=56;if(k==x)return;var A=[],Q=[],B=[],l=[],P=[];while(k<x){var F=s(),ik=1;
if(F!=88&&F!=96)throw F;var F=s();if(F!=72)throw"e";var t=s();if(t!=88&&t!=104&&t!=120)throw t;var F=s();
if(F!=88)throw"e";var b$=s(),hd=s(),di=i(),hD=[];B.push(hD);for(var Y=0;Y<6;Y++){hD.push(H(s()))}var a$=D(),eJ=s();
if(eJ==16||eJ==1040||eJ==304||eJ==273){s();eJ=s()}var hY=D();l.push(hY);var fw=s(),jb=(hd&256)!=0,cd=[],dN=[],kc={88:1,104:2,120:3}[t];
for(var Y=0;Y<b$;Y++){var ck=Y==0?1:kc;for(var b3=0;b3<ck;b3++)cd.push(D(),D());dN.push(ck==1?Y==0?"M":"L":ck==2?"Q":"C");
var hL=i(),gS=s();ik=o();var jF=w(10),kB=s(),jw=s()}P.push(ik);if(t==104){var iT=D(),gY=D();if(jb){dN.push("Q");
cd.push(iT,gY,cd[0],cd[1])}}if(t==120){var iT=D(),gY=D(),aL=D(),dw=D();if(jb){dN.push("C");cd.push(iT,gY,aL,dw,cd[0],cd[1])}}if(hd&128){var ka=["M"],cy=[cd[0],cd[1]],jP=cd.length>>>1,aA=j.X.a20(cd);
for(var Y=0;Y<jP;Y++){var d1=cd[2*Y],ag=cd[2*Y+1],b0=.7;for(var b3=0;b3<2;b3++){aA[Y*4+b3*2]=b0*aA[Y*4+b3*2]+(1-b0)*d1;
aA[Y*4+b3*2+1]=b0*aA[Y*4+b3*2+1]+(1-b0)*ag}}for(var Y=1;Y<jP;Y++){ka.push("C");cy.push(aA[Y*4-2],aA[Y*4-1],aA[Y*4],aA[Y*4+1],cd[Y*2],cd[Y*2+1])}if(jb){ka.push("C");
cy.push(aA[jP*4-2],aA[jP*4-1],aA[0],aA[1],cd[0],cd[1])}cd=cy;dN=ka}if(jb)dN.push("Z");Q=Q.concat(cd);
A=A.concat(dN)}if(k!=x)throw"e";return[{s:Q,m:A},B,l,P]}function Z(h,b){I=h;k=b+8;var i=T(),w=k+i,J=0;
k+=56;var q=[];while(k<w){var x=s(),A=k+x-4;if(A>w)throw"e";if(x==11){k-=4;var Q=S(),B=s();if(B!=12)throw"e";
var l=v(),P=S(),B=s();if(B!=12)throw"e";var F=v();if(k!=w)throw"e"}else{var t=S(),b$=s();if(b$!=J)throw b$;
J++;var hd=n();if(hd!=0&&hd!=1&&hd!=2&&hd!=5)throw hd;var di=a();if(di!=0&&di!=32&&di!=64)throw di;if(s()!=1)throw"e";
if(s()!=1)throw"e";if(a()!=0)throw"e";if(s()==1){var hD=s(),a$=u.sg(I,k);if(hD!=a$+4)throw"e";q.push(new Uint8Array(I.buffer,k+4,a$));
k+=hD}else q.push(new Uint8Array(0));var eJ=S();if(k!=A)throw k}}return q}function H(h){return Math.min(255,Math.round(h/16777216))}function G(h){I=h;
k=0;var b=s();if(b!=16)throw b;var i=s();if(i!=102)throw i;var w=s();if(w!=42&&w!=58)throw w;var J=s();
if(h.length-J!=118+w)throw h.length-J;var q=S();if(q!="Parameter")throw q;var x=s(),A=s(),Q=s(),B=s(),l=[];
for(var Y=0;Y<16;Y++)l.push(s());var q=S();if(q!="InitColor")throw q;if(s()!=20)throw"e";var P=s(),F=s(),t=s();
if(s()!=4)throw"e";if(w==58){var b$=[];l.push(b$);for(var Y=0;Y<4;Y++)b$.push(H(s()))}var q=S();if(q!="BlockSize")throw q;
var hd=s();if(hd!=12)throw hd;var di=v();if(k!=I.length)throw"e";return[x,A,Q,B,P*255,l]}function N(h,b){var i=u.x8(b,0,40),w=g(h["ExternalC"+"hunk"],"Exte"+"rnalID",i);
if(w==null){console.log("chnk not found",i)}return w?w.Offset:-1}function p(h,b,i,w){if(z==null){z=j.U(256*256*4);
L=j.U(256*256)}var J=h.Mipmap,q=h.MipmapInfo,x=h.Offscreen,A=g(J,"MainId",i),Q=g(q,"MainId",A.BaseMipmapInfo),B=g(x,"MainId",Q.Offscreen),l=N(h,B.BlockData),d=null;
if(l==-1)return null;var P=Z(b,l),F=G(B.Attribute),t=F[0],b$=F[1],hd=F[2],di=F[3],hD=F[4],a$=F[5],eJ=a$[16],hY=a$[1],ik=a$[2],fw=hY+ik;
if(ik!=a$[5])throw"e";if(hY!=a$[7])throw"e";var jb=j.U(256*(a$[6]+a$[8])),cd=new eZ;if(eJ)cd=new eZ(0,0,t,b$);
else{for(var dN=0;dN<di;dN++)for(var kc=0;kc<hd;kc++){var ck=P[dN*hd+kc];if(ck.length==0)continue;cd=cd.oL(new eZ(kc<<8,dN<<8,256,256))}}var b3=cd.LU(new eZ(0,0,t,b$)),hL=j.U(b3.c()*(fw==1?1:4));
if(eJ)new Uint32Array(hL.buffer).fill(255<<24|eJ[0]<<16|eJ[1]<<8|eJ[2]);if(fw==1)hL.fill(hD);for(var dN=0;
dN<di;dN++)for(var kc=0;kc<hd;kc++){var ck=P[dN*hd+kc];if(ck.length==0)continue;var gS=new Uint8Array(ck.buffer,ck.byteOffset+2,ck.length-6),jF=new eZ(kc<<8,dN<<8,256,256);
UZIP.inflateRaw(gS,jb);if(fw==1){if(a$[8]==32){V(jb,0,L);j.O0(L,jF,hL,b3)}else j.O0(jb,jF,hL,b3)}else if(fw==2){if(a$[8]==32){new Uint32Array(z.buffer).fill(4278190335);
V(jb,0,L);j.yv(L,z,3);V(jb,256*32,L);j.bS(L,z)}else for(var Y=0;Y<262144;Y+=4){var eJ=jb[65536+(Y>>>2)];
z[Y]=eJ;z[Y+1]=eJ;z[Y+2]=eJ;z[Y+3]=jb[Y>>>2]}j.ao(z,jF,hL,b3)}else if(fw==5){for(var Y=0;Y<262144;Y+=4){z[Y]=jb[65536+Y+2];
z[Y+1]=jb[65536+Y+1];z[Y+2]=jb[65536+Y+0];z[Y+3]=jb[Y>>>2]}j.ao(z,jF,hL,b3)}else throw fw}if(w&&fw==1){var kB=j.U(t*b$*4);
j.yv(hL,kB,3);hL=kB}return[b3,hL,hD]}function V(h,k,b){for(var Y=0;Y<b.length;Y++){b[Y]=(h[k+(Y>>>3)]>>>7-(Y&7)&1)*255}}var r=["norm","dark","mul ","idiv","lbrn",null,"dkCl","lite","scrn","div ",null,"lddg","lddg",null,"over",null,"hLit",null,null,null,null,null,"smud",null,null,null,null,null,null,null,"pass",null,null,null,null,null,"fdiv"];
function y(h,b,i,w,J){var q=h.Layer,x=h.Canvas[0];while(w!=0){var A=g(q,"MainId",w),Q=A.Type,hd=!1;console.log(A);
var B=i.ux();B.GF(A.Name);B.opacity=Math.min(255,A.Opacity);B.ol((A.Visibility&1)!=0);B.pu=r[A.Composite];
if(B.pu==null){alert("Unknown blend mode "+A.Composite);B.pu="norm"}B.Pi=A.Clip==1;i.R.push(B);var l=A.LayerMaskMipmap;
if(l!=0){var P=p(h,b,l,!1);if(P){B.u=new X.uC;B.u.rect=P[0];B.u.channel=P[1];B.u.color=P[2];W(B.u.rect,A,"Mask","Mask");
B.u.Jk()}}var F=[];for(var Y=0;Y<3;Y++)F.push(H(A["DrawColorMain"+["Red","Green","Blue"][Y]]));var t={t:"Objc",v:j.G.pI({$:F[0],H:F[1],J:F[2]})},b$=JSON.parse(fY.default);
for(var Y=0;Y<fY.order.length;Y++)b$[fY.zQ[Y]]={t:"VlLs",v:[]};if(A.DrawColorEnable==1&&Q!=1584){hd=!0;
var di=JSON.parse(fY.iH[fY.order.indexOf("SoFi")]);di.Clr=t;b$.solidFillMulti.v.push({t:"Objc",v:di})}if(A.EffectInfo){var hD=K(A.EffectInfo),F=hD[2];
if(hD[0]==1){hd=!0;var di=JSON.parse(fY.iH[fY.order.indexOf("FrFX")]);di.Clr.v=j.G.pI({$:F[0]*255,H:F[1]*255,J:F[2]*255});
di.Sz.v.val=Math.round(hD[1]);b$.frameFXMulti.v.push({t:"Objc",v:di})}}if(A.FilterLayerInfo){I=A.FilterLayerInfo;
k=0;var a$=s(),eJ=s();if(eJ!=I.length-k)throw"e";var hY={1:"brit",3:"curv",4:"hue2",5:"blnc",6:"nvrt",9:"grdm"}[a$];
if(hY!=null){var ik=gJ.nI(hY);B.add[hY]=ik?ik:{};if(hY=="brit")gJ.P7["g"+hY](ik,[C(),C(),!0]);if(hY=="hue2")eu.qh(ik,0,[C(),C(),C()]);
if(hY=="curv"){var fw=[],jb=k;for(var Y=0;Y<32;Y++){k=jb+Y*130;var cd=n(),dN=[];fw.push(dN);for(var kc=0;
kc<cd;kc++)dN.push(n()/65535,n()/65535)}for(var Y=0;Y<4;Y++){var dN=fw[Y],ck=aH.MY(ik,Y),b3=ck[0];for(var kc=0;
kc<dN.length;kc+=2){var hL=ck[kc>>>1]=JSON.parse(JSON.stringify(b3));hL.v.Hrzn.v=Math.round(dN[kc]*255);
hL.v.Vrtc.v=Math.round(dN[kc+1]*255)}aH.qh(ik,Y,ck)}}if(hY=="grdm"){var gS=ik.Grad.v,kB=[],iT=s();if(iT!=eJ-4)throw iT;
var aL=s();if(aL!=16)throw aL;var dw=s();if(dw!=28)throw dw;var ka=s();for(var Y=0;Y<ka;Y++){var cy=0,jP=[];
for(var kc=0;kc<7;kc++)jP.push(s());kB.push([jP[6]/32768,[jP[1]/4294967295,jP[2]/4294967295,jP[3]/4294967295],jP[4]/4294967295])}j.G.gD(kB,gS)}if(hY=="blnc"){ik.PrsL.v=s()==1;
for(var Y=0;Y<3;Y++){var aA=ik[["ShdL","MdtL","HghL"][Y]].v;for(var kc=0;kc<3;kc++)aA[kc].v=C()}}}else console.log("Unknown adjustment",a$,eJ,B.getName())}if(Q==1584){B.HA|=16;
B.add.SoCo={classID:"null",Clr:t};B.Wr(i)}else if(Q==800){i.R.pop()}else if(A.Folder!=0){B.add.lsct=(A.Folder&16)!=0?gA.DG:gA.rW;
B.pu="pass";i.R.pop();i.R.push(i.KM());y(h,b,i,A.FirstChildIndex,J+1);i.R.push(B)}else if(Q==0||Q==1||Q==2||Q==3){var P=p(h,b,A.RenderMipmap,!0);
if(P){B.rect=P[0];B.buffer=P[1];W(B.rect,A,"Render","");B.Jk()}if(A.TextLayerType!=null){var d1="TextLayerString",ag="TextLayerAttributes",b0=[A[d1]],kx=[A[ag]];
if(A[d1+"Array"]){I=A[d1+"Array"];k=0;while(k<I.length){var eJ=c();b0.push(I.slice(k,k+eJ));k+=eJ}I=A[ag+"Array"];
k=0;while(k<I.length){var eJ=c();kx.push(I.slice(k,k+eJ));k+=eJ}}var br=B;i.R.pop();for(var ft=0;ft<b0.length;
ft++){var B=br.clone();i.R.push(B);var iv=U(kx[ft]),k6=iv.runs,ay=iv.fnts,eT=iv.bplg,kD=iv.bbox,cP=kD[2]-kD[0],cU=kD[3]-kD[1],gu=eT[2]-eT[0],jd=eT[3]-eT[1],i$=new dc;
i$.translate(-cP/2,-cU/2);i$.rotate(Math.atan2(-jd,gu));i$.translate(cP/2,cU/2);var hT=kD[0]+A.OffsetX,jk=kD[1]+A.OffsetY;
i$.translate(hT,jk);B.add.lnsr="rend";B.add.TySh=f4.MU(0,0);B.add.TySh.uT=new eZ(0,0,500,500);B.add.TySh.h=i$;
var i1=B.add.TySh.RW,aZ=u.Im(b0[ft]);B.GF(aZ);f4.lL(i1,0,aZ);f4.IC(i1,1);f4.s7(i1,[0,0,cP,cU]);if(k6)for(var Y=0;
Y<k6.length;Y++){var az=k6[Y],hM=az[0],ku=hM+az[1],dM=az[2],fb=f4.dm(i1,hM,ku),j$=i.oE/72*iv.size/100;
if((dM&512)!=0)j$*=az[6]/100;fb.CX.FontSize=Math.round(j$);var t=(dM&256)!=0?az.slice(3):iv.colr;fb.CX.FillColor={Type:1,Values:[1,t[0]/65535,t[1]/65535,t[2]/65535]};
var e0=az[7]==""?iv.font:az[7];if(ay){if(ay[Y])e0=ay[Y][1];else for(var kc=0;kc<ay.length;kc++)if(ay[kc][0]==e0)e0=ay[kc][1]}f4.YW(fb,e0);
f4.Xy(i1,hM,ku,fb)}if(B.rect.c()==0)i.P5=!0;else{B.rect=new eZ(hT,jk,cP,cU);B.buffer=j.U(B.rect.c()*4);
j.ao(br.buffer,br.rect,B.buffer,B.rect)}}}}var ff=h.VectorObjectList;if(A.VectorNormalType!=null&&ff&&g(ff,"LayerId",w)){var dm=g(ff,"LayerId",w).VectorData,dX=N(h,dm),il=_(b,dX);
if(il){var j1=null;if(B.add.TySh){var j1=B.clone();i.R.push(j1);delete B.add.TySh}m(B,A,il[0]);if(B.hd()){B.HA|=24;
var c5=i.ux();c5.GF(B.getName());c5.opacity=B.opacity;i.R.push(c5);m(c5,A,il[0]);f(c5,il);c5.Wr(i)}else{f(B,il,j1!=null)}B.Wr(i);
if(j1){j1.add.TySh.h.concat(new dc(1,0,0,1,B.rect.x+B.rect.Q/2,B.rect.y+B.rect._/2))}}}if(hd)B.add.lmfx=b$;
if(w==x.CurrentLayer)i.T=[i.R.indexOf(B)];w=A.NextIndex}}function W(h,b,i,w){h.x+=b[i+"OffscrOffsetX"]+b[w+"OffsetX"];
h.y+=b[i+"OffscrOffsetY"]+b[w+"OffsetY"]}function m(h,b,i){h.add.vmsk=new X.JB;j.X.h(i.s,new dc(1,0,0,1,b.OffsetX,b.OffsetY),i.s);
h.add.vmsk.d=j.X.ep(i);h.Bb()}function f(h,b,i){var w=b[1][0],J=b[2][0];h.HA|=16;var q=h.add.vstk=fY.Lg.nI(!0,!0);
q.fillEnabled.v=i==!0;h.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.G.pI({$:255,H:255,J:255})}};q.strokeStyleContent.v.Clr.v=j.G.pI({$:w[0],H:w[1],J:w[2]});
q.strokeStyleLineWidth.v.val=J*2;q.strokeStyleLineCapType.v.strokeStyleLineCapType="strokeStyleRoundCap"}return d}();
kk.vG={};kk.vG.di=!0;kk.vG.Zn=function(I,k){var a=Date.now(),n=bd.parse(I),s=u.hK,C=u.Gn,T=n.LtfHeader,S=0,D=s(T,S);
S+=4;if(D!=T.length)throw"e";var o=s(T,S);S+=4;if(o!=4609100)throw"e";var v=s(T,S);S+=4;if(v!=600)throw v;
var g=C(T,S);S+=2;if(g!=2&&g!=4)throw g;var d=C(T,S);S+=2;var R=s(T,S),c=s(T,S+4);S+=8;var e=s(T,S)/1e4;
S+=8;var v=s(T,S),g=s(T,S+4);S+=8;if(v!=0&&v!=1&&v!=2)throw v;for(var Y=0;Y<20;Y++)if(T[S+Y]!=0)throw Y;
S+=20;var v=s(T,S);S+=4;if(v!=0&&v!=1)throw v;var O=s(T,S);S+=4;if(O!=0&&O!=1)throw O;for(var Y=0;Y<476;
Y++)if(T[S+Y]!=0)throw Y;S+=476;var U=S+104;k.Q=R;k._=c;k.buffer=j.U(R*c*4);var K=n.LtfMainPalette,_=n.LtfObjectList;
S=0;if(_){var bQ=s(_,0);if(s(_,4)!=bQ)throw"e";for(var Z=0;Z<bQ;Z++){S=8+Z*192;var H=S+128;while(_[H]!=0)H+=2;
var G=u.SB(_,S+128,H-(S+128)>>>1);kk.vG.j2(n[G],k,K)}}var N=k.ux();k.R.push(N);N.GF("Background");if(n.LtfMainImage){var z=kk.vG.O5(n.LtfMainImage,null,K);
N.buffer=z[0];N.rect=z[1]}else{N.rect=new eZ(0,0,R,c);var L=s(T,U);kk.vG.agA(N,K?s(K,2+L*4):L)}k.R.reverse()};
kk.vG.a8X=function(I){var k="";for(var Y=0;Y<I.length;Y++){var a=""+I[Y];while(a.length<3)a=" "+a;k+=a+", "}return k};
kk.vG.j2=function(I,k,a){var n=u.hK,s=k.ux(),T=0;k.R.push(s);var C=I.ObjectData;if(n(C,0)!=C.length)throw"e";
T+=4;var S=T;while(C[S]!=0)S++;s.GF(u.x8(C,T,S-T));T=S+1;if(S==5){if(C[T]!=0)throw"e";T++}var D=I.ObjectMask0,o=I.PathStream;
if(o&&D==null){var v=s.add.vmsk=new X.JB;v.d=kk.vG.xX(o);s.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.G.pI({$:C[232],H:C[233],J:C[234]})}};
s.add.vstk=fY.Lg.nI(!0);s.Wr(k)}if(D==null)return;s.rect=new eZ(n(D,0),n(D,4),n(D,8),n(D,12));if(I.ObjectImage){var g=kk.vG.O5(I.ObjectImage,null,a);
s.buffer=g[0]}else kk.vG.agA(s,n(C,188));kk.vG.O5(new Uint8Array(D.buffer,16),s.buffer)};kk.vG.agA=function(I,k){I.buffer=j.U(I.rect.c()*4);
new Uint32Array(I.buffer.buffer).fill(255<<24|k)};kk.vG.xX=function(I){var k=u.Gn,a=u.hK,n=u.qu,T=0;
function s(O,U){var K=k(O,U),_=k(O,U+2);return _}var C=pako.inflate(I.slice(12));T=128;for(var Y=0;Y<260;
Y++)if(C[T+Y]!=0)throw Y;T+=260;if(a(C,T)!=50)throw"e";T+=4;if(a(C,T)!=0)throw"e";T+=4;if(a(C,T)!=0)throw"e";
T+=4;var S=a(C,T);T+=4;var S=a(C,T);if(S!=106&&S!=186&&S!=196&&S!=236)throw a(C,T);T+=4;if(a(C,T)!=0)throw"e";
T+=4;if(a(C,T)!=24)throw"e";T+=4;if(a(C,T)!=0)throw"e";T+=4;var S=a(C,T);T+=4;var D=a(C,T);T+=4;if(a(C,T)!=0)throw"e";
T+=4;if(a(C,T)!=0)throw"e";T+=4;if(a(C,T)!=1280)throw"e";T+=4;for(var Y=0;Y<24;Y++)if(C[T+Y]!=0)throw Y;
T+=24;var o=a(C,T);T+=4;if(42+o*10!=D)throw"e";var v=a(C,T);T+=4;var g=a(C,T);T+=4;var d=[{type:6},{type:8,all:0}];
d.push({type:0,length:o,Np:0,RO:2,Ba:0,yk:0});for(var Y=0;Y<o;Y++){var R=s(C,T+2),c=s(C,T+6),e=new kK(R,c);
d.push({type:2,VW:e.clone(),A:e,zK:e.clone()});T+=10}return d};kk.vG.O5=function(I,k,a){var n=u.hK,s=u.Ge,C=kk.vG.a8X,T=0,S=n(I,T),R,c=0,W;
T+=4;var D=n(I,T);T+=4;var o=n(I,T);T+=4;var v=n(I,T);T+=4;var g=n(I,T);T+=4;var d=S*D,e=I.length;if(d==e-20)R=new Uint8Array(I.buffer,20+I.byteOffset);
else if(o==64*64*3||k&&o==64*64){var O=kk.wV("jpg"),U=0,K=0;R=j.U(S*D);while(T<I.length){var _=n(I,T);
T+=4;var Z=O.Zn(I.slice(T,T+_))[0],v=Z.e3,H=new Uint8Array(Z.data),G=k?S:S/3;for(var N=0;N<v._;N++)for(var z=0;
z<v.Q;z++){var L=N*v.Q+z,p=(N+K)*G+(z+U);if(k)R[p]=H[L*4];else{R[p*3+0]=H[L*4+2];R[p*3+1]=H[L*4+1];R[p*3+2]=H[L*4+0]}}U+=64;
if(U>G){K+=64;U=0}T+=_}}else{R=j.U(d);for(var L=0;L<d;L+=o){var V=L+o,r=n(I,T);T+=4;while(c<V&&T<e){var y=I[T];
T++;if(y<128)for(var Y=0;Y<y+1;Y++){R[c++]=I[T++];if(k)continue;R[c++]=I[T++];R[c++]=I[T++]}else{y-=127;
for(var Y=0;Y<y;Y++){R[c++]=I[T+0];if(k)continue;R[c++]=I[T+1];R[c++]=I[T+2]}T+=k?1:3}}}}if(k){for(var Y=0;
Y<d;Y++)k[Y*4+3]=R[Y];return[R,new eZ(0,0,S,D)]}if(a){W=j.U(d*4);for(var Y=0;Y<d;Y++){var m=Y<<2,o=2+R[Y]*4;
W[m]=a[o];W[m+1]=a[o+1];W[m+2]=a[o+2];W[m+3]=255}}else{S=Math.round(S/3);d=S*D;W=j.U(d*4);for(var Y=0;
Y<d;Y++){var p=Y*3,m=Y<<2;W[m]=R[p];W[m+1]=R[p+1];W[m+2]=R[p+2];W[m+3]=255}}return[W,new eZ(0,0,S,D)]};
kk.aor={};kk.aor.Zn=function(I){var k=new Uint8Array(I),a=u.sg,T=16;if(u.x8(k,0,4)!="chlv")throw"e";
var n=a(k,4),s=a(k,8),C=a(k,12),S=[];while(T<k.length){var D=a(k,T),o=a(k,T+48),v=a(k,T+52),g=o*v,d=o*4,R=j.U(o*v*4);
R.fill(255);for(var c=0;c<v;c++)for(var e=0;e<o;e+=4){var Y=c*o+e,O=Y*4,U=T+108+(Y>>>2)*6;R[O]=k[U+1];
R[O+4]=k[U+3];R[O+8]=k[U+4];R[O+12]=k[U+5];for(var K=0;K<16;K+=4){R[O+K+1]=k[U+0];R[O+K+2]=k[U+2]}}var _=new Int8Array(R.buffer),Z=new Uint8ClampedArray(R.buffer);
for(var c=0;c<v;c++)for(var e=0;e<o;e++){var Y=(c*o+e)*4,H=R[Y],G=_[Y+1],N=_[Y+2],z=H+(45*N>>5),L=H-(11*G+23*N>>5),p=H+(113*G>>6);
Z[Y]=z;Z[Y+1]=L;Z[Y+2]=p}T+=D+4;S.push({e3:new eZ(0,0,o,v),data:R.buffer,Dq:"_a_"+S.length})}return S};
var dZ={};dZ.QV=!1;dZ.aEi=!1;dZ.G5=!1;dZ.g8=document.createElement("canvas");dZ.hp=null;dZ.Id=null;dZ.Gc=0;
(function(){var I={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},k;if(!k)k=dZ.g8.getContext("webgl",I);
if(!k)k=dZ.g8.getContext("experimental-webgl",I);if(k){dZ.QV=!0;dZ.aEi=!0;dZ.hp=k;dZ.Id=k.createFramebuffer();
k.bindFramebuffer(k.FRAMEBUFFER,dZ.Id);k.disable(k.BLEND);k.disable(k.DEPTH_TEST);var a=k.createBuffer();
k.bindBuffer(k.ARRAY_BUFFER,a);k.bufferData(k.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),k.STATIC_DRAW);
k.enableVertexAttribArray(0);k.vertexAttribPointer(0,2,k.FLOAT,!1,0,0)}}());dZ.ant=function(I){I=I.replace(/\s\s+/g," ");
I=I.replace(/; /g,";");I=I.replace(/} /g,"}");I=I.replace(/ }/g,"}");I=I.replace(/{ /g,"{");I=I.replace(/ {/g,"{");
I=I.replace(/= /g,"=");I=I.replace(/ =/g,"=");I=I.replace(/\| /g,"|");I=I.replace(/ \|/g,"|");return I};
dZ.C7=function(I){var k=dZ.hp;if(I>k.getParameter(k.MAX_TEXTURE_SIZE)){dZ.QV=!1;alert("Disabling WebGL")}};
dZ.gg=function(I,k){return new Float32Array([(I.x-k.x)/k.Q,(I.y-k.y)/k._,I.Q/k.Q,I._/k._])};dZ.$P=function(){return this.g8};
dZ.FL=function(I,k){var a=dZ.hp;a.bindFramebuffer(a.FRAMEBUFFER,dZ.Id);a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,I.e9,0);
a.viewport(0,0,I.Q,I._);if(k){a.enable(a.SCISSOR_TEST);a.scissor(k.x,k.y,k.Q,k._)}else a.disable(a.SCISSOR_TEST)};
dZ.awT=function(I,k,a){if(a)throw"error";var n=dZ.hp;n.disable(n.SCISSOR_TEST);n.bindFramebuffer(n.FRAMEBUFFER,null);
n.viewport(0,0,I,k);if(a){n.enable(n.SCISSOR_TEST);n.scissor(a.x,a.y,Math.round(a.Q),Math.round(a._))}else n.disable(n.SCISSOR_TEST)};
dZ.clear=function(){var I=dZ.hp;I.clearColor(0,0,0,0);I.clear(I.COLOR_BUFFER_BIT)};dZ.g_=function(I,k){if(k==null)k=0;
var a=(k>>>0&255)==0,n=(k>>>8&255)==0,s=(k>>>16&255)==0,C=(k>>>24&255)==0,T=(I>>>0&255)*(1/255),S=(I>>>8&255)*(1/255),D=(I>>>16&255)*(1/255),o=(I>>>24&255)*(1/255),v=dZ.hp;
v.colorMask(a,n,s,C);v.clearColor(T,S,D,o);v.clear(v.COLOR_BUFFER_BIT);v.colorMask(!0,!0,!0,!0)};dZ.zq=function(I,k,a,n,s){var C=k.LU(n);
if(s)C=C.LU(s);if(C.KH())return;var T=dZ.hp;dZ.FL(I);T.bindTexture(T.TEXTURE_2D,a.e9);T.copyTexSubImage2D(T.TEXTURE_2D,0,C.x-n.x,C.y-n.y,C.x-k.x,C.y-k.y,C.Q,C._)};
dZ.Ec=function(Y,I,k){var a=dZ.aeS[Y];if(a==null||a.Q!=I||a._!=k){if(a)a.delete();a=new dZ.$n(I,k)}dZ.aeS[Y]=a;
return a};dZ.aeS=[];dZ.tv=function(){this.uy=null;this.Qt=null};dZ.tv.bC=null;dZ.tv.prototype.rl=function(I){if(this.Qt)return;
this.Qt={};var k=dZ.hp,a=this.uy,n=this.Qt;for(var Y=0;Y<I.length;Y++){var s=I[Y];n[s]=k.getUniformLocation(a,s)}};
dZ.tv.prototype.Wb=function(){};dZ.tv.prototype.BQ=function(I){var k=dZ.hp;for(var Y=0;Y<I.length;Y+=2){k.uniform1i(I[Y],Y>>>1);
k.activeTexture(k["TEXTURE"+(Y>>>1)]);k.bindTexture(k.TEXTURE_2D,I[Y+1])}k.activeTexture(k.TEXTURE0)};
dZ.tv.prototype.Ui=function(I,k){var a=dZ.hp,n=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(n,I);
a.compileShader(n);if(!a.getShaderParameter(n,a.COMPILE_STATUS))console.log(a.getShaderInfoLog(n));var s=a.createShader(a.VERTEX_SHADER);
a.shaderSource(s,k);a.compileShader(s);if(!a.getShaderParameter(s,a.COMPILE_STATUS))console.log(a.getShaderInfoLog(s));
var C=a.createProgram();a.attachShader(C,s);a.attachShader(C,n);a.linkProgram(C);if(!a.getProgramParameter(C,a.LINK_STATUS))console.log("Could not initialise shaders");
this.uy=C};dZ.tv.prototype.pz=function(){if(dZ.tv.bC!=this){dZ.hp.useProgram(this.uy);dZ.tv.bC=this}};
dZ.SH=function(I,k){dZ.fR++;dZ.Gc+=I*k;if(dZ.G5)console.log("GL.Channels instances: "+dZ.fR+", memory: "+dZ.Gc);
var a=dZ.hp;this.Q=I;this._=k;this.e9=a.createTexture();this.kC=null;this.uu(this.e9,I,k)};dZ.SH.prototype.uu=function(I,k,a){var n=dZ.hp;
n.bindTexture(n.TEXTURE_2D,I);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST);
n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE);
n.texImage2D(n.TEXTURE_2D,0,n.ALPHA,k,a,0,n.ALPHA,n.UNSIGNED_BYTE,null)};dZ.SH.prototype.set=function(I,k){var a=dZ.hp;
a.bindTexture(a.TEXTURE_2D,this.e9);a.pixelStorei(a.UNPACK_ALIGNMENT,1);var n=this.Q*this._;if(k==null||k.c()*10>n)a.texImage2D(a.TEXTURE_2D,0,a.ALPHA,this.Q,this._,0,a.ALPHA,a.UNSIGNED_BYTE,I);
else{var s=new eZ(0,0,this.Q,this._),C=j.U(k.c());j.O0(I,s,C,k);a.texSubImage2D(a.TEXTURE_2D,0,k.x,k.y,k.Q,k._,a.ALPHA,a.UNSIGNED_BYTE,C)}a.pixelStorei(a.UNPACK_ALIGNMENT,4)};
dZ.SH.prototype.delete=function(){var I=dZ.hp;if(this.e9){I.deleteTexture(this.e9);dZ.fR--;dZ.Gc-=this.Q*this._}if(dZ.G5)if(dZ.G5)console.log("GL.Channels instances: "+dZ.fR+", memory: "+dZ.Gc*4)};
dZ.fR=0;dZ.$n=function(I,k,a){if(a==null)a=!1;dZ.fR++;dZ.Gc+=I*k*4;if(dZ.G5)console.log("GL.Channels instances: "+dZ.fR+", memory: "+dZ.Gc);
var n=dZ.hp;this.a6N=a;this.Q=I;this._=k;this.e9=n.createTexture();this.kC=null;this.uu(this.e9,I,k)};
dZ.$n.prototype.set=function(I,k){var a=dZ.hp;a.disable(a.SCISSOR_TEST);a.bindTexture(a.TEXTURE_2D,this.e9);
if(I==null||I instanceof Uint8Array){var n=this.Q*this._;if((k==null||k.c()*10>n)&&(I==null||I.length>=n*4))a.texImage2D(a.TEXTURE_2D,0,a.RGBA,this.Q,this._,0,a.RGBA,a.UNSIGNED_BYTE,I);
else{var s=I;if(I.length==n*4){var s=j.U(k.c()*4);j.ao(I,new eZ(0,0,this.Q,this._),s,k)}a.texSubImage2D(a.TEXTURE_2D,0,k.x,k.y,k.Q,k._,a.RGBA,a.UNSIGNED_BYTE,s)}}else a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,I)};
dZ.$n.prototype.get=function(I){var k=dZ.hp;dZ.FL(this);k.readPixels(0,0,this.Q,this._,k.RGBA,k.UNSIGNED_BYTE,I)};
dZ.$n.prototype.kv=function(I){if(I.KH())return;var k=dZ.hp;if(this.kC==null){this.kC=k.createTexture();
this.uu(this.kC,this.Q,this._);dZ.fR++;dZ.Gc+=this.Q*this._*4}k.bindFramebuffer(k.FRAMEBUFFER,dZ.Id);
k.bindTexture(k.TEXTURE_2D,this.kC);if(I){var a=Math.max(I.x,0),n=Math.max(I.y,0);k.copyTexSubImage2D(k.TEXTURE_2D,0,a,n,a,n,I.Q,I._)}else k.copyTexImage2D(k.TEXTURE_2D,0,k.RGBA,0,0,this.Q,this._,0)};
dZ.$n.prototype.uu=function(I,k,a){var n=dZ.hp;n.bindTexture(n.TEXTURE_2D,I);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,this.a6N?n.LINEAR:n.NEAREST);
n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE);
n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE);n.texImage2D(n.TEXTURE_2D,0,n.RGBA,k,a,0,n.RGBA,n.UNSIGNED_BYTE,null)};
dZ.$n.prototype.delete=function(){var I=dZ.hp;if(this.e9){I.deleteTexture(this.e9);dZ.fR--;dZ.Gc-=this.Q*this._*4}if(this.kC){I.deleteTexture(this.kC);
dZ.fR--;dZ.Gc-=this.Q*this._*4}if(dZ.G5)if(dZ.G5)console.log("GL.Channels instances: "+dZ.fR+", memory: "+dZ.Gc)};
dZ.$n.prototype.clone=function(){var I=dZ.hp,k=new dZ.$n(this.Q,this._);dZ.FL(this);I.bindTexture(I.TEXTURE_2D,k.e9);
I.copyTexImage2D(I.TEXTURE_2D,0,I.RGBA,0,0,this.Q,this._,0);return k};dZ.TE={ax_:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",aiU:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",ci:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",VR:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",afG:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",KQ:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",BZ:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",hW:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",aEt:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",Nj:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",atu:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",qR:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",apR:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",LG:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",No:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",Sg:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",zH:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",ps:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",r1:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",ahW:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",atA:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",l8:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}",a4o:"\t\t\tvec4 mapLut(vec4 src, sampler2D lut, float N) {\t\t\t\tfloat iN = 1.0/N; \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R);  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, (ir    + fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, (ir+1.0+ fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,clamp(R-ir,0.0,1.0));  \t\t\t\treturn rs;  \t\t\t}"};
dZ.z={};dZ.z.rn={};dZ.z.BD=null;dZ.z.YT=null;dZ.z.Hh=null;dZ.z.atd=function(I,k,a,n,s,C,T,S){if(S==null)S=hB.LJ();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(I)==-1){T=T*S.fill;S.fill=1;S.style=!1}var D=I+(S.qV?"1":"");
if(dZ.z.rn[D]==null)dZ.z.rn[D]=new dZ.z.g9(I,S.qV!=null);var o=dZ.z.rn[D],v=a.LU(s).LU(C);v.offset(-s.x,-s.y);
if(v.KH())return;var g=dZ.hp;dZ.FL(n,v);n.kv(v);o.pz();o.Wb(k.e9,n.kC,dZ.gg(a,s),T,S.fill,S.style?1:0,S.Vj?1:0,S.qV?new Float32Array(S.qV):null);
g.drawArrays(g.TRIANGLES,0,6)};dZ.z.sT=function(I,k,a,n,s,C,T,S,D,o,v){if(dZ.z.BD==null)dZ.z.BD=new dZ.z.Eh(!0,!0);
if(dZ.z.YT==null)dZ.z.YT=new dZ.z.Eh(!0,!1);if(dZ.z.Hh==null)dZ.z.Hh=new dZ.z.Eh(!1,!0);var g=o?1:0,d=I?s?dZ.z.BD:dZ.z.YT:dZ.z.Hh,R=new Float32Array(v?[v[0],v[1],v[2],1]:[1,1,1,1]),c=k?k.LU(n).LU(S):n.LU(S);
if(c.KH())return;c.offset(-n.x,-n.y);var e=dZ.hp;dZ.FL(a,c);a.kv(c);d.pz();if(I==null)d.Wb(null,a.kC,s.e9,dZ.gg(n,n),dZ.gg(C,n),T/255,D,g,R);
else if(s)d.Wb(I.e9,a.kC,s.e9,dZ.gg(k,n),dZ.gg(C,n),T/255,D,g,R);else d.Wb(I.e9,a.kC,null,dZ.gg(k,n),null,T/255,D,g,R);
e.drawArrays(e.TRIANGLES,0,6)};dZ.z.abE=function(I,k,a){if(dZ.z.a92==null)dZ.z.a92=new dZ.z.L2;var n=dZ.z.a92,s=new eZ(0,0,I.Q,I._),C=dZ.hp;
dZ.FL(k);k.kv(s);n.pz();n.Wb(s,I.e9,k.kC,a.e9);C.drawArrays(C.TRIANGLES,0,6)};dZ.z.v6={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
dZ.z.g9=function(I,k){dZ.tv.call(this);var a="\t\t\tprecision highp float;\t\t\t"+dZ.TE.ci+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(k?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+dZ.TE.KQ+"\t\t\t"+dZ.TE.BZ+"\t\t\t"+dZ.TE.hW+"\t\t\t"+dZ.TE.ax_+"\t\t\t"+dZ.TE.aiU+"\t\t\t"+dZ.TE.aEt+"\t\t\t"+dZ.TE.Nj+"\t\t\t"+dZ.TE.atu+"\t\t\t"+dZ.TE.qR+"\t\t\t"+dZ.TE.hash+"\t\t\t"+(k?dZ.TE.l8:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+dZ.z.v6[I]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",n="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(I=="diss")a+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else a+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(k?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.Ui(a,n)};dZ.z.g9.prototype=new dZ.tv;dZ.z.g9.prototype.Wb=function(I,k,a,n,s,C,T,S){this.rl("srct alpha source target fill style keepBGA blIf".split(" "));
var D=dZ.hp,o=this.Qt;D.uniform4fv(o.srct,a);D.uniform1f(o.alpha,n);D.uniform1f(o.fill,s);D.uniform1f(o.style,C);
D.uniform1f(o.keepBGA,T);if(S)D.uniform4fv(o.blIf,S);this.BQ([o.source,I,o.target,k])};dZ.z.Eh=function(I,k){dZ.tv.call(this);
this.a25=I;this.Sk=k;var a="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+dZ.TE.apR+"\t\t\t"+dZ.TE.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(I?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(k?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(I?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(k?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",n="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.Ui(a,n)};dZ.z.Eh.prototype=new dZ.tv;dZ.z.Eh.prototype.Wb=function(I,k,a,n,s,C,T,S,D){if(this.Sk)this.rl("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.rl("srct awg dissv source target cswitch".split(" "));var o=dZ.hp,v=this.Qt;o.uniform4fv(v.srct,n);
if(this.Sk){o.uniform4fv(v.wrct,s);o.uniform1f(v.wcolor,C)}else{o.uniform4fv(v.cswitch,D)}o.uniform1f(v.awg,T);
o.uniform1f(v.dissv,S);var g=[v.source,I,v.target,k];if(this.Sk)g.push(v.weight,a);this.BQ(g)};dZ.z.L2=function(){dZ.tv.call(this);
var I="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",k="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.Ui(I,k)};dZ.z.L2.prototype=new dZ.tv;dZ.z.L2.prototype.Wb=function(I,k,a,n){this.rl(["rct","prev","next","alpha"]);
var s=dZ.hp,C=this.Qt;s.uniform4fv(C.rct,[0,0,1,1]);this.BQ([C.prev,k,C.next,a,C.alpha,n])};dZ.g5={Jc:{},Xe:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
dZ.g5.bl=function(I,k){var a=fo.iI,n=[a.sc,a.vk,a.OH,a.RY,a.Vq,a.sJ,a.TF,a.nT].indexOf(I.type),s=dZ.g5.Jc[I.type];
if(s==null)s=dZ.g5.Jc[I.type]=new dZ.Jc[n];s.pz();s.Wb(k,I);dZ.hp.drawArrays(dZ.hp.TRIANGLES,0,6)};dZ.Jc=[];
dZ.Jc[0]=function(){dZ.tv.call(this);this.sL={};var I="\t\t\tprecision mediump float;\t\t\t"+dZ.TE.BZ+"\t\t\t"+dZ.TE.ci+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.Ui(I,dZ.g5.Xe)};dZ.Jc[0].prototype=new dZ.tv;dZ.Jc[0].prototype.Wb=function(I,k){var a={$:k.gG,H:k.NQ,J:k.nY,M:j.U(k.gG.length)},n=a.$.length;
if(this.sL["m"+n]==null){this.sL["m"+n]={az7:new dZ.$n(n,1),GG:j.U(n*4)}}var s=this.sL["m"+n];j.we(a,s.GG,0);
var C=s.az7;C.set(s.GG);this.rl(["source","map","toGray","presLum"]);var T=dZ.hp,S=this.Qt;T.uniform1f(S.toGray,k.cX?1:0);
T.uniform1f(S.presLum,k.NI?1:0);this.BQ([S.source,I,S.map,C.e9])};dZ.Jc[1]=function(){dZ.tv.call(this);
this.RH=new dZ.$n(256,1);this.awF=j.U(256*4);var I="\t\t\t\tprecision mediump float;\t\t\t\t"+dZ.TE.Sg+"\t\t\t\t"+dZ.TE.LG+"\t\t\t\t"+dZ.TE.No+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.Ui(I,dZ.g5.Xe)};dZ.Jc[1].prototype=new dZ.tv;dZ.Jc[1].prototype.Wb=function(I,k){j.we({$:k.acJ,H:k.iU,J:k.awh,M:j.U(256)},this.awF);
this.RH.set(this.awF);this.rl(["source","map","cfa","cfb","colorize"]);var a=dZ.hp,n=this.Qt;a.uniform1f(n.cfa,k.ak2);
a.uniform1f(n.cfb,k.Cs);a.uniform1i(n.colorize,k.aku);this.BQ([n.source,I,n.map,this.RH.e9])};dZ.Jc[2]=function(){dZ.tv.call(this);
var I="\t\t\tprecision mediump float;\t\t\t"+dZ.TE.Sg+"\t\t\t"+dZ.TE.zH+"\t\t\t"+dZ.TE.ps+"\t\t\t"+dZ.TE.LG+"\t\t\t"+dZ.TE.No+"\t\t\t"+dZ.TE.ahW+"\t\t\t"+dZ.TE.atA+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.Ui(I,dZ.g5.Xe)};dZ.Jc[2].prototype=new dZ.tv;dZ.Jc[2].prototype.Wb=function(I,k){this.rl(["source","vib","sat","yF"]);
var a=dZ.hp,n=this.Qt;a.uniform1f(n.vib,k.CU[0]);a.uniform1f(n.sat,k.CU[1]);a.uniform3fv(n.yF,new Float32Array([k.CU[2],k.CU[3],k.CU[3]]));
this.BQ([n.source,I])};dZ.Jc[3]=function(){dZ.tv.call(this);var I="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.Ui(I,dZ.g5.Xe)};dZ.Jc[3].prototype=new dZ.tv;dZ.Jc[3].prototype.Wb=function(I,k){this.rl(["source","trf"]);
var a=dZ.hp,n=this.Qt;a.uniformMatrix4fv(n.trf,!1,new Float32Array(j.LT.wZ(k.Ce)));this.BQ([n.source,I])};
dZ.Jc[4]=function(){dZ.tv.call(this);var I="\t\t\tprecision mediump float; \t\t\t"+dZ.TE.r1+"\t\t\t"+dZ.TE.Sg+"\t\t\t"+dZ.TE.No+"\t\t\t"+dZ.TE.LG+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.Ui(I,dZ.g5.Xe)};dZ.Jc[4].prototype=new dZ.tv;dZ.Jc[4].prototype.Wb=function(I,k){this.rl(["source","mnm","mxm","shift","lim"]);
var a=dZ.hp,n=this.Qt;a.uniform3fv(n.mnm,new Float32Array(k.T1));a.uniform3fv(n.mxm,new Float32Array(k.Ad));
a.uniform3fv(n.shift,new Float32Array(k.shift));a.uniform1f(n.lim,k.wE);this.BQ([n.source,I])};dZ.Jc[5]=function(){dZ.tv.call(this);
var I="\t\t\tprecision mediump float;\t\t\t"+dZ.TE.ci+"\t\t\t"+dZ.TE.VR+"\t\t\t"+dZ.TE.afG+"\t\t\t"+dZ.TE.LG+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.Ui(I,dZ.g5.Xe)};dZ.Jc[5].prototype=new dZ.tv;dZ.Jc[5].prototype.Wb=function(I,k){this.rl(["source","cfs"]);
var a=dZ.hp,n=this.Qt;a.uniform3fv(n.cfs,k.akf);this.BQ([n.source,I])};dZ.Jc[6]=function(){dZ.tv.call(this);
var I="\t\t\tprecision mediump float;\t\t\t"+dZ.TE.Sg+"\t\t\t"+dZ.TE.VR+"\t\t\t"+dZ.TE.afG+"\t\t\t"+dZ.TE.LG+"\t\t\t"+dZ.TE.No+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.Ui(I,dZ.g5.Xe)};dZ.Jc[6].prototype=new dZ.tv;dZ.Jc[6].prototype.Wb=function(I,k){this.rl(["source","wght","prms"]);
var a=dZ.hp,n=this.Qt,s=[k.C0,k.ani,k.BZ,k.ajQ,k.dM,k.amM];a.uniform1fv(n.wght,new Float32Array(k.awI));
a.uniform1fv(n.prms,new Float32Array(s));this.BQ([n.source,I])};dZ.Jc[7]=function(){dZ.tv.call(this);
this.oG={};var I="\t\t\tprecision mediump float;\t\t\t"+dZ.TE.a4o+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 rs = mapLut(src, lut, N); \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.Ui(I,dZ.g5.Xe)};dZ.Jc[7].prototype=new dZ.tv;dZ.Jc[7].prototype.Wb=function(I,k){this.rl(["source","lut","N"]);
var a=dZ.hp,n=this.Qt,s=k.kO,C=k.b6;if(this.oG["m"+s]==null)this.oG["m"+s]=new dZ.$n(s,s*s);var T=this.oG["m"+s];
T.set(C);a.uniform1f(n.N,s);this.BQ([n.source,I,n.lut,T.e9]);a.activeTexture(a.TEXTURE1);var S=a.LINEAR;
a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,S);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,S);
a.activeTexture(a.TEXTURE0)};dZ.filter={Pv:{},Xe:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",a0p:0,akT:1,W0:2,aiS:3,agV:4,a2x:5,ex:6,a2H:7};
dZ.filter.bl=function(I,k){var a=dZ.filter,n,s=I.type+":"+(I.sw?I.sw.join(","):""),n=dZ.filter.Pv[s];
if(n==null)n=dZ.filter.Pv[s]=new dZ.Pv[I.type](I.sw);n.pz();n.Wb(k,I);dZ.hp.drawArrays(dZ.hp.TRIANGLES,0,6)};
dZ.Pv=[0,0,0,0,0,0,0,0,0,0,0,0];dZ.Pv[7]=function(){dZ.tv.call(this);var I="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.Ui(dz.R8(I),dz.R8(dZ.filter.Xe))};dZ.Pv[7].prototype=new dZ.tv;dZ.Pv[7].prototype.Wb=function(I,k){this.rl(["source","iwh","kern"]);
var a=dZ.hp,n=this.Qt;a.uniform2fv(n.iwh,k.JL);a.uniform1fv(n.kern,k.a8U);this.BQ([n.source,I])};dZ.Pv[6]=function(I){dZ.tv.call(this);
var k=I[0],a=I[1],n=I[2],s="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|X]X{c[Y):sxs7mJy\"wa1#,j::@FsMRM}c",C=dz.R8(s);
C=C.replaceAll("PRC",n+".0");C=C.replaceAll("DIR",["x,0","0,x"][a]);this.Ui(C,dZ.g5.Xe)};dZ.Pv[6].prototype=new dZ.tv;
dZ.Pv[6].prototype.Wb=function(I,k){this.rl(["source","iwh","rad"]);var a=dZ.hp,n=this.Qt;a.uniform2fv(n.iwh,k.JL);
a.uniform1f(n.rad,k.xN);this.BQ([n.source,I])};dZ.Pv[4]=function(I){dZ.tv.call(this);var k=I[0],a=I[1],n="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+I[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][a]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][k]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][a]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(a==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.Ui(n,dZ.g5.Xe)};dZ.Pv[4].prototype=new dZ.tv;dZ.Pv[4].prototype.Wb=function(I,k){this.rl(["source","iwh","rrad","tr"]);
var a=dZ.hp,n=this.Qt;a.uniform2fv(n.iwh,k.JL);a.uniform1f(n.rrad,k.M0);a.uniform1f(n.tr,k.aqL);this.BQ([n.source,I]);
var s=a.LINEAR;s=a.NEAREST;a.activeTexture(a.TEXTURE0);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,s);
a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,s);a.activeTexture(a.TEXTURE0)};dZ.Pv[5]=function(){dZ.tv.call(this);
var I="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.Ui(dz.R8(I),dz.R8(dZ.filter.Xe))};dZ.Pv[5].prototype=new dZ.tv;dZ.Pv[5].prototype.Wb=function(I,k){this.rl(["source","ssum","iwh","amnt","edgf"]);
var a=dZ.hp,n=this.Qt;a.uniform2fv(n.iwh,k.JL);a.uniform1f(n.amnt,k.avX);a.uniform1f(n.edgf,k.ade);this.BQ([n.source,I,n.ssum,k.a3f])};
dZ.Pv[3]=function(){dZ.tv.call(this);var I="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.Ui(dz.R8(I),dz.R8(dZ.filter.Xe))};dZ.Pv[3].prototype=new dZ.tv;dZ.Pv[3].prototype.Wb=function(I,k){this.rl("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var a=dZ.hp,n=this.Qt;a.uniform2fv(n.iwh,k.JL);a.uniform1f(n.tdep,k.aE4);a.uniform1f(n.rrad,k.M0);a.uniform2fv(n.spec,k.a5T);
a.uniform3fv(n.nois,k.aug);a.uniformMatrix4fv(n.poly0,!1,k.am5);a.uniformMatrix4fv(n.poly1,!1,k.asx);
this.BQ([n.source,I]);var s=a.LINEAR;a.activeTexture(a.TEXTURE0);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,s);
a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,s);a.activeTexture(a.TEXTURE0)};dZ.Pv[0]=function(){dZ.tv.call(this);
var I="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.Ui(dz.R8(I),dz.R8(dZ.filter.Xe))};dZ.Pv[0].prototype=new dZ.tv;dZ.Pv[0].prototype.Wb=function(I,k){this.rl(["source","iwh","ld","shine"]);
var a=dZ.hp,n=this.Qt;a.uniform2fv(n.iwh,k.JL);a.uniform3fv(n.ld,k.afz);a.uniform1f(n.shine,k.avM);this.BQ([n.source,I,n.tang,k.v9])};
dZ.Pv[1]=function(){dZ.tv.call(this);var I="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.Ui(dz.R8(I),dz.R8(dZ.filter.Xe))};dZ.Pv[1].prototype=new dZ.tv;dZ.Pv[1].prototype.Wb=function(I,k){this.rl(["source","iwh","isc","bristle"]);
var a=dZ.hp,n=this.Qt;a.uniform2fv(n.iwh,k.JL);a.uniform1f(n.isc,k.a1F);a.uniform1f(n.bristle,k.a4P);
this.BQ([n.source,I])};dZ.Pv[2]=function(){dZ.tv.call(this);var I="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.Ui(dz.R8(I),dz.R8(dZ.filter.Xe))};dZ.Pv[2].prototype=new dZ.tv;dZ.Pv[2].prototype.Wb=function(I,k){this.rl(["source","tang","iwh","sigma","expo"]);
var a=dZ.hp,n=this.Qt;a.uniform2fv(n.iwh,k.JL);a.uniform1f(n.sigma,k.a7e);a.uniform1f(n.expo,k.avy);
this.BQ([n.source,I,n.tang,k.v9]);var s=a.LINEAR;a.activeTexture(a.TEXTURE0);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,s);
a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,s);a.activeTexture(a.TEXTURE0)};function j(){}j.g={};
j.a71={};j.alG=function(){var I=[64,64,128,256,512,1024,2048],k=[];for(var Y=0;Y<I.length;Y++){var a=I[Y],n=document.createElement("canvas");
n.width=a;n.height=a;k.push(n.getContext("2d",{willReadFrequently:!0}))}return k}();j.$P=function(I,k){var a,n=j.alG,Y=1,s=Math.max(I,k);
while(Y<n.length&&s>n[Y].canvas.width)Y++;if(Y==n.length){a=n[0];var C=a.canvas;C.width=I;C.height=k}else{a=n[Y];
a.clearRect(0,0,I,k)}return a};j.yf=function(I,k,a){var n=new Uint32Array(k*a);n[0]=I[0];for(var s=1;
s<k;s++)n[s]=n[s-1]+I[s];for(var C=1;C<a;C++){var Y=C*k;n[Y]=n[Y-k]+I[Y];for(var s=1;s<k;s++)n[Y+s]=I[Y+s]+n[Y+s-1]+n[Y+s-k]-n[Y+s-k-1]}return n};
j.He=function(I,k,a,n,s,C){var T=(s-1)*k,S=C*k;return I[S+n]-I[S+a-1]-I[T+n]+I[T+a-1]};j.yD=function(I,k,a){var n={},s=0,C=0,T=new Uint32Array(I.buffer),S=T.length,D=Date.now();
for(var o=1;o<a-1;o++)for(var v=1;v<k-1;v++){var g=o*k+v,d=T[g];if(d>>>24<230)C++;if(n[d]==null){n[d]=!0;
s++}}if(C!=0||s<20)return!1;return!0};j.lQ=function(I,k,a,n,s,C){if(s==null)s=C=0;n=Math.log(n)/Math.log(2);
n=Math.round(n);var T=new Uint32Array(I.buffer);for(var Y=0;Y<a;Y++)for(var S=0;S<k;S++){T[Y*k+S]=j.ah5(Y+C,S+s,n)}};
j.a3Y=function(Y,I,k){return 255-((Y>>>k)+(I>>>k)&1)*51};j.ah5=function(Y,I,k){return 4294967295-((Y>>>k)+(I>>>k)&1)*3355443};
j.uU=function(I,k){var a=k==null?1:k/255;return{$:(I>>>16&255)*a,H:(I>>>8&255)*a,J:(I&255)*a}};j.EQ=function(I,k){var a=k==null?1:255/k;
return Math.round(I.$*a)<<16|Math.round(I.H*a)<<8|Math.round(I.J*a)};j.pB=function(I){var k=I.toString(16);
while(k.length<6)k="0"+k;return k};j.a6b=function(I){return parseInt(I,16)};j.BZ=function(I){return.3*I.$+.59*I.H+.11*I.J};
j.KQ=function(I){return Math.max(I.$,I.H,I.J)-Math.min(I.$,I.H,I.J)};j.RL=function(I,k,a){return.3*I+.59*k+.11*a};
j.aux=function(I,k,a){return Math.max(I,k,a)-Math.min(I,k,a)};j.VR=function(I,k){var a=k-I,n=Math.abs(a),s=a-1,C=a+1;
if(Math.abs(s)<n)a=s;else if(Math.abs(C)<n)a=C;return a};j.lD=function(I){return I<.0031308?12.92*I:1.055*Math.pow(I,1/2.4)-.055};
j.M1=function(I){return I<.04045?I/12.92:Math.pow((I+.055)/1.055,2.4)};j.au6=function(I,k){var a=Math.min(I.length,k.length);
for(var Y=0;Y<a;Y+=4){var n=I[Y],s=I[Y+1],C=I[Y+2];k[Y]=16+Math.floor(65.481/255*n+128.553/255*s+24.966/255*C+.5);
k[Y+1]=128-Math.floor(37.797/255*n-74.203/255*s+112/255*C+.5);k[Y+2]=128+Math.floor(112/255*n-93.786/255*s-18.214/255*C+.5);
k[Y+3]=I[Y+3]}};j.arb=function(I,k,a){var n,s,C,T=Math.max(I,k,a),S=Math.min(I,k,a);C=T;if(T!=0)s=(T-S)/T;
else s=0;if(s==0)n=0;else{var D=T-S,o=(T-I)/D,v=(T-k)/D,g=(T-a)/D;if(I==T)n=g-v;else if(k==T)n=2+o-g;
else n=4+v-o;n*=1/6;if(n<0)n=n+1}return{L4:n,Yl:s,J:C}};j.a7V=function(I,k,a){var n=0,s=0,C=0;if(k==0)n=s=C=a;
else{var T=(I-Math.floor(I))*6,S=Math.floor(T),D=T-Math.floor(T),o=a*(1-k),v=a*(1-k*D),g=a*(1-k*(1-D));
switch(S){case 0:n=a;s=g;C=o;break;case 1:n=v;s=a;C=o;break;case 2:n=o;s=a;C=g;break;case 3:n=o;s=v;
C=a;break;case 4:n=g;s=o;C=a;break;case 5:n=a;s=o;C=v;break}}return{$:n,H:s,J:C}};j.LG=function(I,k,a){var n=Math.max(I,k,a),s=Math.min(I,k,a),C=0,T=0,S=(n+s)*.5;
if(n!=s){var D=n-s;T=S>.5?D/(2-(n+s)):D/(n+s);switch(n){case I:C=(k-a)/D+(k<a?6:0);break;case k:C=(a-I)/D+2;
break;case a:C=(I-k)/D+4;break}C*=1/6}return{L4:C,Yl:T,El:S}};j.No=function(I,k,a){var n,s,C;if(k==0)n=s=C=a;
else{var T=a<.5?a*(1+k):a+k-a*k,S=2*a-T;n=j.Sg(S,T,I+1/3);s=j.Sg(S,T,I);C=j.Sg(S,T,I-1/3)}return{$:n,H:s,J:C}};
j.Sg=function(I,k,a){if(a<0)a+=1;if(a>1)a-=1;if(a<1/6)return I+(k-I)*6*a;if(a<1/2)return k;if(a<2/3)return I+(k-I)*(2/3-a)*6;
return I};j.zH=function(I,k,a){var n=Math.max(I,k,a),s=Math.min(I,k,a),C,T,S=n,D=n-s;T=n==0?0:D/n;if(n==s)C=0;
else{switch(n){case I:C=(k-a)/D+(k<a?6:0);break;case k:C=(a-I)/D+2;break;case a:C=(I-k)/D+4;break}C*=1/6}return{L4:C,Yl:T,B9:S}};
j.ps=function(I,k,a){var n,s,C,Y,T,S,D,o;Y=Math.floor(I*6);T=I*6-Y;S=a*(1-k);D=a*(1-T*k);o=a*(1-(1-T)*k);
switch(Y%6){case 0:n=a,s=o,C=S;break;case 1:n=D,s=a,C=S;break;case 2:n=S,s=a,C=o;break;case 3:n=S,s=D,C=a;
break;case 4:n=o,s=S,C=a;break;case 5:n=a,s=S,C=D;break}return{$:n,H:s,J:C}};j.zl=function(){var I=[],k=[];
for(var Y=0;Y<8e3;Y++){var a=Y*(1/4e3);I[Y]=j.M1(a);k[Y]=a>.008856?Math.pow(a,1/3):(903.3*a+16)*(1/116)}return[I,k]}();
j.r1=function(I,k,a,n){if(n==null)n=[.9642,1,.8249];var s=j.zl[0],C=j.zl[1];I=s[~~(.5+I*(4e3/255))];
k=s[~~(.5+k*(4e3/255))];a=s[~~(.5+a*(4e3/255))];var T=j.LT.aAh,S=T[0]*I+T[1]*k+T[2]*a,D=T[4]*I+T[5]*k+T[6]*a,o=T[8]*I+T[9]*k+T[10]*a;
S=S*(1/n[0]);D=D*(1/n[1]);o=o*(1/n[2]);return j.aao(S,D,o)};j.aao=function(I,k,a){var n=j.zl[1],s=n[~~(.5+I*4e3)],C=n[~~(.5+k*4e3)],T=n[~~(.5+a*4e3)];
return{eI:116*C-16,M:500*(s-C),J:200*(C-T)}};j.YD=function(I,k,a){var n=903.3,s=.008856,C=(I+16)/116,T=C*C*C,S=C-a/200,D=S*S*S,o=k/500+C,v=o*o*o,g=D>s?D:(116*S-16)/n,d=T>s?T:(116*C-16)/n,R=v>s?v:(116*o-16)/n,c=R*96.42,e=d*100,O=g*82.49,U=j.LT.DW(j.LT.x0,[c/100,e/100,O/100,0]);
for(var Y=0;Y<4;Y++)U[Y]=Math.max(0,Math.min(255,j.lD(U[Y])*255));return{$:U[0],H:U[1],J:U[2]}};j.a3D=function(I,k,a,n,s){var C=I.eI,T=I.M,S=I.J,D=(C<k.eI?k.eI-C:a.eI<C?a.eI-C:0)*(1/100),o=(T<k.M?k.M-T:a.M<T?a.M-T:0)*(1/116),v=(S<k.J?k.J-S:a.J<S?a.J-S:0)*(1/116),g=Math.sqrt(D*D+o*o+v*v)*1.35;
return g<=n?Math.min(1,1.17*(1-g*s)):0};j.V5=function(I){var k=j.Qw("cmykToRgb"),a=k[2],n=k[3],s=[0,0,0,0];
ICC.U.applyLUT4Float(n,a,I,s);return s};j.aoR=function(){var I=function(bQ){return Math.round(bQ*255)},k="",a=3;
for(var Y=0;Y<tab.length;Y++){var n=I(tab[Y]);if(a<=Y)n=n-I(tab[Y-a])+256&255;k+=n.toString(16).padStart(2,"0")}return k};
j.Qw=function(I){var k=LUTS["_"+I];if(k==null){var a=LUTS[I],n=a[0],bQ=a[1],s=a[2],C=a[3],T=[];for(var Y=0;
Y<C.length;Y+=2)T.push(parseInt(C.slice(Y,Y+2),16));for(var Y=bQ;Y<T.length;Y++)T[Y]=T[Y]+T[Y-bQ]&255;
for(var Y=0;Y<T.length;Y++)T[Y]*=1/255;k=LUTS["_"+I]=[n,bQ,s,T]}return k};j.MP=function(I){var k=j.Qw("rgbToCmyk"),a=k[2],n=k[3],s=[0,0,0,0];
ICC.U.applyLUT3to4Float(n,a,I,s);return s};j.aqQ=function(I){for(var Y=0;Y<I.length;Y+=4){var k=[I[Y+0]*(1/255),I[Y+1]*(1/255),I[Y+2]*(1/255)],a=j.MP(k);
I[Y+0]=255-Math.floor(.5+a[0]*255);I[Y+1]=255-Math.floor(.5+a[1]*255);I[Y+2]=255-Math.floor(.5+a[2]*255);
I[Y+3]=255-Math.floor(.5+a[3]*255)}};j.xD=function(I,k,a){var n=I.length,s=.3,C=.59,T=.11;if(a){s=a[0];
C=a[1];T=a[2]}for(var Y=0;Y<n;Y+=4)k[Y>>2]=~~(I[Y+0]*s+I[Y+1]*C+I[Y+2]*T+.5)};j.bS=function(I,k){var a=k.length;
for(var Y=0;Y<a;Y+=4){var n=I[Y>>>2];k[Y]=n;k[Y+1]=n;k[Y+2]=n}};j.we=function(I,k){var a=I.M,n=I.$,s=I.H,C=I.J,T=Math.min(I.M.length,k.buffer.byteLength>>>2),S=4*Math.floor(T/4),D=new Uint32Array(k.buffer),o=new Uint32Array(a.buffer),v=new Uint32Array(n.buffer),g=new Uint32Array(s.buffer),d=new Uint32Array(C.buffer);
for(var Y=0;Y<S;Y+=4){var R=o[Y>>2],c=d[Y>>2],e=g[Y>>2],O=v[Y>>2];D[Y]=R<<24|(c&255)<<16|(e&255)<<8|O&255;
D[Y+1]=(R&65280)<<16|(c&65280)<<8|e&65280|(O&65280)>>>8;D[Y+2]=(R&16711680)<<8|c&16711680|(e&16711680)>>>8|(O&16711680)>>>16;
D[Y+3]=R&4278190080|(c&4278190080)>>>8|(e&4278190080)>>>16|(O&4278190080)>>>24}for(var Y=S;Y<T;Y++)D[Y]=a[Y]<<24|C[Y]<<16|s[Y]<<8|n[Y]};
j.A0=function(I,k){var a=k.M,n=k.$,s=k.H,C=k.J,T=Math.min(k.M.length,I.buffer.byteLength>>>2),S=4*Math.floor(T/4),D=new Uint32Array(I.buffer),o=new Uint32Array(a.buffer),v=new Uint32Array(n.buffer),g=new Uint32Array(s.buffer),d=new Uint32Array(C.buffer);
for(var Y=0;Y<S;Y+=4){var R=D[Y],c=D[Y+1],e=D[Y+2],O=D[Y+3];v[Y>>2]=R&255|(c&255)<<8|(e&255)<<16|O<<24;
g[Y>>2]=(R&65280)>>8|c&65280|(e&65280)<<8|(O&65280)<<16;d[Y>>2]=(R&16711680)>>16|(c&16711680)>>8|e&16711680|(O&16711680)<<8;
o[Y>>2]=R>>>24|c>>>24<<8|e>>>24<<16|O&4278190080}for(var Y=S;Y<T;Y++){var U=D[Y];n[Y]=U>>0&255;s[Y]=U>>8&255;
C[Y]=U>>16&255;a[Y]=U>>24&255}};j.Ez=function(I,k,a){var n=new Uint8Array(I.buffer),s=Math.min(n.length/4,k.length);
for(var Y=0;Y<s;Y++){k[Y]=n[(Y<<2)+a]}};j.yv=function(I,k,a){var n=new Uint8Array(k.buffer),s=new Uint32Array(I.buffer),C=Math.min(n.length/4,I.length),Y=0;
while(Y+4<C){var T=s[Y>>>2];n[(Y<<2)+a]=T&255;n[(Y<<2)+a+4]=T>>>8&255;n[(Y<<2)+a+8]=T>>>16&255;n[(Y<<2)+a+12]=T>>>24;
Y+=4}while(Y<C){n[(Y<<2)+a]=I[Y];Y++}};j.IP=function(I,k,a){if(a==null)a=0;var n=new Uint32Array(I.buffer),s=n.length;
for(var Y=0;Y<s;Y++)n[Y]=n[Y]&a|k};j.a2a=function(I,k,a,n,s){if(s==null)s=0;var C=new Uint32Array(I.buffer);
a=a.LU(k);var T=a.x-k.x,S=a.y-k.y,D=a.Q,o=a._,v=k.Q;for(var g=0;g<o;g++){var Y=(S+g)*v+T;for(var d=0;
d<D;d++){C[Y]=C[Y]&s|n;Y++}}};j.ed=function(I,k){var a=Math.min(I.buffer.byteLength,k.buffer.byteLength),n=a>>>2,I=new Uint32Array(I.buffer,0,n),k=new Uint32Array(k.buffer,0,n);
k.set(I)};j.a$=function(I,k){var a=I.buffer.byteLength,n=k.buffer.byteLength,s=new Uint32Array(I.buffer,0,a>>2),C=new Uint32Array(k.buffer,0,n>>2);
if(a!=n)return!1;var T=s.length;for(var Y=0;Y<T;Y++)if(C[Y]!=s[Y])return!1;return!0};j.Us=function(I){var k=new Uint32Array(I.buffer),a=k.length;
for(var Y=0;Y<a;Y++)k[Y]=~k[Y]};j.an7=function(I){var k=I.length;for(var Y=0;Y<k;Y+=4){I[Y]=~I[Y];I[Y+1]=~I[Y+1];
I[Y+2]=~I[Y+2]}};j.aC4=function(I){var k=I.length;for(var Y=3;Y<k;Y+=4)I[Y]=~I[Y]};j.ayp=function(I){return I+(I%4==0?0:4-I%4)};
j.U=function(I,k){if(k==null)k=!1;if(!k)I=j.ayp(I);try{var a=new Uint8Array(I)}catch(jL){alert("Not enough RAM! (need "+Math.round(I/(1<<20))+" MB)",7e3);
throw"low_ram"}return a};j.aaZ=function(I,k,a,n){if(n==null)n=0;var s=0;while(s+3<I.length&&I[s+3].c()>=n&&k.Ha()*(1<<(s>>>1))<a)s+=2;
var C=I[1],T=I[s+1],S=new dc;S.translate(-C.x,-C.y);S.scale(C.Q/T.Q,C._/T._);S.translate(C.x,C.y);S.concat(k);
return[s,S]};j.iz=function(I){var k=I.length,a=I[k-2],n=I[k-1];while(n.Q>=2&&n._>=2){var s=j.tR(a,n);
I.push(s.GG,s.rect);a=s.GG;n=s.rect}};j.dI=function(I){var k=I.length,a=I[k-2],n=I[k-1];while(n.Q>=2&&n._>=2){var s=j.lF(a,n);
I.push(s.GG,s.rect);a=s.GG;n=s.rect}};j.tR=function(I,k,a){var n=k.Q,s=k._,C=n>>1,T=s>>1,S=new eZ(k.x,k.y,C,T),D=a&&a.length==C*T*4?a:j.U(C*T*4),o=new Uint32Array(I.buffer),v=new Uint32Array(D.buffer);
for(var g=0;g<T;g++)for(var d=0;d<C;d++){var R=g*C+d,c=(g<<1)*n+(d<<1),e=o[c],O=o[c+1],U=o[c+n],K=o[c+n+1],_=e>>>24,Z=O>>>24,H=U>>>24,G=K>>>24,N=_+Z+H+G;
if(N==1020){var z=(e>>>0&255)+(O>>>0&255)+(U>>>0&255)+(K>>>0&255)+2>>>2,L=(e>>>8&255)+(O>>>8&255)+(U>>>8&255)+(K>>>8&255)+2>>>2,p=(e>>>16&255)+(O>>>16&255)+(U>>>16&255)+(K>>>16&255)+2>>>2;
v[R]=255<<24|p<<16|L<<8|z}else if(N==0)v[R]=0;else{var z=(e>>>0&255)*_+(O>>>0&255)*Z+(U>>>0&255)*H+(K>>>0&255)*G,L=(e>>>8&255)*_+(O>>>8&255)*Z+(U>>>8&255)*H+(K>>>8&255)*G,p=(e>>>16&255)*_+(O>>>16&255)*Z+(U>>>16&255)*H+(K>>>16&255)*G,V=1/N;
z=~~(z*V+.5);L=~~(L*V+.5);p=~~(p*V+.5);v[R]=N+2>>>2<<24|p<<16|L<<8|z}}return{rect:S,GG:D}};j.a7n=function(I,k,a){var n=k.Q,s=k._,C=n>>1,T=s>>1,S=new eZ(k.x,k.y,C,T),D=a&&a.length==C*T*4?a:j.U(C*T*4),o=new Uint32Array(I.buffer),v=new Uint32Array(D.buffer);
for(var g=0;g<T;g++)for(var d=0;d<C;d++){var R=g*C+d,c=(g<<1)*n+(d<<1),e=o[c],O=o[c+1],U=o[c+n],K=o[c+n+1],_=2+(e>>>0&255)+(O>>>0&255)+(U>>>0&255)+(K>>>0&255)>>>2,Z=2+(e>>>8&255)+(O>>>8&255)+(U>>>8&255)+(K>>>8&255)>>>2,H=2+(e>>>16&255)+(O>>>16&255)+(U>>>16&255)+(K>>>16&255)>>>2,G=2+(e>>>24&255)+(O>>>24&255)+(U>>>24&255)+(K>>>24&255)>>>2;
v[R]=G<<24|H<<16|Z<<8|_}return{rect:S,GG:D}};j.ahU=function(I,k,a){var n=k.Q,s=k._,C=2*Math.floor(n/3),T=2*Math.floor(s/3),S=new eZ(k.x,k.y,C,T),D=a&&a.length==C*T*4?a:j.U(C*T*4),o=new Uint32Array(I.buffer),v=new Uint32Array(D.buffer);
for(var g=0;g<T;g+=2)for(var d=0;d<C;d+=2){var R=g*C+d,c=(g*3>>>1)*n+(d*3>>>1),e=o[c],O=o[c+1],U=o[c+2],K=o[c+n],_=o[c+1+n],Z=o[c+2+n],H=o[c+n+n],G=o[c+1+n+n],N=o[c+2+n+n],z=e>>>24<<2,L=(e>>>16&255)*z,p=(e>>>8&255)*z,V=(e&255)*z,r=O>>>24<<1,y=(O>>>16&255)*r,W=(O>>>8&255)*r,m=(O&255)*r,f=U>>>24<<2,h=(U>>>16&255)*f,b=(U>>>8&255)*f,i=(U&255)*f,w=K>>>24<<1,J=(K>>>16&255)*w,q=(K>>>8&255)*w,x=(K&255)*w,A=_>>>24,Q=(_>>>16&255)*A,B=(_>>>8&255)*A,l=(_&255)*A,P=Z>>>24<<1,F=(Z>>>16&255)*P,t=(Z>>>8&255)*P,b$=(Z&255)*P,hd=H>>>24<<2,di=(H>>>16&255)*hd,hD=(H>>>8&255)*hd,a$=(H&255)*hd,eJ=G>>>24<<1,hY=(G>>>16&255)*eJ,ik=(G>>>8&255)*eJ,fw=(G&255)*eJ,jb=N>>>24<<2,cd=(N>>>16&255)*jb,dN=(N>>>8&255)*jb,kc=(N&255)*jb,ck=z+r+w+A,b3=f+r+P+A,hL=hd+eJ+w+A,gS=jb+eJ+P+A,jF=ck==0?0:1/ck,kB=b3==0?0:1/b3,jw=hL==0?0:1/hL,iT=gS==0?0:1/gS,gY=0,aL=0,dw=0,ka=0;
gY=~~(.5+(V+m+x+l)*jF);aL=~~(.5+(p+W+q+B)*jF);dw=~~(.5+(L+y+J+Q)*jF);ka=~~(.5+ck*(1/9));v[R]=ka<<24|dw<<16|aL<<8|gY;
gY=~~(.5+(i+m+b$+l)*kB);aL=~~(.5+(b+W+t+B)*kB);dw=~~(.5+(h+y+F+Q)*kB);ka=~~(.5+b3*(1/9));v[R+1]=ka<<24|dw<<16|aL<<8|gY;
gY=~~(.5+(a$+fw+x+l)*jw);aL=~~(.5+(hD+ik+q+B)*jw);dw=~~(.5+(di+hY+J+Q)*jw);ka=~~(.5+hL*(1/9));v[R+C]=ka<<24|dw<<16|aL<<8|gY;
gY=~~(.5+(kc+fw+b$+l)*iT);aL=~~(.5+(dN+ik+t+B)*iT);dw=~~(.5+(cd+hY+F+Q)*iT);ka=~~(.5+gS*(1/9));v[R+C+1]=ka<<24|dw<<16|aL<<8|gY}return{rect:S,GG:D}};
j.aui=function(I,k,a){var n=k.Q,s=k._,C=2*Math.floor(n/3),T=2*Math.floor(s/3),S=new eZ(k.x,k.y,C,T),D=a&&a.length==C*T*4?a:j.U(C*T*4),o=new Uint32Array(I.buffer),v=new Uint32Array(D.buffer);
for(var g=0;g<T;g+=2)for(var d=0;d<C;d+=2){var R=g*C+d,c=(g*3>>>1)*n+(d*3>>>1),e=o[c],O=o[c+1],U=o[c+2],K=o[c+n],_=o[c+1+n],Z=o[c+2+n],H=o[c+n+n],G=o[c+1+n+n],N=o[c+2+n+n],z=(e>>>16&255)<<2,L=(e>>>8&255)<<2,p=(e&255)<<2,V=(O>>>16&255)<<1,r=(O>>>8&255)<<1,y=(O&255)<<1,W=(U>>>16&255)<<2,m=(U>>>8&255)<<2,f=(U&255)<<2,h=(K>>>16&255)<<1,b=(K>>>8&255)<<1,i=(K&255)<<1,w=_>>>16&255,J=_>>>8&255,q=_&255,x=(Z>>>16&255)<<1,A=(Z>>>8&255)<<1,Q=(Z&255)<<1,B=(H>>>16&255)<<2,l=(H>>>8&255)<<2,P=(H&255)<<2,F=(G>>>16&255)<<1,t=(G>>>8&255)<<1,b$=(G&255)<<1,hd=(N>>>16&255)<<2,di=(N>>>8&255)<<2,hD=(N&255)<<2,a$=0,eJ=0,hY=0;
a$=~~(.5+(p+y+i+q)*(1/9));eJ=~~(.5+(L+r+b+J)*(1/9));hY=~~(.5+(z+V+h+w)*(1/9));v[R]=255<<24|hY<<16|eJ<<8|a$;
a$=~~(.5+(f+y+Q+q)*(1/9));eJ=~~(.5+(m+r+A+J)*(1/9));hY=~~(.5+(W+V+x+w)*(1/9));v[R+1]=255<<24|hY<<16|eJ<<8|a$;
a$=~~(.5+(P+b$+i+q)*(1/9));eJ=~~(.5+(l+t+b+J)*(1/9));hY=~~(.5+(B+F+h+w)*(1/9));v[R+C]=255<<24|hY<<16|eJ<<8|a$;
a$=~~(.5+(hD+b$+Q+q)*(1/9));eJ=~~(.5+(di+t+A+J)*(1/9));hY=~~(.5+(hd+F+x+w)*(1/9));v[R+C+1]=255<<24|hY<<16|eJ<<8|a$}return{rect:S,GG:D}};
j.zA=function(I){var k=255,a=I.length;a-=a&31;for(var Y=3;Y<a;Y+=32)k=k&I[Y]&I[Y+4]&I[Y+8]&I[Y+12]&I[Y+16]&I[Y+20]&I[Y+24]&I[Y+28];
return k!=255};j.QU=function(I,k,a,n){var s=j.tR,C=j.ahU;if(!j.zA(I)){s=j.a7n;C=j.aui}var T={GG:I,rect:k},S=j.a9(a);
for(var Y=0;Y<S.length;Y++){if(S[Y]==2)T=s(T.GG,T.rect,n);else T=C(T.GG,T.rect,n)}return T};j.a5u=function(I,k,a,n){var s=j.lF,C=j.as3,T={GG:I,rect:k},S=j.a9(a);
for(var Y=0;Y<S.length;Y++){if(S[Y]==2)T=s(T.GG,T.rect,n);else T=C(T.GG,T.rect,n)}return T};j.a9=function(I){var k=[],a=I;
while(a<.499){k.push(2);a*=2}k.push(a<.5001?2:3);return k};j.lF=function(I,k,a){var n=k.Q,s=k._,C=n>>1,T=s>>1,S=new eZ(k.x,k.y,C,T);
if(I==null)return{rect:S};var D=a&&a.length>=C*T?a:j.U(C*T);for(var o=0;o<T;o++){var v=o*C;for(var g=0;
g<C;g++){var d=(o<<1)*n+(g<<1);D[v+g]=2+I[d]+I[d+1]+I[d+n]+I[d+n+1]>>>2}}return{rect:S,GG:D}};j.as3=function(I,k,a){var n=k.Q,s=k._,C=2*Math.floor(n/3),T=2*Math.floor(s/3),S=new eZ(k.x,k.y,C,T);
if(I==null)return{rect:S};var D=a&&a.length>=C*T?a:j.U(C*T);for(var o=0;o<T;o+=2)for(var v=0;v<C;v+=2){var g=o*C+v,d=(o*3>>>1)*n+(v*3>>>1),R=I[d]<<2,c=I[d+1]<<1,e=I[d+2]<<2,O=I[d+n]<<1,U=I[d+1+n],K=I[d+2+n]<<1,_=I[d+n+n]<<2,Z=I[d+1+n+n]<<1,H=I[d+2+n+n]<<2;
D[g]=~~(.5+(R+c+O+U)*(1/9));D[g+1]=~~(.5+(e+c+K+U)*(1/9));D[g+C]=~~(.5+(_+Z+O+U)*(1/9));D[g+C+1]=~~(.5+(H+Z+K+U)*(1/9))}return{rect:S,GG:D}};
j.aoO=function(I,k,a,n,s){var C=k.LU(n);if(s)C=C.LU(s);var T=Math.max(0,C.x-k.x),S=Math.max(0,C.x-n.x),D=Math.max(0,C.y-k.y),o=Math.max(0,C.y-n.y),v=C.Q,g=C._;
for(var Y=0;Y<g;Y++){var d=(D+Y)*k.Q+T,R=(o+Y)*n.Q+S;for(var c=0;c<v;c++){a[R+c]=Math.max(a[R+c],I[d+c])}}};
j.O0=function(I,k,a,n,s){var C=k.LU(n);if(s)C=C.LU(s);var T=Math.max(0,C.x-k.x),S=Math.max(0,C.x-n.x),D=Math.max(0,C.y-k.y),o=Math.max(0,C.y-n.y),v=C.Q,g=C._;
for(var Y=0;Y<g;Y++){var d=(D+Y)*k.Q+T,R=(o+Y)*n.Q+S;a.set(new Uint8Array(I.buffer,d,v),R)}};j.ak9=function(I,k,a,n){if(k.a$(n)){j.yv(I,a,3);
return}var s=k.LU(n),C=Math.max(0,s.x-k.x),T=Math.max(0,s.x-n.x),S=Math.max(0,s.y-k.y),D=Math.max(0,s.y-n.y),o=s.Q,v=s._;
for(var Y=0;Y<v;Y++){var g=(S+Y)*k.Q+C,d=(D+Y)*n.Q+T;for(var R=0;R<o;R++)a[(d+R<<2)+3]=I[g+R]}};j.rj=function(I,k,a,n){var s=k.LU(n),C=Math.max(0,s.x-k.x),T=Math.max(0,s.x-n.x),S=Math.max(0,s.y-k.y),D=Math.max(0,s.y-n.y),o=s.Q,v=s._;
for(var Y=0;Y<v;Y++){var g=(S+Y)*k.Q+C,d=(D+Y)*n.Q+T;for(var R=0;R<o;R++)a[d+R]=I[(g+R<<2)+3]}};j.ao=function(I,k,a,n,s){if(k.a$(n)&&(s==null||s.a$(n))){j.ed(I,a);
return}I=new Uint32Array(I.buffer),a=new Uint32Array(a.buffer);var C=k.LU(n);if(s)C=C.LU(s);var T=Math.max(0,C.x-k.x),S=Math.max(0,C.x-n.x),D=Math.max(0,C.y-k.y),o=Math.max(0,C.y-n.y),v=C.Q,g=C._,d=v&3,R=d==0?v:v-d;
for(var Y=0;Y<g;Y++){var c=(D+Y)*k.Q+T,e=(o+Y)*n.Q+S;a.set(new Uint32Array(I.buffer,c*4,v),e)}};j.zq=function(I,k,a,n){var s=k.LU(n),C=Math.max(0,s.x-k.x),T=Math.max(0,s.x-n.x),S=Math.max(0,s.y-k.y),D=Math.max(0,s.y-n.y),o=s.Q,v=s._,g=I.M,d=I.$,R=I.H,c=I.J,e=a.M,O=a.$,U=a.H,K=a.J;
for(var Y=0;Y<v;Y++){var _=(S+Y)*k.Q+C,Z=(D+Y)*n.Q+T;for(var H=0;H<o;H++){e[Z+H]=g[_+H];O[Z+H]=d[_+H];
U[Z+H]=R[_+H];K[Z+H]=c[_+H]}}};j.A7=function(I){var k=I.length;for(var Y=0;Y<k;Y+=4){var a=I[Y+3];if(a==255)continue;
I[Y]=~~(I[Y]*a*(1/255)+.5);I[Y+1]=~~(I[Y+1]*a*(1/255)+.5);I[Y+2]=~~(I[Y+2]*a*(1/255)+.5)}};j.tZ=function(I){var k=I.length;
for(var Y=0;Y<k;Y+=4){var a=I[Y+3];if(a==0||a==255)continue;var n=255/a;I[Y]=~~(I[Y]*n+.5);I[Y+1]=~~(I[Y+1]*n+.5);
I[Y+2]=~~(I[Y+2]*n+.5)}};j.RS=function(I,k){for(var Y=0;Y<I.length;Y++)if(I[Y]!=k)return!1;return!0};
j.u6=function(I){return I+1+(I>>>8)>>>8};j.round=function(I,k){if(k==null)k=128;var a=I.length;for(var Y=0;
Y<a;Y++)I[Y]=I[Y]<k?0:255};j.ub=function(I,k){var a=I.length;for(var Y=0;Y<a;Y++)I[Y]=Math.round(I[Y]*k)};
j.r_=function(I,k){var a=new Uint32Array(I.buffer),n=new Uint32Array(k.buffer),s=a.length;for(var Y=0;
Y<s;Y++){var C=a[Y],T=n[Y];n[Y]=j.u6((C>>>24)*(T>>>24))<<24|j.u6((C>>>16&255)*(T>>>16&255))<<16|j.u6((C>>>8&255)*(T>>>8&255))<<8|j.u6((C&255)*(T&255))}};
j.Bj=function(I,k){var a=I.length;for(var Y=0;Y<a;Y++)k[(Y<<2)+3]=j.u6(k[(Y<<2)+3]*I[Y])};j.axG=function(I,k,a,n){var s=Math.max(0,n.x-k.x),C=Math.max(0,k.x-n.x),T=Math.max(0,n.y-k.y),S=Math.max(0,k.y-n.y),D=Math.min(k.x+k.Q,n.x+n.Q)-Math.max(k.x,n.x),o=Math.min(k.y+k._,n.y+n._)-Math.max(k.y,n.y);
for(var Y=0;Y<o;Y++){var v=(T+Y)*k.Q+s,g=(S+Y)*n.Q+C;for(var d=0;d<D;d++){a[g]=j.u6(a[g]*I[v]);v++;g++}}};
j.zV=function(I,k,a,n){var s=Math.max(0,n.x-k.x),C=Math.max(0,k.x-n.x),T=Math.max(0,n.y-k.y),S=Math.max(0,k.y-n.y),D=Math.min(k.x+k.Q,n.x+n.Q)-Math.max(k.x,n.x),o=Math.min(k.y+k._,n.y+n._)-Math.max(k.y,n.y);
for(var Y=0;Y<o;Y++){var v=(T+Y)*k.Q+s,g=((S+Y)*n.Q+C<<2)+3;for(var d=0;d<D;d++){a[g]=j.u6(a[g]*I[v]);
v++;g+=4}}};j.gR=function(I,k,a,n){var s=Math.max(0,n.x-k.x),C=Math.max(0,k.x-n.x),T=Math.max(0,n.y-k.y),S=Math.max(0,k.y-n.y),D=Math.min(k.x+k.Q,n.x+n.Q)-Math.max(k.x,n.x),o=Math.min(k.y+k._,n.y+n._)-Math.max(k.y,n.y);
for(var Y=0;Y<o;Y++){var v=((T+Y)*k.Q+s<<2)+3,g=((S+Y)*n.Q+C<<2)+3;for(var d=0;d<D;d++){a[g]=j.u6(a[g]*I[v]);
v+=4;g+=4}}};j.I3=function(I,k){if(k==null)k=1;var a=4*k,n=I.length>>>2,s=new Float64Array(256),C=new Float64Array(256),T=new Float64Array(256),S=new Float64Array(256),D=4*Math.floor(n/k)*k,o=0;
for(var Y=0;Y<D;Y+=a){var v=I[Y+0],g=I[Y+1],d=I[Y+2],R=I[Y+3]*k,c=R*(1/255);C[v]+=c;T[g]+=c;S[d]+=c;
o+=R}for(var Y=0;Y<256;Y++)s[Y]=C[Y]+T[Y]+S[Y];return[s,C,T,S,n,o/255]};j.a1b=function(I,k){function a(G,N){var z=-1,L=0;
while(L<=N){z++;L+=G[z]}return z}function n(G,N){var z=256,L=0;while(L<=N){z--;L+=G[z]}return z}function s(G){var N=0,z=0;
for(var Y=0;Y<256;Y++){z+=G[Y];N+=G[Y]*Y*(1/255)}return N/z}var C=I[0],T=I[1]/100,S=I[2]/100,D=[],o=[];
for(var Y=0;Y<4;Y++){var v=Y==0?3:1;D[Y]=a(k[Y],v*T*k[5]);o[Y]=n(k[Y],v*S*k[5])}var g=[s(k[1]),s(k[2]),s(k[3])],d=g.slice(0);
d.sort(function(G,N){return G-N});var R=g.indexOf(d[1]),c=(g[0]+g[1]+g[2])/3,e=[];for(var Y=0;Y<4;Y++){var O=0,U=255,K=D[Y],_=o[Y];
if(C==0&&Y==0){O=K;U=_}if(C==1&&Y!=0){O=K;U=_}if(C==2&&Y!=0){var v=g[Y-1]/c;U=Math.max(0,Math.min(255,o[R]*v))}var Z=[O,U];
e.push(Z);if(C==3&&Y==0){var H=255*(1-c);Z.push(H)}}return e};j.ajJ=function(I,k){var a=new Uint32Array(I.buffer),n=a.length;
for(var Y=0;Y<n;Y++){var s=a[Y],C=s&255,T=s>>8&255,S=s>>16&255,D=s>>24&255;a[Y]=k[C]|k[T]<<8|k[S]<<16|k[D]<<24}};
j.a7C=function(I,k,a,n,s,C,T){var S=new Uint32Array(I.buffer),D=new Uint32Array(k.buffer),o=S.length,v=0;
while(256<<v<a.length)v++;if(!T&&!C){for(var Y=0;Y!=o;Y++){var g=S[Y],d=(g&255)<<v,R=(g>>>8&255)<<v,c=(g>>>16&255)<<v,e=a[d],O=n[R],U=s[c];
D[Y]=e|O<<8|U<<16|g&4278190080}return}for(var Y=0;Y<o;Y++){var g=S[Y],d=(g&255)<<v,R=(g>>>8&255)<<v,c=(g>>>16&255)<<v;
if(C)d=R=c=Math.round(d*.3+R*.59+c*.11);var e=a[d],O=n[R],U=s[c];if(T){var K=j.RL(d,R,c),_=j.RL(e,O,U);
if(K>_){var Z=(K-_)/(255-_);e+=Z*(255-e);O+=Z*(255-O);U+=Z*(255-U)}else if(_==0)e=O=U=0;else{var Z=K/_;
e=Z*e;O=Z*O;U=Z*U}}D[Y]=e|O<<8|U<<16|g&4278190080}};j.PD=function(I,k){var a=k.Q,n=k._,top=0,s=0,C=0,T=0,S=0;
S=0;for(var D=0;D<n;D++){var o=D*a;for(var Y=0;Y<a;Y++)S|=I[o+Y];if(S!=0)break;top++}if(top==n)return new eZ(0,0,0,0);
S=0;for(var D=n-1;D>=0;D--){var o=D*a;for(var Y=0;Y<a;Y++)S|=I[o+Y];if(S!=0)break;C++}var v=n-C;S=0;
for(var Y=0;Y<a;Y++){for(var D=top;D<v;D++)S|=I[D*a+Y];if(S!=0)break;s++}S=0;for(var Y=a-1;Y>=0;Y--){for(var D=top;
D<v;D++)S|=I[D*a+Y];if(S!=0)break;T++}var g=new eZ(k.x+s,k.y+top,a-s-T,n-top-C);return g};j.h0=function(I,k,a,n,s){if(n==null)n=[!0,!0,!0,!0];
if(a==null)a=0;if(s==null)s=4294967295;var C=new Uint32Array(I.buffer),T=k.Q,S=k._,top=0,D=0,o=0,v=0,g=!1,d=[C[0],C[C.length-1],0][a];
g=!1;if(n[0])for(var R=0;R<S;R++){var c=R*T;for(var Y=0;Y<T;Y++)if(C[c+Y]&s^d)g=!0;if(g)break;top++}g=!1;
if(n[2])for(var R=S-1;R>=0;R--){var c=R*T;for(var Y=0;Y<T;Y++)if(C[c+Y]&s^d)g=!0;if(g)break;o++}g=!1;
if(n[1])for(var Y=0;Y<T;Y++){for(var R=0;R<S;R++)if(C[R*T+Y]&s^d)g=!0;if(g)break;D++}g=!1;if(n[3])for(var Y=T-1;
Y>=0;Y--){for(var R=0;R<S;R++)if(C[R*T+Y]&s^d)g=!0;if(g)break;v++}var e=new eZ(k.x+D,k.y+top,T-D-v,S-top-o);
return e.KH()?new eZ(0,0,0,0):e};j.Jk=function(I){var k=j.PD(I.channel,I.rect);if(k.a$(I.rect))return;
var a=j.U(k.c());j.O0(I.channel,I.rect,a,k);I.channel=a;I.rect=k};j.KK=function(I,k){var a=j.h0(I.buffer,I.rect,2,null,k?null:4278190080);
if(a.a$(I.rect))return;var n=new j.U(a.c()*4);j.ao(I.buffer,I.rect,n,a);I.buffer=n;I.rect=a};j.extend=function(I,k,a){if(I.rect.j1(k))return;
var n=I.rect.oL(k),s=j.U(n.c());if(a!=null)s.fill(a);j.O0(I.channel,I.rect,s,n);I.rect=n;I.channel=s};
j.aDO=function(I,k){if(k.KH()||I.rect.j1(k))return;var a=I.rect.oL(k),n=j.U(a.c()*4);j.ao(I.buffer,I.rect,n,a);
I.rect=a;I.buffer=n};j.oJ=function(I,k,a){if(!a.oi(I))return!1;var n=Math.floor(I.x)-a.x,s=Math.floor(I.y)-a.y,Y=s*a.Q+n;
return k[Y]>128};j.aCT=function(I,k,a){if(!a.oi(I))return!1;var n=Math.floor(I.x)-a.x,s=Math.floor(I.y)-a.y,Y=s*a.Q+n;
return k[4*Y+3]>128};j.ft=function(I){if(j.zW.length<I){j.zW=j.U(I);j.zW.fill(255)}return j.zW};j.zW=j.U(0);
j.k5=function(I){if(j.mg.length<I)j.mg=j.U(I);return j.mg};j.mg=j.U(0);j.$n=function(I){this.M=j.U(I);
this.$=j.U(I);this.H=j.U(I);this.J=j.U(I)};j.$n.prototype.clone=function(){var I=this.M.length,k=new j.$n(1);
k.M=this.M.slice(0);k.$=this.$.slice(0);k.H=this.H.slice(0);k.J=this.J.slice(0);return k};j.g.ark=function(I,k,a,n,s){var C=s[0]+1,T=s[1],S=Math.abs(T-25)/4,D=s[2],o=D%2+D*D>>1,v=j.g.L;
v.Ui(k,a);var g=v.WI(1),d=v.WI(1),R=v.WI(1);v.gd(I,n,D,D,o);v.pY(n);v.re(n,g);v.s9(g,d,C,C,1);v.s9(g,R,C,C,C*C);
v.sub(R,d);v.r_(d,S);(T<25?v.sub:v.add)(g,d);v.d$(d,n);v.xg(n)};j.g.a0g=function(I,k,a,n,s){var C=j.g.L;
C.Ui(k,a);var T=s[0]*2.55,S=s[1],D=S>>1,o=s[2]*.25,v=C.WI(4),g=C.WI(1),d=C.WI(1);C.aT(I,v,S,1,!0,D);
C.aT(I,n,S,1,!1,D);C.Lw(I,g);C.ya(g,T);C.pb(g,d,3);C.YG(n,d,v);C.Rx(v,n,o)};j.g.amL=function(I,k,a,n,s){var C=j.g.L;
C.Ui(k,a);C.uN(s[3]);var T=s[0]*-3+80,S=s[1]*-3+80,D=s[2]/2+.5,o=s[4],v=s[5],g=C.WI(1),d=C.WI(1),R=C.WI(1),c=C.WI(1),e=C.WI(4),O=C.WI(4);
C.Lw(I,g);C.ed(g,d);C.ve(g,S,5);C.avp(g,.4,0);C.pb(g,R,3);C.vc(R,g,9,3,!0,27);C.ed(d,R);C.Us(R);var U=C.zD(T,5,R);
for(var Y=0;Y<C.iB;Y++){d[Y]=U[255-d[Y]]}C.avp(d,.4,0);C.ed(d,R);C.pb(R,c,2);C.vc(c,R,5,3,!1,15);C.r_(g,D);
C.r_(R,D);C.zU(n,2155905279);C.zU(O,o);C.zU(e,v);C.YG(O,g,n);C.YG(e,R,n)};j.g.att=function(I,k,a,n,s){var C=j.g.L;
C.Ui(k,a);var T=new Uint8Array(256),S=5+10*s[1];S+=s[1]>3?(s[1]-3)*10:0;var D=~~(s[2]*.73)+50,o=Math.min(D+S,128),v=o-D,g=-255*D;
for(var Y=0;Y<256;Y++){var d=Y*65;T[Y]=C.bB(g/v);g+=255}var R=C.WI(1),c=C.WI(1),e=C.WI(1);C.Lw(I,R);
C.ed(R,e);C.pb(R,c,2*s[0]+1);C.sub(c,R);C.r_(R,65);C.vc(R,c,9,3,!0,20);for(var Y=0;Y<C.iB;Y++){var O=e[Y],U=c[Y];
R[Y]=U>0?~~((U*O+(255-U)*128)/255):128}C.pb(R,c,3);C.vc(c,R,15,2,!0,16);C.vc(c,e,15,2,!1,15);C.uz(R,e);
C.bW(e,c,2);C.iL(c,T);C.pb(c,R,2);C.ys(R,n)};j.g.aum=function(I,k,a,n,s){var C=j.g.L;C.Ui(k,a);var T=2*s[0]+1,S=C.axH[s[1]],D=s[2]*5.1,o=s[3],v=C.WI(1),g=C.WI(1),d=C.WI(4),R=C.WI(4);
C.zU(d,o);C.pY(d,n);C.ahw(v,D);C.d$(v,n);C.xg(n,d);C.Lw(I,g);C.pb(g,v,T);C.sub(v,g);C.r_(g,S);C.vc(g,v,9,3,!0,20);
C.YG(I,v,d);C.Lq(d,n,3);C.aT(n,d,15,2,!0,16);C.aT(n,R,15,2,!1,16);C.uz(d,R);C.Rx(R,n,2)};j.g.aAb=function(I,k,a,n,s){var C=j.g.L;
C.Ui(k,a);var T=(15-s[0])/4+1,S=(15-s[1])/4+1,D=s[2],o=s[3],v=C.CR(s[4]),g=s[5]+1,d=s[6],R=s[7],c=s[8],e=C.WI(1),O=C.WI(1),U=C.WI(1),K=C.WI(1),_=C.WI(4),Z=C.WI(4);
C.me(U,D,o,d);C.Lw(I,O);C.pb(O,e,5);C.r5(U,e,K,g,v);C.r_(K,T);C.$o(K,2);C.Us(e);C.r5(U,e,O,g,v);C.r_(O,S);
C.$o(O,2);C.zU(_,2155905279);C.zU(Z,R);C.zU(n,c);C.YG(_,O,Z);C.YG(Z,K,n)};j.g.a5C=function(I,k,a,n,s){var C=j.g.L;
C.Ui(k,a);C.uN(s[3]);var T=s[0],S=s[1]/10,D=s[2]/10,o=C.WI(1),v=C.WI(1),g=C.WI(1),d=C.ti(),R=C.ti(),c=C.ti();
C.jN(o);C.pb(o,v,11);C.pb(v,o,11);C.f6(o,d);C.Qx(I,o);C.ed(o,g);C.pb(o,v,9);C.pb(v,o,9);C.f6(o,R);C.E7(R,c,5);
C.E7(c,R,5);C.auU(d,.8);C.aqt(d,R,.8,.9);C.aqu(R,o,T);C.s9(o,v,2,2,1);C.s9(v,o,2,2,3);C.s9(o,v,2,2,3);
C.s9(g,o,5,5,13);C.sn(v,o,v,S);C.$z(o,v,v,D);C.r5(v,v,o,5,1);C.pY(I,n);C.d$(o,n);C.xg(n)};j.g.a4b=function(I,k,a,n,s){var C=j.g.L;
C.Ui(k,a);var T=s[0],S=s[1]/2,D=s[2],o=T/2,v=C.WI(4),g=C.WI(4);C.ed(I,n);for(var d=0;d<D;d++){C.aT(n,v,T,1,!0,o);
C.aT(n,g,T,1,!1,o);C.uz(g,v);C.Lq(v,g,2);C.Rx(g,n,S)}};j.g.ahK=function(I,k,a,n,s){var C=j.g.L;C.Ui(k,a);
var T=s[0]*10,S=s[1]*4.9,D=s[2]*4.9,o=C.WI(1),v=C.WI(1),g=C.WI(4),d=C.WI(4);C.Lw(I,o);C.ya(o,C.a7P(o,T));
C.pb(o,v,3);C.aT(I,g,5,1,!1,1);C.aT(I,n,15,2,!0,16);C.YG(n,v,g);C.pY(g,n);C.re(n,o);C.ve(o,S,D);C.d$(o,n);
C.xg(n)};j.g.aez=function(I,k,a,n,s){var C=j.g.L;C.Ui(k,a);C.uN(s[4]);var T=s[0]/20,S=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][s[1]],D=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][s[2]],o=s[3],v=new Int16Array(256);
for(var Y=0;Y<256;Y++){v[Y]=~~((Y-128)*T)}var g=C.WI(1),d=C.WI(1),R=C.WI(4);C.Lw(I,g);C.pb(g,d,25);C.r_(d,S);
C.$o(d,D);C.pb(d,g,25);C.jN(d);C.ahb(g,d,v);C.ed(I,n);C.zU(R,o);C.YG(R,g,n)};j.g.aEK=function(I,k,a,n,s){var C=j.g.L;
C.Ui(k,a);var T=s[0]+5,S=15-s[1],D=T*T/2,o=1-(3-s[2])/10,v=~~(S*S*o-1),g=~~(S*S*(1-o));if(g==0)g=1;var d=C.WI(1),R=C.WI(1),c=C.WI(1),e=C.WI(4);
C.Lw(I,c);C.s9(c,d,T,T,D);C.pb(c,R,T);C.sub(d,R);C.ya(R,1);C.gd(I,e,S,S,v);C.gd(I,n,S,S,g);C.YG(e,R,n)};
j.g.a61=function(I,k,a,n,s){var C=j.g.L;C.Ui(k,a);C.uN(s[3]);var T=(20-s[0])*.05,S=s[1]*-2.75+60,D=65-S,o=s[2]/10,v=C.WI(1),g=C.WI(1);
C.Qx(I,g);var d=C.zD(S,D,g);C.pY(I,n);C.re(n,g);C.jN(v);C.zS(g,v,T);C.iL(g,d);C.r_(g,s[2]/10);C.add(v,g);
C.d$(g,n);C.xg(n)};j.g.a8v=function(I,k,a,n,s){var C=j.g.L;C.Ui(k,a);var T=5+s[0],S=15-s[1],D=s[2],o=T*T/2+T*T%2*1,v=1-(3-s[2])/10,g=~~(S*S*v-1),d=~~(S*S*(1-v));
if(d==0)d=1;var R=C.WI(1),c=C.WI(1),e=C.WI(1),O=C.WI(1),U=C.WI(1);C.Qx(I,c);C.bW(c,R,3);C.s9(R,c,2,2,1);
var K=C.zD(20,20,c);C.iL(c,K);C.pb(c,U,5);C.s9(U,R,T,T,o);C.s9(U,c,S,S,g);C.s9(U,e,S,S,d);C.pb(U,O,T);
C.sub(R,O);C.ya(O,1);C.a5$(c,O,e);C.pY(I,n);C.d$(e,n);C.xg(n)};j.g.aAu=function(I,k,a,n,s){var C=j.g.L;
C.Ui(k,a);C.uN(s[5]);var T=C.iB,S=C.M7,D=s[0],o=s[1],v=s[2],g=s[3],d=s[4],R=.05*D+1,c=D/100,e=D>>1,O=2*D-100,U=+(o==9),K=+(o==7),_=[4,1][U],Z=[3,2][U],H=[1,2][K],G=[2,1][K],N=[50,75][U],z=o<4?v:(v>>1)+50,L=C.aBK(N,z),p=C.Xz(g),V=C.Xz(d),r=C.WI(4),y=C.WI(4),W=C.WI(1),m=C.WI(1);
function f(n,L){if(z!=50){C.aDy(n,L)}}function h(I,F){for(var Y=0;Y<T;Y++){I[Y]=C.bB(I[Y]+(F[Y]-128)*c)}}function b(I,F){for(var Y=0,t=0;
Y<T;Y++){I[t]=C.bB(I[t]+(F[t]-128)*c);I[t+1]=C.bB(I[t+1]+(F[t+1]-128)*c);I[t+2]=C.bB(I[t+2]+(F[t+2]-128)*c);
t+=4}}function i(I,n){C.jN(y);C.ed(I,n);b(n,y);f(n,L)}function w(F){var t=0;for(var b$=0;b$<12;b$++)t+=C.random();
return C.bB(e*(t-6)+F)}function J(I,n){C.ed(I,n);for(var Y=0;Y<S;Y+=4){n[Y]=w(n[Y]);n[Y+1]=w(n[Y+1]);
n[Y+2]=w(n[Y+2])}f(n,L)}function q(I,n){C.ed(I,n);for(var Y=0;Y<S;Y+=4){if(C.random()<c){n[Y]=p[0];n[Y+1]=p[1];
n[Y+2]=p[2]}}f(n,L)}function x(I,n){C.jN(r);C.gd(r,y,Z,Z,_);C.ed(I,r);b(r,y);C.gd(r,n,5,5,13);f(n,L)}function A(I,n){C.jN(y);
C.ed(I,r);b(r,y);f(n,L);C.gd(r,n,Z,Z,_)}function Q(I,n){C.ed(I,r);f(n,L);C.Lw(r,W);for(var Y=0,F=0;Y<T;
Y++){var t=((O-W[Y]+255)*128.5+.5)/32767;if(C.random()<=t){n[F++]=V[0];n[F++]=V[1];n[F++]=V[2]}else{n[F++]=p[0];
n[F++]=p[1];n[F++]=p[2]}n[F]=I[F];F++}}function B(I,n){C.pY(I,n);C.re(n,W);C.bW(W,m,R);C.s9(m,W,Z,Z,_);
C.iL(W,L);C.d$(W,n);C.xg(n)}function l(I){var F=0;if(o==8){for(var t=0;t<k;t++){I[F++]=~~(C.random()*255)}for(var Y=1;
Y<a;Y++){for(var t=0;t<k;t++){I[F++]=I[t]}}}else{for(var Y=0;Y<a;Y++){var b$=~~(C.random()*255);for(var t=0;
t<k;t++){I[F++]=b$}}}}function P(I,n){C.Lw(I,W);C.jN(m);h(W,m);l(m);h(W,m);C.Lq(I,r,9);C.Lq(r,y,9);C.pb(W,m,2);
C.iL(m,L);C.pb(m,W,2);C.pY(y,n);C.d$(W,n);C.xg(n)}[i,J,q,x,x,A,Q,P,P,B][o](I,n)};j.g.acM=function(I,k,a,n,s){var C=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],T=j.g.L,e=0,O,Y,H,G,N,z=0,L=1,p=255;
T.Ui(k,a);T.uN(s[3]);var S=T.WI(1),D=T.WI(1);T.Lw(I,S);var o=s[0],v=s[1],g=v<=50?C[v]/255:1+(255-C[101-v])/255,d=s[2],R=S.length,c=new Float32Array(R),U=1+1/10*o,K=(1-1/U)/2,_=16/256,Z=k-1;
for(Y=0;Y<T.iB;Y++){c[Y]=S[Y]/255;D[Y]=o==1?T.random()<1/255?p:L:L}function V(r,y){var W=r*k+y;if(D[W]!=L||r>=a||y>=k){return}var G=c[W],m=g-G,f=T.random(),h=f/U+K;
if(e==0||Math.abs(N-G)>_){O=h<=m?z:p;e=~~(T.random()*o)}else if(.1<f){e--}else{e=0}D[W]=O;N=G}if(d==0){for(Y=0;
Y<k;Y++){for(H=0;H<k;H++){G=Y+H;if(G>=k)break;V(H,Z-G)}e=0}for(Y=1;Y<a;Y++){for(H=0;H<a;H++){G=Y+H;if(G>=a||H>=k)break;
V(G,Z-H)}e=0}}else if(d==1){for(Y=0;Y<a;Y++){for(H=0;H<k;H++){V(Y,H)}e=0}}else if(d==2){for(Y=0;Y<k;
Y++){for(H=0;H<k;H++){G=Y+H;if(G>=k)break;V(H,G)}e=0}for(Y=1;Y<a;Y++){for(H=0;H<a;H++){G=Y+H;if(G>=a||H>=k)break;
V(G,H)}e=0}}else{for(Y=0;Y<k;Y++){for(H=0;H<a;H++){V(H,Y)}e=0}}T.ys(D,n)};j.g.aod=function(I,k,a,n,s){var C=j.g.L;
C.Ui(k,a);var T=s[0],S=s[1],D=s[2],o=C.WI(1),v=C.WI(1),g=C.WI(1),d=C.WI(1),R=C.WI(4),c=C.WI(4);C.re(I,d,3,4);
C.Lw(I,o);C.s9(o,v,3,3,1);C.s9(o,g,3,3,9);C.sub(g,v);C.pb(v,o,3);C.ve(o,40,10,d);C.aT(I,n,T,2,!1,T);
C.aT(I,R,T,2,!0,T);C.zU(c,255);C.YG(n,o,c);C.YG(c,o,R);C.Rx(R,n,1);C.pY(n);C.re(n,o);C.ve(o,S,D,d);C.d$(o,n);
C.xg(n)};j.g.awS=function(I,k,a,n,s){var C=j.g.L;C.Ui(k,a);C.uN(s[3]);var T=s[0],S=s[1],D=s[2]/10;T=T+S;
var o=C.WI(1),v=C.WI(1),g=C.ti(),d=C.ti();C.jN(o);C.pb(o,v,11);C.pb(v,o,11);C.f6(o,g);C.E7(g,d,5);C.E7(d,g,5);
C.auU(d,.97);C.aqu(d,o,T);C.s9(o,v,S,S,1);C.Qx(I,o);C.sn(v,o,v,.6);C.$z(o,v,v,D);C.r5(v,v,o,5,1);C.pY(I,n);
C.d$(o,n);C.xg(n)};j.g.ate=function(I,k,a,n,s){var C=j.g.L;C.Ui(k,a);var T=Math.abs(s[0]),S=T+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][T],D=2*T+1,o=s[1]/10,v=o*13/15,g=C.WI(1),d=C.WI(1),R=C.WI(1),c=C.WI(1),e=C.WI(4),O=C.WI(4),U=C.WI(4),K=C.WI(4),_=C.WI(4);
C.Lw(I,g);if(s[0]>=0){C.Us(g)}C.ed(g,R);C.pb(g,c,S);C.pb(c,g,S);C.r_(g,o);C.ed(g,d);C.pb(g,c,D);C.pb(c,g,D);
C.r_(g,v);C.zU(U,s[2]);C.zU(K,s[3]);C.zU(_,s[4]);C.YG(U,g,K,e);C.YG(_,d,e,O);C.YG(K,R,O,n);C.re(I,R,3);
C.d$(R,n,3)};j.g.aj2=function(I,k,a,n,s){var C=j.g.L;C.Ui(k,a);C.uN(s[5]);var T=s[0]*5.1,S=s[1]/100,D=C.afH[s[2]],o=C.WI(1),v=C.WI(1),g=C.WI(1);
C.Lw(I,o);C.ahw(v,255);C.jN(g);C.ya(o,T);C.zS(v,o,.7);C.zS(g,o,S);C.r5(o,o,v,5,D);C.ed(I,n);C.afO(n,T,s[4],s[3]);
C.pY(n);C.d$(v,n);C.xg(n)};j.g.aDk=function(I,k,a,n,s){var C=j.g.L;C.Ui(k,a);var T=s[0],S=4-s[1],D=11-s[2],o=C.WI(1),v=C.WI(1),g=C.WI(4);
C.Qx(I,v);for(var Y=0;Y<S;Y++){C.ed(v,o);C.avC(o,v,T,T)}C.Lq(I,g,T);C.pY(g,g);C.d$(v,g);C.xg(g,g);(D<11?C.aEL:C.ed)(g,n,D)};
j.g.aBd=function(I,k,a,n,s){var C=j.g.L;C.Ui(k,a);C.uN(s[2]);var T=s[0]+5,S=~~(T/5+1),D=~~(T/2)+1,o=D*D,v=~~(T/3),g=C.afH[s[1]],d=new Array(256);
for(var Y=0;Y<256;Y++){d[Y]=~~(.2*(Y-128))}var R=C.WI(1),c=C.WI(1);C.a9s(I,n,T);C.pY(n);C.re(n,R);C.jN(c);
C.ahb(R,c,d);C.a2w(c,T,T,S,S);C.sn(R,c,R,1);C.pb(R,c,v);C.pb(c,R,v);C.s9(R,c,D,D,o);C.r5(c,c,R,5,g);
C.d$(R,n);C.xg(n)};j.g.aaQ=function(I,k,a,n,s){var C=j.g.L;C.Ui(k,a);var T=C.WI(1),S=C.WI(1),D=C.WI(1),o=C.ti(),v=C.ti();
C.Lw(I,T);C.pb(T,S,s[2]);C.ya(S,s[0]*5.1);C.s9(S,T,2,2,4);C.pb(T,S,3);C.pb(S,T,3);C.ed(T,D);C.pb(T,S,5);
C.pb(S,T,5);C.f6(T,o);C.E7(o,v,5);C.E7(v,o,5);C.aoh(o,S,s[1]);C.Us(S);C.sn(D,S,D,1);C.ys(D,n)};j.g.ayW=function(I,k,a,n,s){var C=j.g.L;
C.Ui(k,a);var T=1<<7-s[2],S=C.WI(1),D=C.WI(1),o=C.WI(1);C.Qx(I,D);C.pb(D,S,3);C.ed(S,D);C.pb(S,o,s[0]+5);
C.sub(o,D);C.ve(D,1,s[1]);C.r_(S,1/T);C.r_(S,T);C.sub(S,D);C.pY(I,n);C.d$(D,n);C.xg(n)};j.g.aBl=function(I,k,a,n,s){var C=j.g.L;
C.Ui(k,a);C.uN(s[3]);var T=C.WI(1),S=C.WI(1),D=C.WI(1);C.Lw(I,T);C.aj8(S,s[0]/50);C.pb(S,D,3);C.s9(T,S,9,9,41);
C.ve(S,s[1],s[2]);C.sn(S,D,D,.75);C.$z(S,D,S,.5);C.ed(S,T);C.s9(T,D,3,3,8);C.sn(D,S,D,.75);C.r_(D,1.2);
C.bW(D,T,1);C.pb(T,D,2);C.bW(D,T,2);C.r_(T,1.2);C.pb(T,D,2);C.ys(D,n)};j.g.as2=function(I,k,a,n,s){var C=j.g.L;
C.Ui(k,a);var T=s[0]+9,S=s[1]/2,D=s[2],o=s[3],v=C.CR(s[4]),g=s[5]+1,d=s[6],R=C.WI(1),c=C.WI(1),e=C.WI(4),O=C.WI(4);
C.me(c,D,o,d);C.adS(I,n,T,1,1);C.adS(n,e,T,1,1);C.aiN(e,e,O,7,S);C.r_(O,1.2);C.$o(O,1.2);C.r5(c,R,R,g,v);
C.r_(R,3);C.ed(I,n);C.YG(O,R,n)};j.g.an4=function(I,k,a,n,s){var C=j.g.L;C.Ui(k,a);C.uN(s[3]);var T=s[0]+4,S=T*2/5+(T%5|0);
T--;var D=s[1]*-2.75+60,o=65-D,v=s[2]/10,g=C.WI(1),d=C.WI(1);C.jN(g);C.Qx(I,d);var R=C.zD(D,o,d);C.pY(I,n);
C.re(n,d);C.zS(d,g,.8);C.iL(d,R);C.r_(d,v);C.add(g,d);C.vc(d,g,T,3,!1,S);C.d$(g,n);C.xg(n)};j.g.amT=function(I,k,a,n,s){var C=j.g.L;
C.Ui(k,a);C.uN(s[3]);var T=s[0]+5,S=(T*T>>1)+T%2,D=s[1]/10,o=s[2],v=(o*o>>1)+o%2,g=C.WI(1),d=C.WI(1),R=C.WI(1),c=C.WI(4),e=C.WI(4),O=C.WI(4);
C.jN(R);C.pY(I,O);C.re(O,g);C.zS(g,R,.8);C.pb(R,g,3);C.bW(g,R,D);C.d$(R,O);C.xg(O,O);C.Lw(O,R);C.s9(R,g,T,T,S);
C.pb(R,d,T);C.sub(g,d);C.ya(d,1);C.gd(O,c,7,7,40);C.gd(O,e,7,7,10);C.YG(c,d,e);C.gd(e,n,o,o,v)};j.g.aza=function(I,k,a,n,s){var C=j.g.L,S=255,Y,o;
C.Ui(k,a);var T=s[0];if(T<2)S=T;else if(T<12)S=5*T-5;else if(T<47)S=2*T+28;else if(T<50){Y=T-47;S=125+12.5*Y+12.5*Y*Y}var D=new Uint8Array(256);
for(Y=75,o=15;Y<256;Y++,o+=24)D[Y]=Math.min(255,o);var v=C.WI(1),g=C.WI(1),d=C.WI(1);C.Lw(I,v);C.pb(v,g,11);
C.pb(g,d,11);C.sub(d,v);C.r_(v,8);C.sub(d,v);C.ya(v,S);C.Us(v);C.pb(v,g,5);C.ya(g,51);C.pb(g,v,s[1]);
C.pb(v,g,s[1]);C.Us(g);C.iL(g,D);C.ys(g,n)};j.g.a5I=function(I,k,a,n,s){var C=j.g.L;C.Ui(k,a);var T=C.axH[s[1]],S=s[2],D=S*1.5,o=C.WI(1),v=C.WI(1),g=C.WI(1);
C.Qx(I,o);C.vc(o,v,15,2,!0,15);C.ed(v,g);C.ve(g,S,D);C.pb(g,o,3);C.pb(v,g,s[0]);C.sub(g,v);C.r_(v,T);
C.sub(o,v);C.pb(v,o,3);C.vc(o,v,3,1,!1,1);C.Lq(I,n,15);C.pY(n);C.d$(v,n);C.xg(n)};j.g.a43=function(I,k,a,n,s){var C=j.g.L;
C.Ui(k,a);C.uN(s[3]);var T=s[0]*5.1,S=16-s[1],D=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][s[2]],o=C.WI(1),v=C.WI(1),g=C.WI(1);
C.Lw(I,o);C.ya(o,T);C.pb(o,v,S);C.pb(v,o,S);C.jN(g);C.$z(o,g,g,1);C.sn(o,g,o,.75);C.r_(o,D);C.$o(o,D);
C.s9(o,v,2,2,2);C.ys(v,n)};j.g.akp=function(I,k,a,n,s){var C=j.g.L;C.Ui(k,a);var T=s[0]+9,S=s[1]+9,D=s[2],o=s[3],v=C.CR(s[4]),g=s[5]+1,d=s[6],R=C.WI(1),c=C.WI(1),e=C.WI(1),O=C.WI(1),U=C.WI(1),K=C.WI(4);
C.Qx(I,R);C.avC(R,e,T,T);C.pb(e,R,S);C.ed(e,U);C.ed(R,O);C.sub(U,O);C.sub(R,U);C.add(U,O);C.r_(O,10);
C.me(c,D,o,d);C.r5(c,R,U,g,v);C.a5$(U,O,e,.8);C.Lq(I,K,9);C.Lq(K,n,9);C.pY(n);C.d$(e,n);C.xg(n)};j.g.auZ=function(I,k,a,n,s){var C=j.g.L;
C.Ui(k,a);var T=16-s[0],S=s[1]*8,D=1-(3-s[2])/10,o=~~(T*T*D-1),v=~~(T*T*(1-D));if(v==0)v=1;var g=C.WI(1),d=C.WI(1),R=C.WI(1),c=C.WI(4);
C.Lw(I,R);C.s9(R,g,7,7,25);C.pb(R,d,7);C.sub(g,d);C.ya(d,1);C.gd(I,c,T,T,o);C.gd(I,n,T,T,v);C.YG(c,d,n);
C.pY(n);C.re(n,g);C.s9(g,R,3,3,1);C.s9(g,d,3,3,9);C.sub(d,R);C.ed(R,d);C.sub(g,R);C.sub(R,d);C.s9(d,g,3,3,8);
C.ve(g,S,1);C.d$(g,n);C.xg(n)};j.g.akk=function(I,k,a,n,s){var C=j.g.L;C.Ui(k,a);C.uN(s[3]);var T=s[0],S=s[1],D=s[2],o=T>>1,v=Math.max(~~(T/5),1),g=Math.max(~~(T*2/3),1),d=C.aBK(S,D),R=C.WI(1),c=C.WI(1),e=C.WI(1),O=C.WI(1),U=C.WI(4);
C.Qx(I,R);C.a2Q(2147483647,4,2,2,0,255,c);C.a2Q(4,2147483647,2,2,0,255,O);C.jN(e);C.$z(c,e,c,1);C.$z(O,e,O,1);
C.$z(c,R,c,1);C.$z(O,R,O,1);C.Lq(I,U,o);C.Lq(U,n,o);C.s9(c,R,1,T,v);C.s9(R,c,3,T,g);C.s9(O,R,T,1,v);
C.s9(R,O,T,3,g);C.uz(c,O);C.pY(n);C.d$(O,n);C.xg(n);C.aDy(n,d)};j.g.Zv=function(I,k,a){var n=a.aeV,s=a.iB,C=a.WI(1),top=a.WI(1),T=a.WI(1),S=a.WI(1),D=a.WI(1),o=a.WI(1),v=a.WI(1),g=a.WI(1),d=a.WI(1),R=a.Qq,c=a.L4,e=j.Qz.xi,O=j.Qz.TT;
e(I,C,R,c,O([8,5,2,5,2,-1,2,-1,-4]));e(I,top,R,c,O([5,5,5,2,2,2,-1,-1,-1]));e(I,T,R,c,O([2,5,8,-1,2,5,-4,-1,2]));
e(I,S,R,c,O([5,2,-1,5,2,-1,5,2,-1]));e(I,D,R,c,O([2,2,2,2,2,2,2,2,2]));e(I,o,R,c,O([-1,2,5,-1,2,5,-1,2,5]));
e(I,v,R,c,O([2,-1,-4,5,2,-1,8,5,2]));e(I,g,R,c,O([-1,-1,-1,2,2,2,5,5,5]));e(I,d,R,c,O([-4,-1,2,-1,2,5,2,5,8]));
var U=[C,top,T,S,D,o,v,g,d];for(var K=0;K<c;K++){for(var _=0;_<R;_++){var Z=K*R+_,H=I[Z],G=null,N=0;
for(var z=-1;z<2;z++){for(var L=-1;L<2;L++){var p=U[(z+1)*3+L+1],V=Math.max(0,Math.min(K+z,c-1)),r=Math.max(0,Math.min(_+L,R-1)),y=p[V*R+r],W=Math.abs(y-H);
if(G==null||W<G){G=W;N=y}}}k[Z]=N}}};j.g.aa5=function(I,k,a,n,s){var self=j.g.L;self.Ui(k,a);var C=self.WI(1),T=self.WI(1);
for(var Y=0;Y<4;Y++){self.re(I,C,Y);if(Y<3){j.g.Zv(C,T,self);j.g.Zv(T,C,self);j.g.Zv(C,T,self);j.g.Zv(T,C,self);
j.g.Zv(C,T,self);j.g.Zv(T,C,self);j.g.Zv(C,T,self);j.g.Zv(T,C,self);j.g.Zv(C,T,self)}else T=C;self.d$(T,n,Y)}};
j.g.L={};j.g.L.Qq=0;j.g.L.L4=0;j.g.L.iB=0;j.g.L.Pt=0;j.g.L.M7=0;j.g.L.Ui=function(I,k){var a=I*k,self=j.g.L;
self.Qq=I;self.L4=k;self.iB=a;self.Pt=a<<1;self.M7=a<<2};j.g.L.uN=function(I){j.g.L.random=function(){var k=I+=1831565813;
k=Math.imul(k^k>>>15,k|1);k^=k+Math.imul(k^k>>>7,k|61);return((k^k>>>14)>>>0)/4294967296}};j.g.L.WI=function(I){var k=j.g.L;
return new Uint8Array([-1,k.iB,k.Pt,-1,k.M7][I])};j.g.L.ti=function(){return new Int32Array(j.g.L.Pt)};
j.g.L.pb=function(I,k,a,n){if(n==null)n=a;var self=j.g.L,s=self.Qq,C=self.L4,T=n,S=n>>1,D=a,o=a>>1,v=a*n,g=0;
for(var Y=0;Y<C;Y++){var d=0;for(var R=0;R<T;R++){for(var c=0;c<D;c++){var e=0-o+c,O=Y-S+R;if(e<0)e=0;
else if(e>=s)e=s-1;if(O<0)O=0;else if(O>=C)O=C-1;d+=I[O*s+e]}}k[g++]=~~(d/v);for(var U=1;U<s;U++){for(var R=0;
R<T;R++){var K=U-o-1,_=K+D,O=Y-S+R;if(K<0)K=0;if(_>=s)_=s-1;if(O<0)O=0;else if(O>=C)O=C-1;d+=I[O*s+_]-I[O*s+K]}k[g++]=~~(d/v)}}};
j.g.L.E7=function(I,k,a,n){var self=j.g.L,s=new Int32Array(self.iB),C=new Int32Array(self.iB);for(var Y=0;
Y<2;Y++){self.re(I,s,Y,2);self.pb(s,C,a,n);self.d$(C,k,Y,2)}};j.g.L.Lq=function(I,k,a,n){var self=j.g.L,s=self.WI(1),C=self.WI(1);
for(var Y=0;Y<4;Y++){self.re(I,s,Y);if(Y<3)self.pb(s,C,a,n);else C=s;self.d$(C,k,Y)}};j.g.L.adS=function(I,k,a,n,s){var self=j.g.L,C=self.Qq,T=self.L4,S=a+n-1,D=a>>1,o=S>>1,v=0,g=a*n,d=new Int32Array(a);
for(var Y=0;Y<T;Y++){var R=0,c=0,e=0;for(var O=0;O<a;O++){var U=s?S-O-n:O;for(var K=U,_=n+U;K<_;K++){var Z=0-o+K,H=Y-D+O;
if(K==U){d[O]=Z}if(Z<0)Z=0;else if(Z>=C)Z=C-1;if(H<0)H=0;else if(H>=T)H=T-1;var G=C*H+Z<<2;R+=I[G];c+=I[G+1];
e+=I[G+2]}}k[v++]=~~(R/g);k[v++]=~~(c/g);k[v++]=~~(e/g);k[v]=I[v];v++;for(var N=1;N<C;N++){for(var O=0;
O<a;O++){var H=Y-D+O,U=d[O]+1;d[O]=U;var z=U-1,L=U+n-1;if(H<0)H=0;else if(H>=T)H=T-1;if(z<0)z=0;else if(z>=C)z=C-1;
if(L<0)L=0;else if(L>=C)L=C-1;var p=H*C+z<<2,V=H*C+L<<2;R=R+I[V]-I[p];c=c+I[V+1]-I[p+1];e=e+I[V+2]-I[p+2]}k[v++]=~~(R/g);
k[v++]=~~(c/g);k[v++]=~~(e/g);k[v]=I[v];v++}}};j.g.L.vc=function(I,k,a,n,s,C){var self=j.g.L,T=self.Qq,S=self.L4,D=a+n-1,o=a>>1,v=D>>1,g=0,d=new Int32Array(a),R=new Int32Array(256),c=new Int32Array(16);
for(var Y=0;Y<S;Y++){for(var e=0;e<256;e++){R[e]=0}for(var e=0;e<16;e++){c[e]=0}for(var O=0;O<a;O++){var U=s?D-O-n:O;
for(var K=U,_=n+U;K<_;K++){var Z=0-v+K,H=Y-o+O;if(K==U){d[O]=Z}if(Z<0)Z=0;else if(Z>=T)Z=T-1;if(H<0)H=0;
else if(H>=S)H=S-1;R[I[H*T+Z]]++;c[I[H*T+Z]>>>4]++}}var G=0,N=0;while(G+c[N>>>4]<C){G+=c[N>>>4];N+=16}for(;
N<256;N++){G+=R[N];if(G>=C)break}k[g++]=N;for(var e=1;e<T;e++){for(var O=0;O<a;O++){var H=Y-o+O,U=d[O]+1;
d[O]=U;var z=U-1,L=U+n-1;if(H<0)H=0;else if(H>=S)H=S-1;if(z<0)z=0;else if(z>=T)z=T-1;if(L<0)L=0;else if(L>=T)L=T-1;
R[I[H*T+z]]--;R[I[H*T+L]]++;c[I[H*T+z]>>>4]--;c[I[H*T+L]>>>4]++}G=0;N=0;while(G+c[N>>>4]<C){G+=c[N>>>4];
N+=16}for(;N<256;N++){G+=R[N];if(G>=C)break}k[g++]=N}}};j.g.L.aT=function(I,k,a,n,s,C){var self=j.g.L,T=self.WI(1),S=self.WI(1);
for(var Y=0;Y<4;Y++){self.re(I,T,Y);if(Y<3)self.vc(T,S,a,n,s,C);else S=T;self.d$(S,k,Y)}};j.g.L.s9=function(I,k,a,n,s){s=Math.min(n*a,s);
var self=j.g.L,C=self.Qq,T=self.L4,S=n>>1,D=a>>1,o=0,v=new Int32Array(n),g=new Int32Array(256),d=new Int32Array(16);
for(var Y=0;Y<T;Y++){for(var R=0;R<256;R++){g[R]=0}for(var R=0;R<16;R++){d[R]=0}for(var c=0;c<n;c++){for(var e=0,O=a;
e<O;e++){var U=0-D+e,K=Y-S+c;if(e==0){v[c]=U}if(U<0)U=0;else if(U>=C)U=C-1;if(K<0)K=0;else if(K>=T)K=T-1;
g[I[K*C+U]]++;d[I[K*C+U]>>>4]++}}var _=0,Z=0;while(_+d[Z>>>4]<s){_+=d[Z>>>4];Z+=16}for(;Z<256;Z++){_+=g[Z];
if(_>=s)break}k[o++]=Z;for(var R=1;R<C;R++){for(var c=0;c<n;c++){var K=Y-S+c,H=v[c]+1;v[c]=H;var G=H-1,N=H+a-1;
if(K<0)K=0;else if(K>=T)K=T-1;if(G<0)G=0;else if(G>=C)G=C-1;if(N<0)N=0;else if(N>=C)N=C-1;g[I[K*C+G]]--;
g[I[K*C+N]]++;d[I[K*C+G]>>>4]--;d[I[K*C+N]>>>4]++}_=0;for(Z=0;Z<256;Z++){_+=g[Z];if(_>=s)break}k[o++]=Z}}};
j.g.L.gd=function(I,k,a,n,s){var self=j.g.L,C=self.WI(1),T=self.WI(1);for(var Y=0;Y<4;Y++){self.re(I,C,Y);
if(Y<3)self.s9(C,T,a,n,s);else T=C;self.d$(T,k,Y)}};j.g.L.bW=function(I,k,a){var self=j.g.L,n=self.Qq,s=self.L4,C=0;
for(var Y=0;Y<s;Y++){var T=Y*n,S=(Y-1)*n,D=(Y+1)*n;if(S<0)S=T;if(D>=s)D=T;for(var o=0;o<n;o++){var v=o-1,g=o+1;
if(v<0)v=o;if(g>=n)g=o;var d=T+v,R=T+g,c=S+o,e=D+o,O=T+o,U=I[d],K=I[R],_=I[c],Z=I[e],H=I[O],G=H+(H*4*a+.5);
G=G-((U+K+Z+_)*a+.5);k[C++]=self.bB(G)}}};j.g.L.Rx=function(I,k,a){var self=j.g.L,n=self.WI(1),s=self.WI(1);
for(var Y=0;Y<4;Y++){self.re(I,n,Y);if(Y<3)self.bW(n,s,a);else s=n;self.d$(s,k,Y)}};j.g.L.aEL=function(I,k,a){var self=j.g.L,n=self.Qq,s=self.L4,C=0,T=a+4;
for(var Y=0;Y<s;Y++){var S=Y*n,D=(Y-1)*n,o=(Y+1)*n;if(D<0)D=S;if(o>=s)o=S;for(var v=0;v<n;v++){var g=v-1,d=v+1;
if(g<0)g=v;if(d>=n)d=v;var R=S+g<<2,c=S+d<<2,e=D+v<<2,O=o+v<<2,U=S+v<<2;for(var K=0;K<3;K++){var _=I[R+K],Z=I[c+K],H=I[e+K],G=I[O+K],N=I[U+K];
k[C++]=(N*a+_+Z+G+H)/T}k[C]=I[C];C++}}};j.g.L.avC=function(I,k,a,n){var self=j.g.L,s=self.Qq,C=self.L4,T=a>>1,S=n>>1,D=0,o=new Int32Array(a),v=new Int32Array(256);
for(var Y=0;Y<C;Y++){for(var g=0;g<256;g++){v[g]=0}for(var d=0;d<a;d++){for(var R=0,c=n;R<c;R++){var e=0-S+R,O=Y-T+d;
if(R==0){o[d]=e}if(e<0)e=0;else if(e>=s)e=s-1;if(O<0)O=0;else if(O>=C)O=C-1;v[I[O*s+e]]++}}var U=0,K=0;
for(var _=0;_<256;_++){if(U<v[_]){K=_;U=v[_]}}k[D++]=K;for(var g=1;g<s;g++){for(var d=0;d<a;d++){var O=Y-T+d,Z=o[d]+1;
o[d]=Z;var H=Z-1,G=Z+n-1;if(O<0)O=0;else if(O>=C)O=C-1;if(H<0)H=0;else if(H>=s)H=s-1;if(G<0)G=0;else if(G>=s)G=s-1;
v[I[O*s+H]]--;v[I[O*s+G]]++}U=0;K=0;for(var _=0;_<256;_++){if(U<v[_]){K=_;U=v[_]}}k[D++]=K}}};j.g.L.ae5=[function(I,k,a,n,s,C,T,S,D,o){return s+(I+k+a)*o-(D+S+T)*o},function(I,k,a,n,s,C,T,S,D,o){return s+(k+a+C)*o-(S+T+n)*o},function(I,k,a,n,s,C,T,S,D,o){return s+(a+C+D)*o-(T+n+I)*o},function(I,k,a,n,s,C,T,S,D,o){return s+(C+D+S)*o-(n+I+k)*o},function(I,k,a,n,s,C,T,S,D,o){return s+(D+S+T)*o-(I+k+a)*o},function(I,k,a,n,s,C,T,S,D,o){return s+(S+T+n)*o-(k+a+C)*o},function(I,k,a,n,s,C,T,S,D,o){return s+(T+n+I)*o-(a+C+D)*o},function(I,k,a,n,s,C,T,S,D,o){return s+(n+I+k)*o-(C+D+S)*o}];
j.g.L.r5=function(I,k,a,n,s){var self=j.g.L,C=self.Qq,T=self.L4,S=C,D=self.ae5[n-1];for(var Y=0;Y<T;
Y++){var o=(Y>0?Y-1:0)*S,v=Y*S,g=(Y<T?Y+1:Y)*S;for(var d=0;d<C;d++){var R=d>0?d-1:0,c=d<C?d+1:d,e=v+d,O=I[o+R],U=I[o+d],K=I[o+c],_=I[v+R],Z=k[e],H=I[v+c],G=I[g+R],N=I[g+d],z=I[g+c];
a[e]=self.bB(D(O,U,K,_,Z,H,G,N,z,s))}}};j.g.L.aiN=function(I,k,a,n,s){var self=j.g.L,C=self.WI(1),T=self.WI(1),S=self.WI(1);
for(var Y=0;Y<3;Y++){self.re(I,C,Y);self.re(k,T,Y);self.r5(C,T,S,n,s);self.d$(S,a,Y)}self.re(k,C,3);
self.d$(C,a,3)};j.g.L.Lw=function(I,k){var a=I.length,n=0;for(var Y=0;Y<a;Y++){k[n++]=~~((I[Y++]+I[Y++]+I[Y++]+2)/3)}};
j.g.L.ys=function(I,k){var a=k.length,n=0;for(var Y=0;Y<a;Y++){var s=I[Y];k[n++]=s;k[n++]=s;k[n++]=s;
k[n++]=255}if(k[0]==255)k[0]--;else k[0]++};j.g.L.Qx=function(I,k){var a=k.length,n=0;for(var Y=0;Y<a;
Y++){var s=I[n++],C=I[n++],T=I[n++];n++;if(C>s)s=C;if(T>s)s=T;k[Y]=s}};j.g.L.pY=function(I,k){if(k==null)k=I;
var a=I.length;for(var n=0;n<a;n+=4){var s=I[n],C=I[n+1],T=I[n+2],S=s,D=0,o=s,g;if(C<=s){s=C}else{D=1;
o=C}if(T<=o){if(s>T){s=T}}else{D=2;o=T}var v=o-s;if(v!=0){if(D==0){g=~~(43*(C-T)/v)}else if(D==1){g=~~(43*(T+2*v-S)/v)}else{g=43*(S+4*v-C)/v}if(g<0){g=255&g-1}k[n]=g;
k[n+1]=~~(255*v/o)}else{k[n]=v;k[n+1]=v}k[n+2]=o;k[n+3]=I[n+3]}};j.g.L.xg=function(I,k){if(k==null)k=I;
var a=I.length;for(var n=0;n<a;n+=4){var s=I[n],C=I[n+1],T=I[n+2];if(C){if(s==255)s=0;var S=~~(6*s/255),D=~~(-255*S+6*s);
if(S==0){k[n]=T;k[n+1]=~~(T*(255-C*(255-D)/255)/255);k[n+2]=~~(T*(255-C)/255)}else if(S==1){k[n]=~~(T*(255-C*D/255)/255);
k[n+1]=T;k[n+2]=~~(T*(255-C)/255)}else if(S==2){k[n]=~~(T*(255-C)/255);k[n+1]=T;k[n+2]=~~(T*(255-C*(255-D)/255)/255)}else if(S==3){k[n]=~~(T*(255-C)/255);
k[n+1]=~~(T*(255-C*D/255)/255);k[n+2]=T}else if(S==4){k[n]=~~(T*(255-C*(255-D)/255)/255);k[n+1]=~~(T*(255-C)/255);
k[n+2]=T}else{k[n]=T;k[n+1]=~~(T*(255-C)/255);k[n+2]=~~(T*(255-C*D/255)/255)}}else{k[n]=T;k[n+1]=T;k[n+2]=T}k[n+3]=I[n+3]}};
j.g.L.d$=function(I,k,a,n){if(a==null)a=2;if(n==null)n=4;var s=I.length;for(var Y=0;Y<s;Y++){k[a]=I[Y];
a+=n}};j.g.L.re=function(I,k,a,n){if(a==null)a=2;if(n==null)n=4;var s=k.length;for(var Y=0;Y<s;Y++){k[Y]=I[a];
a+=n}};j.g.L.a5$=function(I,k,a,n){if(n==null)n=1;var s=k.length,C=0,T;for(var C=0;C<s;C++){T=k[C];if(T){T*=n;
a[C]=~~((T*I[C]+(255-T)*a[C])/255)}}};j.g.L.YG=function(I,k,a,n){if(n==null)n=a;var s=k.length,C=0,T,S;
for(var Y=0;Y<s;Y++){T=k[Y];if(T){S=255-T;n[C]=~~((T*I[C]+S*a[C])/255);n[C+1]=~~((T*I[C+1]+S*a[C+1])/255);
n[C+2]=~~((T*I[C+2]+S*a[C+2])/255)}n[C+3]=I[C+3];C+=4}};j.g.L.sn=function(I,k,a,n){var s=~~(n*255),C=a.length;
for(var Y=0;Y<C;Y++){a[Y]=((255-s*(255-I[Y])/255)*k[Y]+I[Y]*(s*(255-I[Y])/255))/255}};j.g.L.$z=function(I,k,a,n){var s=~~(n*255),C=a.length;
for(var Y=0;Y<C;Y++){a[Y]=((255-s*I[Y]/255)*k[Y]+I[Y]*(s*I[Y]/255))/255}};j.g.L.zS=function(I,k,a){var n=k.length;
for(var Y=0;Y<n;Y++){k[Y]=~~(I[Y]*a+.5)+(k[Y]-~~(k[Y]*a+.5))}};j.g.L.sub=function(I,k){var a=I.length;
for(var Y=0;Y<a;Y++){k[Y]=Math.max(I[Y]-k[Y],0)}};j.g.L.add=function(I,k){var a=I.length;for(var Y=0;
Y<a;Y++){k[Y]=Math.min(I[Y]+k[Y],255)}};j.g.L.aeV=function(I,k){var a=I.length;for(var Y=0;Y<a;Y++){k[Y]=I[Y]+k[Y]}};
j.g.L.uz=function(I,k){var a=I.length;for(var Y=0;Y<a;Y++){k[Y]=I[Y]+k[Y]>>1}};j.g.L.ed=function(I,k){var a=I.length;
for(var Y=0;Y<a;Y++){k[Y]=I[Y]}};j.g.L.iL=function(I,k){var a=I.length;for(var Y=0;Y<a;Y++){I[Y]=k[I[Y]]}};
j.g.L.aDy=function(I,k){var a=j.g.L.M7;for(var Y=0;Y<a;Y+=4){var n=I[Y],s=I[Y+1],C=I[Y+2],T=n;if(s>n)T=s;
if(C>n)T=C;var S=k[T];if(S){I[Y]=~~(S*n/T);I[Y+1]=~~(S*s/T);I[Y+2]=~~(S*C/T)}else{I[Y]=S;I[Y+1]=S;I[Y+2]=S}}};
j.g.L.r_=function(I,k){for(var Y=0,a=I.length;Y<a;Y++){I[Y]=Math.min(255,~~(.5+I[Y]*k))}};j.g.L.$o=function(I,k){for(var Y=0,a=I.length;
Y<a;Y++){I[Y]=255-Math.min(255,~~(.5+(255-I[Y])*k))}};j.g.L.Us=function(I){var k=I.length;for(var Y=0;
Y<k;Y++){I[Y]=255-I[Y]}};j.g.L.ya=function(I,k,a,n){if(a==null)a=0;if(n==null)n=255;for(var Y=0,s=I.length;
Y<s;Y++){I[Y]=I[Y]>=k?n:a}};j.g.L.Xz=function(I){return[I>>24&255,I>>16&255,I>>8&255,I&255]};j.g.L.afO=function(I,k,a,n){if(a==null)a=255;
if(n==null)n=4278190335;var s=j.g.L,C=s.M7,T=s.Xz(a),S=s.Xz(n);for(var Y=0;Y<C;Y+=4){var D=~~((I[Y]+I[Y+1]+I[Y+2]+2)/3);
if(D>=k){I[Y]=T[0];I[Y+1]=T[1];I[Y+2]=T[2]}else{I[Y]=S[0];I[Y+1]=S[1];I[Y+2]=S[2]}}};j.g.L.zU=function(I,k){var a=j.g.L,n=a.M7,s=a.Xz(k);
for(var Y=0;Y<n;){I[Y++]=s[0];I[Y++]=s[1];I[Y++]=s[2];I[Y++]=s[3]}};j.g.L.ahw=function(I,k){var a=I.length;
for(var Y=0;Y<a;){I[Y++]=k}};j.g.L.aBK=function(I,k){I=I>5?(100-Math.max(4,I))/100:.95;k=k!=100?Math.max(4,k)/100:.9995;
var a=new Uint8Array(256),n=k>.5?.5/(1-k):k*2,s=~~(n*256),C=~~((.5-I*n)*256)<<8;for(var Y=0;Y<256;Y++){a[Y]=j.g.L.bB(C>>8);
C+=s}return a};j.g.L.jN=function(I){for(var Y=0,k=j.g.L,a=I.length;Y<a;Y++){I[Y]=~~(k.random()*256)}};
j.g.L.aj8=function(I,k){for(var Y=0,a=j.g.L,n=I.length;Y<n;Y++){I[Y]=a.random()<k?255:0}};j.g.L.avp=function(I,k,a){for(var Y=0,n=j.g.L,s=I.length;
Y<s;Y++){if(n.random()<k)I[Y]=a}};j.g.L.ahb=function(I,k,a){var n=I.length;for(var Y=0;Y<n;Y++){I[Y]=j.g.L.bB(I[Y]+a[k[Y]])}};
j.g.L.rP=function(I){var k=new Uint32Array(256);for(var Y=0,a=I.length;Y<a;Y++)k[I[Y]]++;return k};j.g.L.a3I=function(I,k){var a=0,n=0,s=new Uint32Array(256),C=new Float32Array(256);
for(var Y=0,T=I.length;Y<T;Y++){var S=I[Y],D=k[Y];if(D==255){s[S]++;a++}else if(D>0){D/=255;n+=D;C[S]+=D;
if(n>=1){n--;a++}if(C[S]>=1){C[S]--;s[S]++}}}return[a,s]};j.g.L.zD=function(I,k,a,n){var self=j.g.L,s,C,v=0,d=256;
if(n){var T=self.a3I(a,n);s=T[1];C=T[0]/100}else{s=self.rP(a);C=self.iB/100}var S=new Uint8Array(256),D=C*I,o=C*k,g=-1;
do{v+=s[++g]}while(v<=D);v=0;do{v+=s[--d]}while(v<=o);if(d-g<=0)d=g+1;if(d>255){d=255;g=254}var R=255/(d-g),c=-g;
for(var Y=0;Y<256;Y++){S[Y]=self.bB(R*c+.5);c++}return S};j.g.L.ve=function(I,k,a,n){var s=j.g.L;s.iL(I,s.zD(k,a,I,n))};
j.g.L.a7P=function(I,k){var self=j.g.L,a=self.rP(I),n=self.iB*k/100,s=0,C=-1;do{s+=a[++C]}while(s<=n);
return C};j.g.L.f6=function(I,k){var a=0,self=j.g.L,n=self.Qq,s=self.L4,C=1/Math.PI,T=C*255;for(var Y=0;
Y<s;Y++){var S=Y+1;if(S==s)S--;var D=Y*n,o=~~((1-(Y+1)/s)*255);for(var v=0;v<n;v++){var g=v+1;if(g==n)g--;
var d=I[D+v],R=I[D+g],c=I[S*n+v];if(d-c==0){k[a++]=o}else{var e=d-c+255;if(e==255){e=0}else{e=~~(Math.atan2(1/(255-e),1)*T+.5);
if(e<0)e+=255}k[a++]=e}if(d-R==0){k[a++]=~~((1-(v+1)/n)*255)}else{var e=d-R+255;if(e==255){e=0}else{e=~~(Math.atan2(1/(255-e),1)*T+.5);
if(e<0)e+=255}k[a++]=e}}}};j.g.L.auU=function(I,k){var self=j.g.L,a=self.Qq,n=self.L4,s=0;for(var Y=0;
Y<n;Y++){for(var C=0;C<a;C++){I[s]=~~(Y*k+.5)+~~(I[s]*(1-k)+.5);s++;I[s]=~~(C*k+.5)+~~(I[s]*(1-k)+.5);
s++}}};j.g.L.aqt=function(I,k,a,n){var self=j.g.L,s=self.Qq,C=self.L4,T=0;for(var Y=0;Y<C;Y++){for(var S=0;
S<s;S++){k[T]=~~(k[T]*(1-a)+.5)+~~(I[T]*n+.5);T++;k[T]=~~(k[T]*(1-a)+.5)+~~(I[T]*n+.5);T++}}};j.g.L.aqu=function(I,k,a){var self=j.g.L,n=self.Qq,s=self.L4,C=0,T=0;
for(var Y=0;Y<s;Y++){for(var S=0;S<n;S++){var D=I[C++],o=I[C++];k[T++]=o%a>=2&&D%a>=2?255:0}}};j.g.L.a2Q=function(I,k,a,n,s,C,T){var self=j.g.L,S=self.Qq,D=self.L4,o=0,v=0,g=0;
for(var Y=0;Y<D;Y++){var d=Y%I<a||D-a<=Y;for(var R=0;R<S;R++){T[o++]=d||R%k<n||S-n<=R?s:C}}};j.g.L.me=function(I,k,a,n){var self=j.g.L,s=self.Qq,C=self.L4,T=gr.me(k),S=T[1],D=T[0].Q,o=T[0]._,v=100/a;
for(var g=0;g<C;g++)for(var d=0;d<s;d++){var R=j.t.F0(d*v,g*v,S,D,o);I[g*s+d]=n?255-R:R}};j.g.L.bB=function(I){return~~Math.min(255,Math.max(0,I))};
j.g.L.axH=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];j.g.L.afH=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];
j.g.L.CR=function(I){return I>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][I-41]:I/40};j.g.L.a9s=function(I,k,a){var self=j.g.L,n=self.Qq,s=self.L4,C=a,T=a>>1,S=T-1,D=C*C,o=0;
for(var Y=0;Y<s;Y++){var v=0,g=0,d=0,R=~~(Y/a)*a,c=0;for(var e=0;e<C;e++){for(var O=0;O<C;O++){var U=c+O,K=R+e;
if(U>=n)U=n-1;if(K>=s)K=s-1;v+=I[K*n+U<<2];g+=I[(K*n+U<<2)+1];d+=I[(K*n+U<<2)+2]}}var _=~~(v/D),Z=~~(g/D),H=~~(d/D);
k[o]=_;k[o+1]=Z;k[o+2]=H;k[o+3]=I[o+3];o+=4;for(var G=1;G<n;G++){for(var e=0;e<C;e++){var N=G-1,z=N+C,K=R+e;
if(z>=n)z=n-1;if(K>=s)K=s-1;var L=K*n,p=L+z<<2,V=L+N<<2;v+=I[p]-I[V];g+=I[p+1]-I[V+1];d+=I[p+2]-I[V+2]}if(G%a==0){_=~~(v/D);
Z=~~(g/D);H=~~(d/D)}k[o]=_;k[o+1]=Z;k[o+2]=H;k[o+3]=I[o+3];o+=4}}};j.g.L.a2w=function(I,k,a,n,s){var self=j.g.L,C=self.Qq,T=self.L4,S=0,D=0,o=0,v=0;
for(var Y=v;Y<T+v;Y++){var g=Y%k>=n||Y<n||T+v-n<=Y;for(var d=0;d<C;d++){I[S++]=g&&(d%a>=s||d<s||C-s<=d)?255:0}}};
j.g.L.aoh=function(I,k,a){var n=function(o,v){return v<=o?o/v&1?v-o%v:o%v:o},s=[function(S,D){return n(S,255)/255},function(S,D){return(255+n(S,255)-n(D,255))/510},function(S,D){return(255-n(D,255))/255},function(S,D){return(510-n(S,255)-n(D,255))/510},function(S,D){return(255-n(S,255))/255},function(S,D){return(255-n(S,255)+n(D,255))/510},function(S,D){return n(D,255)/255},function(S,D){return(n(S,255)+n(D,255))/510}][a],C=0,T=0;
for(var Y=0;Y<j.g.L.iB;Y++){var S=I[C++],D=I[C++];k[T++]=~~(255*s(S,D))}};j.g.aCr=function(){var I=[],k=new Uint8Array(512),a=new Float32Array(512),n=new Float32Array(512),s=[1,-1,1,-1,1,-1,0,0],C=[1,1,-1,-1,0,0,1,-1],T=0,S,c=0;
for(;T<256;T++)I[T]=T;while(T!=0){T--;S=Math.floor(Math.random()*T);I[S]^=I[T]^(I[T]=I[S])}function D(D){D=Math.floor(D*65536);
if(D<256){D|=D<<8}for(var Y=0;Y<256;Y++){var U=Y+256,K=I[Y]^(Y&1?D:D>>8)&255;k[Y]=k[U]=K;K=K%8;a[Y]=a[U]=s[K];
n[Y]=n[U]=C[K]}}function o(U){return U*U*U*(U*(U*6-15)+10)}function v(U,K,_){return(1-_)*U+_*K}function g(U,K){return U&K}function d(U,K){return U%K}function R(U,K,_,Z,H){var G=Math.floor(U),N=Math.floor(K),T,z,L,p,V,r;
U=U-G;K=K-N;G=G&255;N=N&255;T=G+k[N];p=a[T]*U+n[T]*K;T=G+k[H(N+1,Z)];L=a[T]*U+n[T]*(K-1);T=H(G+1,_)+k[N];
V=a[T]*(U-1)+n[T]*K;T=H(G+1,_)+k[H(N+1,Z)];r=a[T]*(U-1)+n[T]*(K-1);z=o(U);return v(v(p,V,z),v(L,r,z),o(K))}function e(U,T,K){U[T]=K}function O(U,K,_,Z,H){var G=Math.min(Math.min(K,256),Math.min(256,_)),N=G==256||G<8,z=8,L=new Uint32Array(z),p=new Uint32Array(z),V=new Float32Array(z),r=new Float32Array(z),y=1,W=1,m=N?g:d,f=e,h;
for(var Y=0;Y<z;Y++){h=W*1/G;if(N){p[Y]=(1<<Math.ceil(Math.log2(_*h)))-1;L[Y]=(1<<Math.ceil(Math.log2(K*h)))-1}else{p[Y]=h*_;
L[Y]=h*K}V[Y]=y;r[Y]=h;y*=.5;W=W<<1}D(Math.random());for(var b=0,T=0;b<_;b++){for(var i=0;i<K;i++){var w=0;
for(var J=0;J<z;J++){h=r[J];w+=R(i*h,b*h,L[J],p[J],m)*V[J]}f(Z,T++,Math.round(Math.max(0,255*Math.min(1,.5+w*.5))))}}}return O}();
j.g.aoB=function(){function I(k,a,n,s){var C=new Uint8Array(k.length>>>2),T=new Uint8Array(k.length>>>2),S=new Uint8Array(k.length);
for(var Y=0;Y<k.length;Y+=4){var D=k[Y+0]*.3+k[Y+1]*.59+k[Y+2]*.11;T[Y>>>2]=D;S[Y]=k[Y];S[Y+1]=k[Y+1];
S[Y+2]=k[Y+2]}j.Qz.aAe(T,C,a,n);j.Qz.Lp(k,s,a,n,j.Qz.I$[1],0,!0);for(var Y=0;Y<k.length;Y+=4){S[Y+3]=255-C[Y>>>2]}for(var Y=0,o=k.length;
Y<o;Y+=4){var v=S[Y+3]/255;s[Y]=S[Y]*v+s[Y]*(1-v);s[Y+1]=S[Y+1]*v+s[Y+1]*(1-v);s[Y+2]=S[Y+2]*v+s[Y+2]*(1-v)}}return I}();
j.g.alE=function(){function I(C,T,S,D,o){var v=new Uint32Array(C.buffer),g=0;for(var Y=0;Y<S;Y++){for(var d=0;
d<T;d++,g+=4){var R=v[Y*T+d],c=R&255,e=R>>>8&255,O=R>>>16&255,U=R>>>24&255,K=~~(Math.random()*8),_=K%3,Z=0,H=0;
if(K<3){H--}else if(K>4){H++}if(_==0){Z--}else if(_==2){Z++}var G=d+Z,N=Y+H;if(G<0)G=0;else if(G>T-1)G=T-1;
if(N<0)N=0;else if(N>S-1)N=S-1;var R=v[N*T+G],z=R&255,L=R>>>8&255,p=R>>>16&255,V=R>>>24&255;D[g]=o(c,z);
D[g+1]=o(e,L);D[g+2]=o(O,p);D[g+3]=o(U,V)}}}function k(C,T){return T}function a(C,T){return C>T?T:C}function n(C,T){return C<T?T:C}function s(C,T,S,D,o){var v=o[0];
if(v==0)I(C,T,S,D,k);else if(v==1)I(C,T,S,D,a);else if(v==2)I(C,T,S,D,n);else if(v==3){console.error("Not implemented")}else console.error("Mew mew")}return s}();
j.g.a06=function(){function I(k,a,n,s,C){var T=C&&C[0]?C[0]:4,S,D,o,v,g,d,R;for(var Y=0;Y<n;Y++){var c=Math.max(Y-T,0),e=Math.min(Y+T,n-1);
for(var O=0;O<a;O++){var U=Math.max(O-T,0),K=Math.min(O+T,a-1);S=c*a+U<<2;v=k[S];g=k[S+1];d=k[S+2];R=k[S+3];
S=c*a+K<<2;v+=k[S];g+=k[S+1];d+=k[S+2];R+=k[S+3];S=e*a+U<<2;v+=k[S];g+=k[S+1];d+=k[S+2];R+=k[S+3];S=e*a+K<<2;
v+=k[S];g+=k[S+1];d+=k[S+2];R+=k[S+3];S=Y*a+O<<2;s[S]=v+2>>>2;s[S+1]=g+2>>>2;s[S+2]=d+2>>>2;s[S+3]=R+2>>>2}}}return I}();
j.g.aoS=function(){function I(k,a,n,s){var C=new Uint8Array(k.length),T=new Uint8Array(k.length>>>2),S=new Uint8Array(k.length>>>2);
j.Qz.Lp(k,C,a,n,j.Qz.I$[2],0,!0);for(var Y=0;Y<k.length;Y+=4){var D=C[Y+0]*.3+C[Y+1]*.59+C[Y+2]*.11;
T[Y>>>2]=D;s[Y+0]=k[Y+0];s[Y+1]=k[Y+1];s[Y+2]=k[Y+2];s[Y+3]=k[Y+3]}j.Qz.aAe(T,S,a,n);for(var Y=0;Y<k.length;
Y+=4){C[Y+3]=~~(Math.max(0,255-S[Y>>>2]-50)*(255/205))}for(var Y=0,o=k.length;Y<o;Y+=4){var v=C[Y+3]/255;
s[Y]=C[Y]*v+s[Y]*(1-v);s[Y+1]=C[Y+1]*v+s[Y+1]*(1-v);s[Y+2]=C[Y+2]*v+s[Y+2]*(1-v)}}return I}();j.g.aw=function(){function I(K,_){return K[_]+K[_+1]+K[_+2]+K[_+3]}function k(K,_){return K[_]+K[_+1]+K[_+2]+2*K[_+3]}function a(K,_,Z,H){K[_]=Z[H];
K[_+1]=Z[H+1];K[_+2]=Z[H+2];K[_+3]=Z[H+3]}function n(K,_,Z){K[_]=K[Z];K[_+1]=K[Z+1];K[_+2]=K[Z+2];K[_+3]=K[Z+3]}function s(K,_,Z){K[Z]=_[Z];
K[Z+1]=_[Z+1];K[Z+2]=_[Z+2];K[Z+3]=255-_[Z+3]}function C(K){for(var Y=0,_=K.length;Y<_;Y+=4){K[Y+3]=255-K[Y+3]}}function T(){var K=Math.random();
if(K>.5)return 0;if(K>.25)return 1;if(K>.1)return 2;if(K>.02143)return 3;if(K>.00445)return 4;if(K>65e-5)return 5;
if(K>415e-6)return 6;if(K>55e-6)return 7;return 8}function S(K,_,Z,H,G,N){K[_]=Z[H]+(G[N]-Z[H]>>1);K[_+1]=Z[H+1]+(G[N+1]-Z[H+1]>>1);
K[_+2]=Z[H+2]+(G[N+2]-Z[H+2]>>1);K[_+3]=Z[H+3]+(G[N+3]-Z[H+3]>>1)}function D(K,_,Z,H,G,N){K[_]=G[N]+Z[H]>>1;
K[_+1]=G[N+1]+Z[H+1]>>1;K[_+2]=G[N+2]+Z[H+2]>>1;K[_+3]=G[N+3]+Z[H+3]>>1}function o(K,_,Z,H,G,N,z,L,p){var V=0,r=0,y=0,Y,W=G[N],m;
S(L,0,K,_,K,Z);for(Y=0;Y<W;Y++){S(L,(Y+1)*4,L,Y*4,K,Z)}r=(W+1)*4;y+=W;N--;a(K,_,L,r-4);H[N]=I(K,_);_-=p;
while(N>0&&H[N-1]<H[N]){m=L;L=z;z=m;V=r;D(L,0,K,_-p,z,0);for(Y=4;Y<V;Y+=4){D(L,Y,L,Y-4,z,Y)}W=G[N];for(Y=y;
Y<W;Y++){S(L,r,L,r-4,z,V-4);r+=4;y++}N--;a(K,_,L,r-4);H[N]=I(K,_);_-=p}}function v(K,_,Z,H,G){var N=_*4,z=0,L,p,V=new Uint8Array(_+1),r=new Uint8Array(10*4),y=new Uint8Array(10*4);
for(var Y=0;Y<Z;Y++){s(H,K,z);G[0]=I(H,z);V[0]=T();L=z;z+=4;for(var W=1;W<_;W++){s(H,K,z);G[W]=I(H,z);
p=T();V[W]=p;if(G[W-1]<G[W]&&p>0){o(H,z-4,z,G,V,W,r,y,4)}z+=4}G[_]=G[0];V[_]=V[0];if(G[_-1]<G[_]&&p>0){o(H,z,L,G,V,_,r,y,4)}}C(H)}function g(){var K=Math.random();
if(K>.659755)return 0;if(K>.1625)return 10;if(K>.06)return 20;if(K>.01)return 30;if(K>.0035)return 40;
if(K>65e-5)return 50;if(K>415e-6)return 60;if(K>55e-6)return 70;return 80}function d(K,_,Z,H,G,N){var z=g()+1,L=H[G];
for(var Y=1;Y<z;Y++){if(0>G)break;if(H[G-Y]<L){n(K,_,Z)}else{break}_+=N}}function R(K,_,Z,H,G){var N=_*4,z=0;
for(var Y=0;Y<Z;Y++){s(H,K,z);G[0]=I(H,z);z+=4;for(var L=1;L<_;L++){s(H,K,z);G[L]=I(K,z);if(G[L-1]<G[L]){d(H,z-4,z,G,L,-4)}z+=4}G[_]=G[0];
if(G[L-1]<G[L]){d(H,z-4,z-N,G,L,-4)}}C(H)}function c(K,_,Z,H,G,N){var z=1,L,p,V=new Uint8Array(4),r,y=_;
while(Math.random()<1/z){y=_;if(H<=1)break;L=Z[H];p=Z[H-1];if(L<=p)break;a(V,0,K,y-N);r=!0;for(var Y=H;
Y<G;Y++){if(p>Z[Y]){a(K,y-N,V,0);Z[Y-1]=p;r=!1;break}a(K,y-N,K,y);Z[Y-1]=Z[Y];y+=N}if(r){a(K,y-N,V,0);
Z[G-1]=p}z++;H--;_-=N}}function e(K,_,Z,H,G){var N=0,z=0,L=_*4;for(var Y=0;Y<Z;Y++){z=N;for(var p=0;
p<_;p++){s(H,K,N);G[p]=k(H,N);N+=4}N=z;for(var p=1;p<_;p++){if(G[p-1]<G[p]&&Math.random()<.66){c(H,N+4,G,p,_,4)}N+=4}N+=4}C(H)}function O(K,_,Z,H,G){var N=G[0],z=G[1],L=new Uint16Array(_+1),p=K,V=H,r;
if(z){r=H.slice(0);U(K,H,_,Z);p=H;V=r}if(N==0)v(p,_,Z,V,L);else if(N==1)R(p,_,Z,V,L);else if(N==2)e(p,_,Z,V,L);
if(z){U(r,H,_,Z)}}function U(K,_,Z,H){for(var G=0;G<H;G++)for(var N=0;N<Z;N++){var z=G*Z+N<<2,L=G*Z+(Z-1-N)<<2;
_[L]=K[z];_[L+1]=K[z+1];_[L+2]=K[z+2];_[L+3]=K[z+3]}}return O}();j.g.ai_=function(I,k,a,n,s){var C=j.g.L,T=1,O=0,_=0;
C.Ui(k,a);C.uN(s[2]);var S=3<<13,D=Math.PI/2.43,o=D/256,v=Math.PI*2/256;function g(){var N=C.random()*256,z=C.random()*256;
return T*~~(Math.tan(D-N*o)*325*Math.cos(z*v)*256)+S>>16}T=s[0];var d=s[1],R=(d+2)/2,c=C.random()*255,e=C.WI(1);
for(var Y=0;Y<a;Y++){var U=C.bB(g()+c);for(var K=0;K<k;K++){U=C.bB(g()+U);e[O++]=U}}O=k;for(var Y=1;
Y<a;Y++){var Z=C.bB(g()+e[_++]);e[O++]=Z;for(var K=1;K<k;K++){var H=_+1;if(K+1==k){H--}var G=(R+Z+e[H]+e[_]*d)/(d+2);
Z=C.bB(g()+G);e[O++]=Z;_++}}C.ys(e,n)};var cK=function(){function I(A){A=A^61^A>>>16;A=A+(A<<3);A=A^A>>>4;
A=A*668265261;A=A^A>>>15;return A}var k=function(){var k=function(A){if(A){this.M=A}this.M=I(this.M);
return(this.M&16777215)*(1/16777215)};return k};function a(A,Q){if(Q==null){Q=[0,0]}return Math.sqrt((Q[0]-A[0])*(Q[0]-A[0])+(Q[1]-A[1])*(Q[1]-A[1]))}function n(A,Q){if(Q==null){Q=[0,0]}return[-(Q[1]-A[1])/a(A,Q),(Q[0]-A[0])/a(A,Q)]}function s(A){return[Math.cos(A),Math.sin(A)]}function C(A){var Q=a(A,[0,0]),B=[A[0]/Q,A[1]/Q],l=Math.atan(B[1]/B[0]);
if(B[0]>0&&B[1]<0){l+=2*Math.PI}else if(B[0]<0&&B[1]<0){l+=Math.PI}else if(B[0]<0&&B[1]>0){l+=Math.PI}return l}function T(A){var T=0;
for(var Y=1;Y<A.length/2;++Y){T+=a([A[2*Y],A[2*Y+1]],[A[2*(Y-1)],A[2*(Y-1)+1]])}return T}function S(A,Q,B){var l=new Float32Array(A.length),P=1/(A.length/2),F=H(B);
for(var Y=0;Y<A.length/2;++Y){var t=Y*P,b$=t/2+.5,hd=1,di=0;if(B.shape==2){hd=1/(2*b$)}if(B.shape==3){b$=(1-t)/2+.5;
hd=1/(2*b$)+.5}if(B.shape==4){b$=t;hd=Math.sin(3/2*Math.PI*b$)/4+1}if(B.shape==5){b$=(t-.5)*6;hd=(-Math.atan(b$)/1.25+1)/5+.6-.2*t}var hD=[null,null];
if(Y==0){hD=n([A[2*Y],A[2*Y+1]],[A[2*(Y+1)],A[2*(Y+1)+1]])}else if(Y==A.length/2-1){hD=n([A[2*(Y-1)],A[2*(Y-1)+1]],[A[2*Y],A[2*Y+1]])}else{hD=n([A[2*(Y-1)],A[2*(Y-1)+1]],[A[2*(Y+1)],A[2*(Y+1)+1]])}l[2*Y]=A[2*Y]+(hd*Q+di)*hD[0];
l[2*Y+1]=A[2*Y+1]+(hd*Q+di)*hD[1];if(B.style==2){l[2*Y]+=G(2*Y/l.length,F,B)}}return l}function D(A,Q,B){var l=new Float32Array(A.length),P=1/(A.length/2);
for(var Y=0;Y<A.length/2;++Y){var F=Y*P,t=[null,null],b$=.6*B.i8*L(F,Q.a5P)*B.KR/100,hd=.6*B.i8*L(F,Q.ay0)*B.KR/100,di=Q.a8u*b$+(1-Q.a8u)*hd;
if(Y==0){t=n([A[2*Y],A[2*Y+1]],[A[2*(Y+1)],A[2*(Y+1)+1]])}else if(Y==A.length/2-1){t=n([A[2*(Y-1)],A[2*(Y-1)+1]],[A[2*Y],A[2*Y+1]])}else{t=n([A[2*(Y-1)],A[2*(Y-1)+1]],[A[2*(Y+1)],A[2*(Y+1)+1]])}l[2*Y]=A[2*Y]+di*t[0];
l[2*Y+1]=A[2*Y+1]+di*t[1]}return l}function o(A){if(A.ZH==1){return[.150684932,.205479452,.465753425,.178082192]}else if(A.ZH==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var Q=[],B=1/(y(A)-1);
for(var Y=0;Y<y(A)-1;++Y){Q.push(B)}return Q}}function v(A,Q,B){var l=[],P=Q-A,F=A;for(var Y=0;Y<B.length-1;
++Y){l.push(F+B[Y]*P);F=l[Y]}return l}function g(A,Q,B,l){var P=new Float32Array(B.length),F=0,t={shape:Math.floor(l.random()*2.99),afY:l.random()*.1+.15};
for(var Y=0;Y<B.length-1;++Y){var b$=F+B[Y];P[Y]=((1-b$)*A+b$*Q)*U(l,b$,t);F=b$}return P}function d(A,Q,B,l){var P=V(l),F=l.random(),t=F*20+(1-F)*26,b$=new Float32Array(B.length),hd=0;
for(var Y=0;Y<B.length-1;++Y){var di=hd+B[Y];b$[Y]=(1-di)*A+di*Q+P/t*(2/3*Math.sin(Math.PI*di)+1/3*Math.sqrt(Math.sin(Math.PI*di)));
hd=di}return b$}function R(A,Q,B){var l=[];for(var Y=0;Y<Q.length-1;++Y){l.push(Q[Y].slice());var P=Y*(y(B)-1),F=(Y+1)*(y(B)-1),t=A[F]-A[P];
for(var b$=P+1;b$<F;++b$){var hd=H(B),di=new Float32Array(Q[0].length),hD=(A[b$]-A[P])/t;for(var a$=0;
a$<Q[0].length/2;++a$){di[2*a$]=(1-hD)*Q[Y][2*a$]+hD*Q[Y+1][2*a$];di[2*a$+1]=(1-hD)*Q[Y][2*a$+1]+hD*Q[Y+1][2*a$+1];
if(B.style==2){di[2*a$]+=G(2*a$/Q[0].length,hd,B)}}l.push(di)}}l.push(Q[Q.length-1]);return l}function c(A,Q,B){var l=new Array(Q.length),P=w(A),t=null;
for(var Y=0;Y<Q.length;++Y){l[Y]=S(P,(Q[Y]-.5)*B.KR,B)}var F=1+.05*B.a8z*V(B)/V({ZH:1});for(var Y=0;
Y<Q.length;++Y){if(Q[Y]==0){t=Y}}for(var Y=0;Y<Q.length;++Y){var b$=(B.random()-.5)*2,hd=Math.round(B.random()*9+1),di=new Float32Array(hd*2+2);
for(var hD=0;hD<=hd;++hD){di[2*hD]=l[Y][0]-(l[Y][2*hD]-l[Y][0]);di[2*hD+1]=l[Y][1]-(l[Y][2*hD+1]-l[Y][1])}if(Y==t){b$*=.1}for(var hD=(l[Y].length-1)/2;
hD>hd;--hD){l[Y][2*hD]=(1-b$)*l[Y][2*hD]+b$*(l[Y][2*(hD-hd)]+F*(l[Y][2*hD]-l[Y][2*(hD-hd)]));l[Y][2*hD+1]=(1-b$)*l[Y][2*hD+1]+b$*(l[Y][2*(hD-hd)+1]+F*(l[Y][2*hD+1]-l[Y][2*(hD-hd)+1]))}for(var hD=hd-1;
hD>=0;--hD){l[Y][2*hD]=(1-b$)*l[Y][2*hD]+b$*(di[2*(hd-hD)]+F*(l[Y][2*hD]-di[2*(hd-hD)]));l[Y][2*hD+1]=(1-b$)*l[Y][2*hD+1]+b$*(di[2*(hd-hD)+1]+F*(l[Y][2*hD+1]-di[2*(hd-hD)+1]))}}var a$=z(Q,B);
if(B.i8>0){var eJ=0;for(var Y=0;Y<Q.length;++Y){if(Y==0){eJ+=Q[Y]}else{eJ+=Math.abs(Q[Y]-Q[Y-1])}var hY=eJ-Math.floor(eJ),ik=1;
if(hY==0){ik=0}l[Y]=D(l[Y],{a5P:a$[Math.floor(eJ)],ay0:a$[Math.floor(eJ)+ik],a8u:hY},B)}}return l}function e(A,Q){var B=f(Q,A),l=h(Q,A),P=[],F=[],t=[],b$=o(A);
for(var Y=0;Y<Q.length-1;++Y){P.push(Q[Y]);F.push(B[Y]);t.push(l[Y]);var hd=v(Q[Y],Q[Y+1],b$),di=g(B[Y],B[Y+1],b$,A),hD=d(l[Y],l[Y+1],b$,A);
for(var a$=0;a$<hd.length;++a$){P.push(hd[a$]);F.push(di[a$]);t.push(hD[a$])}}P.push(Q[Q.length-1]);
F.push(B[B.length-1]);t.push(l[l.length-1]);return{atS:P,aw6:F,KI:t}}function O(A,Q,B,l){var P=new Float32Array(2*l),F=A.length/2,t=F-Q,b$=B*t,hd=b$/l;
for(var Y=0;Y<l;++Y){var di=Math.floor(Q+Y*hd),hD=Math.ceil(Q+Y*hd),B=Q+Y*hd,a$=hD-di,eJ=1,hY=0;if(a$!=0){eJ=(hD-B)/a$;
hY=(B-di)/a$}P[2*Y]=eJ*A[2*di]+hY*A[2*hD];P[2*Y+1]=eJ*A[2*di+1]+hY*A[2*hD+1]}return P}function U(A,Q,B){var l=B.afY,P=Q*2*Math.PI,F=P,t=0;
if(B.shape==0){t=(Math.sin(2*F+Math.PI/2)+1)/2}else if(B.shape==1){t=(Math.sin(F+Math.PI/2)+1)/2}else{t=(4*Math.sin(3/4*F+Math.PI)+Math.sin(Math.PI/2+2*F)-2*F/Math.PI+6)/7}return Math.min(1,1-l+l*t)}function K(A,Q,B,l){var P=[];
for(var Y=0;Y<A.length;++Y){P.push(O(A[Y],Q[Y],B[Y],l))}return P}function _(A,Q,B){var l=[];for(var Y=0;
Y<A.length;++Y){var P=s(2*Math.PI*B.random()),F=s(2*Math.PI*B.random()),t=B.Yu*.5*W({ZH:1})/W(B),b$=t*B.KR/200,hd=t*Q/500,di=new Float32Array(A[0].length);
for(var hD=0;hD<A[0].length/2;++hD){var a$=s(2*Math.PI*B.random()),eJ=2*hD/A[0].length;di[2*hD]=A[Y][2*hD]+b$*(a$[0]+((1-eJ)*P[0]+eJ*F[0]));
di[2*hD+1]=A[Y][2*hD+1]+hd*(a$[1]+((1-eJ)*P[1]+eJ*F[1]))}l.push(di)}return l}function Z(A,Q,B){var l=B.Pk,P=2/l,F=[1/10,1/30,1/40,1/45,1/100],t=F[B.ZH-1],b$=4*(B.opacity/25*P*t)*(1-B.Yu/150),a$=0,hY=0;
if(B.style==3){return b$*.09}var hd=2.2*(A-.5),di=hd*hd*hd*hd+.27+Math.max(0,(B.opacity-50)/15),hD=2*(Math.sin(3*Math.PI*Q)/(Math.PI*Q+2)+1.1)-Q/2;
Q=2*Q;if(Q<.41){var eJ=2*Math.PI*Q/.41;a$=(Math.sin(eJ-Math.PI/2)+1)/4+.5}else if(Q<.77){var eJ=2*Math.PI*(Q-.41)/.36;
a$=(Math.sin(eJ-Math.PI/2)+1)/4+.5-eJ/2/Math.PI*.5}else{var eJ=2*Math.PI*(Q-.77)/.23;a$=(Math.sin(eJ-Math.PI/2)+1)/2*.12}a$*=3;
a$+=Math.max(0,(B.opacity-50)/15);if(B.type==6){hY=hD}else{hY=a$}return b$*di*hY}function H(A){return{p:A.random()*7/2+.5,eW:A.random()*2*Math.PI}}function G(A,Q,B){return B.KR/300*y({ZH:1})/y(B)*10*(Math.sin(Q.p*2*Math.PI*A+Q.eW)+10*(B.random()-.5))}function N(A){var Q=Math.exp(-A.i8/25);
return{p:A.random()*3/2+.5,eW:A.random()*2*Math.PI,E5:(A.random()-.5)*10*Q}}function z(A,Q){var B=Math.ceil(b(A)),l=[];
for(var Y=0;Y<=B;++Y){l.push(N(Q))}return l}function L(A,Q){var B=Q.p*4*Math.PI*A+Q.eW;return Math.exp(-1/2*Math.PI*A)*Math.cos(B)*Math.cos(B)*Math.cos(B)*Math.cos(B)*Math.cos(B)+A*Q.E5-Q.E5/4}function p(A,Q,B,l,P){var F=0,t=W(Q)-1;
for(var Y=0;Y<t;++Y){for(var b$=0;b$<A.length-1;b$+=y(Q)-1){for(var hd=Y;hd<A[0].length/2-t;hd+=t){for(var di=b$;
di<b$+(y(Q)-1);++di){B[P+F]=Z(di*(Q.Pk-1)/(A.length-1)%1,hd/A[0].length,Q);var hD=0,a$=0;if(Q.type==6&&di!=0&&di!=A.length-1){a$=(A[di][2*(hd+1)+1]-A[di][2*hd+1])/2;
hD=(A[di][2*(hd+1)]-A[di][2*hd])/2}l[8*P+8*F]=A[di][2*hd]+hD;l[8*P+8*F+1]=A[di][2*hd+1]+a$;l[8*P+8*F+2]=A[di][2*(hd+t)]+hD;
l[8*P+8*F+3]=A[di][2*(hd+t)+1]+a$;l[8*P+8*F+4]=A[di+1][2*(hd+t)];l[8*P+8*F+5]=A[di+1][2*(hd+t)+1];l[8*P+8*F+6]=A[di+1][2*hd];
l[8*P+8*F+7]=A[di+1][2*hd+1];++F}}}}}function V(A){var Q=[100,300,500,700,1e3];return Q[A.ZH-1]}function r(A){var Q=[30,70,100,140,300];
return Q[A.ZH-1]}function y(A){var Q=[5,7,26,40,100];return Q[A.ZH-1]}function W(A){if(A.ZH==1){return 4}else if(A.ZH==2){return 8}else{return Math.floor(r(A)/9)}}function m(A){var Q=A.Pk,B=new Float32Array(Q),l=null;
for(var Y=0;Y<Q;++Y){B[Y]=A.random()}if(A.Pk<=3){B[0]=0;B[A.Pk-1]=1}else{for(var Y=0;Y<2;++Y){var P=Math.floor(A.random()*Q);
if(l==null||l!=P){B[P]=Y;l=P}else{B[P+1]=Y}}}return B}function f(A,Q){var B=[],l=.2,F=0;for(var Y=0;
Y<A.length;++Y){var P=Q.random()*(1-l)+l;B.push(P)}var t=Math.min(3,Q.Pk);for(var Y=0;Y<A.length;++Y){if(B[Y]>.9){++F}}while(F<t){var b$=Math.floor(Q.random()*A.length);
if(B[b$]<=.9){B[b$]=.9+.1*Q.random();++F}}return B}function h(A,Q){var B=V(Q),l=V({ZH:1}),P=[];for(var Y=0;
Y<A.length;++Y){P.push(Math.max(1,(Q.random()*10+2)*B/l))}return P}function b(A){var Q=0;for(var Y=0;
Y<A.length;++Y){if(Y==0){Q+=A[Y]}else{Q+=Math.abs(A[Y]-A[Y-1])}}return Q}function i(A,Q){if(A.length/2-1==V(Q)){return A}var B=new Float32Array(2*(V(Q)+1)),l=(A.length-2)/(B.length-2);
for(var Y=0;Y<B.length/2;++Y){var P=Y*l,F=Math.floor(P),t=Math.ceil(P),b$=t-F,hd=1,di=0;if(b$!=0){hd=(t-P)/b$;
di=(P-F)/b$}B[2*Y]=hd*A[2*F]+di*A[2*t];B[2*Y+1]=hd*A[2*F+1]+di*A[2*t+1]}return B}function w(A,Q){var B=A.length/2,l=T(A),P=l/B,F=!1,hd=0,di=0,hD=1;
if(Q){var t=Math.floor(l/Q.av3),b$=Q.av3;if(Q.aEP&&A[0]==A[A.length-2]&&A[1]==A[A.length-1]){F=!0;b$=l/(t+1)}if(Q.type==2&&!F&&b$*t+Q.length>l){B=t+1}else{B=t+2}P=b$}var a$=new Float32Array(B*2);
a$[0]=A[0];a$[1]=A[1];for(var Y=1;Y<B;++Y){while(hd<=Y*P){di=hd;hd+=a([A[2*hD],A[2*hD+1]],[A[2*(hD-1)],A[2*(hD-1)+1]]);
++hD}var eJ=1-(Y*P-di)/(hd-di);a$[2*Y]=(1-eJ)*A[2*hD]+eJ*A[2*(hD-1)];a$[2*Y+1]=(1-eJ)*A[2*hD+1]+eJ*A[2*(hD-1)+1]}a$[a$.length-2]=A[A.length-2];
a$[a$.length-1]=A[A.length-1];return a$}function J(A,Q){var B=w(A,Q),l=[];for(var Y=0;Y<(B.length-2)/2;
++Y){var P=[];P.push(B[2*Y]);P.push(B[2*Y+1]);var F=a([B[2*(Y+1)],B[2*(Y+1)+1]],[B[2*Y],B[2*Y+1]]),t=[(B[2*(Y+1)]-B[2*Y])/F,(B[2*(Y+1)+1]-B[2*Y+1])/F],b$=s((Q.azB-90)/360*2*Math.PI),hd=t;
if(Q.type==3){hd=b$}else if(Q.type==4){hd=s(C(t)+C(b$))}else if(Q.type==5){hd=s(((Q.random()-.5)*Q.azB-90)/360*2*Math.PI)}var di=Q.length;
if(Q.ase){di=2*Q.random()*Q.length}P.push(B[2*Y]+hd[0]*di);P.push(B[2*Y+1]+hd[1]*di);l.push(P)}return l}function q(A){if(A.asT){A.Xb=100*Math.random()}else{A.Xb=A.aaj}A.random=new k;
A.random(A.Xb);if(A.type==6){A.Pk=2;A.shape=5;A.a8z=0}}function x(A,Q){A=i(A,Q);var B=[A],di=0;if(Q.type>=2&&Q.type<6){B=J(A,Q)}var l=W(Q)-1,P=r(Q)-l,F=(Q.Pk-1)*(y(Q)-1),t=B.length*P*F,b$=new Float32Array(t),hd=new Float32Array(8*t);
for(var Y=0;Y<B.length;++Y){for(var hD=0;hD<1e4;++hD){Q.Xb=I(Q.Xb)}Q.random(Q.Xb);var A=i(B[Y],Q),a$=m(Q),eJ=b(a$),hY=c(A,a$,Q),ik=e(Q,a$),fw=R(ik.atS,hY,Q);
fw=K(fw,ik.KI,ik.aw6,r(Q));if(Q.Yu>0){fw=_(fw,T(B[Y]),Q)}p(fw,Q,b$,hd,di);di+=P*F}return[b$,hd]}var cK=function(A){var Q=performance.now(),B=A[0],l=A[1];
q(l);var P=[new Float32Array(0),new Float32Array(0)];for(var Y=0;Y<B.length;++Y){l.Xb=I(l.Xb);var F=x(B[Y],l),t=new Float32Array(P[0].length+F[0].length),b$=new Float32Array(P[1].length+F[1].length);
t.set(P[0]);t.set(F[0],P[0].length);P[0]=t;b$.set(P[1]);b$.set(F[1],P[1].length);P[1]=b$}var hd=performance.now();
if(l.aBD){console.ER("Geometry: "+String(hd-Q)+"ms")}return P};return cK}(),gc=function(){function I(s,C){var T=[],S=0,D=C.length,o=0,v=0,g=new eZ,d=0,R=1e9;
for(v=0;v<D;v++){var c=v*8,e=C[v];if(e<R)R=e;var O=s[c+0],U=s[c+1],K=s[c+2],_=s[c+3],Z=s[c+4],H=s[c+5],G=s[c+6],N=s[c+7],z=Math.min(O,K,Z,G),L=Math.max(O,K,Z,G),p=Math.min(U,_,H,N),V=Math.max(U,_,H,N),r=new eZ(z,p,L-z,V-p),y=r.oL(g),W=d+e;
if(v-o<10&&(v==o||y.c()*.8<r.c()+g.c())){g=y;d=W}else{T.push(v-o);o=v;g=r;d=e;R=e}}if(v!=o)T.push(v-o);
return T}function k(s,C,T,S,D,o){var v=document.createElement("canvas"),U=0,t=.8;v.width=C;v.height=T;
var g=v.getContext("2d"),d=D[0],R=D[1],c=new Float64Array(C*T),e=Date.now(),O=I(R,d);for(var K=0;K<O.length;
K++){var _=U,Z=U+O[K],N=1e9,L=1e9,f=0;U=Z;var H=_*8,G=Z*8,z=-N,p=-L;for(var V=H;V<G;V+=2){var r=R[V],y=R[V+1];
if(r<N)N=r;if(r>z)z=r;if(y<L)L=y;if(y>p)p=y}N=Math.floor(N);z=Math.ceil(z);L=Math.floor(L);p=Math.ceil(p);
var W=z-N,m=p-L;for(var h=_;h<Z;h++)f+=d[h];for(var V=H;V<G;V+=8){var b=d[V>>>3],i=R[V+0],w=R[V+1],J=R[V+2],q=R[V+3],x=R[V+4],A=R[V+5],Q=R[V+6],B=R[V+7];
g.fillStyle="rgba(0,0,0,"+b/f+")";g.beginPath();g.moveTo(i,w);g.lineTo(J,q);g.lineTo(x,A);g.lineTo(Q,B);
g.closePath();g.fill()}var l=g.getImageData(N,L,W,m).data;for(var y=0;y<m;y++)for(var r=0;r<W;r++){var Y=y*W+r,P=l[Y*4+3],F=(L+y)*C+N+r;
if(P!=0)c[F]+=P*f}g.clearRect(N,L,W,m)}var b$=o[1].color,hd=Math.pow(b$.$/255,t),di=Math.pow(b$.H/255,t),hD=Math.pow(b$.J/255,t),a$=new eZ(0,0,C,T),eJ=j.U(C*T*4);
for(var y=0;y<T;y++)for(var r=0;r<C;r++){var Y=y*C+r,h=Y*4,d=c[Y]*(1/255);eJ[h]=n(hd,d);eJ[h+1]=n(di,d);
eJ[h+2]=n(hD,d);eJ[h+3]=Math.min(255,d*255)}j.z.Pf("norm",eJ,a$,S,a$,a$,1)}var a=new Uint8Array(2e3);
for(var Y=0;Y<2e3;Y++)a[Y]=255*Math.min(1,Math.log(Y/700+1));function n(s,C){return a[Math.min(1500,~~(s*C*1e3))]}return k}(),j_=function(){var I=new Float32Array(3e3),k=new Float32Array(3e3),a=new Float32Array(256),n=new Float32Array(3e3);
function s(){var R=I.length;I[0]=Math.log10(157647e-9);for(var Y=1;Y<R;++Y)I[Y]=Math.log10(Y/R)}function C(){var R=k.length;
for(var Y=0;Y<R;++Y)k[Y]=Math.pow(10,20*(Y-R/2)/R)}function T(){var R=a.length;for(var Y=0;Y<R;++Y)a[Y]=j.M1(Y/255)}function S(){var R=n.length;
for(var Y=0;Y<R;++Y)n[Y]=255*j.lD(Y/(R-1))}function D(R,c){var e=R.length>>>2;for(var Y=0;Y<e;++Y){var O=a[R[4*Y]],U=a[R[4*Y+1]],K=a[R[4*Y+2]],_=.3811*O+.5783*U+.0402*K,Z=.1967*O+.7244*U+.0782*K,H=.0241*O+.1288*U+.8444*K;
_=I[~~(_*I.length)];Z=I[~~(Z*I.length)];H=I[~~(H*I.length)];c[3*Y]=(_+Z+H)*.5773502692;c[3*Y+1]=(_+Z-2*H)*.4082482905;
c[3*Y+2]=(_-Z)*.7071067812}}function o(R,c){var e=c.length>>>2,O=n.length-1;for(var Y=0;Y<e;++Y){var U=.5773502692*R[3*Y],K=.4082482905*R[3*Y+1],_=.7071067812*R[3*Y+2],Z=k[~~((U+K+_+10)*(3e3/20))],H=k[~~((U+K-_+10)*(3e3/20))],G=k[~~((U-2*K+10)*(3e3/20))],N=4.4679*Z-3.5873*H+.1193*G,z=-1.2186*Z+2.3809*H-.1624*G,L=.0497*Z-.2439*H+1.2045*G;
c[4*Y]=n[~~(O*Math.max(0,Math.min(1,N)))];c[4*Y+1]=n[~~(O*Math.max(0,Math.min(1,z)))];c[4*Y+2]=n[~~(O*Math.max(0,Math.min(1,L)))]}}function v(R){var c=0,e=0,O=0;
for(var Y=0;Y<R.length;Y+=3){c+=R[Y];e+=R[Y+1];O+=R[Y+2]}return[c/(R.length/3),e/(R.length/3),O/(R.length/3)]}function g(R,v){var c=0,e=0,O=0;
for(var Y=0;Y<R.length;Y+=3){var U=R[Y]-v[0],K=R[Y+1]-v[1],_=R[Y+2]-v[2];c+=U*U;e+=K*K;O+=_*_}return[Math.sqrt(c/(R.length/3)),Math.sqrt(e/(R.length/3)),Math.sqrt(O/(R.length/3))]}function d(R,c,e,O,U,K){s();
C();T();S();var _=0,w,J;if(K[0]>100)_=-(K[0]-100)/100*.13;else if(K[0]>=75)_=(100-K[0])/25*.04;else if(K[0]>=50)_=.04+(75-K[0])/25*.04;
else if(K[0]>=25)_=.08+(50-K[0])/25*.08;else _=.16+(25-K[0])/25*.24;var Z=(K[1]-100+100)/100,H=K[2]/100,G=K[3],N=new Float32Array(R.length*3/4),z=new Float32Array(O.length*3/4),L=Date.now();
D(R,N);D(O,z);var p=Date.now(),V=v(N),r=v(z),y=Date.now(),W=g(N,V),m=g(z,r),f=Date.now();r[0]*=Math.pow(10,_);
var h=[m[0]/W[0],m[1]/W[1],m[2]/W[2]],b=N.length,i=1/-1.1546978950500488;for(var Y=0;Y<b;Y+=3){if(G){var q=Math.max(0,Math.min(1,N[Y]*i));
q=1-Math.sqrt(q);w=q*r[1];J=q*r[2]}else{w=r[1];J=r[2]}N[Y]=(N[Y]-V[0])*h[0]+r[0];N[Y+1]=(N[Y+1]-V[1])*h[1]*Z+w;
N[Y+2]=(N[Y+2]-V[2])*h[2]*Z+J}var x=Date.now();o(N,U);var A=U.length>>>2;for(var Y=0;Y<A;++Y){U[4*Y]=(1-H)*U[4*Y]+H*R[4*Y];
U[4*Y+1]=(1-H)*U[4*Y+1]+H*R[4*Y+1];U[4*Y+2]=(1-H)*U[4*Y+2]+H*R[4*Y+2];U[4*Y+3]=255}}return d}(),c9=function(){function I(k,a,n,s,C){var T=[-1,-1,-1,-1],S=255,D=160,o,v=!1,g=new Array(4);
g[0]=new Array(a);g[1]=new Array(n);g[2]=new Array(a);g[3]=new Array(n);var d=new Array(2);d[0]=new Array(n);
d[1]=new Array(n);function R(m,f,h,b,i){this.start=b;this.axis=i;this.dir=m;this.end=-1;this.source=f;
this.c=h}function c(m,f,h,b,i){if(h%2==0){if(!g[h][m])g[h][m]=new Array;g[h][m].push(new R(h,b,i,f,m))}else{if(!g[h][f])g[h][f]=new Array;
g[h][f].push(new R(h,b,i,m,f))}var w=Date.now()}function e(Y){var m=!1,f=0;if(k[4*Y+3]<S)return m;var h=Y%a,b=Math.floor(Y/a);
O(h,b);if(Y+a<a*n&&k[4*(Y+a)+3]<S&&k[4*(Y-a)+3]>=S&&k[4*(Y-2*a)+3]>=S){var i=2;if(k[4*(Y+a)+3]<=D)f=-1;
if(k[4*(Y+2*a-1)+3]<S&&k[4*(Y+2*a+1)+3]<S)m=!0;else if(k[4*(Y+2*a-1)+3]>=S&&k[4*(Y+1)+3]>=S)m=!0;else if(k[4*(Y+2*a+1)+3]>=S&&k[4*(Y-1)+3]>=S)m=!0;
c(h,b,i,f,m)}else if(Y-a>=0&&k[4*(Y-a)+3]<S&&k[4*(Y+a)+3]>=S&&k[4*(Y+2*a)+3]>=S){var i=0;if(k[4*(Y-a)+3]<=D)f=-1;
if(k[4*(Y-2*a-1)+3]<S&&k[4*(Y-2*a+1)+3]<S)m=!0;else if(k[4*(Y-2*a-1)+3]>=S&&k[4*(Y+1)+3]>=S)m=!0;else if(k[4*(Y-2*a+1)+3]>=S&&k[4*(Y-1)+3]>=S)m=!0;
c(h,b,i,f,m)}f=0;if(Y+1<a*n&&k[4*(Y+1)+3]<S&&k[4*(Y-1)+3]>=S&&k[4*(Y-2)+3]>=S){var i=3;if(k[4*(Y+1)+3]<=D)f=-1;
if(!m&&k[4*(Y+a+2)+3]<S&&k[4*(Y-a+2)+3]<S){m=!0;c(h,b,i,f,!0)}else c(h,b,i,f,!1)}else if(Y>=1&&k[4*(Y-1)+3]<S&&k[4*(Y+1)+3]>=S&&k[4*(Y+2)+3]>=S){var i=1;
if(k[4*(Y-1)+3]<=D)f=-1;if(!m&&k[4*(Y+a-2)+3]<S&&k[4*(Y-a-2)+3]<S){m=!0;c(h,b,i,f,!0)}else c(h,b,i,f,!1)}return m}function O(Y,m){if(T[0]==-1){T[0]=Y;
T[1]=m;T[2]=1;T[3]=1}if(Y<T[0]){T[2]+=T[0]-Y;T[0]=Y}if(Y>T[0]+T[2])T[2]=Y-T[0];if(m<T[1]){T[3]+=T[1]-m;
T[1]=m}if(m>T[1]+T[3])T[3]=m-T[1]}function U(m,Y,f,h){if(!f.c)return;var b=(m+2)%4,i=f.start,w=T[1];
if(m==2)w+=T[3];else if(m==1)w=T[0];else if(m==3)w=T[0]+T[2];var J=f.source;if(g[b][Y])for(var q=0;q<g[b][Y].length;
++q){if(m>1){var x=i+Math.floor((g[b][Y][q].start-i)/2);if(g[b][Y][q].start>i&&x<w)w=x}else{var x=i-Math.floor((i-g[b][Y][q].start)/2);
if(g[b][Y][q].start<i&&x>w)w=x}}for(var A=1;A<Math.abs(w-i);++A){var q=i+A;if(m==1||m==0)q=i-A;for(var Q=0;
Q<2;++Q){var B=2*Q,l=!1;if(m%2==0)B+=1;if(g[B][q]){for(var P=0;P<g[B][q].length;++P){if(g[B][q][P].c){var F=g[B][q][P].start,t=Y-F,b$=q-i;
if(B==0||B==1)t=-t;if(t<=0)continue;if(m==0||m==1)b$=-b$;if(b$>t){w=q;l=!0;break}}}if(l)break}}}f.end=w;
Z(m,Y,i,w,J)}function K(m){for(var Y=0;Y<g[m].length;++Y){if(g[m][Y])for(var f=0;f<g[m][Y].length;++f){U(m,Y,g[m][Y][f])}}}function _(){var m=[2,0,3,1];
for(var Y=0;Y<m.length;++Y)K(m[Y])}function Z(m,Y,f,h,b){if(m==2)for(var i=f;i<=h;++i){if(!H(i*a+Y,(f+b)*a+Y))return!1}else if(m==0)for(var i=f;
i>=h;--i){if(!H(i*a+Y,(f-b)*a+Y))return!1}else if(m==1)for(var i=f;i>=h;--i){if(!H(Y*a+i,Y*a+f-b))return!1}else if(m==3)for(var i=f;
i<=h;++i){if(!H(Y*a+i,Y*a+f+b))return!1}}function H(m,f){if(!o[m]){s[4*m]=s[4*f];s[4*m+1]=s[4*f+1];s[4*m+2]=s[4*f+2];
if(v)s[4*m+3]=255;o[m]=!0;return!0}return!1}function G(){for(var Y=0;Y<4;Y+=1){for(var m=0;m<g[Y].length;
++m){if(g[Y][m])for(var f=0;f<g[Y][m].length;++f){var h=g[Y][m][f];for(var b=1;b<3;b+=2){var i=(Y+b)%4;
if(g[i][h.start])for(var w=0;w<g[i][h.start].length;++w){if(g[i][h.start][w].start==h.axis){var bQ=a*h.start+h.axis;
if(Y%2==1){bQ=h.start+a*h.axis;N(g[i][h.start][w])}else N(h)}}}}}}}function N(m){if(m.dir%2==0){var bQ=a*m.start+m.axis,f=m.start,h=1;
if(!o[bQ+1])h=3;else if(o[bQ-1])return;var b=s[4*bQ],i=s[4*bQ+1],w=s[4*bQ+2];while(s[4*bQ]==b&&s[4*bQ+1]==i&&s[4*bQ+2]==w){if(h==1){if(!d[0][f])d[0][f]=new Array;
d[0][f].push(new R(h,0,!1,m.axis,f))}else{if(!d[1][f])d[1][f]=new Array;d[1][f].push(new R(h,0,!1,m.axis,f))}if(m.dir==2){bQ+=a;
f++}else{bQ-=a;f--}}}}function z(){for(var m=0;m<2;++m){var f=(m+1)%2;for(var Y=0;Y<d[m].length;++Y){if(d[m][Y])for(var h=0;
h<d[m][Y].length;++h){var b=T[0];if(m==1)b+=T[2];var i=d[m][Y][h].start;if(d[f][Y])for(var w=0;w<d[f][Y].length;
++w){var J=d[f][Y][w].Yl;if(m==0){if(J>b&&J<i){b=i-Math.floor((i-J)/2)}}else{if(J<b&&J>i){b=i+Math.ceil((J-i)/2)}}}if(m==0)Z(d[m][Y][h].dir,Y,i-1,b,-1);
else Z(d[m][Y][h].dir,Y,i+1,b,-1)}}}for(var Y=0;Y<o.length;++Y){if(!o[Y]&&Y%a>=T[0]&&Y%a<=T[0]+T[2]&&Math.floor(Y/a)>=T[1]&&Math.floor(Y/a)<=T[1]+T[3]){var i=a;
if(Y<i||!o[Y-i])i=1;s[4*Y]=s[4*(Y-i)];s[4*Y+1]=s[4*(Y-i)+1];s[4*Y+2]=s[4*(Y-i)+2];o[Y]=!0;if(v)s[4*Y+3]=255}}}function L(){o=new Array(k.length/4);
for(var Y=0;Y<s.length/4;++Y){o[Y]=!1;s[4*Y]=k[4*Y];s[4*Y+1]=k[4*Y+1];s[4*Y+2]=k[4*Y+2];s[4*Y+3]=k[4*Y+3];
if(s[4*Y+3]==255)o[Y]=!0;if(e(Y))o[Y]=!1}if(T[0]>0){T[0]--;T[2]++}if(T[1]>0){T[1]--;T[3]++}if(T[0]+T[2]<a){T[2]++}if(T[1]+T[3]<n){T[3]++}}var p=Date.now();
L();var V=Date.now();_();var r=Date.now();G();var y=Date.now();z();var W=Date.now();console.log("Init: "+String(V-p));
console.log("Filling: "+String(r-V));console.log("Check areas: "+String(y-r));console.log("Fill areas: "+String(W-y))}return I}();
function by(){}by.ald=function(I){var k=[j.M1(I[0]),j.M1(I[1]),j.M1(I[2]),0];return j.LT.DW(j.LT.aAh,k)};
by.a3d=function(I){var k=j.LT.DW(j.LT.x0,I);return[j.lD(k[0]),j.lD(k[1]),j.lD(k[2])]};by.UX=function(I,k){var a={},n=5003,s=1667,C=25e3,T=57.4,S=16.1,D=1.8,o=0,v=1.54,g=.75,c=0;
if(k>0){I-=k/100*4}if(I<0){S=22.54;T=80.36;v=.756}if(k>0){D=1.3;g=.2}var d=Math.min(n+T*I,C),R=Math.max(n-S*I,s);
if(I<0){d=Math.max(n+S*I,s);R=Math.min(n-T*I,C)}if(I>0){if(I<=14){c=(I-1)/13*.075+.025}else if(I<=29){c=.1}else if(I<=60){c=.1-.1*(I-29)/(60-29)}else{var e=I-60;
o=-20*(e/40);c=-.3*(e/40)}}else{if(I<-60){var e=I+60;o=-20*(e/40)}}var O=Math.abs(I)/100*v+Math.abs(k)/100*g+c,U=-(k*D+o),K=eX.by(d,-U),_=eX.JD(K),Z=eX.by(R,0),H=eX.JD(Z),G=eX.a4R(_,H);
a.a8O=O;a.a9K=G;if(I==0&&k==0)a.aAd=!0;else a.aAd=!1;return a};by.ax1=function(I,k,a,n){if(n.aAd){return[I,k,a]}var s=this.ald([I,k,a]),C=s[0],T=s[1],S=s[2],D=T+1e-12,o=[C/D,T/D,S/D,0],v=j.LT.DW(n.a9K,o),g=0,d=.4;
v[0]*=D;v[1]*=D;v[2]*=D;if(D>d)g=1/(1-d)*(D-d);s[0]=(1-g)*v[0]+g*C;s[1]=(1-g)*v[1]+g*T;s[2]=(1-g)*v[2]+g*S;
return this.a3d(s)};j.ad3={QO:function(I,k){var Y=I.length;I.push(k);var a=Y>>>1;while(a!=0&&I[Y][0]<I[a][0]){var n=I[Y];
I[Y]=I[a];I[a]=n;Y=a;a=Y>>>1}},ik:function(I){if(I.length==2)return I.pop();var top=I[1],Y=1;I[1]=I.pop();
var k=I.length;while(!0){var a=Y<<1,n=a+1,s=Y;if(a<k&&I[a][0]<I[s][0])s=a;if(n<k&&I[n][0]<I[s][0])s=n;
if(s==Y)break;var C=I[Y];I[Y]=I[s];I[s]=C;Y=s}return top},amp:function(I){for(var Y=1;Y<I.length;Y++){var k=Y,a=1e9;
while(k!=0){var n=I[k][0];if(n>a){console.log(Y);throw"e"}a=n;k=k>>>1}}}};j.z={};j.z.hA=new Float64Array(256);
j.z.Mm=new Uint8Array(256*256);j.z.GV=new Uint8Array(256*256);(function(){for(var Y=0;Y<256;Y++)j.z.hA[Y]=255/Y;
for(var Y=0;Y<256;Y++)for(var I=0;I<256;I++)j.z.Mm[Y*256+I]=Y==0?0:Math.round(I*255/Y);for(var Y=0;Y<256;
Y++)for(var I=0;I<256;I++)j.z.GV[Y*256+I]=Math.round(Y*(255-I)/255)}());j.z.Pf=function(I,k,a,n,s,C,T,S){if(S==null)S=hB.LJ();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(I)==-1){T=T*S.fill;S.fill=1;S.style=!1}var D="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),o="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),v=j.z[I+"F"];
if(S.qV==null&&I=="norm")j.z.aAy(k,a,n,s,C,T,v,S.Vj?1:0);else if(I=="diss")j.z.aCu(k,a,n,s,C,T,v,S.Vj?1:0);
else if(D.indexOf(I)!=-1)j.z.a91(k,a,n,s,C,T,v,S);else if(o.indexOf(I)!=-1)j.z.acm(k,a,n,s,C,T,v,S)};
j.z.afr=function(I,k,a){var n=I*a+1-a;return n<.001?0:1-Math.min(1,(1-k)/n)};j.z.aA5=function(I,k,a){return I*a==1?1:Math.min(1,k/(1-I*a))};
j.z.hW=function(I){return I<=.25?((16*I-12)*I+4)*I:Math.sqrt(I)};j.z.normF=function(I,k,a){return I};
j.z.darkF=function(I,k,a){return Math.min(I,k)};j.z["mul F"]=function(I,k,a){return I*k};j.z.idivF=function(I,k,a){var n=I*a+1-a;
return k==1?1:1-k>=n?0:1-(1-k)/n};j.z.lbrnF=function(I,k,a){return Math.max(0,I*a+k-a)};j.z.dkClF=function(I,k,a){var n=j.BZ(I)<j.BZ(k)?I:k;
a.$=n.$;a.H=n.H;a.J=n.J;return a};j.z.liteF=function(I,k,a){return Math.max(I,k)};j.z.scrnF=function(I,k,a){return k+I-k*I};
j.z["div F"]=function(I,k,a){I*=a;return k==0?0:k>=1-I?1:k/(1-I)};j.z.lddgF=function(I,k,a){I*=a;return Math.min(1,I+k)};
j.z.lgClF=function(I,k,a){var n=j.BZ(I)>j.BZ(k)?I:k;a.$=n.$;a.H=n.H;a.J=n.J;return a};j.z.overF=function(I,k,a){return j.z.hLitF(k,I,a)};
j.z.sLitF=function(I,k,a){return I<=.5?k-(1-2*I)*k*(1-k):k+(2*I-1)*(j.z.hW(k)-k)};j.z.hLitF=function(I,k,a){return I<=.5?j.z["mul F"](2*I,k,a):j.z.scrnF(2*I-1,k,a)};
j.z.vLitF=function(I,k,a){return I<=.5?j.z.afr(2*I,k,a):j.z.aA5(2*I-1,k,a)};j.z.lLitF=function(I,k,a){return I<=.5?j.z.lbrnF(2*I,k,a):j.z.lddgF(2*I-1,k,a)};
j.z.pLitF=function(I,k,a){return I<=.5?j.z.darkF(2*I,k,a):j.z.liteF(2*I-1,k,a)};j.z.hMixF=function(I,k,a){if(a>.99)return I+k<1?0:1;
return Math.min(1,Math.max(0,(k+I*a-a)/(1-a+1e-6)))};j.z.diffF=function(I,k,a){I*=a;return Math.abs(I-k)};
j.z.smudF=function(I,k,a){return I+k-2*I*k};j.z.fsubF=function(I,k,a){return Math.max(k-I,0)};j.z.fdivF=function(I,k,a){return Math.min(k/I,1)};
j.z["hue F"]=function(I,k,a){j.z.Nj(I,j.KQ(k),a);j.z.qR(a,j.BZ(k),a)};j.z["sat F"]=function(I,k,a){j.z.Nj(k,j.KQ(I),a);
j.z.qR(a,j.BZ(k),a)};j.z.colrF=function(I,k,a){j.z.qR(I,j.BZ(k),a)};j.z["lum F"]=function(I,k,a){j.z.qR(k,j.BZ(I),a)};
j.z.qR=function(I,k,a){var n=k-j.BZ(I);a.$=I.$+n;a.H=I.H+n;a.J=I.J+n;j.z.akr(a)};j.z.akr=function(I){var k=I.$,a=I.H,n=I.J,s=j.RL(k,a,n),bQ=Math.min(k,a,n),C=Math.max(k,a,n);
if(bQ<0){var T=s/(s-bQ);k=s+(k-s)*T;a=s+(a-s)*T;n=s+(n-s)*T}if(C>1){var T=(1-s)/(C-s);k=s+(k-s)*T;a=s+(a-s)*T;
n=s+(n-s)*T}I.$=k;I.H=a;I.J=n};j.z.Nj=function(I,k,a){var n=j.z.azO,s=I.$,C=I.H,T=I.J;if(s==C&&C==T){a.$=a.H=a.J=0}else if(s>C){if(s>T){if(C>T){a.$=k;
a.H=n(s,C,T,k);a.J=0}else{a.$=k;a.J=n(s,T,C,k);a.H=0}}else{a.J=k;a.$=n(T,s,C,k);a.H=0}}else{if(s<T){if(C>T){a.H=k;
a.J=n(C,T,s,k);a.$=0}else{a.J=k;a.H=n(T,C,s,k);a.$=0}}else{a.H=k;a.$=n(C,s,T,k);a.J=0}}};j.z.azO=function(I,k,a,n){return(k-a)*n/(I-a)};
j.z.aAy=function(I,k,a,n,s,C,T,S){var D=k.LU(n).LU(s),o=Math.max(0,D.x-k.x),v=Math.max(0,D.x-n.x),g=Math.max(0,D.y-k.y),d=Math.max(0,D.y-n.y),R=D.Q,c=D._,e=k.Q,O=n.Q,U=j.z.Mm,K=j.z.GV,_=new Uint32Array(I.buffer),Z=new Uint32Array(a.buffer);
for(var Y=0;Y<c;Y++){var H=(g+Y)*e+o,G=(d+Y)*O+v;for(var N=0;N<R;N++){var z=_[H+N],h=1;if(z>>>24==0)continue;
if(z>>>24==255&&C==1&&S==0){Z[G+N]=_[H+N];continue}var L=Z[G+N],p=z&255,V=z>>>8&255,r=z>>>16&255,y=L&255,W=L>>>8&255,m=L>>>16&255,f=C,b=(L>>>24)*(1/255);
if(S==0){f=(z>>>24)*C*(1/255);h=b}var i=h*(1-f),w=f+i,J=1/w;Z[G+N]=~~(.5+(S*b+(1-S)*w)*255)<<24|~~(.5+(r*f+m*i)*J)<<16|~~(.5+(V*f+W*i)*J)<<8|~~(.5+(p*f+y*i)*J)}}};
j.z.a0T=function(I,k,a,n,s,C){var T=k.LU(n).LU(s),S=Math.max(0,T.x-k.x),D=Math.max(0,T.x-n.x),o=Math.max(0,T.y-k.y),v=Math.max(0,T.y-n.y),g=T.Q,d=T._,R=k.Q,c=n.Q,e=j.z.Mm,O=j.z.GV,U=new Uint32Array(I.buffer),K=new Uint32Array(a.buffer),_=Math.floor(Math.random()*16777215),Z=0;
for(var Y=0;Y<d;Y++){var H=(o+Y)*R+S,G=(v+Y)*c+D;for(var N=0;N<g;N++){var z=U[H+N];if(z>>>24==0)continue;
if(z>>24==255&&C==1){K[G+N]=z;continue}var L=K[G+N],p=(z>>>24)*C*(1/255),V=(L>>>24)*(1/255),r=V*(1-p),y=p+r,W=z&255,m=z>>>8&255,f=z>>>16&255,h=L&255,b=L>>>8&255,i=L>>>16&255;
Z>>>=8;if((N&3)==0)Z=j.z.n8(G+N+_);var w=y==0?0:1/y,J=Math.floor(y*(256*255))+(Z&255)>>>8,q=Math.floor((f*p+i*r)*w+.5),x=Math.floor((m*p+b*r)*w+.5),A=Math.floor((W*p+h*r)*w+.5);
K[G+N]=J<<24|q<<16|x<<8|A}}};j.z.l8=function(I,k,a,n,s,C,T,S){var D=j.RL(I,k,a),o=j.RL(n,s,C),v=Math.min,g=j.z.alq,d=g(D,S,0);
d=v(d,g(I,S,8));d=v(d,g(k,S,16));d=v(d,g(a,S,24));var R=g(o,S,4);R=v(R,g(n,S,12));R=v(R,g(s,S,20));R=v(R,g(C,S,28));
R=Math.max(R,1-T);var c=Math.min(d,R);return c<0?0:c>1?1:c};j.z.alq=function(I,k,Y){return Math.min((I-k[Y])*k[Y+1],(I-k[Y+3])*k[Y+2])};
j.z.a91=function(I,k,a,n,s,C,T,S){var D=1/255,o=D*C,v=S.Vj?1:0,g=S.fill,d=S.style,R=k.LU(n).LU(s),c=Math.max(0,R.x-k.x),e=Math.max(0,R.x-n.x),O=Math.max(0,R.y-k.y),U=Math.max(0,R.y-n.y),K=R.Q,_=R._,Z=k.Q,H=n.Q,G=new Uint32Array(I.buffer),N=new Uint32Array(a.buffer);
for(var Y=0;Y<_;Y++){var z=(O+Y)*Z+c,L=(U+Y)*H+e;for(var p=0;p<K;p++,z++,L++){var V=G[z],w=1;if(V>>>24==0)continue;
var r=N[L],y=(V&255)*D,W=(V>>>8&255)*D,m=(V>>>16&255)*D,f=(r&255)*D,h=(r>>>8&255)*D,b=(r>>>16&255)*D,i=C;
if(v==0){i=(V>>>24)*o;w=(r>>>24)*D}if(S.qV)i*=j.z.l8(y,W,m,f,h,b,w,S.qV);var J=w*(1-i),q=i+J,x=q==0?0:255/q,A=d?1:i,Q=((1-w)*i*y+(1-A)*w*f+A*w*T(y,f,(1+i-A)*g))*x,B=((1-w)*i*W+(1-A)*w*h+A*w*T(W,h,(1+i-A)*g))*x,l=((1-w)*i*m+(1-A)*w*b+A*w*T(m,b,(1+i-A)*g))*x;
q=i*g+w*(1-i*g);var P=~~(q*255+.5);N[L]=v*(r>>>24)+(1-v)*P<<24|l<<16|B<<8|Q}}};j.z.acm=function(I,k,a,n,s,C,T,S){var D=1/255,o=D*C,v=S.Vj?1:0,g=k.LU(n).LU(s),d=Math.max(0,g.x-k.x),R=Math.max(0,g.x-n.x),c=Math.max(0,g.y-k.y),e=Math.max(0,g.y-n.y),O=g.Q,U=g._,K=new Uint32Array(I.buffer),_=new Uint32Array(a.buffer),Z={$:0,H:0,J:0},H={$:0,H:0,J:0},G={$:0,H:0,J:0};
for(var Y=0;Y<U;Y++){var N=(c+Y)*k.Q+d,z=(e+Y)*n.Q+R;for(var L=0;L<O;L++,N++,z++){var p=K[N],V=_[z],r=(p&255)*D,y=(p>>>8&255)*D,W=(p>>>16&255)*D,m=(V&255)*D,f=(V>>>8&255)*D,h=(V>>>16&255)*D,b=C,i=1;
if(v==0){b=(p>>>24)*o;i=(V>>>24)*D}if(S.qV)b*=j.z.l8(r,y,W,m,f,h,i,S.qV);var w=i*(1-b),J=b+w,q=255/J;
Z.$=r;Z.H=y;Z.J=W;H.$=m;H.H=f;H.J=h;T(Z,H,G);var x=(((1-i)*r+i*G.$)*b+m*w)*q,A=(((1-i)*y+i*G.H)*b+f*w)*q,Q=(((1-i)*W+i*G.J)*b+h*w)*q,B=v*(V>>>24)+(1-v)*Math.round(J*255);
_[z]=B<<24|Q<<16|A<<8|x}}};j.z.dC=function(I){I=I^61^I>>>16;I=I+(I<<3);I=I^I>>>4;I=I*668265261;I=I^I>>15;
return(I&16777215)*(1/16777215)};j.z.n8=function(I){I=I^61^I>>>16;I=I+(I<<3);I=I^I>>>4;I=I*668265261;
I=I^I>>>15;return I};j.z.GS=function(I){this.uN=I};j.z.GS.prototype.get=function(){var I=this.uN=j.z.n8(this.uN);
return(I&16777215)*(1/16777215)};j.z.aCu=function(I,k,a,n,s,C,T,S){var D=1/255,o=D*C,v=Math.round(C*(256*256*256/255)),g=k.LU(n).LU(s),d=Math.max(0,g.x-k.x),R=Math.max(0,g.x-n.x),c=Math.max(0,g.y-k.y),e=Math.max(0,g.y-n.y),O=g.Q,U=g._,K=new Uint32Array(I.buffer),_=new Uint32Array(a.buffer);
for(var Y=0;Y<U;Y++){var Z=(c+Y)*k.Q+d,H=(e+Y)*n.Q+R;for(var G=0;G<O;G++,Z++,H++){var N=K[Z],z=_[H],L=S*255+(1-S)*(N>>>24);
if((j.z.n8(Z)&16777215)>=L*v)continue;_[H]=N&16777215|S*(z>>>24)+(1-S)*255<<24}}};j.z.avm=function(I,k,a){for(var Y=0;
Y<I.length;Y+=4){var n=a[Y>>>2];if(n==0)continue;var s=n*(1/255),C=1/s,T=k[Y],S=k[Y+1],D=k[Y+2],o=I[Y],v=I[Y+1],g=I[Y+2];
k[Y]=Math.min(255,Math.max(0,Math.round((T-(1-s)*o)*C)));k[Y+1]=Math.min(255,Math.max(0,Math.round((S-(1-s)*v)*C)));
k[Y+2]=Math.min(255,Math.max(0,Math.round((D-(1-s)*g)*C)));k[Y+3]=255}};j.z.Pw=function(I,k,a,n,s,C,T,S,D,o,v){if(o==null)o=!1;
if(v==null)v=[1,1,1];var g=255<<24|v[2]*16711680|v[1]*65280|v[0]*255,d=~g;if(s&&!k.a$(C)){var R=j.U(k.c()*4);
R.fill(T);j.O0(s,C,R,k);s=R;C=k}if(o){if(s==null)j.z.aua(I,k,a,n,s,S,D,g,d);else j.z.a7a(I,k,a,n,s,S,D)}else{if(s==null)j.z.atL(I,k,a,n,s,S,D,g,d);
else j.z.a7o(I,k,a,n,s,S,D)}};j.z.atL=function(I,k,a,n,s,C,T,S,D){var o=1/255,v=k.LU(n).LU(C),g=Math.max(0,v.x-k.x),d=Math.max(0,v.x-n.x),R=Math.max(0,v.y-k.y),c=Math.max(0,v.y-n.y),e=v.Q,O=v._,U=new Uint32Array(I.buffer),K=new Uint32Array(a.buffer),_=j.z.Mm,Z=T*255&255;
for(var Y=0;Y<O;Y++){var H=(R+Y)*k.Q+g,G=(c+Y)*n.Q+d;for(var N=0;N<e;N++,H++,G++){var z=U[H],L=K[G],p=z>>>24,V=L>>>24,r=j.u6(Z*p+(255-Z)*V),y=j.u6(p*Z),W=j.u6(V*(255-Z)),m=z&255,f=z>>>8&255,h=z>>>16&255,b=L&255,i=L>>>8&255,w=L>>>16&255,J=y*m+b*W,q=y*f+i*W,x=y*h+w*W;
J=_[r<<8|j.u6(J)];q=_[r<<8|j.u6(q)];x=_[r<<8|j.u6(x)];var A=r<<24|x<<16|q<<8|J;K[G]=D&L|S&A}}};j.z.aua=function(I,k,a,n,s,C,T,S,D){var o=1/255,v=k.LU(n).LU(C),g=Math.max(0,v.x-k.x),d=Math.max(0,v.x-n.x),R=Math.max(0,v.y-k.y),c=Math.max(0,v.y-n.y),e=v.Q,O=v._,U=new Uint32Array(I.buffer),K=new Uint32Array(a.buffer),_=j.z.Mm,Z=T*16777215&16777215;
for(var Y=0;Y<O;Y++){var H=(R+Y)*k.Q+g,G=(c+Y)*n.Q+d;for(var N=0;N<e;N++,H++,G++){if((j.z.n8(H)&16777215)<Z){K[G]=D&K[G]|S&U[H]}}}};
j.z.a7o=function(I,k,a,n,s,C,T){var S=1/255,D=k.LU(n).LU(C),o=Math.max(0,D.x-k.x),v=Math.max(0,D.x-n.x),g=Math.max(0,D.y-k.y),d=Math.max(0,D.y-n.y),R=D.Q,c=D._,e=new Uint32Array(I.buffer),O=new Uint32Array(a.buffer),U=j.z.Mm;
for(var Y=0;Y<c;Y++){var K=(g+Y)*k.Q+o,_=(d+Y)*n.Q+v;for(var Z=0;Z<R;Z++,K++,_++){var H=s[K]*T&255;if(H==0)continue;
if(H==255){O[_]=e[K];continue}var G=e[K],N=O[_],z=G>>>24,L=N>>>24,p=j.u6(H*z+(255-H)*L),V=j.u6(z*H),r=j.u6(L*(255-H)),y=G&255,W=G>>>8&255,m=G>>>16&255,f=N&255,h=N>>>8&255,b=N>>>16&255,i=U[p<<8|j.u6(V*y+f*r)],w=U[p<<8|j.u6(V*W+h*r)],J=U[p<<8|j.u6(V*m+b*r)];
O[_]=p<<24|J<<16|w<<8|i}}};j.z.a7a=function(I,k,a,n,s,C,T){var S=1/255,D=k.LU(n).LU(C),o=Math.max(0,D.x-k.x),v=Math.max(0,D.x-n.x),g=Math.max(0,D.y-k.y),d=Math.max(0,D.y-n.y),R=D.Q,c=D._,e=new Uint32Array(I.buffer),O=new Uint32Array(a.buffer),U=j.z.Mm,K=Math.round(T*257);
for(var Y=0;Y<c;Y++){var _=(g+Y)*k.Q+o,Z=(d+Y)*n.Q+v;for(var H=0;H<R;H++,_++,Z++){var G=s[_]*K;if((j.z.n8(_)&65535)<G)O[Z]=e[_]}}};
j.z.abt=function(I,k,a,n,s,C,T){var S=1/255,D=k.LU(n).LU(C),o=Math.max(0,D.x-k.x),v=Math.max(0,D.x-n.x),g=Math.max(0,D.y-k.y),d=Math.max(0,D.y-n.y),R=D.Q,c=D._,e=new Uint32Array(I.buffer),O=new Uint32Array(a.buffer),U=Math.floor(Math.random()*n.c()),K=j.z.aqM;
for(var Y=0;Y<c;Y++){var _=(g+Y)*k.Q+o,Z=(d+Y)*n.Q+v;for(var H=0;H<R;H++){var G=s[_+H]*T;if(G==0)continue;
if(G==255){O[Z+H]=e[_+H];continue}var N=e[_+H],z=O[Z+H],L=N>>>24,p=z>>>24,V=L*G*(1/255),r=p*(255-G)*(1/255),y=N&255,W=N>>>8&255,m=N>>>16&255,f=z&255,h=z>>>8&255,b=z>>>16&255,i=j.z.n8(Z+H+U),w=Math.floor((V+r)*256+.5)+(i>>>0&255)>>>8,J=w==0?0:256/(V+r),q=y*V+f*r,x=W*V+h*r,A=m*V+b*r,Q=Math.floor(q*J+.5)+(i>>>8&255)>>>8,B=Math.floor(x*J+.5)+(i>>>16&255)>>>8,l=Math.floor(A*J+.5)+(i>>>24&255)>>>8;
O[Z+H]=w<<24|l<<16|B<<8|Q}}};j.z.aqM=function(I){return Math.floor(I+Math.random())};j.z.X6=function(I,k,a,n,s,C,T){var S=1/255,D=k.LU(n).LU(C),o=Math.max(0,D.x-k.x),v=Math.max(0,D.x-n.x),g=Math.max(0,D.y-k.y),d=Math.max(0,D.y-n.y),R=D.Q,c=D._;
for(var Y=0;Y<c;Y++){var e=(g+Y)*k.Q+o,O=(d+Y)*n.Q+v;for(var U=0;U<R;U++,e++,O++){var K=T*s[e]*S;if(K==0)continue;
if(K==1){a[O]=I[e];continue}a[O]=I[e]*K+a[O]*(1-K)}}};j.aon=function(){function I(C){var T=C*.85;return Math.exp(-(T*T)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))}function k(C,T){var S=C<T?1:I((C-T)/Math.pow(1.001-T,.86));
return S}var a=[];function n(C){if(a[C])return a[C];var T=Math.pow(C,.55),S=new Float64Array(8e3),D=0,o=8e3;
for(var Y=0;Y<8e3;Y++){var v=k(Y*(1.55/4e3),T);if(v>=1)D=Y;else if(v<=0&&o==8e3)o=Y;S[Y]=v}var g=[S,D,o];
a[C]=g;return g}function s(C,T,S){if(C<4)T=1;var D=1+.55*(1-T),o=Math.round(S*C*D)+2,v=new eZ(0,0,o,o),g=j.U(o*o),d=[g,v],R=o/2,c=D/(R-1);
if(C==2)c*=2;if(C==3)c*=1.6;var e=Date.now(),O=n(T),U=Math.round(8e3/R),K=O[0],_=O[1]-U,Z=O[2]+U,H=Math.min(o,o+1>>>1),G=c*.4*(4e3/1.55),N=j.U(8e3);
for(var Y=0;Y<8e3;Y++){var z=Y,L=Y,p=~~Math.max(0,z-G-G),V=~~Math.max(0,z-G),r=~~Math.min(7999,z+G),y=~~Math.min(7999,z+G+G),W=~~(.5+255*(1/5)*(K[L]+K[p]+K[V]+K[r]+K[y]));
N[Y]=W;if(W==0)break}for(var Y=0;Y<H;Y++){var m=c*(Y-R+.5),f=m*m,h=Y*o,b=(o-1-Y)*o;for(var i=0;i<H;i++){var w=c*(i-R+.5),L=~~(Math.sqrt(w*w+f)*(4e3/1.55));
if(Z<L)continue;else if(L<_){var W=255;while(i<H){var J=o-1-i;g[h+i]=W;g[h+J]=W;g[b+i]=W;g[b+J]=W;i++}break}else{var W=N[L],J=o-1-i;
g[h+i]=W;g[h+J]=W;g[b+i]=W;g[b+J]=W}}}return d}return{a9V:s}}();j.kc={};j.kc.a86=function(I,k,a,n,s,C){j.kc.HK(I,k,a,n,s,C,null,0)};
j.kc.aBk=function(I,k,a,n,s){j.kc.HK(I,k,a,n,s,null,null,0)};j.kc.auF=function(I,k,a,n,s,C,T){j.kc.HK(I,k,a,n,s,null,C,T*.5)};
j.kc.HK=function(I,k,a,n,s,C,T,S){var D=0,r=0,y=1e9,W=0,m=1e9,f=0,h=1e9,b=0,i=0,w=0,J=0;if(C){D=s*.5;
s=3+Math.round((s-3)*.75)}if(T){s=Math.round(s*2.2)}var o=1/s,v=Math.floor(k*o)+1,g=Math.floor(a*o)+1,d=[],R=new Uint8Array(v*g*4),c=T?.5:1,e=C?64:0;
for(var O=0;O<g;O++){var U=T?.5*(O&1):0;for(var K=0;K<v;K++){var _=(K+Math.random()*c+U)*s,Z=(O+Math.random()*c)*s;
d.push(_,Z);var H=Math.min(k-1,Math.floor(_)),G=Math.min(a-1,Math.floor(Z)),N=(G*k+H)*4,z=(O*v+K)*4;
for(var Y=0;Y<4;Y++)R[z+Y]=Math.max(0,Math.min(255,Math.floor(I[N+Y]+(Math.random()-.5)*e)))}}var L=C?C:T?T:[0,0,0],p=v*g*2,V=[-v-1,-v,-v+1,-1,0,1,v-1,v,v+1];
for(var O=0;O<a;O++){w=0;for(var K=0;K<k;K++){var q=K+.5,x=O+.5,A=Math.floor(x*o),Q=Math.floor(q*o),B=A*v+Q,F=0,t=0;
if(w>1+S){y=j.kc.aqU(d,r,q,x);b=Math.sqrt(y);w--;J++}else{y=m=h=1e9;for(var Y=0;Y<V.length;Y++){var l=(B+V[Y])*2;
if(l<0||l>=p)continue;var P=j.kc.aqU(d,l,q,x);if(P<h){if(P<m){if(P<y){f=W;h=m;W=r;m=y;r=l;y=P}else{f=W;
h=m;W=l;m=P}}else{f=l;h=P}}}b=Math.sqrt(y);i=Math.sqrt(m);w=i-(b+i)*.5}if(T==null){var b$=(b+i)*.5,hd=C?Math.max(0,b$-D):0;
F=Math.max(0,Math.min(1,.5+b$-b-hd));t=Math.max(0,Math.min(1,1-(.5+b$-b)-hd))}else{var di=Math.min(j.kc.a80(d,r,W,q,x),j.kc.a80(d,r,f,q,x));
F=Math.max(0,Math.min(1,di-S*.5));if(q<S||k-S<q||x<S||a-S<x)F=0;t=0}var hD=1-t-F,z=O*k+K<<2,a$=r<<1,eJ=W<<1;
n[z+0]=Math.floor(.5+F*R[a$+0]+t*R[eJ+0]+hD*L[0]);n[z+1]=Math.floor(.5+F*R[a$+1]+t*R[eJ+1]+hD*L[1]);
n[z+2]=Math.floor(.5+F*R[a$+2]+t*R[eJ+2]+hD*L[2]);n[z+3]=I[z+3]}}};j.kc.aqU=function(I,k,a,n){var s=a-I[k],C=n-I[k+1];
return s*s+C*C};j.kc.a80=function(I,k,a,n,s){var C=I[k],T=I[k+1],S=I[a],D=I[a+1],o=(C+S)*.5,v=(T+D)*.5,g=o+(D-T),d=v-(S-C),R=d-v,c=g-o;
return Math.abs(R*n-c*s+g*v-d*o)/Math.sqrt(c*c+R*R)};j.ox={};j.ox.xk=function(I){if(j.ox.ML.length<I)j.ox.ML=j.U(I);
return j.ox.ML};j.ox.ML=j.U(0);j.ox.a1p=function(I){if(j.ox.sZ.length<I)j.ox.sZ=new Float32Array(I);
return j.ox.sZ};j.ox.sZ=new Float32Array(0);j.ox.Xh=function(I,k,a,n){var s=a.Q,C=a._;j.ox.azj(I,k,s,C,n)};
j.ox.IT=function(I,k,a,n){var s=a.Q,C=a._;j.ox.al5(I,k,s,C,n)};j.ox.PB=function(I,k,a){var n=k.Q,s=k._;
j.ox.aEJ(I,n,s,a)};j.ox.ZP=function(I,k,a,n){var s=k.Q,C=k._;j.ox.a1V(I,s,C,a,n)};j.ox.aF0=function(I,k,a,n){var s=a.Q,C=a._;
n=Math.round(n);var T=j.ox.xk(s*C);j.ed(I,k);j.ox.Oj(k,T,s,C,n)};j.ox.Dl=function(I,k,a){var n=k.Q,s=k._;
a=Math.round(a);var C=j.ox.xk(n*s*4);j.ox.pD(I,C,n,s,a)};j.ox.awC=function(I,k,a){var n=k.Q,s=k._;a=Math.round(a);
j.ox.aB8(I,j.ox.a1p(n*s),n,s,a)};j.ox.a63=function(I,k,a){var n=k.Q,s=k._;a=Math.round(a);var C=j.ox.xk(n*s*4);
j.ox.a1v(I,C,n,s,a);j.ed(C,I)};j.ox.x_=function(I,bQ){var k=Math.sqrt(12*I*I/bQ+1),a=Math.floor(k);if(a%2==0)a--;
var n=a+2,s=(12*I*I-bQ*a*a-4*bQ*a-3*bQ)/(-4*a-4),C=Math.round(s),T=[];for(var Y=0;Y<bQ;Y++)T.push(Y<C?a:n);
return T};j.ox.azj=function(I,k,a,n,s){var C=j.ox.x_(s,3),T=j.ox.xk(a*n);j.ed(I,k);j.ox.Oj(k,T,a,n,C[0]-1>>1);
j.ox.Oj(k,T,a,n,C[1]-1>>1);j.ox.Oj(k,T,a,n,C[2]-1>>1)};j.ox.al5=function(I,k,a,n,s){var C=j.ox.x_(s,2),T=j.ox.xk(a*n);
j.ed(I,k);j.ox.Oj(k,T,a,n,C[0]-1>>1);j.ox.Oj(k,T,a,n,C[1]-1>>1)};j.ox.aEJ=function(I,k,a,n){var s=j.ox.x_(n,3),C=j.ox.xk(k*a*4);
j.ox.pD(I,C,k,a,s[0]-1>>1);j.ox.pD(I,C,k,a,s[1]-1>>1);j.ox.pD(I,C,k,a,s[2]-1>>1)};j.ox.a1V=function(I,k,a,n,s){if(s==null)s=3;
var C=j.ox.x_(n,s),T=j.ox.a1p(k*a);for(var Y=0;Y<s;Y++)j.ox.aB8(I,T,k,a,(C[Y]-1)/2)};j.ox.Oj=function(I,k,a,n,s){j.ox.akJ(I,k,a,n,s);
j.ox.aDA(k,I,a,n,s)};j.ox.pD=function(I,k,a,n,s){j.ox.a1v(I,k,a,n,s);j.ox.an5(k,I,a,n,s)};j.ox.aB8=function(I,k,a,n,s){j.ox.aA2(I,k,a,n,s);
j.ox.aDm(k,I,a,n,s)};j.ox.Wy=[];j.ox.jh=function(I){if(j.ox.Wy[I])return j.ox.Wy[I];var k=1/(I+I+1),a=(I+I+1)*256,n=j.U(a);
for(var Y=0;Y<a;Y++)n[Y]=Math.round(Y*k);j.ox.Wy[I]=n;return n};j.ox.akJ=function(I,k,a,n,s){var C=1/(s+s+1),T=a-s-s-1,S=j.ox.jh(s);
for(var Y=0;Y<n;Y++){var D=Y*a,o=D,v=D+s,g=I[D],d=I[D+a-1],R=(s+1)*g;for(var c=0;c<s;c++)R+=I[D+c];for(var c=0;
c<=s;c++){R+=I[v+c]-g;k[D+c]=S[R]}v+=s+1;D+=s+1;for(var c=0;c<T;c++){R+=I[v+c]-I[o+c];k[D+c]=S[R]}v+=T;
o+=T;D+=T;for(var c=a-s;c<a;c++){R+=d-I[o++];k[D++]=S[R]}}};j.ox.a1v=function(I,k,a,n,s){var C=a<<2,T=s<<2,S=1/(s+s+1),D=a-s-s-1,o=D<<2,v=j.ox.jh(s);
for(var Y=0;Y<n;Y++){var g=Y*C,d=g,R=g+T,c=g+C,e=I[g],O=I[g+1],U=I[g+2],K=I[g+3],_=(s+1)*e,Z=(s+1)*O,H=(s+1)*U,G=(s+1)*K;
for(var N=0;N<T;N+=4){_+=I[g+N];Z+=I[g+N+1];H+=I[g+N+2];G+=I[g+N+3]}for(var N=0;N<=T;N+=4){_+=I[R]-e;
k[g]=v[_];Z+=I[R+1]-O;k[g+1]=v[Z];H+=I[R+2]-U;k[g+2]=v[H];G+=I[R+3]-K;k[g+3]=v[G];R+=4;g+=4}for(var N=0;
N<o;N+=4){_+=I[R+N]-I[d+N];k[g+N]=v[_];Z+=I[R+N+1]-I[d+N+1];k[g+N+1]=v[Z];H+=I[R+N+2]-I[d+N+2];k[g+N+2]=v[H];
G+=I[R+N+3]-I[d+N+3];k[g+N+3]=v[G]}R+=o;d+=o;g+=o;e=I[c-4];O=I[c-3];U=I[c-2];K=I[c-1];for(var N=a-s;
N<a;N++){_+=e-I[d];k[g]=v[_];Z+=O-I[d+1];k[g+1]=v[Z];H+=U-I[d+2];k[g+2]=v[H];G+=K-I[d+3];k[g+3]=v[G];
d+=4;g+=4}}};j.ox.aA2=function(I,k,a,n,s){var C=1/(s+s+1),T=a-s-s-1;for(var Y=0;Y<n;Y++){var S=Y*a,D=S,o=S+s,v=I[S],g=I[S+a-1],d=(s+1)*v;
for(var R=0;R<s;R++)d+=I[S+R];for(var R=0;R<=s;R++){d+=I[o+R]-v;k[S+R]=d*C}o+=s+1;S+=s+1;for(var R=0;
R<T;R++){d+=I[o+R]-I[D+R];k[S+R]=d*C}o+=T;D+=T;S+=T;for(var R=a-s;R<a;R++){d+=g-I[D++];k[S++]=d*C}}};
j.ox.aDA=function(I,k,a,n,s){var C=1/(s+s+1),T=n-s-s-1,S=j.ox.jh(s);for(var Y=0;Y<a;Y++){var D=Y,o=D,v=D+s*a,g=I[D],d=I[D+a*(n-1)],R=(s+1)*g;
for(var c=0;c<s;c++)R+=I[D+c*a];for(var c=0;c<=s;c++){R+=I[v]-g;k[D]=S[R];v+=a;D+=a}for(var c=0;c<T;
c++){var e=c*a;R+=I[v+e]-I[o+e];k[D+e]=S[R]}o+=T*a;v+=T*a;D+=T*a;for(var c=n-s;c<n;c++){R+=d-I[o];k[D]=S[R];
o+=a;D+=a}}};j.ox.an5=function(I,k,a,n,s){var C=a<<2,T=s<<2,S=1/(s+s+1),D=n-s-s-1,o=D<<2,v=j.ox.jh(s);
for(var Y=0;Y<a;Y++){var g=Y<<2,d=g,R=g+s*C,c=g+C*(n-1),e=I[g],O=I[g+1],U=I[g+2],K=I[g+3],_=(s+1)*e,Z=(s+1)*O,H=(s+1)*U,G=(s+1)*K;
for(var N=0;N<s;N++){var z=g+N*C;_+=I[z];Z+=I[z+1];H+=I[z+2];G+=I[z+3]}for(var N=0;N<=s;N++){_+=I[R]-e;
k[g]=v[_];Z+=I[R+1]-O;k[g+1]=v[Z];H+=I[R+2]-U;k[g+2]=v[H];G+=I[R+3]-K;k[g+3]=v[G];R+=C;g+=C}for(var N=0;
N<D;N++){var L=N*C;_+=I[R+L]-I[d+L];k[g+L]=v[_];Z+=I[R+L+1]-I[d+L+1];k[g+L+1]=v[Z];H+=I[R+L+2]-I[d+L+2];
k[g+L+2]=v[H];G+=I[R+L+3]-I[d+L+3];k[g+L+3]=v[G]}d+=D*C;R+=D*C;g+=D*C;e=I[c];O=I[c+1];U=I[c+2];K=I[c+3];
for(var N=n-s;N<n;N++){_+=e-I[d];k[g]=v[_];Z+=O-I[d+1];k[g+1]=v[Z];H+=U-I[d+2];k[g+2]=v[H];G+=K-I[d+3];
k[g+3]=v[G];d+=C;g+=C}}};j.ox.aDm=function(I,k,a,n,s){var C=1/(s+s+1),T=n-s-s-1;for(var Y=0;Y<a;Y++){var S=Y,D=S,o=S+s*a,v=I[S],g=I[S+a*(n-1)],d=(s+1)*v;
for(var R=0;R<s;R++)d+=I[S+R*a];for(var R=0;R<=s;R++){d+=I[o]-v;k[S]=d*C;o+=a;S+=a}for(var R=0;R<T;R++){var c=R*a;
d+=I[o+c]-I[D+c];k[S+c]=d*C}D+=T*a;o+=T*a;S+=T*a;for(var R=n-s;R<n;R++){d+=g-I[D];k[S]=d*C;D+=a;S+=a}}};
j.QT={};j.QT.U=function(I,k,a,n){var s=[];for(var C=0;C<4;C++)for(var T=0;T<4;T++)s.push(I+a*T/3,k+n*C/3);
return s};j.QT.a02=function(I,k){var a=I.slice(0);for(var Y=0;Y<4;Y++)for(var n=0;n<4;n++){var s=2*(Y*4+n),C=2*(n*4+(3-Y));
if(k){var T=s;s=C;C=T}a[C]=I[s];a[C+1]=I[s+1]}return a};j.QT.o$=j.U(0);j.QT.drawImage=function(I,k,a,n,s,C,T){var S=!1,D=Date.now(),o=2,v=a+2*o,g=n+2*o,d=new eZ(o,o,a,n),R=d.clone();
R.CJ(o,o);var c=j.QT.o$;if(c.length!=R.c()*4)c=j.QT.o$=j.U(R.c()*4);else c.fill(0);j.ao(k,d,c,R);if(S)console.log(Date.now()-D,"copy rect");
D=Date.now();j.A7(c);if(S)console.log(Date.now()-D,"multiply alpha");D=Date.now();var e=Math.max(a,n),O=Math.round(50*a/e),U=Math.round(Math.sqrt(3)*.5*50*n/e),K=O-.5,_=[],Z=[],H=[];
for(var G=0;G<U+1;G++){var N=(G&1)==0;for(var z=0;z<O+1;z++){var L=(z-(N?.5:0))/K,p=G/U;if(z==0)L=0;
if(z==O)L=1;_.push(v*L,g*p);if(z<O&&G<U){var V=G*(O+1)+z,r=V+1,y=V+O+1,W=y+1;if(N)Z.push(V,r,y,y,r,W);
else Z.push(V,r,W,V,W,y)}var m=j.QT.a7p(I,L,p);H.push(-m)}}var f=_.slice(0);j.QT.h(I,f,d);j.X.h(f,new dc(1,0,0,1,-C.x,-C.y),f);
if(S)console.log(Date.now()-D,"mesh built");D=Date.now();var h=C.Q,b=C._;j.IQ.Pz(c,v,g,s,h,b,_,f,H,Z,T);
if(S)console.log(Date.now()-D,"rendered");D=Date.now();j.tZ(s);if(S)console.log(Date.now()-D,"divided");
D=Date.now()};j.QT.xM=new Array(10);j.QT.J4=function(I,k){var a=200,n=0,s=0,C=1e9,T=j.QT.xM;for(var S=0;
S<a+1;S++)for(var D=0;D<a+1;D++){var o=D/a,v=S/a;j.QT.a1D(I,o,v,T);var g=T[8]-k.x,d=T[9]-k.y,R=g*g+d*d;
if(R<C){C=R;n=o;s=v}}return[n,s]};j.QT.h=function(I,k,a){var n=a.x,s=a.y,C=1/a.Q,T=1/a._,S=j.QT.xM;for(var D=0;
D<k.length;D+=2){var o=(k[D]-n)*C,v=(k[D+1]-s)*T;j.QT.a1D(I,o,v,S);k[D]=S[8];k[D+1]=S[9]}};j.QT.a7p=function(I,k,a){var n,s,C,T,S=j.QT.xM;
j.QT.aqg(I,k,a,S);n=S[8];s=S[9];j.QT.at2(I,k,a,S);C=S[8];T=S[9];return n*T-s*C};j.QT.XL=function(I,k,a){var n=0,s=0,C=I[2][0],T=I[2][1];
while(n+2<C.length&&C[n+1]<k)n++;k=(k-C[n])/(C[n+1]-C[n]);while(s+2<T.length&&T[s+1]<a)s++;a=(a-T[s])/(T[s+1]-T[s]);
return[n*3,s*3,k,a]};j.QT.a1D=function(I,k,a,n){var s=j.QT.XL(I,k,a);j.QT.ni(n,0,s[3]);j.QT.ni(n,4,s[2]);
j.QT.Eb(I[3],s[0],s[1],I[0],n)};j.QT.aqg=function(I,k,a,n){var s=j.QT.XL(I,k,a);j.QT.ni(n,0,s[3]);j.QT.ait(n,4,s[2]);
j.QT.Eb(I[3],s[0],s[1],I[0],n)};j.QT.at2=function(I,k,a,n){var s=j.QT.XL(I,k,a);j.QT.ait(n,0,s[3]);j.QT.ni(n,4,s[2]);
j.QT.Eb(I[3],s[0],s[1],I[0],n)};j.QT.ait=function(I,Y,k){var a=1-k;I[Y]=-3*(a*a);I[Y+1]=3*(a*a)-6*(k*a);
I[Y+2]=6*(k*a)-3*(k*k);I[Y+3]=3*(k*k)};j.QT.ni=function(I,Y,k){var a=1-k;I[Y]=a*(a*a);I[Y+1]=3*k*(a*a);
I[Y+2]=3*(k*k)*a;I[Y+3]=k*k*k};j.QT.ak6=function(I,k,a,n,s){var C=j.QT.XL(I,k,a),T=C[0],S=C[1],D=C[2],o=C[3],v=I[0],g=Math.floor(D*3),d=Math.floor(o*3),R=j.QT.xM,c=16,N=0;
j.QT.ni(R,0,o);j.QT.ni(R,4,D);var e=[],O=[],U=[];for(var K=0;K<4;K++){for(var _=0;_<4;_++){var Y=K*4+_,Z=R[K]*R[4+_];
e.push(Z);O.push((S+K)*v+T+_);if((K==d||K==d+1)&&(_==g||_==g+1)){var H=D*3-g;if(_==g)H=1-H;var G=o*3-d;
if(K==d)G=1-G;U[Y]=H*G/Z}else U[Y]=0}}for(var Y=0;Y<c;Y++)N+=e[Y]*U[Y];for(var Y=0;Y<c;Y++)U[Y]/=N;for(var Y=0;
Y<c;Y++){var Z=e[Y],z=O[Y];I[3][z*2]+=U[Y]*n;I[3][z*2+1]+=U[Y]*s}};j.QT.wZ=function(I){var k=I[0],a=I[1],n=I[2],s=I[3],C=s.slice(0);
for(var T=0;T<a;T++)for(var S=0;S<k;S++){s[(S*a+T)*2]=C[(T*k+S)*2];s[(S*a+T)*2+1]=C[(T*k+S)*2+1]}I[0]=a;
I[1]=k;I[2]=[n[1],n[0]]};j.QT.split=function(I,k,a){if(k==1)j.QT.wZ(I);var n=I[0],s=I[1],C=I[2][0],T=I[3],S=0;
while(C[S+1]&&C[S+1]<a)S++;var D=(a-C[S])/(C[S+1]-C[S]),o=1-D;for(var v=0;v<s;v++){var Y=(v*(n+3)+S*3)*2,g=o*T[Y]+D*T[Y+2],d=o*T[Y+1]+D*T[Y+3],R=o*T[Y+2]+D*T[Y+4],c=o*T[Y+3]+D*T[Y+5],e=o*T[Y+4]+D*T[Y+6],O=o*T[Y+5]+D*T[Y+7],U=o*g+D*R,K=o*d+D*c,_=o*R+D*e,Z=o*c+D*O,H=o*U+D*_,G=o*K+D*Z;
T.splice(Y+2,4,g,d,U,K,H,G,_,Z,e,O)}C.push(a);C.sort();I[0]+=3;if(k==1)j.QT.wZ(I)};j.QT.Eb=function(I,k,a,n,s){var C=0,T=0,S=0,D=s[0],o=s[1],v=s[2],g=s[3],d=s[4],R=s[5],c=s[6],e=s[7],Y=(a*n+k)*2;
S=D*d;C+=I[Y+0]*S;T+=I[Y+1]*S;S=D*R;C+=I[Y+2]*S;T+=I[Y+3]*S;S=D*c;C+=I[Y+4]*S;T+=I[Y+5]*S;S=D*e;C+=I[Y+6]*S;
T+=I[Y+7]*S;Y+=n+n;S=o*d;C+=I[Y+0]*S;T+=I[Y+1]*S;S=o*R;C+=I[Y+2]*S;T+=I[Y+3]*S;S=o*c;C+=I[Y+4]*S;T+=I[Y+5]*S;
S=o*e;C+=I[Y+6]*S;T+=I[Y+7]*S;Y+=n+n;S=v*d;C+=I[Y+0]*S;T+=I[Y+1]*S;S=v*R;C+=I[Y+2]*S;T+=I[Y+3]*S;S=v*c;
C+=I[Y+4]*S;T+=I[Y+5]*S;S=v*e;C+=I[Y+6]*S;T+=I[Y+7]*S;Y+=n+n;S=g*d;C+=I[Y+0]*S;T+=I[Y+1]*S;S=g*R;C+=I[Y+2]*S;
T+=I[Y+3]*S;S=g*c;C+=I[Y+4]*S;T+=I[Y+5]*S;S=g*e;C+=I[Y+6]*S;T+=I[Y+7]*S;Y+=n+n;s[8]=C;s[9]=T};j.tm={};
j.tm.aEo=function(I,k,a){var n=Date.now(),s=new ArrayBuffer(k*a*16),C=j.tm.a5d(I,k,a,s),T=j.tm.asE(k,a,s);
return{kO:T,El:C}};j.tm.a03=function(I,k,a){var n=Math.round(I.length/8),s=new Uint32Array(n),C=new Uint8Array(n),T=new Uint32Array(n);
j.IP(s,4294967295,0);s[a]=0;var S=new iO(n);S.push(a,s[a]);var D={kO:I,El:k,Az:s,mq:C,FU:T,eI:S,a8p:a};
return D};j.tm.Rh=function(I,k){var a=I.kO,n=I.El,s=I.Az,C=I.mq,T=I.FU,S=I.eI;while(!S.KH()&&(k==null||C[k]==0)){var D=S.pop();
C[D]=1;for(var Y=0;Y<8;Y++){var o=a[8*D+Y],v=D+o;if(o==0||C[v])continue;var g=s[D]+n[8*D+Y];if(S.contains(v)&&g<s[v])S.remove(v,s[v]);
if(!S.contains(v)){s[v]=g;T[v]=D;S.push(v,s[v])}}}};function iO(I){this.PA=new Uint32Array(I);this.list=[];
this.gE=0;this.gC=4294967295}iO.prototype.KH=function(){return this.gE==0};iO.prototype.push=function(I,k){var n=this.list;
if(n[k]==null)n[k]=[];n[k].push(I);this.gE++;this.PA[I]=n[k].length-1+1;this.gC=Math.min(this.gC,k)};
iO.prototype.pop=function(){this.gE--;var I=this.list,k=this.gC,n=I[k].pop();if(I[k].length==0)I[k]=null;
this.aaa();this.PA[n]=0;return n};iO.prototype.contains=function(I){return this.PA[I]!=0};iO.prototype.remove=function(I,k){this.gE--;
var n=this.list,Y=this.PA[I]-1;if(Y==n[k].length-1)n[k].pop();else{var s=n[k].pop();n[k][Y]=s;this.PA[s]=Y+1}if(n[k].length==0)n[k]=null;
this.PA[I]=0;this.aaa()};iO.prototype.aaa=function(){if(this.gE==0){this.gC=4294967295;return}var I=this.gC,k=this.list;
while(k[I]==null)I++;this.gC=I};j.tm.a0A=function(I,k,a,n){var s=new Int16Array(n);for(var C=0;C<a;C++)for(var T=0;
T<k;T++){var Y=C*k+T,S=0;if(1<T&&T<k-2&&1<C&&C<a-2){S+=I[Y-k-k];S+=I[Y-k-1]+2*I[Y-k]+I[Y-k+1];S+=I[Y-2]+2*I[Y-1]-16*I[Y]+2*I[Y+1]+I[Y+2];
S+=I[Y+k-1]+2*I[Y+k]+I[Y+k+1];S+=I[Y+k+k]}else S=-16*I[Y];s[Y]=S}return s};j.tm.a1W=function(I,k,a,n){if(n==null)n=128;
var s=new Uint8Array(k*a);for(var C=1;C<a-1;C++)for(var T=1;T<k-1;T++){var Y=C*k+T;s[Y]=j.tm.a3L(I[Y],I[Y-1],I[Y+1],I[Y-k],I[Y+k],n)}return s};
j.tm.a3L=function(I,k,a,n,s,C){var T=Math.abs(I);return I*k<0&&T<Math.abs(k)&&Math.abs(k-I)>C||I*a<0&&T<Math.abs(a)&&Math.abs(a-I)>C||I*n<0&&T<Math.abs(n)&&Math.abs(n-I)>C||I*s<0&&T<Math.abs(s)&&Math.abs(s-I)>C?1:0};
j.tm.ab9=function(I,k,a,n){var s=new Float32Array(n),C=0;new Uint32Array(n).fill(0);for(var T=0;T<a;
T++)for(var S=0;S<k;S++){var D=0,o=0,Y=T*k+S,v=Y*3;if(0<S&&S<k-1)D=I[Y+1]-I[Y-1];if(0<T&&T<a-1)o=I[Y+k]-I[Y-k];
var g=s[v+2]=Math.sqrt(D*D+o*o);if(g!=0){var d=1/g;s[v]=D*d;s[v+1]=o*d}if(g>C)C=g}var R=k*a,c=C==0?0:1/C;
for(var Y=0;Y<R;Y++)s[Y*3+2]=1-s[Y*3+2]*c;return s};j.tm.aE1=function(I,k,a){return a[~~((.5+.5*I)*255)]+a[~~((.5+.5*k)*255)]};
j.tm.a5d=function(I,k,a,n){var s=Date.now(),C=j.tm.a0A(I,k,a,n),T=j.tm.a1W(C,k,a),S=j.tm.ab9(I,k,a,n),D=new Float32Array(256);
for(var Y=0;Y<256;Y++)D[Y]=Math.acos(-1+2*Y/255)*(.95/Math.PI);var o=[-1,0,1,1,1,0,-1,-1],v=[-1,-1,-1,0,1,1,1,0];
for(var Y=0;Y<8;Y++){var g=1/Math.sqrt(o[Y]*o[Y]+v[Y]*v[Y]);o[Y]*=g;v[Y]*=g}var d=[o[0],v[0],o[1],v[1],o[2],v[2],o[3],v[3]],R=[-k-1,-k,-k+1,1],c=new Uint8Array(k*a*8);
new Uint32Array(c.buffer).fill(4294967295);var e=k*a;for(var O=1;O<a-1;O++)for(var U=1;U<k-1;U++){var K=O*k+U,_=1-T[K],Z=S[K*3+2],H=S[3*K+1],G=-S[3*K];
for(var N=0;N<4;N++){var z=K+R[N];j.tm.afX(K,z,N,c,T,S,_,Z,H,G,d,D)}}return c};j.tm.afX=function(I,k,a,n,s,C,T,S,D,o,v,g){var d=1-s[k],R=(a&1)==0?1:Math.SQRT1_2,c=C[k*3+2]*R,e=C[3*k+1],O=-C[3*k],U=S*R,K=v[a+a],_=v[a+a+1],Z=D*K+o*_,H=e*K+O*_;
if(Z+H<0){Z=-Z;H=-H}var G=j.tm.aE1(Z,H,g);n[(I<<3)+a]=j.tm.aC9(d,G,c);n[(k<<3)+a+4]=j.tm.aC9(T,G,U)};
j.tm.aC9=function(I,k,a){return 1+~~(.5+20*(.43*I+.43*k+.14*a))};j.tm.asE=function(I,k,a){var n=new Int16Array(a),s=n,Y=0,C=0;
new Uint32Array(a).fill(0);for(var T=0;T<k;T++)for(var S=0;S<I;S++){if(T>0&&S>0)s[C+0]=-I-1;if(T>0)s[C+1]=-I;
if(T>0&&S<I-1)s[C+2]=-I+1;if(S<I-1)s[C+3]=1;if(T<k-1&&S<I-1)s[C+4]=I+1;if(T<k-1)s[C+5]=I;if(T<k-1&&S>0)s[C+6]=I-1;
if(S>0)s[C+7]=-1;Y++;C+=8}return n};j.Qz={};j.Qz.TT=function(I){var k=I.slice(0),a=0;for(var Y=0;Y<I.length;
Y++)a+=I[Y];for(var Y=0;Y<I.length;Y++)k[Y]/=a;return k};j.Qz.I$=[j.Qz.TT([1,2,1,2,16,2,1,2,1]),j.Qz.TT([1,2,1,2,4,2,1,2,1]),j.Qz.TT([0,-1,0,-1,8,-1,0,-1,0]),j.Qz.TT([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
j.Qz.Lp=function(I,k,a,n,s,C,T,S){if(T==null)T=!1;if(S==null)S=!1;var D=Math.floor(Math.sqrt(s.length)),o=D-1>>>1,v=new Uint32Array(I.buffer),k=new Uint8ClampedArray(k.buffer);
for(var Y=0;Y<n;Y++)for(var g=0;g<a;g++){var d=0,R=0,c=0,e=0;for(var O=0;O<D;O++)for(var U=0;U<D;U++){var K=s[O*D+U];
if(K==0)continue;var _=g-o+U,Z=Y-o+O;if(_<0)_=0;else if(_>a-1)_=a-1;if(Z<0)Z=0;else if(Z>n-1)Z=n-1;if(S&&v[Z*a+_]>>>24==0){Z=Y;
_=g}var H=v[Z*a+_];d+=(H&255)*K;R+=(H>>>8&255)*K;c+=(H>>>16&255)*K;e+=(H>>>24&255)*K}if(T){if(d<0)d=-d;
if(R<0)R=-R;if(c<0)c=-c;if(e<0)e=-e}if(S){d=Math.max(0,Math.min(255,d));R=Math.max(0,Math.min(255,R));
c=Math.max(0,Math.min(255,c));e=Math.max(0,Math.min(255,e))}var G=Y*a+g<<2;k[G]=~~(.5+d);k[G+1]=~~(.5+R);
k[G+2]=~~(.5+c);k[G+3]=255-C&k[G+3]|C&~~(.5+e)}};j.Qz.a9u=function(I,k,a,n){var s=I.length,C=new Uint8Array(s);
j.Qz.Lp(I,k,a,n,j.Qz.I$[4],0,!0);j.Qz.Lp(I,C,a,n,j.Qz.I$[5],0,!0);for(var Y=0;Y<s;Y+=4){var T=k[Y],S=k[Y+1],D=k[Y+2],o=k[Y+3],v=C[Y],g=C[Y+1],d=C[Y+2],R=C[Y+3];
k[Y]=255-Math.max(0,Math.min(255,Math.sqrt(T*T+v*v)));k[Y+1]=255-Math.max(0,Math.min(255,Math.sqrt(S*S+g*g)));
k[Y+2]=255-Math.max(0,Math.min(255,Math.sqrt(D*D+d*d)))}};j.Qz.aAe=function(I,k,a,n){var s=I.length,C=new Uint8Array(s);
j.Qz.xi(I,k,a,n,j.Qz.I$[4],!0);j.Qz.xi(I,C,a,n,j.Qz.I$[5],!0);for(var Y=0;Y<s;Y++){var T=k[Y],S=C[Y];
k[Y]=255-Math.max(0,Math.min(255,Math.sqrt(T*T+S*S)))}};j.Qz.xi=function(I,k,a,n,s,C){k=new Uint8ClampedArray(k.buffer);
var T=[-a-1,-a,-a+1,-1,0,1,a-1,a,a+1],S=n-1,D=a-1;for(var Y=1;Y<S;Y++)for(var o=1;o<D;o++){var v=Y*a+o,g=j.Qz.TD(I,v,a,s);
if(C){if(g<0)g=-g}k[v]=~~(g+.5)}};j.Qz.TD=function(I,k,a,n){return I[k-a-1]*n[0]+I[k-a]*n[1]+I[k-a+1]*n[2]+I[k-1]*n[3]+I[k]*n[4]+I[k+1]*n[5]+I[k+a-1]*n[6]+I[k+a]*n[7]+I[k+a+1]*n[8]};
j.Qz.ayl=function(I,k,a,n,s){var C=[-a-1,-a,-a+1,-1,0,1,a-1,a,a+1],T=n-1,S=a-1;for(var Y=1;Y<T;Y++)for(var D=1;
D<S;D++){var o=Y*a+D;k[o]=j.Qz.ah1(I,o,a,s)}};j.Qz.ah1=function(I,k,a,n){return I[k-a-1]*n[0]+I[k-a]*n[1]+I[k-a+1]*n[2]+I[k-1]*n[3]+I[k]*n[4]+I[k+1]*n[5]+I[k+a-1]*n[6]+I[k+a]*n[7]+I[k+a+1]*n[8]};
j.yh={};j.yh.ml=function(){function I(T,S,D,o,v,g){if(v==0){S.set(T);return}var d=j.U(D*o),R=j.U(D*o);
if(j.zA(T)){k(T,S,D,o,v,g);j.Ez(T,d,3);j.yh.aE8(d,R,D,o,v,g);j.yv(R,S,3)}else{for(var Y=0;Y<3;Y++){j.Ez(T,d,Y);
j.yh.aE8(d,R,D,o,v,g);j.yv(R,S,Y)}}}function k(T,S,D,o,v,g){var d=0,R=new ArrayBuffer(512*4*3),c=[new Int32Array(R,0),new Int32Array(R,2048),new Int32Array(R,2*2048)],e=1+2*Math.round(Math.sqrt(v)),O=e>>>1,U=new Array(e),K=new Array(e);
for(var Y=0;Y<e;Y++){var R=new ArrayBuffer(512*4*3);U[Y]=[new Int32Array(R,0),new Int32Array(R,2048),new Int32Array(R,2*2048)];
K[Y]=U[Y][0]}var _=[j.yh.UE,j.yh.D$][g],Z=_[0],H=_[1],G=c[0];for(var N=0;N<D;N++)if(N<v||N>D-v-e-1){G.fill(0);
var z=Math.max(N-v,0),L=Math.min(D,N+v+1),p=L-z;for(var V=0;V<v;V++)n(G,T,V*D+z,V*D+L,1);for(var V=0;
V<o;V++){var r=V-v-1,y=V+v;if(y<o)n(G,T,y*D+z,y*D+L,1);if(r>=0)n(G,T,r*D+z,r*D+L,-1);var W=V*D+N<<2;
d=G[300];if(d!=0)for(var Y=0;Y<3;Y++)S[W+Y]=Z(c[Y],T[W+Y],d)}}else{for(var Y=0;Y<e;Y++)K[Y].fill(0);
var z=N-v+O,L=N+v+1+O;for(var V=0;V<v;V++)a(K,T,V*D+z,V*D+L,1,O);for(var V=0;V<o;V++){var r=V-v-1,y=V+v;
if(r>=0)a(K,T,r*D+z,r*D+L,-1,O);if(y<o)a(K,T,y*D+z,y*D+L,1,O);var m=U[O];d=m[0][300];for(var Y=0;Y<O;
Y++){var f=O-1-Y,h=O+1+Y,b=U[f],J=U[h],q=d+b[0][300],x=d+J[0][300],A=V*D+N+f<<2,Q=V*D+N+h<<2;if(q!=0)for(var B=0;
B<3;B++)S[A+B]=H(m[B],b[B],T[A+B],q);if(x!=0)for(var B=0;B<3;B++)S[Q+B]=H(m[B],J[B],T[Q+B],x)}var W=V*D+N+O<<2;
if(d!=0)for(var B=0;B<3;B++)S[W+B]=Z(m[B],T[W+B],d)}N+=e-1}}function a(T,S,D,o,v,g){var d=s,R=D<<2,c=o<<2;
d(T[g-1],S,D-1<<2,v);d(T[g-1],S,o-1<<2,-v);d(T[g+1],S,o<<2,v);d(T[g+1],S,D<<2,-v);for(var Y=1;Y<g;Y++){var e=T[g-Y-1],O=T[g+Y+1];
for(var U=0;U<=Y;U++){var K=U<<2;d(e,S,D-1-U<<2,v);d(e,S,o-1-U<<2,-v);d(O,S,o+U<<2,v);d(O,S,D+U<<2,-v)}}n(T[g],S,D,o,v)}function n(T,S,Y,D,o){var v=Y<<2,g=D<<2;
while(v<g){s(T,S,v,o);v+=4}}function s(T,S,D,o){var v=o*S[D+3];T[300]+=v;C(T,S[D],0,v);C(T,S[D+1],512,v);
C(T,S[D+2],1024,v)}function C(T,S,D,o){T[D|S]+=o;T[D|256|S>>>4]+=o}return I}();j.yh.aE8=function(){function I(g,d,R,c,e,O){if(e==0){d.set(g);
return}if(e<=200)k(g,d,R,c,e,O);else C(g,d,R,c,e,O)}function k(g,d,R,c,e,O){var U=0,K=new Int32Array(512),_=1+2*Math.round(Math.sqrt(e)),Z=_>>>1,H=new Array(_);
for(var Y=0;Y<_;Y++)H[Y]=new Int32Array(512);var G=[j.yh.UE,j.yh.D$][O],N=G[0],z=G[1];for(var L=0;L<R;
L++)if(L<e||L>R-e-_-1){K.fill(0);U=0;var p=Math.max(L-e,0),V=Math.min(R,L+e+1),r=V-p;for(var y=0;y<e;
y++){U+=r;n(K,g,y*R+p,y*R+V,1)}for(var y=0;y<c;y++){var W=y-e-1,m=y+e;if(W>=0){U-=r;n(K,g,W*R+p,W*R+V,-1)}if(m<c){U+=r;
n(K,g,m*R+p,m*R+V,1)}var f=N(K,g[y*R+L],U);d[y*R+L]=f}}else{for(var Y=0;Y<_;Y++)H[Y].fill(0);U=0;var p=L-e+Z,V=L+e+1+Z,r=V-p;
for(var y=0;y<e;y++){U+=r;a(H,g,y*R+p,y*R+V,1,Z)}for(var y=0;y<c;y++){var W=y-e-1,m=y+e;if(W>=0){U-=r;
a(H,g,W*R+p,W*R+V,-1,Z)}if(m<c){U+=r;a(H,g,m*R+p,m*R+V,1,Z)}for(var Y=0;Y<Z;Y++){var h=Z-1-Y,b=Z+1+Y;
d[y*R+L+h]=z(H[Z],H[h],g[y*R+L+h],U);d[y*R+L+b]=z(H[Z],H[b],g[y*R+L+b],U)}d[y*R+L+Z]=N(H[Z],g[y*R+L+Z],U)}L+=_-1}}function a(g,d,R,c,e,O){var U=s;
U(g[O-1],d[R-1],0,e);U(g[O-1],d[c-1],0,-e);U(g[O+1],d[c],0,e);U(g[O+1],d[R],0,-e);for(var Y=1;Y<O;Y++){var K=g[O-Y-1],_=g[O+Y+1];
for(var Z=0;Z<=Y;Z++){U(K,d[R-1-Z],0,e);U(K,d[c-1-Z],0,-e);U(_,d[c+Z],0,e);U(_,d[R+Z],0,-e)}}n(g[O],d,R,c,e)}function n(g,d,Y,R,c){while(Y<R)s(g,d[Y++],0,c)}function s(g,d,R,c){g[R|d]+=c;
g[R|256|d>>>4]+=c}function C(g,d,R,c,e,O){var U=0,K=new Int32Array(512),_=new Int32Array(1*R),Z=new Int32Array(512*R),H=Math.min(e,R),G=Math.min(e,c),N=[j.yh.UE,j.yh.D$][O],z=N[0];
for(var L=0;L<G;L++)T(Z,_,g,R,L,1);for(var L=0;L<c;L++){if(L+e<c)T(Z,_,g,R,L+e,1);if(L-e-1>=0)T(Z,_,g,R,L-e-1,-1);
K.fill(0);U=0;for(var p=0;p<H;p++){U+=_[p];S(K,Z,p)}for(var p=0;p<R;p++){var V=p-e-1,r=p+e;if(V>=0&&_[V]!=0){U-=_[V];
D(K,Z,V)}if(r<R&&_[r]!=0){U+=_[r];S(K,Z,r)}var y=U==0?0:z(K,g[L*R+p],U);d[L*R+p]=y}}}function T(g,d,R,c,e,O){var Y=e*c;
for(var U=0;U<c;U++){s(g,R[Y+U],U<<9,O);d[U]+=O}}function S(g,d,R){for(var Y=0;Y<16;Y++){var c=d[R<<9|256|Y];
if(c==0)continue;g[256|Y]+=c;var e=Y<<4,O=R<<9|e;o(g,d,e,O);o(g,d,e+4,O+4);o(g,d,e+8,O+8);o(g,d,e+12,O+12)}}function D(g,d,R){for(var Y=0;
Y<16;Y++){var c=d[R<<9|256|Y];if(c==0)continue;g[256|Y]-=c;var e=Y<<4,O=R<<9|e;v(g,d,e,O);v(g,d,e+4,O+4);
v(g,d,e+8,O+8);v(g,d,e+12,O+12)}}function o(g,d,R,c){g[R]+=d[c];g[R+1]+=d[c+1];g[R+2]+=d[c+2];g[R+3]+=d[c+3]}function v(g,d,R,c){g[R]-=d[c];
g[R+1]-=d[c+1];g[R+2]-=d[c+2];g[R+3]-=d[c+3]}return I}();j.yh.MB=.5;j.yh.UE=[function(I,k,a){var n=~~(.5+j.yh.MB*a),s=0,Y=256;
while(s+I[Y]<n)s+=I[Y++];Y=Y-256<<4;while(s<n)s+=I[Y++];return Y-1},function(I,k,a,n){var s=~~(.5+j.yh.MB*n),C=0,Y=256;
while(C+I[Y]+k[Y]<s){C+=I[Y]+k[Y];Y++}Y=Y-256<<4;while(C<s){C+=I[Y]+k[Y];Y++}return Y-1}];j.yh.ZE=100;
j.yh.D$=[function(I,k,a){var n=j.yh.ZE,s=0,C=0,Y=Math.max(0,k-n),T=Math.min(256,k+n+1);while(Y<T){var S=I[Y];
s+=Y*S;C+=S;Y++}return C==0?0:s/C},function(I,k,a,n){var s=j.yh.ZE,C=0,T=0,Y=Math.max(0,a-s),S=Math.min(256,a+s+1);
while(Y<S){var D=I[Y]+k[Y];C+=Y*D;T+=D;Y++}return T==0?0:C/T}];j.t={};j.t.HJ=function(I){var k=E.nF.QX(I.Trnf),a=I.Sz.v,n=j.t.UX(k,new eZ(0,0,a.Wdth.v,a.Hght.v));
return j.t.Nr(n)};j.t.UX=function(I,k){var a=I[0],n=I[1],s=I[2],C=I[3],T=I[6],S=I[7],D=I[4],o=I[5],v=0,g=0,d=1,R=0,c=0,e=1,O=1,U=1;
if(k){v=k.x;g=k.y;d=k.x+k.Q;R=k.y;c=k.x;e=k.y+k._;O=k.x+k.Q;U=k.y+k._}return j.t.aBC(I,[v,g,d,R,O,U,c,e])};
j.t.a6j=function(I){function k(s,C){for(var Y=0;Y<C.length;Y+=2)if(!a(s,C[Y],C[Y+1]))return!1;return!0}function a(s,C,T){return s[2*C]==s[2*T]&&s[2*C+1]==s[2*T+1]}var n=0;
if(k(I,[0,1,2,3]))n+=1;if(k(I,[0,3,1,2]))n+=2;return n};j.t.aBC=function(I,k){function a(f,Y,h){var y=f[Y*2]-f[h*2],W=f[Y*2+1]-f[h*2+1];
return Math.sqrt(y*y+W*W)}var n=I[0],s=I[1],C=I[2],T=I[3],S=I[6],D=I[7],o=I[4],v=I[5],g=k[0],d=k[1],R=k[2],c=k[3],e=k[6],O=k[7],U=k[4],K=k[5],_=[[g,d,1,0,0,0,-g*n,-d*n,n],[0,0,0,g,d,1,-g*s,-d*s,s],[R,c,1,0,0,0,-R*C,-c*C,C],[0,0,0,R,c,1,-R*T,-c*T,T],[e,O,1,0,0,0,-e*S,-O*S,S],[0,0,0,e,O,1,-e*D,-O*D,D],[U,K,1,0,0,0,-U*o,-K*o,o],[0,0,0,U,K,1,-U*v,-K*v,v]],Z=[0,0,0,0,0,0,0,0],H=j.Ce.zI(_,Z);
if(H!=0){Z=[0,0,0,0,0,0,0,0];var G=j.t.a6j(I),N=j.t.a6j(k);if(G==N&&G!=0){var z=G==1,L=z?3:1,p=a(I,0,L),V=a(k,0,L),r=V/p,y=I[2*L]-I[0],W=I[2*L+1]-I[1],m=new dc;
m.translate(-n,-s);m.rotate(Math.atan2(W,y)-(z?Math.PI/2:0));if(z)m.scale(1,r);else m.scale(r,1);m.translate(g,d);
m.Us();Z=j.t.HE(m)}}return Z};j.t.U=function(I,k){if(I==null)I=k=0;return[1,0,I,0,1,k,0,0]};j.t.$m=function(I){return Math.abs(I[6])<1e-10&&Math.abs(I[7])<1e-10};
j.t.Nr=function(I){return new dc(I[0],I[3],I[1],I[4],I[2],I[5])};j.t.HE=function(I){return[I.M,I.mL,I.Dw,I.J,I.Jo,I.rk,0,0]};
j.t.h=function(I,k){var a=new Float64Array(2);for(var n=0;n<k.length;n+=2){var s=k[n],C=k[n+1];j.t.ij(s,C,I,a);
k[n]=a[0];k[n+1]=a[1]}};j.t.ij=function(I,k,a,n){var s=1/(a[6]*I+a[7]*k+1);n[0]=(a[0]*I+a[1]*k+a[2])*s;
n[1]=(a[3]*I+a[4]*k+a[5])*s};j.t.aq2=function(I,k){var a=new Float64Array(2);j.t.ij(k.x,k.y,I,a);return new kK(a[0],a[1])};
j.t.wZ=function(I,k,a,n){I=new Uint32Array(I.buffer);k=new Uint32Array(k.buffer);for(var s=0;s<n;s++){for(var C=0;
C<a;C++){k[C*n+s]=I[s*a+C]}}};j.t.ON=function(I,k,a,n){I=new Uint32Array(I.buffer);k=new Uint32Array(k.buffer);
for(var s=0;s<n;s++){for(var C=0;C<a;C++){k[s*a+C]=I[s*a+a-1-C]}}};j.t.arl=function(I,k,a,n){I=new Uint32Array(I.buffer);
k=new Uint32Array(k.buffer);for(var s=0;s<n;s++){for(var C=0;C<a;C++){k[s*a+C]=I[(n-1-s)*a+C]}}};j.t.amv=function(I){return Math.abs(I[6])<1e-9&&Math.abs(I[7])<1e-9};
j.t.ayr=function(I){return Math.abs(I[0])<1e-9&&Math.abs(I[4])<1e-9||Math.abs(I[1])<1e-9&&Math.abs(I[3])<1e-9};
j.t.drawImage=function(I,k,a,n,s,C,T,S,D){if(T==null)T=!1;if(S==null)S=!1;var o=j.t.Us(I),v=!0,g=0;for(var Y=0;
Y<8;Y++){var d=Math.round(I[Y]);if(Y!=2&&Y!=5)g+=Math.abs(d);if(Math.abs(d-I[Y])>1e-9)v=!1}var R=j.t.amv(I),c=j.t.ayr(I)&&R,e=c?1:0;
if(T||v&&g==a+n&&R){j.t.a2k(o,k,a,n,s,C,S,R,D);return}var O=C.Q,U=C._,K=new Float64Array(2);s=new Uint32Array(s.buffer);
k=new Uint32Array(k.buffer);for(var _=0;_<U;_++)for(var Z=0;Z<O;Z++){var H=_*O+Z,G,N,z,L,w=0,J=0,q=0,x=0;
s[H]=0;var p=Z+C.x+.5,V=_+C.y+.5;G=p;N=V;z=o;var r=z[0]*G+z[1]*N+z[2],y=z[3]*G+z[4]*N+z[5];if(!R){L=1/(z[6]*G+z[7]*N+1);
r*=L;y*=L}var W=r*a,m=y*n,f=W<-1||W>a+1||m<-1||m>n+1;if(S){W=Math.max(.001,Math.min(a-1,W));m=Math.max(.001,Math.min(n-1,m))}else if(f)continue;
var h=j.t.a8L(I,a,n,p,V,r,y),b=Math.round(h*2.3);if(h<1.1){j.t.AR(W,m,k,a,n,s,H,e);continue}if(!S&&(W<.6||W>a-.6||m<.6||m>n-.6)){b=Math.max(b,5)}if(S&&f)b=1;
var i=1/b,A=C.x+Z,Q=C.y+_;z=o;for(var Y=0;Y<b;Y++)for(var B=0;B<b;B++){G=A+(Y+.5)*i;N=Q+(B+.5)*i;var W=z[0]*G+z[1]*N+z[2],m=z[3]*G+z[4]*N+z[5];
if(!R){L=1/(z[6]*G+z[7]*N+1);W*=L;m*=L}if(S){W=Math.max(.001,Math.min(.999,W));m=Math.max(.001,Math.min(.999,m))}else if(W<0||W>=1||m<0||m>=1)continue;
W=Math.floor(W*a);m=Math.floor(m*n);var l=m*a+W,P=k[l],F=P>>>24;w+=(P&255)*F;J+=(P>>>8&255)*F;q+=(P>>>16&255)*F;
x+=F}if(x!=0){var t=1/x;w=~~(w*t+.5);J=~~(J*t+.5);q=~~(q*t+.5);x=~~(x*i*i+.5);s[H]=x<<24|q<<16|J<<8|w}}};
j.t.a8L=function(I,k,a,n,s,C,T){var S=j.t.agp(I,n,s,C+1/k,T),D=j.t.agp(I,n,s,C,T+1/a);return 1/Math.sqrt(Math.max(S,D))};
j.t.agp=function(I,k,a,n,s){var C=1/(I[6]*n+I[7]*s+1),T=(I[0]*n+I[1]*s+I[2])*C-k,S=(I[3]*n+I[4]*s+I[5])*C-a;
return T*T+S*S};j.t.a2k=function(I,k,a,n,s,C,T,S,D){if(S&&!T&&C.c()>4e6&&D){j.t.adx(I,k,a,n,s,C,T,S,D);
return}var o=C.x+C.Q,v=C.y+C._,g=0,d=new Uint32Array(s.buffer),R=new Uint32Array(k.buffer),c=I[0]*a,e=I[1]*a,O=I[2]*a,U=I[3]*n,K=I[4]*n,_=I[5]*n,Z=I[6],H=I[7];
if(S&&!T)for(var G=C.y+.5;G<v;G++)for(var N=C.x+.5;N<o;N++){var z=c*N+e*G+O,L=U*N+K*G+_;if(0<z&&z<a&&0<L&&L<n){var p=~~L*a+~~z;
d[g]=R[p]}else d[g]=0;g++}else for(var G=C.y+.5;G<v;G++)for(var N=C.x+.5;N<o;N++){var V=1/(Z*N+H*G+1),z=(c*N+e*G+O)*V,L=(U*N+K*G+_)*V;
if(T){z=Math.max(.001,Math.min(a-1,z));L=Math.max(.001,Math.min(n-1,L))}if(0<z&&z<a&&0<L&&L<n){var p=Math.floor(L)*a+Math.floor(z);
d[g]=R[p]}else d[g]=0;g++}};j.t.adx=function(I,k,a,n,s,C,T,S,D){var o=new Uint32Array(s.buffer),v=new Uint32Array(k.buffer),H=0;
if(D&&(C.Q&3)!=0)throw"e";var g=I[0]*a,d=I[1]*a,R=I[2]*a,c=I[3]*n,e=I[4]*n,O=I[5]*n,U=I[6],K=I[7],_=C.Q,Z=C._,G=C.x+.5,N=C.y+.5,z=(_>>>2<<2)-1e-9,L=-.1+(Z>>>1<<1)-1e-9,p=~~a,V=g==0?0:1/g,r=c==0?0:1/c;
for(var y=0;y<Z;y++){var W=G*g+d*(y+N)+R,m=G*c+e*(y+N)+O,f=0,h=_;if(g==0){}else if(V>0){f=Math.max(f,-W*V);
h=Math.min(h,(a-W)*V)}else{h=Math.min(h,-W*V);f=Math.max(f,(a-W)*V)}if(c==0){}else if(r>0){f=Math.max(f,-m*r);
h=Math.min(h,(n-m)*r)}else{h=Math.min(h,-m*r);f=Math.max(f,(n-m)*r)}if(h<0)h=0;if(f>h)f=h;f=~~Math.ceil(f);
h=~~h;H=~~(y*_);o.fill(0,H,H+f);H+=f;for(var b=f;b<h;b+=4){var i=g*b+W,w=c*b+m,J=~~w*p+~~i,q=v[J];o[H]=q;
o[H+1]=q;o[H+2]=q;o[H+3]=q;H+=4}o.fill(0,H,H+_-h)}};j.t.Us=function(I){var k=I[4]-I[5]*I[7],a=I[2]*I[7]-I[1],n=I[1]*I[5]-I[2]*I[4],s=I[5]*I[6]-I[3],C=I[0]-I[2]*I[6],T=I[3]*I[2]-I[0]*I[5],S=I[3]*I[7]-I[4]*I[6],D=I[1]*I[6]-I[0]*I[7],o=1/(I[0]*I[4]-I[1]*I[3]);
return[k*o,a*o,n*o,s*o,C*o,T*o,S*o,D*o]};j.t.Rc=function(I,k){var a=I[0],n=I[1],s=I[2],C=I[3],T=I[4],S=I[5],D=I[6],o=I[7],v=k[0],g=k[1],d=k[2],R=k[3],c=k[4],e=k[5],O=k[6],U=k[7],K=[a*v+n*R+s*O,a*g+n*c+s*U,a*d+n*e+s,C*v+T*R+S*O,C*g+T*c+S*U,C*d+T*e+S,D*v+o*R+O,D*g+o*c+U],_=1/(D*d+o*e+1);
for(var Y=0;Y<8;Y++)K[Y]*=_;return K};j.t.AR=function(I,k,a,n,s,C,T,S){var D=I,o=k,d=0,R=0,c=0,e=0;I-=.499999;
k-=.499999;var v=Math.floor(I),g=Math.floor(k);if(S==0){var Y=g*n+v,O=v>=0&&v<n,U=v+1>=0&&v+1<n,K=g>=0&&g<s,_=g+1>=0&&g+1<s;
if(O&&K)d=a[Y];if(U&&K)R=a[Y+1];if(O&&_)c=a[Y+n];if(U&&_)e=a[Y+n+1]}else if(S==1){var Z=v<0?0:v>n-1?n-1:v,H=v<-1?0:v>n-2?n-1:v+1,G=g<0?0:g>s-1?s-1:g,N=g<-1?0:g>s-2?s-1:g+1;
d=a[G*n+Z];R=a[G*n+H];c=a[N*n+Z];e=a[N*n+H]}else{var Z=(v+50*n)%n,H=(v+50*n+1)%n,G=(g+50*s)%s,N=(g+50*s+1)%s;
d=a[G*n+Z];R=a[G*n+H];c=a[N*n+Z];e=a[N*n+H]}var z=I-v,L=k-g,p=(1-L)*(1-z)*(d>>>24),V=(1-L)*z*(R>>>24),r=L*(1-z)*(c>>>24),y=L*z*(e>>>24),W=p+V+r+y,m=p*(d&255)+V*(R&255)+r*(c&255)+y*(e&255),f=p*(d>>>8&255)+V*(R>>>8&255)+r*(c>>>8&255)+y*(e>>>8&255),h=p*(d>>>16&255)+V*(R>>>16&255)+r*(c>>>16&255)+y*(e>>>16&255);
if(W==0)C[T]=0;else{var b=1/W;m=~~(m*b+.5);f=~~(f*b+.5);h=~~(h*b+.5);W=~~(W+.5);C[T]=W<<24|h<<16|f<<8|m}};
j.t.a8K=function(I,k,a,n,s,C){var T=I-.499999,S=k-.499999,D=~~T,o=~~S,v=T-D,g=S-o,d=(1-g)*(1-v),R=(1-g)*v,c=g*(1-v),e=g*v,O=o*n+D<<2,U=(o+1)*n+D<<2,K=d*a[O]+R*a[O+4]+c*a[U]+e*a[U+4],_=d*a[O+1]+R*a[O+5]+c*a[U+1]+e*a[U+5],Z=d*a[O+2]+R*a[O+6]+c*a[U+2]+e*a[U+6],H=d*a[O+3]+R*a[O+7]+c*a[U+3]+e*a[U+7];
C[0]=K;C[1]=_;C[2]=Z;C[3]=H};j.t.F0=function(I,k,a,n,s){I-=.499999;k-=.499999;var C=Math.floor(I),T=Math.floor(k),S=I-C,D=k-T,o=(1-D)*(1-S),v=(1-D)*S,g=D*(1-S),d=D*S,R=(C+50*n)%n,c=(C+1+50*n)%n,e=(T+50*s)%s,O=(T+1+50*s)%s,U=a[e*n+R],K=a[e*n+c],_=a[O*n+R],Z=a[O*n+c];
if(U==null||Z==null)throw"e";return o*U+v*K+g*_+d*Z};j.t.ab0=function(I,k,a,n,s){I-=.499999;k-=.499999;
var C=Math.floor(I),T=Math.floor(k),S=I-C,D=k-T,o=(1-D)*(1-S),v=(1-D)*S,g=D*(1-S),d=D*S,R=0,c=T*n+C,e=c+n;
if(0<=T&&T<s&&0<=C&&C<n)R+=o*a[c];if(0<=T&&T<s&&0<=C+1&&C+1<n)R+=v*a[c+1];if(0<=T+1&&T+1<s&&0<=C&&C<n)R+=g*a[e];
if(0<=T+1&&T+1<s&&0<=C+1&&C+1<n)R+=d*a[e+1];return R};j.t.a0j=function(I,k,a,n,s,C,T,S,D,o,v,g){var d=new Uint32Array(I.buffer),R=new Uint32Array(n.buffer),c=(1+2*o)/s,e=[],O=[];
for(var U=0;U<s;U++){var K=-.25+o-U*c;e.push(Math.cos(2*Math.PI*K)*g/v);e.push(Math.sin(2*Math.PI*K)/v)}T*=k;
S*=a;for(var _=0;_<C;_++){var Z=Math.pow(_/C,D)*C;for(var U=0;U<s;U++){var H=T+e[U<<1]*Z,G=S+e[(U<<1)+1]*Z,N=~~(.5+(H<0?0:H>k-1?k-1:H)),z=~~(.5+(G<0?0:G>a-1?a-1:G));
R[_*s+U]=d[z*k+N]}}};j.t.an2=function(I,k,a,n,s,C,T,S,D,o,v,g){var d=new Uint32Array(I.buffer),R=new Uint32Array(n.buffer),c=1/g,e=[],O=a*4,U=1/O;
for(var K=0;K<O+10;K++)e.push(Math.pow(K*U,1/D)*a*v);T*=s;S*=C;for(var K=0;K<C;K++)for(var _=0;_<s;_++){var Z=c*(_-T),H=K-S,G=1.75-Math.atan2(H,Z)*(1/(2*Math.PI));
G=G-~~G;G=(G+o)*(1/(1+2*o));var N=Math.sqrt(Z*Z+H*H);N=e[~~(N*4)];j.t.AR(G*k+.5,N+.5,d,k,a,R,K*s+_,1)}};
j.t.F$=function(I,k,a,n,s){var C=s[0],T=s[1];for(var S=0;S<T;S++)for(var D=0;D<C;D++){var o=s[2]*D+s[3]*S+s[4],v=s[5]*D+s[6]*S+s[7],g=S*C+D<<2,d=v*k+o<<2;
n[g]=I[d+0];n[g+1]=I[d+1];n[g+2]=I[d+2];n[g+3]=I[d+3]}};j.G={Br:function(I,k){var a=~~(.499+I*k);return a<0?0:a>k?k:a},aw2:function(I,k,a,n,s,C,T,S){var D=a[0],o=a[1],v=a[2],g=a[3],d=n.Q,R=n._,c=new Uint32Array(1),e=new Uint8Array(c.buffer),O=Math.round(Math.random()*n.c()*100);
for(var U=0,Y=0;U<R;U++){for(var K=0;K<d;K++,Y++){var _=K+s,Z=U+C,H=D*_+o*Z,G=v*_+g*Z,N=0,p=0;if(S==0)N=H+.5;
else if(S==1)N=2*Math.sqrt(H*H+G*G);else if(S==2)N=(Math.PI+Math.atan2(-G,-H))/(2*Math.PI);else if(S==3)N=Math.abs(H*2);
else if(S==4)N=2*(Math.abs(H)+Math.abs(G));var z=j.G.Br(N,T)*4,L=K*4;c[0]=j.z.n8(Y+O);for(var V=0;V<4;
V++){var r=k[z+V],y=Math.floor(r);if(e[V]<(r-y)*255)y++;p|=y<<V*8}I[Y]=p}}},qj:[function(I,k,a,n,s,C,T){var S=a[0],D=a[1],o=a[2],v=a[3],g=n.Q,d=n._;
for(var R=0,Y=0;R<d;R++)for(var c=0;c<g;c++,Y++){var e=c+s,O=R+C,U=S*e+D*O,K=o*e+v*O,_=U+.5;I[Y]=k[j.G.Br(_,T)]}},function(I,k,a,n,s,C,T){var S=a[0],D=a[1],o=a[2],v=a[3],g=n.Q,d=n._;
for(var R=0,Y=0;R<d;R++)for(var c=0;c<g;c++,Y++){var e=c+s,O=R+C,U=S*e+D*O,K=o*e+v*O,_=2*Math.sqrt(U*U+K*K);
I[Y]=k[j.G.Br(_,T)]}},function(I,k,a,n,s,C,T){var S=a[0],D=a[1],o=a[2],v=a[3],g=n.Q,d=n._;for(var R=0,Y=0;
R<d;R++)for(var c=0;c<g;c++,Y++){var e=c+s,O=R+C,U=S*e+D*O,K=o*e+v*O,_=(Math.PI+Math.atan2(-K,-U))/(2*Math.PI);
I[Y]=k[j.G.Br(_,T)]}},function(I,k,a,n,s,C,T){var S=a[0],D=a[1],o=a[2],v=a[3],g=n.Q,d=n._;for(var R=0,Y=0;
R<d;R++)for(var c=0;c<g;c++,Y++){var e=c+s,O=R+C,U=S*e+D*O,K=o*e+v*O,_=Math.abs(U*2);I[Y]=k[j.G.Br(_,T)]}},function(I,k,a,n,s,C,T){var S=a[0],D=a[1],o=a[2],v=a[3],g=n.Q,d=n._;
for(var R=0,Y=0;R<d;R++)for(var c=0;c<g;c++,Y++){var e=c+s,O=R+C,U=S*e+D*O,K=o*e+v*O,_=2*(Math.abs(U)+Math.abs(K));
I[Y]=k[j.G.Br(_,T)]}}]};j.G.a82=function(I,k){return I+.5};j.G.abl=function(I,k){return 2*Math.sqrt(I*I+k*k)};
j.G.aye=function(I,k){return(Math.PI+Math.atan2(-k,-I))/(2*Math.PI)};j.G.a5O=function(I,k){return Math.abs(I*2)};
j.G.ahp=function(I,k){return 2*(Math.abs(I)+Math.abs(k))};j.G.tj=function(I,k,a,n,s,C,T,S,D,o,v,g){var d=I.Clrs,R=new Uint32Array(k.buffer),c=1023,e=d?j.G.px(I,D,o):null;
if(g&&d){var O=j.G.arR(I,e,c+1,T);j.G.aw2(R,O,n,a,a.x-s,a.y-C,c,S)}else{var U=d?j.G.atY(I,e,c+1,T):j.G.awX(I,c+1,T);
if(S<5){j.G.qj[S](R,U,n,a,a.x-s,a.y-C,c)}else{var K=new Uint8Array(U.buffer),_=a.Q,Z=a._,H=v.Xa-v.X4,G=1/H,N=v.dU.Q-a.Q>>1,z=v.dU._-a._>>1,L=v.dU.Q,p=-.6*G,V=(-.6+.4)*G,r=(-.6+2*.4)*G,y=(-.6+3*.4)*G;
for(var W=0,Y=0;W<Z;W++)for(var m=0;m<_;m++,Y+=4){var f=0,h=0,b=0,i=0,w=(W+z)*L+m+N,J=(v._0[w]-v.X4)*G,q=0;
if(J<=0||J>=1){q=(J<=0?0:c)<<2;k[Y]=K[q];k[Y+1]=K[q+1];k[Y+2]=K[q+2];k[Y+3]=K[q+3];continue}q=Math.max(0,Math.min(c-1,Math.round((J+p)*c)))<<2;
h+=K[q];b+=K[q+1];i+=K[q+2];f+=K[q+3];q=Math.max(0,Math.min(c-1,Math.round((J+V)*c)))<<2;h+=K[q];b+=K[q+1];
i+=K[q+2];f+=K[q+3];q=Math.max(0,Math.min(c-1,Math.round((J+r)*c)))<<2;h+=K[q];b+=K[q+1];i+=K[q+2];f+=K[q+3];
q=Math.max(0,Math.min(c-1,Math.round((J+y)*c)))<<2;h+=K[q];b+=K[q+1];i+=K[q+2];f+=K[q+3];k[Y]=h>>>2;
k[Y+1]=b>>>2;k[Y+2]=i>>>2;k[Y+3]=f>>>2}}}};j.G.px=function(I,k,a){var n=[I.Clrs.v,I.Trns.v],s=[[],[]],C=255;
for(var T=0;T<2;T++)for(var Y=0;Y<n[T].length;Y++){var S,D=n[T][Y].v;if(T==0){var o=D.Type.v.Clry;if(o=="FrgC")S={$:k>>16&255,H:k>>8&255,J:k&255};
else if(o=="BckC")S={$:a>>16&255,H:a>>8&255,J:a&255};else S=j.G.GW(D.Clr.v)}else{S=D.Opct.v.val*(255/100);
if(S<C)C=S}s[T].push([S,D.Lctn.v/4096,D.Mdpn.v/100])}s.push(C>254);return s};j.G.GW=function(I){var k,a=I.classID;
if(a=="RGBC"){if(I.Rd)k={$:I.Rd.v,H:I.Grn.v,J:I.Bl.v};else k={$:I.redFloat.v*255,H:I.greenFloat.v*255,J:I.blueFloat.v*255}}else if(a=="HSBC"){k=j.ps(I.H.v.val/360,I.Strt.v/100,I.Brgh.v/100);
k.$*=255;k.H*=255;k.J*=255}else if(a=="CMYC"){var n=I.Cyn.v,s=I.Mgnt.v,C=I.Ylw.v,T=I.Blck.v,S=[n/100,s/100,C/100,T/100],D=j.V5(S);
k={$:D[0]*255,H:D[1]*255,J:D[2]*255}}else if(a=="Grsc")k={$:255-I.Gry.v,H:255-I.Gry.v,J:255-I.Gry.v};
else if(a=="LbCl"){k=j.YD(I.Lmnc.v,I.A.v,I.B.v)}else if(a=="BkCl")k={$:0,H:0,J:0};else console.log(I);
if(isNaN(k.$))k.$=k.H=k.J=0;return k};j.G.awX=function(I,k,a){var n=new Uint32Array(k),s=new Uint8Array(n.buffer);
n.fill(4278190080);var C=[],T=[],S=I.RndS.v,D=I.Smth.v/4096;for(var Y=0;Y<4;Y++){C[Y]=~~(I.Mnm.v[Y].v*255/100);
T[Y]=~~(I.Mxm.v[Y].v*255/100)}var o=j.U(k*4),v=j.U(k);for(var g=0;g<3;g++){j.g.ai_(null,k,1,o,[1+Math.round(D*D*D*60),22,S*(2+g)]);
j.Ez(o,v,0);j.yv(v,s,g);var d=C[g],R=T[g];for(var Y=0;Y<k;Y++)s[4*Y+g]=Math.max(d,Math.min(R,s[4*Y+g]))}if(a)for(var Y=0;
Y<k/2;Y++){var c=n[Y];n[Y]=n[k-1-Y];n[k-1-Y]=c}return n};j.G.pI=function(I){return{classID:"RGBC",Rd:{t:"doub",v:I.$},Grn:{t:"doub",v:I.H},Bl:{t:"doub",v:I.J}}};
j.G.arR=function(I,k,a,n){var s=[],C=1/(a-0);for(var Y=0;Y<a;Y++){var T=Y*4,S=j.G.rv(I,k,(n?a-1-Y:Y)*C);
s[T]=S[0];s[T+1]=S[1];s[T+2]=S[2];s[T+3]=S[3]}return s};j.G.atY=function(I,k,a,n){var s=new Uint32Array(a),C=1/(a-0);
for(var Y=0;Y<a;Y++)s[Y]=j.G.Rq(I,k,(n?a-1-Y:Y)*C);return s};j.G.rv=function(I,k,a){var n=I.Intr.v*(1/4096),s=k[0],C=k[1],T=s.length-1,S=C.length-1,Y=-1,D=0,o=0,v=0,g=0;
if(k[2])D=255;else{while(Y<S&&C[Y+1][1]<=a)Y++;if(Y==-1){D=C[0][0]}else if(Y==S){D=C[Y][0]}else{var d=j.G.api(C,Y,a,n);
D=d*C[Y][0]+(1-d)*C[Y+1][0]}}Y=-1;while(Y<T&&s[Y+1][1]<=a)Y++;if(Y==-1){var R=s[0][0];o=R.$;v=R.H;g=R.J}else if(Y==T){var R=s[Y][0];
o=R.$;v=R.H;g=R.J}else{var c=s[Y][0],e=s[Y+1][0],O=j.G.api(s,Y,a,n);o=Math.min(255,O*c.$+(1-O)*e.$);
v=Math.min(255,O*c.H+(1-O)*e.H);g=Math.min(255,O*c.J+(1-O)*e.J)}return[o,v,g,D]};j.G.Rq=function(I,k,a){var n=j.G.rv(I,k,a),s=~~(.5+n[0]),C=~~(.5+n[1]),T=~~(.5+n[2]),S=~~(.5+n[3]);
return S<<24|T<<16|C<<8|s};j.G.api=function(I,Y,k,a){if(I.length==2)a*=.5;var n=I[Y][1],s=I[Y+1][1],C=n+I[Y+1][2]*(s-n),T;
if(k<C)T=.5*(k-n)/(C-n);else T=.5+.5*(k-C)/(s-C);T=.5+.5*(a*Math.cos(Math.PI*T)+(1-a)*(1-2*T));return T};
j.G.aCN=function(I,k,a){var n=.5*a._,s=n*(I/k),C=Math.sqrt(n*n+s*s),T=.5*a.Q,S=T*(k/I),D=Math.sqrt(T*T+S*S);
return Math.min(C,D)};j.G.azf=function(I,k){var a=Math.PI*I.Angl.v.val/180,n=I.Scl.v.val/100,s=I.Ofst.v,C=s.Hrzn.v.val/100,T=s.Vrtc.v.val/100,S=Math.cos(a),D=-Math.sin(a),o=j.G.aCN(S,D,k),v=o*n,g=k.x+k.Q/2+C*k.Q,d=k.y+k._/2+T*k._;
return[new kK(g,d),new kK(g+S*v,d+D*v)]};j.G.hP=function(I,k,a,n){var s=k.x-I.x,C=-(k.y-I.y),T=Math.sqrt(s*s+C*C),S=Math.atan2(C,s),D=Math.cos(S),o=-Math.sin(S),v=j.G.aCN(D,o,a),g=T/v,d=(I.x-a.x-a.Q/2)/a.Q,R=(I.y-a.y-a._/2)/a._;
n.Angl.v.val=180*S/Math.PI;n.Scl.v.val=g*100;var c=n.Ofst.v;c.Hrzn.v.val=d*100;c.Vrtc.v.val=R*100};j.G.gD=function(I,k){for(var Y=0;
Y<I.length;Y++){var a=I[Y],n=Math.round(a[0]*4096),s=a[1],C=a[2],T=I[Math.max(0,Y-1)][3];if(C==null)C=1;
if(T==null)T=.5;var S=j.G.pI({$:s[0]*255,H:s[1]*255,J:s[2]*255});k.Clrs.v[Y]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:n},Mdpn:{t:"long",v:Math.round(T*100)},Clr:{t:"Objc",v:S},Type:{t:"enum",v:{Clry:"UsrS"}}}};
k.Trns.v[Y]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:n},Mdpn:{t:"long",v:Math.round(T*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(C*100)}}}}}};
j.G.avP=function(I,k,a){if(k){I=JSON.parse(JSON.stringify(I));for(var Y=0;Y<2;Y++){var n=I[Y==0?"Clrs":"Trns"].v;
for(var s=0;s<n.length;s++)n[s].v.Lctn.v=4096-n[s].v.Lctn.v;n.reverse()}}var C=[],T=1/255,S=I.Clrs.v,D=I.Trns.v,n=S;
if(ht==0||S.length!=D.length){if(ht!=0)console.log("strange gradient");if(a!=!0)n=S.concat(D);var o=j.G.px(I,0,0);
for(var Y=0;Y<n.length;Y++){var v=n[Y].v,g=v.Lctn.v/4096,d=j.G.rv(I,o,g);C.push([g,[d[0]*T,d[1]*T,d[2]*T],d[3]*T,v.Mdpn.v/100])}C.sort(function(c,e){return c[0]-e[0]});
for(var Y=1;Y<C.length;Y++)if(C[Y][0]-C[Y-1][0]<.001){C.splice(Y,1);Y--}}else{for(var Y=0;Y<n.length;
Y++){var v=S[Y].v,R=v.Clr.v,g=v.Lctn.v/4096;C.push([g,[R.Rd.v*T,R.Grn.v*T,R.Bl.v*T],D[Y].v.Opct.v.val/100,S[Math.min(Y+1,S.length-1)].v.Mdpn.v/100])}}return C};
j.G.AL=function(I,k){function a(I,T){I.addColorStop(T[0],CSS.anL(T[1],T[2]))}function n(T,S,D,o){var v=Math.log(.5)/Math.log(o),g=Math.log(.5)/Math.log(1-o),d=o>.5?Math.pow(D,v):1-Math.pow(1-D,g),R=1-d,c=T[0],e=T[1],O=S[1],U=[c+(S[0]-c)*D,[e[0]*R+O[0]*d,e[1]*R+O[1]*d,e[2]*R+O[2]*d],T[2]*R+S[2]*d];
return U}a(I,k[0]);for(var Y=1;Y<k.length;Y++){var s=k[Y-1][3];if(s!=.5)for(var C=1;C<20;C++)a(I,n(k[Y-1],k[Y],C/20,s));
a(I,k[Y])}};j.a1H={};j.a1H.CH=function(I,k,a,n,s,C,T,S,D,o,v,g){var d,R,c,e=Date.now(),O=!1,U=T,K=o,_,Z,H,G,N=C*255,z=255-D*255,L=1+s*6,p=1+S*6,V=1+g*4,r=(V-1)/7,y=0,W=255-0,m,f,h,b,i,w,J,q,x,A,Q,B,l,P=0,F=1,t,b$,hd,di,hD,a$,eJ,hY,ik,fw,jb=1+v,cd,dN=j.U(a*n),kc=j.U(a*n),ck=j.U(a*n),b3=j.U(a*n),hL=255/N,gS=255/(255-z);
for(R=0;R<n;R++){for(d=0;d<a;d++){var Y=R*a+d,jF=Y<<2;t=j.RL(I[jF],I[jF+1],I[jF+2]);b3[Y]=t;if(t<N)dN[Y]=255-t*hL;
if(t>z)kc[Y]=255-(255-t)*gS}}if(O)console.log("init",Date.now()-e);e=Date.now();if(s*U>0){ck.set(dN);
j.ox.IT(ck,dN,new eZ(0,0,a,n),U)}if(S*K>0){ck.set(kc);j.ox.IT(ck,kc,new eZ(0,0,a,n),K)}if(O)console.log("blur",Date.now()-e);
e=Date.now();var kB=j.U(256),jw=j.U(256);for(var Y=0;Y<256;Y++){var iT=Y*(1/255),gY=0;gY=(1-Math.pow(1-iT,L))*255;
kB[Y]=Math.max(0,Math.min(255,~~(gY+.5)));gY=Math.pow(iT,p)*255;jw[Y]=Math.max(0,Math.min(255,~~(gY+.5)))}var aL=new Uint8ClampedArray(k.buffer),dw=new Float32Array(32768);
for(var Y=0;Y<32768;Y++){cd=Math.sqrt(Y)*(1/128);if(jb>1)cd=(1-cd)*(jb-1)+1;else cd=cd*(jb-1)+1;dw[Y]=cd}for(R=0;
R<n;R++){for(d=0;d<a;d++){var Y=R*a+d,jF=Y<<2,gY=b3[Y],ka=dN[Y]*(1/255),cy=kc[Y]*(1/255);gY=(1-ka)*gY+ka*kB[~~gY];
gY=(1-cy)*gY+cy*jw[~~gY];t=gY;var jP=I[jF],aA=I[jF+1],d1=I[jF+2];b$=-jP*.168736-aA*.331264+d1*.5;hd=jP*.5-aA*.418688-d1*.081312;
cd=dw[~~(.5+b$*b$+hd*hd)];di=b$*cd;a$=hd*cd;F=1-Math.min(2-(ka+cy),1);b$=F*b$+(1-F)*di;hd=F*hd+(1-F)*a$;
hY=t+1.402*hd;ik=t-.34414*b$-.71414*hd;fw=t+1.772*b$;aL[jF]=~~(.5+hY);aL[jF+1]=~~(.5+ik);aL[jF+2]=~~(.5+fw)}}if(O)console.log("apply masks",Date.now()-e);
e=Date.now()};j.Iu={};j.Iu.ZY=function(I,k,a,n,s){var C=Date.now(),T=!1,e=1,W=0,x=0;if(!k.j1(s)){var S=k.oL(s),D=j.U(S.c()*4);
j.ao(I,k,D,S);I=D;k=S}var o=j.U(k.c());j.O0(a,s,o,k);j.round(o);s=s.LU(k);var v=s.Q,g=s._,d=v*3<g?2:1,R=g*3<v?2:1;
if(s.c()*(d*2+1)*(R*2+1)<k.c()){var S=new eZ(s.x-v*d,s.y-g*d,v*(d*2+1),g*(R*2+1)).LU(k),D=j.U(S.c()*4);
j.ao(I,k,D,S);var c=j.U(S.c());j.O0(o,k,c,S);k=S;I=D;o=c}while((k.Q+k._)/2/e>400)e++;var O=I,U=k,K=o,_=Math.floor(U.Q/e),Z=Math.floor(U._/e);
I=j.U(_*Z*4);j.scale.jj(O,U.Q,U._,I,_,Z,1/e);o=j.U(_*Z);j.scale.F$(K,U.Q,U._,o,_,Z,1/e);j.round(o,1);
if(T)console.log("scale down:",e,_,Z);var H=j.PD(o,new eZ(0,0,_,Z));if(H.KH())return 1;var G=Math.round((H.Q+H._)/2/15);
if(T)console.log(Date.now()-C,"preprocess");C=Date.now();var N=j.U(_*Z*4);j.au6(I,N);var z=Int16Array,L=new z(_*Z*24),p=new z(64),V=new z(64),r=new z(64),y=new z(64);
for(var m=3;m<Z-4;m++)for(var f=3;f<_-4;f++){var h=m*_+f;if(o[h]==255)continue;if(j.Iu.ab7(N,o,f,m,_,Z,p,V,r)!=0)continue;
j.Iu.Ug(p,y);var b=W*24;L[b]=f;L[b+1]=m;j.Iu.ed(p,L,b+4,12);j.Iu.Ug(V,y);j.Iu.ed(V,L,b+16,4);j.Iu.Ug(r,y);
j.Iu.ed(r,L,b+20,4);var i=L[b+5],w=L[b+6];L[b+5]=L[b+16];L[b+6]=L[b+20];L[b+16]=i;L[b+20]=w;W++}if(W==0)return 2;
if(T)console.log(Date.now()-C,"FWHT computed");C=Date.now();var J=[];j.Iu._L(0,W-1,J,L,new z(2*24));
if(T)console.log(Date.now()-C,"KD tree computed");C=Date.now();var q=new Uint32Array(_*Z*4);for(var Y=0;
Y<W;Y++){var A=Y,Q=j.Iu.atX(A,L,J,G);if(Q==-1)continue;var B=A*24,l=Q*24,P=L[B],F=L[B+1],t=L[l],b$=L[l+1];
x+=j.Iu.getError(l,B,L,1e99);var hd=t-P,di=b$-F;q[(Z+di)*2*_+(_+hd)]+=1}if(T)console.log(Date.now()-C,"NN found");
C=Date.now();var hD=[],a$=1/(2*_);for(var Y=0;Y<q.length;Y++){if(q[Y]>0){var m=Math.floor(Y*a$),f=Y-m*2*_;
hD.push({x:f-_,y:m-Z,P:q[Y],vR:-1})}}hD.sort(function(aL,dw){return dw.P-aL.P});var eJ=new Int32Array(_*Z),hY=[];
for(var Y=0;Y<_*Z;Y++){if(o[Y]==255){eJ[Y]=hY.length>>>1;hY.push(Y%_,Math.floor(Y/_))}else if(I[(Y<<2)+3]<200){eJ[Y]=-2}else{eJ[Y]=-1}}var ik=j.Iu.apG(_,Z,hD,eJ,hY);
if(ik==null){if(T)console.log("no appropriate labeling");return 3}var fw=ik.Fd,top=ik.top;fw=j.Iu.amu(fw,I,_,Z,top,eJ,hY);
if(T)console.log(Date.now()-C,"optimal labeling found");C=Date.now();var S=s.clone();S.CJ(1,1);S=S.LU(U);
var jb=j.U(S.c()*4),cd=j.U(S.c());j.ao(O,U,jb,S);var dN=U.Q,kc=U._;for(var m=0;m<kc;m++)for(var f=0;
f<dN;f++){if(K[m*dN+f]==0)continue;var ck=Math.min(Math.floor(f/e),_-1),b3=Math.min(Math.floor(m/e),Z-1),hL=eJ[b3*_+ck];
if(hL==-1)continue;var gS=fw[hL],jF=top[gS],kB=f+jF.x*e,jw=m+jF.y*e,iT=jw*dN+kB<<2,gY=(m-S.y+U.y)*S.Q+(f-S.x+U.x)<<2;
jb[gY]=O[iT];jb[gY+1]=O[iT+1];jb[gY+2]=O[iT+2];jb[gY+3]=O[iT+3];jb[gY+3]=O[iT+3];cd[gY>>2]=gS+1}if(T)console.log(Date.now()-C,"copied back");
C=Date.now();j.eb.ZY(jb,cd,S,null,1e3);if(T)console.log(Date.now()-C,"poisson smooth");C=Date.now();
j.ao(jb,S,n,s);return 0};j.Iu.aCY=function(I,k,a,n,s,C){return j.Iu.W4(I+s.x,k+s.y,a,n,C)?0:1e9};j.Iu.amu=function(I,k,a,n,top,s,C){var T=Date.now(),S=C.length>>>1,D=[-1,0,0,-1,1,0,0,1],o=1e99,v=[],g=[],d=2*(S*2*3+S*2),R=null,c=0,e=0,O=0,U=1e99;
while(!0&&Date.now()<T+12e3){O++;var K=null,_=o;for(var Z=0;Z<top.length;Z++){var H=top[Z],G=0,N=S+2,z=0;
for(var Y=0;Y<S;Y++){var L=C[Y*2],p=C[Y*2+1],V=top[I[Y]],r=j.Iu.aCY(L,p,a,n,H,s),y=I[Y]==Z?1e9:j.Iu.aCY(L,p,a,n,V,s);
for(var bQ=0;bQ<4;bQ++){if(bQ==0&&L==0||bQ==1&&p==0||bQ==2&&L==a-1||bQ==3&&p==n-1)continue;var W=D[2*bQ],m=D[2*bQ+1],f=L+W,h=p+m,b=s[h*a+f];
if(b==-2){}else if(b==-1){r+=3*j.Iu._$(f+H.x,h+H.y,f,h,a,n,k,s);r+=2*j.Iu._$(f+H.x+W,h+H.y+m,f+W,h+m,a,n,k,s);
y+=3*j.Iu._$(f+V.x,h+V.y,f,h,a,n,k,s);y+=2*j.Iu._$(f+V.x+W,h+V.y+m,f+W,h+m,a,n,k,s)}else if(bQ>1){if(I[Y]==I[b]){var i=0;
i+=j.Iu._$(L+V.x,p+V.y,L+H.x,p+H.y,a,n,k,s);i+=j.Iu._$(f+V.x,h+V.y,f+H.x,h+H.y,a,n,k,s);v[G]=Y;v[G+1]=b;
g[G]=i;g[G+1]=i;G+=2}else{var w=top[I[b]],J=N,q=0,x=0,A=0;N++;q+=j.Iu._$(L+V.x,p+V.y,L+H.x,p+H.y,a,n,k,s);
q+=j.Iu._$(f+V.x,h+V.y,f+H.x,h+H.y,a,n,k,s);x+=j.Iu._$(L+w.x,p+w.y,L+H.x,p+H.y,a,n,k,s);x+=j.Iu._$(f+w.x,h+w.y,f+H.x,h+H.y,a,n,k,s);
A+=j.Iu._$(L+w.x,p+w.y,L+V.x,p+V.y,a,n,k,s);A+=j.Iu._$(f+w.x,h+w.y,f+V.x,h+V.y,a,n,k,s);v[G]=Y;v[G+1]=J;
g[G]=q;g[G+1]=q;G+=2;v[G]=b;v[G+1]=J;g[G]=x;g[G+1]=x;G+=2;v[G]=J;v[G+1]=S+1;g[G]=A;g[G+1]=0;G+=2}}}v[G]=S;
v[G+1]=Y;g[G]=r;g[G+1]=0;G+=2;v[G]=Y;v[G+1]=S+1;g[G]=y;g[G+1]=0;G+=2;z+=Math.min(r,y)}if(z>_)continue;
var Q=j.Hz.zI(N,G,S,S+1,v,g,_);if(Q.Az<_){_=Q.Az;var B=I.slice(0);j.Iu.aj6(B,G,v,Q.jW,Z,S);K=B}}if(_*1>=o){break}o=_;
I=K;if((O&3)==0){if(_*1.03>=U)break;U=_}if((O&3)==0){var l=0*top.length;for(var Y=0;Y<top.length&&top.length>l;
Y++){if(I.indexOf(Y)!=-1)continue;top.splice(Y,1);for(var b=0;b<I.length;b++)if(I[b]>Y)I[b]--;Y--}}}return I};
j.Iu.aj6=function(I,k,a,n,s,C){for(var Y=0;Y<n.length;Y++){var T=n[Y]<<1,S=0,D=0;if(T<k){S=a[T];D=a[T+1]}else{D=a[T];
S=a[T+1]}if(S==C&&I[D]!=s)I[D]=s}};j.Iu.aE6=function(top,I,k,a,n,s,C,T,S){for(var Y=0;Y<k.length;Y++){var D=k[Y],o=!0;
if(T!=null&&!j.Iu.W4(T+D.x,S+D.y,s,C,a))continue;if(D.vR==-1)D.vR=j.Iu.aE3(D,a,n,s,C);if(D.vR<=0)continue;
for(var v=0;v<top.length;v++){var g=top[v],d=D.x-g.x,R=D.y-g.y;if(d*d+R*R<I){o=!1;break}}if(o)return D}return null};
j.Iu.aE3=function(I,k,a,n,s){var C=0;for(var Y=0;Y<a.length;Y+=2){var T=a[Y]+I.x,S=a[Y+1]+I.y;if(j.Iu.W4(T,S,n,s,k))C++}return C/(a.length>>1)};
j.Iu.apG=function(I,k,a,n,s){var C=s.length>>>1,top=[];for(var Y=0;Y<60;Y++){var T=j.Iu.aE6(top,25,a,n,s,I,k);
if(T==null)break;else top.push(T)}if(top.length==0)return null;var S=[];for(var Y=0;Y<C;Y++){var D=s[Y*2],o=s[Y*2+1],v=-1,g=0;
while(!0){g++;var d=Math.random();v=Math.floor(d*.99999*top.length);var R=top[v],c=D+R.x,e=o+R.y;if(j.Iu.W4(c,e,I,k,n))break;
if(g>1e3){var T;T=j.Iu.aE6(top,0,a,n,s,I,k,D,o);if(T==null)for(var O=0;O<4;O++){var U,K,_=0;while(!0){U=~~(Math.random()*I);
K=~~(Math.random()*k);if(j.Iu.W4(U,K,I,k,n))break;_++;if(_>500)throw"e"}T={x:U-D,y:K-o,P:1,vR:-1};a.push(T);
top.push(T)}else top.push(T);g=0}}S.push(v)}return{top:top,Fd:S}};j.Iu._$=function(I,k,a,n,s,C,T,S){if(I==a&&k==n)return 0;
if(I<0||k<0||I>=s||k>=C||a<0||n<0||a>=s||n>=C||S[k*s+I]!=-1||S[n*s+a]!=-1)return 1e7;var D=k*s+I<<2,o=n*s+a<<2,v=T[D]-T[o],g=T[D+1]-T[o+1],d=T[D+2]-T[o+2];
return 1+(v*v+g*g+d*d)};j.Iu.W4=function(I,k,a,n,s){return I>=0&&I<a&&k>=0&&k<n&&s[k*a+I]==-1};j.Iu.atX=function(I,k,a,n){var s=24*I,C=k[s],T=k[s+1],S=n*n,D=0,d=1e9;
while(a[D]!=99)if(k[s+a[D]]<a[D+1])D=a[D+2];else D=a[D+3];var o=a[D+1],v=a[D+2],g=-1;for(var Y=o;Y<=v;
Y++){var D=Y,R=D*24,c=k[R],e=k[R+1];if((c-C)*(c-C)+(e-T)*(e-T)<S)continue;var O=j.Iu.getError(R,s,k,d);
if(O<d){d=O;g=D}}return g};j.Iu.getError=function(I,k,a,n){var s=0;for(var C=4;C<24;C+=4){var T=a[k+C]-a[I+C],S=a[k+C+1]-a[I+C+1],D=a[k+C+2]-a[I+C+2],o=a[k+C+3]-a[I+C+3];
s+=T*T+S*S+D*D+o*o;if(s>=n)return s+1}return s};j.Iu._L=function(I,k,a,n,s){var C=16,d=0;if(k-I<=C){a.push(99,I,k);
return}j.Iu.TO(I,k,n,s);var T=-1,S=-1;for(var Y=4;Y<24;Y++){var D=s[2*Y+1]-s[2*Y];if(D>S){S=D;T=Y}}var o=I+k>>1,v=j.Iu.a3Q(o,I,k,n,T),g=-1;
for(var Y=I;Y<=k;Y++)if(n[24*Y+T]==v){if(g==-1)g=Y;d=Y}if(I+8<g&&g-I>k-d)o=g;else if(d+1<k-8)o=d+1;else if(k-I<64){a.push(99,I,k);
return}else o=o;var R=a.length;a.push(T,v,0,0);a[R+2]=R+4;j.Iu._L(I,o-1,a,n,s);a[R+3]=a.length;j.Iu._L(o,k,a,n,s)};
j.Iu.TO=function(I,k,a,n){for(var Y=0;Y<48;Y+=4){n[Y]=3e4;n[Y+1]=-3e4;n[Y+2]=3e4;n[Y+3]=-3e4}for(var Y=I;
Y<=k;Y++){var s=Y*24;for(var C=0;C<24;C++){var T=a[s+C],S=n[C<<1],D=n[(C<<1)+1];if(T<S)n[C<<1]=T;if(T>D)n[(C<<1)+1]=T}}};
j.Iu.sq=function(I,k,a){var n=0,Y=0;n=a[I+Y];a[I+Y]=a[k+Y];a[k+Y]=n;Y++;n=a[I+Y];a[I+Y]=a[k+Y];a[k+Y]=n;
Y++;n=a[I+Y];a[I+Y]=a[k+Y];a[k+Y]=n;Y++;n=a[I+Y];a[I+Y]=a[k+Y];a[k+Y]=n;Y++;n=a[I+Y];a[I+Y]=a[k+Y];a[k+Y]=n;
Y++;n=a[I+Y];a[I+Y]=a[k+Y];a[k+Y]=n;Y++;n=a[I+Y];a[I+Y]=a[k+Y];a[k+Y]=n;Y++;n=a[I+Y];a[I+Y]=a[k+Y];a[k+Y]=n;
Y++;n=a[I+Y];a[I+Y]=a[k+Y];a[k+Y]=n;Y++;n=a[I+Y];a[I+Y]=a[k+Y];a[k+Y]=n;Y++;n=a[I+Y];a[I+Y]=a[k+Y];a[k+Y]=n;
Y++;n=a[I+Y];a[I+Y]=a[k+Y];a[k+Y]=n;Y++;n=a[I+Y];a[I+Y]=a[k+Y];a[k+Y]=n;Y++;n=a[I+Y];a[I+Y]=a[k+Y];a[k+Y]=n;
Y++;n=a[I+Y];a[I+Y]=a[k+Y];a[k+Y]=n;Y++;n=a[I+Y];a[I+Y]=a[k+Y];a[k+Y]=n;Y++;n=a[I+Y];a[I+Y]=a[k+Y];a[k+Y]=n;
Y++;n=a[I+Y];a[I+Y]=a[k+Y];a[k+Y]=n;Y++;n=a[I+Y];a[I+Y]=a[k+Y];a[k+Y]=n;Y++;n=a[I+Y];a[I+Y]=a[k+Y];a[k+Y]=n;
Y++;n=a[I+Y];a[I+Y]=a[k+Y];a[k+Y]=n;Y++;n=a[I+Y];a[I+Y]=a[k+Y];a[k+Y]=n;Y++;n=a[I+Y];a[I+Y]=a[k+Y];a[k+Y]=n;
Y++;n=a[I+Y];a[I+Y]=a[k+Y];a[k+Y]=n;Y++};j.Iu.UT=function(I,k,a,n){var s=a+n>>>1,C=I[24*s+k];while(a<=n){while(I[24*a+k]<C)a++;
while(I[24*n+k]>C)n--;if(a<=n){if(I[24*a+k]!=I[24*n+k])j.Iu.sq(a*24,n*24,I);a++;n--}}return a};j.Iu.a3Q=function(I,k,a,n,s){var C=0;
while(k!=a){C=j.Iu.UT(n,s,k,a);if(I<C)a=C-1;else k=C}return n[I*24+s]};j.Iu.ed=function(I,k,a,n){for(var Y=0;
Y<n;Y++)k[a+Y]=I[Y]};j.Iu.ab7=function(I,k,a,n,s,C,T,S,D){var o=(n-3)*s+(a-3),v=o<<2;for(var g=0;g<8;
g++){if(k[o]+k[o+1]+k[o+2]+k[o+3]+k[o+4]+k[o+5]+k[o+6]+k[o+7]!=0||I[v+3]<200||I[v+7]<200||I[v+11]<200||I[v+15]<200||I[v+19]<200||I[v+23]<200||I[v+27]<200||I[v+31]<200)return 1;
var Y=g<<3;T[Y+0]=I[v+0];S[Y+0]=I[v+1];D[Y+0]=I[v+2];T[Y+1]=I[v+4];S[Y+1]=I[v+5];D[Y+1]=I[v+6];T[Y+2]=I[v+8];
S[Y+2]=I[v+9];D[Y+2]=I[v+10];T[Y+3]=I[v+12];S[Y+3]=I[v+13];D[Y+3]=I[v+14];T[Y+4]=I[v+16];S[Y+4]=I[v+17];
D[Y+4]=I[v+18];T[Y+5]=I[v+20];S[Y+5]=I[v+21];D[Y+5]=I[v+22];T[Y+6]=I[v+24];S[Y+6]=I[v+25];D[Y+6]=I[v+26];
T[Y+7]=I[v+28];S[Y+7]=I[v+29];D[Y+7]=I[v+30];v+=s<<2;o+=s}return 0};j.Iu.Ug=function(I,k){k[0]=I[32]+I[0];
k[1]=I[33]+I[1];k[2]=I[34]+I[2];k[3]=I[35]+I[3];k[4]=I[36]+I[4];k[5]=I[37]+I[5];k[6]=I[38]+I[6];k[7]=I[39]+I[7];
k[8]=I[40]+I[8];k[9]=I[41]+I[9];k[10]=I[42]+I[10];k[11]=I[43]+I[11];k[12]=I[44]+I[12];k[13]=I[45]+I[13];
k[14]=I[46]+I[14];k[15]=I[47]+I[15];k[16]=I[48]+I[16];k[17]=I[49]+I[17];k[18]=I[50]+I[18];k[19]=I[51]+I[19];
k[20]=I[52]+I[20];k[21]=I[53]+I[21];k[22]=I[54]+I[22];k[23]=I[55]+I[23];k[24]=I[56]+I[24];k[25]=I[57]+I[25];
k[26]=I[58]+I[26];k[27]=I[59]+I[27];k[28]=I[60]+I[28];k[29]=I[61]+I[29];k[30]=I[62]+I[30];k[31]=I[63]+I[31];
k[32]=I[0]-I[32];k[33]=I[1]-I[33];k[34]=I[2]-I[34];k[35]=I[3]-I[35];k[36]=I[4]-I[36];k[37]=I[5]-I[37];
k[38]=I[6]-I[38];k[39]=I[7]-I[39];k[40]=I[8]-I[40];k[41]=I[9]-I[41];k[42]=I[10]-I[42];k[43]=I[11]-I[43];
k[44]=I[12]-I[44];k[45]=I[13]-I[45];k[46]=I[14]-I[46];k[47]=I[15]-I[47];k[48]=I[16]-I[48];k[49]=I[17]-I[49];
k[50]=I[18]-I[50];k[51]=I[19]-I[51];k[52]=I[20]-I[52];k[53]=I[21]-I[53];k[54]=I[22]-I[54];k[55]=I[23]-I[55];
k[56]=I[24]-I[56];k[57]=I[25]-I[57];k[58]=I[26]-I[58];k[59]=I[27]-I[59];k[60]=I[28]-I[60];k[61]=I[29]-I[61];
k[62]=I[30]-I[62];k[63]=I[31]-I[63];I[0]=k[16]+k[0];I[1]=k[17]+k[1];I[2]=k[18]+k[2];I[3]=k[19]+k[3];
I[4]=k[20]+k[4];I[5]=k[21]+k[5];I[6]=k[22]+k[6];I[7]=k[23]+k[7];I[8]=k[24]+k[8];I[9]=k[25]+k[9];I[10]=k[26]+k[10];
I[11]=k[27]+k[11];I[12]=k[28]+k[12];I[13]=k[29]+k[13];I[14]=k[30]+k[14];I[15]=k[31]+k[15];I[16]=k[0]-k[16];
I[17]=k[1]-k[17];I[18]=k[2]-k[18];I[19]=k[3]-k[19];I[20]=k[4]-k[20];I[21]=k[5]-k[21];I[22]=k[6]-k[22];
I[23]=k[7]-k[23];I[24]=k[8]-k[24];I[25]=k[9]-k[25];I[26]=k[10]-k[26];I[27]=k[11]-k[27];I[28]=k[12]-k[28];
I[29]=k[13]-k[29];I[30]=k[14]-k[30];I[31]=k[15]-k[31];k[0]=I[8]+I[0];k[1]=I[9]+I[1];k[2]=I[10]+I[2];
k[3]=I[11]+I[3];k[4]=I[12]+I[4];k[5]=I[13]+I[5];k[6]=I[14]+I[6];k[7]=I[15]+I[7];k[8]=I[0]-I[8];k[9]=I[1]-I[9];
k[10]=I[2]-I[10];k[11]=I[3]-I[11];k[12]=I[4]-I[12];k[13]=I[5]-I[13];k[14]=I[6]-I[14];k[15]=I[7]-I[15];
I[0]=k[4]+k[0];I[1]=k[5]+k[1];I[2]=k[6]+k[2];I[3]=k[7]+k[3];I[4]=k[0]-k[4];I[5]=k[1]-k[5];I[6]=k[2]-k[6];
I[7]=k[3]-k[7];I[8]=k[12]+k[8];I[9]=k[13]+k[9];I[10]=k[14]+k[10];I[11]=k[15]+k[11];I[12]=k[8]-k[12];
I[13]=k[9]-k[13];I[14]=k[10]-k[14];I[15]=k[11]-k[15];k[0]=I[2]+I[0];k[1]=I[3]+I[1];k[2]=I[0]-I[2];k[3]=I[1]-I[3];
k[4]=I[6]+I[4];k[5]=I[7]+I[5];k[6]=I[4]-I[6];k[7]=I[5]-I[7];k[8]=I[10]+I[8];k[9]=I[11]+I[9];k[10]=I[8]-I[10];
k[11]=I[9]-I[11];k[12]=I[14]+I[12];k[13]=I[15]+I[13];k[14]=I[12]-I[14];k[15]=I[13]-I[15];I[0]=k[1]+k[0];
I[1]=k[0]-k[1];I[2]=k[3]+k[2];I[3]=k[2]-k[3];I[4]=k[5]+k[4];I[5]=k[4]-k[5];I[6]=k[7]+k[6];I[7]=k[6]-k[7];
I[8]=k[9]+k[8];I[9]=k[8]-k[9];I[10]=k[11]+k[10];I[11]=k[10]-k[11];I[12]=k[13]+k[12];I[13]=k[12]-k[13];
I[14]=k[15]+k[14];I[15]=k[14]-k[15]};j.Iu.ao9=function(){var I="",bQ=64,k="v",a="t",n="a",s=5,Y,C,T;
for(Y=bQ>>1;Y>0;Y>>=1,s--){for(C=0;C<bQ;C++){T=(C>>s&1)!=0;if(T){I+=a+"["+C+"] = "+k+"["+(-Y+C)+"] - "+k+"["+C+"];  "}else{I+=a+"["+C+"] = "+k+"["+(Y+C)+"] + "+k+"["+C+"];  "}}n=k;
k=a;a=n;I+="\n"}console.log(I)};j.Iu.ayD=function(bQ,I,k){var a=I,n=k,s=a,C=0,Y,S,D;while(bQ>>C!=2)C++;
var T=C;for(Y=bQ>>1;Y>0;Y>>=1,C--){for(S=0;S<bQ;S++){D=(S>>C&1)!=0;if(D)n[S]=a[-Y+S]-a[S];else n[S]=a[Y+S]+a[S]}s=a;
a=n;n=s}if((T&1)==1)for(Y=0;Y<bQ;Y++)k[Y]=a[Y]};j.GI={};j.GI.cL=function(I,k,a,n,s,C,T,S,D){var o=Date.now(),v=new Uint32Array(I.buffer),g=new Uint32Array(k.buffer),d=T/a,R=S/n,c=1/d,e=1/R,O=new Float64Array(2),U=3,K=1/U,_=1/(U*U),Z=0,H=0,G=a,N=n;
if(s){Z=s.x;H=s.y;G=s.Q;N=s._}for(var z=0;z<N;z++)for(var L=0;L<G;L++){var p=Z+L,V=H+z,Y=V*a+p,r=Y<<1,y=Y<<2;
j.GI.a3Z(C,T,S,(p+.5)*d,(V+.5)*R,O);var W=O[0]*c,m=O[1]*e;if(W==0&&m==0)g[Y]=v[Y];else{j.t.AR(p+W+.5,V+m+.5,v,a,n,g,Y,D)}}};
j.GI.a3Z=function(I,k,a,n,s,C){n-=.499999;s-=.499999;var T=~~n,S=~~s,D=n-T,o=s-S,v=(1-o)*(1-D),g=(1-o)*D,d=o*(1-D),R=o*D,c=T<k-1?T+1:T,e=S<a-1?S+1:S,O=S*k+T<<1,U=S*k+c<<1,K=e*k+T<<1,_=e*k+c<<1;
C[0]=v*I[O]+g*I[U]+d*I[K]+R*I[_];C[1]=v*I[O+1]+g*I[U+1]+d*I[K+1]+R*I[_+1]};j.GI.a1u=function(I,k,a,n,s){var C=1/I,T=[-1,1,-I,I],S=n.length;
for(var D=0;D<S;D++){var Y=n[D],o=Y<<1,v=D<<1,g=~~(Y*C),d=Y-I*g,R=a[o],c=a[o+1],e=0,O=0;if(d!=0&&d!=I-1){var U=Y-1<<1,K=Y+1<<1,_=a[U],Z=a[K],H=a[U+1],G=a[K+1],N=R-(_+Z)*.5,z=c-(H+G)*.5;
e-=N*s;O-=z*s}if(g!=0&&g!=k-1){var U=Y-I<<1,K=Y+I<<1,_=a[U],Z=a[K],H=a[U+1],G=a[K+1],N=R-(_+Z)*.5,z=c-(H+G)*.5;
e-=N*s;O-=z*s}a[o]=R+e;a[o+1]=c+O}};j.GI.auJ=function(I,k){var a=I+","+k;if(j.GI.agO==a)return j.GI.apC;
var n=j.GI.apC=[];j.GI.agO=a;for(var Y=0;Y<=1e3;Y++){var s=Y*.001,C=Math.sqrt(s),T=Math.exp(-4*C),S=.96*(1-C*C),D=k*((1-I)*T+I*S);
n[Y]=D}return n};j.GI.agO="";j.GI.apC=[];j.GI.atH=function(I,k,a,n,s,C,T,S,D,o,v,g,d){var R=Math.max(0,Math.floor(s-T-1)),c=Math.min(k,Math.ceil(s+T+1)),e=Math.max(0,Math.floor(C-T-1)),O=Math.min(a,Math.ceil(C+T+1)),U=2*k,K=T*T,_=1/T,Z=0;
if(d&&(n==3||n==6))D=-D;var H=j.GI.auJ(S,D);for(var G=e;G<O;G++)for(var N=R;N<c;N++){var Y=G*k+N,z=Y<<1,L=(s-N)*_,p=(C-G)*_,V=L*L+p*p;
if(V<1){g[Z]=Y;var r=H[~~(V*1e3)];if(n==1){I[z]=I[z]*(1-r*.05);I[z+1]=I[z+1]*(1-r*.05)}else{var y=0,W=0,h,b,i,w;
if(n==0){y=o*r;W=v*r}else if(n==2){}else if(n==3){y=r*p;W=-r*L}else if(n==4){y=r*L;W=r*p}else if(n==5){y=-r*L;
W=-r*p}else if(n==6){y=v*r;W=-o*r}var m=I[z],f=I[z+1];if(N==0||N!=k-1&&y<0){h=1+I[z+2]-m;i=I[z+3]-f}else{h=m-I[z-2]+1;
i=f-I[z-1]}if(G==0||G!=a-1&&W<0){b=I[z+U]-m;w=1+I[z+U+1]-f}else{b=m-I[z-U];w=f-I[z-U+1]+1}I[z]=-(h*y+b*W-m);
I[z+1]=-(i*y+w*W-f)}Z++}}};j.GI.adl=function(I){var k=I[0],a=I[0],n=I[1],s=I[1];for(var Y=0;Y<I.length;
Y+=2){var C=I[Y],T=I[Y+1];if(C<k)k=C;else if(C>a)a=C;if(T<n)n=T;else if(T>s)s=T}return[k,n,a,s]};j.aD6=function(I,k,a,n,s){function C(t,b$,hd,di){return Math.sqrt((t-hd)*(t-hd)+(b$-di)*(b$-di))}function T(t,b$){return t>=0&&t<k&&b$>=0&&b$<a}function S(t){if(t<0)return 0;
if(t>=k)return k-1;return t}function D(t){if(t<0)return 0;if(t>=a)return a-1;return t}function o(Y,t){var b$=t[3]*(1/255),hd=n[Y]+t[0]*b$;
if(hd>255)hd=255;n[Y]=hd;hd=n[Y+1]+t[1]*b$;if(hd>255)hd=255;n[Y+1]=hd;hd=n[Y+2]+t[2]*b$;if(hd>255)hd=255;
n[Y+2]=hd}function v(t,b$,hd){if(!J(t,b$))return;if(hd[3]<0)hd[3]=0;o((b$*k+t)*4,hd)}function g(t){var b$=t.slice(0,3);
b$[3]=0;return b$}var d=k/800;function R(t){return Math.round(t*d)}function c(){for(var Y=0;Y<=300;Y++){x[Y]=e(Y)}}function e(a){var t=.8,b$=.2,hd=t*b$,di=a/60%2-1,hD=hd*(1-di*di),a$=b$-hd,eJ;
if(a<60){eJ=[hd+a$,hD,0]}else if(a<120){eJ=[hD,hd,0]}else if(a<180){eJ=[0,hd,hD]}else if(a<240){eJ=[0,hD,hd]}else if(a<300){eJ=[hD,0,hd]}else{eJ=[hd,0,hD]}return[(eJ[0]+a$)*255,(eJ[1]+a$)*255,(eJ[2]+a$)*255]}function O(a){return x[~~a]}function U(t){return 1-K(t)}function K(t){return t-~~t}function _(t,b$,hd,di){i(t,b$,hd,0,b$+1,1,di)}function Z(t,b$,hd,di,hD,a$){i(t,b$,hd,0,di,1,hD,a$)}function H(t){for(var Y=0;
Y<n.length;Y+=4){o(Y,t)}}function G(t,b$,hd,di,hD,a$,eJ,hY){N(t,b$,hd,di,hD,1,a$,eJ,hY)}function N(t,b$,hd,di,hD,a$,eJ,hY,ik){if(a$==null)a$=.5;
if(eJ==null)eJ=0;if(hY==null)hY=0;if(ik==null)ik=!1;var fw=t.x,jb=t.y,cd=hd.slice(0),dN=~~(hd[3]*Q);
di=di*Q;if(!ik){b$=w(b$);hD=w(hD);eJ=w(eJ);hY=w(hY)}var kc=S(fw-b$),ck=S(fw+b$);for(var b3=kc;b3<=ck;
b3++){var hL=b3-fw,gS=Math.floor(Math.sqrt(b$*b$-hL*hL)),jF=D(jb-gS),kB=D(jb);for(var jw=jF;jw<=kB;jw++){var iT=C(b3,jw,fw,jb);
if(iT>b$||iT<=b$-hD)break;var gY=(iT-b$+hD)/hD;cd[3]=dN-di*(a$==1?gY:Math.pow(gY,a$));o((jw*k+b3)*4,cd)}jF=D(jb+gS);
for(var jw=jF;jw>kB;jw--){var iT=C(b3,jw,fw,jb);if(iT>b$||iT<=b$-hD)break;var gY=(iT-b$+hD)/hD;cd[3]=dN-di*(a$==1?gY:Math.pow(gY,a$));
o((jw*k+b3)*4,cd)}}if(eJ>0){i(t,b$+eJ,cd,cd[3],eJ,1,0,0,!0)}if(hY>0){i(t,b$-hD,q(hd),-hd[3],hY,1,0,0,!0)}}function z(t,b$,hd,di,hD,a$){i(t,b$,hd,hd[3],b$+1,1,di,hD,a$)}function L(t,b$,hd,di,hD){if(hD==null)hD=!1;
var a$=t.x,eJ=t.y;di*=Q;if(!hD){b$=w(b$);hd=w(hd)}var hY=S(a$-b$),ik=S(a$+b$);for(var fw=hY;fw<ik;fw++){var jb=fw-a$,cd=~~Math.sqrt(b$*b$-jb*jb),dN=D(eJ-cd),kc=D(eJ);
for(var ck=dN;ck<=kc;ck++){var b3=C(fw,ck,a$,eJ);if(b3>b$||b3<=b$-hd)break;var hL=(b$-b3)/hd,gS=O(300*hL);
gS[3]=di;o((ck*k+fw)*4,gS)}dN=D(eJ+cd);for(var ck=dN;ck>kc;ck--){var b3=C(fw,ck,a$,eJ);if(b3>b$||b3<=b$-hd)break;
var hL=(b$-b3)/hd,gS=O(300*hL);gS[3]=di;o((ck*k+fw)*4,gS)}}}function p(A,t){var b$=A.A3,hd=A.jI,di=t.slice(0),hD=t[3]*Q,a$=Math.abs(hd.y-b$.y)>Math.abs(hd.x-b$.x);
if(a$){var eJ=b$.x;b$.x=b$.y;b$.y=eJ;eJ=hd.x;hd.x=hd.y;hd.y=eJ}if(b$.x>hd.x){var eJ=b$;b$=hd;hd=eJ}var hY=hd.x-b$.x,ik=hd.y-b$.y,fw=hY==0?1:ik/hY,jb=Math.round(b$.x),cd=b$.y+fw*(jb-b$.x),dN=U(b$.x+.5),kc=jb,ck=~~cd;
if(a$){di[3]=hD*U(cd)*dN;v(ck,kc,di);di[3]=hD*K(cd)*dN;v(ck+1,kc,di)}else{di[3]=hD*U(cd)*dN;v(kc,ck,di);
di[3]=hD*K(cd)*dN;v(kc,ck+1,di)}var b3=cd-fw;jb=Math.round(hd.x);cd=hd.y+fw*(jb-hd.x);dN=K(hd.x+.5);
var hL=jb,gS=~~cd;if(a$){di[3]=hD*U(cd)*dN;v(gS,hL,di);di[3]=hD*K(cd)*dN;v(gS+1,hL,di)}else{di[3]=hD*U(cd)*dN;
v(hL,gS,di);di[3]=hD*K(cd)*dN;v(hL,gS+1,di)}if(a$){for(var jF=kc+1;jF<=hL-1;jF++){di[3]=hD*U(b3);v(~~b3,jF,di);
di[3]=hD*K(b3);v(~~b3+1,jF,di);b3+=fw}}else{for(var jF=kc+1;jF<=hL-1;jF++){di[3]=hD*U(b3);v(jF,~~b3,di);
di[3]=hD*K(b3);v(jF,~~b3+1,di);b3+=fw}}}function V(t,b$,hd,di){for(var Y=0;Y<4;Y++){var hD=t.Ws(b$+1.3*Y,hd);
p(hD,di,1)}}function kK(t,b$){this.x=Math.round(t);this.y=Math.round(b$)}var r=Math.PI/180;kK.prototype.Ws=function(t,b$){t=t*r;
var hd=this.x+b$*Math.cos(t),di=this.y+b$*Math.sin(t);return new y(this.x,this.y,hd,di)};kK.prototype.aAE=function(t,b$){t=t*r;
var hd=this.E2+b$*Math.cos(t),di=this.fc+b$*Math.sin(t);return new kK(hd,di)};function y(t,b$,hd,di){this.A3=new kK(t,b$);
this.jI=new kK(hd,di)}y.prototype.Ni=function(t){var b$=t*this.A3.x+(1-t)*this.jI.x,hd=t*this.A3.y+(1-t)*this.jI.y;
return new kK(b$,hd)};var W=G,m=z,f=_,h=Z,b=L,i=N,w=R,J=T,q=g,x=[];c();for(var Y=0;Y<I.length;Y++){n[Y]=I[Y]}var A=new y(k*s[2],a*s[3],k/2,a/2),Q=s[1],B=[];
B[0]=function l(){var t=[80,40,15,60],hd=0,di=0;f(A.Ni(1.4),260,t,10);f(A.Ni(1),100,[240,50,50,30],30);
m(A.Ni(1),60,[255,40,0,40]);var b$=[255,255,255,255];i(A.Ni(1),70,b$,b$[3],58,.5);f(A.Ni(1),12,b$);b$[3]=40;
W(A.Ni(1),150,b$,b$[3],150);for(var Y=0;Y<40;Y++){hd+=Math.random()*25;di=Math.random()*w(300)+w(100);
var hD=A.Ni(1).Ws(hd,di);p(A.Ni(1).Ws(hd,di),[110,110,110,30])}m(A.Ni(1),130,[255,255,255,8]);var a$=[170,30,23,70];
h(A.Ni(1),70,a$,1,3,3);var eJ=[60,60,130,40];f(A.Ni(.47),44,eJ,5);f(A.Ni(.43),22,eJ,3);eJ[3]=16;f(A.Ni(.53),15,eJ,2);
var hY=[138,94,42,100];f(A.Ni(.2),16,hY,2);var ik=[130,255,170,180];m(A.Ni(0),4,ik);m(A.Ni(-.25),5,ik);
hY=[150,90,0,50];W(A.Ni(-.45),55,q(hY),-hY[3],40,2);f(A.Ni(-.42),35,hY,2);f(A.Ni(-.5),15,hY,2);b(A.Ni(-1.28),145,11,70);
var fw=O(0);fw[3]=50;W(A.Ni(-1.28),149,fw,fw[3],4);fw=O(300);fw[3]=50;W(A.Ni(-1.28),155-1,q(fw),-fw[3],3);
var jb=[130,130,10,50];h(A.Ni(-1),73,jb,3,2);var cd=[40,130,70,40];W(A.Ni(-1),70,q(cd),-cd[3],35);cd=[40,170,60,50];
f(A.Ni(-.7),25,cd,4);var cd=[70,110,50,60];W(A.Ni(1.3),30,q(cd),-cd[3],11,3);eJ=[0,50,210,80];m(A.Ni(-.72),20,eJ)};
B[1]=function P(){m(A.Ni(1),150,[240,70,70,60]);f(A.Ni(1),100,[200,60,60,40],30);var t=[255,255,255,255],b$=0,hd=0;
i(A.Ni(1),75,t,t[3],63);f(A.Ni(1),12,t);m(A.Ni(1),270,[200,200,200,20],10);for(var Y=0;Y<10;Y++){b$+=10+Math.random()*40;
hd=Math.random()*w(250)+w(80);var di=A.Ni(1).Ws(b$,hd);p(di,[110,110,110,35])}b$=5;hd=100;for(var Y=0;
Y<12;Y++){b$+=30;V(A.Ni(1),b$,hd,[90,90,90,40])}var hD=[150,40,23,100];h(A.Ni(1),70,hD,1,3,3);var a$=[30,100,60,40];
m(A.Ni(-.9),180,[255,255,255,20]);f(A.Ni(-.9),140,a$,15);var eJ=[170,80,25,15];h(A.Ni(-.9),120,eJ,1,4,4);
var hY=[110,240,190,200];m(A.Ni(-.6),3,hY);hY[3]=100;m(A.Ni(-.6),7,hY);var ik=[230,120,40,85];m(A.Ni(-.73),9,ik);
var fw=[60,60,190,50];f(A.Ni(.3),28,fw,6);fw[3]=25;f(A.Ni(.34),20,fw,3)};B[2]=function F(){var t=[255,255,255,255],hd=0,di=0;
f(A.Ni(1),13,t);i(A.Ni(1),150,t,t[3],137);var b$=[120,80,35,20];f(A.Ni(1.4),260,b$,10);for(var Y=0;Y<40;
Y++){hd+=5+Math.random()*30;di=Math.random()*w(300);p(A.Ni(1).Ws(hd,di),[110,110,110,20])}var hD=[10,30,255,30];
f(A.Ni(1),70,hD,50);var a$=[15,90,170,15];f(A.Ni(1.5),60,a$);var eJ=[220,220,20,50];f(A.Ni(-1.15),8,eJ,2);
var t=[255,255,255,40];m(A.Ni(-1.18),6,t);m(A.Ni(-1.18),4,t);eJ=[110,110,10,8];W(A.Ni(-1.2),32,q(eJ),-eJ[3],20,3);
var hY=[5,0,16,255];for(var Y=0;Y<4;Y++){f(A.Ni(-1.36),10,hY,3)}var ik=[90,200,150,20],fw=ik.slice(0);
fw[3]*=2;f(A.Ni(-1.32),7,fw,3);f(A.Ni(-1.36),7,fw,3);f(A.Ni(-1.4),7,fw,3);var t=[230,230,230,100];m(A.Ni(-1.36),2,t);
t[3]=3;f(A.Ni(-.55),10,t);eJ=[120,100,10,18];f(A.Ni(-.55),160,eJ,8);f(A.Ni(-.55),80,eJ,4);ik[3]=3;fw[3]=6;
W(A.Ni(-.49),13,q(fw),-fw[3],13,2);W(A.Ni(-.55),13,q(fw),-fw[3],13,2);ik[3]=20;f(A.Ni(.15),25,ik,3);
eJ[3]=100;m(A.Ni(-.52),3,eJ);eJ=[200,200,50,40];f(A.Ni(.27),1,eJ,4);var jb=[150,40,23,30];W(A.Ni(1),80,q(jb),-jb[3],2,1)};
return B[s[0]]()};j.Ce={};j.Ce.wZ=function(I){var k=I.length,bQ=I[0].length,a=new Array(bQ);for(var Y=0;
Y<bQ;Y++)a[Y]=new Array(k);for(var Y=0;Y<bQ;Y++)for(var n=0;n<k;n++)a[Y][n]=I[n][Y];return a};j.Ce.Sm=function(I,k){var a=I.length,bQ=I[0].length,n=new Array(a);
for(var Y=0;Y<a;Y++)n[Y]=new Array(bQ);for(var Y=0;Y<a;Y++)for(var s=0;s<bQ;s++)n[Y][s]=I[Y][s]-k[Y][s];
return n};j.Ce.add=function(I,k){var a=I.length,bQ=I[0].length,n=new Array(a);for(var Y=0;Y<a;Y++)n[Y]=new Array(bQ);
for(var Y=0;Y<a;Y++)for(var s=0;s<bQ;s++)n[Y][s]=I[Y][s]+k[Y][s];return n};j.Ce.multiply=function(I,k){var a=I.length,n=I[0].length,bQ=k[0].length;
if(n!=k.length)throw"e";var s=new Array(a);for(var Y=0;Y<a;Y++)s[Y]=new Array(bQ);if((n&1)!=0)for(var Y=0;
Y<a;Y++){var C=I[Y],T=s[Y];for(var S=0;S<bQ;S++){var D=0;for(var o=0;o<n;o++)D+=C[o]*k[o][S];T[S]=D}}else for(var Y=0;
Y<a;Y++){var C=I[Y],T=s[Y];for(var S=0;S<bQ;S++){var D=0;for(var o=0;o<n;o+=2)D+=C[o]*k[o][S]+C[o+1]*k[o+1][S];
T[S]=D}}return s};j.Ce.ws=function(I,k){var a=I.length,bQ=I[0].length,n=new Array(a);for(var Y=0;Y<a;
Y++){var s=0;for(var C=0;C<bQ;C++)s+=I[Y][C]*k[C];n[Y]=s}return n};j.Ce.KI=function(I,k){var a=[];for(var Y=0;
Y<I;Y++){a.push([]);for(var n=0;n<k;n++)a[Y].push(0)}return a};j.Ce.atn=function(I){for(var Y=0;Y<I.length;
Y++)console.log(JSON.stringify(I[Y]))};j.Ce.amU=function(I){var k=[];for(var Y=0;Y<I.length;Y++)k.push(I[Y].join(","));
return"["+k.join(";")+"]"};j.Ce.zI=function(I,k){var a=I.length;for(var n=0;n<a;n++){var s=0,C=Number.NEGATIVE_INFINITY;
for(var Y=n;Y<a;Y++)if(Math.abs(I[Y][n])>C){s=Y;C=Math.abs(I[Y][n])}j.Ce.a5f(I,n,s);for(var Y=n+1;Y<a;
Y++){if(I[n][n]==0)return 1;var T=I[Y][n]/I[n][n];for(var S=n;S<a+1;S++)I[Y][S]-=I[n][S]*T}}for(var Y=a-1;
Y>=0;Y--){if(I[Y][Y]==0)return 1;var D=I[Y][a]/I[Y][Y];k[Y]=D;for(var S=Y-1;S>=0;S--){I[S][a]-=I[S][Y]*D;
I[S][Y]=0}}return 0};j.Ce.a5f=function(I,k,a){var n=I[k];I[k]=I[a];I[a]=n};j.Ce.aoy=function(I){var k=I.length,a=j.Ce.KI(k,k);
for(var Y=0;Y<k;Y++)a[Y][Y]=I[Y];return a};j.Ce.aCv=function(I){var k=I.length,a=I[0].length,n=new Array(k);
for(var Y=0;Y<k;Y++){n[Y]=0;for(var s=0;s<a;s++)n[Y]+=I[Y][s];n[Y]/=a}return n};j.Ce.y4=function(I){var k=0;
for(var Y=0;Y<I.length;Y++)k+=I[Y]*I[Y];return Math.sqrt(k)};j.LT={};j.LT.VC=function(I){var k=~~(I+.5);
return k<0?0:k>255?255:k};j.LT.transform=function(I,k,a){var n=j.LT.VC,s=I.$.length;for(var Y=0;Y<s;
Y++){var C=I.$[Y],T=I.H[Y],S=I.J[Y];k.$[Y]=n(a[0]*C+a[1]*T+a[2]*S+a[3]*255);k.H[Y]=n(a[4]*C+a[5]*T+a[6]*S+a[7]*255);
k.J[Y]=n(a[8]*C+a[9]*T+a[10]*S+a[11]*255)}};j.LT.asX=function(I,k,a){var n=j.LT.VC,s=I.length;for(var Y=0;
Y<s;Y+=4){var C=I[Y],T=I[Y+1],S=I[Y+2];k[Y]=n(a[0]*C+a[1]*T+a[2]*S+a[3]*255);k[Y+1]=n(a[4]*C+a[5]*T+a[6]*S+a[7]*255);
k[Y+2]=n(a[8]*C+a[9]*T+a[10]*S+a[11]*255)}};j.LT.aq4=function(I){var k=I[0]+I[1]+I[2],a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(k==1){var n=I.indexOf(1);a[n]=a[n+4]=a[n+8]=1}else{a[0]=I[0];a[5]=I[1];a[10]=I[2]}return a};j.LT.av=function(I,k,a){return[1,0,0,I,0,1,0,k,0,0,1,a,0,0,0,1]};
j.LT.L_=function(I,k,a){return[I,0,0,0,0,k,0,0,0,0,a,0,0,0,0,1]};j.LT.a6s=function(I){return[I[0],I[1],I[2],I[4],I[5],I[6],I[8],I[9],I[10]]};
j.LT.kM=function(I){return[I[0],I[1],I[2],0,I[3],I[4],I[5],0,I[6],I[7],I[8],0,0,0,0,1]};j.LT.DW=function(I,k){return[I[0]*k[0]+I[1]*k[1]+I[2]*k[2]+I[3]*k[3],I[4]*k[0]+I[5]*k[1]+I[6]*k[2]+I[7]*k[3],I[8]*k[0]+I[9]*k[1]+I[10]*k[2]+I[11]*k[3],I[12]*k[0]+I[13]*k[1]+I[14]*k[2]+I[15]*k[3]]};
j.LT.wZ=function(I){var k=[];k[0]=I[0];k[1]=I[4];k[2]=I[8];k[3]=I[12];k[4]=I[1];k[5]=I[5];k[6]=I[9];
k[7]=I[13];k[8]=I[2];k[9]=I[6];k[10]=I[10];k[11]=I[14];k[12]=I[3];k[13]=I[7];k[14]=I[11];k[15]=I[15];
return k};j.LT.add=function(I,k){var a=I.slice(0);for(var Y=0;Y<16;Y++)a[Y]+=k[Y];return a};j.LT.multiply=function(I,k){var a=[];
a[0]=I[0]*k[0]+I[1]*k[4]+I[2]*k[8]+I[3]*k[12];a[1]=I[0]*k[1]+I[1]*k[5]+I[2]*k[9]+I[3]*k[13];a[2]=I[0]*k[2]+I[1]*k[6]+I[2]*k[10]+I[3]*k[14];
a[3]=I[0]*k[3]+I[1]*k[7]+I[2]*k[11]+I[3]*k[15];a[4]=I[4]*k[0]+I[5]*k[4]+I[6]*k[8]+I[7]*k[12];a[5]=I[4]*k[1]+I[5]*k[5]+I[6]*k[9]+I[7]*k[13];
a[6]=I[4]*k[2]+I[5]*k[6]+I[6]*k[10]+I[7]*k[14];a[7]=I[4]*k[3]+I[5]*k[7]+I[6]*k[11]+I[7]*k[15];a[8]=I[8]*k[0]+I[9]*k[4]+I[10]*k[8]+I[11]*k[12];
a[9]=I[8]*k[1]+I[9]*k[5]+I[10]*k[9]+I[11]*k[13];a[10]=I[8]*k[2]+I[9]*k[6]+I[10]*k[10]+I[11]*k[14];a[11]=I[8]*k[3]+I[9]*k[7]+I[10]*k[11]+I[11]*k[15];
a[12]=I[12]*k[0]+I[13]*k[4]+I[14]*k[8]+I[15]*k[12];a[13]=I[12]*k[1]+I[13]*k[5]+I[14]*k[9]+I[15]*k[13];
a[14]=I[12]*k[2]+I[13]*k[6]+I[14]*k[10]+I[15]*k[14];a[15]=I[12]*k[3]+I[13]*k[7]+I[14]*k[11]+I[15]*k[15];
return a};j.LT.Us=function(I){var k=[];k[0]=I[5]*I[10]*I[15]-I[5]*I[14]*I[11]-I[6]*I[9]*I[15]+I[6]*I[13]*I[11]+I[7]*I[9]*I[14]-I[7]*I[13]*I[10];
k[1]=-I[1]*I[10]*I[15]+I[1]*I[14]*I[11]+I[2]*I[9]*I[15]-I[2]*I[13]*I[11]-I[3]*I[9]*I[14]+I[3]*I[13]*I[10];
k[2]=I[1]*I[6]*I[15]-I[1]*I[14]*I[7]-I[2]*I[5]*I[15]+I[2]*I[13]*I[7]+I[3]*I[5]*I[14]-I[3]*I[13]*I[6];
k[3]=-I[1]*I[6]*I[11]+I[1]*I[10]*I[7]+I[2]*I[5]*I[11]-I[2]*I[9]*I[7]-I[3]*I[5]*I[10]+I[3]*I[9]*I[6];
k[4]=-I[4]*I[10]*I[15]+I[4]*I[14]*I[11]+I[6]*I[8]*I[15]-I[6]*I[12]*I[11]-I[7]*I[8]*I[14]+I[7]*I[12]*I[10];
k[5]=I[0]*I[10]*I[15]-I[0]*I[14]*I[11]-I[2]*I[8]*I[15]+I[2]*I[12]*I[11]+I[3]*I[8]*I[14]-I[3]*I[12]*I[10];
k[6]=-I[0]*I[6]*I[15]+I[0]*I[14]*I[7]+I[2]*I[4]*I[15]-I[2]*I[12]*I[7]-I[3]*I[4]*I[14]+I[3]*I[12]*I[6];
k[7]=I[0]*I[6]*I[11]-I[0]*I[10]*I[7]-I[2]*I[4]*I[11]+I[2]*I[8]*I[7]+I[3]*I[4]*I[10]-I[3]*I[8]*I[6];k[8]=I[4]*I[9]*I[15]-I[4]*I[13]*I[11]-I[5]*I[8]*I[15]+I[5]*I[12]*I[11]+I[7]*I[8]*I[13]-I[7]*I[12]*I[9];
k[9]=-I[0]*I[9]*I[15]+I[0]*I[13]*I[11]+I[1]*I[8]*I[15]-I[1]*I[12]*I[11]-I[3]*I[8]*I[13]+I[3]*I[12]*I[9];
k[10]=I[0]*I[5]*I[15]-I[0]*I[13]*I[7]-I[1]*I[4]*I[15]+I[1]*I[12]*I[7]+I[3]*I[4]*I[13]-I[3]*I[12]*I[5];
k[11]=-I[0]*I[5]*I[11]+I[0]*I[9]*I[7]+I[1]*I[4]*I[11]-I[1]*I[8]*I[7]-I[3]*I[4]*I[9]+I[3]*I[8]*I[5];k[12]=-I[4]*I[9]*I[14]+I[4]*I[13]*I[10]+I[5]*I[8]*I[14]-I[5]*I[12]*I[10]-I[6]*I[8]*I[13]+I[6]*I[12]*I[9];
k[13]=I[0]*I[9]*I[14]-I[0]*I[13]*I[10]-I[1]*I[8]*I[14]+I[1]*I[12]*I[10]+I[2]*I[8]*I[13]-I[2]*I[12]*I[9];
k[14]=-I[0]*I[5]*I[14]+I[0]*I[13]*I[6]+I[1]*I[4]*I[14]-I[1]*I[12]*I[6]-I[2]*I[4]*I[13]+I[2]*I[12]*I[5];
k[15]=I[0]*I[5]*I[10]-I[0]*I[9]*I[6]-I[1]*I[4]*I[10]+I[1]*I[8]*I[6]+I[2]*I[4]*I[9]-I[2]*I[8]*I[5];var a=I[0]*k[0]+I[1]*k[4]+I[2]*k[8]+I[3]*k[12];
for(var Y=0;Y<16;Y++)k[Y]/=a;return k};j.LT.awc=function(I){var k=[],a=I[5]*I[10]*I[15]-I[5]*I[14]*I[11]-I[6]*I[9]*I[15]+I[6]*I[13]*I[11]+I[7]*I[9]*I[14]-I[7]*I[13]*I[10],n=-I[4]*I[10]*I[15]+I[4]*I[14]*I[11]+I[6]*I[8]*I[15]-I[6]*I[12]*I[11]-I[7]*I[8]*I[14]+I[7]*I[12]*I[10],s=I[4]*I[9]*I[15]-I[4]*I[13]*I[11]-I[5]*I[8]*I[15]+I[5]*I[12]*I[11]+I[7]*I[8]*I[13]-I[7]*I[12]*I[9],C=-I[4]*I[9]*I[14]+I[4]*I[13]*I[10]+I[5]*I[8]*I[14]-I[5]*I[12]*I[10]-I[6]*I[8]*I[13]+I[6]*I[12]*I[9];
return I[0]*a+I[1]*n+I[2]*s+I[3]*C};j.LT.I5=function(I,k,a,n){var s=Math.sin(n),C=Math.cos(n),T=1/Math.sqrt(I*I+k*k+a*a);
I*=T;k*=T;a*=T;return j.LT.kM([I*I*(1-C)+C,I*k*(1-C)-a*s,I*a*(1-C)+k*s,I*k*(1-C)+a*s,k*k*(1-C)+C,k*a*(1-C)-I*s,I*a*(1-C)-k*s,k*a*(1-C)+I*s,a*a*(1-C)+C])};
j.LT.x0=j.LT.kM([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
j.LT.aiY=j.LT.kM([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
j.LT.aAh=j.LT.Us(j.LT.x0);j.Hz={};j.Hz.Zs=new Uint32Array(1);j.Hz.a0B=function(I,k,a,n,s,C){var T=new Uint32Array(I),S=0,D=j.Hz.Zs;
if(D.length<k*4)j.Hz.Zs=D=new Uint32Array(k*4);var o=new Float64Array(D.buffer);for(var Y=0;Y<k;Y+=2){var v=s[Y],g=s[Y+1],d=C[Y],R=C[Y+1];
D[S]=g;o[S+2>>1]=d;D[S+1]=T[v];T[v]=S+1;S+=4;D[S]=v;o[S+2>>1]=R;D[S+1]=T[g];T[g]=S+1;S+=4}return{mq:D,aCm:o,aCG:T}};
j.Hz.zI=function(I,k,a,n,s,C,T){var S=1,D=j.Hz.a0B(I,k,a,n,s,C),o=D.mq,v=D.aCm,g=D.aCG,d=new Uint32Array(I),R=new j.Hz.Si(I),e=1,Z=0;
R.push(a);R.push(n);var c=new j.Hz.Si(I),O=new Uint8Array(I),U=new Uint32Array(I);O[a]=1;O[n]=2;var K=new Uint32Array(I),_=new Uint32Array(I);
_[a]=_[n]=0;K[a]=K[n]=1;while(!0){var H=-1,r=0,f=1e30;while(!R.WK()&&H==-1){var G=R.top(),N=O[G],z=g[G]-1;
while(z!=-1){var L=o[z],p=O[L],V=z^N-1<<2;if(v[V+2>>1]!=0){if(p==0){j.Hz.tT(G,z,L,O,U,_,K);R.push(L)}else if(p==N&&K[L]<=K[G]&&_[L]>_[G])j.Hz.tT(G,z,L,O,U,_,K);
else if(p!=N){H=V}}z=o[z+1]-1}if(H!=-1)break;R.pop()}if(H==-1){break}e++;var y=H;while(y!=-1){d[r]=y;
r++;y=U[o[y^4]]-1}var W=r>>1;for(var Y=0;Y<W;Y++){var m=d[Y];d[Y]=d[r-Y-1];d[r-Y-1]=m}y=U[o[H]]-1;while(y!=-1){d[r]=y^4;
r++;y=U[o[y^4]]-1}for(var Y=0;Y<r;Y++)f=Math.min(f,v[d[Y]+2>>1]);Z+=f;if(Z>=T)return{jW:null,Az:Z};for(var Y=0;
Y<r;Y++){var h=d[Y],b=h^4,G=o[b],L=o[h];v[h+2>>1]-=f;v[b+2>>1]+=f;if(v[h+2>>1]==0&&O[G]==O[L]){if(O[G]==1){U[L]=0;
c.push(L)}if(O[G]==2){U[G]=0;c.push(G)}}}while(!c.WK()){var G=c.pop(),N=O[G],z=g[G]-1,i=N==1?4:0,w=0,J=0,q=1e9;
while(z!=-1){var L=o[z],x=z^4,V=z^i;if(O[L]==N&&v[V+2>>1]>0&&j.Hz.abI(L,a,n,U,o,e,K,_)+1<q){w=L;J=x;
q=_[L]+1}z=o[z+1]-1}if(J!=0){j.Hz.tT(w,J,G,O,U,_,K);continue}z=g[G]-1;while(z!=-1){var L=o[z],V=z^i;
if(O[L]==N){if(v[V+2>>1]>0){R.push(L)}if(U[L]==z+1){U[L]=0;c.push(L)}}z=o[z+1]-1}O[G]=0;R.remove(G)}}var A=[];
for(var Y=0;Y<k;Y+=2){var G=s[Y],L=s[Y+1];if(O[G]==1&&O[L]!=1){A.push(Y>>1)}if(O[L]==1&&O[G]!=1){A.push(k+Y>>1)}}return{jW:A,Az:Z}};
j.Hz.tT=function(I,k,a,n,s,C,T){n[a]=n[I];s[a]=k+1;C[a]=C[I]+1;T[a]=T[I]};j.Hz.abI=function(I,k,a,n,s,C,T,S){var D=I,o=n[I]-1,v=0;
while(o!=-1&&T[I]!=C){I=s[o^4];o=n[I]-1;v++}if(o==-1&&I!=k&&I!=a)return 1e9;var g=S[I]+v;v=0;o=n[D]-1;
while(D!=I){S[D]=g-v;v++;T[D]=C;D=s[o^4];o=n[D]-1}return g};j.Hz.abX=function(I,k,a,n,s,C){var T=j.Hz.a0B(I,k,a,n,s,C),S=T.mq,D=T.aCm,o=T.aCG,v=0,g=0,d=new Uint32Array(I*2),R=new j.Hz.a4U(I),c=0;
while(!0){R.reset();R.push(a);for(var Y=0;Y<I;Y++)d[Y<<1]=0;while(!R.WK()){var e=R.pop(),O=o[e]-1;while(O!=-1){c=S[O];
if(d[c<<1]==0&&D[O+2>>1]>0&&c!=a){d[c<<1]=e+1;d[(c<<1)+1]=O;R.push(c)}O=S[O+1]-1}if(d[n<<1]!=0){break}}if(d[n<<1]==0){break}var U=1e30;
c=n;while(!0){var K=d[c<<1]-1;if(K==-1)break;var _=d[(c<<1)+1];U=Math.min(U,D[_+2>>1]);c=K}c=n;while(!0){var K=d[c<<1]-1;
if(K==-1)break;var _=d[(c<<1)+1],Z=_^4;D[_+2>>1]-=U;D[Z+2>>1]+=U;c=K}v+=U}var H=[];for(var Y=0;Y<k;Y+=2){var K=s[Y],c=s[Y+1];
if((d[K<<1]!=0||K==a)&&d[c<<1]==0&&c!=a){H.push(Y>>1)}if((d[c<<1]!=0||c==a)&&d[K<<1]==0&&K!=a){H.push(k+Y>>1)}}return{jW:H,Az:v}};
j.Hz.a4U=function(I){I|=I>>1;I|=I>>2;I|=I>>4;I|=I>>8;I|=I>>16;this.Z$=new Uint32Array(I+1);this.CD=I;
this.iF=0;this.$q=0};j.Hz.a4U.prototype={push:function(I){var k=this.$q;this.Z$[k]=I;this.$q=k+1&this.CD},pop:function(){var I=this.iF,k=this.Z$[I];
this.iF=I+1&this.CD;return k},WK:function(){return this.iF==this.$q},reset:function(){this.iF=0;this.$q=0}};
j.Hz.Si=function(I){I|=I>>1;I|=I>>2;I|=I>>4;I|=I>>8;I|=I>>16;this.Z$=new Uint32Array(I+1);this.vf=new Uint32Array(I+1);
this.CD=I;this.iF=0;this.$q=0};j.Hz.Si.prototype={top:function(){return this.Z$[this.iF]},atl:function(){return this.Z$[this.$q]},push:function(I){if(this.vf[I]!=0)return;
this.vf[I]=this.$q+1;var k=this.$q;this.Z$[k]=I;this.$q=k+1&this.CD},pop:function(){var I=this.iF,k=this.Z$[I];
this.vf[k]=0;this.iF=I+1&this.CD;return k},WK:function(){return this.iF==this.$q},remove:function(I){var k=this.vf[I]-1;
if(k==-1)return;this.vf[I]=0;if(k==this.iF){this.pop();return}var a=this.pop();this.Z$[k]=a;this.vf[a]=k+1},BO:function(Y){return Y+this.CD+1&this.CD}};
j.Hz.a72=function(I,k,a){var n=j.Hz.UT(I,k,a);if(k<n-1)j.Hz.a72(I,k,n-1);if(n<a)j.Hz.a72(I,n,a)};j.Hz.UT=function(I,k,a){var n=I[k+a>>>1];
while(k<=a){while(I[k]<n)k++;while(I[a]>n)a--;if(k<=a){j.Hz.sq(I,k,a);k++;a--}}return k};j.Hz.sq=function(I,k,a){var n=I[k];
I[k]=I[a];I[a]=n};j.lb=function(){var I,k;function a(T,S,bQ){var D=bQ-1,o=S+bQ;I[bQ-2]=T[o-2];k[0]=T[o-1];
var v=Math.max;for(var Y=1;Y<D;Y++){I[bQ-2-Y]=v(I[bQ-1-Y],T[o-2-Y]);k[Y]=v(k[Y-1],T[o-1+Y])}for(var Y=0;
Y<D;Y++)T[S+Y]=v(I[Y],k[Y])}function n(T,S,bQ){var D=bQ-1,o=Math.ceil(S/D)*D;for(var v=0;v<o;v+=D)a(T,v,bQ)}function s(T,S,D,o,bQ,v){S.set(T);
if(bQ==1)return;I=j.U(bQ-1);k=j.U(bQ-1);var g=bQ>>>1,d=j.U(Math.ceil(Math.max(D,o)/(bQ-1))*(bQ-1)+(bQ-2)),R=new Uint8Array(d.buffer,0,D);
if(!v)j.Us(S);for(var c=0;c<o;c++){d.fill(0);d.set(new Uint8Array(S.buffer,c*D,D),g);n(d,D,bQ);S.set(R,c*D)}for(var e=0;
e<D;e++){d.fill(0);for(var c=0;c<o;c++)d[c+g]=S[c*D+e];n(d,o,bQ);for(var c=0;c<o;c++)S[c*D+e]=d[c]}if(!v)j.Us(S)}function C(T,S,D,o,bQ,v){var g=j.U(D*o);
for(var d=0;d<4;d++){j.Ez(T,g,d);if(d==3)j.Us(g);s(g,g,D,o,bQ,v);if(d==3)j.Us(g);j.yv(g,S,d)}}return{CH:s,ale:C}}();
j.Z_={};j.Z_.atw=function(I){for(var Y=0;Y<I.length;Y++)j.Z_.XO(I,Y)};j.Z_.XO=function(I,Y){I[Y].v.keyShapeInvalidated={t:"bool",v:!0}};
j.Z_.ahJ=function(I){for(var Y=0;Y<I.length;Y++)I[Y].v.keyOriginIndex.v=Y};j.Z_.k5=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
j.Z_.nM=function(I){I=I.v;var k={Rctn:2,Ln:4,Elps:5},a=k[I.classID],n=I.topLeft?j.Z_.a6w(I):null,s=null,C=0,T=[!1,!1,0,0,0];
if(a==4){var S=I.Strt.v,D=I.End.v;s=[S.Hrzn.v.val,S.Vrtc.v.val,D.Hrzn.v.val,D.Vrtc.v.val];C=I.Wdth.v.val;
for(var Y=0;Y<2;Y++){var o=I[Y==0?"StrA":"EndA"];if(o==null)continue;o=o.v;T[Y]=o.On.v;T[2]=o.Wdth.v;
T[3]=o.Lngt.v;T[4]=o.Cncv.v.val}}if(a==null)return null;return j.Z_.XY(a,a==4?null:j.Z_.GP(I),n,s,C,T)};
j.Z_.eJ=function(I,k,a,n,s,C,T){var S={classID:I,unitValueQuadVersion:{t:"long",v:1}};if(k)j.Z_.Le(S,["Left","Top","Rght","Btom"],k);
if(a)j.Z_.Le(S,["topLeft","topRight","bottomRight","bottomLeft"],a);if(I=="Ln"){S.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:n[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:n[1]}}}},S.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:n[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:n[3]}}}},S.Wdth={t:"UntF",v:{type:"#Pxl",val:s}};
for(var Y=0;Y<2;Y++){var D=Y==0?"StrA":"EndA";S[D]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:T[Y]},Wdth:{t:"doub",v:T[2]},Lngt:{t:"doub",v:T[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:T[4]}}}}}}if(C)S.Nm={t:"TEXT",v:C};
return{t:"Objc",v:S}};j.Z_.azE=function(I,k){var a=j.Z_.rq(I),n=I[2]-I[0],s=I[3]-I[1],C=Math.sqrt(n*n+s*s),T=[0,0,C,0,C,k,0,k],S=new dc;
S.rotate(-a);S.translate(I[0],I[1]);j.X.h(T,S,T);return T};j.Z_.XY=function(I,k,a,n,s,C){var T=j.Z_.k5(),S=T.v,D;
delete S.keyShapeInvalidated;S.keyOriginType={t:"long",v:I};S.keyOriginResolution={t:"doub",v:75};if(I==4){S.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:n[0]},Vrtc:{t:"doub",v:n[1]}}};
S.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:n[2]},Vrtc:{t:"doub",v:n[3]}}};D=j.Z_.azE(n,s);
var o=j.X.TO(D);k=[o.x,o.y,o.x+o.Q,o.y+o._];S.keyOriginLineWeight={t:"doub",v:s};if(C)j.Z_.auV(S,C)}else D=[k[0],k[1],k[2],k[1],k[2],k[3],k[0],k[3]];
S.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};j.Z_.Tq(S,"keyOriginBoxCorners",D);var v={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
S.keyOriginShapeBBox={t:"Objc",v:v};j.Z_.aCS(S,k);if(a!=null){var g={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
S.keyOriginRRectRadii={t:"Objc",v:g};j.Z_.Ck(S,a)}return T};j.Z_.h=function(I,k,a,n){var s=j.t.ayr(k),C=j.t.amv(k),T=j.t.Nr(k),S=T.M*T.Jo-T.J*T.mL;
for(var Y=0;Y<I.length;Y++){var D=I[Y].v;if(!j.Z_.fn(D))continue;if(a.length!=0&&a.indexOf(Y)==-1)continue;
var o=D.keyOriginType.v,v=k;if(S<0&&o==2){var g=j.Z_.Ub(D),d=0;d=g[0];g[0]=g[1];g[1]=d;d=g[2];g[2]=g[3];
g[3]=d;j.Z_.Ck(D,g);var R=j.Z_.JY(D,"keyOriginBoxCorners"),c=j.X.TO(R),e=c.x+c.Q/2,O=new dc;O.translate(-e,0);
O.scale(-1,1);O.translate(e,0);v=j.t.Rc(v,j.t.HE(O))}var U=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];
for(var K=0;K<U.length;K++){var R=j.Z_.JY(D,U[K]);if(R==null)continue;j.t.h(v,R);j.Z_.Tq(D,U[K],R);var c=j.X.TO(R);
j.Z_.aCS(D,[c.x,c.y,c.x+c.Q,c.y+c._]);var _=new dc;_.rotate(-j.Z_.rq(R));var Z={classID:"Trnf"};D.Trnf={t:"Objc",v:Z};
var H="xx xy yx yy tx ty".split(" "),G=[_.M,_.J,_.mL,_.Jo,_.Dw,_.rk];for(var N=0;N<6;N++)Z[H[N]]={t:"doub",v:G[N]}}if(o==2&&n){var g=j.Z_.Ub(D);
for(var K=0;K<4;K++)g[K]=Math.round(g[K]*k[0]);j.Z_.Ck(D,g)}var R=j.Z_.JY(D,"keyOriginBoxCorners"),z=R[2]-R[0],L=R[3]-R[1],p=Math.sqrt(z*z+L*L);
z/=p;L/=p;var V=R[6]-R[0],r=R[7]-R[1],y=Math.sqrt(V*V+r*r);V/=y;r/=y;if(o==4){D.keyOriginLineWeight.v=y;
var W=j.Z_.Qj(D);j.t.h(k,W);j.Z_.aER(D,W)}var m=z*V+L*r;if(Math.abs(m)>.001){j.Z_.XO(I,Y)}}};j.Z_.fn=function(I){var k=I.keyShapeInvalidated,a=I.keyOriginType;
return(k==null||!k.v)&&a!=null&&a.v!=9};j.Z_.axs=function(I){var k=I.keyOriginType.v,a=j.Z_.nX(I),n=a[0],s=a[1],C=a[2],T=a[3],S=new dc,D=I.keyOriginPolyCornerRadius,R;
D=D?D.v:0;var o=j.Z_.JY(I,k==7||k==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),v=j.Z_.aer(o),g=v[2],d=v[3];
n=-g/2;C=g/2;s=-d/2;T=d/2;S.rotate(-j.Z_.rq(o));S.Dw=v[0];S.rk=v[1];if(k==1||k==2){var c=k==1?0:j.Z_.Ub(I);
R=j.n.uQ.Rect(n,s,C-n,T-s,c)}else if(k==4){var e=j.Z_.Qj(I),O=j.Z_.a8c(I);S=new dc;if(O==null)R=j.n.uQ.V9(e[0],e[1],e[2],e[3],I.keyOriginLineWeight.v);
else R=j.n.uQ.Xq(e[0],e[1],e[2],e[3],I.keyOriginLineWeight.v,O)}else if(k==5){R=j.n.uQ.hO(n,s,C-n,T-s)}else if(k==7||k==8){var U=k==7?3:I.keyOriginPolySides.v;
R=j.n.uQ.Sl(0,0,100,Math.PI/U-Math.PI/2,U,D,C,T)}j.n.de(R,S);return R};j.Z_.ra=function(I,k){var a=k.d;
for(var Y=0;Y<I.length;Y++){var n=I[Y].v;if(!j.Z_.fn(n))continue;var s=j.Z_.axs(n),C=j.n.XN(a,Y),T=j.n.gf(a,Y);
s[2].Np=a[C].Np;var S=a;a=a.slice(0,C);for(var D=2;D<s.length;D++)a.push(s[D]);for(var D=C+T;D<S.length;
D++)a.push(S[D])}k.d=a;k.WB=!0};j.Z_.UX=function(I){var k=1e9,a=-k,n=1e9,s=-n,C=[],T=I.iQ(),S=T[0],D=T[1];
for(var o=0;o<D.length;o++){var v=S[D[o]],g=v.add.vogk;if(g==null)continue;var d=v.add.vmsk.T;for(var R=0;
R<g.length;R++){var c=g[R].v,U=0;if(!j.Z_.fn(c))continue;if(D.length==1&&d.length!=0&&d.indexOf(R)==-1)continue;
var e=c.keyOriginType.v;if(e==9)continue;var O=j.Z_.nX(c);k=Math.min(k,O[0]);n=Math.min(n,O[1]);a=Math.max(a,O[2]);
s=Math.max(s,O[3]);var K=j.Z_.JY(c,"keyOriginBoxCorners");if(K){var _=j.Z_.aer(K),Z=_[2],H=_[3];O[2]=O[0]+Z;
O[3]=O[1]+H;U=j.Z_.rq(K)}var G=[e,O,U];C.push(G);var N=c.keyOriginPolyCornerRadius;if(e==2)G.push(j.Z_.Ub(c));
if(e==7||e==8)G.push(N?N.v:0);if(e==8)G.push(c.keyOriginPolySides.v)}}return C.length==1?C[0]:[0,k<a?[k,n,a,s]:null,0]};
j.Z_.rq=function(I){var k=I[2]-I[0],a=I[3]-I[1];return-Math.atan2(-a,k)};j.Z_.a4w=function(I){var k=j.Z_.nX(I);
return j.Z_.rq(k)};j.Z_.aCh=function(I,k,a){var n=j.Z_.UX(I),s=-1;for(var Y=0;Y<k.length;Y++)if(JSON.stringify(k[Y])!=JSON.stringify(n[Y]))s=Y;
if(s==1||s==2){}var C=I.iQ(),T=C[0],S=C[1];for(var D=0;D<S.length;D++){var o=T[S[D]],v=o.add.vogk;if(v==null)continue;
var g=o.add.vmsk.T;for(var d=0;d<v.length;d++){var R=v[d].v;if(!j.Z_.fn(R))continue;if(S.length==1&&g.length!=0&&g.indexOf(d)==-1)continue;
var c=R.keyOriginType.v;if(s==1||s==2){j.Z_.h(v,j.Z_.axm(s,R,n,k),g,!1);break}if(s==3)if(c==2)j.Z_.Ck(R,k[3]);
else R.keyOriginPolyCornerRadius={t:"doub",v:k[3]};if(s==4)R.keyOriginPolySides.v=k[4];if(a)j.Z_.XO(v,d)}}};
j.Z_.axm=function(I,k,a,n){var s=n[1],C=a[1],T=(s[2]-s[0])/(C[2]-C[0]),S=(s[3]-s[1])/(C[3]-C[1]),D=new dc;
if(I==1){if(Math.max(Math.abs(T-1),Math.abs(S-1))>1e-8){var o=s[0],v=s[1];if(n[0]!=0){var g=j.Z_.JY(k,"keyOriginBoxCorners");
o=g[0];v=g[1]}D.translate(-o,-v);D.rotate(n[2]);D.scale(T,S);D.rotate(-n[2]);D.translate(o,v)}else{D.translate(-C[0],-C[1]);
D.translate(s[0],s[1])}}else{if(n[0]!=0)s=j.Z_.nX(k);var o=(s[0]+s[2])/2,v=(s[1]+s[3])/2;D.translate(-o,-v);
if(a[0]!=0)D.rotate(a[2]);D.rotate(-n[2]);D.translate(o,v)}return j.t.HE(D)};j.Z_.aer=function(I){var k=I[0],a=I[1],n=I[2],s=I[3],C=I[4],T=I[5],S=I[6],D=I[7],o=n-k,v=s-a,g=Math.sqrt(o*o+v*v),o=C-n,v=T-s,d=Math.sqrt(o*o+v*v);
return[(k+C)/2,(a+T)/2,g,d]};j.Z_.JY=function(I,k){var a=I[k];if(a==null)return null;var n=[];a=a.v;
for(var s=0;s<4;s++){var C=a["rectangleCorner"+["A","B","C","D"][s]].v;n.push(C.Hrzn.v,C.Vrtc.v)}return n};
j.Z_.Tq=function(I,k,a){var n=I[k];if(n==null)return null;n=n.v;for(var s=0;s<4;s++){var C="rectangleCorner"+["A","B","C","D"][s];
n[C]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:a[2*s]},Vrtc:{t:"doub",v:a[2*s+1]}}}}};j.Z_.nX=function(I){return j.Z_.GP(I.keyOriginShapeBBox.v)};
j.Z_.GP=function(I){var k=I.classID,a=I.Left.v,n=I.Rght.v,s=I.Top.v,C=I.Btom.v;if(a.val!=null){a=a.val;
n=n.val;s=s.val;C=C.val}return[a,s,n,C]};j.Z_.aCS=function(I,k){j.Z_.Le(I.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],k)};
j.Z_.Ub=function(I){var k=I.keyOriginRRectRadii;if(k==null)return[0,0,0,0];return j.Z_.a6w(k.v)};j.Z_.a6w=function(I){var k=[],a=["topLeft","topRight","bottomRight","bottomLeft"];
for(var n=0;n<4;n++)k.push(I[a[n]].v.val);return k};j.Z_.Ck=function(I,k){j.Z_.Le(I.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],k)};
j.Z_.Le=function(I,k,a){var n=I.classID;if(n=="unitRect"||n=="radii"||n=="Rctn"){for(var Y=0;Y<4;Y++)if(a[Y]!=null)I[k[Y]]={t:"UntF",v:{type:"#Pxl",val:a[Y]}}}else{for(var Y=0;
Y<4;Y++)if(a[Y]!=null)I[k[Y]]={t:"doub",v:a[Y]}}};j.Z_.Qj=function(I){var k=I.keyOriginLineStart.v,a=I.keyOriginLineEnd.v;
return[k.Hrzn.v,k.Vrtc.v,a.Hrzn.v,a.Vrtc.v]};j.Z_.aER=function(I,k){var a=I.keyOriginLineStart.v,n=I.keyOriginLineEnd.v;
a.Hrzn.v=k[0];a.Vrtc.v=k[1];n.Hrzn.v=k[2];n.Vrtc.v=k[3]};j.Z_.a8c=function(I){var k=[],a=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var Y=0;Y<5;Y++){var n=I["keyOriginLineArr"+a[Y]];if(n==null)return null;k[Y]=n.v}return k};j.Z_.auV=function(I,k){I.keyOriginLineArrowSt={t:"bool",v:k[0]};
I.keyOriginLineArrowEnd={t:"bool",v:k[1]};I.keyOriginLineArrWdth={t:"doub",v:k[2]};I.keyOriginLineArrLngth={t:"doub",v:k[3]};
I.keyOriginLineArrConc={t:"long",v:k[4]}};j.Z_.aDY=function(I){function k(Z,H){return Math.abs(Z-H)<.5}function a(Z,H){return k(Z.x,H.x)&&k(Z.y,H.y)}function n(Z,H,G,N,z,L,p){for(var Y=0;
Y<p;Y++){var V=Z[H+(G+Y)%p],r=N[z+(L+Y)%p];if(!(a(V.A,r.A)&&a(V.VW,r.VW)&&a(V.zK,r.zK)))return!1}return!0}var s=[];
for(var C=0;C<I.length;C++){var T=I[C],D=null;if(T.type!=0&&T.type!=3||T.Np==-1)continue;var S=C;if(T.length==4||T.length==8){var o=j.n.aix(I.slice(0,2).concat(I.slice(S,S+T.length+1)));
S=2;if(T.length==4){var v=j.n.nw(o,S+1,4),g=v.x,d=v.y,R=g+v.Q,c=d+v._;if(v.c()>4){if(j.n.GB(o.slice(S-2,S+5)))D=j.Z_.XY(2,[g,d,R,c],[0,0,0,0]);
else{var e=-1;for(var Y=0;Y<4;Y++)if(k(o[S+1+Y].A.y,c))e=Y;if(e!=-1){var O=j.n.uQ.hO(g,d,R-g,c-d),U=n(o,S+1,e,O,3,0,4);
if(U)D=j.Z_.XY(5,[g,d,R,c])}}}}if(T.length==8){var v=j.n.nw(o,S+1,8),g=v.x,d=v.y,R=g+v.Q,c=d+v._;if(v.c()>4){var e=-1;
for(var Y=0;Y<8;Y++)if(k(o[S+1+(Y+1&7)].A.y,d)&&k(o[S+1+(Y+2&7)].A.y,d))e=Y;if(e!=-1){var K=Math.abs(o[S+1+e].A.y-d),_=[K,K,K,K];
if(K>.5){var O=j.n.uQ.Rect(g,d,R-g,c-d,_),U=n(o,S+1,e,O,3,0,8);if(U)D=j.Z_.XY(2,[g,d,R,c],_)}}}}}s.push(D?D:j.Z_.k5())}return s};
j.X={};j.X.clone=function(I){return{m:I.m.slice(0),s:I.s.slice(0)}};j.X.a9W=function(I){if(I.length<6)return!0;
var k=I.length-4;for(var Y=0;Y<k;Y+=2)if(!j.X.MD(I[Y],I[Y+1],I[Y+2],I[Y+3],I[Y+4],I[Y+5]))return!1;if(!j.X.MD(I[k],I[k+1],I[k+2],I[k+3],I[0],I[1]))return!1;
if(!j.X.MD(I[k+2],I[k+3],I[0],I[1],I[2],I[3]))return!1;return!0};j.X.MD=function(I,k,a,n,s,C){return(k-n)*(s-a)+(a-I)*(C-n)>=0};
j.X.agJ=function(I,k){function a(q,x,z){var G=x[0]-q[0],N=x[1]-q[1],A=j.X.ZO(z[0],z[1],-N,G,q[0],q[1],G,N);
return[z[0]-N*A,z[1]+G*A]}function n(q,x){var G=q[0]-x[0],N=q[1]-x[1];return Math.sqrt(G*G+N*N)}I=j.X.ajX(I);
var s=[0,0,0,0],C=I.length,T=[0,0,0,0],S=Math.PI/2,D=Math.atan2(-1,0),R=1e9,c,e=0;function o(){for(var Y=0;
Y<4;Y++){var U=s[Y],K=(U+2)%C,q=I[K]-I[U],x=I[K+1]-I[U+1],A=Math.atan2(x,q),Q=D+Y*S;if(A<Q)Q-=2*Math.PI;
T[Y]=A-Q}}for(var Y=0;Y<C;Y+=2){var v=I[Y],g=I[Y+1];if(v<I[s[0]])s[0]=Y;if(g<I[s[1]+1])s[1]=Y;if(v>I[s[2]])s[2]=Y;
if(g>I[s[3]+1])s[3]=Y}o();var d=j.X.TO(I).c();while(e<C/2){var O=0;for(var Y=0;Y<4;Y++)if(T[Y]<T[O])O=Y;
var U=s[O],K=(U+2)%C,_=s[O+2&3],Z=s[O+3&3],H=s[O+1&3],v=I[U],G=I[K]-v,g=I[U+1],N=I[K+1]-g,z=I.slice(U,U+2),L=I.slice(K,K+2),p=I.slice(_,_+2),V=I.slice(Z,Z+2),r=I.slice(H,H+2),y=a(z,L,p),W=a(V,[V[0]-N,V[1]+G],r),m=n(y,p),f=n(W,r);
if(f*m<R){R=f*m;var h=a(z,L,V);c=[h[0],h[1],G,N,f,m]}D+=T[O];s[O]=K;o();e++}var v=c[0],g=c[1],G=c[2],N=c[3],f=c[4],m=c[5],b=Math.sqrt(G*G+N*N);
G/=b;N/=b;var i=v+G*f,w=g+N*f,J=[v,g,i,w,i-N*m,w+G*m,v-N*m,g+G*m];while(J[0]>J[2]||Math.abs((J[3]-J[1])/(J[2]-J[0]))>1){J.push(J.shift(),J.shift())}return J};
j.X.ajX=function(I){var k=0;for(var Y=0;Y<I.length;Y+=2)if(I[Y]<I[k])k=Y;var a=[k];while(!0){var n=a[a.length-1],s=I[n],C=I[n+1],T=a.length==1?a[0]:a[a.length-2],S=I[T],D=I[T+1],d=0,R=1e9,c=0;
if(a.length==1)D+=20;var o=S-s,v=D-C,g=Math.sqrt(o*o+v*v);o/=g;v/=g;for(var Y=0;Y<I.length;Y+=2){if(Y==T||Y==n)continue;
var e=I[Y],O=I[Y+1],U=e-s,K=O-C,_=Math.sqrt(U*U+K*K);U/=_;K/=_;var Z=o*U+v*K;if(Z<R||Z==R&&_>c){R=Z;
d=Y;c=_}}if(d==a[0])break;a.push(d)}var H=[];for(var Y=0;Y<a.length;Y++)H.push(I[a[Y]],I[a[Y]+1]);return H};
j.X.aZ=function(I){var k={},a=0,n={M:2,L:2,Q:4,C:6},s="",C="",T={s:[],m:[]};for(var Y=0;Y<I.m.length;
Y++){var S=I.m[Y];if(S[0]=="#")s=S;else if(S[0]=="X"){var D=s+C;if(k[D]==null)k[D]={s:[],m:[]};j.X.concat(k[D],T);
s="";C="";T={s:[],m:[]}}else if(S[0]=="O"&&S[1]=="-")C=S;else if(S=="OX"){if(C!="")C+="-1"}else{T.m.push(S);
var o=n[S];if(o==null)o=0;for(var v=0;v<o;v++)T.s.push(I.s[a+v]);a+=o}}return k};j.X.a30=function(I,k,a){var n=I[k]-I[a-2],s=I[k+1]-I[a-1];
return n*n+s*s<1e-4};j.X.ep=function(I,k,a){I=j.X.C5(I);var n=I.s,s=I.m,C=0,T="",S=0,D=0,C=0,g=null;
for(var Y=0;Y<s.length;Y++){var o=s[Y];if(o=="M"){S=n[C];D=n[C+1];C+=2;T=o}if(o=="C"){if(T=="Z"){s.splice(Y,0,"M");
n.splice(C,0,S,D);Y--;continue}C+=6;T=o}if(o=="Z"){T=o}}var v=[];C=0;for(var Y=0;Y<s.length;Y++){var o=s[Y];
if(o=="M"){g={mF:C,iB:0,vI:!1};v.push(g);C+=2}if(o=="C"){g.iB++;C+=6}if(o=="Z"&&g!=null){g.vI=!0}}var d=[];
for(var Y=0;Y<v.length;Y++)if(v[Y].iB!=0)d.push(v[Y]);v=d;for(var Y=0;Y<v.length;Y++){var R=v[Y],c=R.mF,e=c+2+R.iB*6,U=0;
R.UL=j.X.TO(n,c,e);var O=j.X.a30(n,c,e);for(var K=0;K<R.iB;K++){var _=c+K*6,Z=_+6;U+=(n[Z]-n[_])*(n[Z+1]+n[_+1])}if(R.iB==2){var H=function(P,F,t){var b$=1-t;
return b$*b$*b$*P[F]+3*b$*b$*t*P[F+2]+3*b$*t*t*P[F+4]+t*t*t*P[F+6]},G=n[c],N=n[c+1],z=n[c+6],L=n[c+7],p=n[c+6],V=n[c+7],r=H(n,c,.5),y=H(n,c+1,.5),W=H(n,c+6,.5),m=H(n,c+7,.5);
U=(r-G)*(y-N)+(z-r)*(L-y)+(W-z)*(m-L)+(p-W)*(V-m)}if(!O)U+=(n[c]-n[e-2])*(n[c+1]+n[e-1]);R.nc=U<=0}for(var Y=0;
Y<v.length-1;Y++)for(var _=Y+1;_<v.length;_++){var f=v[Y],h=v[_];if(h.UL.j1(f.UL)){v[Y]=h;v[_]=f}}var b=v.length==0?!0:v[0].nc,i=[{type:6},{type:8,all:0}];
for(var Y=0;Y<v.length;Y++){var R=v[Y],c=R.mF,e=c+2+R.iB*6,O=j.X.a30(n,c,e);if(R.iB==1)O=!1;var w=R.vI||O?0:3,J=R.nc==b&&!k?1:0;
if(!k&&Y!=0){if(v[Y-1].UL.j1(R.UL)&&v[Y-1].nc!=R.nc)J=0;for(var _=0;_<v.length;_++)if(_!=Y&&v[_].UL.j1(R.UL))J=0}i.push({type:w,length:R.iB+(O?0:1),Np:a?0:J,RO:2});
for(var _=0;_<R.iB;_++){var C=c+_*6,q=new kK(n[C],n[C+1]),x=new kK(n[C+2],n[C+3]),A;if(_==0){if(O){A=new kK(n[e-4],n[e-3]);
if(kK.f0(A,q)<1e-5)A=q.clone()}else A=q.clone()}else A=new kK(n[C-2],n[C-1]);i.push({type:w+2,VW:A,A:q,zK:x})}if(!O){var Q=new kK(n[e-2],n[e-1]);
i.push({type:w+2,VW:new kK(n[e-4],n[e-3]),A:Q,zK:Q.clone()})}}for(var _=0;_<i.length;_++){var B=i[_];
if(B.type>5||B.type==0||B.type==3)continue;var l=B.VW.a$(B.A)||B.zK.a$(B.zK);if(!l){var f=B.VW.x*(B.A.y-B.zK.y)+B.A.x*(B.zK.y-B.VW.y)+B.zK.x*(B.VW.y-B.A.y);
if(Math.abs(f)<1e-6)l=!0}if(l)B.type--}return i};j.X.RU=function(I,k){var a=j.n.gZ(I),n=[];for(var Y=2;
Y<I.length;Y++){var s=I[Y].Np;if(s!=null){if(s==2||s==0||s==3||s==-1)n.push(s)}}var C=n.length!=0;if((C||k)&&I.length<2e3&&1<a&&a<200)I=j.n.Su(I);
var T=j.X.wb(I);return{RK:T,kE:C?1:0}};j.X.wb=function(){function I(n,s,C,T){if(T!=2&&n.zK.a$(n.A)&&s.VW.a$(s.A)){C.s.push(s.A.x,s.A.y);
C.m.push("L")}else{var S=n.A,D=n.zK,o=s.VW,v=s.A,g=3/2*D.x-1/2*S.x,d=3/2*D.y-1/2*S.y,R=3/2*o.x-1/2*v.x,c=3/2*o.y-1/2*v.y,e=R-g,O=c-d;
if(T==0&&e*e+O*O<.001){C.s.push((g+R)*.5,(d+c)*.5,v.x,v.y);C.m.push("Q")}else{C.s.push(D.x,D.y,o.x,o.y,v.x,v.y);
C.m.push("C")}}}function k(n,s,Y,C,T,S){var D=s[Y];n.s.push(D.A.x,D.A.y);n.m.push("M");for(var o=Y;o<Y+C-1;
o++)I(s[o],s[o+1],n,S);if(!T)I(s[o],s[Y],n,S)}function a(n,s){if(s==null)s=0;var C={s:[],m:[]};for(var Y=0;
Y<n.length;Y++){if(n[Y].type>5)continue;var T=n[Y].length;if(T==0)continue;if(Y==n.length-1)break;var S=n[Y].type==3;
k(C,n,Y+1,T,S,s);if(!S)C.m.push("Z");Y+=T}return C}return a}();j.X.afU=function(I){var k=I.s,a=[],n,s=0;
for(var Y=0;Y<I.m.length;Y++){var C=I.m[Y];if(C=="C"){n.push(k[s++],k[s++],k[s++],k[s++],k[s++],k[s++])}else if(C=="Z"){}else{n=[];
if(C!="M"){n.push(C);Y++}n.push(k[s++],k[s++]);a.push(n)}}return a};j.X.w_=function(I,k,a,n){if(n==null)n=1e9;
var s=1e9,C=0;for(var Y=0;Y<I.length;Y+=2){var T=k-I[Y],S=a-I[Y+1],D=T*T+S*S;if(D<s){s=D;C=Y>>>1}}return s<n*n?C:-1};
j.X.ahX=function(I,k,a,n){for(var Y=0;Y<I.length;Y+=2){var s=I[Y],C=I[Y+1],T=k[Y],S=k[Y+1];a[Y]=s+(T-s)*n;
a[Y+1]=C+(S-C)*n}};j.X.h=function(I,k,a){for(var Y=0;Y<I.length;Y+=2){var n=I[Y],s=I[Y+1];a[Y]=n*k.M+s*k.mL+k.Dw;
a[Y+1]=n*k.J+s*k.Jo+k.rk}};j.X.TO=function(I,k,a){if(k==null)k=0;if(a==null)a=I.length;var n=99999999999,s=-n,C=99999999999,T=-C;
for(var Y=k;Y<a;Y+=2){var S=I[Y],D=I[Y+1];n=Math.min(n,S);C=Math.min(C,D);s=Math.max(s,S);T=Math.max(T,D)}return new eZ(n,C,s-n,T-C)};
j.X.aBA=function(I,k){var a=Math.max(k.x,Math.min(k.x+k.Q,I.x)),n=Math.max(k.y,Math.min(k.y+k._,I.y)),s=I.x-a,C=I.y-n;
return Math.sqrt(s*s+C*C)};j.X.aj=function(I,k){var a=Math.floor,n=Math.ceil;if(k){a=Math.ceil;n=Math.floor}var s=a(I.x),C=n(I.x+I.Q),T=a(I.y),S=n(I.y+I._);
return new eZ(s,T,C-s,S-T)};j.X.qP=function(I,k){return j.X.aj(j.X.TO(I),k)};j.X.Eu=function(I,k){var a=I.x,n=I.y,s=I.x+I.Q,C=I.y+I._,T=[a,n,s,n,s,C,a,C];
if(k){var S=k.clone();S.Us();j.X.h(T,S,T)}return{m:["M","L","L","L","Z"],s:T}};j.X.concat=function(I,k,a){if(a==null)a=new dc;
for(var Y=0;Y<k.s.length;Y+=2){var n=k.s[Y],s=k.s[Y+1];I.s.push(n*a.M+s*a.mL+a.Dw);I.s.push(n*a.J+s*a.Jo+a.rk)}for(var Y=0;
Y<k.m.length;Y++)I.m.push(k.m[Y])};j.X.reverse=function(I){var k=I.m.slice(1),a=k.pop();if(a!="Z")k.push(a);
k.reverse();k=["M"].concat(k);if(a=="Z")k.push("Z");var n=[],s=I.s.length;for(var C=0;C<s;C+=2){n[C]=I.s[s-2-C];
n[C+1]=I.s[s-2-C+1]}return{s:n,m:k}};j.X.arG=function(I,k,a,n,s){function C(d,R,c){return new kK(d.x*(1-c)+R.x*c,d.y*(1-c)+R.y*c)}var T=C(I,k,s),S=C(a,n,s),D=C(k,a,s),o=C(T,D,s),v=C(D,S,s),g=C(o,v,s);
return[T,o,g,v,S]};j.X.C5=function(I){var k=I.s,a=[],n=[],s=0,C=0,T=0,S=0,D=0,o=0,v=0,g=0,d=0,R=0,c=0;
for(var Y=0;Y<I.m.length;Y++){var e=I.m[Y];if(e=="M"){C=k[s];T=k[s+1];s+=2;n.push(e);a.push(C,T);R=C;
c=T}else if(e=="C"){S=k[s];D=k[s+1];o=k[s+2];v=k[s+3];g=k[s+4];d=k[s+5];s+=6;n.push(e);a.push(S,D,o,v,g,d);
C=g;T=d}else if(e=="Q"){S=k[s];D=k[s+1];o=k[s+2];v=k[s+3];s+=4;var O=S-C,U=D-T,K=o-S,_=v-D;n.push("C");
a.push(C+2/3*O,T+2/3*U,S+1/3*K,D+1/3*_,o,v);C=o;T=v}else if(e=="L"){S=k[s];D=k[s+1];s+=2;if(S!=C||D!=T){n.push("C");
a.push(C,T,S,D,S,D);C=S;T=D}}else{if(e=="Z"){C=R;T=c}n.push(e)}}return{m:n,s:a}};j.X.awa=function(I){var k=I.s,a=[],n=[],s=0;
for(var Y=0;Y<I.m.length;Y++){var C=I.m[Y];if(C=="Q"){var T=k[s-2],S=k[s-1],D=k[s],o=k[s+1],v=k[s+2],g=k[s+3];
s+=4;var d=D-T,R=o-S,c=v-D,e=g-o;n.push("C");a.push(T+2/3*d,S+2/3*R,D+1/3*c,o+1/3*e,v,g)}else{var O=0;
if(C=="M"||C=="L")O=2;else if(C=="C")O=6;for(var U=0;U<O;U++)a.push(k[s+U]);s+=O;n.push(C)}}return{m:n,s:a}};
j.X.rA=function(I,k){var a=I.s,n=[],s=[],C=0,T=0,S=0,D=0,o=0,v=0,g=0,d=0,R=0;for(var Y=0;Y<I.m.length;
Y++){var c=I.m[Y];if(c=="M"){T=a[C];S=a[C+1];C+=2;s.push(c);n.push(T,S)}else if(c=="C"){D=a[C];o=a[C+1];
v=a[C+2];g=a[C+3];d=a[C+4];R=a[C+5];C+=6;j.X.c5(T,S,D,o,v,g,d,R,k,s,n,0);T=d;S=R}else s.push(c)}return{m:s,s:n}};
j.X.c5=function(I,k,a,n,s,C,T,S,D,o,v,g){var d=Math.sqrt((T-I)*(T-I)+(S-k)*(S-k)),R=Math.sqrt((T-s)*(T-s)+(S-C)*(S-C))+Math.sqrt((s-a)*(s-a)+(C-n)*(C-n))+Math.sqrt((a-I)*(a-I)+(n-k)*(n-k)),c=(d+R)/2;
if(c<=D){o.push("C");v.push(a,n,s,C,T,S)}else{var e=0,O=0,U=0,K=0,_=0,Z=0,H=0,G=0,N=0,z=0,L=0,p=0,V=0;
O=(I+a)/2;U=(k+n)/2;K=(a+s)/2;_=(n+C)/2;Z=(s+T)/2;H=(C+S)/2;G=(O+K)/2;N=(U+_)/2;z=(K+Z)/2;L=(_+H)/2;
p=(G+z)/2;V=(N+L)/2;j.X.c5(I,k,O,U,G,N,p,V,D,o,v,g+1);j.X.c5(p,V,z,L,Z,H,T,S,D,o,v,g+1)}};j.X.ds=function(I,k,a,n,s){var C=Date.now(),T=j.X.arD(I,k,a);
if(s){console.log("trace polygons",Date.now()-C);C=Date.now()}var S=[];for(var Y=0;Y<T.length;Y++){var D=T[Y],o=D[0],v=["M"],g=I[o[1]*k+o[0]];
if(o.length>8)o=j.X.aia(o,n,D[1]);if(o.length<=4)continue;for(var d=2;d<o.length;d+=2)v.push("L");v.push("Z");
S.push({path:{s:o,m:v},color:g,parent:-1,UL:j.X.TO(o)})}if(s){console.log("simplify polygons",Date.now()-C);
C=Date.now()}for(var Y=1;Y<S.length;Y++){var R=S[Y],c=R.path.s,e=c[0],O=c[1],U=c[2],K=c[3],_=U-e,Z=K-O,H=e+.5*_-.001*Z,G=O+.5*Z+.001*_;
for(var d=Y-1;d>=0;d--){var N=S[d];if(!N.UL.j1(R.UL))continue;if(!id.lr(N.path.s,H,G))continue;R.parent=d;
break}}if(s){console.log("checking parents",Date.now()-C);C=Date.now()}return S};j.X.arD=function(I,k,a){var n=k*a,s=new Uint16Array(k*a),T=0;
for(var Y=0;Y<n;Y++)s[Y]=I[Y];var C=new Uint8Array(k*a);C[1*k+1]=C[(a-1)*k+1]=C[1*k+k-1]=C[(a-1)*k+k-1]=1;
for(var S=1;S<a;S++)for(var D=1;D<k;D++){var Y=S*k+D,o=s[Y-k-1],v=s[Y-k],g=s[Y-1],d=s[Y],R=o==d&&v==g&&o!=v,c=0;
if(d<g){T=d;d=g;g=T}if(g<v){T=g;g=v;v=T}if(v<o){T=v;v=o;o=T}if(d<g){T=d;d=g;g=T}if(g<v){T=g;g=v;v=T}if(d<g){T=d;
d=g;g=T}if(o!=v)c++;if(v!=g)c++;if(g!=d)c++;if(d!=o)c++;if(c>=3||R)C[Y]=1}var e=[];for(var S=1;S<a;S++)for(var D=1;
D<k;D++){var Y=S*k+D;if(s[Y]!=s[Y-1]){var O=j.X.aDh(s,k,a,D,S),U=[];for(var K=0;K<O.length;K+=2)if(C[O[K+1]*k+O[K]]==1)U.push(K>>>1);
e.push([O,U]);j.X.oq(s,k,a,D,S)}}return e};j.X.oq=function(I,k,a,n,s){var C=[s*k+n],T=I[s*k+n];I[s*k+n]=65535;
while(C.length!=0){var Y=C.pop();I[Y]=0;if(I[Y+k]==T){C.push(Y+k);I[Y+k]=65535}if(I[Y-k]==T){C.push(Y-k);
I[Y-k]=65535}if(I[Y-1]==T){C.push(Y-1);I[Y-1]=65535}if(I[Y+1]==T){C.push(Y+1);I[Y+1]=65535}}};j.X.aDh=function(I,k,a,n,s){var C=[0,-1,1,0,0,1,-1,0],v=1;
function T(d,R,v){var Y=o*k+D,c=0;if(v==0)c=Y-k;else if(v==1)c=Y;else if(v==2)c=Y-1;else if(v==3)c=Y-k-1;
return I[c]}var S=[],D=n,o=s,g=T(D,o,v);do{S.push(D,o);D+=C[v*2];o+=C[v*2+1];if(T(D,o,v)!=g)v=v+1&3;
else if(T(D,o,v+3&3)!=g)v=v;else if(T(D,o,v+2&3)!=g)v=v+3&3}while(D!=n||o!=s);return S};j.X.aia=function(I,k,a){if(k==null||k==0)return I;
var n=I.length-2;if(a&&a.length!=0){var s=a[0]*2,C=a[a.length-1]*2,T=s==0?n:s-2,S=I.slice(C);for(var Y=0;
Y<s;Y++)S.push(I[Y]);if(s==C)S.push(.9*I[s]+.1*I[T],.9*I[s+1]+.1*I[T+1]);else S.push(I[s],I[s+1]);S=j.X.pw(S,k);
S.pop();S.pop();for(var Y=0;Y<a.length-1;Y++){var D=I.slice(a[Y]*2,a[Y+1]*2+2);D=j.X.pw(D,k);for(var o=0;
o<D.length-2;o++)S.push(D[o])}return S}var v=I.slice(0);v.push(.9*I[0]+.1*I[n],.9*I[1]+.1*I[n+1]);v=j.X.pw(v,k);
v.pop();v.pop();return v};j.X.pw=function(I,k){var a=I.length-2,n=I[0],s=I[1],C=I[a],T=I[a+1],S=C-n,D=T-s,o=1/Math.sqrt(S*S+D*D),v=C*s-T*n,g=-1,d=-1,R=0;
for(var Y=2;Y<a;Y+=2){var c=I[Y],e=I[Y+1],O=e*e*1e6+c*c,U=Math.abs(D*c-S*e+v)*o;if(U>d||U==d&&O>R){d=U;
g=Y;R=O}}if(d<k)return[n,s,C,T];var K=j.X.pw(I.slice(0,g+2),k),_=j.X.pw(I.slice(g),k);for(var Y=2;Y<_.length;
Y++)K.push(_[Y]);return K};j.X.aqz=function(){var I=function(n,s,C,T,S,D){return(s-T)*(S-C)+(C-n)*(D-T)>=0},k=function(n,s,C,T,S,D,o,v){var g=o-C,d=v-T,R=S-C,c=D-T,e=n-C,O=s-T,U=g*g+d*d,K=g*R+d*c,_=g*e+d*O,Z=R*R+c*c,H=R*e+c*O,G=1/(U*Z-K*K),N=(Z*_-K*H)*G,z=(U*H-K*_)*G;
return N>=0&&z>=0&&N+z<1},a=function(n){var bQ=n.length>>>1,Y=0;if(bQ<3)return[];var s=[],C=[];for(var Y=0;
Y<bQ;Y++)C.push(Y);var T=bQ;while(T>3){var S=C[(Y+0)%T],D=C[(Y+1)%T],o=C[(Y+2)%T],v=n[2*S],g=n[2*S+1],d=n[2*D],R=n[2*D+1],c=n[2*o],e=n[2*o+1],O=!1;
if(I(v,g,d,R,c,e)){O=!0;for(var U=0;U<T;U++){var K=C[U];if(K==S||K==D||K==o)continue;if(k(n[2*K],n[2*K+1],v,g,d,R,c,e)){O=!1;
break}}}if(O){s.push(S,D,o);C.splice((Y+1)%T,1);T--;Y=0}else if(Y++>3*T)break}s.push(C[0],C[1],C[2]);
return s};return a}();j.X.aDl=function(I,k){var a={},n={m:[],s:[]};for(var Y=0;Y<k.length;Y+=3){var s=k[Y]*2,C=k[Y+1]*2,T=k[Y+2]*2;
j.X.XA(I,s,C,n,a);j.X.XA(I,s,T,n,a);j.X.XA(I,C,T,n,a)}return n};j.X.XA=function(I,k,a,n,s){if(k>a){var C=a;
a=k;k=C}if(s[k+","+a])return;s[k+","+a]=!0;n.m.push("M","L");n.s.push(I[k],I[k+1],I[a],I[a+1])};j.X.ah8=function(I,k){var a=[],n=I.length;
for(var Y=0;Y<n;Y+=2){var s=I[Y],C=I[Y+1],T=I[(Y+2)%n],S=I[(Y+3)%n];if(S<C){var D=C;C=S;S=D}if(C<k&&k<S){var o=(k-C)/(S-C);
a.push(s+o*(T-s))}}a.sort(function(v,g){return v-g});return a};j.X.aoQ=function(I,k,a,n,s,C,T){var S=I-a,D=k-n,o=s-a,v=C-n,g=1/Math.sqrt(S*S+D*D),d=1/Math.sqrt(o*o+v*v),R=S*g,c=D*g,e=o*d,O=v*d,U=c*T,K=-R*T,_=-O*T,Z=e*T,H=j.X.ZO(U,K,R,c,_,Z,e,O),G=U+R*H,N=K+c*H,H=j.X.ZO(0,0,R,c,G,N,-c,R),z=R*H,L=c*H;
return[Math.sqrt(z*z+L*L),R,c,e,O]};j.X.a0r=function(I,k,a,n,s,C,T){var S=j.X.aoQ(I,k,a,n,s,C,T),D=S[0],o=S[1],v=S[2],g=S[3],d=S[4],R=Math.atan2(o*d-v*g,o*g+v*d);
if(R<0){R=R*-1}var c=Math.PI-R,e=4/3*Math.tan(c/4),O=a+D*o,U=n+D*v,K=a+D*g,_=n+D*d,Z=O+e*T*-o,H=U+e*T*-v,G=K+e*T*-g,N=_+e*T*-d;
return[0,0,O,U,Z,H,G,N,K,_]};j.X.ZO=function(I,k,a,n,s,C,T,S){var D=T*(k-C)-S*(I-s),o=S*a-T*n;if(o==0)return 0;
return D/o};j.X.o1=function(I,k,a,n,s,C){return I*(n-C)+a*(C-k)+s*(k-n)};j.X.a20=function(I){function k(W,m,f,h,b,J,q,x,A){var Q=j.X.ZO(W,m,f,h,b,J,q,x);
A.push(W+f*Q,m+h*Q)}var a=[],n=I.length,s=[];for(var Y=0;Y<n;Y+=2){var C=Y==0?n-2:Y-2,T=Y==n-2?0:Y+2,S=I[Y],D=I[Y+1],o=S-I[C],v=D-I[C+1],g=I[T]-S,d=I[T+1]-D,R=Math.sqrt(o*o+v*v),c=Math.sqrt(g*g+d*d);
s.push(c);var e=R/(R+c),O=S-o*.5,U=D-v*.5,K=S+g*.5,_=D+d*.5,Z=(I[T]+I[C])*.5,H=(I[T+1]+I[C+1])*.5,G=O+e*(K-O),N=U+e*(_-U),z=S-G,L=D-N,p=(g*-o+d*-v)/(R*c),V=(e-.5)*7,r=1+V*e,y=1-V*(1-e);
a.push(O+z*r,U+L*r,K+z*y,_+L*y)}return a};j.eb=function(){};j.eb.ZY=function(I,k,a,n,s){var C=a.Q,T=a._,S=C*T,D=new Int32Array(S),bQ=0;
for(var Y=0;Y<S;Y++)if(k[Y]!=0){D[Y]=bQ;bQ++}else if(I[(Y<<2)+3]<200){D[Y]=-2}else D[Y]=-1;if(bQ==0)return;
var o=new j.DP(bQ,bQ),v=new Array(3*bQ),g=new Array(3*bQ);for(var Y=0;Y<g.length;Y++)g[Y]=v[Y]=0;var d=1/255,R=[-C,-1,1,C],c=[],e=[];
for(var O=0;O<T;O++)for(var U=0;U<C;U++){var K=O*C+U,_=K<<2,Y=D[K],Z=Y*3,H=0,G=0,N=0;if(Y==-1||Y==-2)continue;
for(var z=0;z<4;z++){if(z==2){G=N;c[N]=0;e[N]=Y;N++}var L=K+R[z],p=L<<2,V=D[L];if(z==0&&O==0||z==1&&U==0||z==2&&U==C-1||z==3&&O==T-1||V==-2)continue;
H++;if(V==-1){v[Z+0]+=I[p+0];v[Z+1]+=I[p+1];v[Z+2]+=I[p+2]}else{c[N]=-1;e[N]=V;N++;if(k[K]==k[L]){v[Z+0]+=I[_+0]-I[p+0];
v[Z+1]+=I[_+1]-I[p+1];v[Z+2]+=I[_+2]-I[p+2]}}}c[G]=H;o.vp(c,e,N)}for(var Y=0;Y<S;Y++)if(D[Y]!=-1){var r=Y<<2,y=D[Y],W=y*3;
g[W]=I[r+0];g[W+1]=I[r+1];g[W+2]=I[r+2]}var m=Date.now();o.aCQ(g,v,n,s);console.log(Date.now()-m);for(var Y=0;
Y<S;Y++){var y=D[Y],f=y*3,r=Y<<2;if(y==-1||I[r+3]!=255)continue;I[r+0]=~~(.5+Math.max(0,Math.min(255,g[f+0])));
I[r+1]=~~(.5+Math.max(0,Math.min(255,g[f+1])));I[r+2]=~~(.5+Math.max(0,Math.min(255,g[f+2])))}};j.rect={};
j.rect.au0=function(I,k){var a=[I],n=[];for(var Y=0;Y<k.length;Y++){var s=k[Y],C=!1;for(var T=Y+1;T<k.length;
T++){var S=k[T];if(S[0]<=s[0]&&S[1]<=s[1]&&s[2]<=S[2]&&s[3]<=S[3]){C=!0;break}}if(!C)n.push(s)}k=n;for(var Y=0;
Y<k.length;Y++){var s=k[Y];for(var T=0;T<a.length;T++){var S=a[T],D=Math.max(s[0],S[0]),o=Math.min(s[2],S[2]),v=Math.max(s[1],S[1]),g=Math.min(s[3],S[3]);
if(D<o&&v<g){var d=[];if(S[1]<s[1]){var R=S.slice(0);R[3]=s[1];d.push(R)}if(S[0]<s[0]){var c=S.slice(0);
c[1]=v;c[2]=s[0];d.push(c)}if(s[2]<S[2]){var e=S.slice(0);e[1]=v;e[0]=s[2];d.push(e)}if(s[3]<S[3]){var O=[D,g,o,S[3]];
d.push(O)}if(d.length!=0){a[T]=d[0];for(var U=1;U<d.length;U++)a.push(d[U])}}}a.push(s);a=j.rect.ad2(a)}a.sort(function(s,S){return s[1]!=S[1]?s[1]-S[1]:s[0]-S[0]});
for(var Y=1;Y<a.length;Y++){var s=a[Y-1],S=a[Y];if(s[0]==S[0]&&s[1]==S[1]&&s[2]==S[2]&&s[3]==S[3]){a.splice(s[4]==null?Y-1:Y,1);
Y--}}return a};j.rect.ad2=function(I){I=I.slice(0);for(var Y=0;Y<I.length;Y++){var k=I[Y],a=null;if(k[4]!=null)continue;
for(var n=0;n<I.length;n++){var s=I[n];if(Y==n||s[4]!=null)continue;var C=k[0]==s[0],T=k[1]==s[1],S=k[2]==s[2],D=k[3]==s[3];
if(T&&D&&(k[2]==s[0]||k[0]==s[2])){a=[Math.min(k[0],s[0]),k[1],Math.max(k[2],s[2]),k[3]]}if(C&&S&&(k[3]==s[1]||k[1]==s[3])){a=[k[0],Math.min(k[1],s[1]),k[2],Math.max(k[3],s[3])]}if(a){I[Y]=a;
I.splice(n,1);break}}if(a){Y--}}return I};j.rect.si=function(I){var k=new eZ;for(var Y=0;Y<I.length;
Y++)k=k.oL(I[Y]);return k};j.rect.aaX=function(I,k){var a=j.rect.si,n=new UnionFind(I.length),G=1e3,N=1e3;
for(var Y=0;Y<I.length;Y++)for(var s=Y+1;s<I.length;s++){if(!k)continue;var C=I[Y],T=I[s],g=1e9,d=1e9;
if(C._s(T)){n.link(Y,s);continue}var S=C.x+C.Q,D=C.y+C._,o=T.x+T.Q,v=T.y+T._;if((S<T.x||o<C.x)&&(D<T.y||v<C.y))continue;
if(!(D<T.y||v<C.y))g=Math.min(Math.abs(S-T.x),Math.abs(C.x-o));if(!(S<T.x||o<C.x))d=Math.min(Math.abs(D-T.y),Math.abs(C.y-v));
var R=Math.min(g,d),c=Math.min(C.Q,C._,T.Q,T._);if(R<.3*c)n.link(Y,s)}var e=[],O={};for(var Y=0;Y<I.length;
Y++){var U=n.find(Y),K=I[Y];if(O[U]==null){O[U]=e.length;e.push([])}e[O[U]].push(K)}var _=[],Z=[];for(var Y=0;
Y<e.length;Y++){_.push(a(e[Y]));var H=a(e[Y]);H.BO=Y;Z.push(H)}Z.sort(function(h,b){return Math.max(b._,b.Q)-Math.max(h._,h.Q)});
var z=new NETXUS.RectanglePacker(G,N);while(!0){var L=!1;z.reset(G,N);for(var Y=0;Y<Z.length;Y++){var p=z.findCoords(Z[Y].Q,Z[Y]._);
if(p){Z[Y].x=p.x;Z[Y].y=p.y}else{G=Math.floor(G*1.1);N=Math.floor(N*1.1);L=!0;break}}if(L)continue;break}for(var Y=0;
Y<e.length;Y++){var V=Z[Y],r=V.BO,y=_[r],W=e[r],m=V.x-y.x,f=V.y-y.y;for(var s=0;s<W.length;s++)W[s].offset(m,f)}};
j.wJ=function(){};j.wJ.I0=Math.floor(16*window.devicePixelRatio);j.wJ.aK={};j.wJ.fl=0;j.wJ.g7=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
j.wJ.abP=["px","in","cm","mm","%"];j.wJ.Z8=function(I,k,a,n){var s=[1,k,k/2.54,k/25.4,a/100][n];return I*s};
j.wJ.auO=function(I,k,a,n){var s=[1,k,k/2.54,k/25.4,a/100][n];return I/s};j.wJ.qO=function(I,k,a,n,s){var C=a.M6.NY,T=[1,k,k/2.54,k/25.4,n/100][C],S=[2,3,2,1,2][C];
I=I/T;var D=Math.round(I),o=C==0&&Math.abs(I-D)<1e-6?D+"":I.toFixed(S);if(s)o+=" "+j.wJ.abP[C];return o};
j.wJ.a7G=function(I,k,a,n){var s=a.M6.NY,C=[1,k,k/2.54,k/25.4,n/100][s];I=parseFloat(I)*C;return I};
j.wJ.aoI=function(I,k){var a=I+","+k;if(j.wJ.aK.clr==a)return;var n=Math.round(j.wJ.I0*.5);j.wJ.fl=n;
var s=j.$P(n,n);s.save();s.font=n*1.5+"px monospace";var C="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var Y=0;
Y<C.length;Y++){s.fillStyle="#"+j.pB(k);s.fillRect(0,0,n,n);s.fillStyle="#"+j.pB(I);s.fillText(C[Y],0,n);
j.wJ.aK[C[Y]]=new Uint8Array(s.getImageData(0,0,n,n).data.buffer)}j.wJ.aK.clr=a;s.restore()};j.wJ.a1L=function(I,k,a){var n=0,s=0,C=4*j.wJ.I0;
for(var Y=9;Y>=0;Y--){var T=Math.pow(10,Y);if(5*T*I<=C){n=5*T;s=10;break}if(2*T*I<=C){n=2*T;s=4;break}if(1*T*I<=C){n=1*T;
s=10;break}}if(n==0){n=1;s=10}var S=Math.ceil(n*I),D=j.U(S*j.wJ.I0*4);j.IP(D,4278190080|a);for(var Y=0;
Y<j.wJ.I0;Y++)j.wJ.Yz(D,4*Y*S,k);for(var Y=0;Y<S;Y++)j.wJ.Yz(D,4*((j.wJ.I0-1)*S+Y),k);if(n==2)s=2;if(n==5)s=5;
if(n>1||n==1&&S>20)for(var Y=1;Y<s;Y++)j.wJ.aAi(D,Y*(S/s),S,(Y&1)==1?.8:.7,k);return{eY:D,step:n}};j.wJ.aAi=function(I,k,a,n,s){var k=Math.round(k);
for(var C=Math.round(j.wJ.I0*n);C<j.wJ.I0-1;C++)j.wJ.Yz(I,4*(C*a+k),s)};j.wJ.Yz=function(I,k,a){I[k+0]=a>>16&255;
I[k+1]=a>>8&255;I[k+2]=a&255};j.wJ.aBX=function(I,k,a,n,s,C,T){var S=I.PJ.Q,D=I.PJ._,o=j.wJ.I0,v=k&255,g=k>>8&255,d=k>>16&255;
k=Math.round(v*.6)<<16|Math.round(g*.6)<<8|Math.round(d*.6);j.wJ.aoI(Math.round(v*.8)<<16|Math.round(g*.8)<<8|Math.round(d*.8),a);
var R=I.F,c=I.i,e=I.AE;for(var O=0;O<2;O++){var U=O==0?C:T;I.F=U[0];I.i=U[1];I.AE=0;var K=this.a1L(I.F,k,a),_=I.m_(0,0),Z=I.m_(S,D),H=Math.floor(_.x/K.step)*K.step,G=Math.ceil(Z.x/K.step)*K.step,N=Math.floor(_.y/K.step)*K.step,z=Math.ceil(Z.y/K.step)*K.step,L=I.kF(H,N),p=I.kF(G,N),V=K.step*I.F,r=Math.ceil(V);
if(O==1){var y=K.eY;K.eY=j.U(y.length*4);j.t.wZ(y,K.eY,r,o)}var W=O==0?I.SZ.data:I.zd.data,m=new eZ(0,0,[S,o][O],[o,D][O]),f=new eZ(0,0,[r,o][O],[o,r][O]),h=new eZ([0,Math.round(o*.2)][O],[Math.round(o*.08),0][O],j.wJ.fl,j.wJ.fl),b=(O==0?G-H:z-N)/K.step;
for(var Y=0;Y<b;Y++){if(O==0)f.x=Math.round(L.x+Y*V);else f.y=Math.round(L.y+Y*V);j.ao(K.eY,f,W,m,f);
var i=(O==0?H+Y*K.step:Math.abs(N+Y*K.step)).toString(10);for(var w=0;w<i.length;w++){if(O==0)h.x=f.x+3+w*Math.round(j.wJ.fl*.8);
else h.y=f.y+3+w*Math.round(j.wJ.fl*1.15);var J=j.wJ.aK[i[w]];j.ao(J,h,W,m,h)}}}I.F=R;I.i=c;I.AE=e;var q=Math.floor(o*.6),x=new Uint32Array(I.SZ.data.buffer),A=new Uint32Array(I.zd.data.buffer),Q=v<128?4278190080:4294967295;
if(0<n&&n<S)for(var Y=0;Y<q;Y++)x[Y*S+n]=Q;if(0<s&&s<D)for(var Y=0;Y<q;Y++)A[s*o+Y]=Q};j.scale={};j.scale.g8=document.createElement("canvas");
j.scale.hp=j.scale.g8.getContext("2d");j.scale.pt=function(I,k,a){var n=j.scale.g8,s=j.scale.hp;n.width=k;
n.height=a;var C=new ImageData(new Uint8ClampedArray(I.buffer),k,a);s.putImageData(C,0,0);return s.createPattern(s.canvas,"repeat")};
j.scale.aB0=function(I,k,a,n,s,C,T,S,D){var o=j.scale.ag$(I,a,n,s,C,T,S,D);if(k)k.set(o);return new Uint8Array(o.buffer)};
j.scale.ag$=function(I,k,a,n,s,C,T,S){var D=j.$P(k,a);D.save();D.rect(0,0,k,a);D.translate(C,T);D.scale(n,s);
if(S!=null)D.rotate(-S);D.fillStyle=I;D.fill();D.restore();return new Uint8Array(D.getImageData(0,0,k,a).data.buffer)};
j.scale.h=function(I,k,a,n,s){var C=a.J==0&&a.mL==0,T=s.Q,S=s._,D=j.X.Eu(k,a).s,o=j.X.qP(D,C).LU(s),v=o.x,g=o.y,d=v+o.Q,R=g+o._,c=~~k.x,e=~~k.y,O=~~k.Q,U=~~k._;
if(C)for(var K=g;K<R;K++){var _=a.Jo*(K+.5)+a.rk-e,Z=~~_*O;for(var H=v;H<d;H++){var G=a.M*(H+.5)+a.Dw-c;
n[K*T+H]=I[Z+~~G]}}else for(var K=g;K<R;K++)for(var H=v;H<d;H++){var N=H+.5,z=K+.5,G=a.M*N+a.mL*z+a.Dw-c,_=a.J*N+a.Jo*z+a.rk-e;
if(0<=G&&0<=_&&G<O&&_<U)n[K*T+H]=I[~~_*O+~~G]}};j.scale.avL=function(I,k,a,n,s,C){var T=new Uint32Array(I.buffer),S=new Uint32Array(n.buffer),D=s.Q,o=s._,v=j.X.Eu(k,a).s,g=C?s:j.X.qP(v).LU(s),d=g.x,R=g.y,c=d+g.Q,e=R+g._,O=~~k.x,U=~~k.y,K=~~k.Q,_=~~k._;
for(var Z=R;Z<e;Z++)for(var H=d;H<c;H++){var G=H+.5,N=Z+.5,z=a.M*G+a.mL*N+a.Dw-O,L=a.J*G+a.Jo*N+a.rk-U;
if(C){z=((K<<10)+z)%K;L=((_<<10)+L)%_}if(0<=z&&0<=L&&z<K&&L<_)S[Z*D+H]=T[~~L*K+~~z]}};j.scale.F$=function(I,k,a,n,s,C,T){if(T<1)j.scale.auA(I,k,a,n,s,C,Math.round(1/T));
else j.scale.aCb(I,k,a,n,s,C,T)};j.scale.jj=function(I,k,a,n,s,C,T,S){if(S)S=S.LU(new eZ(0,0,k,a));I=new Uint32Array(I.buffer);
n=new Uint32Array(n.buffer);if(T<1)j.scale.awM(I,k,a,n,s,C,Math.round(1/T),S);else j.scale.a7h(I,k,a,n,s,C,T)};
j.scale.aCb=function(I,k,a,n,s,C,T){for(var S=0;S<a;S++)for(var D=0;D<k;D++){var o=I[S*k+D],v=Math.min(T,s-D*T),g=Math.min(T,C-S*T);
for(var Y=0;Y<g;Y++)for(var d=0;d<v;d++)n[(T*S+Y)*s+T*D+d]=o}};j.scale.auA=function(I,k,a,n,s,C,T){for(var S=0;
S<C;S++)for(var D=0;D<s;D++){var o=0,v=Math.min(T,k-D*T),g=Math.min(T,a-S*T);for(var Y=0;Y<g;Y++)for(var d=0;
d<v;d++)o+=I[(T*S+Y)*k+(T*D+d)];n[S*s+D]=Math.round(o/(v*g))}};j.scale.a7h=function(I,k,a,n,s,C,T){for(var S=0;
S<a;S++)for(var D=0;D<k;D++){var o=I[S*k+D],v=Math.min(T,s-D*T),g=Math.min(T,C-S*T);for(var Y=0;Y<g;
Y++)for(var d=0;d<v;d++)n[(T*S+Y)*s+T*D+d]=o}};j.scale.a8H=function(I,k,a){return(I>>>a&255)+(k>>>a&255)>>>1};
j.scale.r6=function(I,k){var a=j.scale.a8H;return a(I,k,24)<<24|a(I,k,16)<<16|a(I,k,8)<<8|a(I,k,0)};
j.scale.a84=function(I,k,a,n,s,C){var T=new Uint32Array(I.buffer),S=new Uint32Array(n.buffer);for(var D=0;
D<a;D++){for(var o=0;o<k;o++){var v=D*k+o,g=T[v],d=g,R=g,c=g;if(o<k-1)d=j.scale.r6(g,T[v+1]);if(D<a-1)R=j.scale.r6(g,T[v+k]);
if(o<k-1&&D<a-1)c=j.scale.r6(g,T[v+k+1]);var e=(D*s+o)*2;S[e]=g;S[e+1]=d;S[e+s]=R;S[e+s+1]=c}}if((s&1)==1)for(var D=0;
D<C;D++)S[D*s+s-1]=S[D*s+s-2];var O=s*(C-1);if((C&1)==1)for(var o=0;o<s;o++)S[O+o]=S[O-s+o]};j.scale.awM=function(I,k,a,n,s,C,T,S){var D=0,o=s,v=0,g=C;
if(S){D=Math.floor(S.x/T);o=Math.ceil((S.x+S.Q)/T);v=Math.floor(S.y/T);g=Math.ceil((S.y+S._)/T)}for(var d=v;
d<g;d++)for(var R=D;R<o;R++){var c=0,e=0,O=0,U=0,K=Math.min(T,k-R*T),_=Math.min(T,a-d*T);for(var Y=0;
Y<_;Y++)for(var Z=0;Z<K;Z++){var H=I[(T*d+Y)*k+T*R+Z],G=H>>>24;c+=G;e+=G*(H>>>16&255);O+=G*(H>>>8&255);
U+=G*(H&255)}if(c!=0){var N=1/c;n[d*s+R]=c/(K*_)<<24|e*N<<16|O*N<<8|U*N}else n[d*s+R]=0}};j.f=function(){function I(S,D,Y){return(128&S[Y-D-1]&S[Y-D]&S[Y-2]&S[Y-1]&S[Y+1]&S[Y+D-1]&S[Y+D])==0}function k(S,D,Y){return(128&S[Y-D-D]&S[Y-D+1]&S[Y+2]&S[Y+D+1]&S[Y+D+D])==0}function a(S,D,Y){return(S[Y-D]&S[Y-1]&S[Y+1]&S[Y+D]&128)==0}function n(S,Y){return(S[Y]&128)!=0}function s(S,D,o,v){var Y=0,g=o.Q,d=o._;
if(v)for(var R=0;R<d;R++)for(var c=0;c<g;c++){if(n(S,Y)&&(c<2||R<2||c>g-3||R>d-3||((S[Y-1]&128)==0||D[Y-1]!=0)&&I(S,g,Y)||k(S,g,Y)))D[Y]=255;
Y++}else for(var R=0;R<d;R++)for(var c=0;c<g;c++){if(n(S,Y)&&(c==0||R==0||c==g-1||R==d-1||a(S,g,Y)))D[Y]=255;
Y++}}function C(S,D,o,v,g){var d=o.Q,R=o._,c=new Uint8Array(D.buffer),e=new Uint32Array(D.buffer);if(g)for(var O=2;
O<R-2;O++)for(var U=2;U<d-2;U++){var Y=O*d+U;if(n(S,Y)&&(((S[Y-1]&128)==0||e[Y-1]!=0)&&I(S,d,Y)||k(S,d,Y)))e[Y]=v[(U+O&4)>>>2]}else for(var O=1;
O<R-1;O++)for(var U=1;U<d-1;U++){var Y=O*d+U;if(n(S,Y)&&a(S,d,Y)){e[Y]=v[(U+O&4)>>>2]}}}function T(S,D,o,v,g){var d=o.Q,R=o._,c=new Uint8Array(D.buffer),e=new Uint32Array(D.buffer),Y=0;
if(v==1)for(var O=0;O<R;O++)for(var U=0;U<d;U++,Y++){var K=S[Y];e[Y]=255-K>>>1<<24|255}else for(var O=0;
O<R;O++)for(var U=0;U<d;U++,Y++){var K=S[Y];e[Y]=255<<24|(K<<16|K<<8|K)}}return{aEe:s,arn:C,a3w:T}}();
j._R={};j._R.hB=function(I,k,a){var n,s;if(a==0){n=I.rect.clone();s=j._R.anq}if(a==1){n=I.rect.oL(k.rect);
s=j._R.oL}if(a==2){n=k.rect.clone();s=j._R.aB7}if(a==3){n=I.rect.LU(k.rect);s=j._R.LU}if(a==4){n=I.rect.oL(k.rect);
s=j._R.ayF}if(n.KH())return null;var C=j.U(n.c());j.O0(k.channel,k.rect,C,n);var T=j.U(n.c());j.O0(I.channel,I.rect,T,n);
s(T,C,C);var S=j.PD(C,n);if(S.KH())return null;if(!S.a$(n)){var D=j.U(S.c());j.O0(C,n,D,S);C=D;n=S}return{channel:C,rect:n}};
j._R.anq=function(I,k,a){for(var Y=0;Y<I.length;Y++)a[Y]=I[Y]};j._R.oL=function(I,k,a){for(var Y=0;Y<I.length;
Y++)a[Y]=Math.min(I[Y]+k[Y],255)};j._R.aB7=function(I,k,a){for(var Y=0;Y<I.length;Y++)a[Y]=Math.max(k[Y]-I[Y],0)};
j._R.LU=function(I,k,a){var n=1/255;for(var Y=0;Y<I.length;Y++)a[Y]=I[Y]*k[Y]*n};j._R.ayF=function(I,k,a){var n=1/255;
for(var Y=0;Y<I.length;Y++)a[Y]=Math.min(I[Y]+k[Y],255)-I[Y]*k[Y]*n};j.DP=function(I,k){this.p=[];this.E8=[0];
this.FW=[];this.J9=[];this.rQ=[0];this.an=[];this.I9=[];this.rows=I;this.cols=k};j.DP.prototype.clone=function(){var I=this,k=I.rows,a=I.cols,n=new j.DP(k,a);
n.p=I.p.slice(0);n.E8=I.E8.slice(0);n.FW=I.FW.slice(0);n.J9=I.J9.slice(0);n.rQ=I.rQ.slice(0);n.an=I.an.slice(0);
n.I9=I.I9.slice(0);return n};j.DP.prototype.vp=function(I,k,a){var n=this.E8.length-1;for(var Y=0;Y<a;
Y++){var s=I[Y],C=k[Y];this.p.push(s);this.FW.push(C);if(C==n){this.I9.push(s==0?0:1/s)}else{this.J9.push(s);
this.an.push(C)}}this.E8.push(this.p.length);this.rQ.push(this.J9.length)};j.DP.prototype.ws=function(I,k){var a=this,n=a.rows,s=a.p,C=a.FW;
if(k==null)k=new Array(n);for(var Y=0;Y<n;Y++){var T=a.E8[Y],S=a.E8[Y+1],D=0;while((S-T&3)!=0){D+=s[T]*I[C[T]];
T++}for(var o=T;o<S;o+=4)D+=s[o]*I[C[o]]+s[o+1]*I[C[o+1]]+s[o+2]*I[C[o+2]]+s[o+3]*I[C[o+3]];k[Y]=D}return k};
j.DP.prototype.multiply=function(I){return this.vi(I.wZ())};j.DP.prototype.vi=function(I){var k=this,a=k.rows,n=k.cols,s=I.rows,C=new j.DP(a,s),T=k.FW,S=I.FW;
for(var Y=0;Y<a;Y++){var D=[],o=[],v=k.E8[Y],g=k.E8[Y+1];for(var d=0;d<s;d++){var R=I.E8[d],c=I.E8[d+1],e=0,O=v,U=R;
while(O<g&&U<c){var K=Math.max(T[O],S[U]);while(O<g&&T[O]<K)O++;while(U<c&&S[U]<K)U++;if(O<g&&U<c&&T[O]==S[U])e+=k.p[O++]*I.p[U++]}if(e!=0){D.push(e);
o.push(d)}}C.vp(D,o,D.length)}return C};j.DP.prototype.wZ=function(){var I=this.rows,k=this.cols,a=[];
for(var Y=0;Y<k;Y++)a.push([[],[]]);var n=this.p,s=this.E8,C=this.FW;for(var Y=0;Y<I;Y++){var T=s[Y],S=s[Y+1];
for(var D=T;D<S;D++){var o=a[C[D]];o[0].push(n[D]);o[1].push(Y)}}var v=new j.DP(k,I);for(var Y=0;Y<k;
Y++)v.vp(a[Y][0],a[Y][1],a[Y][1].length);return v};j.DP.prototype.ft=function(){var I=this.rows,k=this.cols,a=new Array(I),n=this.p,s=this.E8,C=this.FW;
for(var Y=0;Y<I;Y++){var T=a[Y]=new Array(k);for(var S=0;S<k;S++)T[S]=0;var D=s[Y],o=s[Y+1];for(var v=D;
v<o;v++)T[C[v]]=n[v]}return a};j.DP.prototype.az=function(I,k,a,n,s){function C(N,k,z,L){var p=N.length;
for(var Y=0;Y<p;Y++)L[Y]=N[Y]-k[Y]*z}function T(N,k,z,L){var p=N.length,V=0;while((p-V&3)!=0){L[V]=N[V]+k[V]*z;
V++}for(var Y=V;Y<p;Y+=4){L[Y]=N[Y]+k[Y]*z;L[Y+1]=N[Y+1]+k[Y+1]*z;L[Y+2]=N[Y+2]+k[Y+2]*z;L[Y+3]=N[Y+3]+k[Y+3]*z}}function S(N,k,z){var L=N.length;
for(var Y=0;Y<L;Y++)z[Y]=N[Y]*k[Y]}function D(N,k){var z=N.length,L=0,p=0;while((z-L&3)!=0){p+=N[L]*k[L];
L++}for(var Y=L;Y<z;Y+=4)p+=N[Y]*k[Y]+N[Y+1]*k[Y+1]+N[Y+2]*k[Y+2]+N[Y+3]*k[Y+3];return p}var o=n!=null?2:1,v=Date.now(),g=0,d=this,R=I.slice(0),c=I.slice(0);
d.ws(I,c);C(k,c,1,R);var e=this.I9;if(o==0){e=R.slice(0);e.fill(1)}var O=R.slice(0);S(e,R,O);var U=O.slice(0),K=D(R,O);
while(!0){d.ws(U,c);var _=K/D(U,c);T(I,U,_,I);C(R,c,_,R);if((g&7)==0&&Math.sqrt(D(R,R))<a)break;if(o<=1)S(e,R,O);
else{var Z=R.slice(0);n.a7t(Z,R);s.a8A(O,Z)}var H=D(R,O),G=H/K;T(O,U,G,U);K=H;g++}};j.DP.prototype.adc=function(I,k,a,n){var s=Date.now(),C=1.96,S=0;
if(a==null)a=5e-6;if(n==null)n=1e9;var T=1-C,bQ=this.rows,D=this.J9,o=this.rQ,v=this.an,g=this.I9;while(!0){var d=0;
for(var Y=0;Y<bQ;Y++){var R=k[Y],c=o[Y],e=o[Y+1];if(e-c==4)R-=D[c]*I[v[c]]+D[c+1]*I[v[c+1]]+D[c+2]*I[v[c+2]]+D[c+3]*I[v[c+3]];
else for(var O=c;O<e;O++)R-=D[O]*I[v[O]];var U=I[Y]*T+g[Y]*R*C,K=U-I[Y];d+=K*K;I[Y]=U}if(d/bQ<a||Date.now()>s+n)break}};
j.DP.prototype.aCQ=function(I,k,a,n){var s=Date.now(),C=1.96,S=0;if(a==null)a=5e-5;if(n==null)n=1e9;
var T=1-C,bQ=this.rows,D=this.J9,o=this.rQ,v=this.an,g=this.I9;while(!0){var d=0;for(var Y=0;Y<bQ;Y++){var R=Y*3,c=k[R],e=k[R+1],O=k[R+2],U=o[Y],K=o[Y+1];
for(var _=U;_<K;_++){var Z=D[_],H=v[_]*3;c-=Z*I[H+0];e-=Z*I[H+1];O-=Z*I[H+2]}var G=g[Y]*C,N=I[R+0]*T+c*G,z=I[R+1]*T+e*G,L=I[R+2]*T+O*G,p=N-I[R+0],V=z-I[R+1],r=L-I[R+2];
d+=.4*p*p+.5*V*V+.1*r*r;I[R+0]=N;I[R+1]=z;I[R+2]=L}if(d/bQ<a||Date.now()>s+n)break}};j.IJ={};j.IJ.bj=function(I,k,a){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:I},Vrtc:{t:"doub",v:k},Cnty:{t:"bool",v:a}}}};
j.IJ.h=function(I,k){for(var Y=0;Y<I.length;Y++){var a=I[Y].v,n=k.yt(new kK(a.Hrzn.v,a.Vrtc.v));a.Hrzn.v=Math.round(n.x);
a.Vrtc.v=Math.round(n.y)}};j.IJ.awo=function(I,k,a){var bQ=I.length-1,n=j.Ce.KI(bQ+1,bQ+2);for(var Y=1;
Y<bQ;Y++){n[Y][Y-1]=1/(I[Y]-I[Y-1]);n[Y][Y]=2*(1/(I[Y]-I[Y-1])+1/(I[Y+1]-I[Y]));n[Y][Y+1]=1/(I[Y+1]-I[Y]);
n[Y][bQ+1]=3*((k[Y]-k[Y-1])/((I[Y]-I[Y-1])*(I[Y]-I[Y-1]))+(k[Y+1]-k[Y])/((I[Y+1]-I[Y])*(I[Y+1]-I[Y])))}n[0][0]=2/(I[1]-I[0]);
n[0][1]=1/(I[1]-I[0]);n[0][bQ+1]=3*(k[1]-k[0])/((I[1]-I[0])*(I[1]-I[0]));n[bQ][bQ-1]=1/(I[bQ]-I[bQ-1]);
n[bQ][bQ]=2/(I[bQ]-I[bQ-1]);n[bQ][bQ+1]=3*(k[bQ]-k[bQ-1])/((I[bQ]-I[bQ-1])*(I[bQ]-I[bQ-1]));j.Ce.zI(n,a)};
j.IJ.a4j=function(I,k,a,n){if(I<=k[0])return a[0];if(I>=k[k.length-1])return a[k.length-1];var Y=1;while(k[Y]<I)Y++;
var s=k[Y],C=k[Y-1],T=a[Y],S=a[Y-1],D=(I-C)/(s-C),o=n[Y-1]*(s-C)-(T-S),v=-n[Y]*(s-C)+(T-S),g=(1-D)*S+D*T+D*(1-D)*(o*(1-D)+v*D);
return g};j.IJ.a53=function(I,k,a,n){var s={Ie:[I[0]],Jz:[k[0]],$i:[]};n[0]=s;for(var Y=1;Y<I.length-1;
Y++){s.Ie.push(I[Y]);s.Jz.push(k[Y]);if(a[Y]==!1){j.IJ.awo(s.Ie,s.Jz,s.$i);s={Ie:[I[Y]],Jz:[k[Y]],$i:[]}}n[Y]=s}s.Ie.push(I[Y]);
s.Jz.push(k[Y]);j.IJ.awo(s.Ie,s.Jz,s.$i);n[Y]=s};j.IJ.a8s=function(I,k,a,n){if(I<=k[0])return a[0];if(I>=k[k.length-1])return a[k.length-1];
var Y=1;while(k[Y]<I)Y++;var s=n[Y-1];return j.IJ.a4j(I,s.Ie,s.Jz,s.$i)};j.IJ.aiF=function(I){var k={Ie:[],Jz:[],iU:[]};
for(var Y=0;Y<I.length;Y++){k.Ie[Y]=I[Y].v.Hrzn.v;k.Jz[Y]=I[Y].v.Vrtc.v;k.iU[Y]=I[Y].v.Cnty?I[Y].v.Cnty.v:!0}return k};
j.IJ.ot=function(I,bQ,k){var a=0,n=255;if(k){a=-1e9;n=1e9}var s=j.IJ.aiF(I),C=[];j.IJ.a53(s.Ie,s.Jz,s.iU,C);
var T=[];for(var Y=0;Y<bQ;Y++)T[Y]=1/255*Math.max(a,Math.min(n,j.IJ.a8s(Y*(255/(bQ-1)),s.Ie,s.Jz,C)));
return T};j.IJ.amC=function(I,bQ,k){var a=Math.round(I.length/20),n=bQ-I.length,s=k?(I[a]-I[0])/a:0,C=k?I[0]-n*s:I[I.length-1],T=[];
for(var Y=0;Y<n;Y++)T.push(C+Y*s);return k?T.concat(I):I.concat(T)};j.IJ.pH=function(I,bQ,k){var a=j.IJ.aiF(I),n=[];
j.IJ.a53(a.Ie,a.Jz,a.iU,n);var s=new Uint8Array(bQ),C=bQ/256;for(var Y=0;Y<bQ;Y++)s[Y]=Math.max(0,Math.min(bQ-1,j.IJ.a8s(Y*C,a.Ie,a.Jz,n)));
if(k){s[0]=0;if(s[1]>100)s[1]=.4*s[1];if(s[2]>150)s[1]=.7*s[2]}return s};j.IJ.a8t=function(I,k){var a=new Uint8Array(I.length);
for(var Y=0;Y<I.length;Y++)a[Y]=k[I[Y]];return a};j.IJ.cO=function(I,k,a){var n=document.createElement("canvas");
n.width=k;n.height=a;var s=n.getContext("2d"),C=j.IJ.pH(I,256);s.scale(k/255,a/255);s.fillStyle="#fff";
s.fillRect(0,0,255,255);s.fillStyle="#333";s.beginPath();s.moveTo(0,255);for(var Y=0;Y<C.length;Y++)s.lineTo(Y,255-C[Y]);
s.lineTo(255,255);s.closePath();s.fill();return n.toDataURL()};j.style={};j.style.stroke=function(I,k,a,n){var s=a.Q,C=a._,T=j.style.Cf(I,s,C);
j.style.q$(k,a,T,a,n)};j.style.q$=function(I,k,a,n,s){var C=k.LU(n),T=C.Q,S=C._;s+=.5;var D=C.x-k.x,o=C.y-k.y,v=k.Q,g=C.x-n.x,d=C.y-n.y,R=n.Q;
for(var c=0;c<S;c++){var e=(c+d)*R+g,O=(c+o)*v+D;for(var U=0;U<T;U++){var K=Math.max(0,Math.min(1,s-a[e+U]));
I[O+U]=Math.round(K*255)}}};j.style.aET=function(I,k,a,n){for(var s=0;s<a;s++)for(var C=0;C<k;C++){var T=s*k+C,S=0,D=0,o=I[T];
if(C==0||s==0){S=I[T+1]-o;D=I[T+k]-o}else if(C==a-1||s==k-1){S=o-I[T-1];D=o-I[T-k]}else{S=I[T+1]-I[T-1];
D=I[T+k]-I[T-k]}if(S!=0||D!=0){var v=1/Math.sqrt(S*S+D*D);S*=v;D*=v}n[T+T]=S;n[T+T+1]=D}};j.style.Cf=function(I,k,a){var n=k*a,s=new ArrayBuffer((n+k*4)*4),C=new Float32Array(s,0,n),T=new Uint16Array(s,0,n<<1),S=new Int32Array(s,n*4,k),D=new Int32Array(s,(n+k)*4,k),o=new Int32Array(s,(n+k*2)*4,k),v=new Int32Array(s,(n+k*3)*4,k),g=1/255;
for(let Y=0;Y<k;++Y){let d=-a-k,R=0,c=Y,e=0;for(;e<a;++e,c+=k){if(I[c]>128)d=e,R=I[c];T[c<<1]=e-d;T[(c<<1)+1]=R}d=T[c+=c-k-k],R=T[c+1];
for(;e>1;--e){if(T[c-=k+k]>d)T[c]=++d,T[c+1]=R;else d=T[c],R=T[c+1]}}for(let O=0;O<n;O+=k){var U=O+k,K=T[O<<1]*T[O<<1],_=0;
let Z=S[0]=O,H=D[0]=O,G=K,N=G;for(let c=O+1;c<U;++c){var z=T[c<<1]*T[c<<1];while(_&&N>(H-c)*(H-c)+z){H=D[--_],Z=S[_],G=T[Z<<1]*T[Z<<1],N=(H-Z)*(H-Z)+G}if(_||N<=(H-c)*(H-c)+z){var L=c-Z,p=O+Math.floor((L*(c+Z-O-O)+z-G)/(L<<1))+1;
if(p<U){H=D[++_]=p,Z=S[_]=c,G=z,N=(H-Z)*(H-Z)+G}}else H=O,Z=S[0]=c,G=z,N=(H-Z)*(H-Z)+G}for(let Y=0;Y<_;
++Y){var V=S[Y]<<1;o[Y]=T[V]*T[V];v[Y]=T[V+1]}let r=.5-T[(S[_]<<1)+1]*g;for(let c=U-1;c>=O;--c){C[c]=Math.max(0,Math.sqrt((c-Z)*(c-Z)+G)+r);
if(_&&c==H){H=D[--_],Z=S[_],G=o[_],r=.5-v[_]*g}}}return C};j.style.axQ=function(I,k,a){var n=new Float64Array(k*a),s=0,C=k*a;
for(var Y=0;Y<C;Y++)s|=I[Y];if(s==0){n.fill(1e9);return}var T=j.style.Xv(I,k,a);for(var S=0;S<a;S++)for(var D=0;
D<k;D++){var Y=S*k+D,o=T[Y*2],v=T[Y*2+1];if(o==0&&v==0){n[Y]=0;continue}var g=Math.sqrt(o*o+v*v),d=I[(S+v)*k+D+o]*(1/255);
n[Y]=g+.5-d}return n};j.style.a64=function(I,k,a){return(.5-a)*I};j.style.Xv=function(I,k,a,n){var s=new Int16Array(k*a*2);
j.style.a7A(I,s,k,a,128);return s};j.style.a7A=function(I,k,a,n,s){var C=new Int32Array(a*n);j.style.aq$(I,C,a,n,s);
j.style.ako(C,k,a,n)};j.style.aq$=function(I,k,a,n,s){var C=new Int32Array(n);for(var T=0;T<a;T++){var S=a+n;
for(var D=n-1;D>=0;D--){if(I[D*a+T]>s)S=0;else S++;C[D]=S}S=a+n;for(var D=0;D<n;D++){if(I[D*a+T]>s)S=0;
else S++;k[D*a+T]=S<C[D]?-S:C[D]}}};j.style.ako=function(I,k,a,n){var s=(a+n)*(a+n),C=new Float64Array(a),T=new Uint16Array(a);
for(var S=0;S<n;S++){var D=S*a,o=0;T[0]=0;C[0]=-s;C[1]=+s;for(var v=1;v<a;v++){var g=I[v+D]*I[v+D]+v*v,d=(g-(I[T[o]+D]*I[T[o]+D]+T[o]*T[o]))/(2*v-2*T[o]);
while(d<=C[o]){o--;d=(g-(I[T[o]+D]*I[T[o]+D]+T[o]*T[o]))/(2*v-2*T[o])}o++;T[o]=v;C[o]=d;C[o+1]=s}o=0;
for(var v=0;v<a;v++){while(C[o+1]<v)o++;var R=T[o]-v,c=I[T[o]+D],Y=S*a+v<<1;k[Y]=R;k[Y+1]=c}}};j.style.bv=function(I,k,a){if(a)for(var Y=0;
Y<I.length;Y++){var n=I[Y];if(n>0)I[Y]=Math.max(0,Math.min(255,n+k*2*(j.style.dC(Y)-128)))}else for(var Y=0;
Y<I.length;Y++){var n=I[Y];if(n>0)I[Y]=Math.max(0,Math.min(255,n+Math.min(n*3,k*2*(j.style.dC(Y)-128))))}};
j.style.dC=function(I){I=I^61^I>>16;I=I+(I<<3);I=I^I>>4;I=I*668265261;I=I^I>>15;return I&255};j.yd={};
j.yd._T=function(I,k,a){var n=I.canvas;if(n.width!=k||n.height!=a){n.width=k;n.height=a}};j.yd._3=function(I,k,a,n,s,C){j.yd._T(I,k,a);
if(C==null)C=!1;var T=s.channel,S=s.rect,D=!s.isEnabled;if(k*a==0)return;var o=I.createImageData(k,a),v=o.data,g=1/k,d=1/a;
for(var Y=0;Y<a;Y++)for(var R=0;R<k;R++){var c=Y*k+R,e=c*4,O=Math.round(n.x+R*g*n.Q),U=Math.round(n.y+Y*d*n._),K=0;
if(O<S.x||O>=S.x+S.Q||U<S.y||U>=S.y+S._)K=s.color;else K=T[(U-S.y)*S.Q+(O-S.x)];K=255*(255-s.Au)+K*s.Au>>>8;
if(C)K=170+Math.round(.4*(K-170));v[e]=K;v[e+1]=K;v[e+2]=K;v[e+3]=255}I.putImageData(o,0,0);if(D)j.yd.aCl(I,k,a)};
j.yd.a35=[];j.yd.a1I=function(I,k,a,n){var s,C,T;s=Math.ceil(Math.max(k,a)*.35);C=k-s;T=a-s;var S=j.yd.a35[s];
if(S==null){var D=j.$P(s,s);D.fillStyle="#eeeeee";D.fillRect(0,0,s,s);var o=Math.round(s*.27),v=D.lineWidth=Math.max(1,Math.round(s*.12)),g=v/2;
D.strokeRect(1+g,1+g,s-v-2,s-v-2);D.strokeRect(o+g,o+g,s-o-o-v,s-o-o-v);S=j.yd.a35[s]=D.getImageData(0,0,s,s)}I.putImageData(S,C,T)};
j.yd.adW=[];j.yd.aAO=function(I,k,a){var n,s,C;n=Math.ceil(Math.max(k,a)*.35);s=k-n;C=a-n;var T=j.yd.adW[n];
if(T==null){var S=j.$P(n,n);S.fillStyle="#eeeeee";S.fillRect(0,0,n,n);S.lineWidth=1;S.strokeRect(2.5,2.5,n-5,n-5);
var D=S.createImageData(3,3);j.IP(D.data,4278190080);D.data[4*4]=D.data[4*4+1]=D.data[4*4+2]=238;S.putImageData(D,1,1);
S.putImageData(D,n-4,1);S.putImageData(D,1,n-4);S.putImageData(D,n-4,n-4);T=j.yd.adW[n]=S.getImageData(0,0,n,n)}I.putImageData(T,s,C)};
j.yd.apb=function(I,k,a,n,s){j.yd._T(I,k,a);var C=k/n.Q;if(k*a==0)return;I.fillStyle="#999999";I.setTransform(1,0,0,1,0,0);
I.clearRect(0,0,k,a);var T=j.yd.aw_;if(T==null)T=j.yd.aw_=fY.Lg.nI(!0,!0);T.strokeStyleLineWidth.v.val=1/C;
I.fillStyle="#ffffff";I.scale(C,C);j.n.Cw(s.d,I,0,0);j.n.Cw(s.d,I,0,0,T)};j.yd.aln=function(I,k,a,n,s){j.yd._T(I,k,a);
if(k*a==0)return;I.setTransform(1,0,0,1,0,0);I.fillStyle="white";I.fillRect(0,0,k,a);var C=s.o,T;if(C.add.SoLd)T=E.nF.QX(C.add.SoLd.nonAffineTransform);
else if(C.add.vmsk)T=C.add.vmsk.sv();else if(C.add.TySh){if(C.qj.xu==null)return;T=j.X.Eu(C.qj.xu).s;
j.X.h(T,C.add.TySh.h,T)}var S=j.X.TO(T),D=Math.min(k/S.Q,a/S._),o=S.Q*D,v=S._*D;I.translate(-S.x*D+(k-o)*.5,-S.y*D+(a-v)*.5);
I.scale(D,D);s.W9(n,I,null,null)};j.yd.agx=null;j.yd.b_=function(I,k,a,n,s,C,T,S,D){j.yd._T(I,k,a);if(k*a==0)return;
var o=Math.max(k,a),v=j.yd.agx;if(v==null||v.width<o||v.height<o){j.yd.agx=v=I.createImageData(o,o)}o=v.width;
var g=v.data,d=n.Q/k,R=n._/a,c=C.x,e=C.x+C.Q,O=C.y,U=C.y+C._;for(var Y=0;Y<a;Y++)for(var K=0;K<k;K++){var _=Y*o+K,Z=_*4,H=~~(n.x+K*d),G=~~(n.y+Y*R),N=j.a3Y(Y,K,2);
if(H<c||H>=e||G<O||G>=U||D){g[Z]=N;g[Z+1]=N;g[Z+2]=N;g[Z+3]=255}else{var z=(G-C.y)*C.Q+(H-C.x)<<2,L=s[z+3]*(1/255);
g[Z]=s[z+0]*L+N*(1-L);g[Z+1]=s[z+1]*L+N*(1-L);g[Z+2]=s[z+2]*L+N*(1-L);g[Z+3]=255}}if(S!=null)for(var Y=0;
Y<g.length;Y+=4)g[Y]=g[Y+1]=g[Y+2]=g[Y+S];I.putImageData(v,0,0);if(T)j.yd.aCl(I,k,a)};j.yd.atb=function(I,k,a,n){j.yd._T(I,k,a);
I.fillStyle=j.yd.GW(n.Clr.v);I.fillRect(0,0,k,a);j.yd.RQ(I,k,a)};j.yd.a6J=null;j.yd.asR=function(I,k,a,n){j.yd._T(I,k,a);
var s=I.canvas.width,C=I.canvas.height,T=j.yd.a6J;if(T==null||T.width!=s||T.height!=C){I.fillStyle="#ffffff";
I.fillRect(0,0,k,a);I.fillStyle="#000000";I.font=""+a*.7+"px serif";I.fillText("T",(k-a*.43)/2,a*.75);
I.fillText("T",(k-a*.43)/2,a*.75);j.yd.a6J=I.getImageData(0,0,s,C)}else I.putImageData(T,0,0)};j.yd.aqa=function(I,k,a){j.yd._T(I,k,a);
I.clearRect(0,0,k,a);I.font=a*.7+"px serif";I.fillText(":(",(k-a*.43)/2,a*.7)};j.yd.aEC=function(I,k,a,n){j.yd._T(I,k,a);
var s=fo.get(n),C=I.canvas.width,T=j.yd.ae$[C+s];if(T==null){var S=PIMG["adj/"+s],D=kk.Yt(S),o=UPNG.decode(D.buffer),v=new Uint8Array(UPNG.toRGBA8(o)[0]),g=new eZ(0,0,160,160),d=0,R=C-d*2,c=E.nF.on([v,g],new dc(R/160,0,0,R/160,0,0)),e=new eZ(0,0,C,C),O=j.U(e.c()*4);
j.z.Pf("norm",c.buffer,c.rect,O,e,c.rect,1);T=j.yd.ae$[C+s]=new ImageData(new Uint8ClampedArray(O.buffer),C,C)}I.putImageData(T,0,0)};
j.yd.ae$={};j.yd.akE=function(I,k,a,n){j.yd._T(I,k,a);var s=I.canvas.width,C=I.canvas.height,T=I.getImageData(0,0,s,C);
j.G.tj(n.Grad.v,new Uint8Array(T.data.buffer),new eZ(0,0,s,C),[1/s,0,0,1/C],s/2,C/2,!1,0,16711680,65280);
I.putImageData(T,0,0);j.yd.RQ(I,k,a)};j.yd.ajd=function(I,k,a,n,s){j.yd._T(I,k,a);var C=I,T=hB.HP(n.Ptrn.v,s.add.Patt);
if(T==null)return;var S=T.ZS[1];j.yd.b_(I,k,a,S,T.ZS[0],S,!1);j.yd.RQ(C,k,a)};j.yd.aCl=function(I,k,a){I.strokeStyle="#bb0000";
I.lineWidth=3;I.beginPath();I.moveTo(k*.15,a*.15);I.lineTo(k*.85,a*.85);I.moveTo(k*.85,a*.15);I.lineTo(k*.15,a*.85);
I.closePath();I.stroke()};j.yd.RQ=function(I,k,a){I.fillStyle="#eeeeee";I.fillRect(0,a*.75,k,a*.25);
I.beginPath();I.moveTo(0,a*.75);I.lineTo(k,a*.75);I.moveTo(k*.1,a*.875);I.lineTo(k*.9,a*.875);I.moveTo(k*.65,a*.825);
I.lineTo(k*.65,a*.95);I.closePath();I.stroke()};j.yd.GW=function(I){var k=j.G.GW(I),a=Math.round(k.$)<<16|Math.round(k.H)<<8|Math.round(k.J);
return"#"+j.pB(a)};j.n={};j.n.ji=function(I,k,a){var n=[],s=-1;for(var Y=0;Y<I.length;Y++){var C=I[Y];
if((C.type==0||C.type==3)&&C.Np!=-1)s++;if(C.type>5||C.type==0||C.type==3)continue;if(k!=null&&k.indexOf(s)==-1)continue;
if(a!=null&&a.indexOf(Y)==-1)continue;n.push(C.VW.x);n.push(C.VW.y);n.push(C.A.x);n.push(C.A.y);n.push(C.zK.x);
n.push(C.zK.y)}return n};j.n.DB=function(I,k,a,n){var s=0,C=-1;for(var Y=0;Y<k.length;Y++){var T=k[Y];
if((T.type==0||T.type==3)&&T.Np!=-1)C++;if(T.type>5||T.type==0||T.type==3)continue;if(a!=null&&a.indexOf(C)==-1)continue;
if(n!=null&&n.indexOf(Y)==-1)continue;T.VW.dZ(I[s],I[s+1]);T.A.dZ(I[s+2],I[s+3]);T.zK.dZ(I[s+4],I[s+5]);
s+=6}};j.n.de=function(I,k,a,n){var s=j.n.ji(I,a,n);j.X.h(s,k,s);j.n.DB(s,I,a,n)};j.n.alg=function(I,k,a,n){var s=j.n.ji(I,a,n);
j.t.h(k,s);j.n.DB(s,I,a,n)};j.n.aAa=function(I,k,a,n){if(n==null){var s=j.n.aoz(I,40,a);for(var Y=0;
Y<s.length;Y++)I[Y]=s[Y]}var C=j.n.ji(I,a,n);j.QT.h(k,C,j.X.TO(C));j.n.DB(C,I,a,n)};j.n.aoz=function(I,k,a){var n=[],s=-1;
for(var Y=0;Y<I.length;Y++){var C=I[Y],T=C.length;if(C.type>5){n.push(JSON.parse(JSON.stringify(C)));
continue}C=JSON.parse(JSON.stringify(C));n.push(C);if(C.Np!=-1)s++;if(a&&a.indexOf(s)==-1){n=n.concat(I.slice(Y+1,Y+1+T))}else{var S=j.n.akn(I,Y+1,T);
S=j.X.rA(S,k);var D=j.n.axK(S);C.length=D.length;for(var o=0;o<D.length;o++)n.push(D[o])}Y+=T}return n};
j.n.akn=function(I,k,a){var n={m:["M"],s:[]},s=I[k],C=I[k+a-1];n.s.push(s.A.x,s.A.y);for(var Y=1;Y<a;
Y++){var T=I[k+Y-1],S=I[k+Y];n.m.push("C");n.s.push(T.zK.x,T.zK.y,S.VW.x,S.VW.y,S.A.x,S.A.y)}n.m.push("C");
n.s.push(C.zK.x,C.zK.y,s.VW.x,s.VW.y,s.A.x,s.A.y);return n};j.n.axK=function(I){var k=[],a=I.m,n=I.s,s=0,bQ=n.length;
k.push({type:2,VW:new kK(n[bQ-4],n[bQ-3]),A:new kK(n[0],n[1]),zK:new kK(n[2],n[3])});for(var Y=0;Y<a.length-2;
Y++){var C=Y*6+4;k.push({type:2,VW:new kK(n[C],n[C+1]),A:new kK(n[C+2],n[C+3]),zK:new kK(n[C+4],n[C+5])})}return k};
j.n.arf=function(I){for(var Y=0;Y<I.length;Y++){if(I[Y].type>5)continue;var k=I[Y].length;if(!(k==4||k==6||k==8)){Y+=k;
continue}for(var a=0;a<k;a++){var n=I[Y+1+a],s=I[Y+1+(a+1)%k],C=Math.min(n.A.x,s.A.x),T=Math.min(n.A.y,s.A.y),S=0,D=0;
if(n.A.x<s.A.x){S=n.A.y-T;D=S-(s.A.x-C)}else{S=s.A.y-T;D=S-(n.A.x-C)}if(Math.abs(D)<.2*S)return S}}return-1};
j.n.oz=function(I,k,a){function n(d,R){var c=Math.min(d.x,R.x),e=Math.min(d.y,R.y),O=Math.max(d.x+d.Q,R.x+R.Q),U=Math.max(d.y+d._,R.y+R._);
return new eZ(c,e,O-c,U-e)}var s=null,C=-1,T=!j.n.FZ(I);for(var Y=0;Y<I.length;Y++){var S=I[Y];if(S.type>5)continue;
if((S.type==0||S.type==3)&&S.Np!=-1)C++;if(k!=null&&k.indexOf(C)==-1)continue;if(Y==I.length-1)break;
var D=S.type==3,o=S.length,v=S.Np,g=j.n.nw(I,Y+1,o,D);if(s==null)s=g;else if(a)s=n(s,g);else if(T){if(k!=null||v==0||v==-1||v==2)s=n(s,g);
else if(v==1)s=s;else if(v==3){s=g;T=!1}}else{if(k!=null||v==0||v==-1||v==1)s=n(s,g);else if(v==2)s=s;
else if(v==3)s=s.LU(g)}Y+=o}if(s==null||s.Q<0||s._<0)s=new eZ(0,0,0,0);return s};j.n.aah=new Float64Array(4);
j.n.nw=function(I,Y,k,a){var n=j.n.aah;n[0]=1e30;n[1]=1e30;n[2]=-1e30;n[3]=-1e30;var s=I[Y+k-1];if(!a)j.n.ajK(s.A.x,s.A.y,s.zK.x,s.zK.y,I[Y].VW.x,I[Y].VW.y,I[Y].A.x,I[Y].A.y,n);
for(var C=Y;C<Y+k-1;C++){var T=I[C],S=I[C+1];j.n.ajK(T.A.x,T.A.y,T.zK.x,T.zK.y,S.VW.x,S.VW.y,S.A.x,S.A.y,n)}return new eZ(n[0],n[1],n[2]-n[0],n[3]-n[1])};
j.n.ajK=function(I,k,a,n,s,C,T,S,D){if(I==a&&k==n&&s==T&&C==S){D[0]=Math.min(D[0],Math.min(I,T));D[1]=Math.min(D[1],Math.min(k,S));
D[2]=Math.max(D[2],Math.max(I,T));D[3]=Math.max(D[3],Math.max(k,S));return}var o=I,v=k,g=I,d=k,R=40,c=1/(R-1);
for(var e=0;e<R;e++){var O=e*c,U=1-O,K=U*U*U,_=3*U*U*O,Z=3*U*O*O,H=O*O*O,G=K*I+_*a+Z*s+H*T,N=K*k+_*n+Z*C+H*S;
if(G<o)o=G;else if(G>g)g=G;if(N<v)v=N;else if(N>d)d=N}if(o<D[0])D[0]=o;if(v<D[1])D[1]=v;if(g>D[2])D[2]=g;
if(d>D[3])D[3]=d};j.n.afc=function(I,k){var a=I.length-3,n=k%a,s=Math.floor(n);if(k<0||s>=a)return null;
var C=I[3+s],T=I[3+(s+1)%a],S=C.A,D=C.zK,o=T.VW,v=T.A,g=n-s,d=1-g,R=d*d*d*S.x+3*d*d*g*D.x+3*d*g*g*o.x+g*g*g*v.x,c=d*d*d*S.y+3*d*d*g*D.y+3*d*g*g*o.y+g*g*g*v.y;
return new kK(R,c)};j.n.wD=function(I,k){var a=j.X.RU(I),n=a.RK;a.RK=Typr.U.pathToSVG({crds:n.s,cmds:n.m},k==null?2:k);
return a};j.n.Su=function(I){j.n.Nq();var k,a=j.n.yg(I),n=[];for(var Y=0;Y<a.length;Y++){var s=a[Y][0],C=a[Y][1];
if(Math.abs(s.area)<1e-5)n.push(s);else if(k==null)k=s;else{if(!s.closed)s.closed=!0;k=k[C](s);k.remove()}}if(k==null)k=new paper.CompoundPath(n);
else{if(k.segments)k=new paper.CompoundPath(k);for(var Y=0;Y<n.length;Y++){k.addChild(n[Y])}}var T=I.slice(0,2);
T=T.concat(j.n.qw(k));j.n.Yp(a);j.n.Yp([[k]]);if(T[2])T[2].Np=1;for(var Y=3;Y<T.length;Y++)if(T[Y].Np!=null)T[Y].Np=-1;
return T};j.n.Nq=function(){if(j.n.aEb==null){var I=document.createElement("canvas");paper.setup(I);
j.n.aEb=!0}};j.n.agv=function(I,k){j.n.Nq();var a=[],n=j.n.yg(I),s=new paper.Path.Rectangle(new paper.Rectangle(k.x,k.y,k.Q,k._));
s.remove();s.fillColor=new paper.Color(1,0,0);for(var Y=0;Y<n.length;Y++){if(s.intersects(n[Y][0])||s.contains(n[Y][0].children[0].segments[0].point))a.push(Y)}j.n.Yp(n);
return a};j.n.oJ=function(I,k,a,n){j.n.Nq();var s=a?{curves:!0,tolerance:n}:null,C=new paper.Point(k.x,k.y),T=j.n.yg(I);
j.n.Yp(T);for(var Y=T.length-1;Y>=0;Y--){var S=T[Y][0],D=S.hitTest(C,s);if(D!=null)return{Gq:Y,x3:a?D.location.index:null,pN:a?D.location.time:0}}return{Gq:-1}};
j.n.Lx=function(I,k,a,n){var s=[[],[],[]];for(var Y=0;Y<I.length;Y++){var C=I[Y];if(C.type>5||C.type==0||C.type==3)continue;
var T=k.oi(C.A),S=k.oi(C.VW),D=k.oi(C.zK);if(a&&a.indexOf(Y)==-1){if(n){if(a.indexOf(Y-1)==-1)S=!1;if(a.indexOf(Y+1)==-1)D=!1}else S=D=!1}if(T)s[0].push(Y);
if(S)s[1].push(Y);if(D)s[2].push(Y)}s[3]=s[0].length+s[1].length+s[2].length;return s};j.n.alZ=function(I,k,a){var n=I[k];
for(var s=k+1;s<a;s++)I[s-1]=I[s];I[a-1]=n};j.n.atJ=function(I,k,a,n){var Y,s,C,T=0;I=I.slice(0);k.sort(function(c,e){return c-e});
C=-1;for(Y=2;Y<I.length;){var S=I[Y],D=S.length;if(S.Np!=-1)C++;var o=T;while(o<k.length&&k[o]<Y+1+D)o++;
if(T!=o){var v=k.slice(T,o);T=o;for(s=0;s<D;s++)if(v.indexOf(Y+1+s)!=-1)I[Y+1+s]=null;if(S.type==0){var g=v[0]-(Y+1);
while(g!=0){j.n.alZ(I,Y+1,Y+1+D);g--}}var d=S;d.length=0;s=0;while(s<D&&I[Y+1+s]==null)s++;while(s<D){var R=I[Y+1+s];
if(R!=null)d.length++;else if(s<D+1&&I[Y+1+s+1]&&n){d=I[Y+1+s]={type:0,Np:-1,length:0,Ba:0,yk:0,RO:1}}s++}if(n)for(s=-1;
s<D;s++)if(I[Y+1+s]&&I[Y+1+s].type<3)I[Y+1+s].type+=3;j.Z_.XO(a,C)}Y+=1+D}for(Y=0;Y<I.length;Y++)if(I[Y]==null){I.splice(Y,1);
Y--}C=0;for(Y=2;Y<I.length;Y++){var S=I[Y];if(S.length==0){if(I[Y+1]&&I[Y+1].Np==-1)I[Y+1].Np=S.Np;else if(S.Np!=-1)a.splice(C,1);
I.splice(Y,1);Y--}else if(S.length!=null&&S.Np!=-1)C++}return I};j.n.abq=function(I,k){var a=I.slice(0,2),n=-1;
for(var Y=2;Y<I.length;Y++){if((I[Y].type==0||I[Y].type==3)&&I[Y].Np!=-1)n++;if(k.indexOf(n)==-1)a.push(I[Y])}return a};
j.n.anT=function(I,k){var a=I.slice(0,2),n=-1;for(var Y=2;Y<I.length;Y++){if((I[Y].type==0||I[Y].type==3)&&I[Y].Np!=-1)n++;
if(k.indexOf(n)!=-1)a.push(I[Y])}return a};j.n.a3i=function(I){var k=0;for(var Y=0;Y<I.length;Y++)if(I[Y].type==0||I[Y].type==3)k=Y;
return I[k]};j.n.gZ=function(I){var k=-1;for(var Y=0;Y<I.length;Y++)if((I[Y].type==0||I[Y].type==3)&&I[Y].Np!=-1)k++;
return k+1};j.n.XN=function(I,k,a){var n=-1;for(var Y=0;Y<I.length;Y++)if((I[Y].type==0||I[Y].type==3)&&(a||I[Y].Np!=-1)){n++;
if(n==k)return Y}return-1};j.n.c6=function(I,k,a){var n=-1;for(var Y=0;Y<I.length;Y++)if((I[Y].type==0||I[Y].type==3)&&(a||I[Y].Np!=-1)){if(Y>=k)return n;
n++}return n};j.n.gf=function(I,k){var a=-1,n=0;for(var Y=0;Y<I.length;Y++){if((I[Y].type==0||I[Y].type==3)&&I[Y].Np!=-1)a++;
if(a==k)n++}return n};j.n.axB=function(I){var k=180;for(var Y=0;Y<I.length;Y++){if(I[Y].type!=0&&I[Y].type!=3)continue;
var a=I[Y].length;if(a<3)continue;for(var n=0;n<a;n++){var s=I[Y+1+(n-1+a)%a],C=I[Y+1+n],T=I[Y+1+(n+1)%a],S=C.A,D=C.VW.a$(S)?s.zK:C.VW,o=C.zK.a$(S)?T.VW:C.zK;
if(S.a$(D)||S.a$(o))continue;var v=D.x-S.x,g=D.y-S.y,d=o.x-S.x,R=o.y-S.y,D=Math.atan2(D.y-S.y,D.x-S.x)*180/Math.PI,o=Math.atan2(o.y-S.y,o.x-S.x)*180/Math.PI,c=Math.abs(o-D)%360,e=c>180?360-c:c;
if(e<k)k=e}}return k*Math.PI/180};j.n.qw=function(I){var k=I.segments?[I]:I.children,a=[];for(var Y=0;
Y<k.length;Y++){var n=k[Y],s=n.segments,C=n.closed?0:3,T=a.length,S=null;if(s.length<=1)continue;a.push({type:C,length:s.length,Np:0,RO:2});
for(var D=0;D<s.length;D++){var o=s[D],v=new kK(o.handleIn.x,o.handleIn.y),g=new kK(o.handleOut.x,o.handleOut.y),d=new kK(o.point.x,o.point.y),R={type:C+1,VW:d.add(v),A:d,zK:d.add(g)};
if(S==null)S=R;a.push(R);if(D+1==s.length&&kK.f0(S.A,R.A)<1e-5){a.pop();a[T].length--;S.VW=R.VW;if(C==3)for(var c=T;
c<a.length;c++)a[c].type-=3}}}return a};j.n.yg=function(I){j.n.Nq();var k=[],a,n=new paper.Color(1,0,0);
function s(R,S){R.remove();R.closed=!S;R.fillRule="evenodd"}for(var Y=0;Y<I.length;Y++){if(I[Y].type>5)continue;
var C=I[Y].length,T;if(Y==I.length-1)break;var S=I[Y].type==3;if(Y==2){if(!j.n.i7(I))T="subtract";else T="unite"}else{if(I[Y].Np==0)T="exclude";
if(I[Y].Np==1)T="unite";if(I[Y].Np==2)T="subtract";if(I[Y].Np==3)T="intersect"}if(I[Y].Np!=-1){a=new paper.CompoundPath;
k.push([a,T]);a.fillRule="evenodd";a.fillColor=n}var D=[];for(var o=0;o<C;o++){var v=I[Y+1+o],g=v.VW.Sm(v.A),d=v.zK.Sm(v.A);
D.push([[v.A.x,v.A.y],[g.x,g.y],[d.x,d.y]])}var R=new paper.Path(D);s(R,S);a.addChild(R);Y+=C}return k};
j.n.Yp=function(I){for(var Y=0;Y<I.length;Y++)I[Y][0].remove()};j.n.PE=function(I){for(var Y=0;Y<I.length;
Y++){var k=I[Y];if(k.A==null)continue;if(!k.A.a$(k.VW)||!k.A.a$(k.zK))return!1}return!0};j.n.ay$=function(I){if(I.length<=5)return 0;
var k=0,a=I.length-3-1;for(var Y=0;Y<a;Y++){var n=I[3+Y],s=I[3+Y+1];if(n.type==0||s.type==0)return 0;
k+=(s.A.x-n.A.x)*(n.A.y+s.A.y)}k+=(I[3].A.x-I[3+a].A.x)*(I[3+a].A.y+I[3+1].A.y);return-k*.5};j.n.FZ=function(I){var k=I[2],a=!1;
if(I.length==2)a=I[1].all==0;else if(I[1].all==1){if(k.Np==1||k.Np==3)a=!0;else a=!1}else{if(k.Np==1||k.Np==3||k.Np==0)a=!0;
else a=!1}return a};j.n.i7=function(I){var k=j.n.FZ(I);for(var Y=3;Y<I.length;Y++)if(I[Y].Np==3)k=!0;
return k};j.n.ano=0;j.n.a1M=0;j.n.aa4=0;j.n.abc=function(I,k,a,n){if(a.KH())return;var s=a.c(),U=16384;
j.n.ano+=s;if(s>j.n.a1M){j.n.a1M=s}var C=a.Q,T=a._;if(n==null&&j.n.PE(I)&&I[2]&&I[2].Np!=2){var S=!0;
for(var Y=2;Y<I.length;)if(I[Y].length==2)Y+=3;else{S=!1;break}if(S){return}if(j.n.GB(I)){k.fill(255);
var D=j.n.oz(I);if(D.c()!=s){var o=1-(D.x-a.x),v=1-(D.y-a.y),g=1-(a.x+a.Q-(D.x+D.Q)),d=1-(a.y+a._-(D.y+D._)),R=~~(o*255),c=~~(g*255),e=~~(v*255),O=~~(d*255);
k.fill(e,0,C);k[0]=~~(o*v*255);k[C-1]=~~(g*v*255);for(var Y=C;Y<s;Y+=C){k[Y]=R;k[Y+C-1]=c}k.fill(O,(T-1)*C,T*C);
k[s-C]=~~(o*d*255);k[s-1]=~~(g*d*255)}return}}var K=Math.ceil(C/U),_=Math.ceil(T/U),Z=Math.ceil(C/K),H=Math.ceil(T/_),G=Date.now();
for(var N=0;N<_;N++)for(var z=0;z<K;z++){var L=z*Z,p=N*H,V=Z,r=H,y=j.$P(V,r);if(!j.n.FZ(I))y.fillRect(0,0,V,r);
j.n.Cw(I,y,-a.x-L,-a.y-p,n);var W=new Uint8Array(y.getImageData(0,0,V,r).data.buffer);if(V==C&&r==T)j.Ez(W,k,3);
else j.rj(W,new eZ(L,p,V,r),k,new eZ(0,0,C,T))}};j.n.afs=function(I){var k=!1,a=!1,n=0,s=!1;for(var Y=0;
Y<I.length;Y++){var C=I[Y].Np;if(C!=null){n++;if(C==-1)k=!0;if(C==1||C==2||C==3)a=!0;if(I[Y].type==0)s=!0}}if(!k&&n<20&&s&&a)I=j.n.Su(I);
return I};j.n.Cw=function(I,k,a,n,s,C){if(s!=null){I=j.n.afs(I)}for(var Y=0;Y<I.length;Y++){if(I[Y].type>5)continue;
var T=I[Y].length;if(T==0)continue;if(Y==I.length-1)break;var S=I[Y].type==3,D=I[Y].Np;if(D!=-1&&s==null){var o=["xor","source-over","destination-out","source-in"][D];
k.globalCompositeOperation=o}if(I[Y].Np!=-1){k.beginPath();if(s)j.n.Mf(fY.Lg.CM(s),k)}j.n.azX(k,I,Y+1,T,a,n,S);
if(S){}else k.closePath();if(I[Y+1+T]==null||I[Y+1+T].Np!=-1){if(s){if(C)k.clip();k.stroke()}else k.fill(D==-1?"nonzero":"evenodd")}Y+=T}k.globalCompositeOperation="source-over";
k.setLineDash([])};j.n.Mf=function(I,k){var a=I.YX;k.setLineDash(I.zZ);k.lineCap=["butt","round","square"][I.A6];
k.lineJoin=["miter","round","bevel"][I.P_];k.lineWidth=I.x9==1?a:a*2;k.miterLimit=I.Ti};j.n.azX=function(I,k,Y,a,n,s,C){var T=k[Y],S=null;
I.moveTo(T.A.x+n,T.A.y+s);for(var D=Y;D<Y+a-1;D++){T=k[D];S=k[D+1];I.bezierCurveTo(T.zK.x+n,T.zK.y+s,S.VW.x+n,S.VW.y+s,S.A.x+n,S.A.y+s)}if(!C){T=k[D];
S=k[Y];I.bezierCurveTo(T.zK.x+n,T.zK.y+s,S.VW.x+n,S.VW.y+s,S.A.x+n,S.A.y+s)}};j.n.aqK=function(I,k){var a=[],n=k?4:1;
for(var Y=0;Y<I.length;Y+=2){var s=new kK(I[Y],I[Y+1]);a.push({type:n,VW:s.clone(),A:s.clone(),zK:s.clone()})}return a};
j.n.ajM=function(I,k,a){var n=(1-(a!=null?a:25)*.01)*10;if(n>0){for(var Y=0;Y<k.length;Y++){var s=k[Y],C=j.n.XN(I,s),T=j.n.gf(I,s),S=I.slice(C,C+T);
j.n.Nq();var D=new paper.Path;D.remove();D.closed=!0;for(var o=1;o<S.length;o++)D.add(new paper.Point(S[o].A.x,S[o].A.y));
var v=D.simplify(n);if(v)I.splice(C,T,...j.n.qw(D))}}return I};j.n.xP=function(I,k,a){var n=j.X.TO(I),s=Math.sqrt(Math.sqrt(n.c()))*.2,C=.2;
I=I.slice(0);var T=I.length,S=k?0:2;for(var D=0;D<5;D++)for(var Y=S;Y<I.length-S;Y+=2){var o=(Y-2+T)%T,v=(Y+2)%T,g=I[Y],d=I[Y+1],R=(I[o]+I[v])*.5,c=(I[o+1]+I[v+1])*.5;
I[Y]=g+(R-g)*C;I[Y+1]=d+(c-d)*C}if(a)return j.n.uQ.rY(I,null,!k);j.n.Nq();var e=new paper.Path;e.remove();
e.closed=k;for(var Y=0;Y<I.length;Y+=2)e.add(new paper.Point(I[Y],I[Y+1]));e.simplify(s);var O=[{type:6},{type:8,all:0}];
O=O.concat(j.n.qw(e));return O};j.n.OQ=function(I,k,a){var n=I[k].length,s=I[k].type,C=0,T=I.slice(k+1,k+1+n);
for(var Y=0;Y<n;Y++){var S=a[(Y-1+n)%n],D=a[(Y+1+n)%n],o=a[Y];if(o!=0){var v=T[(Y-1+n)%n].A,g=T[(Y+0+n)%n].A,d=T[(Y+1+n)%n].A,R=kK.f0(g,v),c=kK.f0(g,d),e=j.X.aoQ(v.x,v.y,g.x,g.y,d.x,d.y,o)[0],O=Math.min(e,S==0?R:R/2,D==0?c:c/2);
o*=O/e;var U=j.X.a0r(v.x,v.y,g.x,g.y,d.x,d.y,o),K={type:s+1,VW:new kK(U[2],U[3]),A:new kK(U[2],U[3]),zK:new kK(U[4],U[5])},_={type:s+1,VW:new kK(U[6],U[7]),A:new kK(U[8],U[9]),zK:new kK(U[8],U[9])};
I.splice(k+C+1,1,K,_);C++;I[k].length++}C++}};j.n.PE=function(I){for(var Y=0;Y<I.length;Y++){var k=I[Y],a=k.type;
if(a==1||a==2||a==4||a==5)if(!k.A.a$(k.VW)||!k.A.a$(k.zK))return!1}return!0};j.n.GB=function(I){if(I.length!=7||I[2].length!=4||!j.n.PE(I))return!1;
for(var Y=0;Y<4;Y++){var k=!0;for(var a=0;a<4;a++){var n=I[3+(Y+a&3)],s=I[3+(Y+a+1&3)];if(n.A.x!=s.A.x&&n.A.y!=s.A.y)k=!1}if(k)return!0}return!1};
j.n.a3b=function(I){if(I.length<6)return 0;var k=I.length-2,a=0;for(var Y=0;Y<k;Y+=2)a+=(I[Y+2]-I[Y])*(I[Y+1]+I[Y+3]);
a+=(I[0]-I[k])*(I[k+1]+I[1]);return-a*.5};j.n.aix=function(I){I=X.JB.xa(I);var k=j.n.gZ(I);for(var a=0;
a<k;a++){var n=j.n.XN(I,a)+1,s=I[n-1].length,C=[];for(var Y=0;Y<s;Y++){var T=I[n+Y].A;C.push(T.x,T.y)}var S=j.n.a3b(C);
if(S<0)j.n.a5a(I,n-1)}return I};j.n.a5a=function(I,k){var a=k+1,n=I[k].length,s=[];for(var Y=0;Y<n;Y++){var C=I[a+Y],T=C.VW;
C.VW=C.zK;C.zK=T;s.push(C)}for(var Y=0;Y<n;Y++)I[a+Y]=s[n-1-Y]};j.n.uQ={};j.n.uQ.rY=function(I,k,a){var n=[{type:6},{type:8,all:0}],s=null;
n.push({type:a?3:0,Np:1,length:0,Ba:0,yk:0,RO:1});if(k==0||k==null)s=null;else if(k instanceof Array)s=k;
else{s=[];for(var Y=0;Y<I.length;Y+=2)s.push(k)}n=n.concat(j.n.aqK(I,a));n[2].length=n.length-3;if(s)j.n.OQ(n,2,s);
return n};j.n.uQ.aDa=function(I,k,a,n,s){var C=[],T=[],S=.553,D=1,o=-1;C.push({type:1,VW:new kK(0,S),A:new kK(0,0),zK:new kK(0,-S)});
s+=2;for(var Y=0;Y<s;Y++){var v={type:1};if(Y==0){v.A=new kK(1,-1);v.VW=new kK(1-S,-1);v.zK=new kK(1+S,-1)}else{var g=-(Y+2)*Math.PI/2,d=1+((Y&1)==1?Y-1:Y),R=Math.sin(g),c=Math.cos(g);
D+=d*(R-c);o+=d*(c+R);v.A=new kK(D,o);v.VW=new kK(D+d*c*S,o-d*R*S);if((Y&1)==1)d+=2;v.zK=new kK(D-d*c*S,o+d*R*S)}var e={type:1,VW:new kK(-v.zK.x,-v.zK.y),A:new kK(-v.A.x,-v.A.y),zK:new kK(-v.VW.x,-v.VW.y)};
C.push(v);if(Y<s-2)T.push(e)}T.reverse();C=C.concat(T);var O=[{type:6},{type:8,all:0}];O.push({type:0,Np:1,length:C.length,Ba:0,yk:0,RO:1});
O=O.concat(C);var U=new dc(a/s,0,0,a/s,0,0);U.rotate(n);U.translate(I,k);j.n.de(O,U);return O};j.n.uQ.Rect=function(I,k,a,n,s){var C=[I,k,I+a,k,I+a,k+n,I,k+n];
return j.n.uQ.rY(C,s)};j.n.uQ.Sl=function(I,k,a,n,s,C,T,S){var D=[],o=2*Math.PI/s;for(var Y=0;Y<s;Y++)D.push(Math.cos(Y*o-n),Math.sin(Y*o-n));
if(T!=null){var v=j.X.TO(D),g=v.Q,d=v._,R=T/(g/2),c=S/(d/2);for(var Y=0;Y<D.length;Y+=2){D[Y]=(D[Y]-(v.x+g/2))*R;
D[Y+1]=(D[Y+1]-(v.y+d/2))*c}a=1}var e=new dc(a,0,0,a,0,0);e.translate(I,k);j.X.h(D,e,D);return j.n.uQ.rY(D,C)};
j.n.uQ.a2e=function(I,k,a,n,s,C,T){var S=[],D=Math.PI/s;for(var Y=0;Y<s*2;Y++){var o=(Y&1)==0?1:T;S.push(o*Math.cos(Y*D),o*Math.sin(Y*D))}var v=new dc(a,0,0,a,0,0);
v.rotate(n);v.translate(I,k);j.X.h(S,v,S);return j.n.uQ.rY(S,C)};j.n.uQ.V9=function(I,k,a,n,s){return j.n.uQ.UH(0,I,k,a,n,s)};
j.n.uQ.ajB=function(I,k,a,n,s,C){return j.n.uQ.UH(1,I,k,a,n,s,C)};j.n.uQ.Xq=function(I,k,a,n,s,C){return j.n.uQ.UH(2,I,k,a,n,s,C)};
j.n.uQ.UH=function(I,k,a,n,s,C,T){var S=Math.sqrt((n-k)*(n-k)+(s-a)*(s-a)),D;C/=2;if(I==0)D=[-C,0,C,0,C,S,-C,S];
if(I==1){var o=C*2*T*1.3/1.5,v=C*T;D=[-C,0,C,0,C,S-o,v,S-o,0,S,-v,S-o,-C,S-o]}if(I==2){var o=T[3],v=T[2]/2,g=o*(2/3)*T[4]/100,d=o-g,R=o;
D=[];if(T[0])D.push(-C,d,-v,R,0,0,v,R,C,d);else if(C==0)D.push(0,0);else D.push(-C,0,C,0);if(T[1])D.push(C,S-d,v,S-R,0,S,-v,S-R,-C,S-d);
else if(C==0)D.push(0,S);else D.push(C,S,-C,S)}var c=new dc(1,0,0,1,0,0);c.rotate(Math.atan2(-s+a,n-k)+Math.PI/2);
c.translate(k,a);j.X.h(D,c,D);return j.n.uQ.rY(D,0)};j.n.uQ.hO=function(I,k,a,n){var s=[{type:6},{type:8,all:0}],g=.553;
s.push({type:0,Np:1,length:4,Ba:0,yk:0,RO:1});var C=I,T=k,S=I+a,D=k+n,I=(C+S)/2,k=(T+D)/2,o=(C-S)/2,v=(T-D)/2;
s.push({type:1,VW:new kK(I-g*o,k-v),A:new kK(I,k-v),zK:new kK(I+g*o,k-v)});s.push({type:1,VW:new kK(I+o,k-g*v),A:new kK(I+o,k),zK:new kK(I+o,k+g*v)});
s.push({type:1,VW:new kK(I+g*o,k+v),A:new kK(I,k+v),zK:new kK(I-g*o,k+v)});s.push({type:1,VW:new kK(I-o,k+g*v),A:new kK(I-o,k),zK:new kK(I-o,k-g*v)});
return s};j.n.uQ.ak7=function(I,k,a,n,s){var C=[{type:6},{type:8,all:0}];C.push({type:3,Np:1,length:5,Ba:0,yk:0,RO:1});
var T=(s-n)/4;for(var Y=0;Y<5;Y++){var S=Y*T,D=Math.cos(S),o=Math.sin(S),v=.553*(T/(Math.PI/2)),g=o*v,d=-D*v,R=new kK(D,o);
C.push({type:4,VW:Y==0?R.clone():new kK(D+g,o+d),A:R,zK:Y==4?R.clone():new kK(D-g,o-d)})}var c=new dc;
c.rotate(-n);c.scale(a,a);c.translate(I,k);j.n.de(C,c);return C};j.O8={};j.O8.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15],warpCylinder:"Cylinder"};
j.O8.a5p={warpNone:[],warpCustom:[],warpArc:[.5,0,.5,1],warpArcLower:[.5,1,.5,1],warpArcUpper:[.5,0,.5,1],warpArch:[.5,0,.5,1],warpBulge:[.5,0,.5,1],warpShellLower:[.5,1,.5,1],warpShellUpper:[.5,0,.5,1],warpFlag:[.25,0,.5],warpWave:[.25,.501,.25],warpFish:[.25,0,.5],warpRise:[0,1,2],warpFisheye:[.5,.66,.1],warpInflate:[.5,0,.25],warpSqueeze:[.5,0,.25],warpTwist:[.33,.5,.16]};
j.O8.K2=function(I){var k=I.warpStyle.v.warpStyle;if(k=="warpNone")return!0;else if(k=="warpCylinder")return!1;
else if(k=="warpCustom"){var a=!1,n=j.O8.ayd(I);for(var Y=0;Y<4;Y++)for(var s=0;s<4;s++){var C=n[Y*2]-n[(s*4+Y)*2],T=n[Y*4*2+1]-n[(Y*4+s)*2+1];
if(C*C>1||T*T>1)a=!0}return!a}else return I.warpValue.v==0&&I.warpPerspective.v==0&&I.warpPerspectiveOther.v==0};
j.O8.ahy=function(I){var k=JSON.parse(JSON.stringify(I));k.v.classID="quiltWarp";k.v.deformNumRows={t:"long",v:4};
k.v.deformNumCols={t:"long",v:4};if(k.v.customEnvelopeWarp)j.O8.a62(k.v,[[0,1],[0,1]]);return k};j.O8.atE=function(I){var k;
if(j.O8.AX(I.v)==16)k=JSON.parse(JSON.stringify(I));else k={t:"Objc",v:j.O8.U(j.O8.GT(I.v))};k.v.classID="warp";
delete k.v.deformNumRows;delete k.v.deformNumCols;var a=k.v.customEnvelopeWarp;if(a){delete a.v.quiltSliceX;
delete a.v.quiltSliceY}return k};j.O8.AX=function(I){return I.deformNumRows.v*I.deformNumCols.v};j.O8.U=function(I){var k={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(I){k.classID="quiltWarp";k.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:I.y}},Left:{t:"UntF",v:{type:"#Pxl",val:I.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:I.y+I._}},Rght:{t:"UntF",v:{type:"#Pxl",val:I.x+I.Q}}}};
k.uOrder={t:"long",v:4};k.vOrder={t:"long",v:4};k.deformNumRows={t:"long",v:4};k.deformNumCols={t:"long",v:4}}return k};
j.O8.atO=function(I,k,a){for(var Y=0;Y<I.length;Y+=2){var n=I[Y],s=I[Y+1],C=(1-k)/2,T=1-C,S=C+n*(T-C);
s=.5+(s-.5)*S*2;var D=(1-a)/2,o=1-D,v=D+s*(o-D);n=.5+(n-.5)*v*2;I[Y]=n;I[Y+1]=s}};j.O8.ae=function(I,k){return{id:I,type:"UnFl",uID:"#Pxl",arr:k}};
j.O8.a62=function(I,k){var a=j.O8.GT(I);function n(C,T){C=C.slice(0);var S=C.length,Y;for(Y=0;Y<S;Y++)C[Y]*=T;
C[0]-=.6;C[S-1]+=.6;return C}var s=I.customEnvelopeWarp.v;s.quiltSliceX={t:"ObAr",v:{classID:"UntF",arr:[j.O8.ae("quiltSliceX",n(k[0],a.Q))]}};
s.quiltSliceY={t:"ObAr",v:{classID:"UntF",arr:[j.O8.ae("quiltSliceY",n(k[1],a._))]}}};j.O8.ayi=function(I){var k=j.O8.GT(I);
function a(T,S){T=T.slice(0);var C=T.length,Y,D=1e9,o=-D;for(Y=0;Y<C;Y++){if(T[Y]<D)D=T[Y];if(T[Y]>o)o=T[Y]}for(Y=0;
Y<C;Y++)T[Y]=(T[Y]-D)/(o-D);T[0]=0;T[C-1]=1;return T}var n=I.customEnvelopeWarp.v,s=[],C=["X","Y"];for(var Y=0;
Y<2;Y++)s.push(a(n["quiltSlice"+(Y==0?"X":"Y")].v.arr[0].arr.slice(0),Y==0?k.Q:k._));return s};j.O8.a5Q=function(I,k){var a=[],n=[];
for(var Y=0;Y<k.length;Y+=2){a.push(k[Y]);n.push(k[Y+1])}I.customEnvelopeWarp.v.meshPoints.v.arr=[j.O8.ae("Hrzn",a),j.O8.ae("Vrtc",n)]};
j.O8.ayd=function(I){var k=[],a=I.customEnvelopeWarp.v.meshPoints.v.arr,n=a[0].arr,s=a[1].arr;for(var Y=0;
Y<n.length;Y++)k.push(n[Y],s[Y]);return k};j.O8.ck=function(I,k){var a,n=I.warpStyle.v.warpStyle;if(n=="warpCustom")a=[I.deformNumCols.v,I.deformNumRows.v,j.O8.ayi(I),j.O8.ayd(I)];
else{if(k==null)k=j.O8.GT(I);if(k.KH())k.Q=k._=1;if(n=="warpCylinder"){var s=E.nF.QX(I.warpValues);a=j.O8.O8(n,s)}else{var C="warpPerspective";
a=j.O8.O8(n,I.warpValue.v/100,I.warpRotate.v.Ornt=="Hrzn",I[C].v/100,I[C+"Other"].v/100,k.Q/k._)}j.O8.ao4(a[3],k)}return a};
j.O8.ao4=function(I,k){for(var Y=0;Y<I.length;Y+=2){I[Y]=k.x+I[Y]*k.Q;I[Y+1]=k.y+I[Y+1]*k._}};j.O8.atp=function(I){var k=Math.sin(I*Math.PI/2),a=Math.pow(I,1/3.5),n=(1-I)*k+I*a;
n=Math.pow(n,1.045);var s=.1725+.0573*n,C=1-(.96*k+.04*a);C=Math.pow(C,1.27);var T=1/129+(.167684-1/129)*C;
return[s,T]};j.O8.sK=function(I,k){I.warpStyle.v.warpStyle="warpCustom";I.deformNumCols.v=k[0];I.deformNumRows.v=k[1];
var a="customEnvelopeWarp";if(I[a]==null)I[a]={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:[]}}}};
j.O8.a62(I,k[2]);j.O8.a5Q(I,k[3])};j.O8.GT=function(I){var k=I.bounds.v,a=k.Left.v.val,n=k.Rght.v.val,s=k.Top.v.val,C=k.Btom.v.val;
if(a==null){a=k.Left.v,n=k.Rght.v;s=k.Top.v,C=k.Btom.v}return new eZ(a,s,n-a,C-s)};j.O8.O8=function(I,k,a,n,s,C){if(I=="warpCylinder"){var T=k,S=T[0],D=T[1],o=T[2],v=T[3],g=T[4],d=T[5],R=T[6],c=[];
for(var e=0;e<4;e++)for(var O=0;O<13;O++)c.push(O/12,e/3);var U=o-S,K=D-v,_=g*.5*(U/K),Z=d*.5*(U/K),H=j.O8.atp(R),G=[0,0,0,0,0,H[0],.5],N=[0,0,0,0,_*.42,_,_],z=[0,0,0,0,Z*.42,Z,Z];
for(var e=0;e<4;e++)for(var O=0;O<7;O++){var Y=e*13+O;c[Y*2]=G[O];var L=N[O],p=1+z[O],V=e/3;c[Y*2+1]=L*(1-V)+p*V}for(var e=0;
e<4;e++)for(var O=0;O<6;O++){var Y=e*13+O,r=e*13+12-O;c[r*2]=1-c[Y*2];c[r*2+1]=c[Y*2+1]}var V=H[1];return[13,4,[[0,V,.5,1-V,1],[0,1]],c]}var y=j.QT.U(0,0,1,1);
if(I!="warpNone"){if(!a)C=1/C;j.O8.a2O(y,I,k,n,s,C);var W=y.slice(0);if(!a)for(var e=0;e<4;e++)for(var O=0;
O<4;O++){y[(e*4+O)*2]=W[(O*4+e)*2+1];y[(e*4+O)*2+1]=W[(O*4+e)*2]}if(k==0)j.O8.atO(y,n,s);else{var m=new dc;
m.translate(-.5,-.5);j.X.h(y,m,y);j.O8.a7b(y,s,n);m.Us();j.X.h(y,m,y)}}return[4,4,[[0,1],[0,1]],y]};
j.O8.a2O=function(I,k,a,n,s,C){var T=new eZ(0,0,C,1);for(var Y=0;Y<I.length;Y+=2)I[Y]*=C;for(var Y=0;
Y<4;Y++){for(var S=0;S<4;S++){var D=2*(4*Y+S),o=I[D]-T.x,v=I[D+1]-T.y,g=o,d=v;if(a!=0){var R=T.Q/2,c=T._/2;
g-=R;d-=c;var e=g,O=g,U=-c,K=c,_=Math.abs(a),Z=Math.tan((1-_)*Math.PI/2),H=Math.sqrt(Z*Z+1),G=Math.atan2(1,Z),N=g/R*G,z=R*H,L=R*H+T._,p=Math.cos(G),V=Math.sin(G),r=j.O8.axN(p,V),y=j.O8.a8N(p,V),W=-Z*R+r*z;
if(k=="warpArc"){e=Math.sin(N)*L;U=Z*R-Math.cos(G)*L+c;O=Math.sin(N)*z;K=Z*R-Math.cos(G)*z+c;if(S==1||S==2){e=S==1?-y*L:y*L;
O=S==1?-y*z:y*z;U=Z*R+c-r*L;K=Z*R+c-r*z}if(a<0){var m=e;e=O;O=m;m=U;U=-K;K=-m}}if(k=="warpArcLower"){if(S==1||S==2){O=S==1?-y*z:y*z;
K=a<0?c-W:c+W}}if(k=="warpArcUpper"||k=="warpArch"||k=="warpBulge"){if(S==1||S==2){e=S==1?-y*z:y*z;U=a<0?-c+W:-c-W}if(k=="warpArch"){O=e;
K=U+2*c}if(k=="warpBulge"){O=e;K=-U}}if(k=="warpFish"||k=="warpFlag"||k=="warpWave"){var f=S;if(k=="warpFlag")f=3-S;
if(f==1){U-=a*4*c;K+=a*4*c}if(f==2){U+=a*4*c;K-=a*4*c}if(k=="warpFlag"||k=="warpWave")U=K-2*c}if(k=="warpRise"){if(S<2)U=-c+a*c*4;
K=U+2*c}var h=(d+c)/T._;g=e+h*(O-e);d=U+h*(K-U);if(k=="warpWave"){if(Y==0)d=-c;if(Y==3)d=c;if(Y==1||Y==2)d=2*c*(Y/3-.5)*(1/3)+d*(2/3)}if(k=="warpFisheye"){if((Y==1||Y==2)&&(S==1||S==2)){g=g+4*g*a;
d=d+4*d*a}}if(k=="warpInflate"){var b=2/3;if((Y==1||Y==2)&&(S==1||S==2)){g=g+.5*g*a;d=d+.5*d*a}else if(Y==1||Y==2)g=g+b*g*a;
else if(S==1||S==2)d=d+b*d*a}if(k=="warpSqueeze"){var b=2/3;if((Y==1||Y==2)&&(S==1||S==2)){if(a>0)g=g-b*g*a;
else d=d+b*d*a}else if(Y==1||Y==2)g=g-b*g*a;else if(S==1||S==2)d=d+b*d*a}if(k=="warpTwist"){if((Y==1||Y==2)&&(S==1||S==2)){var i=a*Math.PI/2,H=1+Math.abs(a)*2,w=g*Math.cos(i)-d*Math.sin(i),J=g*Math.sin(i)+d*Math.cos(i);
g=w*H;d=J*H}}if(k=="warpShellLower"||k=="warpShellUpper"){if(k=="warpShellUpper"){Y=3-Y;d=-d}if(Y>2||Y==2&&(S==0||S==3)){if(a>0){var q=z+Y/3*2*c;
g=Math.sin(N)*q;d=-Z*R-c+Math.cos(N)*q;if(S==1||S==2){g=S==1?-y*q:y*q;d=-Z*R-c+r*q}}else{if((S==1||S==2)&&Y==3){g=S==1?-y*z:y*z;
d=Z*R-r*z+c}else if(Y==2){d=c-c*(2/3)*Math.cos(N);g=g+c*(2/3)*Math.sin(N)}}}if(k=="warpShellUpper"){Y=3-Y;
d=-d}}g+=R;d+=c}o=g,v=d;I[D]=o+T.x;I[D+1]=v+T.y}}for(var Y=0;Y<I.length;Y+=2)I[Y]/=C};j.O8.a7b=function(I,k,a){var n=[];
for(var s=0;s<4;s++)n.push(1-a+s/3*2*a);var C=[];for(var s=0;s<4;s++)C.push(1-k+s/3*2*k);var T=[0,0,0,0],S=[0,0,0,0];
for(var Y=0;Y<4;Y++)for(var s=0;s<4;s++){var D=2*(4*Y+s),o=I[D],v=I[D+1];T[s]+=o/4;S[s]+=v/4}for(var Y=0;
Y<4;Y++)for(var s=0;s<4;s++){var g=n[s],D=2*(4*Y+s),o=I[D],v=I[D+1],d=T[s],R=S[s];I[D]=d+g*(o-d);I[D+1]=R+g*(v-R)}var c=I.slice(0);
for(var Y=0;Y<4;Y++)for(var s=1;s<3;s++){var D=2*(4*Y+s),o=I[D],v=I[D+1],e=D+(s==1?-2:2),O=I[e],U=I[e+1];
I[D]=o-O;I[D+1]=v-U}var K=I[0],_=I[1],Z=I[8],H=I[9],G=I[16],N=I[17],z=I[24],L=I[25],p=I[6],V=I[7],r=I[14],y=I[15],W=I[22],m=I[23],f=I[30],h=I[31],b=p-K,i=V-_,w=r-Z,J=y-H,q=W-G,x=m-N,A=f-z,Q=h-L;
for(var Y=0;Y<4;Y++){var B=2*Y*4,l=0,P=0,F=Y==1?.33:.66,t=1-F;if(Y==0){l=b;P=i}if(Y==1){l=t*b+F*-A;P=t*i+F*-Q}if(Y==2){l=t*b+F*-A;
P=t*i+F*-Q}if(Y==3){l=-A;P=-Q}I[B]=I[B]+l/2;I[B+1]=I[B+1]+P/2;I[B+6]=I[B+6]-l/2;I[B+7]=I[B+7]-P/2}for(var Y=0;
Y<4;Y++)for(var s=1;s<3;s++){var D=2*(4*Y+s),o=I[D],v=I[D+1],e=D+(s==1?-2:2),O=I[e],U=I[e+1],g=2*Y/3;
I[D]=O+g*o;I[D+1]=U+g*v}for(var Y=1;Y<3;Y++)for(var s=1;s<3;s++){var D=2*(4*Y+s),o=I[D],v=I[D+1],b$=Y==1?-8:-16,hd=Y==1?16:8,di=I[D+b$],hD=I[D+b$+1],a$=I[D+hd],eJ=I[D+hd+1],g=Y/3;
o=(1-g)*di+g*a$;v=(1-g)*hD+g*eJ;I[D]=o;I[D+1]=v}j.X.ahX(c,I,I,k)};j.O8.axN=function(I,k){return(4-I)*(1/3)};
j.O8.a8N=function(I,k){return(1-I)*(3-I)/(3*k)};j.ak={};j.ak.auW=function(I,k,a,n,s,C,T,S,D,o){for(var v=0;
v<S;v++)for(var g=0;g<T;g++){var d=3*(v*T+g),R=v+C,c=g+s,e=I[R*k+c];n[d]=e;n[d+1]=e;n[d+2]=e}};j.ak.F$=function(I,k,a,n,s,C,T,S,D,o){var v=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],g=1/D,d=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],R=new Uint32Array(6);
for(var c=0;c<S;c++){for(var e=0;e<T;e++){var O=3*(c*T+e),U=c+C,K=e+s;R[0]=0;R[1]=0;R[2]=0;R[3]=0;R[4]=0;
R[5]=0;for(var Y=0;Y<16;Y+=2){var _=K+d[Y],Z=U+d[Y+1],H=_-D*~~(_*g),G=Z-D*~~(Z*g),N=o[G*D+H];R[N]+=I[Z*k+_];
R[N+3]++}var _=K,Z=U,H=_-D*~~(_*g),G=Z-D*~~(Z*g),N=o[G*D+H];R[N]=I[U*k+K];R[N+3]=1;n[O]=R[0]*v[R[3]];
n[O+1]=R[1]*v[R[4]];n[O+2]=R[2]*v[R[5]]}}};j.ak.aq0=function(I,k,a){for(var Y=0;Y<a;Y+=2)I[k+Y]=I[k+Y+1];
k=k+a;for(var Y=0;Y<a;Y+=2)I[k+Y+1]=I[k+Y]};j.ak.a2C=function(I,k,a,n){for(var Y=0;Y<n;Y+=2){var s=k+Y*a;
I[s]=I[s+a];I[s+a+1]=I[s+1]}};j.ak.apN=function(I,k,a,n,s,C){var T=n[s],S=n[s+1],D=n[C],o=n[C+1],v=S+D>>>1;
I[k]=I[k+3]=I[a]=I[a+3]=T;I[k+1]=v;I[k+4]=S;I[a+1]=D;I[a+4]=v;I[k+2]=I[k+5]=I[a+2]=I[a+5]=o};j.ak.a3o=function(I,k,a,n,s,C){var T=C*3;
for(var Y=0;Y<C;Y+=2){var S=k+Y,D=s+Y*3;j.ak.apN(n,D,D+T,I,S,S+a)}};j.ak.a5v=function(I,k,a,n,s,C,T){var S=C*3;
for(var Y=0;Y<T;Y+=2){var D=k+Y*a,o=s+Y*C*3;j.ak.apN(n,o,o+S,I,D,D+a)}};j.ak.a5q=function(I,Y,k){var a=I[Y-k-k],n=I[Y-k],s=I[Y-2],C=I[Y-1],T=I[Y],S=I[Y+1],D=I[Y+2],o=I[Y+k],v=I[Y+k+k],g=Math.abs(n-o),d=Math.abs(C-S),R=Math.abs(T-a)*2+g,c=Math.abs(T-D)*2+d,e=Math.abs(T-s)*2+d,O=Math.abs(T-v)*2+g,U=Math.min(R,Math.min(c,Math.min(e,O)));
if(U==R)return n*3+o+T-a>>2;if(U==c)return S*3+C+T-D>>2;if(U==e)return C*3+S+T-s>>2;return o*3+n+T-v>>2};
j.ak.wA=function(I,k,a,n,s){if(I<k&&k<a||I>k&&k>a)return~~(.5+n+(s-n)*(k-I)/(a-I));else return(n+s>>1)+(k+k-I-a>>2)};
j.ak.ard=function(I,k,Y,a){var n=k[Y-a-1],s=k[Y-a+1],C=k[Y],T=k[Y+a-1],S=k[Y+a+1],D=I[Y-a-1],o=I[Y-a+1],v=I[Y],g=I[Y+a-1],d=I[Y+a+1],R=Math.abs(o-g)+Math.abs(I[Y-a-a+2]-v)+Math.abs(v-I[Y+a+a-2])+Math.abs(s-C)+Math.abs(C-T),c=Math.abs(D-d)+Math.abs(I[Y-a-a-2]-v)+Math.abs(v-I[Y+a+a+2])+Math.abs(n-C)+Math.abs(C-S);
if(R<c)return j.ak.wA(s,C,T,o,g);else return j.ak.wA(n,C,S,D,d)};j.ak.iD=function(I,k,a,n,s,C){I[k+0]=a[s];
I[k+1]=n[s];I[k+2]=j.ak.ard(a,n,s,C)};j.ak.c_=function(I,k,a,n,s,C){var T=n[s];I[k+0]=j.ak.wA(n[s-1],T,n[s+1],a[s-1],a[s+1]);
I[k+1]=T;I[k+2]=j.ak.wA(n[s-C],T,n[s+C],a[s-C],a[s+C])};j.ak.G1=function(I,k,a,n,s,C){var T=n[s];I[k+0]=j.ak.wA(n[s-C],T,n[s+C],a[s-C],a[s+C]);
I[k+1]=T;I[k+2]=j.ak.wA(n[s-1],T,n[s+1],a[s-1],a[s+1])};j.ak.zT=function(I,k,a,n,s,C){I[k+0]=j.ak.ard(a,n,s,C);
I[k+1]=n[s];I[k+2]=a[s]};j.ak.acA=function(I,k,a,n,s,C,T,S,D){var o=Date.now(),v=2,g=k-2,d=2;if((s&1)==1){v++;
g--}var R=a-2;if((C&1)==1){d++;R--}if(D==1||D==3){v++;g--}var c=I.slice(0);j.ak.aq0(c,0,k);j.ak.a2C(c,0,k,a);
j.ak.a2C(c,k-2,k,a);j.ak.aq0(c,(a-2)*k,k);for(var e=d;e<R;e+=2)for(var O=v;O<g;O+=2){var Y=e*k+O,U=j.ak.a5q(c,Y,k),K=j.ak.a5q(c,Y+k+1,k);
c[Y]=Math.max(0,U);c[Y+k+1]=Math.max(0,K)}var _=T,Z=S;if(C+S==a){Z-=2;j.ak.a3o(I,(a-2)*k+s,k,n,(S-2)*T*3,T)}if(s+T==k){_-=2;
j.ak.a5v(I,C*k+s+T-2,k,n,(T-2)*3,T,S)}if(D==0)for(var e=0;e<Z;e+=2)for(var O=0;O<_;O+=2){var H=(e+C)*k+O+s,G=(e*T+O)*3;
j.ak.iD(n,G,I,c,H,k);j.ak.c_(n,G+3,I,c,H+1,k);H+=k;G+=3*T;j.ak.G1(n,G,I,c,H,k);j.ak.zT(n,G+3,I,c,H+1,k)}else if(D==1)for(var e=0;
e<Z;e+=2)for(var O=0;O<_;O+=2){var H=(e+C)*k+O+s,G=(e*T+O)*3;j.ak.c_(n,G,I,c,H,k);j.ak.iD(n,G+3,I,c,H+1,k);
H+=k;G+=3*T;j.ak.zT(n,G,I,c,H,k);j.ak.G1(n,G+3,I,c,H+1,k)}else if(D==2)for(var e=0;e<Z;e+=2)for(var O=0;
O<_;O+=2){var H=(e+C)*k+O+s,G=(e*T+O)*3;j.ak.zT(n,G,I,c,H,k);j.ak.G1(n,G+3,I,c,H+1,k);H+=k;G+=3*T;j.ak.c_(n,G,I,c,H,k);
j.ak.iD(n,G+3,I,c,H+1,k)}else if(D==3)for(var e=0;e<Z;e+=2)for(var O=0;O<_;O+=2){var H=(e+C)*k+O+s,G=(e*T+O)*3;
j.ak.G1(n,G,I,c,H,k);j.ak.zT(n,G+3,I,c,H+1,k);H+=k;G+=3*T;j.ak.iD(n,G,I,c,H,k);j.ak.c_(n,G+3,I,c,H+1,k)}};
j.raw={};j.raw.ahi=function(I){var k=Date.now(),a=I.width,n=I.height,s=0,C=0,T=a,S=n;if(I.t50829){var D=I.t50829;
s=D[1];C=D[0];T=D[3];S=D[2]}if(I.t50720&&I.t50720[0]*1.2>a){if(I.t50719){var o=I.t50719;s+=o[0]>>1<<1;
C+=o[1]>>1<<1}if(I.t50720){var v=I.t50720;T=s+v[0];S=C+v[1]}}var g=T-s,d=S-C,R=j.raw.adA(I),c=I.t33422,e=I.t33421;
if(e){var v=e[0],O=c.slice(0);for(var U=0;U<v;U++)for(var K=0;K<v;K++){var _=(K+(s&1))%v,Z=(U+(C&1))%v;
O[U*v+K]=c[Z*v+_]}c=O}if(I.t277[0]==1&&c)j.raw.aqo(R,a,n,I,c);j.raw.Jv(2,I,R,a,n);var H=new Float32Array(g*d*3);
if(I.t277[0]==1){if(e==null){j.ak.auW(R,a,n,H,s,C,g,d)}else if(e.length!=2||e[0]!=2||e[1]!=2){console.log("Unknown CFA pattern size",e);
j.ak.F$(R,a,n,H,s,C,g,d,e[0],c)}else{var G=I.t33422.join(","),N=0;if(G=="0,1,1,2")N=0;else if(G=="1,0,2,1")N=1;
else if(G=="2,1,1,0")N=2;else if(G=="1,2,0,1")N=3;else throw"Unknown CFA pattern "+G;if((g&1)!=0||(d&1)!=0)throw"e";
j.ak.acA(R,a,n,H,s,C,g,d,N)}}else{for(var U=0;U<d;U++)for(var K=0;K<g;K++){var z=((U+C)*a+K+s)*3,L=(U*g+K)*3;
H[L+0]=R[z+0];H[L+1]=R[z+1];H[L+2]=R[z+2]}}var p=H,V=H.length,r=j.raw.o0(I),y=1/r;for(var Y=0;Y<V;Y+=3){H[Y]=p[Y]*y;
H[Y+1]=p[Y+1]*y;H[Y+2]=p[Y+2]*y}j.raw.Jv(3,I,H,g,d);var W=I.Nm,m=g,f=d;if(W==1||W==9){}else{var h=j.raw.aCy(W,g,d),L=0;
m=h[0];f=h[1];var b=H.slice(0);for(var U=0;U<f;U++)for(var K=0;K<m;K++){var i=h[2]*K+h[3]*U+h[4],w=h[5]*K+h[6]*U+h[7],z=(w*g+i)*3;
H[L]=b[z];H[L+1]=b[z+1];H[L+2]=b[z+2];L+=3}}return{GG:H,Sz:m,Qe:f}};j.raw.aCy=function(I,k,a){var n=k,s=a;
if(!1){}else if(I==2)return[k,a,-1,0,k-1,0,1,0];else if(I==3)return[k,a,-1,0,k-1,0,-1,a-1];else if(I==4)return[k,a,1,0,0,0,-1,a-1];
else if(I==5)return[a,k,0,1,0,1,0,0];else if(I==6)return[a,k,0,1,0,-1,0,a-1];else if(I==7)return[a,k,0,-1,k-1,-1,0,a-1];
else if(I==8)return[a,k,0,-1,k-1,1,0,0];else throw"unknown orientation "+I};j.raw.aqo=function(I,k,a,n,s){var C=Date.now(),y=0,f=0;
if(j.raw.o0(n)>4e4){for(var Y=0;Y<I.length;Y++)I[Y]>>=1;var T=["t50714","t50715","t50712","t50717"];
for(var Y=0;Y<T.length;Y++){var S=n[T[Y]];if(S)for(var D=0;D<S.length;D++)S[D]>>>=1}console.log("remapping to lower bit depth")}var o=~~Math.sqrt(s.length),v=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],g=[];
for(var d=0;d<o;d++)for(var R=0;R<o;R++){var Y=d*o+R,c=s[Y],e=4,O=4,U=8,K=0,_=0;for(var D=0;D<18;D+=2){var Z=(o+R+v[D])%o,H=(o+d+v[D+1])%o,G=s[H*o+Z];
if(G==c){}else if(e==4){e=G;K=D}else if(O==4&&G!=e){O=G;_=D;break}}if(O<e){var N=O;O=e;e=N;N=_;_=K;K=N}if(e<c){var N=e;
e=c;c=N;N=K;K=U;U=N}if(O<e){var N=O;O=e;e=N;N=_;_=K;K=N}g[Y*3]=v[U+1]*k+v[U];g[Y*3+1]=v[K+1]*k+v[K];
g[Y*3+2]=v[_+1]*k+v[_]}var z=~~(.996*j.raw.o0(n)),L=~~(.992*j.raw.o0(n)),p=n.t50728;if(p==null||p[0]==0)p=[1,1,1];
var V=[],r=[0,0,0];for(var d=1;d<a-1;d++)for(var R=1;R<k-1;R++){var Y=d*k+R,W=d%o*o+R%o,c=I[Y+g[W*3+0]],e=I[Y+g[W*3+1]],O=I[Y+g[W*3+2]],m=Math.max(c,e,O);
if(m>z)V.push(Y);else if(m>L){r[0]+=c;r[1]+=e;r[2]+=O;y++}}if(V.length==0)return;if(y/(k*a)<1e-5){console.log("not enough semi-saturated pixels",y);
r=p}if(r[1]<r[f])f=1;if(r[2]<r[f])f=2;var h=[r[0]/r[f],r[1]/r[f],r[2]/r[f]],b=I.slice(0);for(var i=0;
i<V.length;i++){var Y=V[i],d=~~(Y/k),R=Y-d*k,W=d%o*o+R%o,w=Math.min(65535,~~(I[Y+g[W*3+f]]*h[s[W]]));
if(w>b[Y])b[Y]=w}I.set(b)};j.raw.Dt=function(I,k,a,n){var s=Math.round(I.length/3),C=eX.by(n[0],n[1]),T=j.raw.amt(a,C),S=j.LT.multiply(j.LT.x0,T),D=Math.pow(2,a.t50730?a.t50730[0]:0);
S=j.LT.multiply(S,j.LT.L_(D,D,D));var o=j.raw.Dt.ac1;if(o==null){o=j.raw.Dt.ac1=new Float64Array(8e3);
for(var Y=0;Y<8e3;Y++)o[Y]=j.lD(Y*(1/1e3))}for(var Y=0;Y<s;Y++){var v=Y<<2,g=v-Y,d=I[g],R=I[g+1],c=I[g+2],e=S[0]*d+S[1]*R+S[2]*c,O=S[4]*d+S[5]*R+S[6]*c,U=S[8]*d+S[9]*R+S[10]*c;
if(e<0)e=0;if(O<0)O=0;if(U<0)U=0;k[g]=o[~~(e*1e3)];k[g+1]=o[~~(O*1e3)];k[g+2]=o[~~(U*1e3)]}};j.raw.adA=function(I){var k=I.width,a=I.height,n=k*a*I.t277,s=new Uint16Array(n),C=null,T=0;
j.raw.aje(I,s);j.raw.Jv(1,I,s,k,a);if(I.t50712){C=I.t50712;T=C.length-1;if(C[T]>65535)throw"too big values"}var S=j.raw.awx(I),D=j.raw.ar8(I);
if(C==null)for(var Y=0;Y<n;Y++)s[Y]=Math.max(0,s[Y]-S);else for(var Y=0;Y<n;Y++){var o=s[Y];if(o>T)o=T;
o=C[o];s[Y]=Math.max(0,o-S)}return s};j.raw.awx=function(I){var k=I.t50714,a=k?k[0]:0,n=I.t50715,s=I.t50716;
if(n)a+=n[0][0]/n[0][1];if(s)a+=s[0][0]/s[0][1];return Math.round(a)};j.raw.ar8=function(I){var k=null,a=0;
if(I.t50712){k=I.t50712;a=k.length-1}var n=I.t50717?I.t50717[0]:(1<<I.t258[0])-1;if(k)n=Math.min(n,k[a]);
return n};j.raw.o0=function(I){var k=j.raw.awx(I),a=j.raw.ar8(I);return a-k};j.raw.aje=function(I,k){var a=k.length,n=I.data,s=I.t258[0];
if(s!=16&&s!=14&&s!=12&&s!=10&&s!=8)throw"Unsupported Bits Per Sample:"+s;s=Math.round(n.length*8/a);
if(s==16&&I.isLE){j.ed(n,k);return}for(var Y=0;Y<a;Y+=2){var C=0,T=0,S=0;if(s==16){C=Y<<1;T=n[C]<<8|n[C+1];
S=n[C+2]<<8|n[C+3]}else if(s==14){var D=Y*14,o=D>>>3,v=n[o]<<24|n[o+1]<<16|n[o+2]<<8|n[o+3];if((D&7)==0){T=v>>>18;
S=v>>>4&16383}else{T=v>>>14&16383;S=v&16383}}else if(s==12){C=Y+(Y>>>1);T=n[C]<<4|n[C+1]>>4;S=(n[C+1]&15)<<8|n[C+2]}else if(s==10){var D=Y*10,o=D>>>3;
if((D&7)==0){T=(n[o]<<2|n[o+1]>>6)&1023;S=(n[o+1]<<4|n[o+2]>>4)&1023}else{T=(n[o]<<6|n[o+1]>>2)&1023;
S=(n[o+1]<<8|n[o+2]>>0)&1023}}else if(s==8){C=Y;T=n[C];S=n[C+1]}k[Y]=T;k[Y+1]=S}};j.raw.a2G=function(I,k,a,n,s,C,T){var S=I-.499999,D=k-.499999,o=~~S,v=~~D,g=S-o,d=D-v,R=(1-d)*(1-g),c=(1-d)*g,e=d*(1-g),O=d*g,U=(v*n+o)*3,K=((v+1)*n+o)*3,_=R*a[U]+c*a[U+3]+e*a[K]+O*a[K+3],Z=R*a[U+1]+c*a[U+4]+e*a[K+1]+O*a[K+4],H=R*a[U+2]+c*a[U+5]+e*a[K+2]+O*a[K+5];
C[T]=_;C[T+1]=Z;C[T+2]=H};j.raw.Jv=function(I,k,a,n,s){var C=k["t"+[51008,51009,51022][I-1]],v=0;if(C==null)return;
var T=n*s,S=u.C,D=u._x,o=new Uint8Array(C),hE=u.C(o,v);v+=4;for(var g=0;g<hE;g++){var d=S(o,v);v+=4;
var R=S(o,v);v+=4;var c=S(o,v);v+=4;var e=S(o,v);v+=4;if(!1){}else if(d==1&&I==3){var O=v,U=S(o,O);O+=4;
var K=D(o,O);O+=8;var _=D(o,O);O+=8;var Z=D(o,O);O+=8;var H=D(o,O);O+=8;var G=D(o,O);O+=8;var N=D(o,O);
O+=8;O+=(U-1)*8*6;var z=D(o,O);O+=8;var L=D(o,O);O+=8;var p=z*n,V=L*s,r=Math.max(p,n-p),y=Math.max(V,s-V),W=Math.sqrt(r*r+y*y),m=1/W,f=a.slice(0);
for(var h=0;h<s;h++)for(var b=0;b<n;b++){var i=(b+.5-p)*m,w=(h+.5-V)*m,J=i*i+w*w,q=K+_*J+Z*(J*J)+H*(J*J)*J,x=G*(2*i*w)+N*(J+2*i*i),A=N*(2*i*w)+G*(J+2*w*w),Q=Math.min(p+W*(q*i+x),n-1),B=Math.min(V+W*(q*w+A),s-1),l=(h*n+b)*3;
j.raw.a2G(Q,B,f,n,s,a,l)}}else if(d==3&&I==3){var O=v,P=D(o,O);O+=8;var F=D(o,O);O+=8;var t=D(o,O);O+=8;
var b$=D(o,O);O+=8;var hd=D(o,O);O+=8;var z=D(o,O);O+=8;var L=D(o,O);O+=8;var p=z*n,V=L*s,r=Math.max(p,n-p),y=Math.max(V,s-V),W=Math.sqrt(r*r+y*y),m=1/W;
for(var h=0;h<s;h++)for(var b=0;b<n;b++){var i=(b+.5-p)*m,w=(h+.5-V)*m,J=i*i+w*w,di=1+(P+(F+(t+(b$+hd*J)*J)*J)*J)*J,l=(h*n+b)*3;
a[l]=di*a[l];a[l+1]=di*a[l+1];a[l+2]=di*a[l+2]}}else if(d==4&&I==1){var O=v,hD=S(o,O);O+=4;var a$=S(o,O);
O+=4;for(var Y=0;Y<T;Y++)if(a[Y]==hD)a[Y]=a[Y-2]+a[Y+2]>>1}else if(d==5&&I==1){var O=v,eJ=S(o,O);O+=4;
var hY=S(o,O);O+=4;var ik=S(o,O);O+=4;for(var Y=0;Y<hY;Y++){var fw=S(o,O);O+=4;var jb=S(o,O);O+=4;var Y=fw*n+jb;
a[Y]=a[Y-2]+a[Y+2]>>1}}else if(d==7&&I==1){var O=v,cd=u.Zc(o,O);O+=16;var dN=S(o,O);O+=4;var kc=S(o,O);
O+=4;var ck=S(o,O),b3=S(o,O+4);O+=8;var hL=S(o,O);O+=4;var gS=new Uint16Array(hL);for(var Y=0;Y<hL;Y++)gS[Y]=u.Ij(o,O+2*Y);
var jF=cd.Q,kB=cd._;for(var h=0;h<kB;h+=ck)for(var b=0;b<jF;b+=b3){var Y=(cd.y+h)*n+(cd.x+b);a[Y]=gS[a[Y]]}}else if(d==8&&I==2){var O=v,cd=u.Zc(o,O);
O+=16;var dN=S(o,O);O+=4;var kc=S(o,O);O+=4;var ck=S(o,O),b3=S(o,O+4);O+=8;var jw=S(o,O);O+=4;var iT=[];
for(var Y=0;Y<=jw;Y++)iT[Y]=u._x(o,O+Y*8);var gY=cd.x,aL=cd.x+cd.Q,dw=cd.y,ka=cd.y+cd._,cy=k.t50717[0],jP=1/cy;
for(var aA=0;aA<kc;aA++)for(var h=dw;h<ka;h+=ck){var l=3*h*n+dN+aA;for(var b=gY;b<aL;b+=b3){var Y=l+3*b,d1=a[Y]*jP,ag=iT[jw];
for(var b0=jw;b0>0;b0--)ag=ag*d1+iT[b0-1];a[Y]=Math.max(0,Math.min(65535,~~(ag*cy)))}}}else if(d==9&&I==2){var O=v,cd=u.Zc(o,O),cU=!0;
O+=16;var dN=S(o,O);O+=4;var kc=S(o,O);O+=4;var ck=S(o,O),b3=S(o,O+4);O+=8;var kx=S(o,O),br=S(o,O+4);
O+=8;var ft=D(o,O),iv=D(o,O+8);O+=16;var k6=D(o,O),ay=D(o,O+8);O+=16;var eT=S(o,O);O+=4;if(eT!=1)throw"more than one map plane";
var kD=kx*br,cP=new Float32Array(kD);for(var b0=0;b0<kD;b0++)cP[b0]=u.Yh(o,O+b0*4);for(var b0=0;b0<kD;
b0++)if(cP[b0]!=1)cU=!1;if(!cU){var jF=cd.Q,kB=cd._,gu=.9999*(br-1)/jF,jd=.9999*(kx-1)/kB;for(var h=0;
h<kB;h+=ck)for(var b=0;b<jF;b+=b3){var Y=(cd.y+h)*n+(cd.x+b),i$=b*gu,hT=h*jd,jk=Math.floor(i$),i1=Math.floor(hT),hM=i$-jk,ku=hT-i1,l=i1*br+jk,dM=cP[l]*(1-hM)+cP[l+1]*hM,fb=cP[l+br]*(1-hM)+cP[l+1+br]*hM,j$=dM*(1-ku)+fb*ku;
a[Y]=Math.max(0,Math.min(65535,~~(a[Y]*j$+.5)))}}}else console.log("Unknown opcode "+d+" in OpcodeList"+I+". Length: "+e);
v+=e}};j.raw.amt=function(I,k){var a=eX.JD(k),n=j.raw.aAG(I,k),s=j.LT.Us(n),C=eX.a4R(a,eX.JD(eX.aBn)),T=j.LT.multiply(C,s);
return T};j.raw.aBx=function(I){var k=I.t50728,s=1;if(k==null||k[0]==0)k=[1,1,1];var a=k.slice(0);a.push(0);
var n={x:.34567,y:.3585};do{var C=j.LT.Us(j.raw.aAG(I,n)),T=j.LT.DW(C,a),S=eX.aA_(T);s=Math.abs(n.x-S.x)+Math.abs(n.y-S.y);
n=S}while(s>1e-7);return n};j.raw.aAG=function(I,k){var a=eX.atD(k),n=j.raw.aqD,s=I.t50778?I.t50778[0]:0,C=I.t50779?I.t50779[0]:0,T=I.t50723,S=I.t50724;
if(T&&T.length==3)T=null;if(S&&S.length==3)S=null;var D=n(I.t50721,I.t50722,s,C,a.Ml),o=n(T,S,s,C,a.Ml);
D=D||[1,0,0,0,1,0,0,0,1];o=o||[1,0,0,0,1,0,0,0,1];var v=I.t50727?[I.t50727[0],0,0,0,I.t50727[1],0,0,0,I.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return j.LT.multiply(j.LT.kM(v),j.LT.multiply(j.LT.kM(o),j.LT.kM(D)))};j.raw.aqD=function(I,k,a,n,s){if(!I&&!k){return null}else if(I&&!k){return I}else if(s<a){return I}else if(s>n){return k}else{var C=(1/s-1/n)/(1/a-1/n),T=1-C,S=[];
for(var Y=0;Y<9;Y++)S[Y]=I[Y]*C+k[Y]*T;return S}};var eX={};eX.aBn={x:.34567,y:.3585};eX.aoF=[{$:0,Sh:.18006,B9:.26352,Tx:-.24341},{$:10,Sh:.18066,B9:.26589,Tx:-.25479},{$:20,Sh:.18133,B9:.26846,Tx:-.26876},{$:30,Sh:.18208,B9:.27119,Tx:-.28539},{$:40,Sh:.18293,B9:.27407,Tx:-.3047},{$:50,Sh:.18388,B9:.27709,Tx:-.32675},{$:60,Sh:.18494,B9:.28021,Tx:-.35156},{$:70,Sh:.18611,B9:.28342,Tx:-.37915},{$:80,Sh:.1874,B9:.28668,Tx:-.40955},{$:90,Sh:.1888,B9:.28997,Tx:-.44278},{$:100,Sh:.19032,B9:.29326,Tx:-.47888},{$:125,Sh:.19462,B9:.30141,Tx:-.58204},{$:150,Sh:.19962,B9:.30921,Tx:-.70471},{$:175,Sh:.20525,B9:.31647,Tx:-.84901},{$:200,Sh:.21142,B9:.32312,Tx:-1.0182},{$:225,Sh:.21807,B9:.32909,Tx:-1.2168},{$:250,Sh:.22511,B9:.33439,Tx:-1.4512},{$:275,Sh:.23247,B9:.33904,Tx:-1.7298},{$:300,Sh:.2401,B9:.34308,Tx:-2.0637},{$:325,Sh:.24792,B9:.34655,Tx:-2.4681},{$:350,Sh:.25591,B9:.34951,Tx:-2.9641},{$:375,Sh:.264,B9:.352,Tx:-3.5814},{$:400,Sh:.27218,B9:.35407,Tx:-4.3633},{$:425,Sh:.28039,B9:.35577,Tx:-5.3762},{$:450,Sh:.28863,B9:.35714,Tx:-6.7262},{$:475,Sh:.29685,B9:.35823,Tx:-8.5955},{$:500,Sh:.30505,B9:.35907,Tx:-11.324},{$:525,Sh:.3132,B9:.35968,Tx:-15.628},{$:550,Sh:.32129,B9:.36011,Tx:-23.325},{$:575,Sh:.32931,B9:.36038,Tx:-40.77},{$:600,Sh:.33724,B9:.36051,Tx:-116.45}];
eX.atD=function(I){var k=eX.aoF,a=2*I.x/(1.5-I.x+6*I.y),n=3*I.y/(1.5-I.x+6*I.y),s=0,C=0,T=0;for(;T<31;
T++){s=n-k[T].B9-k[T].Tx*(a-k[T].Sh);if(T>0&&s<0){break}C=s}while(T>=k.length)T--;s/=Math.sqrt(1+k[T].Tx*k[T].Tx);
C/=Math.sqrt(1+k[T-1].Tx*k[T-1].Tx);var S=C/(C-s),D=1e6/((k[T].$-k[T-1].$)*S+k[T-1].$),o=a-((k[T].Sh-k[T-1].Sh)*S+k[T-1].Sh),v=n-((k[T].B9-k[T-1].B9)*S+k[T-1].B9),g=Math.sqrt(1+k[T].Tx*k[T].Tx),d=1/g,R=k[T].Tx/g,c=Math.sqrt(1+k[T-1].Tx*k[T-1].Tx),e=1/c,O=k[T-1].Tx/c,U=(d-e)*S+e,K=(R-O)*S+O,_=Math.sqrt(U*U+K*K);
U/=_;K/=_;var Z=(o*U+v*K)*-3e3;return{Ml:D,C0:Z}};eX.by=function(I,k){var a=eX.aoF,n=1e6/I,s=1;for(;
s<31;s++){if(n<a[s].$){break}}var C=(a[s].$-n)/(a[s].$-a[s-1].$),T=(a[s-1].Sh-a[s].Sh)*C+a[s].Sh,S=(a[s-1].B9-a[s].B9)*C+a[s].B9,D=Math.sqrt(1+a[s].Tx*a[s].Tx),o=1/D,v=a[s].Tx/D,g=Math.sqrt(1+a[s-1].Tx*a[s-1].Tx),d=1/g,R=a[s-1].Tx/g,c=(d-o)*C+o,e=(R-v)*C+v,O=Math.sqrt(c*c+e*e);
c/=O;e/=O;T+=c*k/-3e3;S+=e*k/-3e3;return{x:1.5*T/(T-4*S+2),y:S/(T-4*S+2)}};eX.aA_=function(I){var k=I[0]+I[1]+I[2];
return{x:I[0]/k,y:I[1]/k}};eX.JD=function(I){return{x:I.x/I.y,y:1,aP:(1-I.x-I.y)/I.y}};eX.a4R=function(I,k){var a=j.LT.kM([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),n=[I.x,I.y,I.aP,0],s=[k.x,k.y,k.aP,0];
n=j.LT.DW(a,n);s=j.LT.DW(a,s);var C=s[0]/n[0],T=s[1]/n[1],S=s[2]/n[2],D=j.LT.kM([C,0,0,0,T,0,0,0,S]),o=j.LT.Us(a);
return j.LT.multiply(j.LT.multiply(o,D),a)};j.raw.y4={};j.raw.Fh=function(I){I*=8;var k=[8,10,12,14,16];
for(var a in CAMS){var n=CAMS[a];if(n.length==4)continue;var s=n[4],C=n[5];for(var Y=0;Y<k.length;Y++)if(s*C*k[Y]==I)return[a,k[Y]]}var T=[[4e3,3e3]];
for(var Y=0;Y<T.length;Y++){var n=T[Y],s=n[0],C=n[1];for(var Y=0;Y<k.length;Y++)if(s*C*k[Y]==I)return[n,k[Y]]}return null};
j.raw.aiH=function(I){var I=new Uint8Array(I);for(var Y=0;Y<I.length;Y+=2){var k=I[Y];I[Y]=I[Y+1];I[Y+1]=k}var a=j.raw.Fh(I.length),n=CAMS[a[0]];
if(n==null)n=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,a[0][0],a[0][1]];var s=n[4],C=n[5],T=Math.max(n[2],116),S={data:I,Nm:1,width:s,height:C,t256:[s],t257:[C],t258:[a[1]],t277:[1],t33421:[2,2],t33422:j.raw._8[n[1]],t50706:[1,2,0,0],t50714:[T,T,T,T],t50717:[n[3]],t50721:n[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var Y=0;Y<9;Y++)S.t50721[Y]/=1e4;return S};j.raw.ab_=function(I){if(I==null||I.length==0||typeof I[0]=="number")return I;
var k=[];for(var Y=0;Y<I.length;Y++)k[Y]=I[Y][1]==0?0:I[Y][0]/I[Y][1];return k};j.raw._8=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
j.raw.normalize=function(I,k){if(I.t50706!=null||I.t271[0].startsWith("Hasselblad")){var a=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var Y=0;Y<a.length;Y++)if(I["t"+a[Y]]!=null)I["t"+a[Y]]=j.raw.ab_(I["t"+a[Y]]);if(I.t271&&I.t271[0].startsWith("Hasselblad")){I.t50706=[1,2,0,0];
I.t33422=j.raw._8[1];I.t50723=[1,0,0,0,1,0,0,0,1];I.t50778=[17];if(!I.isLE)for(var Y=0;Y<I.data.length;
Y+=2){var n=I.data[Y];I.data[Y]=I.data[Y+1];I.data[Y+1]=n}}if(I.t272&&I.t272[0]=="HERO10 Black"){I.t50728=[.469725,1,.739884];
if(!I.t305[0].startsWith("Adobe")){var s=new Uint16Array(I.data.buffer);for(var Y=0;Y<s.length;Y++)s[Y]>>>=2}}return}var C=I.t258[0],T=I.exifIFD,k=new Uint8Array(k);
I.t50706=[1,2,0,0];var S=I.t271[0].trim(),D=I.t272[0].trim();if(I.t50708==null)I.t50708=[S+" "+D];var o=(S+":"+D).toLowerCase(),v=CAMS[o];
if(o=="panasonic:dmc-lx2")v[3]=1<<16;if(v==null){alert("Unknown camera:"+o);if(o.startsWith("canon"))v=[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,512,16e3]}if(v!=null){var g=v[2];
I.t50714=[g,g,g,g];if(I.t272=="Canon EOS REBEL T3")v[3]=13584;I.t50717=[v[3]];I.t50721=v[0].slice(0);
for(var Y=0;Y<9;Y++)I.t50721[Y]=I.t50721[Y]*(1/1e4)}I.t50723=[1,0,0,0,1,0,0,0,1];if(I.t50728==null)I.t50728=[.35,1,.6];
I.t50778=[17];if(S.startsWith("OLYMPUS")||S.startsWith("OM Digital Solutions")){I.t33422=[2,1,1,0];var d=T.t41730,O;
if(d)I.t33422=[d[4],d[5],d[6],d[7]];var R=I.t50341;if(R==null)R=T.t36864;var c=j.raw.agF(R.buffer,I);
I.data=new Uint8Array(c.buffer);if((I.height&1)==1)I.t50829=[0,0,I.height-1,I.width];var e=T.makerNote,U=e.t8256;
if(U)O=U.t256;else O=e.t12288.t256;I.t50728=[256/O[0],1,256/O[1]]}else if(I.t271[0].startsWith("SONY")){var K=UTIF["_bin"+(I.isLE?"LE":"BE")],_=I.t28688,p;
if(JSON.stringify(_)!="[8000,10400,12900,14100]")console.log(_);if(_&&_.join("")!="0000"){var Z=[0,0,0,0,0,4095],H=new Uint16Array(16385);
for(var Y=0;Y<4;Y++){var G=_[Y]>>>2;Z[Y+1]=G;if(G>4095)throw"e"}for(var Y=0;Y<16385;Y++)H[Y]=Y;for(var Y=0;
Y<5;Y++)for(var N=Z[Y]+1;N<=Z[Y+1];N++)H[N]=H[N-1]+(1<<Y);var z=k.length*8<I.width*I.height*C;if(z)I.t50712=H}else console.log("no curve");
var L=I.dngPrvt;if(L){var V=L.t29184[0],r=L.t29185[0],y=(I.isLE?u.sg:u.C)(L.t29217,0),W=new Uint32Array(k.slice(V,V+(r&4294967292)).buffer),m=new Uint32Array(r>>>2);
j.raw.a7F(W,m,r>>>2,y);var f=new Uint8Array(V+r);f.set(new Uint8Array(m.buffer),V);var h=[];UTIF._readIFD(K,f,V,h,0,!1);
var b=h.pop(),i=b.t29458;I.t50728=[i[1]/i[0],1,i[1]/i[3]];I.t50730=[.5];var w=b.t29891;I.t50829=[w[1],w[0],w[3],w[2]]}else if(T.makerNote&&T.makerNote.t8208){var p=T.makerNote,J=p.t8208,q=J.length,x=0,A=new Uint8Array(256);
for(var Y=249;Y<256;Y++)A[Y]=Y;for(var Y=0;Y<249;Y++)A[Y*Y*Y%249]=Y;for(var Y=0;Y<q;Y++)J[Y]=A[J[Y]];
if(q==6604)x=612;else throw"e";var i=[];for(var Y=0;Y<3;Y++)i.push(u.Gn(J,x+Y*2));console.log(i);I.t50728=[i[1]/i[0],1,i[1]/i[2]]}else console.log("no white balance");
if(I.width*I.height*1.5==I.t279[0]){g=g>>>2;I.t50714=[g,g,g,g];I.t50717=[v[3]>>>2]}}else if(I.t271[0].startsWith("Canon")){var k=I.data,Q=k.slice(0),B=I.t50752,l=[],F=0;
if(B==null||B[0]==0&&B[1]==0)l.push(I.width);else{for(var Y=0;Y<B[0];Y++)l.push(B[1]);l.push(B[2])}var P=I.width*2,t=I.t50885&&I.t50885[0]==4;
if(!t)for(var b$=0;b$<l.length;b$++){var hd=l[b$],di=2*F,hD=2*hd;for(var a$=0;a$<I.height;a$+=2){var eJ=a$*P+di,hY=I.height*di+a$*hD;
for(var Y=0;Y<hD;Y++){k[eJ+Y]=Q[hY+Y];k[eJ+Y+P]=Q[hY+Y+hD]}}F+=hd}else{var ik=new Uint16Array(Q.buffer),fw=new Uint16Array(k.buffer);
function jb(dN,kc){fw[kc*3+0]=ik[dN*3+0];fw[kc*3+1]=ik[dN*3+1];fw[kc*3+2]=ik[dN*3+2]}var cd=(B[0]*B[1]+B[2])/I.width;
for(var b$=0;b$<l.length;b$++){var hd=Math.round(l[b$]/cd);for(var a$=0;a$<I.height;a$++){var dN=I.height*F+(cd==3?(a$>>>3)*8+[0,4,1,5,2,6,3,7][a$&7]:a$)*hd,kc=a$*I.width+F;
for(var ck=0;ck<hd;ck++)jb(dN+ck,kc+ck)}F+=hd}var b3=new Uint16Array(k.buffer),hL=new Uint16Array(1),gS=new Int16Array(hL.buffer);
for(var Y=0;Y<b3.length;Y+=3){var jF=b3[Y],kB=b3[Y+1],jw=b3[Y+2];hL[0]=kB<<2;kB=gS[0]>>2;hL[0]=jw<<2;
jw=gS[0]>>2;b3[Y+0]=Math.max(0,jw+jF);b3[Y+1]=Math.max(0,(jF<<12)-kB*778-(jw<<11)>>12);b3[Y+2]=Math.max(0,kB+jF)}}var p=T.makerNote,dN=p.t224;
if(dN){var V=I.t50719=[dN[5],dN[6]],iT=I.t50720=[dN[7]+1-dN[5],dN[8]+1-dN[6]],gY=p.t154;if(gY){V[0]+=gY[3];
V[1]+=gY[4];iT[0]=gY[1];iT[1]=gY[2]}}if(p.t16385){var aL=p.t16385,dw=aL.length,ka=0;if(aL instanceof Array)aL=new Uint16Array(aL);
if(dw==582)ka=1;else if(dw==653)ka=2;else if(dw==796)ka=3;else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(dw)!=-1)ka=4;
else if([1816,1820,1824,5120].indexOf(dw)!=-1){ka=5;aL=new Int16Array(aL.slice(0).buffer)}else if(dw==1273||dw==1275)ka=6;
else if([1312,1313,1316,1506].indexOf(dw)!=-1)ka=7;else if([1560,1592,1353,1602].indexOf(dw)!=-1)ka=8;
else if(dw==3656)ka=9;else if(dw==3778||dw==3973)ka=10;else throw"e"+dw;var cy=aL[0],jP=[null,[25,166],[34,286],[63,196],[63],[71,cy==-4?333:cy==16||cy==17||cy==18||cy==19?329:264],[63,251],[63,cy==10?504:728],[63,326],[85,343],[105,363]],x=jP[ka][0],aA=jP[ka][1];
if(ka==4){if(aL[0]==2)aA=231;else if(aL[0]==3)aA=231;else if(aL[0]==4)aA=231;else if(aL[0]==5)aA=231;
else if(aL[0]==6)aA=231;else if(aL[0]==7)aA=231;else if(aL[0]==9)aA=231;else throw"e"}I.t50728=[aL[x+1]/aL[x],1,aL[x+1]/aL[x+3]];
var g=aA==null?1024:aL[aA];if(ka!=4)I.t50714=[g,g,g,g]}else{I.t50728=[.4,1,.6]}if(t){I.t277=[3];I.t50728=[1,1,1];
I.t50714=[0,0,0,0]}}else if(I.t271[0].startsWith("NIKON")){var p=T.makerNote,d1=I.isLE?u.Gn:u.cl,iv=0,k6=0,cU,aZ=0;
if(p.t61){var ag=p.t61,b0=[];for(var Y=0;Y<4;Y++)b0[Y]=ag[Y]/Math.pow(2,14-C);I.t50714=b0}if(p.t3585){var kx=p.t3585,Y=0,V=22;
while(V<kx.length&&Y!=-4){var br=u.sg(kx,V);V+=4;V+=14;Y=u.sg(kx,V)-4;V+=4;if(br==1990472198){if(kx[V]!=0)throw"Flip"}if(br==1990472199){var ft=u.Gn(kx,V);
if(ft==0)I.Nm=1;else if(ft==270)I.Nm=8;else throw"e "+ft}V+=Y}}if(p.t183){var ay=p.t183,iT=[];for(var Y=0;
Y<6;Y++)iT.push(d1(ay,16+Y*2));iv=iT[0];k6=iT[1]}if(p.t3614){var eT=p.t3614;iv=u.sg(eT,8);k6=u.sg(eT,12)}if(iv!=0&&Math.max(iv,k6)<Math.max(I.width,I.height)){if(iv<k6){var n=iv;
iv=k6;k6=n}var ck=I.width-iv>>>1,a$=I.height-k6>>>1;I.t50829=[a$,ck,a$+k6,ck+iv]}else I.t50829=[8,8,I.height-8,I.width-56];
var kD=p.t69;if(kD){var cP=kD[1];if((cP&1)==1)cP++;I.t50829=[cP,kD[0],cP+kD[3],kD[0]+kD[2]]}if(p.t12){var gu=j.raw.ab_(p.t12);
cU=[1/gu[0],1,1/gu[1]]}else if(p.t151){var jd=j.raw.aDJ(p,151),i$=jd[0],bC=jd[1],hT=jd[2];if(i$=="0100"&&bC>=80)throw"e";
else if(i$=="0102"){var jk=[];for(var Y=0;Y<4;Y++)jk.push(d1(hT,6+Y*2));cU=[jk[1]/jk[0],1,jk[1]/jk[3]]}else if(i$=="0103"&&bC>=26){var jk=[];
for(var Y=0;Y<4;Y++)jk.push(d1(hT,16+Y*2));cU=[jk[1]/jk[0],1,jk[3]/jk[2]]}else if(i$=="0204"&&bC>=564||i$=="0205"&&bC>=284){var V=i$=="0204"?6:14,jk=[];
for(var Y=0;Y<4;Y++)jk.push(d1(hT,V+Y*2));cU=[jk[1]/jk[0],1,jk[1]/jk[3]]}else throw"e"}else console.log("no white balance info");
if(D=="NIKON D1")cU=[1,1,1];if(cU)I.t50728=cU;var i1=p.t150?p.t150:p.t140;if(i1){var az=i1[aZ++],hM=i1[aZ++],fb;
if(az==73||hM==88)aZ+=2110;aZ+=8;var ku=1<<C&32767,dM=d1(i1,aZ);aZ+=2;var H=[];if(dM>1)fb=Math.floor(ku/(dM-1));
if(az==68&&hM==32&&fb>0){for(Y=0;Y<dM;Y++){H[Y*fb]=d1(i1,aZ);aZ+=2}for(Y=0;Y<ku;Y++)H[Y]=Math.floor((H[Y-Y%fb]*(fb-Y%fb)+H[Y-Y%fb+fb]*(Y%fb))/fb)}else if(az!=70&&dM<=16385){ku=dM;
for(var Y=0;Y<dM;Y++)H[Y]=d1(i1,aZ+2*Y);aZ+=2*dM}var D=I.t272[0];if(H.length!=0)I.t50712=new Uint16Array(H);
if(I.t258[0]==14&&I.t50717&&I.t50717[0]<1e4){console.log("fixing white");I.t50717[0]*=4}}}else if(S.startsWith("FujiFilm")){}else if(S.startsWith("Panasonic")){if(I.t277==null)I.t277=[1]}else alert("Unknown camera "+S)};
j.raw.a7F=function(I,k,a,n){if(0==a)return;var s=new Uint32Array(128),C=new Uint8Array(s.buffer),T=127,S=0,D=0;
for(var T=0;T<4;T++)s[T]=n=(n*15625>>>0)*3125+1>>>0;s[3]=s[3]<<1|(s[0]^s[2])>>>31;for(var T=4;T<127;
T++)s[T]=(s[T-4]^s[T-2])<<1|(s[T-3]^s[T-1])>>>31;for(var T=0;T<127;T++)s[T]=u.C(C,T*4);for(;a>0;a--){s[T&127]=s[T+1&127]^s[T+1+64&127];
var o=s[T&127],v=I[S];v^=o;k[D]=v;S++;D++;T++}};j.raw.arX=function(I,k){var a=u.x8(k,0,4),n=j.raw.asL;
for(var Y=0;Y<n.length;Y++)if(n[Y][0]==I&&a.startsWith(n[Y][1])&&(n[Y][2]==0||n[Y][2]==k.length))return n[Y];
throw"e"};j.raw.aCd=function(I){if(I.t29==null)return[];var k=j.raw.ayh,a=j.raw.axo,n=I.t29[0],s=0,T=0;
for(var Y=0;Y<n.length;Y++){var C=n.charCodeAt(Y);s=s*10+(48<=C&&C<=57?C-48:C%10)}var bC=I.t167[0];for(var Y=0;
Y<4;Y++)T^=bC>>>(Y<<3)&255;var S=k[s&255],D=a[T&255];return[S,D,96]};j.raw.aDJ=function(I,k){var a=I["t"+k],bC=a.length,n=j.raw.arX(k,a),s=u.x8(a,0,4),C,T=n[4];
if(T==null)C=a.slice(4);else{C=new Uint8Array(bC-T);var S=j.raw.aCd(I),D=S[0],o=S[1],v=S[2];for(var Y=0;
Y<C.length;Y++){o=o+D*v++&255;C[Y]=a[T++]^o}}return[s,bC,C]};j.raw.agF=function(I,k){var a=k.t271[0],n=k.t272[0],s=k.t256[0],C=k.t257[0],T=k.t258[0],S=k.t273[0],D=S,o=new Uint8Array(I),v,g=s-4,d=C,R=o.length-S,O=0,U=0;
function c(){var G=new Uint16Array(4096),bQ=0;G[bQ]=3084;for(var Y=12;Y--;)for(var N=0;N<2048>>Y;N++)G[++bQ]=Y+1<<8|Y;
return G}function e(){return o[D++]}function K(G,N){var z;if(G>25)return 0;if(G==0||U<0)return 0;if(G<0){O=0;
U=0;return 0}while(U<G){z=e();if(z==null)break;O=(O<<8)+(255&z);U+=8}z=U==0?0:O<<32-U>>>32-G;if(N){U-=N[z]>>8;
z=255&N[z]}else U-=G;return z}function _(){var G=c();D+=7;K(-1);for(var N=0;N<d;N++){var z=[new Int32Array(3),new Int32Array(3)];
for(var L=0;L<s;L++){var p=z[L&1],Y=2*(p[2]<3),V;for(V=2+Y;(65535&p[0])>>V+Y;V++);var r=K(3),y=r&3;r=r<<29>>31;
var W=K(12,G);if(W==12)W=K(16-V)>>>1;var m=K(V);p[0]=W<<V|m;var f=(p[0]^r)+p[1];p[1]=f*3+p[1]>>5;p[2]=p[0]>16?0:p[2]+1;
if(L>=g)continue;var h=v[N*s+L-2],bQ=v[(N-2)*s+L],b=v[(N-2)*s+L-2];v[N*s+L]=(N<2&&L<2?0:N<2?h:L<2?bQ:h<b&&b<bQ||bQ<b&&b<h?Math.abs(h-b)>32||Math.abs(bQ-b)>32?h+bQ-b:h+bQ>>1:Math.abs(h-b)>Math.abs(bQ-b)?h:bQ)+(f<<2|y)}}}function Z(){var G=s*T/8,N=C+1>>1,L=0,p=0;
G+=G&6>>7;var z=G*8-s*T;for(var V=0;V<C;V++){var r=V%N*2+~~(V/N);if(r==1){L=0;D=S-(-N*G&-2048)}for(var y=0;
y<s;y++){for(L-=T;L<0;L+=8){p<<=8;for(var Y=0;Y<8;Y+=8)p|=e()<<Y}var W=p<<64-T-L>>>64-T;v[r*s+y]=W}L-=z}}function H(){var G=!a.startsWith("OLYMPUS")||!a.startsWith("OM Digi")||!a.toLowerCase().startsWith("clauss")&&!n.toLowerCase().startsWith("pix 5oo");
return G&&R<s*C}if(H()){v=new Uint16Array(g*d);_()}else{v=new Uint16Array(s*C);Z()}return v};j.raw.asL=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
j.raw.ayh=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
j.raw.axo=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
j.cT={};j.cT.cT=function(I,k,a,n,s){if(n==null)n=3;if(s==null)s=!0;var C=I.Q,T=I._,S=1/C,D=C*T,o=Date.now(),v=!1,g=j.cT.ao_(a,C,T,255,128),d=j.cT.ao_(a,C,T,0,128),F=0;
if(v)console.log("extract contours",Date.now()-o);o=Date.now();var R=function(kx,br){var ft=kx<<2,iv=br<<2;
return k[ft]+k[ft+1]+k[ft+2]-(k[iv]+k[iv+1]+k[iv+2])};g.sort(R);d.sort(R);var c=j.U(D),e=j.U(D),O=[],U=new Uint32Array(C*T);
U.fill(4294967295);for(var Y=0;Y<D;Y++)if(a[Y]==0)e[Y]=255;else if(a[Y]==255)c[Y]=255;else{U[Y]=O.length;
O.push(Y)}var K=g.length,_=d.length,Z=O.length;function H(kx,br,ft,iv){var k6=kx.length,ay=new Array(k6*2);
for(var Y=0;Y<k6;Y++){var h=kx[Y],b=~~(h*iv),i=h-b*ft,d1=h<<2;ay[Y*2]=i<<16|b;ay[Y*2+1]=br[d1]<<16|br[d1+1]<<8|br[d1+2]}return ay}var G=H(g,k,C,S),N=H(d,k,C,S),z=H(O,k,C,S);
if(v)console.log("Itemize",Date.now()-o,"Unknown:",Z,K,_);o=Date.now();var L=j.style.Xv(c,C,T,!0),p=j.style.Xv(e,C,T,!0),V=new Array(Z),r=new Array(Z),y=new Array(Z),W=new Array(Z),m=new Array(Z);
if(v)console.log("Dist transform",Date.now()-o);o=Date.now();var f=j.cT.Az;for(var Y=0;Y<Z;Y++){var h=O[Y],b=~~(h*S),i=h-b*C,w=L[h<<1],J=L[(h<<1)+1],q=Math.sqrt(w*w+J*J),x=p[h<<1],A=p[(h<<1)+1],Q=Math.sqrt(x*x+A*A);
V[Y]=1/q;r[Y]=1/Q;var B=Math.floor(j.z.dC(h*17)*K),l=Math.floor(j.z.dC(h*19)*_);y[Y]=B;W[Y]=l;m[Y]=f(z[Y*2],z[Y*2+1],G[B*2],G[B*2+1],N[l*2],N[l*2+1],V[Y],r[Y],1e9)}var P=[-C-1,-C,-C+1,-1,1,C-1,C,C+1];
while(Math.floor(Math.max(K,_)*Math.pow(.5,F))>1)F++;for(var t=0;t<n;t++){var b$=0;for(var Y=0;Y<Z;Y++){var h=O[Y],b=~~(h*S),i=h-b*C,hd=V[Y],di=r[Y],hD=z[Y*2],a$=z[Y*2+1],eJ=m[Y],B=y[Y],l=W[Y],kc=1;
if(b!=0&&i!=0&&i!=C-1&&b!=T-1)for(var ik=0;ik<8;ik++){var fw=U[h+P[ik]];if(fw==4294967295)continue;var jb=y[fw],cd=W[fw];
if(jb==B&&cd==l)continue;var dN=f(hD,a$,G[jb*2],G[jb*2+1],N[cd*2],N[cd*2+1],hd,di,eJ);if(dN<eJ){eJ=dN;
B=jb;l=cd}}for(var ck=0;ck<F;ck++){var b3=~~(K*kc),hL=~~(_*kc);kc*=.5;var gS=j.z.dC(h+t*17+ck*31),jF=j.z.dC(h+t*29+ck*63),kB=Math.max(0,B-b3),jw=Math.min(B+b3,K-1),iT=Math.max(0,l-hL),dw=Math.min(l+hL,_-1),jb=kB+~~(gS*(jw-kB)),cd=iT+~~(jF*(dw-iT)),dN=f(hD,a$,G[jb*2],G[jb*2+1],N[cd*2],N[cd*2+1],hd,di,eJ);
if(dN<eJ){eJ=dN;B=jb;l=cd}}m[Y]=eJ;y[Y]=B;W[Y]=l;b$+=eJ}}if(v)console.log(b$);if(v)console.log("iterations",Date.now()-o);
o=Date.now();var ka=a.slice(0);for(var Y=0;Y<Z;Y++){var cy=j.cT.alpha(z[Y*2+1],G[y[Y]*2+1],N[W[Y]*2+1]);
ka[O[Y]]=~~(.5+255*cy)}ka=j.Gh.a8$(ka,k,new eZ(0,0,C,T),16,.01*.01);if(v)console.log("guided filter",Date.now()-o);
o=Date.now();if(s)for(var Y=0;Y<D;Y++)if(a[Y]==255||a[Y]==0)ka[Y]=a[Y];var jP=k.slice(0);for(var Y=0;
Y<Z;Y++){var aA=O[Y],B=g[y[Y]],eJ=m[Y],d1=aA<<2,ag=ka[aA],b0=(ag>=250?aA:B)<<2;jP[d1]=k[b0];jP[d1+1]=k[b0+1];
jP[d1+2]=k[b0+2]}j.yv(ka,jP,3);if(v)console.log(Date.now()-o);o=Date.now();return jP};j.cT.Az=function(I,k,a,n,s,C,T,S,D){var o=I>>>16,v=I&65535,g=o-(a>>>16),d=v-(a&65535),R=o-(s>>>16),c=v-(s&65535),e=Math.sqrt(g*g+d*d)*T,O=Math.sqrt(R*R+c*c)*S;
if(e+O>=D)return 1e9;var U=j.cT.aAm(k,n,C);return U+e+O};j.cT.aAm=function(I,k,a){var n=I>>>16,s=I>>>8&255,C=I&255,T=k>>>16,S=k>>>8&255,D=k&255,o=a>>>16,v=a>>>8&255,g=a&255,d=j.cT.alpha(I,k,a),R=n-(d*T+(1-d)*o),c=s-(d*S+(1-d)*v),e=C-(d*D+(1-d)*g);
return Math.sqrt(R*R+c*c+e*e)};j.cT.alpha=function(I,k,a){var n=I>>>16,s=I>>>8&255,C=I&255,T=k>>>16,S=k>>>8&255,D=k&255,o=a>>>16,v=a>>>8&255,g=a&255,d=T-o,R=S-v,c=D-g,e=n-o,O=s-v,U=C-g,K=d*d+R*R+c*c,_=K==0?.5:(e*d+O*R+U*c)/K;
return Math.max(0,Math.min(1,_))};j.cT.abK=function(I){};j.cT.ao_=function(I,k,a,n,s){var C=[],T=k-1,S=a-1;
for(var D=1;D<S;D++)for(var o=1;o<T;o++){var Y=D*k+o;if(I[Y]==n&&(I[Y-k-1]==s||I[Y-k]==s||I[Y-k+1]==s||(I[Y-1]==s||I[Y+1]==s)||(I[Y+k-1]==s||I[Y+k]==s||I[Y+k+1]==s)))C.push(Y)}return C};
j.Gh={};j.Gh.ae0=function(I,k,a,n,s){var C=a.Q,T=a._,S=C*T,D=j.Gh.atP,o=j.U(S*4),v;j.IP(o,4294967295);
var g=a,d=I,R=k,c=n;j.yv(I,o,0);v=j.tR(o,a);v=j.tR(v.GG,v.rect);g=v.rect;c=n>>>2;console.log(g,c);d=j.U(g.c());
j.Ez(v.GG,d,0);j.yv(k,o,0);v=j.tR(o,a);v=j.tR(v.GG,v.rect);R=j.U(g.c());j.Ez(v.GG,R,0);var e=j.Gh.abn(d,R,g,c,s),O=e[0],U=e[1],K=new eZ(0,0,g.Q*2,g._*2);
O=D(O,g,K,!0);O=D(O,K,a,!0);U=D(U,g,K,!0);U=D(U,K,a,!0);var _=j.U(S);for(var Y=0;Y<S;Y++)_[Y]=Math.max(0,Math.min(255,Math.floor(.5+(O[Y]*k[Y]+255*U[Y]))));
return _};j.Gh.ox=function(I,k,a,n){k.set(I);j.ox.awC(k,a,n)};j.Gh.atP=function(I,k,a,n){var s=a.Q,C=a._,T=k.Q,S=k._,D=j.Gh.AR,o=new Float32Array(s*C);
for(var v=0;v<S;v++){var g=(v+v)*s;for(var d=0;d<T;d++){if(!0||d==0||v==0||d==T-1||v==S-1)o[g]=o[g+1]=o[g+s]=o[g+s+1]=I[v*T+d];
else{o[g]=D(d+.25,v+.25,I,T,S);o[g+1]=D(d+.75,v+.25,I,T,S);o[g+s]=D(d+.25,v+.75,I,T,S);o[g+s+1]=D(d+.75,v+.75,I,T,S)}g+=2}}return o};
j.Gh.AR=function(I,k,a,n,s){I-=.499999;k-=.499999;var C=Math.floor(I),T=Math.floor(k),S=T*n+C,D=I-C,o=k-T,v=(1-o)*(1-D),g=(1-o)*D,d=o*(1-D),R=o*D;
if(a[S]==null||a[S+n+1]==null){console.log(I,k,n,s);throw"e"}return v*a[S+0]+g*a[S+1]+d*a[S+n+0]+R*a[S+n+1]};
j.Gh.abn=function(I,k,a,n,s){var C=a.Q,T=a._,S=C*T,D=j.Gh.a6D,o=j.Gh.U,v=j.Gh.ox,g=j.Gh.XT,k=D(k,S),I=D(I,S),d=o(S);
v(k,d,a,n);var R=o(S);v(I,R,a,n);var c=o(S);g(k,k,c);v(c,c,a,n);var e=o(S);g(k,I,e);v(e,e,a,n);var O=o(S),U=o(S);
for(var Y=0;Y<S;Y++){var K=d[Y],_=R[Y],Z=c[Y]-K*K,H=e[Y]-K*_,G=H/(Z+s),N=_-G*K;O[Y]=G;U[Y]=N}var z=o(S);
v(O,z,a,n);var L=o(S);v(U,L,a,n);return[z,L]};j.Gh.a8$=function(I,k,a,n,s){var C=a.Q,T=a._,S=C*T,D=j.Gh.atP,o=Date.now(),v=!1,g=a,d=I,R=k,c=n;
g=new eZ(0,0,C>>>2,T>>>2);c=n>>>2;d=j.Gh.aed(I,C,T);R=j.Gh.a8C(k,C,T);if(v)console.log(Date.now()-o);
o=Date.now();var e=j.Gh.aC1(d,R,g,c,s),O=e[0],U=e[1],K=e[2],_=e[3];if(v)console.log(Date.now()-o);o=Date.now();
var Z=j.U(S);for(var H=0;H<T;H++)for(var G=0;G<C;G++){var Y=H*C+G,N=(H>>>2)*(C>>>2)+(G>>>2),z=Y<<2,L=O[N]*k[z]+U[N]*k[z+1]+K[N]*k[z+2]+_[N]*255;
Z[Y]=Math.max(0,Math.min(255,~~(.5+L)))}if(v)console.log(Date.now()-o);o=Date.now();return Z};j.Gh.aed=function(I,k,a){var n=k>>>2,s=a>>>2,C=j.U(n*s);
for(var T=0;T<s;T++)for(var S=0;S<n;S++)C[T*n+S]=I[T*k+S<<2];return C};j.Gh.a8C=function(I,k,a){var n=k>>>2,s=a>>>2,C=j.U(n*s*4);
for(var T=0;T<s;T++)for(var S=0;S<n;S++){var D=T*n+S<<2,o=T*k+S<<4;C[D]=I[o];C[D+1]=I[o+1];C[D+2]=I[o+2];
C[D+3]=I[o+3]}return C};j.Gh.aC1=function(I,k,a,n,s){var C=a.Q,T=a._,S=C*T,D=j.Gh.a6D,o=j.Gh.U,v=j.Gh.ox,g=j.Gh.XT,I=D(I,S),d=new j.$n(C*T);
j.A0(k,d);var k=[D(d.$,S),D(d.H,S),D(d.J,S)],R=j.Gh.a0v(I,k,a,n,s),c=o(S);v(I,c,a,n);var e=o(S);g(k[0],I,e);
v(e,e,a,n);var O=o(S);g(k[1],I,O);v(O,O,a,n);var U=o(S);g(k[2],I,U);v(U,U,a,n);var K=o(S),_=o(S),Z=o(S),H=o(S);
for(var Y=0;Y<S;Y++){var G=c[Y],N=R.xc[Y],z=R.yH[Y],L=R.An[Y],p=e[Y]-N*G,V=O[Y]-z*G,r=U[Y]-L*G;K[Y]=R.a2X[Y]*p+R.JK[Y]*V+R.A2[Y]*r;
_[Y]=R.JK[Y]*p+R.an3[Y]*V+R.pq[Y]*r;Z[Y]=R.A2[Y]*p+R.pq[Y]*V+R.adP[Y]*r;H[Y]=G-K[Y]*N-_[Y]*z-Z[Y]*L}v(K,K,a,n);
v(_,_,a,n);v(Z,Z,a,n);v(H,H,a,n);return[K,_,Z,H]};j.Gh.a0v=function(I,k,a,n,s){var C=a.Q,T=a._,S=C*T,D=j.Gh.U,o=j.Gh.ox,v=j.Gh.XT,g={};
g.xc=D(S);o(k[0],g.xc,a,n);g.yH=D(S);o(k[1],g.yH,a,n);g.An=D(S);o(k[2],g.An,a,n);var d=D(S);v(k[0],k[0],d);
o(d,d,a,n);var R=D(S);v(k[0],k[1],R);o(R,R,a,n);var c=D(S);v(k[0],k[2],c);o(c,c,a,n);var e=D(S);v(k[1],k[1],e);
o(e,e,a,n);var O=D(S);v(k[1],k[2],O);o(O,O,a,n);var U=D(S);v(k[2],k[2],U);o(U,U,a,n);g.a2X=d;g.JK=R;
g.A2=c;g.an3=e;g.pq=O;g.adP=U;for(var Y=0;Y<S;Y++){var K=g.xc[Y],_=g.yH[Y],Z=g.An[Y],H=d[Y]-K*K+s,G=R[Y]-K*_,N=c[Y]-K*Z,z=e[Y]-_*_+s,L=O[Y]-_*Z,p=U[Y]-Z*Z+s,V=z*p-L*L,r=L*N-G*p,y=G*L-z*N,W=H*p-N*N,m=N*G-H*L,f=H*z-G*G,h=V*H+r*G+y*N,b=1/h;
g.a2X[Y]=V*b;g.JK[Y]=r*b;g.A2[Y]=y*b;g.an3[Y]=W*b;g.pq[Y]=m*b;g.adP[Y]=f*b}return g};j.Gh.U=function(I){return new Float32Array(I)};
j.Gh.a6D=function(I,k){var a=new Float32Array(k);for(var Y=0;Y<k;Y++)a[Y]=I[Y]*(1/255);return a};j.Gh.XT=function(I,k,a){for(var Y=0;
Y<I.length;Y++)a[Y]=I[Y]*k[Y]};j.cY={};j.cY.vU=function(I,k,a,n){var s=I[k]-a[n],C=I[k+1]-a[n+1],T=I[k+2]-a[n+2];
return Math.sqrt(s*s+C*C+T*T)*(1/441.7)};j.cY.getSelection=function(I,k,a){var n=k*a,s=j.U(n),C=!1,T=Math.round(a*.7),S=1,D=new Uint32Array(12),o=j.U(12);
for(var v=0;v<T;v++)for(var g=0;g<k;g++){if(g<S||v<S||g>k-S-1||v>a-S-1){var Y=v*k+g,d=Y<<2,R=0;if(v<S)R=4;
else if(g>k-S-1)R=8;D[R]+=I[d];D[R+1]+=I[d+1];D[R+2]+=I[d+2];D[R+3]++;s[Y]=255}}for(var Y=0;Y<12;Y+=4)for(var c=0;
c<3;c++)o[Y+c]=D[Y+c]/D[Y+3];var e=new Float32Array(n);for(var Y=0;Y<n;Y++){var d=Y*4,O=j.cY.vU(I,d,o,0),U=j.cY.vU(I,d,o,4),K=j.cY.vU(I,d,o,8),_=Math.max(O,Math.max(U,K));
e[Y]=O+U+K-_}j.cY.ih(e);var Z=Date.now(),H=new Float32Array(n),G=[],N=j.U(n);for(var Y=0;Y<3;Y++){j.Ez(I,N,Y);
var z=new Uint16Array(n);G.push(z);j.cY.alx(N,s,k,a,z)}if(C)console.log("MBD",Date.now()-Z);Z=Date.now();
for(var Y=0;Y<n;Y++)H[Y]=G[0][Y]+G[1][Y]+G[2][Y];j.cY.ih(H);for(var Y=0;Y<n;Y++)H[Y]+=.4*e[Y];var L=k>>>1,T=a>>>1,p=1/Math.sqrt(L*L+T*T);
for(var v=0;v<a;v++)for(var g=0;g<k;g++){var V=g-L,r=v-T,y=1-Math.sqrt(V*V+r*r)*p;H[v*k+g]*=y}if(C)console.log("Centeredness",Date.now()-Z);
Z=Date.now();for(var Y=0;Y<n;Y++)s[Y]=H[Y]*255;var W=Math.round(k/120),m=Math.round(W*.8);if(C)console.log(W,m);
j.lb.CH(s,s,k,a,W+W+1,!1);if(C)console.log("erosion",Date.now()-Z);Z=Date.now();for(var Y=0;Y<n;Y++)H[Y]=s[Y];
j.cY.ih(H);var f=j.U(256);for(var Y=0;Y<256;Y++)f[Y]=256/(1+Math.exp(-20*(Y/255-.5)));for(var Y=0;Y<n;
Y++){var h=~~(H[Y]*255+.5);s[Y]=f[h]}if(C)console.log("Simoid",Date.now()-Z);Z=Date.now();return s};
j.cY.ih=function(I){var k=I.length,a=0;for(var Y=0;Y<k;Y++)a=Math.max(a,I[Y]);var n=1/a;for(var Y=0;
Y<k;Y++)I[Y]=I[Y]*n};j.cY.alx=function(I,k,a,n,s){var C=a*n,T=I.slice(0),S=I.slice(0);for(var Y=0;Y<C;
Y++)s[Y]=k[Y]==255?0:65535;j.cY.a6z(I,S,T,s,a,n);j.cY.abr(I,S,T,s,a,n);j.cY.a6z(I,S,T,s,a,n);j.cY.abr(I,S,T,s,a,n);
return s};j.cY.a6z=function(I,k,a,n,s,C){for(var T=1;T<s;T++)j.cY.op(T,-1,I,k,a,n);for(var S=1;S<C;S++){j.cY.op(S*s,-s,I,k,a,n);
for(var T=1;T<s;T++){var Y=S*s+T;j.cY.op(Y,-1,I,k,a,n);j.cY.op(Y,-s,I,k,a,n)}}};j.cY.abr=function(I,k,a,n,s,C){for(var T=s-2;
T>=0;T--)j.cY.op(s*C-s+T,1,I,k,a,n);for(var S=C-2;S>=0;S--){j.cY.op(S*s+s-1,s,I,k,a,n);for(var T=s-2;
T>=0;T--){var Y=S*s+T;j.cY.op(Y,1,I,k,a,n);j.cY.op(Y,s,I,k,a,n)}}};j.cY.op=function(Y,I,k,a,n,s){var C=Y+I,T=k[Y],S=a[C],D=n[C];
if(S<T)S=T;else if(T<D)D=T;var o=S-D;if(s[C]!=65535&&o<s[Y]){s[Y]=o;a[Y]=S;n[Y]=D}};j.M_={};j.M_.filter=function(I,k,a,n){var s=k.Q,C=k._,T=s*C,S=n[0],D=n[1],o=n[2],v=n[3],g=n[4],d=n[5],R=n[6],c=Date.now(),e=new Float32Array(s*C*4);
j.M_.a78(I,s,C,e);var O=Math.ceil(S*Math.sqrt(-2*Math.log(.1))),U=new ArrayBuffer(T*4),K=new Float32Array(U),_=new Float32Array(T),Z=new Float32Array(T);
for(var Y=0;Y<T;Y++){var H=Y*4;K[Y]=e[H];_[Y]=e[H+1];Z[Y]=e[H+2]}j.ox.ZP(K,k,O*1/2.4,2);j.ox.ZP(_,k,O*1/2.4,2);
j.ox.ZP(Z,k,O*1/2.4,2);for(var Y=0;Y<T;Y++){var H=Y*4;e[H]=K[Y];e[H+1]=_[Y];e[H+2]=Z[Y]}var G=new Uint8Array(U);
for(var Y=0;Y<T;Y++){var H=Y*4,N=Y*4,K=e[H],_=e[H+1],Z=e[H+2],z=Math.sqrt((K-Z)*(K-Z)+4*_*_),L=(K+Z+z)*.5,p=(K+Z-z)*.5,V=p-Z,r=_,y=V*V+r*r;
if(y!=0){var W=Math.sqrt(y),m=1/W;V*=m;r*=m}G[N]=128+127*V;G[N+1]=128+127*r}var f=1.3*D+2,h=v*(2/10),b=I.slice();
if(dZ.QV){var i=new Float32Array([1/s,1/C]),w=dZ.Ec(0,s,C);w.set(b);var J=dZ.Ec(1,s,C);J.set(G);dZ.FL(w,k);
if(g){w.kv(k);dZ.filter.bl({type:dZ.filter.akT,JL:i,a1F:1/o,a4P:h},w.kC)}w.kv(k);dZ.filter.bl({type:dZ.filter.W0,v9:J.e9,JL:i,a7e:f,avy:2},w.kC);
if(g){w.kv(k);dZ.filter.bl({type:dZ.filter.a0p,JL:i,afz:new Float32Array(R),avM:d},w.kC)}w.get(a)}else{if(g)j.M_.bv(1/o,h,b,s,C);
j.M_.W0(b,a,G,s,C,f);if(g)j.M_.aiw(s,C,a,R,d)}var q=T*4;for(var Y=3;Y<q;Y+=4)a[Y]=I[Y]};j.M_.W0=function(I,k,a,n,s,C){var T=Math.ceil(2*C),S=-1/(2*C*C),D=[],o=1;
for(var Y=0;Y<T+20;Y++)D[Y]=Math.exp(Y*Y*S);var v=[0,0,0,0];for(var g=0;g<s;g++){for(var d=0;d<n;d++){var R=g*n+d,c=R*4,e=1,O=I[c],U=I[c+1],K=I[c+2],_=I[c+3],Z=(a[c]-128)*(1/127),H=(a[c+1]-128)*(1/127),G=Z,N=H,z=d==0?.51:.49,L=g==0?.51:.49;
for(var Y=0;Y<2;Y++){var p=d+z,V=g+L,r=0;while(r<T){if(p<.5||n-.5<p||V<.5||s-.5<V)break;var y=~~p,W=~~V,m=W*n+y,f=m*4,h=(a[f]-128)*(1/127),b=(a[f+1]-128)*(1/127);
if(h*G+b*N<0){h=-h;b=-b}G=h;N=b;p+=o*h;V+=o*b;if(p<.5||n-.5<p||V<.5||s-.5<V)break;var i=~~p,w=~~V,J=w*n+i<<2;
r+=o;var q=D[~~r];j.t.a8K(p,V,I,n,s,v);O+=v[0]*q;U+=v[1]*q;K+=v[2]*q;_+=v[3]*q;e+=q}G=-Z;N=-H}var x=1/e;
k[c]=~~(.5+O*x);k[c+1]=~~(.5+U*x);k[c+2]=~~(.5+K*x);k[c+3]=~~(.5+_*x)}}};j.M_.aiw=function(I,k,a,n,s){for(var C=0;
C<k;C++)for(var T=0;T<I;T++){var S=C*I+T<<2,D=1+j.M_.ap3(T,C,a,I,k,n)*s;a[S]=Math.max(0,Math.min(255,a[S]*D));
a[S+1]=Math.max(0,Math.min(255,a[S+1]*D));a[S+2]=Math.max(0,Math.min(255,a[S+2]*D))}};j.M_.ap3=function(I,k,a,n,s,C){var T=a[(k*n+Math.max(0,I-1))*4+3],S=a[(k*n+Math.min(n-1,I+1))*4+3],D=a[(Math.max(0,k-1)*n+I)*4+3],o=a[(Math.min(s-1,k+1)*n+I)*4+3],v=.7,g=(S-T)*(1/255),d=.7,R=(o-D)*(1/255),c=-g*d,e=-v*R,O=v*d,U=Math.sqrt(c*c+e*e+O*O),K=1/U,_=c*K,Z=e*K,H=O*K,G=C[0]*_+C[1]*Z+C[2]*H;
return G};j.M_.bv=function(I,k,a,n,s){function C(S,o,v){return Math.max(o,Math.min(v,S))}for(var T=0;
T<s;T++)for(var S=0;S<n;S++){var D=j.M_.ae7(S+.5,T+.5,I,k);a[(T*n+S)*4+3]=Math.max(0,Math.min(255,D*255))}};
j.M_.ae7=function(I,k,a,n){function s(N,z,L){return(1-L)*N+L*z}var C=(I+613)*a,T=(k+117)*a,S=~~C,D=~~T,o=C-S,v=T-D,g=Math.sin(11),d=Math.cos(S)*g,R=Math.cos(S+1)*g,c=Math.cos(D)*g,e=Math.cos(D+1)*g,bQ=j.M_.hash(d,c),O=j.M_.hash(R,c),U=j.M_.hash(d,e),K=j.M_.hash(R,e),_=s(bQ,O,o),Z=s(U,K,o),H=s(_,Z,v);
H=H<.5?0:1;var G=H+n*j.M_.hash(Math.cos(C)*g,Math.cos(T)*g);return G*(1/3)};j.M_.hash=function(I,k){var a=Math.sin(I*11.697096+k*73.32456)*12157.47691;
return a-Math.floor(a)};j.M_.a78=function(I,k,a,n){var s=[-1,0,1,-2,0,2,-1,0,1],C=[-1,-2,-1,0,0,0,1,2,1],T=k-1,S=a-1,D=k*4;
for(var o=1;o<S;o++)for(var v=1;v<T;v++){var Y=o*k+v,g=Y*4,d=j.M_.TD(I,g,D,s),R=j.M_.TD(I,g,D,C),c=j.M_.TD(I,g+1,D,s),e=j.M_.TD(I,g+1,D,C),O=j.M_.TD(I,g+2,D,s),U=j.M_.TD(I,g+2,D,C);
n[g]=d*d+c*c+O*O;n[g+1]=d*R+c*e+O*U;n[g+2]=R*R+e*e+U*U}j.M_.acV(n,k,a)};j.M_.TD=function(I,k,a,n){return I[k-a-4]*n[0]+I[k-a]*n[1]+I[k-a+4]*n[2]+I[k-4]*n[3]+I[k]*n[4]+I[k+4]*n[5]+I[k+a-4]*n[6]+I[k+a]*n[7]+I[k+a+4]*n[8]};
j.M_.acV=function(I,k,a){function n(D,Y,o){var v=Y*4,g=o*4;D[g]=D[v];D[g+1]=D[v+1];D[g+2]=D[v+2]}var s=k-1,C=a-1;
n(I,k+1,0);n(I,2*k-2,k-1);for(var T=1;T<s;T++)n(I,k+T,T);for(var S=1;S<C;S++){n(I,S*k+1,S*k);n(I,S*k+k-2,S*k+k-1)}for(var T=1;
T<s;T++)n(I,(a-2)*k+T,(a-1)*k+T);n(I,(S-2)*k+1,(S-1)*k);n(I,(S-1)*k-2,S*k-1)};j.Ql=function(){function I(o,v,g,d){var R=new Float32Array(o*o),c=o/2;
for(var e=0;e<o;e++)for(var O=0;O<o;O++){var U=O+g-c,K=e+d-c;R[e*o+O]=Math.max(0,Math.min(1,v+.5-Math.sqrt(U*U+K*K)))}return R}var k=[],n=null;
function a(o,v,g,d){var R=Math.floor(v*10),c=k[R],e=o*8,O=e>>>1;if(c==null){c=k[R]=[];var U=new eZ(0,0,e,e),K=o/2/(1+.2*v),_=Math.floor(o*R*.1);
for(var Z=0;Z<2;Z++)for(var H=0;H<2;H++){var G=I(e,K,.25+H*.5,.25+Z*.5),N=0;j.ox.ZP(G,U,_);while(G[e*O+N]<.005)N++;
if(N!=0)N--;var z=2*(O-N),L=new eZ(N,N,z,z),p=new Float32Array(z*z);for(var V=0;V<z;V++)for(var r=0;
r<z;r++)p[V*z+r]=G[(N+V)*e+N+r];c.push([p,L])}}var y=Math.floor(g),W=Math.floor(d),m=g-y,f=d-W,h=m<.5?1:0,b=f<.5?1:0;
c=c[b*2+h];var L=c[1].clone();L.x+=y-O;L.y+=W-O;return[c[0],L]}function s(o,v,g){if(n==null){n=new Uint8Array(4e4);
for(var Y=0;Y<4e4;Y++)n[Y]=Math.min(255,~~(.5+255*j.M1(Y*(1/255))))}var d=o.length;for(var Y=0;Y<d;Y++){var R=o[Y],c=~~(255*R);
v[Y]=n[c]<<24|g}}function C(o,v,g,d,R){var c=v.LU(d),e=Math.max(0,c.x-v.x),O=Math.max(0,c.x-d.x),U=Math.max(0,c.y-v.y),K=Math.max(0,c.y-d.y),_=c.Q,Z=c._;
for(var Y=0;Y<Z;Y++){var H=(U+Y)*v.Q+e,G=(K+Y)*d.Q+O;for(var N=0;N<_;N++){g[G+N]+=R*o[H+N]}}}var T=-1;
function S(o,v,g,d,R){var c=Math.round(d[1]*v*g*.01),e=d[2],O=d[3],U=d[4],K=d[5],_=d[6],Z=d[7],H=d[8],G=d[9],N=d[10]?d[10]:1,q=!1;
if(e!=T){k=[];T=e}var z=Date.now(),L=new eZ(0,0,v,g),p=new D(d[0]);if(R)o.fill(0);var V=new Float32Array(R?o.buffer:v*g);
for(var Y=0;Y<c;Y++){var r=p.get()*v,y=p.get()*g,W=p.get()*O,m=p.get()*e*4,f=(p.get()+_)*Math.PI*2,h=p.get()*e*4,b=(p.get()+2*_)*Math.PI*2;
r+=G*(m*Math.cos(f)+h*Math.cos(b));y+=G*(m*Math.sin(f)+h*Math.sin(b));if(H)y=y+_*g*N;var i=a(e,W,r,y%g),w=U,J=p.get();
if(Z)w=.5+.5*U*(.5+.5*Math.sin((2*_+J)*2*Math.PI));C(i[0],i[1],V,L,w)}if(q)console.log(Date.now()-z,"add floats");
z=Date.now();var x=new Uint8Array(V.buffer);s(V,new Uint32Array(x.buffer),K.J<<16|K.H<<8|K.$);if(q)console.log(Date.now()-z,"toInt");
z=Date.now();if(!R){j.z.Pf("scrn",x,L,o,L,L,1);if(q)console.log(Date.now()-z,"blendOver")}}function D(o){this.mh=123456789;
this.fG=987654321;this.u=4294967295;this.uN(o)}D.prototype.uN=function(Y){this.mh=123456789+Y&this.u;
this.fG=987654321-Y&this.u};D.prototype.get=function(){this.fG=36969*(this.fG&65535)+(this.fG>>16)&this.u;
this.mh=18e3*(this.mh&65535)+(this.mh>>16)&this.u;var o=(this.fG<<16)+(this.mh&65535)>>>0;o/=4294967296;
return o};return{yC:S}}();j.uA={};j.uA.AO=function(I,k,a,n){var s=I[k*2],C=I[k*2+1],T=I[a*2],S=I[a*2+1],D=I[n*2],o=I[n*2+1];
return s*S+T*o+D*C-D*S-T*C-s*o};j.uA.aep=function(I,k){var a=[],n=[],s=[],C={};for(var Y=0;Y<k.length;
Y+=3){var T=~~(Y*(1/3)),S=k[Y+0],D=k[Y+1],o=k[Y+2],v=j.uA.AO(I,S,D,o);if(v>0){var g=D;D=o;o=g}var d=C[o+"-"+D],R=C[D+"-"+S],c=C[S+"-"+o],e=[o,d,T,null],O=[D,R,T,e],U=[S,c,T,O];
e[3]=U;if(d)d[1]=e;if(R)R[1]=O;if(c)c[1]=U;C[o+"-"+S]=U;C[S+"-"+D]=O;C[D+"-"+o]=e;a[S]=O;s[Y]=O;a[D]=e;
s[Y+1]=e;a[o]=U;s[Y+2]=U;n[T]=O}return{wd:a,NO:n,XF:s}};j.uA.amy=function(I){var k=[],a=I.NO;for(var Y=0;
Y<a.length;Y++){var n=a[Y];k.push(n[0]);n=n[3];k.push(n[0]);n=n[3];k.push(n[0])}return k};j.uA.a70=function(I,k,a,n){var s=I[k*2],C=I[k*2+1],T=I[a*2],S=I[a*2+1],D=I[n*2],o=I[n*2+1],v=T-s,g=S-C,d=D-s,R=o-C,c=v*(s+T)+g*(C+S),e=d*(s+D)+R*(C+o),O=2*(v*(o-S)-g*(D-T));
if(Math.abs(O)<1e-5){var U=Math.min(s,T,D),K=Math.min(C,S,o),_=(Math.max(s,T,D)-U)*.5,Z=(Math.max(C,S,o)-K)*.5;
return[U+_,K+Z,_*_+Z*Z,1]}var H=(R*c-g*e)/O,G=(v*e-d*c)/O,_=H-s,Z=G-C;return[H,G,_*_+Z*Z,0]};j.uA.auB=function(I,k,a){var n=a[1],s=a[3],C=s[3],T=n[3],S=T[3],D=a[2],o=n[2],v=a[0],g=n[0],d=s[0],R=T[0],c=j.uA.a70(I,g,R,d),e=I[v*2]-c[0],O=I[v*2+1]-c[1],U=e*e+O*O>c[2]&&c[3]==0&&j.uA.AO(I,R,v,d)<0&&j.uA.AO(I,d,g,R)<0;
if(U){a[0]=d;n[0]=R;a[3]=C;C[3]=T;T[3]=a;n[3]=S;S[3]=s;s[3]=n;s[2]=o;T[2]=D;k.NO[o]=S;k.NO[D]=C;k.wd[g]=T;
k.wd[v]=s}return U};j.uA.ae1=function(I,k,a){var n=I[k*2]-I[a*2],s=I[k*2+1]-I[a*2+1];return Math.sqrt(n*n+s*s)};
j.uA.afW=function(I,k,a){var n=a[1],s=a[3],C=s[3],T,S,D=a[2],o,v=a[0],g=C[0],d=s[0],R;if(n){T=n[3];S=T[3];
o=n[2];R=T[0]}var c=I.length>>>1;I[2*c]=(I[2*g]+I[2*v])*.5;I[2*c+1]=(I[2*g+1]+I[2*v+1])*.5;if(!0){var e=D,O=a,U=k.NO.length,K=[c,null,e,O],_=[d,K,U,C];
K[1]=_;var Z=[c,null,U,_];s[3]=K;C[3]=Z;C[2]=U;k.NO[e]=s;k.NO[U]=Z;k.wd[v]=s;k.wd[d]=C;k.XF.push(K,_,Z)}if(n){var H=o,G=n,N=U+1;
Z[1]=G,G[1]=Z;var z=[c,null,H,G],L=[R,z,N,S];z[1]=L;var p=[c,O,N,L];O[1]=p;T[3]=z;S[3]=p;S[2]=N;k.NO[H]=T;
k.NO[N]=S;k.wd[g]=T;k.wd[R]=S;k.XF.push(z,L,p)}k.wd[c]=O};j.uA.adh=function(I,k){var a=0;while(!0){var n=a;
for(var Y=0;Y<k.XF.length;Y++){var s=k.XF[Y];if(s[1]==null)continue;var C=j.uA.auB(I,k,s);if(C){a++;
break}}if(n==a)break}return a!=0};j.uA.aa3=function(I,k,a,n){var s=0;for(var Y=0;Y<n;Y++){var C=null,T=0;
for(var S=0;S<k.XF.length;S++){var D=k.XF[S],o=j.uA.ae1(I,D[0],D[3][3][0])*(D[1]?1:2);if(o>T){C=D;T=o}}if(T>a){j.uA.afW(I,k,C);
s++}}return s!=0};j.uA.a7I=function(I,k){var a=[],d=0;for(var Y=0;Y<I.length;Y++)a.push(0);for(var Y=0;
Y<k.XF.length;Y++){var n=k.XF[Y],s=n[0],C=n[3][3][0],T=I[s*2],S=I[s*2+1],D=I[C*2],o=I[C*2+1],v=T-D,g=S-o;
a[s*2]+=-v;a[s*2+1]+=-g;a[C*2]+=v;a[C*2+1]+=g}for(var Y=0;Y<I.length;Y+=2){var R=Y>>>1,c=k.wd[R],n=c,e=!0;
do{if(n[1]==null){e=!1;break}n=n[1][3]}while(n!=c);if(e){var O=.02;I[Y]+=O*a[Y];I[Y+1]+=O*a[Y+1];d+=O*(a[Y]*a[Y]+a[Y+1]*a[Y+1])}}return d};
j.uA.acs=function(I,k,a){var n=j.X.TO(I),s=j.uA.aep(I,k);j.uA.adh(I,s);for(var C=0;C<300;C++){var T=!1,S=!1;
T=j.uA.aa3(I,s,a,5);if(T)S=j.uA.adh(I,s);var D=j.uA.a7I(I,s);if(!T&&!S&&D<1e-4){break}}return j.uA.amy(s)};
j.IQ={};j.IQ.az4=function(I){var k=I.GH,a=I.wv,n=I.y9,s=I.Ps,C=I.jz,T=I.Ht,S=I.TI,D=j.Ce.ws,K,_,Z=0;
function o(bQ){var b$=new Array(bQ);for(var Y=0;Y<bQ;Y++)b$[Y]=0;return b$}var v=a.length>>>1,g=o(k.JW*2),d=o(k.JW),R=o(k.JW),c=Date.now();
for(var Y=0;Y<I.Kt.length;Y++){var e=k.ahH+Y,O=k.Qq*(T[Y*2]+S[Y*2]),U=k.Qq*(T[Y*2+1]+S[Y*2+1]);g[e*2]=O;
g[e*2+1]=U;d[e]=O;R[e]=U}k.ahM.az(s,k.ahg.ws(g),.01,K,_);for(var Y=0;Y<k.a4I.XF.length;Y++){var H=k.a4I.XF[Y],G=H[3][3][0],N=H[0],z=H[3][0],L=H[1]?H[1][3][0]:z;
if(H[1]&&G>N)continue;var p=a[G*2],V=a[G*2+1],r=a[N*2],y=a[N*2+1],W=s[G*2],m=s[G*2+1],f=s[N*2],h=s[N*2+1],b=s[z*2],i=s[z*2+1],w=s[L*2],J=s[L*2+1],q=[W,m,f,h,b,i];
if(H[1])q.push(w,J);var x=D(k.aD7[Z],q),A=x[0],Q=x[1],B=1/Math.sqrt(A*A+Q*Q);A*=B;Q*=B;var l=r-p,P=y-V;
d[Z]=A*l+Q*P;R[Z]=-Q*l+A*P;Z++}var F=new Array(v),t=new Array(v);for(var Y=0;Y<v;Y++){F[Y]=C[Y*2];t[Y]=C[Y*2+1]}k.aDr.az(F,k.aeq.ws(d),.5);
k.aDr.az(t,k.aeq.ws(R),.5);for(var Y=0;Y<v;Y++){C[Y*2]=F[Y];C[Y*2+1]=t[Y]}};j.IQ.a6a=function(I){var k=I.wv,a=I.y9,n=I.Kt,s=j.Ce.multiply,C=Date.now(),T=j.uA.aep(k,a),S=k.length>>>1,D=0,c=0,Q=1e3;
for(var Y=0;Y<T.XF.length;Y++)D+=T.XF[Y][1]?.5:1;var o=D+n.length,v=[],g=new j.DP(o*2,S*2),d=new j.DP(o,S),R=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],e=[],O=[];
for(var Y=0;Y<T.XF.length;Y++){var U=T.XF[Y],K=U[3][3][0],_=U[0],Z=U[3][0],H=U[1]?U[1][3][0]:Z;if(U[1]&&K>_)continue;
var G=k[K*2],N=k[K*2+1],z=k[_*2],L=k[_*2+1],p=k[Z*2],V=k[Z*2+1],r=k[H*2],y=k[H*2+1],W=[[G,N,1,0],[N,-G,0,1],[z,L,1,0],[L,-z,0,1],[p,V,1,0],[V,-p,0,1]];
if(U[1])W.push([r,y,1,0],[y,-r,0,1]);var m=j.Ce.wZ(W),f=s(linear.invert(s(m,W)),m);f.pop();f.pop();v.push(f);
var h=z-G,b=L-N,i=R[U[1]?1:0];i=j.Ce.Sm(i,s([[h,b],[b,-h]],f));var w=[K*2,K*2+1,_*2,_*2+1,Z*2,Z*2+1,H*2,H*2+1],J=U[1]?8:6,q=[];
for(var x=0;x<J;x++)q.push([w[x],i[0][x],i[1][x]]);q.sort(function(b$,hd){return b$[0]-hd[0]});for(var A=0;
A<2;A++){for(var x=0;x<J;x++){e[x]=q[x][0];O[x]=q[x][1+A]}g.vp(O,e,J)}if(K<_)d.vp([-1,1],[K,_],2);else d.vp([1,-1],[_,K],2);
c++}for(var Y=0;Y<n.length;Y++){var B=n[Y];g.vp([Q],[B*2],1);g.vp([Q],[B*2+1],1);d.vp([Q],[B],1)}var l=g.wZ(),P=l.vi(l),F=d.wZ(),t=F.vi(F);
return{ahH:D,JW:o,ahg:l,ahM:P,aeq:F,aDr:t,a4I:T,aD7:v,Qq:Q}};j.IQ.acb=function(I,k,a,n,s){var C=new eZ(0,0,k,a),T=j.U(C.c());
j.Ez(I,T,3);j.round(T,70);var S=j.PD(T,C),D=[.1,.065,.035][n]*Math.max(S.Q,S._),o=s+1,v=k+o*2,g=a+o*2,d=new eZ(-o,-o,v,g),R=j.U(d.c());
j.O0(T,C,R,d);var c=R.slice(0);for(var e=0;e<s;e++){for(var O=1;O<g-1;O++){for(var U=1;U<v-1;U++){var Y=O*v+U;
c[Y]=R[Y-v]|R[Y-1]|R[Y]|R[Y+1]|R[Y+v]}}var K=c;c=R;R=K}var _=id.CG(R,v,g,Math.round(S.c()*5e-4)),Z=id.iQ(_),H=new dc(1,0,0,1,-o,-o);
for(var Y=0;Y<Z.length;Y++){var G=Z[Y];j.X.h(G.path.s,H,G.path.s);G.wv=j.IQ.ar$(G.path);G.y9=j.X.aqz(G.wv);
G.y9=j.uA.acs(G.wv,G.y9,D)}return Z};j.IQ.ar$=function(I){var k=[],a=I.s,n=I.m.length-1,s=0,C=0;for(var T=0;
T<n;T++){var Y=T*6,S=a[Y+6]-a[Y+0],D=a[Y+7]-a[Y+1],o=Math.ceil(Math.sqrt(S*S+D*D));for(var v=0;v<o;v++){var g=v/o,d=1-g,R=d*d*d*a[Y+0]+3*d*d*g*a[Y+2]+3*d*g*g*a[Y+4]+g*g*g*a[Y+6],c=d*d*d*a[Y+1]+3*d*d*g*a[Y+3]+3*d*g*g*a[Y+5]+g*g*g*a[Y+7];
k.push(R,c);s=R;C=c}}k=j.X.aia(k,1);var e=[],O=k.length;for(var Y=0;Y<O;Y+=2){var c=k.pop(),R=k.pop();
e.push(R,c)}return e};j.IQ.a6v=function(I,k,a,n){function s(z,L,p,V,r){var y=r[z*2]-r[L*2],W=r[z*2+1]-r[L*2+1],m=Math.sqrt(y*y+W*W);
if(p[z].indexOf(L)==-1){p[z].push(L);V[z].push(m)}if(p[L].indexOf(z)==-1){p[L].push(z);V[L].push(m)}}var C=I.length>>>1,T=new Array(C);
if(a.length==0){T.fill(0);return T}var S=new Array(C),D=new Array(C);for(var Y=0;Y<C;Y++){S[Y]=[];D[Y]=[]}for(var Y=0;
Y<k.length;Y+=3){s(k[Y],k[Y+1],S,D,I);s(k[Y],k[Y+2],S,D,I);s(k[Y+1],k[Y+2],S,D,I)}var o=new Float64Array(C*2),v=new Uint32Array(C*2);
o.fill(1e9);var g=new Uint8Array(C);for(var d=0;d<a.length;d++){g.fill(0);var R=["---",[0,a[d]]];while(R.length!=1){var c=j.ad3.ik(R),e=c[0],O=c[1];
if(g[O]==1)continue;var U=O<<1;if(e<o[U]){o[U+1]=o[U];v[U+1]=v[U];o[U]=e;v[U]=d}else if(e<o[U+1]){o[U+1]=e;
v[U+1]=d}g[O]=1;var K=S[O],_=D[O];for(var Y=0;Y<K.length;Y++){var Z=K[Y];if(g[Z]!=1){j.ad3.QO(R,[e+_[Y],Z])}}}}for(var Y=0;
Y<C;Y++){var U=Y<<1,H=o[U],G=o[U+1],N=1/(H+G);T[Y]=(1-H*N)*n[v[U]]+(1-G*N)*n[v[U+1]]}return T};j.IQ.anZ=function(I){var k={m:[],s:[]},a=[I];
while(a.length!=0){var n=a.pop(),s=n.UL;if(n.akv instanceof Array||n.a9Y instanceof Array){k.m.push("M","L","L","L","Z");
k.s.push(s[0],s[1],s[2],s[1],s[2],s[3],s[0],s[3])}else a.push(n.akv,n.a9Y)}return k};j.IQ.Pz=function(I,k,a,n,s,C,T,S,D,o,v){var g=Math.round(o.length/3),d=new Array(g);
for(var Y=0;Y<g;Y++)d[Y]=Y;d.sort(function(c,e){return D[o[c*3]]-D[o[e*3]]});for(var Y=0;Y<g;Y++){var R=d[Y]*3;
j.IQ.awf(o[R]*2,o[R+1]*2,o[R+2]*2,T,S,I,k,a,n,s,C,v)}};j.IQ.awf=function(I,k,a,n,s,C,T,S,D,o,v,g){var d=[I,k,a,1.2,1.2,1.2,0],R=[0,0,0,0],c=s[I],e=s[I+1],O=s[k],U=s[k+1],K=s[a],_=s[a+1],Z=O-c,H=U-e,G=K-c,N=_-e,z=Z*N-G*H+1e-9,L=1/z,p=Math.max(0,Math.min(T-1,n[I])),V=Math.max(0,Math.min(T-1,n[k])),r=Math.max(0,Math.min(T-1,n[a])),y=Math.max(0,Math.min(S-1,n[I+1])),W=Math.max(0,Math.min(S-1,n[k+1])),m=Math.max(0,Math.min(S-1,n[a+1])),f=c<O?c<K?I:a:O<K?k:a,h=s[f+1]+.5,b=Math.max(0,Math.floor(Math.min(c,O,K))),i=Math.min(o,Math.ceil(Math.max(c,O,K))),w=Math.max(0,Math.floor(Math.min(e,U,_))),J=Math.min(v,Math.ceil(Math.max(e,U,_))),q=1e9;
for(var x=w;x<J;x++){var A=x>h&&q!=1e9?q:b;q=1e9;for(var Q=A;Q<i;Q++){var B=Q+.5-c,l=x+.5-e,P=(B*N-G*l)*L,F=(Z*l-B*H)*L;
if(P>=0&&F>=0&&P+F<=1){if(q==1e9)q=Q;var t=1-P-F,b$=p*t+V*P+r*F,hd=y*t+W*P+m*F;if(g){var di=Math.floor(.5+hd)*T+Math.floor(.5+b$),hD=di<<2,a$=x*o+Q<<2;
D[a$]=C[hD];D[a$+1]=C[hD+1];D[a$+2]=C[hD+2];D[a$+3]=C[hD+3]}else{j.t.a8K(b$,hd,C,T,S,R);j.IQ.a2q(R,D,x*o+Q<<2)}}else if(q!=1e9)break}}};
j.IQ.a2q=function(I,k,a){if(I[3]>250){k[a]=~~(.5+I[0]);k[a+1]=~~(.5+I[1]);k[a+2]=~~(.5+I[2]);k[a+3]=~~(.5+I[3])}else{var n=k[a],s=k[a+1],C=k[a+2],T=k[a+3],S=1-I[3]*(1/255);
k[a]=~~(.5+I[0]+n*S);k[a+1]=~~(.5+I[1]+s*S);k[a+2]=~~(.5+I[2]+C*S);k[a+3]=~~(.5+I[3]+T*S)}};j.IQ.aeX=function(){var I=function(a,n,s,C){var T=C[0],S=C[1],D=C[2],o=a[T+0],v=a[T+1],g=a[S+0],d=a[S+1],R=a[D+0],c=a[D+1],e=g-o,O=d-v,U=R-o,K=c-v,_=n-o,Z=s-v,H=e*K-U*O,G=1/(H+1e-9),N=(_*K-U*Z)*G,z=(e*Z-_*O)*G;
if(N>=0&&z>=0&&N+z<=1){C[3]=1-N-z;C[4]=N;C[5]=z;return 1}return 0},k=function(a,n,s,C){var T=[0,0,0,0,0,0];
for(var Y=0;Y<n.length;Y+=3){T[0]=n[Y]*2;T[1]=n[Y+1]*2;T[2]=n[Y+2]*2;if(I(a,s,C,T)==1)return!0}return!1};
return{ag1:I,av7:k}}();j.NN={};j.NN.avo=function(I,k,a,n){I=I.slice(0);if(n)j.yv(n,I,3);else for(var Y=0;
Y<I.length;Y+=4)I[Y+3]=0;var s=j.U(k*a*4),C=!1;j.t.F$(I,k,a,s,[a,k,0,1,0,1,0,0]);return[j.NN.Tg(I,k,a,C),j.NN.Tg(s,a,k,C)]};
j.NN.h=function(I,k){var a=!1,n=I[0],s=I[1],C=n[1],T=n[2],S=n[3],D=k.Q,o=k._;if(T==D&&S==o)C=C.slice(0);
else if(S!=o){var v=j.U(T*o*4);j.NN.XB(s,o,v,a);C=j.U(T*o*4);j.t.F$(v,o,T,C,[T,o,0,1,0,1,0,0]);if(T!=D){n=j.NN.Tg(C,T,o,a);
C=j.U(D*o*4);j.NN.XB(n,D,C,a)}}else if(T!=D){C=j.U(D*S*4);j.NN.XB(n,D,C,a)}for(var Y=0;Y<C.length;Y+=4)C[Y+3]=255;
return C};j.NN.Tg=function(I,k,a,n){var s=Date.now(),C=new Uint16Array(k*a),o=1;j.NN.ae6(I,k,a,C);var T=j.U(k*a);
j.Ez(I,T,3);for(var S=0;S<a;S++)for(var D=0;D<k;D++)C[S*k+D]+=Math.floor((65535-C[S*k+D])*T[S*k+D]*(1/255));
var v=Math.ceil(k/o),g=new Uint32Array(o),d=new Uint32Array(o),v=Math.floor(k/o);for(var R=0;R<o;R++)d[R]=R<o-1?v:k-(o-1)*v;
for(var S=0;S<a;S++){var Y=S*k;for(var R=0;R<o;R++){var v=d[R];for(var D=0;D<v;D++)g[R]+=C[Y+D];Y+=v}}if(n){console.log(Date.now()-s,"cost");
s=Date.now()}var c=new Uint32Array(k),e=new Uint32Array(k),O=new Uint32Array(k*a);for(var D=0;D<k;D++){O[(a-1)*k+D]=C[(a-1)*k+D]}for(var S=a-2;
S>=0;S--){var U=S*k;for(var R=0;R<o;R++){var v=d[R];O[U]=C[U]+Math.min(O[U+k],O[U+k+1]);for(var D=1;
D<v-1;D++){var Y=U+D;O[Y]=C[Y]+Math.min(O[Y+k-1],Math.min(O[Y+k],O[Y+k+1]))}U+=v-1;O[U]=C[U]+Math.min(O[U+k-1],O[U+k]);
U++}}if(n){console.log(Date.now()-s,"Building M");s=Date.now()}function K(r,y){return r<y?r:y}function _(Y,r){var y=e[Y],W=O[r],m=~~(y*W*1e-4);
return m}var Z=new Uint8Array(k*a),H=new Uint32Array(k);for(var Y=0;Y<k;Y++){c[Y]=Y;e[Y]=C[Y]}for(var S=1;
S<a;S++){var G=0,U=S*k;for(var R=0;R<o;R++){var v=d[R],Y=U;H[G]=_(G,Y);var N=H[G]+_(G+1,Y+1),z=_(G,Y+1)+_(G+1,Y);
H[G+1]=K(N,z);for(var D=2;D<v;D++){var Y=U+D,L=H[G+D-1]+_(G+D-1,Y-1),p=H[G+D-2]+_(G+D-1,Y-2)+_(G+D-2,Y-1);
H[G+D]=K(L,p)}var D=v-1;while(D>=2){var Y=U+D,L=H[G+D-1]+_(G+D-1,Y-1),p=H[G+D-2]+_(G+D-1,Y-2)+_(G+D-2,Y-1);
if(H[G+D]==L){Z[Y-k]=1;D-=1}else{Z[Y-k]=0;Z[Y-k-1]=2;D-=2}}var Y=U;if(D==0){Z[Y-k]=1}else{if(H[G+1]==N){Z[Y+1-k]=1;
Z[Y-k]=1}else{Z[Y+1-k]=0;Z[Y-k]=2}}U+=v;G+=v}j.NN.agS(S,k,Z,C,c,e,!0,s)}if(n){console.log(Date.now()-s,"Matching");
s=Date.now()}var V=C;return[UZIP.adler(I,0,I.length),I,k,a,o,d,g,c,e,Z,V]};j.NN.XB=function(I,k,a,n){var s=I.slice(0),C=s.shift(),T=s.shift(),S=s.shift(),D=s.shift(),o=s.shift(),v=s.shift(),g=s.shift(),d=s.shift(),R=s.shift().slice(0),c=s.shift(),e=s.shift(),O=Date.now(),U=Math.abs(S-k),K=Math.floor(U/o),_=new Uint32Array(o),H=0,G=1e9,z=0,L=0,p=0;
for(var Z=0;Z<o;Z++)_[Z]=Z<o-1?K:U-(o-1)*K;e.fill(0);for(var N=0;N<S;N++){H=Math.max(H,R[N]);G=Math.min(G,R[N])}for(var Z=0;
Z<o;Z++){var V=v[Z],K=_[Z];for(var r=0;r<K;r++){var y=0,W=1e9;for(var N=0;N<V;N++)if(R[L+N]<W){W=R[L+N];
y=L+N}if(k<S)R[y]=1e9;else R[y]*=1.2;if(p<S/3)z+=W;var m=d[y],f=e[m],h=f<65280?65280:f+1;if(h<65280)throw"e";
for(var b=0;b<D;b++){var Y=b*S+m;e[Y]=h;m+=c[Y]-1}p++}L+=V}if(n){console.log(Date.now()-O,"Removing best seams");
O=Date.now()}function i(Y,J){var q=Y<<2,x=J<<2;a[q]=T[x];a[q+1]=T[x+1];a[q+2]=T[x+2];a[q+3]=T[x+3]}for(var b=0;
b<D;b++){var w=0,Y=b*S;for(var N=0;N<k;N++,w++){if(k<S){while(e[Y+w]==65280)w++;i(b*k+N,b*S+w)}else{i(b*k+N,b*S+w);
while(e[Y+w]>=65280){e[Y+w]--;N++;i(b*k+N,b*S+w)}}}}if(n){console.log(Date.now()-O,"Shifting image pixels");
O=Date.now()}};j.NN.agS=function(I,k,a,n,s,C){var T=0,Y=I*k;while(T<k){if(a[Y-k]==1){C[T]=C[T]+n[Y];
T++;Y++}else{var S=s[T];s[T]=s[T+1];s[T+1]=S;var D=C[T];C[T]=C[T+1]+n[Y];C[T+1]=D+n[Y+1];T+=2;Y+=2}}};
j.NN.ae6=function(I,k,a,n){function s(I,Y,D){var g=Y<<2,d=D<<2,R=I[g]-I[d],c=I[g+1]-I[d+1],e=I[g+2]-I[d+2];
return Math.abs(R)+Math.abs(c)+Math.abs(e)}for(var C=1;C<k;C++){var T=s(I,C,C-1);n[C-1]+=T;n[C]+=T}for(var S=1;
S<a;S++){var D=S*k,T=s(I,D,D-k);n[D]+=T;n[D-k]+=T;for(var C=1;C<k;C++){var Y=S*k+C,o=s(I,Y,Y-1),v=s(I,Y,Y-k);
n[Y-k]+=v;n[Y-1]+=o;n[Y]+=v+o}}for(var S=0;S<a;S++){n[S*k]*=2;n[S*k+k-1]*=2}for(var Y=0;Y<n.length;Y++)if(n[Y]==0)n[Y]=1};
j.cy=function(){function I(){return 1953e6+Math.floor(Math.random()*999999)}function k(W,m){var f=m[0]-W[0],h=m[1]-W[1];
return f*f+h*h}function a(W,m,f,h,b,i,w,J){var q=f-W,x=h-m,A=j.X.ZO(W,m,q,x,b,i,w-b,J-i),Q=[W+A*q,m+A*x],B=A>0?[[[W,m],Q,!1,0,1],[[b,i],Q,!1,0,5]]:[[[f,h],Q,!1,0,1],[[w,J],Q,!1,0,5]];
return B}function n(W,m){var f=a(W[0],W[1],W[2],W[3],W[6],W[7],W[4],W[5]),h=a(W[0],W[1],W[6],W[7],W[2],W[3],W[4],W[5]),b=[f,h],i=[f[0][1],h[0][1]];
for(var Y=0;Y<2;Y++){var w=i[1-Y],J=b[Y];if(k(J[0][0],w)<k(J[1][0],w)){var q=J[0];J[0]=J[1];J[1]=q}}var x=[I(),0,-1,0,[0,0],f[0],f[1],h[0],h[1]],A=H(x,m),Q=A[1][0];
x[3]=Q;x[4]=A[0][Q];x[5][3]=x[6][3]=A[0].indexOf(x[5][1]);x[7][3]=x[8][3]=A[0].indexOf(x[7][1]);if((x[6][3]+1)%3!=x[7][3]){var q=x[5];
x[5]=x[7];x[7]=q;var q=x[6];x[6]=x[8];x[8]=q}for(var Y=0;Y<4;Y++)x[5+Y][4]=[1,5,7,3][Y];return x}function s(W){var m=W[5],f=W[8],h=W[6],b=m[0],i=f[0],w=h[0],J=m[1],q=f[1],x=i[0],A=i[1],Q=q[0]-x,B=q[1]-A,l=j.X.ZO(x,A,Q,B,w[0],w[1],J[0]-w[0],J[1]-w[1]);
return[b[0],b[1],x,A,x+l*Q,A+l*B,w[0],w[1]]}function C(W,m){return W[0]==m[0]&&W[1]==m[1]}function T(W){return{1:0,5:1,7:2,3:3}[W]}function S(W,m,f){var h=m[5+T(W)],b=h[1],i=h[0][0]-b[0],w=h[0][1]-b[1],J=Math.sqrt(i*i+w*w);
i/=J;w/=J;for(var q=0;q<f.length;q++){var x=f[q];if(x[0]!=m[1]&&x[1]!=m[0])continue;for(var Y=0;Y<4;
Y++){var A=x[5+Y],Q=A[0];if(!C(b,A[1]))continue;var B=Q[0]-b[0],l=Q[1]-b[1];J=Math.sqrt(B*B+l*l);B/=J;
l/=J;var P=B*i+l*w;if(Math.abs(P-1)<1e-7)return!0}}return!1}function D(W,m){j.t.h(W,m);return m}function o(W,m){var f=[];
for(var h=0;h<W.length;h++){var b=W[h],i=b[1];for(var w=0;w<i.length;w++){if(m&&m[h].indexOf(w)==-1)continue;
var J=i[w],q=[],x=j.t.UX(s(J),new eZ(0,0,1,1));for(var Y=1;Y<=7;Y+=2){q[Y]=S(Y,J,i)}if(!q[1]){if(!q[7])f.push([D(x,[0,0]),h,w,0]);
f.push([D(x,[.5,0]),h,w,1])}if(!q[3]){if(!q[1])f.push([D(x,[1,0]),h,w,2]);f.push([D(x,[1,.5]),h,w,3])}if(!q[5]){if(!q[3])f.push([D(x,[1,1]),h,w,4]);
f.push([D(x,[.5,1]),h,w,5])}if(!q[7]){if(!q[5])f.push([D(x,[0,1]),h,w,6]);f.push([D(x,[0,.5]),h,w,7])}}}return f}function v(W){var m=W.length-2,f=0;
for(var Y=0;Y<m;Y+=2)f+=(W[Y+2]-W[Y])*(W[Y+1]+W[Y+3]);f+=(W[0]-W[m])*(W[m+1]+W[1]);return-f*.5}function g(W,m,f,h){}function d(W,Y){var m=W[Y+2&7]-W[Y&7],f=W[Y+3&7]-W[Y+1&7],h=1/Math.sqrt(m*m+f*f);
return[m*h,f*h]}function R(W){var m=W[2];W[2]=W[6];W[6]=m;var m=W[3];W[3]=W[7];W[7]=m}function c(W,m,f,h){if(h==null)h=0;
var b=m[1],i=s(m),l=null,P,hd,di,jw,iT,B,gY;if(b==0){if(v(i)<0)R(i);var w=6,J=i[7]+i[1];for(var Y=0;
Y<6;Y+=2){var q=i[Y+1]+i[Y+3];if(q<J){J=q;w=Y}}i=i.slice(w).concat(i.slice(0,w));var x=E.Zo.Y9(i,f[0],f[1]),A=Math.sqrt(k(i,i.slice(2))),Q=Math.sqrt(k(i.slice(4),i.slice(6))),B=(A+Q)*.5;
return[i,new eZ(0,0,B,B/x)]}for(var Y=0;Y<W.length&&l==null;Y++){P=W[Y][1];for(var F=0;F<P.length&&l==null;
F++)if(P[F][0]==b)l=P[F]}var t=c(W,l,f,h+1),b$=t[0];t=t[1];for(var Y=0;Y<8;Y+=2){var hD=b$[Y&7],a$=b$[Y+1&7],eJ=b$[Y+2&7],hY=b$[Y+3&7];
for(var F=0;F<8;F+=2){var ik=i[F],fw=i[F+1],jb=i[F+2&7],cd=i[F+3&7],dN=Math.abs(j.X.o1(hD,a$,eJ,hY,ik,fw))+Math.abs(j.X.o1(hD,a$,eJ,hY,jb,cd));
if(dN<=30){hd=F;di=Y}}}var kc=d(b$,di),ck=d(i,hd),b3=kc[0]-ck[0],hL=kc[1]-ck[1],gS=b3*b3+hL*hL;if(gS<.001){R(i);
hd={0:6,2:4,4:2,6:0}[hd]}while(hd!=(di+4&7)){i.unshift(i.pop());hd=hd+1&7}var x=E.Zo.Y9(i,f[0],f[1]),jF=j.t.UX(b$,t);
jF=j.t.Us(jF);var kB=[i[hd],i[hd+1],i[hd+2&7],i[hd+3&7]];j.t.h(jF,kB);var aL=j.X.TO(kB);if(di==0||di==4){B=aL.Q;
gY=B/x;jw=aL.x;iT=aL.y+(di==0?-gY:0)}else{gY=aL._;B=gY*x;iT=aL.y;jw=aL.x+(di==6?-B:0)}return[i,new eZ(jw,iT,B,gY)]}function e(W,m){function f(Q,B,l,P){var F=D(Q,[B,l]);
F.push(P);return F}var h=[];for(var b=0;b<W.length;b++){var i=W[b],w=i[1];for(var J=0;J<w.length;J++){var q=w[J],x=c(W,q,m),A=x[0],Q=j.t.UX(A,new eZ(0,0,1,1));
h.push(f(Q,.5,0,1));h.push(f(Q,1,.5,3));h.push(f(Q,.5,1,5));h.push(f(Q,0,.5,7));h.push(f(Q,.5,.5,[x?(x[1].Q/x[1]._).toFixed(2):""].join(", ")))}}return h}function O(W,m,f,h){var b=[m],i=[m];
while(!0){var w=[];for(var Y=0;Y<W.length;Y++){var J=W[Y],q=!1;for(var x=0;x<b.length;x++){if(J[1]==W[b[x]][0]||J[0]==W[b[x]][1])w.push(Y)}}var A=b.length;
for(var Y=0;Y<w.length;Y++){var Q=w[Y],J=W[Q];if(i.indexOf(Q)!=-1)continue;i.push(Q);var B=c([[10,W]],J,h);
if(B[1]._s(f))b.push(Q)}if(A==b.length)break}return b}function U(W,m,f){var h=f[0],b=f[1],i=m.x-W[0],w=m.y-W[1],J=j.X.ZO(W[0],W[1],i,w,b[0],b[1],h[0]-b[0],h[1]-b[1]);
return[W[0]+J*i,W[1]+J*w]}function K(W,m,f){W=JSON.parse(JSON.stringify(W));var h=W[m[1]][1][m[2]],b=m[3]>=8,i=m[3]&7;
if((i&1)==0)return W;var w=T(i);if(i==1||i==7){var J=h[5+w],q=h[5+2-w],x=h[5+(i==1?3:1)],A=h[5+(i==1?1:3)],Q=J[1],B=U(Q,f,q);
if(!b&&k(B,q[1])<k(A[0],q[1]))return W;J[0]=q[0]=B;x[0]=U(Q,f,x)}else{var x=h[5+w],Q=x[1],J=h[5+(i==3?0:2)],B=U(Q,f,J);
if(!b&&k(B,J[1])>k(J[0],J[1]))return W;if(Math.sign(J[1][0]-J[0][0])!=Math.sign(J[1][0]-B[0]))return W;
x[0]=B}return W}function _(W,m,f){var h=m[0]-W[0],b=m[1]-W[1],i=j.X.ZO(f[0],f[1],-b,h,W[0],W[1],h,b);
return[f[0]-b*i,f[1]+h*i]}function Z(W,m,f){var h=f[0],b=f[1],D=_(W,m,f),i=D[0],w=D[1],J=_(W,f,m),q=j.X.ZO(i,w,h-i,b-w,m[0],m[1],J[0]-m[0],J[1]-m[1]);
return[i+(h-i)*q,w+(b-w)*q]}function H(W,m){var f=W[5][1],h=W[7][1],b=Z(f,h,m),i=[f,h,b];i.sort(function(q,x){return q[0]-x[0]});
if(v([i[0][0],i[0][1],i[1][0],i[1][1],i[2][0],i[2][1]])<0){var w=i[1];i[1]=i[2];i[2]=w}var J=[i.indexOf(f),i.indexOf(h),i.indexOf(b)];
return[i,J]}function G(W,m,f){W=JSON.parse(JSON.stringify(W));var h=m[1],b=W[h][1][m[2]],i=m[3];if((i&1)!=1)return W;
var w=H(b,f),J=w[1][2],q=w[0][J],x=JSON.parse(JSON.stringify(b));W[h][1].push(x);x[0]=I();x[1]=b[0];
x[2]=-10+i;x[3]=J;x[4]=q;if(i==1||i==5){x[7][3]=x[8][3]=J;x[7][1]=x[8][1]=q;if(i==5){x[5][0]=x[7][0]=b[6][0];
x[8][0]=s(b).slice(4,6)}}else{x[5][3]=x[6][3]=J;x[5][1]=x[6][1]=q;if(i==3){x[5][0]=x[7][0]=b[8][0];x[6][0]=s(b).slice(4,6)}}return W}function N(W,m,f){W=JSON.parse(JSON.stringify(W));
var h=m[1],b=W[h][1][m[2]],i=b[2]+10,w=i+4&7,J=i==1||i==5,q=b[5+T(J?7:1)][1],x=b[5+T(w)][0],A=b[5+T(i)][0];
b[2]=(J?90:0)+(k(x,q)<k(A,q)?180:0);var Q=n(s(b),f);for(var Y=5;Y<9;Y++)b[Y]=Q[Y];return W}function z(W,m,f){var bQ=W.length>>1,h,b=W[2*bQ-3]-f,i=W[2*bQ-2]-m,w=W[2*bQ-1]-f,J=!1,q=0;
for(var Y=0;Y<bQ;Y++){h=i;b=w;i=W[2*Y]-m;w=W[2*Y+1]-f;if(b==w)continue;J=w>b}for(var Y=0;Y<bQ;Y++){h=i;
b=w;i=W[2*Y]-m;w=W[2*Y+1]-f;if(b<0&&w<0)continue;if(b>0&&w>0)continue;if(h<0&&i<0)continue;if(b==w&&Math.min(h,i)<=0)return!0;
if(b==w)continue;var x=h+(i-h)*-b/(w-b);if(x==0)return!0;if(x>0)q++;if(b==0&&J&&w>b)q--;if(b==0&&!J&&w<b)q--;
J=w>b}return(q&1)==1}function L(W,m,f,h,b){var i=null;for(var w=0;w<W.length;w++){var J=W[w][1];for(var q=0;
q<J.length;q++){var x=s(J[q]);if(z(x,m,f)||b&&b[0]==w&&b[1]==q&&i==null){i=[w,q];if(h){var A=c(W,J[q],h),Q=j.t.UX(A[0],A[1]),B=[m,f];
Q=j.t.Us(Q);j.t.h(Q,B);i.push(B)}}}}return i}function p(W,m){for(var f=0;f<W.length;f++){var h=W[f][1],b=m[f];
if(b.length==0)continue;var i=V(h,b);for(var w=0;w<h.length;w++){if(i.indexOf(h[w][0])!=-1){h.splice(w,1);
w--}}}for(var f=0;f<W.length;f++)if(W[f][1].length==0){W.splice(f,1);f--}return W}function V(W,m){var f=[];
for(var Y=0;Y<10;Y++)for(var h=0;h<W.length;h++){var b=W[h];if(m.indexOf(h)!=-1||f.indexOf(b[1])!=-1)if(f.indexOf(b[0])==-1)f.push(b[0])}return f}function r(W){var m=u.x8(W,0,W.length),f=m.split("\n").slice(1);
function h(){return parseFloat(f.shift())}function b(){var ik=[h(),h()];i(1);return ik}function i(bQ){for(var Y=0;
Y<bQ;Y++)f.shift()}var w=[],J=h();for(var q=0;q<J;q++){var x=h(),A=h(),Q=[];w.push([x,Q]);for(var B=0;
B<A;B++){var l=h(),P=h(),F=h(),t=h(),b$=b(),hd=[l,P,F,t,b$];Q.push(hd);for(var Y=0;Y<4;Y++){var di=b(),hD=b(),a$=h()==1,eJ=h(),hY=h();
hd.push([di,hD,a$,eJ,hY])}}}return w}function y(W){function m(A){f.push(A[0],A[1],"")}var f=["tNaF203"];
f.push(W.length);for(var h=0;h<W.length;h++){f.push(W[h][0]);var b=W[h][1];f.push(b.length);for(var i=0;
i<b.length;i++){var w=b[i];f.push(w[0],w[1],w[2],w[3]);m(w[4]);for(var Y=0;Y<4;Y++){var J=w[5+Y];m(J[0]);
m(J[1]);f.push(J[2]?1:0,J[3],J[4])}}}var q=f.join("\n"),x=new Uint8Array(q.length);u.ei(x,0,q);return x}return{SF:r,OM:y,azM:s,acR:n,d6:o,aAU:K,lH:e,ax6:function(W,m){return m&&(m[3]&1)==0&&W[m[1]][1].length==1},d0:function(W,m){return m&&(m[3]&1)==1},gB:c,aoV:G,a24:N,acH:p,Ga:V,p8:L,xC:O}}();
j.aAk=function(){var I=0,k=0,n=15,C=256;function a(v,g,d,R,c,e){var O=(c-1)*g,U=e*g;return v[U+R]-v[U+d-1]-v[O+R]+v[O+d-1]}var s=Math.round(n/8),T=[];
function S(v,g){for(var d=0;d<g.length;d++){var R=g[d],c=0,e=0,O=v[R.X1],U=O.YR,K=O.Qq,_=O.L4;for(var Z=-n;
Z<=n;Z++)for(var H=-n;H<=n;H++){var G=H+R.alv,N=Z+R.aii;if(H*H+Z*Z>n*n||G<0||N<0||G>=K||N>=K)continue;
var z=U[N*K+G];c+=H*z;e+=Z*z}R.Mq=Math.atan2(e,c)}}function D(v,g,d,R,c){var e=~~(v+.5),O=~~(g+.5);return a(d,R,e-s,e+s,O-s,O+s)}function o(v,g,d,R,c){I=R;
k=c;if(T.length==0){var e=new j.z.GS(16200817),_=8,Z=0;function O(b$){var p=b$[0]-b$[2],V=b$[1]-b$[3];
return p*p+V*V}function U(){var b$=0,hd=0;while(b$===0)b$=e.get();while(hd===0)hd=e.get();return Math.sqrt(-2*Math.log(b$))*Math.cos(2*Math.PI*hd)}var K=U,H=[];
while(Z!=C){var G=Math.max(-n,Math.min(n,K()*_)),N=Math.max(-n,Math.min(n,K()*_)),z=Math.max(-n,Math.min(n,K()*_)),L=Math.max(-n,Math.min(n,K()*_)),p=G-z,V=N-L,r=Math.sqrt(p*p+V*V);
if(r<3||r>12)continue;T.push(G,N,z,L);Z++}}var y=20;for(var W=0;W<g.length;W++){var m=g[W],f=v[m.X1],h=f.Lu,d=f.YR,R=f.Qq,c=f.L4,b=m.alv,i=m.aii,w=m.Mq,J=Math.cos(w),q=Math.sin(w),x=new Uint8Array(C>>>3);
m.zf=x;for(var Y=0;Y<C;Y++){var A=Y*4,G=T[A+0],N=T[A+1],z=T[A+2],L=T[A+3],Q=J*G-q*N,B=q*G+J*N,l=J*z-q*L,P=q*z+J*L,F=D(b+Q,i+B,h,R,c),t=D(b+l,i+P,h,R,c);
x[Y>>>3]|=(F<t?0:1)<<(Y&7)}}}return{abz:S,a0a:o}}();j.agq=function(){function I(k,a){var n=[[9]],s=Date.now(),C=[];
for(var T=0;T<k.length;T++){var S=k[T],D=S.Lu,o=S.Qq,v=S.L4,R=9,_=1,m=24;if(D==null)continue;var g=new Float32Array(o*v),d=new Uint8Array(o*v),c=R>>>1,e=c>>>1,O=Math.round(R/3);
if(O!=R/3)throw"e";var U=1/(R*R),K=1.2*(R/9);for(var Z=c+1;Z<v-c;Z+=_)for(var H=c+1;H<o-c;H+=_){var G=j.He(D,o,H-e,H+e,Z-c,Z+c)-3*j.He(D,o,H-e,H+e,Z-c+O,Z+c-O),N=j.He(D,o,H-c,H+c,Z-e,Z+e)-3*j.He(D,o,H-c+O,H+c-O,Z-e,Z+e),z=H-c+1,L=H+c-1,p=Z-c+1,V=Z+c-1,r=j.He(D,o,z,H-1,p,Z-1)+j.He(D,o,H+1,L,Z+1,V)-j.He(D,o,H+1,L,p,Z-1)-j.He(D,o,z,H-1,Z+1,V),y=(N*G-.9*r*(.9*r))*(U*U);
g[Z*o+H]=Math.abs(y);d[Z*o+H]=y<0?0:1}var W=o*_;for(var Z=m;Z<v-m;Z+=_)for(var H=m;H<o-m;H+=_){var Y=Z*o+H,f=g[Y];
if(f<16)continue;if(g[Y-_]>=f||g[Y+_]>=f)continue;if(g[Y-W-_]>=f||g[Y-W]>=f||g[Y-W+_]>=f)continue;if(g[Y+W-_]>=f||g[Y+W]>=f||g[Y+W+_]>=f)continue;
C.push({x:~~(H*S.NT+.5),y:~~(Z*S.NT+.5),alv:H,aii:Z,X1:T,P:f,aBp:d[Y],Yl:K})}}if(a!=null){C.sort(function(A,Q){return Q.P-A.P});
C=C.slice(0,a)}return C;var h=[];for(var Y=0;Y<C.length;Y++){var b=!0,i=C[Y];for(var w=0;w<C.length;
w++){var J=C[w];if(w!=Y&&J.P>i.P&&(J.X1==i.X1+1||J.X1==i.X1-1)){var q=i.x-J.x,x=i.y-J.y;if(q*q+x*x<5){b=!1;
break}}}if(b)h.push(i)}console.log(C.length,h.length);return h}return{a4l:I}}();j.mc={};j.mc.anK=function(I){var k=I.length,a=j.mc.aB5(I,!1),s=0,C=1;
throw"e";var n=[];for(var Y=0;Y<k;Y++)n[Y]=j.mc.aB$(a[Y]);var T=I[0][1],S=j.mc.match(a[s],a[C],n[C]);
console.log(S.length);var D=Math.max(Math.min(S.length,40),S.length*.54);D=Math.min(D,200);var o=S.slice(0,D),v=j.EN.aEu(a[s],a[C],o,T.Q,T._),g=j.EN.axi(v,[0,0,0],1),d=T.Q/2,R=T._/2,c=1/Math.max(d,R);
for(var Y=0;Y<1;Y++){var e=o[Y],O=a[s][e[0]],U=a[C][e[1]],K=j.EN.au_(g,c*(O.x-d),c*(O.y-R),c*(U.x-d),c*(U.y-R))}var _=j.EN.ag7(v,T),Z=[];
for(var Y=0;Y<2;Y++){var H=_[Y],G=[H[0][0],H[0][1],H[0][2],H[1][0],H[1][1],H[1][2],H[2][0],H[2][1]],N=E.nF.dq(I[Y],null,G);
Z.push([N.buffer,N.rect])}return[j.mc.aa6(Z[0],Z[1],a[s],a[C],o,v,_,T)]};j.mc.Dr=function(I,k){var a=I.length,n=!1,s=Date.now(),C=j.mc.aB5(I,!1,1e4);
if(n)console.log("Descriptors ready",Date.now()-s);s=Date.now();for(var Y=0;Y<a;Y++){var T=I[Y][1];for(var S=0;
S<C[Y].length;S++){C[Y][S].x+=T.x;C[Y][S].y+=T.y}}if(n)console.log("shifted",Date.now()-s);s=Date.now();
var D=[];for(var Y=0;Y<a;Y++)D[Y]=j.mc.aB$(C[Y]);if(n)console.log("trees built",Date.now()-s);s=Date.now();
var o=[];for(var Y=0;Y<a-1;Y++)for(var S=Y+1;S<a;S++){var v=j.mc.match(C[Y],C[S],D[S]);if(n)console.log("Matches found",Y,S,v.length);
v=v.slice(0,v.length>>>1);if(v.length<10)continue;var g=j.mc.a3z(C[Y],C[S],v,2);o.push([Y,S,v,g])}o.sort(function(L,p){return p[2].length-L[2].length});
if(n)console.log("Matches found",Date.now()-s);s=Date.now();var d=[],R=new UnionFind(a);for(var Y=0;
Y<o.length;Y++){var c=o[Y],e=R.find(c[0]),O=R.find(c[1]);if(e!=O){d.push(c);R.link(e,O)}}var U=[];for(var Y=0;
Y<a;Y++)U[Y]=[1,0,0,0,1,0,0,0];var K=[0],_=new Uint8Array(a);_[K[0]]=1;while(K.length!=0){var O=K.pop(),g=U[O],Z=[];
for(var Y=0;Y<d.length;Y++){var c=d[Y],H=c[0],G=c[1];if(H==O&&_[G]==0){U[G]=j.t.Rc(g,c[3]);K.push(G);
_[G]=1}if(G==O&&_[H]==0){U[H]=j.t.Rc(g,j.t.Us(c[3]));K.push(H);_[H]=1}}}if(k==null){var N=[];for(var Y=0;
Y<a;Y++)N.push([U[Y][2],Y]);N.sort(function(L,p){return L[0]-p[0]});k=N[N.length>>>1][1]}var z=j.t.Us(U[k]);
for(var Y=0;Y<a;Y++)U[Y]=j.t.Rc(U[Y],z);if(n)console.log("Transforms reordered",Date.now()-s);s=Date.now();
return U};j.mc.aB5=function(I,k,a){var n=[],s=!1;for(var Y=0;Y<I.length;Y++){var C=I[Y][0],T=I[Y][1],S=T.Q,D=T._,o=j.U(T.c());
j.xD(C,o);var v=Date.now(),g=j.mc.aqb(o,T,!0);if(s)console.log("Pyramid built ---------------",Date.now()-v);
v=Date.now();var d=j.agq.a4l(g,a);if(s)console.log("SURF Generation",Date.now()-v);v=Date.now();if(!k){j.aAk.abz(g,d);
if(s)console.log("ORB Orientations",Date.now()-v);v=Date.now();j.aAk.a0a(g,d,o,S,D);if(s)console.log("ORB Descriptors",Date.now()-v);
v=Date.now()}n.push(d)}return n};j.mc.aqb=function(I,k,a){var n=[],s=[I,k];j.dI(s);if(a){var C=j.as3(I,k),T=C.rect,S=[C.GG,T];
j.dI(S)}for(var Y=0;Y<s.length;Y++){var D=s[2*Y],o=s[2*Y+1],v=o.Q,g=o._,d=Math.min(v,g);if(d<30)break;
if(d<1600)n.push({YR:D,Qq:v,L4:g,NT:1<<Y,Lu:j.yf(D,v,g)});if(!a)continue;var D=S[2*Y],o=S[2*Y+1],v=o.Q,g=o._,d=Math.min(v,g);
if(d<30)break;if(d<1600)n.push({YR:D,Qq:v,L4:g,NT:(1<<Y)*3/2,Lu:j.yf(D,v,g)})}return n};j.mc.a3z=function(I,k,a,n){var s=Date.now(),C,T=0,S=0,D=a.length,o=new Float64Array(2);
for(var v=0;v<3e3;v++){var g=~~(Math.random()*D),d=~~(Math.random()*D),R=~~(Math.random()*D),c=~~(Math.random()*D),W=0,m=0;
if(g==d||g==R||g==c||d==R||d==c||R==c)continue;var e=a[g],O=a[d],U=a[R],K=a[c],_=I[e[0]],Z=k[e[1]],H=I[O[0]],G=k[O[1]],N=I[U[0]],z=k[U[1]],L=I[K[0]],p=k[K[1]],V=[_.x,_.y,H.x,H.y,N.x,N.y,L.x,L.y],r=[Z.x,Z.y,G.x,G.y,z.x,z.y,p.x,p.y],y=j.t.aBC(V,r);
if(y[0]==0&&y[1]==0&&y[3]==0&&y[4]==0)continue;var f=D-T+2;for(var Y=0;Y<D&&Y-W<f;Y++){var h=I[a[Y][0]],b=k[a[Y][1]];
j.t.ij(b.x,b.y,y,o);var i=o[0]-h.x,w=o[1]-h.y,J=i*i+w*w;if(J<n){W++;m+=J}}if(W>T||W==T&&m<S){C=y;T=W;
S=m}}return C};var hE=new Uint8Array(256);for(var Y=0;Y<256;Y++){var bC=0,bQ=Y;while(bQ!=0){bQ=bQ&bQ-1;
bC++}hE[Y]=bC}j.mc.aDd=function(I,k,a){var n=0,s=I.length;for(var Y=0;Y<s&&n<a;Y++)n+=hE[I[Y]^k[Y]];
return n};j.mc.amO=function(I,k,a,top,n){if(n[a]==1)return;var s=j.mc.aDd(I.zf,k.zf,top[0]);if(s<top[0]){if(s<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=s;top[3]=a}else{top[0]=s;top[1]=a}}n[a]=1};j.mc.aB$=function(I){var k=[],a=[],n=[[],[]],s=4;
for(var Y=0;Y<I.length;Y++)(I[Y].aBp==0?k:a).push(Y);for(var C=0;C<2;C++){var T=new Array(s),S=[],D=C==0?k:a,o=D.length/256,v=[];
for(var g=0;g<32;g++){var d=new Array(256),e=0;for(var R=0;R<256;R++)d[R]=[];for(var R=0;R<D.length;
R++){var c=D[R];d[I[c].zf[g]].push(c)}for(var R=0;R<256;R++)e+=Math.abs(d[R].length-o);v.push([e,g,d])}v.sort(function(O,U){return O[0]-U[0]});
var S=[],T=[];n[C]=[S,T];for(var Y=0;Y<s;Y++){S.push(v[Y][1]);T.push(v[Y][2])}}return n};j.mc.match=function(I,k,a){var n=[],s=new Uint16Array(k.length);
s.fill(65535);var C=new Uint8Array(k.length),top=new Uint32Array(4),T=[];for(var S=0;S<I.length;S++){var D=I[S],o=D.zf;
top.fill(1e6);C.fill(0);var v=a[D.aBp];for(var g=0;g<v[1].length;g++){var d=v[1][g][o[v[0][g]]];for(var R=0;
R<d.length;R++){var c=d[R];j.mc.amO(D,k[c],c,top,C)}}if(top[2]<50&&top[2]<top[0]*.5){var e=s[top[3]];
if(e==65535){s[top[3]]=n.length;n.push([S,top[3],top[2]])}else if(top[2]<n[e][2]){n[e]=[S,top[3],top[2]]}}}n.sort(function(O,U){return O[2]-U[2]});
return n};j.mc.amX=function(I){var k=new eZ;for(var Y=0;Y<I.length;Y++)k=k.oL(I[Y][1]);var a=j.U(k.c()*4);
for(var Y=0;Y<I.length;Y++)j.z.Pf("norm",I[Y][0],I[Y][1],a,k,k,1);return[a,k]};j.mc.aa6=function(I,k,a,n,s,C,T,S){var D=I[1].clone(),o=D.clone();
D.x=D.y=0;var v=k[1].clone(),g=v.clone();v.x=v.y=0;v.x=D.Q;var d=D.oL(v),R=g.y-o.y,c=j.U(d.c()*4);j.ao(I[0],D,c,d);
j.ao(k[0],new eZ(v.x,v.y+R,v.Q,v._),c,d);var e=document.createElement("canvas");e.width=d.Q;e.height=d._;
var O=e.getContext("2d");O.lineWidth=.5;O.putImageData(new ImageData(new Uint8ClampedArray(c.buffer),d.Q,d._),0,0);
if(C){var U=C[0],K=j.Ce.wZ(U),_=D.Q,Z=S.Q;for(var Y=0;Y<s.length;Y++){var H=s[Y],I=a[H[0]],k=n[H[1]];
O.strokeStyle="#"+"ff0000";O.beginPath();var G=j.EN.a9m(K,T[0],k,0,Z),N=j.EN.a9m(U,T[1],I,0,Z);O.moveTo(-o.x+G[0],-o.y+G[1]);
O.lineTo(-o.x+G[2],-o.y+G[3]);O.moveTo(_-g.x+N[0],-g.y+R+N[1]);O.lineTo(_-g.x+N[2],-g.y+R+N[3]);O.stroke()}}if(s){var z=s.length;
for(var Y=0;Y<z;Y++){var H=s[Y],I=a[H[0]],k=n[H[1]];O.strokeStyle="#"+"ffff00"}}var L=new Uint8Array(O.getImageData(0,0,d.Q,d._).data.buffer);
if(!1){for(var p=0;p<2;p++){var V=p==0?a:n,r=p*D.Q;for(var Y=0;Y<V.length;Y++){var y=V[Y],W=~~y.x,m=~~y.y,f=(m*d.Q+W+r)*4;
L[f+1]=L[f+2]=y.a7Z*60;L[f+0]=0;L[f+3]=255}}}return[L,d]};j.stack={};j.stack.stack=function(I,k,a){var n=I.length,s=k.length;
if(n==1){k.set(I[0]);return}if(a=="avrg"||a=="stdv"||a=="summ"||a=="vari"){var C=1/n;for(var Y=0;Y<s;
Y++){var T=0;for(var S=0;S<n;S++)T+=I[S][Y];var D=~~(T*C+.5);if(a=="avrg"||(Y&3)==3)k[Y]=D;else if(a=="summ")k[Y]=255*Math.pow(Math.min(255,T)*(1/255),1/2.4);
else{var o=0;for(var S=0;S<n;S++){var v=I[S][Y]-D;o+=v*v}var g=Math.sqrt(o*C)*(1/255);if(a=="stdv")k[Y]=255*Math.pow(g,1/2.4);
else k[Y]=255*Math.pow(g*g,1/2.4)}}}else if(a=="maxx"){for(var Y=0;Y<s;Y++){var d=0;for(var S=0;S<n;
S++)d=Math.max(d,I[S][Y]);k[Y]=d}}else if(a=="minn"){for(var Y=0;Y<s;Y++){var d=255;for(var S=0;S<n;
S++)d=Math.min(d,I[S][Y]);k[Y]=d}}else if(a=="medn"||a=="rang"){var R=function(U,K){return U-K},c=new Array(n),e=0,O=0;
if((n&1)==0){O=n>>>1;e=O-1}else{e=O=n>>>1}for(var Y=0;Y<s;Y++){for(var S=0;S<n;S++)c[S]=I[S][Y];c.sort(R);
if(a=="medn")k[Y]=c[e]+c[O]>>>1;else k[Y]=(Y&3)==3?c[n-1]:c[n-1]-c[0]}}else console.log(a)};j.Wi={};
j.Wi.aeH=function(I,k,a,n){var s=Date.now(),C=new Uint32Array(k*a),T=new Uint8Array(k*a);while(!0){T.fill(0);
C.fill(0);var S=[],D=0;for(var o=0;o<a;o++){for(var v=0;v<k;v++){var Y=o*k+v;if(T[Y]==0){var g=S.length,d=j.Wi.oq(I,k,a,v,o,T,C,g);
S.push([g,v,o,d[0],d[1],I[Y]]);if(d[0]<n)D++}}}if(D==0)break;var R=S.length,c=new UnionFind(R),e=[];
for(var Y=0;Y<R;Y++)e.push([]);for(var Y=0;Y<R;Y++){var d=S[Y],O=d[4],U=0,K=0;if(d[3]>=n)continue;var g=d[0];
for(var _=0;_<O.length;_+=2){var Z=C[O[_+1]*k+O[_]],H=S[Z];if(H[3]>K){K=H[3];U=Z}}if(c.find(g)!=c.find(U)){c.link(g,U);
e[g].push(U);e[U].push(g)}}var G=new Uint32Array(R);G.fill(4294967295);var N=new Uint32Array(R);for(var Y=0;
Y<R;Y++){if(G[Y]!=4294967295||e[Y].length==0)continue;var z=[Y],L=[Y],p=Y,V=S[Y][3];while(L.length!=0){var r=L.pop(),y=e[r];
for(var _=0;_<y.length;_++){var W=y[_];if(z.indexOf(W)==-1){z.push(W);L.push(W);var m=S[W];if(m[3]>V){V=m[3];
p=W}}}}for(var _=0;_<z.length;_++){G[z[_]]=p;var f=S[p];N[z[_]]=I[f[2]*k+f[1]]}}for(var o=0;o<a;o++)for(var v=0;
v<k;v++){var Y=o*k+v,h=G[C[Y]];if(h!=4294967295)I[Y]=N[h]}}};j.Wi.oq=function(I,k,a,n,s,C,T,S){var D=[n,s],o=I[s*k+n],v=0,g=[];
C[s*k+n]=1;while(D.length!=0){var d=D.pop(),R=D.pop(),Y=d*k+R;T[Y]=S;v++;if(d!=a-1)if(I[Y+k]==o){if(C[Y+k]==0){D.push(R,d+1);
C[Y+k]=1}}else g.push(R,d+1);if(d!=0)if(I[Y-k]==o){if(C[Y-k]==0){D.push(R,d-1);C[Y-k]=1}}else g.push(R,d-1);
if(R!=k-1)if(I[Y+1]==o){if(C[Y+1]==0){D.push(R+1,d);C[Y+1]=1}}else g.push(R+1,d);if(R!=0)if(I[Y-1]==o){if(C[Y-1]==0){D.push(R-1,d);
C[Y-1]=1}}else g.push(R-1,d)}return[v,g]};j.Wi.a0$=function(I,k,a){var n=new Uint32Array(k*a);for(var Y=0;
Y<n.length;Y++)n[Y]=I[Y];var s=[];for(var C=0;C<a;C++){for(var T=0;T<k;T++){var Y=C*k+T,S=n[Y];if(S<1e3){var D=j.Wi.axg(n,k,a,T,C,1e3+s.length);
s.push([T,C,S,D,0])}}}for(var Y=0;Y<n.length;Y++)n[Y]-=1e3;var o=new Float32Array(k*a);o.fill(k+a);for(var C=0;
C<a;C++)for(var T=0;T<k;T++){var Y=C*k+T,S=n[Y];if(T==0||C==0||n[Y-1]!=S||n[Y-k]!=S)o[Y]=0;else{var v=Math.min(o[Y],o[Y-1]+1,o[Y-k]+1);
if(n[Y-k-1]==S)v=Math.min(v,o[Y-k-1]+1.414);o[Y]=v}}for(var C=a-1;C>=0;C--)for(var T=k-1;T>=0;T--){var Y=C*k+T,S=n[Y];
if(T==k-1||C==a-1||n[Y+1]!=S||n[Y+k]!=S)o[Y]=0;else{var v=Math.min(o[Y],o[Y+1]+1,o[Y+k]+1);if(n[Y+k+1]==S)v=Math.min(v,o[Y+k+1]+1.414);
o[Y]=v}}for(var C=0;C<a;C++)for(var T=0;T<k;T++){var Y=C*k+T,g=s[n[Y]];if(o[Y]>g[4]){g[4]=o[Y];g[0]=T;
g[1]=C}}return s};j.Wi.axg=function(I,k,a,n,s,C){var T=[n,s],S=I[s*k+n],D=0;I[s*k+n]=4294967295;while(T.length!=0){var s=T.pop(),n=T.pop(),Y=s*k+n;
D++;I[Y]=C;if(s<a-1&&I[Y+k]==S){T.push(n,s+1);I[Y+k]=4294967295}if(s>0&&I[Y-k]==S){T.push(n,s-1);I[Y-k]=4294967295}if(n>0&&I[Y-1]==S){T.push(n-1,s);
I[Y-1]=4294967295}if(n<k-1&&I[Y+1]==S){T.push(n+1,s);I[Y+1]=4294967295}}return D};j.Wi.a6T=function(I,k,a,n,s){var C=j.Wi.abQ(I.buffer,k,a).RJ,T=Date.now(),S=[];
for(var Y=0;Y<C.length;Y++){var D=C[Y],o=1;for(var v=0;v<o;v++)S.push(D.mL)}var g=new Uint32Array(S),d=UPNG.quantize.getKDtree(new Uint8Array(g.buffer),n),R=[k,1,-k,-1,k+1,-k+1,-k-1,k-1,k+k,2,-k-k,-2,k+k-1,k+k+1,k+2,-k+2,-k-k+1,-k-k-1,-k-2,k-2,k+k+2,-k-k+2-k-k-2,k+k-2],c=new Uint8Array(k*a),e=I;
for(var O=0;O<a;O++)for(var U=0;U<k;U++){var Y=O*k+U<<2,K=e[Y]*(1/255),_=e[Y+1]*(1/255),Z=e[Y+2]*(1/255),H=e[Y+3]*(1/255),G=j.Wi.n3(d,K,_,Z,H,s);
if(G==null){var N=[],z=0;while(z<20){var L=O*k+U+R[z]<<2,p=e[L]*(1/255),V=e[L+1]*(1/255),r=e[L+2]*(1/255),y=e[L+3]*(1/255),W=j.Wi.n3(d,p,V,r,y,.005);
if(W!=null){if(N.indexOf(W)==-1){N.push(W);W.gO=1}else W.gO++}z++}N.sort(function(H,Z){return Z.gO-H.gO});
while(N.length!=0&&N[N.length-1].gO<3)N.pop();if(N.length==0)G=j.Wi.n3(d,K,_,Z,H,100);else if(N.length==1)G=N[0];
else if(N.length==2){var m=N[0],f=N[1],h=m.est.q,b=f.est.q,i=b[0]-h[0],w=b[1]-h[1],J=b[2]-h[2],q=b[3]-h[3],x=K-h[0],A=_-h[1],Q=Z-h[2],B=H-h[3],l=i*i+w*w+J*J+q*q,P=x*x+A*A+Q*Q+B*B,F=(x*i+A*w+Q*J+B*q)/l,t=P-F*F*l;
if(t<.5)G=F<.5?m:f;else{G=j.Wi.n3(d,K,_,Z,H,100)}}else{var m=N[0],f=N[1],b$=N[2],h=m.est.q,b=f.est.q,hd=b$.est.q,di=h[0]-hd[0],hD=h[1]-hd[1],a$=h[2]-hd[2],eJ=h[3]-hd[3],hY=b[0]-hd[0],ik=b[1]-hd[1],fw=b[2]-hd[2],jb=b[3]-hd[3],cd=hd[0]-K,dN=hd[1]-_,kc=hd[2]-Z,ck=hd[3]-H,b3=di*di+hD*hD+a$*a$+eJ*eJ,hL=di*hY+hD*ik+a$*fw+eJ*jb,gS=cd*di+dN*hD+kc*a$+ck*eJ,jF=di*hY+hD*ik+a$*fw+eJ*jb,kB=hY*hY+ik*ik+fw*fw+jb*jb,jw=cd*hY+dN*ik+kc*fw+ck*jb,iT=1/(hL*jF-b3*kB),F=(kB*gS-jw*hL)*iT,gY=(jw*b3-gS*jF)*iT,aL=1-F-gY,dw=Math.max(F,gY,aL);
if(dw==F)G=m;else if(dw==gY)G=f;else G=b$}}c[Y>>2]=G.ind}return{y9:c,RJ:d[1]}};j.Wi.abQ=function(I,k,a){var n=[],s={},C=k-1,T=a-1,S=0,D=new Uint32Array(I),o=[-k-1,-k,-k+1,-1,1,k-1,k,k+1,k+k,2,-k-k,-2,k+k-1,k+k+1,k+2,-k+2,-k-k+1,-k-k-1,-k-2,k-2,k+k+2,-k-k+2-k-k-2,k+k-2];
for(var v=1;v<T;v++)for(var g=1;g<C;g++){var d=v*k+g,R=D[d],c=!0;for(var Y=0;Y<8;Y++)c=c&&D[d+o[Y]]==R;
if(c){S++;var e=s[R];if(e==null){s[R]=n.length;n.push({mL:R,kO:1})}else n[e].kO++}}return{RJ:n,al8:S}};
j.Wi.n3=function(I,k,a,n,s,C){var T=UPNG.quantize.getNearest(I[0],k,a,n,s);return j.Wi.aru(T,k,a,n,s)<C?T:null};
j.Wi.aru=function(I,k,a,n,s){var C=I.est.q,T=k-C[0],S=a-C[1],D=n-C[2],o=s-C[3];return T*T+S*S+D*D+o*o};
(function(){j.Wi.xP=function(S,D,o,v,g){var d=S.RA,R=D*o,c=S.cV,e=S.y9,O=n(v,e,d,R),U=new UnionFind(d),N=0;
for(var K=1;K<o;K++)for(var _=1;_<D;_++){var Y=K*D+_,Z=e[Y],H=0;if((H=e[Y-1])!=Z&&O[H]==O[Z]&&I(c,0,Z*6,H*6)<g)U.link(Z,H);
if((H=e[Y-D])!=Z&&O[H]==O[Z]&&I(c,0,Z*6,H*6)<g)U.link(Z,H)}var G=new Uint16Array(d);G.fill(65535);var z=new Uint16Array(d);
for(var Y=0;Y<d;Y++){var L=U.find(Y);if(G[L]==65535)G[L]=N++;z[Y]=G[L]}var p=new Uint16Array(R);for(var Y=0;
Y<R;Y++)p[Y]=z[e[Y]];return{y9:p,RA:N}};j.Wi.hk=function(S,D,o){var v=j.U(D),g=S.length;for(var Y=0;
Y<g;Y++){var d=o[Y];if(d==0||d==255){var R=S[Y],c=2-(d>>>7),e=v[R]=v[R]|c;if(e==3)return R}}return-1};
function I(S,D,o,v){var g=1/S[o+5],d=1/S[v+5],R=S[o]*g-S[v]*d,c=S[o+1]*g-S[v+1]*d,e=S[o+2]*g-S[v+2]*d,O=S[o+3]*g-S[v+3]*d,U=S[o+4]*g-S[v+4]*d,K=Math.sqrt(R*R+c*c+e*e),_=Math.sqrt(O*O+U*U);
return~~(K+D*_+.5)}function k(S,D){var Y=0,o=S.length;while(Y!=o&&S[Y]!=D)Y+=2;return Y==o?-1:Y}function a(S,Y){if(Y==S.length-2){S.pop();
S.pop()}else{S[Y+1]=S.pop();S[Y]=S.pop()}}j.Wi.aqS=function(S,D,o,v,g){var d=new Uint32Array(g*4400),R=[];
for(var Y=0;Y<g;Y++)R.push([]);for(var c=0;c<o;c++)for(var e=0;e<D;e++){var Y=c*D+e,O=Y<<2,U=v[Y],K=0,_=S[O]>>>4,Z=S[O+1]>>>4,H=S[O+2]>>>4;
d[U*4400+(_<<8|Z<<4|H)]++;d[U*4400+4096]++;d[U*4400+4100+(_<<4|Z)]++;d[U*4400+4360+_]++;if(e!=0&&(K=v[Y-1])!=U&&k(R[U],K)==-1){R[U].push(K,0);
R[K].push(U,0)}if(c!=0&&(K=v[Y-D])!=U&&k(R[U],K)==-1){R[U].push(K,0);R[K].push(U,0)}}for(var Y=0;Y<g;
Y++){var H=R[Y];for(var G=0;G<H.length;G+=2)H[G+1]=T(d,Y,H[G])}return[d,R]};function n(S,D,o,v){var g=j.U(o);
for(var Y=0;Y<v;Y++){var d=S[Y];if(d==0||d==255)g[D[Y]]=2-(d>>>7)}return g}j.Wi.a3J=function(S,D,o,v,g,d,R){var c=D*o,e=R[0],O=R[1],U=new UnionFind(v),K=n(g,S,v,c),_=-1,Z=!0,H=0;
for(var Y=0;Y<v;Y++)if(K[Y]==1){if(_==-1)_=Y;else U.link(Y,_)}if(_==-1){for(var Y=0;Y<c;Y++)d[Y]=g[Y]==255?255:0;
return}while(Z){while(Z){Z=!1;for(var Y=0;Y<v;Y++){if(K[Y]==0){var G=s(O[Y]);if(K[G]==1){K[Y]=K[G];Z=!0;
U.link(Y,G)}}}}Z=!0;H=0;while(Z){Z=!1;for(var Y=0;Y<v;Y++){if(K[Y]==0){var G=s(O[Y]);if(K[G]==0){var N=Y*4400,z=G*4400;
for(var L=0;L<4400;L+=2){e[N+L]+=e[z+L];e[N+L+1]+=e[z+L+1]}C(O,e,Y,G);H++;K[G]=3;Z=!0;U.link(Y,G)}}}}Z=H!=0}var p=U.find(_);
for(var Y=0;Y<v;Y++)K[Y]=U.find(Y)==p?255:0;for(var Y=0;Y<c;Y++){d[Y]=K[S[Y]]}for(var Y=0;Y<c;Y++){var G=g[Y];
if(G==0||G==255)d[Y]=G}};function s(S){var D=0,o=0,v=S.length;for(var g=0;g<v;g+=2){var d=S[g+1];if(d>o){o=d;
D=g}}return S[D]}function C(S,D,o,v){var g=S[o],d=S[v];a(g,k(g,v));a(d,k(d,o));for(var Y=0;Y<d.length;
Y+=2){var R=d[Y],c=S[R];a(c,k(c,v));if(k(c,o)==-1){c.push(o,0);g.push(R,0)}}for(var Y=0;Y<g.length;Y+=2){var R=g[Y],c=S[R],e=T(D,o,R);
g[Y+1]=e;c[k(c,o)+1]=e}}function T(S,D,o){var v=0,g=4096,d=D*4400,R=o*4400;for(var c=0;c<16;c++){if(S[d+4360+c]==0||S[R+4360+c]==0)continue;
for(var e=0;e<16;e++){var O=c<<4|e;if(S[d+4100+O]==0||S[R+4100+O]==0)continue;var U=d+(O<<4),K=R+(O<<4);
for(var Y=0;Y<16;Y++)v+=Math.sqrt(S[U+Y]*S[K+Y])}}var _=v/Math.sqrt(S[d+g]*S[R+g]);return~~(999.99999*_)}}());
j.Wi.nJ=function(){var I,k,a,T=0,S=0;function n(R,c,e){var O=[],U=e,K=e,_=e>>>2;for(var Z=0;Z<c;Z++)for(var H=0;
H<R;H++){var G=~~((H+.5)*U),N=~~((Z+.5)*K),z=1e9,L=Math.max(0,G-_),p=Math.min(k,G+_+1),V=Math.max(0,N-_),r=Math.min(a,N+_+1);
for(var y=V;y<r;y++)for(var W=L;W<p;W++){var m=s(W,y);if(m<z){G=W;N=y;z=m}}O.push(G,N)}return O}function s(R,c){var e=(c*k+R)*4,O=k*4,U=C(e-4,e)+C(e,e+4),K=C(e-O,e)+C(e,e+O);
return U+K}function C(R,c){var e=I[R]-I[c],O=I[R+1]-I[c+1],U=I[R+2]-I[c+2];return e*e+O*O+U*U}function D(R,c,e,O){S++;
if(O<T)T=O;R[O].push(c,e)}function o(R){S--;while(R[T].length==0)T++}function v(R,c,e,O,U){var K=(e*k+c)*4,_=O[U+5],Z=1/_,H=I[K]*_-O[U],G=I[K+1]*_-O[U+1],N=I[K+2]*_-O[U+2],z=c*_-O[U+3],L=e*_-O[U+4],p=Math.sqrt(H*H+G*G+N*N),V=Math.sqrt(z*z+L*L);
return~~((p+R*V)*Z+.5)}function g(R,c,e,O,U){I=R;k=c;a=e;T=0;S=0;var K=k*a,_=Math.round(Math.min(k,a)/(O?O:30));
if(_==0)_=1;var Z=(U?U:30)/_,H=Math.floor(k/_),G=Math.floor(a/_),N=new Uint16Array(K);for(var Y=0;Y<K;
Y++)N[Y]=65535;var z=n(H,G,_),L=z.length>>>1;if(L>65535)throw L;var p=new Uint32Array(L*6),V=[];for(var Y=0;
Y<1e3+a;Y++)V.push([]);var r=1e3*700/(k*a),y=Math.floor(G*r);y=Math.min(G,Math.max(4,y));y=G;var p=new Uint32Array(L*6);
for(var W=0;W<G;W+=y){var m=Math.min(W+y,G);for(var f=W;f<m;f++)for(var h=0;h<H;h++){var Y=f*H+h;D(V,z[Y*2+1]<<16|z[Y*2],Y,0)}var b=Math.min(a,m*_);
if(W+y>=G)b=a;d(p,V,N,Z,b)}I=null;return{y9:N,RA:L,cV:p,arC:Z}}function d(R,c,e,O,U){while(S!=0){o(c);
var K=c[T].pop(),_=c[T].pop(),Z=_>>>16,H=_&65535,Y=Z*k+H;if(e[Y]==null)throw"e";if(e[Y]==65535){var G=K*6,N=Y<<2;
e[Y]=K;R[G]+=I[N];R[G+1]+=I[N+1];R[G+2]+=I[N+2];R[G+3]+=H;R[G+4]+=Z;R[G+5]++;if(Z!=U-1&&e[Y+k]==65535)D(c,Z+1<<16|H,K,v(O,H,Z+1,R,G));
if(Z!=0&&e[Y-k]==65535)D(c,Z-1<<16|H,K,v(O,H,Z-1,R,G));if(H!=0&&e[Y-1]==65535)D(c,Z<<16|H-1,K,v(O,H-1,Z,R,G));
if(H!=k-1&&e[Y+1]==65535)D(c,Z<<16|H+1,K,v(O,H+1,Z,R,G))}}}g.rA=function(R,c,e,O,U,K){I=R;k=c;a=e;var _=O.RA=O.RA+1,Z=O.y9,H=O.cV,G=O.cV=new Uint32Array(_*6);
G.set(H,0);var N=Z[U[1]*k+U[0]];for(var Y=0;Y<Z.length;Y++)if(Z[Y]==N)Z[Y]=65535;for(var Y=0;Y<6;Y++)G[N*6+Y]=0;
var z=[];for(var Y=0;Y<1e3+a;Y++)z.push([]);for(var Y=0;Y<U.length;Y+=2)D(z,U[Y+1]<<16|U[Y],N,0);for(var Y=0;
Y<K.length;Y+=2)D(z,K[Y+1]<<16|K[Y],_-1,0);d(G,z,Z,O.arC,a);I=null};return g}();j.auX={};j.auX.aot=function(){var I=11,k=7,a=I>>>1,bQ=k>>>1,n=2,s=2e3/n,C=[],S=null,D="";
function T(v,g,d){var R=(v[g+0]-v[d+0])*(1/255),c=(v[g+1]-v[d+1])*(1/255),e=(v[g+2]-v[d+2])*(1/255),O=(v[g+3]-v[d+3])*(1/255),U=R*R*.125+c*c*.25+e*e*.5+O*O;
return C[~~(U*s)]}function o(v,g,d,R,c,e){var O=Date.now(),U=j.U(g*d);j.xD(v,U);var K=UZIP.adler(U,0,g*d);
if(K!=D){var _=j.yf(U,g,d);S=j.U(g*d*4);D=K;var Z=[1,1/9,1/25,1/49,1/81];for(var H=0;H<d;H++)for(var G=0;
G<g;G++)for(var Y=0;Y<4;Y++){var N=Math.max(1,G-Y),z=Math.min(g-1,G+Y),L=Math.max(1,H-Y),p=Math.min(d-1,H+Y),V=j.He(_,g,N,z,L,p);
if(isNaN(V))throw G+","+H+","+Y+","+V;S[(H*g+G)*4+Y]=V*Z[Y]}}if(dZ.QV){var r=dZ.Ec(0,g,d);r.set(v);var y=dZ.Ec(1,g,d);
y.set(S);var W=dZ.Ec(2,g,d);dZ.FL(W);dZ.filter.bl({type:dZ.filter.a2x,JL:new Float32Array([1/g,1/d]),a3f:y.e9,avX:c,ade:e},r.e9);
W.get(R)}else{for(var Y=0;Y<2e3;Y++)C[Y]=Math.exp(-(Y/2e3)*n*(100+(1-c)*(1-c)*1e4));var m=bQ+2;for(var H=m;
H<d-m;H++)for(var G=m;G<g-m;G++){var f=0,h=0,b=0,i=0;for(var w=0;w<I;w++)for(var J=0;J<I;J++){var q=G+J-a,x=H+w-a;
if(q==G&&x==H||q<m||x<m||q>=g-m||x>=d-m)continue;var A=T(S,(H*g+G)*4,(x*g+q)*4),Q=x*g+q<<2;f+=A*v[Q+0];
h+=A*v[Q+1];b+=A*v[Q+2];i+=A}if(i==0){continue}var B=1/i,l=(H*g+G)*4;R[l+0]=~~((1-e)*B*f+e*R[l+0]);R[l+1]=~~((1-e)*B*h+e*R[l+1]);
R[l+2]=~~((1-e)*B*b+e*R[l+2])}}}return o}();j.acj=function(){var I=6,k=I>>>1,a=[[-.0662912607,-.0855816496],[.1104854346,-.0855816496],[.6629126074,.1711632992],[.6629126074,.1711632992],[.1104854346,-.0855816496],[-.0662912607,-.0855816496],[0,0],[0,0]],n=[[-.0662912607,.0855816496],[-.1104854346,-.0855816496],[.6629126074,-.1711632992],[-.6629126074,.1711632992],[.1104854346,.0855816496],[.0662912607,-.0855816496],[0,0],[0,0]];
function s(e,O){var U=!1,K=e.length,_=O[0],N=5,L=0,p=0;for(var Y=1;Y<K;Y++)_=_.oL(O[Y]);if((_.Q&1)!=0)_.Q++;
if((_._&1)!=0)_._++;var Z=_.Q,H=_._,G=Math.max(Z,H);while(G>>>N>8&&N<10)N++;var z=1<<N;if(Z%z!=0)L=z-Z%z;
if(H%z!=0)p=z-H%z;_.CJ(L>>>1,p>>>1);Z=_.Q;H=_._;if(Z%z!=0||H%z!=0)throw"e";var V=Date.now(),r=[],y=j.U(_.c()),W=[],m=Z*H,f=new Float32Array(Z*H*2);
for(var Y=0;Y<K;Y++){var h=O[Y],b=j.U(h.c());j.xD(e[Y],b);y.fill(0);j.O0(b,h,y,_);r.push(y.slice(0));
var i=h.x-_.x,w=h.y-_.y,J=i+h.Q-2,q=w+h._;for(var x=0;x<h._;x++){var A=(x+w)*Z;for(var Q=0;Q<i;Q++)y[A+Q]=y[A+i];
for(var Q=J;Q<Z;Q++)y[A+Q]=y[A+J-1]}for(var Q=0;Q<Z;Q++){for(var x=0;x<w;x++)y[x*Z+Q]=y[w*Z+Q];for(var x=q;
x<H;x++)y[x*Z+Q]=y[(q-1)*Z+Q]}var B=new Float32Array(Z*H*2);W.push(B);for(var l=0;l<m;l++)B[l*2]=y[l]*(1/255);
D(B,f,Z,H,N);C(B,Z,H,N)}if(U)console.log("to gray, decompose",Date.now()-V);V=Date.now();var P=j.U(Z*H);
for(var x=0;x<H;x++)for(var Q=0;Q<Z;Q++){var F=0,t=0,b$=x*Z+Q<<1;for(var Y=0;Y<K;Y++){var hd=W[Y],di=hd[b$],hD=hd[b$+1],a$=di*di+hD*hD;
if(a$>t){t=a$;F=Y}}P[b$>>>1]=F}if(U)console.log("max abs value",Date.now()-V);V=Date.now();T(P,Z,H,N);
S(P,Z,H);if(U)console.log("denoise",Date.now()-V);V=Date.now();var eJ=f.slice(0);for(var x=0;x<H;x++)for(var Q=0;
Q<Z;Q++){var Y=x*Z+Q,b$=Y<<1,hY=W[P[Y]];eJ[b$]=hY[b$];eJ[b$+1]=hY[b$+1]}o(eJ,f,Z,H,N);if(U)console.log("compose",Date.now()-V);
V=Date.now();for(var l=0;l<m;l++){var a$=eJ[l*2]*255,F=0,t=1e9;for(var Y=0;Y<K;Y++){var ik=Math.abs(r[Y][l]-a$);
if(ik<t){t=ik;F=Y}r[Y][l]=0}r[F][l]=255}if(U)console.log("toRGB",Date.now()-V);V=Date.now();return[r,_]}function C(e,O,U,K){var _=O>>>K,Z=U>>>K,H=1e-4;
for(var G=0;G<U;G++)for(var N=0;N<O;N++){if(N<_&&G<Z)continue;var z=(G*O+N)*2,L=e[z],p=e[z+1],V=L*L+p*p;
if(V<H)L=p=0;else{var r=(V-H)/V;L*=r;p*=r}e[z]=L;e[z+1]=p}}function T(e,O,U,K){for(var _=0;_<K;_++){var Z=O>>>_,H=U>>>_,G=Z>>>1,N=H>>>1;
for(var z=0;z<N;z++)for(var L=0;L<G;L++){var p=z*O+G+L,V=(z+N)*O+G+L,r=(z+N)*O+L,y=e[p],W=e[V],m=e[r];
if(y==W==m){}else if(y==W)e[r]=y;else if(W==m)e[p]=W;else if(y==m)e[V]=y}}}function S(e,O,U){for(var K=1;
K<U-1;K++)for(var _=1;_<O-1;_++){var Y=K*O+_,Z=e[Y-O],H=e[Y-1],G=e[Y],N=e[Y+1],z=e[Y+O],L=Z==H&&Z==N||Z==N&&N==z||N==z&&H==z||Z==H&&z==H;
if(L)e[Y]=Z==H?Z:H==N?H:Z;else if(G>Z&&G>H&&G>N&&G>z)e[Y]=Z+H+N+z>>>2;else if(G<Z&&G<H&&G<N&&G<z)e[Y]=Z+H+N+z>>>2}}function D(e,O,U,K,_){for(var Y=0;
Y<_;Y++){var Z=U>>>Y,H=K>>>Y;v(e,O,U,K,Z,H)}}function o(e,O,U,K,_){for(var Y=_-1;Y>=0;Y--){var Z=U>>Y,H=K>>Y;
g(e,O,U,K,Z,H)}}function v(e,O,U,K,_,Z){R(e,O,U,K,_,Z,!0);R(O,e,U,K,_,Z,!1)}function g(e,O,U,K,_,Z){c(e,O,U,K,_,Z,!0);
c(O,e,U,K,_,Z,!1)}function d(e,O,U,K,_,Z){var H=U*K+O<<1;e[H]=_;e[H+1]=Z}function R(e,O,U,K,_,Z,H){var bC=H?_:Z,G=H?Z:_,N=G>>>1;
for(var z=0;z<bC;z++){for(var L=0;L<G;L+=2){var p=0,V=0,r=0,y=0,W=L>>>1;for(var m=0;m<6;m++){var f=L+m-3;
if(f<0)f=G+f;if(f>=G)f=f-G;var h=(H?f*U+z:z*U+f)<<1,b=e[h],i=e[h+1],w=a[m],J=n[m];p+=b*w[0]-i*w[1];V+=i*w[0]+b*w[1];
r+=b*J[0]-i*J[1];y+=i*J[0]+b*J[1]}if(H){d(O,z,W,U,p,V);d(O,z,W+N,U,r,y)}else{d(O,W,z,U,p,V);d(O,W+N,z,U,r,y)}}}}function c(e,O,U,K,_,Z,H){var bC=H?_:Z,G=H?Z:_,N=G>>>1,z,L,p,V;
for(var r=0;r<bC;r++){for(var y=0;y<G;y++){var W=0,m=0;for(var f=y+3&1;f<6;f+=2){var h=y-f+3>>1;if(h<0)h=N+h;
if(h>=N)h=h-N;if(H){z=r;L=h;p=r;V=h+N}else{L=r;z=h;V=r;p=h+N}var b=L*U+z<<1,i=V*U+p<<1,w=e[b],J=e[b+1],q=e[i],x=e[i+1],A=a[f],Q=n[f];
W+=w*A[0]+q*Q[0];W+=J*A[1]+x*Q[1];m+=J*A[0]+x*Q[0];m-=w*A[1]+q*Q[1]}if(H)d(O,r,y,U,W,m);else d(O,y,r,U,W,m)}}}return{CH:s}}();
j.aB_=function(){var I=Math.floor(12e3/8),k=UPNG.quantize.findNearest,a,n,s,C;function T(d,R,c,e){var O=[d,new eZ(0,0,R,c)],K;
j.iz(O);var U=Date.now(),_=R+c>>>1;for(var Y=_<1e3?2:4;Y>=0;Y-=2){var Z=O[Y+1],n=Z.Q,s=Z._;if(K==null){K=new Uint8Array(n*s);
k(O[Y],K,e)}S(O[Y],n,s,e,K);if(Y!=0){var H=O[Y-1],G=H.Q,N=H._,z=new Uint8Array(G*N);for(var L=0;L<N;
L++)for(var p=0;p<G;p++)z[L*G+p]=K[(L>>>1)*n+(p>>>1)];K=z}}return K}function S(d,R,c,e,O){a=d;n=R;s=c;
C=e;var U=C.length>>>2,K=[-1,-n,1,n],_=[-1,-n,-n+1,2,n+1,n],Z=[-1,-n,1,n+1,n+n,n-1],H=8,G=n+s>>>1,N=1e9;
while(G>512){H>>=1;G>>=1}H=Math.max(1,Math.min(4,H));for(var z=0;z<H;z++){var L=0;for(var p=0;p<s;p++)for(var V=0;
V<n;V++){if(v(O,V,p)<2)continue;var r=p*n+V,y=O[r],W=1e9,m=0,f=V==0||p==0||V>n-3||p>s-3;if(f){W=1e9;
for(var Y=0;Y<U;Y++){O[r]=Y;var h=g(O,V,p,2);if(h<W){W=h;m=Y}}O[r]=m;if(m==y&&V+1<n&&O[r+1]==y){W=1e9;
for(var Y=0;Y<U;Y++){O[r]=O[r+1]=Y;var h=g(O,V,p,2)+g(O,V+1,p,2);if(h<W){W=h;m=Y}}O[r]=O[r+1]=m}if(m==y&&p+1<s&&O[r+n]==y){W=1e9;
for(var Y=0;Y<U;Y++){O[r]=O[r+n]=Y;var h=g(O,V,p,2)+g(O,V,p+1,2);if(h<W){W=h;m=Y}}O[r]=O[r+n]=m}}else{W=1e9;
m=-1;for(var Y=0;Y<4;Y++){var b=O[r+K[Y]];if(b==m)continue;O[r]=b;var h=g(O,V,p,2);if(h<W){W=h;m=b}}O[r]=m;
if(m==y&&V+1<n&&O[r+1]==y){W=1e9;m=-1;for(var Y=0;Y<6;Y++){var b=O[r+_[Y]];if(b==m)continue;O[r]=O[r+1]=b;
var h=g(O,V,p,2)+g(O,V+1,p,2);if(h<W){W=h;m=b}}O[r]=O[r+1]=m}if(m==y&&p+1<s&&O[r+n]==y){W=1e9;m=-1;for(var Y=0;
Y<6;Y++){var b=O[r+Z[Y]];if(b==m)continue;O[r]=O[r+n]=b;var h=g(O,V,p,2)+g(O,V,p+1,2);if(h<W){W=h;m=b}}O[r]=O[r+n]=m}}L+=W}}}function D(d){var R=0;
for(var c=0;c<s;c++)for(var e=0;e<n;e++)R+=g(d,e,c,1);return R/(n*s)}function o(d,R,c){var Y=c*n+R,e=Y*4,O=d[Y]*4,U=a[e]-C[O],K=a[e+1]-C[O+1],_=a[e+2]-C[O+2],Z=a[e+3]-C[O+3];
return U*U+K*K+_*_+Z*Z}function v(d,R,c){if(R<0||R>=n||c<0||c>=s)throw"e";var Y=c*n+R,e=d[Y],O=0;if(c>0&&e!=d[Y-n])O+=2;
if(R>0&&e!=d[Y-1])O+=2;if(R<n-1&&e!=d[Y+1])O+=2;if(c<s-1&&e!=d[Y+n])O+=2;if(c>0&&R>0&&e!=d[Y-n-1])O++;
if(c<s-1&&R>0&&e!=d[Y+n-1])O++;if(c>0&&R<n-1&&e!=d[Y-n+1])O++;if(c<s-1&&R<n-1&&e!=d[Y+n+1])O++;return O}function g(d,R,c,e){return o(d,R,c)+v(d,R,c)*e*I}return T}();
var id=function(){function I(){this.c=0;this.iB=0;this.uL={};this.uW=[];this.EU=1e5;this.RE=1e5;this.sx=-1;
this.Nw=-1;this.color=0}function k(bQ){this.aD=bQ;this.R_=new Array(bQ);this.mL=new Array(bQ*6);this.aij=0;
this.g$=new Array(bQ*2);this.alpha=new Array(bQ);this.l3=new Array(bQ);this.mE=new Array(bQ)}function a(s,C,T,S){function D(O,U,s,C){return s[C*U+O]}function o(Y){var N=s.length;
while(Y<N&&s[Y]==0)Y++;return Y<N?Y:-1}function v(O,U,N){for(var Y=2;Y<5;Y++){var z=0;for(var L=-Y+1;
L<=Y-1;L++){z+=D(O+L,U+Y-1,s,C)==N?1:-1;z+=D(O+Y-1,U+L-1,s,C)==N?1:-1;z+=D(O+L-1,U-Y,s,C)==N?1:-1;z+=D(O-Y,U+L,s,C)==N?1:-1}if(z>0)return 1;
else if(z<0)return 0}return 0}function g(N,c){var e=new I,O=N,U=c,z=0,L=1,p;e.color=s[c*C+N];e.sign=D(N,c,s,C)==e.color?"+":"-";
while(1){e.uW.push(O,U);if(O>e.sx)e.sx=O;if(O<e.EU)e.EU=O;if(U>e.Nw)e.Nw=U;if(U<e.RE)e.RE=U;e.iB++;O+=z;
U+=L;e.c-=O*L;if(O==N&&U==c)break;var V=D(O+(z+L-1>>1),U+(L-z-1>>1),s,C)==e.color,r=D(O+(z-L-1>>1),U+(L+z-1>>1),s,C)==e.color;
if(r&&!V){if(S.YH=="right"||S.YH=="black"&&e.sign=="+"||S.YH=="white"&&e.sign=="-"||S.YH=="majority"&&v(O,U,e.color)||S.YH=="minority"&&!v(O,U,e.color)){p=z;
z=-L;L=p}else{p=z;z=L;L=-p}}else if(r){p=z;z=-L;L=p}else if(!V){p=z;z=L;L=-p}}return e}var d=0,R=[];
while(!0){var d=o(d);if(d==-1)break;var c=Math.floor(d/C),e=g(d-c*C,c);for(var Y=0;Y<e.uW.length-2;Y+=2){var O=e.uW[Y],U=e.uW[Y+1],K=U*C+O;
if(O==e.uW[Y+2]&&U+1==e.uW[Y+3]&&s[K]!=0)id.fill(K,s,C,0)}if(e.c>S.ahs)R.push(e)}for(var Y=0;Y<R.length;
Y++)R[Y].parent=-1;var _=Date.now();for(var Y=1;Y<R.length;Y++){var Z=R[Y];for(var H=Y-1;H>=0;H--){var G=R[H];
if(Z.EU<G.EU||Z.sx>G.sx||Z.RE<G.RE||Z.Nw>G.Nw)continue;if(!id.lr(G.uW,Z.uW[0]+.5,Z.uW[1]+.5))continue;
Z.parent=H;break}}return R}function n(s,C){function T(z,L,p,V,r){this.x=z;this.y=L;this.P9=p;this.e4=V;
this.th=r}function S(z,bQ){return(bQ+z)%bQ}function D(z,L,p,V){return z*V-p*L}function o(z,L,p,V){return z*p+L*V}function v(z,L,p){if(z<=p)return z<=L&&L<p;
else return z<=L||L<p}function g(z,L,p){var V=0;V+=L*z[0]*L;V+=L*z[1]*p;V+=L*z[2];V+=p*z[3]*L;V+=p*z[4]*p;
V+=p*z[5];V+=z[6]*L;V+=z[7]*p;V+=z[8];return V}function d(z,L,p){return L+z*(p-L)}function R(z,L,p,V){var r=Math.sign(p-z),y=-Math.sign(V-L);
return r*(p-z)-y*(V-L)}function c(z,L){return Math.sqrt(z*z+L*L)}function e(z,L,p,V,r){var y=1-z;return y*y*y*L+3*(y*y*z)*p+3*(z*z*y)*V+z*z*z*r}function O(z,L,p,V,r,y,W,m){var f=D(z,L,W,m),h=D(p,V,W,m),b=D(r,y,W,m),i=f-2*h+b,w=-2*f+2*h,J=f,q=w*w-4*i*J;
if(i==0||q<0)return-1;var x=Math.sqrt(q),A=(-w+x)/(2*i),Q=(-w-x)/(2*i);if(A>=0&&A<=1)return A;else if(Q>=0&&Q<=1)return Q;
else return-1}function U(N){var Y,z,L;N.dM=N.uW[0];N.aq_=N.uW[1];N.C$=[];var p=N.C$;p.push(new T(0,0,0,0,0));
for(Y=0;Y<N.iB;Y++){z=N.uW[Y<<1]-N.dM;L=N.uW[(Y<<1)+1]-N.aq_;p.push(new T(p[Y].x+z,p[Y].y+L,p[Y].P9+z*L,p[Y].e4+z*z,p[Y].th+L*L))}}function K(N){var bQ=N.iB,z=N.uW,L,p=new Array(bQ),V=new Array(bQ),r=new Array(4),y,W,m,f,h,b,i,w,J,q,x,Y,A,Q,B,l,P,F,t=0;
N.Ei=new Array(bQ);for(Y=bQ-1;Y>=0;Y--){if(z[Y<<1]!=z[t<<1]&&z[(Y<<1)+1]!=z[(t<<1)+1])t=Y+1;V[Y]=t}for(Y=bQ-1;
Y>=0;Y--){var b$=S(Y+1,bQ)<<1;r[0]=r[1]=r[2]=r[3]=0;L=(3+3*(z[b$]-z[Y<<1])+(z[b$+1]-z[(Y<<1)+1]))/2;
r[L]++;y=0;W=0;m=0;f=0;t=V[Y];Q=Y;while(1){x=0;L=(3+3*Math.sign(z[t*2]-z[Q*2])+Math.sign(z[t*2+1]-z[Q*2+1]))/2;
r[L]++;if(r[0]&&r[1]&&r[2]&&r[3]){p[Y]=Q;x=1;break}J=z[t*2]-z[Y*2];q=z[t*2+1]-z[Y*2+1];if(D(y,W,J,q)<0||D(m,f,J,q)>0){break}if(Math.abs(J)<=1&&Math.abs(q)<=1){}else{h=J+(q>=0&&(q>0||J<0)?1:-1);
b=q+(J<=0&&(J<0||q<0)?1:-1);if(D(y,W,h,b)>=0){y=h;W=b}h=J+(q<=0&&(q<0||J<0)?1:-1);b=q+(J>=0&&(J>0||q<0)?1:-1);
if(D(m,f,h,b)<=0){m=h;f=b}}Q=t;t=V[Q];if(!v(t,Y,Q)){break}}if(x==0){i=Math.sign(z[t*2]-z[Q*2]);w=Math.sign(z[t*2+1]-z[Q*2+1]);
J=z[Q*2]-z[Y*2];q=z[Q*2+1]-z[Y*2+1];B=D(y,W,J,q);l=D(y,W,i,w);P=D(m,f,J,q);F=D(m,f,i,w);A=1e7;if(l<0){A=Math.floor(B/-l)}if(F>0){A=Math.min(A,Math.floor(-P/F))}p[Y]=S(Q+A,bQ)}}A=p[bQ-1];
N.Ei[bQ-1]=A;for(Y=bQ-2;Y>=0;Y--){if(v(Y+1,p[Y],A)){A=p[Y]}N.Ei[Y]=A}for(Y=bQ-1;v(S(Y+1,bQ),A,N.Ei[Y]);
Y--){N.Ei[Y]=A}}function _(N){function z(N,Y,L){var bQ=N.iB,J=N.uW,q=N.C$,x,A,Q,B,l,V,P,F,w,t,b$,hd,di,hD,a$=0;
if(L>=bQ){L-=bQ;a$=1}if(a$==0){x=q[L+1].x-q[Y].x;A=q[L+1].y-q[Y].y;B=q[L+1].e4-q[Y].e4;Q=q[L+1].P9-q[Y].P9;
l=q[L+1].th-q[Y].th;V=L+1-Y}else{x=q[L+1].x-q[Y].x+q[bQ].x;A=q[L+1].y-q[Y].y+q[bQ].y;B=q[L+1].e4-q[Y].e4+q[bQ].e4;
Q=q[L+1].P9-q[Y].P9+q[bQ].P9;l=q[L+1].th-q[Y].th+q[bQ].th;V=L+1-Y+bQ}b$=(J[Y<<1]+J[L<<1])/2-J[0];hd=(J[(Y<<1)+1]+J[(L<<1)+1])/2-J[1];
hD=J[L<<1]-J[Y<<1];di=-(J[(L<<1)+1]-J[(Y<<1)+1]);P=(B-2*x*b$)/V+b$*b$;F=(Q-x*hd-A*b$)/V+b$*hd;w=(l-2*A*hd)/V+hd*hd;
t=di*di*P+2*di*hD*F+hD*hD*w;return Math.sqrt(t)}var Y,L,p,V,bQ=N.iB,r=new Array(bQ+1),y=new Array(bQ+1),W=new Array(bQ),m=new Array(bQ+1),f=new Array(bQ+1),h=new Array(bQ+1),b,i,w;
for(Y=0;Y<bQ;Y++){w=S(N.Ei[S(Y-1,bQ)]-1,bQ);if(w==Y){w=S(Y+1,bQ)}if(w<Y){W[Y]=bQ}else{W[Y]=w}}L=1;for(Y=0;
Y<bQ;Y++){while(L<=W[Y]){m[L]=Y;L++}}Y=0;for(L=0;Y<bQ;L++){f[L]=Y;Y=W[Y]}f[L]=bQ;p=L;Y=bQ;for(L=p;L>0;
L--){h[L]=Y;Y=m[Y]}h[0]=0;r[0]=0;for(L=1;L<=p;L++){for(Y=h[L];Y<=f[L];Y++){i=-1;for(V=f[L-1];V>=m[Y];
V--){b=z(N,V,Y)+r[V];if(i<0||b<i){y[Y]=V;i=b}}r[Y]=i}}N.adu=p;N.aoC=new Array(p);for(Y=bQ,L=p-1;Y>0;
L--){Y=y[Y];N.aoC[L]=Y}}function Z(N){function z(N,Y,b,W,m,eJ){var bQ=N.iB,hY=N.C$,ik=0,w;while(b>=bQ){b-=bQ;
ik+=1}while(Y>=bQ){Y-=bQ;ik-=1}while(b<0){b+=bQ;ik-=1}while(Y<0){Y+=bQ;ik+=1}var fw=hY[b+1].x-hY[Y].x+ik*hY[bQ].x,jb=hY[b+1].y-hY[Y].y+ik*hY[bQ].y,cd=hY[b+1].e4-hY[Y].e4+ik*hY[bQ].e4,dN=hY[b+1].P9-hY[Y].P9+ik*hY[bQ].P9,kc=hY[b+1].th-hY[Y].th+ik*hY[bQ].th,i=b+1-Y+ik*bQ;
W[eJ]=fw/i;W[eJ+1]=jb/i;var ck=(cd-fw*fw/i)/i,b3=(dN-fw*jb/i)/i,hL=(kc-jb*jb/i)/i,gS=(ck+hL+Math.sqrt((ck-hL)*(ck-hL)+4*b3*b3))/2;
ck-=gS;hL-=gS;if(Math.abs(ck)>=Math.abs(hL)){w=Math.sqrt(ck*ck+b3*b3);if(w!=0){m[eJ]=-b3/w;m[eJ+1]=ck/w}}else{w=Math.sqrt(hL*hL+b3*b3);
if(w!=0){m[eJ]=-hL/w;m[eJ+1]=b3/w}}if(w==0){m[eJ]=m[eJ+1]=0}}var L=N.adu,p=N.aoC,bQ=N.iB,V=N.uW,r=N.dM,y=N.aq_,W=new Array(L*2),m=new Array(L*2),f=new Array(L),h=new Array(3),Y,b,i,w,A,Q,B,l,P,F,t;
N.uL=new k(L);for(Y=0;Y<L;Y++){b=p[S(Y+1,L)];b=S(b-p[Y],bQ)+p[Y];W[Y<<1]=0;W[(Y<<1)+1]=0;m[Y<<1]=0;m[(Y<<1)+1]=0;
z(N,p[Y],b,W,m,Y<<1)}for(Y=0;Y<L;Y++){f[Y]=[0,0,0,0,0,0,0,0,0];var J=m[Y<<1]*m[Y<<1]+m[(Y<<1)+1]*m[(Y<<1)+1],q=1/J;
if(J!=0){h[0]=m[(Y<<1)+1];h[1]=-m[Y<<1];h[2]=-h[1]*W[(Y<<1)+1]-h[0]*W[Y<<1];for(w=0;w<3;w++){f[Y][w*3+0]=h[w]*h[0]*q;
f[Y][w*3+1]=h[w]*h[1]*q;f[Y][w*3+2]=h[w]*h[2]*q}}}var x=[0,0,0,0,0,0,0,0,0];for(Y=0;Y<L;Y++){x[0]=x[1]=x[2]=x[3]=x[4]=x[5]=x[6]=x[7]=x[8]=x[9]=0;
var b$=V[p[Y]<<1]-r,hd=V[(p[Y]<<1)+1]-y,di=0,hD=0;b=S(Y-1,L);for(w=0;w<9;w+=3){x[w+0]=f[b][w+0]+f[Y][w+0];
x[w+1]=f[b][w+1]+f[Y][w+1];x[w+2]=f[b][w+2]+f[Y][w+2]}while(1){var a$=x[0]*x[4]-x[1]*x[3];if(a$!=0){di=(-x[2]*x[4]+x[5]*x[0])/a$;
hD=(x[2]*x[3]-x[5]*x[0])/a$;break}if(x[0]>x[4]){h[0]=-x[1];h[1]=x[0]}else if(x[4]){h[0]=-x[4];h[1]=x[3]}else{h[0]=1;
h[1]=0}var J=h[0]*h[0]+h[1]*h[1],q=1/J;h[2]=-h[1]*hd-h[0]*b$;for(w=0;w<3;w++){x[w*3+0]+=h[w]*h[0]*q;
x[w*3+1]+=h[w]*h[1]*q;x[w*3+2]+=h[w]*h[2]*q}}A=Math.abs(di-b$);Q=Math.abs(hD-hd);if(A<=.5&&Q<=.5){N.uL.g$[Y<<1]=di+r;
N.uL.g$[(Y<<1)+1]=hD+y;continue}B=g(x,b$,hd);P=b$;F=hd;if(x[0]!=0){for(t=0;t<2;t++){hD=hd-.5+t;di=-(x[1]*hD+x[2])/x[0];
A=Math.abs(di-b$);l=g(x,di,hD);if(A<=.5&&l<B){B=l;P=di;F=hD}}}if(x[4]!=0){for(t=0;t<2;t++){di=b$-.5+t;
hD=-(x[3]*di+x[5])/x[4];Q=Math.abs(hD-hd);l=g(x,di,hD);if(Q<=.5&&l<B){B=l;P=di;F=hD}}}for(w=0;w<2;w++){for(i=0;
i<2;i++){di=b$-.5+w;hD=hd-.5+i;l=g(x,di,hD);if(l<B){B=l;P=di;F=hD}}}N.uL.g$[Y<<1]=P+r;N.uL.g$[(Y<<1)+1]=F+y}}function H(N){var z=N.uL.aD,L=N.uL,Y,p,V,r,y,W,m,f,h;
for(Y=0;Y<z;Y++){p=S(Y+1,z);V=S(Y+2,z);var b=L.g$[Y<<1],i=L.g$[(Y<<1)+1],w=L.g$[V<<1],J=L.g$[(V<<1)+1],q=L.g$[p<<1],x=L.g$[(p<<1)+1],A=d(.5,w,q),Q=d(.5,J,x);
y=R(b,i,w,J);if(y!=0){r=D(q-b,x-i,w-b,J-i)/y;r=Math.abs(r);W=r>1?1-1/r:0;W=W*(1/.75)}else{W=4/3}L.l3[p]=W;
var B=3*p<<1;if(W>=C.apB){L.R_[p]=0;L.mL[B+0]=L.mL[B+1]=0;L.mL[B+2]=q;L.mL[B+3]=x;L.mL[B+4]=A;L.mL[B+5]=Q}else{if(W<.55){W=.55}else if(W>1){W=1}var l=.5+.5*W;
L.R_[p]=1;L.mL[B]=d(l,b,q);L.mL[B+1]=d(l,i,x);L.mL[B+2]=d(l,w,q);L.mL[B+3]=d(l,J,x);L.mL[B+4]=A;L.mL[B+5]=Q}L.alpha[p]=W;
L.mE[p]=.5}L.ajy=1}function G(N){function z(){this.n6=0;this.Y1=0;this.xW=0;this.Jq=0;this.hi=0;this.Tx=0;
this.Yl=0;this.alpha=0}function L(N,Y,b,kB,jw,P,F){var V=N.uL.aD,iT=N.uL.mL,gY=N.uL.g$;if(Y==b)return 1;
var aL=Y,q=S(Y+1,V),dw=S(aL+1,V),dN=gY[Y<<1],kc=gY[(Y<<1)+1],ka=gY[q<<1],cy=gY[(q<<1)+1],jP=P[dw];if(jP==0)return 1;
var aA=c(dN-ka,kc-cy);for(aL=dw;aL!=b;aL=dw){var dw=S(aL+1,V),d1=S(aL+2,V),ag=gY[dw<<1],b0=gY[(dw<<1)+1],kx=gY[d1<<1],br=gY[(d1<<1)+1];
if(P[dw]!=jP)return 1;if(Math.sign(D(ka-dN,cy-kc,kx-ag,br-b0))!=jP)return 1;if(o(ka-dN,cy-kc,kx-ag,br-b0)<aA*c(ag-kx,b0-br)*-.999847695156)return 1}var ft=S(Y,V)*3+2<<1,iv=S(Y+1,V)<<1,k6=S(b,V)<<1,ay=S(b,V)*3+2<<1,eJ=iT[ft],hY=iT[ft+1],eT=gY[iv],kD=gY[iv+1],cP=gY[k6],cU=gY[k6+1],gu=iT[ay],jd=iT[ay+1],t=gY[0],b$=gY[1];
ft=b*3+2<<1;var i$=iT[ft],hT=iT[ft+1],x=F[b]-F[Y];x-=D(i$-t,hT-b$,i$-t,hT-b$)/2;if(Y>=b){x+=F[V]}var jk=eT-eJ,i1=kD-hY,aZ=cP-eJ,az=cU-hY,hM=gu-eJ,ku=jd-hY,dM=D(jk,i1,aZ,az),fb=D(jk,i1,hM,ku),j$=D(aZ,az,hM,ku),e0=dM+j$-fb;
if(fb==dM)return 1;var l=j$/(j$-e0),B=fb/(fb-dM),ff=fb*l/2;if(ff==0)return 1;var dm=x/ff,A=2-Math.sqrt(4-dm/.3);
kB.Y1=d(l*A,eJ,eT);kB.xW=d(l*A,hY,kD);kB.Jq=d(B*A,gu,cP);kB.hi=d(B*A,jd,cU);kB.alpha=A;kB.Tx=l;kB.Yl=B;
eT=kB.Y1;kD=kB.xW;cP=kB.Jq;cU=kB.hi;kB.n6=0;for(aL=S(Y+1,V);aL!=b;aL=dw){dw=S(aL+1,V);var dX=gY[aL<<1],il=gY[(aL<<1)+1],ag=gY[dw<<1],b0=gY[(dw<<1)+1];
l=O(eT-eJ,kD-hY,cP-eT,cU-kD,gu-cP,jd-cU,ag-dX,b0-il);if(l<-.5)return 1;var j1=e(l,eJ,eT,cP,gu),c5=e(l,hY,kD,cU,jd),aA=c(ag-dX,b0-il);
if(aA==0)return 1;var iE=D(ag-dX,b0-il,j1-dX,c5-il)/aA;if(Math.abs(iE)>jw)return 1;if(o(ag-dX,b0-il,j1-dX,c5-il)<0||o(dX-ag,il-b0,j1-ag,c5-b0)<0){return 1}kB.n6+=iE*iE}for(aL=Y;
aL!=b;aL=dw){dw=S(aL+1,V);var ft=aL*3+2<<1,iv=dw*3+2<<1,f6=iT[ft],fP=iT[ft+1],jE=iT[iv],iQ=iT[iv+1];
l=O(eT-eJ,kD-hY,cP-eT,cU-kD,gu-cP,jd-cU,jE-f6,iQ-fP);if(l<-.5)return 1;var j1=e(l,eJ,eT,cP,gu),c5=e(l,hY,kD,cU,jd),aA=c(jE-f6,iQ-fP);
if(aA==0)return 1;var iE=D(jE-f6,iQ-fP,j1-f6,c5-fP)/aA,j8=D(jE-f6,iQ-fP,gY[dw<<1]-f6,gY[(dw<<1)+1]-fP)/aA;
j8*=.75*N.uL.alpha[dw];if(j8<0){iE=-iE;j8=-j8}if(iE<j8-jw)return 1;if(iE<j8){kB.n6+=(iE-j8)*(iE-j8)}}return 0}var p=N.uL,V=p.aD,r=p.g$,y=new Array(V+1),W=new Array(V+1),m=new Array(V+1),f=new Array(V+1),h,Y,b,i,w=new z,J,q,x,A,Q,B,l,P=new Array(V),F=new Array(V+1);
for(Y=0;Y<V;Y++){if(p.R_[Y]=="CURVE"){var t=r[S(Y-1,V)<<1],b$=r[(S(Y-1,V)<<1)+1],hd=r[Y<<1],di=r[(Y<<1)+1],hD=r[S(Y+1,V)<<1],a$=r[(S(Y+1,V)<<1)+1];
P[Y]=Math.sign(D(hd-t,di-b$,hD-hd,a$-di))}else{P[Y]=0}}x=0;F[0]=0;var eJ=p.g$[0],hY=p.g$[1];for(Y=0;
Y<V;Y++){q=S(Y+1,V);if(p.R_[q]=="CURVE"){A=p.alpha[q];var ik=Y*3+2<<1,fw=q*3+2<<1,jb=p.mL[ik],cd=p.mL[ik+1],dN=r[q<<1],kc=r[(q<<1)+1],ck=p.mL[fw],b3=p.mL[fw+1];
x+=.3*A*(4-A)*D(dN-jb,kc-cd,ck-jb,b3-cd)/2;x+=D(jb-eJ,cd-hY,ck-eJ,b3-hY)/2}F[Y+1]=x}y[0]=-1;W[0]=0;m[0]=0;
for(b=1;b<=V;b++){y[b]=b-1;W[b]=W[b-1];m[b]=m[b-1]+1;for(Y=b-2;Y>=0;Y--){i=L(N,Y,S(b,V),w,C.ali,P,F);
if(i){break}if(m[b]>m[Y]+1||m[b]==m[Y]+1&&W[b]>W[Y]+w.n6){y[b]=Y;W[b]=W[Y]+w.n6;m[b]=m[Y]+1;f[b]=w;w=new z}}}h=m[V];
Q=new k(h);B=new Array(h);l=new Array(h);b=V;for(Y=h-1;Y>=0;Y--){var hL=S(b,V),gS=Y*3+0<<1,jF=hL*3+0<<1;
if(y[b]==b-1){Q.R_[Y]=p.R_[hL];Q.mL[gS]=p.mL[jF];Q.mL[gS+1]=p.mL[jF+1];Q.mL[gS+2]=p.mL[jF+2];Q.mL[gS+3]=p.mL[jF+3];
Q.mL[gS+4]=p.mL[jF+4];Q.mL[gS+5]=p.mL[jF+5];Q.g$[Y<<1]=p.g$[hL<<1];Q.g$[(Y<<1)+1]=p.g$[(hL<<1)+1];Q.alpha[Y]=p.alpha[hL];
Q.l3[Y]=p.l3[hL];Q.mE[Y]=p.mE[hL];B[Y]=l[Y]=1}else{Q.R_[Y]="CURVE";Q.mL[gS]=f[b].Y1;Q.mL[gS+1]=f[b].xW;
Q.mL[gS+2]=f[b].Jq;Q.mL[gS+3]=f[b].hi;Q.mL[gS+4]=p.mL[jF+4];Q.mL[gS+5]=p.mL[jF+5];Q.g$[Y<<1]=d(f[b].Yl,p.mL[jF+4],r[hL<<1]);
Q.g$[(Y<<1)+1]=d(f[b].Yl,p.mL[jF+5],r[(hL<<1)+1]);Q.alpha[Y]=f[b].alpha;Q.l3[Y]=f[b].alpha;B[Y]=f[b].Yl;
l[Y]=f[b].Tx}b=y[b]}for(Y=0;Y<h;Y++){q=S(Y+1,h);Q.mE[Y]=B[Y]/(B[Y]+l[q])}Q.ajy=1;N.uL=Q}for(var Y=0;
Y<s.length;Y++){var N=s[Y];U(N);K(N);_(N);Z(N);H(N);if(C.aAp)G(N)}}return{aB1:a,arA:n}}();id.CG=function(I,k,a,n){var s={YH:"minority",ahs:n,aAp:!0,apB:1,ali:.2},C=id.aB1(I,k,a,s);
id.arA(C,s);return C};id.iQ=function(I){var k=[];for(var Y=0;Y<I.length;Y++){var a=I[Y],n=a.uL,s=["M"],C=[n.mL[(n.aD-1)*6+4],n.mL[(n.aD-1)*6+5]];
for(var T=0;T<n.aD;T++){var S=T*6;if(n.R_[T]==1){s.push("C");for(var D=0;D<6;D++)C.push(n.mL[S+D])}else if(n.R_[T]==0){s.push("L");
for(var D=2;D<4;D++)C.push(n.mL[S+D])}}s.push("Z");k.push({parent:a.parent,color:a.color,path:{s:C,m:s}})}return k};
id.lr=function(I,k,a){var bQ=I.length>>1,n,s=I[2*bQ-3]-a,C=I[2*bQ-2]-k,T=I[2*bQ-1]-a,S=T>s,D=0;for(var Y=0;
Y<bQ;Y++){n=C;s=T;C=I[2*Y]-k;T=I[2*Y+1]-a;if(s==T)continue;S=T>s}for(var Y=0;Y<bQ;Y++){n=C;s=T;C=I[2*Y]-k;
T=I[2*Y+1]-a;if(s<0&&T<0)continue;if(s>0&&T>0)continue;if(n<0&&C<0)continue;if(s==T&&Math.min(n,C)<=0)return!0;
if(s==T)continue;var o=n+(C-n)*-s/(T-s);if(o==0)return!0;if(o>0)D++;if(s==0&&S&&T>s)D--;if(s==0&&!S&&T<s)D--;
S=T>s}return(D&1)==1};id.fill=function(I,k,a,n){var s=k[I],C=[I],T=0;while(T<C.length){var S=C[T];T++;
k[S]=n;if(k[S-a]==s){C.push(S-a);k[S-a]=254}if(k[S-1]==s){C.push(S-1);k[S-1]=254}if(k[S+1]==s){C.push(S+1);
k[S+1]=254}if(k[S+a]==s){C.push(S+a);k[S+a]=254}}};var gU=function(){function I(S){return Math.max(0,Math.min(1,S))}function k(S,D){var o=D<0?-D:D;
if(S>1)S=.99;S=S*.99;var v=Math.pow(o/5,.16),g=Math.pow(2,o<1?o:1+(o-1)*.8);if(D<0)g=1/g;S=v*(1-Math.pow(1-S,g))+(1-v)*S;
return S}function a(S,D){var o=D/100;S=S*.99;S=o*(.5-.5*Math.cos(S*Math.PI))+(1-o)*S;return S}var n=j.LT.I5(1,1,1,-.3),s=j.LT.Us(n);
function C(S,D,o,v,g,d,R){var c=S[o],e=S[o+1],O=S[o+2],U=j.LT.DW(n,[c,e,O,1]);c=U[0];e=U[1];O=U[2];c=k(c,v);
e=k(e,v);O=k(O,v);var U=j.LT.DW(s,[c,e,O,1]);c=U[0];e=U[1];O=U[2];c=I(c);e=I(e);O=I(O);c=a(c,g);e=a(e,g);
O=a(O,g);var K=by.ax1(c,e,O,d);c=K[0];e=K[1];O=K[2];c=I(c);e=I(e);O=I(O);if(R){var _=new Uint8Array(4);
_[0]=~~(.5+c*255);_[1]=~~(.5+e*255);_[2]=~~(.5+O*255);fo.uq(R,_,_,new eZ(0,0,1,1));c=_[0]/255;e=_[1]/255;
O=_[2]/255}D[o]=c;D[o+1]=e;D[o+2]=O}function T(S,D,o,v,g,d){var R=g.Temp?g.Temp.v:0,c=g.Tint?g.Tint.v:0,e=g.Ex12?g.Ex12.v:0,O=g.Cr12?g.Cr12.v:0,U=g.Vibr?g.Vibr.v:0,K=g.Strt?g.Strt.v:0,_=by.UX(R,c),Z=null;
e+=_.a8O;if(U!=0||K!=0)Z=fo.Zh("vibA",{Strt:g.Strt,vibrance:g.Vibr});var H=Date.now();if(d){var G=Math.pow(2,e),N=S.length;
e=0;var z=new Float32Array(4e3);for(var Y=0;Y<4e3;Y++){var L=Y*(1/1e3);L=j.M1(L);L*=G;L=j.lD(L);L=I(L);
z[Y]=L}for(var Y=0;Y<N;Y+=3){v[Y]=z[~~(S[Y]*1e3)];v[Y+1]=z[~~(S[Y+1]*1e3)];v[Y+2]=z[~~(S[Y+2]*1e3)]}console.log(Date.now()-H,"Exposure normalizing");
H=Date.now()}else v.set(S);if(e!=0||O!=0||R!=0||c!=0||Z){var p=17,V=1/(p-1),r=p*p*p,y=new Array(r*3);
for(var W=0;W<p;W++)for(var m=0;m<p;m++)for(var f=0;f<p;f++){var Y=W*p*p+m*p+f,h=Y*3;y[h]=W*V;y[h+1]=m*V;
y[h+2]=f*V}for(var Y=0;Y<r;Y++)C(y,y,Y*3,e,O,_,Z);console.log(Date.now()-H,"making LUT");H=Date.now();
ICC.U.applyLUTFloat(y,p,v,v);console.log(Date.now()-H,"applying LUT");H=Date.now()}}return T}();function g5(){}g5.SF=function(I,k){var a=new Uint8Array(I),n=0,s=k.split("/").pop().split(".")[0];
function C(O){for(var Y=0;Y<O.length;Y++)O[Y].v.Nm.v=s+"/"+O[Y].v.Nm.v.split("/").pop()}var T={HR:[],GR:[],list:[]},S=u.Ij(a,n);
n+=2;if(S<=2){T=g5.a68(a);C(T.list);return T}var D=u.Ij(a,n);n+=2;var o=u.x8(a,n,8);n+=8;var v=u.C(a,n);
n+=4;if(v>0)T.HR=g5.afj(a,n,v,D,S);n+=v;var g=u.x8(a,n,8);n+=8;var d=u.C(a,n);n+=4;if(d>0)T.GR=gK.xh(a,n,d);
n+=d;var R=u.x8(a,n,8);n+=8;var c=u.C(a,n);n+=4;if(c>0){var e={};aM.A9(a,e,n+4);T.list=e.Brsh.v}n+=c;
var O=T.list;for(var Y=0;Y<O.length;Y++){kJ.y4.check(O[Y].v)}C(O);return T};g5.sO=function(I,k){I.v.Nm.v=k};
g5.a68=function(I){var k={HR:[],GR:[],list:[]},a=0,n=u.Ij(I,a);a+=2;var s=u.Ij(I,a);a+=2;for(var Y=0;
Y<s;Y++){var C=u.Ij(I,a);a+=2;var T=u.C(I,a);a+=4;var S=a;if(C==2){var D={};k.HR.push(D);var o=u.C(I,S);
S+=4;var v=u.Ij(I,S);S+=2;if(n==2){var g=u._4(I,S);S+=4+g.length*2+2}D.id=iJ.I8()+"-d71c-11e5-b1ae-a548a96e5f9f";
S++;S+=8;D.Sq=u.Zc(I,S);S+=16;var d=u.Ij(I,S);S+=2;var R=I[S];S++;var c=fC.Om(!1,d,I,D.Sq.Q,D.Sq._,S,R);
g5.a4Y(D,c);var e=kJ.Nf(D.id),O=e.Brsh.v;O.Dmtr.v.val=D.Sq.Q;O.Spcn.v.val=v;k.list.push({t:"Objc",v:e})}a+=T}return k};
g5.TZ=function(I){var k=new ig,a=0,n=0;u.Bs(k,a,6);a+=2;u.Bs(k,a,2);a+=2;var s={},C=[],T={},S=[];for(var Y=0;
Y<I.list.length;Y++){var D=I.list[Y].v,o=D.Brsh.v;if(o.classID=="sampledBrush")s[o.sampledData.v]=!0;
if(D.Txtr)T[D.Txtr.v.Idnt.v]=!0}for(var Y=0;Y<I.HR.length;Y++)if(s[I.HR[Y].id])C.push(I.HR[Y]);for(var Y=0;
Y<I.GR.length;Y++)if(s[I.GR[Y].id])S.push(I.GR[Y]);u.y0(k,a,"8BIMsamp");a+=8;a+=4;n=a;a=g5.ahE(k,a,C);
u.eH(k,n-4,a-n);u.y0(k,a,"8BIMpatt");a+=8;a+=4;n=a;a=gK.Jy(k,a,S);u.eH(k,n-4,a-n);var v=JSON.parse(JSON.stringify(I.list));
for(var Y=0;Y<v.length;Y++)v[Y].v.Nm.v=v[Y].v.Nm.v.split("/").pop();var g={classID:"null",Brsh:{t:"VlLs",v:v}};
u.y0(k,a,"8BIMdesc");a+=8;a+=4;n=a;u.eH(k,a,16);a+=4;a+=aM.EA(k,g,a);u.eH(k,n-4,a-n);return k.data.slice(0,a).buffer};
g5.afj=function(I,k,a,n,s){var C=u.C,T=u.Zc,S=k+a,D=[];while(k<S){var o={};D.push(o);var v=C(I,k);k+=4;
var g=k,d=u.wy(I,k);k+=d.length;o.id=d.lm;if(n==1){k+=9;o.Sq=T(I,k);k+=16}else{k+=7;var R=C(I,k);k+=4;
o.Sq=T(I,k);k+=16;var c=C(I,k);k+=4;k+=c*4;var e=C(I,k);k+=4;var O=C(I,k);k+=4;var U=T(I,k);k+=16}var K=u.Ij(I,k);
k+=2;var _=I[k];k+=1;var Z=fC.Om(!1,K,I,o.Sq.Q,o.Sq._,k,_);g5.a4Y(o,Z);if(v%4!=0)v+=4-v%4;k=g+v}return D};
g5.a4Y=function(I,k){var a=I.Sq.clone();a.x=a.y=0;I.ZS=[k,a]};g5.ahE=function(I,k,a){var n=u.eH,s=u._U;
for(var Y=0;Y<a.length;Y++){var C=a[Y],T=k+4,D=56,v=1;k+=4;u.Fi(I,k,C.id);k+=C.id.length+2;I.jL(k,1);
I.data[k]=1;k+=3;n(I,k,3);k+=4;var S=k;k+=4;s(I,k,C.Sq);k+=16;n(I,k,D);k+=4;k+=D*4;n(I,k-4,1);var o=k;
k+=4;n(I,k,8);k+=4;s(I,k,C.Sq);k+=16;u.Bs(I,k,8);k+=2;I.jL(k,1);I.data[k]=v;k++;var g=C.ZS[0];I.jL(k,C.Sq.c()*2);
k=fC.l7(!1,g,I.data,C.Sq.Q,C.Sq._,k,v);I.jL(k,8);k+=8;var d=k-T;n(I,T-4,d);n(I,S,d-49);n(I,o,d-305);
if(d%4!=0)k+=4-d%4}return k};function aH(){}aH.SF=function(I,k){var a=new Uint8Array(I),n=[],s=0,C=u.Ij(a,s);
s+=2;if(C!=4){throw"Unknown version of curves: "+C}var T=u.Ij(a,s);s+=2;for(var Y=0;Y<T;Y++){var S=aH.ayB(a,s);
s+=2+2*S.length;n.push(S)}if(s!=a.length){var D=u.x8(a,s,4);s+=4;var o=u.Ij(a,s);s+=2;var v=u.Ij(a,s);
s+=2;if(v!=0)throw"extra curves for channels"}var g=aH.alY(n,0);g.presetKind={t:"long",v:3};g.presetFileName={t:"TEXT",v:k.split("/").pop().split(".")[0]};
return[g]};aH.Ki=function(I,k,a){var n=k,s=[],C=I[k];k+=3;var T=u.C(I,k);k+=4;for(var Y=0;Y<4;Y++){var S=T>>>Y&1;
if(S){if(C==0){var D=aH.ayB(I,k);k+=2+2*D.length}else{var D=aH.ax0(I,k);k+=256}s.push(D)}else s.push(C==0?[0,0,255,255]:aH.ann())}var o=aH.alY(s,C);
return o};aH.alY=function(I,k){var a=gJ.nI("curv");for(var Y=0;Y<4;Y++){if(k==0){var n=I[Y],s=[];for(var C=0;
C<n.length;C+=2)s.push(j.IJ.bj(n[C],n[C+1],!0));aH.qh(a,Y,s)}else aH.qh(a,Y,I[Y])}return a};aH.Mh=function(I,k,a){var n=[];
for(var Y=0;Y<4;Y++){var s=aH.MY(a,Y);if(s.length==256)n.push(s);else{var C=[];for(var T=0;T<s.length;
T++)C.push(s[T].v.Hrzn.v,s[T].v.Vrtc.v);n.push(C)}}var S=k,D=n[0].length==256?1:0;I.jL(k,3);I.data[k]=D;
I.data[k+1]=0;I.data[k+2]=1;k+=3;u.eH(I,k,15);k+=4;for(var Y=0;Y<4;Y++){var o=n[Y];if(D==0){aH.axu(I,k,o);
k+=2+2*o.length}else{aH.anI(I,k,o);k+=256}}return k-S};aH.ann=function(){var I=[];for(var Y=0;Y<256;
Y++)I.push(Y);return I};aH.qh=function(I,k,a){var n=kA.Rd("CrvA",k);if(a.length<256)n.Crv={t:"VlLs",v:a};
else{n.Mpng={t:"VlLs",v:[]};for(var Y=0;Y<256;Y++)n.Mpng.v[Y]={t:"long",v:a[Y]}}n={t:"Objc",v:n};var s=I.Adjs.v,C=kA.kW(s,k);
if(C==-1)s.push(n);else s[C]=n};aH.MY=function(I,k){var a=I.Adjs.v,n=kA.kW(a,k);if(n==-1){if(a.length==0||a[0].v.Crv)return[j.IJ.bj(0,0,!0),j.IJ.bj(255,255,!0)];
if(a[0].v.autoMachineLearning||a[0].v.AuCo)return[j.IJ.bj(0,0,!0),j.IJ.bj(128,160,!0),j.IJ.bj(255,255,!0)];
var s=[];for(var Y=0;Y<256;Y++)s.push(Y);return s}var C=a[n].v;if(C.Crv)return C.Crv.v;if(C.Mpng){var s=[];
for(var Y=0;Y<256;Y++)s.push(C.Mpng.v[Y].v);return s}return[j.IJ.bj(0,0,!0),j.IJ.bj(255,255,!0)]};aH.ayB=function(I,k){var a=[],n=u.Ij(I,k);
k+=2;for(var s=0;s<n;s++){var C=u.Ij(I,k);k+=2;var T=u.Ij(I,k);k+=2;a.push(T,C)}return a};aH.axu=function(I,k,a){var n=a.length/2;
u.Bs(I,k,n);k+=2;for(var s=0;s<n;s++){u.Bs(I,k,a[s*2+1]);k+=2;u.Bs(I,k,a[s*2+0]);k+=2}};aH.ax0=function(I,k){var a=[];
for(var Y=0;Y<256;Y++)a.push(I[k+Y]);return a};aH.anI=function(I,k,a){I.jL(k,256);for(var Y=0;Y<256;
Y++)I.data[k+Y]=a[Y]};function eu(){}eu.Ki=function(I,k,a){var n={},s=u.Ij(I,k);k+=2;n.Pr=I[k]==1;k++;
k++;n.A1=[u.cl(I,k),u.cl(I,k+2),u.cl(I,k+4)];k+=6;n.vH=[u.cl(I,k),u.cl(I,k+2),u.cl(I,k+4)];k+=6;n.uG=[];
for(var Y=0;Y<6;Y++){var C={};C.Cv=[u.cl(I,k),u.cl(I,k+2),u.cl(I,k+4),u.cl(I,k+6)];k+=8;C.iM=[u.cl(I,k),u.cl(I,k+2),u.cl(I,k+4)];
k+=6;n.uG.push(C)}var T=gJ.nI("hue2"),S=n;if(T.Clrz==null)T.Clrz={t:"bool",v:!1};T.Clrz.v=S.Pr;for(var Y=0;
Y<7;Y++){var D=Y==0?S.Pr?S.A1:S.vH:S.uG[Y-1];eu.qh(T,Y,D)}return T};eu.adK=function(I){return{classID:"Hst2",H:{t:"long",v:I[0]},Strt:{t:"long",v:I[1]},Lght:{t:"long",v:I[2]}}};
eu.kW=function(I,k){for(var Y=0;Y<I.length;Y++){var a=I[Y].v.LclR;if(k==0&&a==null||a!=null&&a.v==k)return Y}return-1};
eu.qh=function(I,k,a){var n=k==0?a:a.iM,s=eu.adK(n);if(k!=0){var C=a.Cv;s.LclR={t:"long",v:k},s.BgnR={t:"long",v:C[0]};
s.BgnS={t:"long",v:C[1]};s.EndS={t:"long",v:C[2]};s.EndR={t:"long",v:C[3]}}s={t:"Objc",v:s};var T=I.Adjs.v,S=eu.kW(T,k);
if(S==-1)T.push(s);else T[S]=s};eu.MY=function(I,k){var a=I.Adjs.v,n=eu.kW(a,k);if(n==-1){if(k==0)return[0,0,0];
else return[{Cv:[315,345,15,45],iM:[0,0,0]},{Cv:[15,45,75,105],iM:[0,0,0]},{Cv:[75,105,135,165],iM:[0,0,0]},{Cv:[135,165,195,225],iM:[0,0,0]},{Cv:[195,225,255,285],iM:[0,0,0]},{Cv:[255,285,315,345],iM:[0,0,0]}][k-1]}var s=a[n].v,C=[s.H.v,s.Strt.v,s.Lght.v];
if(k==0)return C;return{iM:C,Cv:[s.BgnR.v,s.BgnS.v,s.EndS.v,s.EndR.v]}};eu.Mh=function(I,k,a){var n={Pr:a.Clrz?a.Clrz.v:!1,uG:[]};
n.A1=n.vH=eu.MY(a,0);for(var Y=1;Y<7;Y++)n.uG.push(eu.MY(a,Y));var s=2+2+12+6*14,C=I.data;I.jL(k,s);
u.rm(C,k,2);k+=2;C[k]=n.Pr?1:0;k++;k++;u.eT(C,k+0,n.A1[0]);u.eT(C,k+2,n.A1[1]);u.eT(C,k+4,n.A1[2]);k+=6;
u.eT(C,k+0,n.vH[0]);u.eT(C,k+2,n.vH[1]);u.eT(C,k+4,n.vH[2]);k+=6;for(var Y=0;Y<6;Y++){var T=n.uG[Y].Cv,S=n.uG[Y].iM;
u.eT(C,k+0,T[0]);u.eT(C,k+2,T[1]);u.eT(C,k+4,T[2]);u.eT(C,k+6,T[3]);k+=8;u.eT(C,k+0,S[0]);u.eT(C,k+2,S[1]);
u.eT(C,k+4,S[2]);k+=6}return s};function kA(){}kA.SF=function(I){var k=new Uint8Array(I),a=2,n=[];for(var Y=0;
Y<29;Y++){var s=[];n.push(s);for(var C=0;C<5;C++)s.push(u.Ij(k,a+Y*10+C*2))}a+=29*10;if(a<k.length){var T=u.x8(k,a,4);
a+=4;var S=u.Ij(k,a);a+=2;var D=u.Ij(k,a);a+=2;var o=D-29;for(var Y=0;Y<o;Y++){var s=[];n.push(s);for(var C=0;
C<5;C++)s.push(u.Ij(k,a+Y*10+C*2))}}var v=gJ.nI("levl");for(var Y=0;Y<4;Y++)kA.qh(v,Y,n[Y]);return v};
kA.Rd=function(I,Y){var k=["Cmps","Rd","Grn","Bl"],a={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:k[Y]}}]};
return{classID:I,Chnl:a}};kA.kW=function(I,k){var a={Cmps:0,Rd:1,Grn:2,Bl:3};for(var Y=0;Y<I.length;
Y++){var n=I[Y].v,s=a[n.Chnl.v[0].v.enum];if(s==k)return Y}return-1};kA.qh=function(I,k,a){var n=kA.Rd("LvlA",k);
n.Inpt={t:"VlLs",v:[{t:"long",v:a[0]},{t:"long",v:a[1]}]};n.Otpt={t:"VlLs",v:[{t:"long",v:a[2]},{t:"long",v:a[3]}]};
n.Gmm={t:"doub",v:a[4]/100};n={t:"Objc",v:n};var s=I.Adjs.v,C=kA.kW(s,k);if(C==-1)s.push(n);else s[C]=n};
kA.MY=function(I,k){var a=[0,255,0,255,100],n=I.Adjs.v,s=kA.kW(n,k);if(s==-1)return a;var C=n[s].v;if(C.Inpt){a[0]=C.Inpt.v[0].v;
a[1]=C.Inpt.v[1].v}if(C.Otpt){a[2]=C.Otpt.v[0].v;a[3]=C.Otpt.v[1].v}if(C.Gmm){a[4]=Math.round(C.Gmm.v*100)}return a};
kA.TZ=function(I,k){var a=[],n=0;for(var Y=0;Y<4;Y++)a.push(kA.MY(k,Y));while(a.length<29)a.push([0,255,0,255,100]);
I.jL(0,2+10*29);u.rm(I.data,n,2);n+=2;for(var Y=0;Y<29;Y++){var s=a[Y];for(var C=0;C<5;C++)u.rm(I.data,n+Y*10+C*2,s[C])}n+=29*10;
if(a.length==29)return n;I.jL(n,8+10*(a.length-29));u.ei(I.data,n,"Lvls");n+=4;u.rm(I.data,n,3);n+=2;
u.rm(I.data,n,a.length);n+=2;var T=a.length-29;for(var Y=0;Y<T;Y++){var s=a[29+Y];for(var C=0;C<5;C++)u.rm(I.data,n+Y*10+C*2,s[C])}n+=10*T;
return n};function k5(){}k5.SF=function(I,k){var a=new Uint8Array(I),n=2,s=k.split("/").pop().split(".")[0],C={Qc:[],Fm:[]},T=u.x8(a,n,4);
n+=4;var S=u.Ij(a,n);n+=2;var D=u.C(a,n);n+=4;C.Qc=gK.xh(a,n,D);n+=D;var o=u.C(a,n);n+=4;for(var Y=0;
Y<o;Y++){var v=u.C(a,n);n+=4;var g=n,d={Nu:{},ov:{}};C.Fm.push(d);n+=4;n+=aM.A9(a,d.Nu,n);d.Nu.Nm.v=s+"/"+d.Nu.Nm.v.split("=").pop();
n+=4;n+=aM.A9(a,d.ov,n);n=g+v;var R=d.ov.blendOptions,c=d.ov.Lefx;if(R&&Object.keys(R.v).length>1){}if(c){if(c.v.masterFXSwitch==null)c.v.masterFXSwitch={t:"bool",v:!0};
fe.Js(c.v)}}return C};k5.sO=function(I,k){I.Nu.Nm.v=k};k5.TZ=function(I){var k=new ig,a=0;u.Bs(k,a,2);
a+=2;u.y0(k,a,"8BSL");a+=4;u.Bs(k,a,3);a+=2;var n=a;a+=4;a=gK.Jy(k,a,I.Qc);u.eH(k,n,a-n-4);var s=I.Fm.length;
u.eH(k,a,s);a+=4;for(var Y=0;Y<s;Y++){a+=4;var C=a,T=I.Fm[Y];u.eH(k,a,16);a+=4;var S=T.Nu.Nm.v;T.Nu.Nm.v=T.Nu.Nm.v.split("/").pop();
a+=aM.EA(k,T.Nu,a);T.Nu.Nm.v=S;var D=T.ov.Lefx;if(D){T.ov.Lefx=JSON.parse(JSON.stringify(D));fe.ZF(T.ov.Lefx.v)}u.eH(k,a,16);
a+=4;a+=aM.EA(k,T.ov,a);if(D)T.ov.Lefx=D;u.eH(k,C-4,a-C)}return k.data.slice(0,a).buffer};function gs(){}gs.Ki=function(I,k,a){var n=u.Ij(I,k);
k+=2;var s={};s.lg=u.Ij(I,k)==1;k+=2;s.VK=[];for(var Y=0;Y<10;Y++){var C=[];s.VK.push(C);for(var T=0;
T<4;T++)C.push(u.cl(I,k+T*2));k+=8}var S=gJ.nI("selc");S.Mthd.v.CrcM=s.lg?"Absl":"Rltv";for(var Y=1;
Y<10;Y++)gs.qh(S,Y-1,s.VK[Y]);return S};gs.$h="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
gs.Rd=function(I,Y){var k=["Cmps","Rd","Grn","Bl"],a={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:k[Y]}}]};
return{classID:I,Chnl:a}};gs.kW=function(I,k){var a=gs.$h;for(var Y=0;Y<I.length;Y++){var n=I[Y].v,s=a.indexOf(n.Clrs.v.Clrs);
if(s==k)return Y}return-1};gs.qh=function(I,k,a){var n=["Cyn","Mgnt","Ylw","Blck"],s={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:gs.$h[k]}}};
for(var C=0;C<4;C++)s[n[C]]={t:"UntF",v:{type:"#Prc",val:a[C]}};s={t:"Objc",v:s};var T=I.ClrC.v,S=gs.kW(T,k);
if(S==-1)T.push(s);else T[S]=s};gs.MY=function(I,k){var a=[0,0,0,0],n=I.ClrC.v,s=gs.kW(n,k);if(s==-1)return a;
var C=["Cyn","Mgnt","Ylw","Blck"];for(var Y=0;Y<4;Y++)if(n[s].v[C[Y]])a[Y]=n[s].v[C[Y]].v.val;return a};
gs.Mh=function(I,k,a){var n={lg:a.Mthd.v.CrcM=="Absl",VK:[[0,0,0,0]]};for(var Y=0;Y<9;Y++)n.VK.push(gs.MY(a,Y));
I.jL(k,84);u.rm(I.data,k,1);k+=2;u.rm(I.data,k,n.lg?1:0);k+=2;for(var Y=0;Y<10;Y++){var s=n.VK[Y];for(var C=0;
C<4;C++)u.eT(I.data,k+C*2,s[C]);k+=8}return 84};function jx(){}jx.nI=function(){return{UL:new eZ(0,0,50,50),Nu:"",z2:"play",d:j.n.uQ.rY([.1,.1,.9,.5,.1,.9],0)}};
jx.SF=function(I,k){I=new Uint8Array(I);var a=0,n=[],s=k.split("/").pop().split(".")[0],C=Date.now(),T=u.x8(I,0,4);
a+=4;var S=u.C(I,a);a+=4;var D=u.C(I,a);a+=4;for(var Y=0;Y<D;Y++){var o=u._4(I,a);a+=o.length*2+4+2;
if((o.length&1)==0)a+=2;a=jx.aEx(I,a,o,n);n[Y].z2=s+"/"+n[Y].z2}return n};jx.aEx=function(I,k,a,n){var s=u.C(I,k);
k+=4;var C=u.C(I,k);k+=4;var T=k,S=u.wy(I,T).lm;T+=S.length+1;var D=u.Zc(I,T);T+=16;var o=jx.Cb(I,T,C-(T-k)),v=j.n.ji(o),g=j.X.TO(v),d=1/g.Q,R=1/g._;
j.n.de(o,new dc(d,0,0,R,-g.x*d,-g.y*R));n.push({z2:a,Nu:S,d:o,UL:D});k+=C;return k};jx.sO=function(I,k){I.z2=k};
jx.TZ=function(I){var k=new ig,a=0;u.y0(k,a,"cush");a+=4;u.eH(k,a,2);a+=4;u.eH(k,a,I.length);a+=4;for(var Y=0;
Y<I.length;Y++){var n=I[Y],s=n.z2.split("/").pop()+"\0";u._Q(k,a,s);a+=4+s.length*2;if((s.length&1)==1)a+=2;
u.eH(k,a,1);a+=4;a+=4;var C=a;u.Fi(k,a,n.Nu);a+=n.Nu.length+1;u._U(k,a,n.UL);a+=16;k.jL(a,n.d.length*26);
jx.b1(k.data,a,n.d,1,1);a+=n.d.length*26;var T=a-C;if((T&3)!=0)T+=4-(T&3);u.eH(k,C-4,T);a=C+T}return k.data.slice(0,a).buffer};
jx.afi=function(I){var k=[];for(var Y=0;Y<I.length;Y++){var a=I[Y],n=a.type,s={type:n};k.push(s);if(n==6){}else if(n==8)s.all=a.all;
else if(n==0||n==3){s.length=a.length;s.frule=a.Np;s.third=a.RO;s.prmA=a.Ba;s.prmB=a.yk}else{s.c=[a.VW.x,a.VW.y,a.A.x,a.A.y,a.zK.x,a.zK.y]}}return k};
jx.a0D=function(I){var k=[];for(var Y=0;Y<I.length;Y++){var a=I[Y],n=a.type,s={type:n};k.push(s);if(n==6){}else if(n==8)s.all=a.all;
else if(n==0||n==3){s.length=a.length;s.Np=a.frule;s.RO=a.third;s.Ba=a.prmA;s.yk=a.prmB}else{var C=a.c;
s.VW=new kK(C[0],C[1]);s.A=new kK(C[2],C[3]);s.zK=new kK(C[4],C[5])}}return k};jx.Cb=function(I,k,a,n,s){if(n==null)n=1;
if(s==null)s=1;function C(e,O,U){var K=u.acc(e,O)*U,_=Math.round(K);return Math.abs(K-_)<1e-6?_:K}var T=u.cl,S=[],D=Math.floor(a/26);
for(var Y=0;Y<D;Y++){var o=k+Y*26,v={},g=0;S.push(v);v.type=T(I,o);o+=2;if(v.type==6){g=24}if(v.type==8){v.all=T(I,o);
o+=2;g=22}if(v.type==0||v.type==3){v.length=T(I,o);o+=2;v.Np=T(I,o);o+=2;v.RO=T(I,o);o+=2;v.Ba=u.C(I,o);
o+=4;v.yk=u.C(I,o);o+=4;g=10}if(v.type==1||v.type==2||v.type==4||v.type==5){var d,R;R=C(I,o,s);o+=4;
d=C(I,o,n);o+=4;v.VW=new kK(d,R);R=C(I,o,s);o+=4;d=C(I,o,n);o+=4;v.A=new kK(d,R);R=C(I,o,s);o+=4;d=C(I,o,n);
o+=4;v.zK=new kK(d,R);g=0}for(var c=0;c<g;c++)if(I[o+c]!=0){console.log("Unexpected non-zero byte!",v,c,I[o+c])}}return S};
jx.b1=function(I,k,a,n,s){var C=u.eT,T=u.adI,S=a.length;for(var Y=0;Y<S;Y++){var D=k+Y*26,o=a[Y];C(I,D,o.type);
D+=2;if(o.type==6){}if(o.type==8)C(I,D,o.all);if(o.type==0||o.type==3){C(I,D,o.length);D+=2;C(I,D,o.Np);
D+=2;C(I,D,o.RO);D+=2}if(o.type==1||o.type==2||o.type==4||o.type==5){T(I,D,o.VW.y/s);D+=4;T(I,D,o.VW.x/n);
D+=4;T(I,D,o.A.y/s);D+=4;T(I,D,o.A.x/n);D+=4;T(I,D,o.zK.y/s);D+=4;T(I,D,o.zK.x/n);D+=4}}};function g_(){}g_.SF=function(I,k){var a=new Uint8Array(I),n=[],s=0;
if(u.x8(a,0,4)=="ASEF")n=g_.alP(a);else{s=g_.ajt(a,s,n);if(s+3<a.length){n=[];s=g_.ajt(a,s,n)}}var C=k.split("/").pop().split(".")[0];
for(var Y=0;Y<n.length;Y++){if(n[Y].Nt==null)n[Y].Nt="clr"+Y;n[Y].Nt=C+"/"+n[Y].Nt.split("/").pop().split("=").pop()}return n};
g_.alP=function(I){var k=[],a=8,n=u.C(I,a),s,C=null,T,S,D,o;a+=4;for(var v=0;v<n;v++){var g=u.Ij(I,a);
a+=2;var d=u.C(I,a);a+=4;var R=a+d;if(g==49153||g==1){var c=u.Ij(I,a);a+=2;var e=u.u$(I,a,c-1);a+=c*2;
if(g==1)s=e;else C=e}if(g==1){var O=u.x8(I,a,4);a+=4;T=u.Yh(I,a);a+=4;S=u.Yh(I,a);a+=4;D=u.Yh(I,a);a+=4;
if(O=="RGB "){}else if(O=="CMYK"){o=u.Yh(I,a);a+=4;var U=UDOC.C.cmykToRgb([T,S,D,o]);T=U[0];S=U[1];D=U[2]}else alert("Unknown color space: "+O);
k.push({$:T*255,H:S*255,J:D*255,Nt:(C?C+" : ":"")+s})}a=R}return k};g_.ajt=function(I,k,a){var n=u.Ij,s=u.cl,C=n(I,k);
k+=2;var T=n(I,k);k+=2;for(var Y=0;Y<T;Y++){var S=g_.rh(I,k);k+=10;if(C==2){S.Nt=u._4(I,k);k+=4+S.Nt.length*2+2}a.push(S)}return k};
g_.rh=function(I,k){var a=u.Ij,n=u.cl,s=a(I,k),R=null;k+=2;var C=a(I,k);k+=2;var T=a(I,k);k+=2;var S=a(I,k);
k+=2;var D=a(I,k);k+=2;var o=1/65535,v=255/65535,g=100/65535,d=255/1e4;if(s==0)R={$:C*v,H:T*v,J:S*v};
else if(s==1){R=j.ps(C*o,T*o,S*o);R.$*=255;R.H*=255;R.J*=255}else if(s==2)R=j.G.GW({classID:"CMYC",Cyn:{t:"doub",v:100-C*g},Mgnt:{t:"doub",v:100-T*g},Ylw:{t:"doub",v:100-S*g},Blck:{t:"doub",v:100-D*g}});
else if(s==7){var c=j.YD(C/100,n(I,k-6)/100,n(I,k-4)/100);R=c}else if(s==8){R={$:255-C*d,H:255-T*d,J:255-S*d}}else if(s==18){var e=255*C/16384;
R={$:e,H:e,J:e}}else{throw s}return R};g_.TZ=function(I){var k=new ig,a=0,n=u.Bs;n(k,a,2);a+=2;n(k,a,I.length);
a+=2;for(var Y=0;Y<I.length;Y++){var s=I[Y];k.jL(a,10);g_.zB(k.data,a,s);a+=10;var C=(s.Nt?s.Nt:"")+"\0";
u._Q(k,a,C);a+=4+C.length*2}return k.data.slice(0,a).buffer};g_.sO=function(I,k){I.Nt=k};g_.zB=function(I,k,a){var n=65535/255,s=u.rm;
s(I,k,0);s(I,k+2,Math.round(a.$*n));s(I,k+4,Math.round(a.H*n));s(I,k+6,Math.round(a.J*n));s(I,k+8,0)};
function jf(){}jf.SF=function(I){var k=new Uint8Array(I),a=4,n={};n.xn=u._4(k,a);a+=4+n.xn.length*2+2;
n.exp=k[a++]==1;n.PJ=[];var s=u.C(k,a);a+=4;for(var Y=0;Y<s;Y++){var C={};n.PJ.push(C);C.Gq=u.Ij(k,a);
a+=2;C.shift=k[a++]==1;C.az9=k[a++]==1;C.color=u.Ij(k,a);a+=2;C.xn=u._4(k,a);a+=4+C.xn.length*2+2;C.exp=k[a++]==1;
C.PJ=[];var T=u.C(k,a);a+=4;for(var S=0;S<T;S++){var D={};C.PJ.push(D);D.exp=k[a++]==1;D.e=k[a++]==1;
D.abU=k[a++]==1;D.ayb=k[a++];var o=u.x8(k,a,4);a+=4;if(o=="TEXT"){D.pi=jf.asr(k,a);a+=4+D.pi.length}else if(o=="long"){D.pi=u.x8(k,a,4);
a+=4}else throw"e";D.k2=jf.asr(k,a);a+=4+D.k2.length;var v=u.bL(k,a);a+=4;if(v==-1){D.zf={};var g=aM.A9(k,D.zf,a);
a+=g}}}console.log(n);var d=new Uint8Array(jf.TZ(n));for(var Y=0;Y<d.length;Y++)if(d[Y]!=k[Y]&&u.x8(k,Y+1,4)!="None"){console.log(k.length,d.length);
var R=4*(Y>>>2)-16;console.log(u.Fj(k,R,64));console.log(u.Fj(d,R,64));console.log(k.slice(R,R+64));
console.log(d.slice(R,R+64));throw"i"}return[n]};jf.asr=function(I,k){var a=u.C(I,k);return u.x8(I,k+4,a)};
jf.aEH=function(I,k,a){u.eH(I,k,a.length);u.y0(I,k+4,a)};jf.TZ=function(I){var k=new ig,a=0;u.eH(k,a,16);
a+=4;u._Q(k,a,I.xn+"\0");a+=4+I.xn.length*2+2;k.jL(a,1);k.data[a++]=I.exp?1:0;var n=I.PJ.length;u.eH(k,a,n);
a+=4;for(var Y=0;Y<n;Y++){var s=I.PJ[Y];u.Bs(k,a,s.Gq);a+=2;k.jL(a,2);k.data[a++]=s.shift?1:0;k.data[a++]=s.az9?1:0;
u.Bs(k,a,s.color);a+=2;u._Q(k,a,s.xn+"\0");a+=4+s.xn.length*2+2;k.jL(a,1);k.data[a++]=s.exp?1:0;var C=s.PJ.length;
u.eH(k,a,C);a+=4;for(var T=0;T<C;T++){var S=s.PJ[T];k.jL(a,4);k.data[a++]=S.exp?1:0;k.data[a++]=S.e?1:0;
k.data[a++]=S.abU?1:0;k.data[a++]=S.ayb;var D="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr HsbP".split(" ").indexOf(S.pi)!=-1;
u.y0(k,a,D?"long":"TEXT");a+=4;if(!D){jf.aEH(k,a,S.pi);a+=4+S.pi.length}else{u.y0(k,a,S.pi);a+=4}jf.aEH(k,a,S.k2);
a+=4+S.k2.length;u.xp(k,a,S.zf?-1:0);a+=4;if(S.zf){var o=aM.EA(k,S.zf,a);a+=o}}}return k.data.slice(0,a).buffer};
function fc(){}fc.SF=function(I){var k=new Uint8Array(I),a=0,n=u.C(k,a),D;a+=4;var s=u.x8(k,a,8);a+=8;
var C=u.sg(k,a);a+=4;var T=u.sg(k,a);a+=4;var S=u.sg(k,a);a+=4;console.log(C,T,S);if(n==2){D=new Float32Array(I,32,I.byteLength-32>>>2)}else if(n==3||n==4){D=new Float32Array(T*S*2);
var o=0,v=0,g=!0;a=n==3?32:16+8+40;while(a<k.length){var d=u.sg(k,a);a+=4;if(g)v+=d;else{for(var Y=0;
Y<d;Y++){D[o+v+Y<<1]=u.qu(k,a);D[(o+v+Y<<1)+1]=u.qu(k,a+4);a+=8}v+=d}g=!g;if(d!=0&&v==T){o+=T;v=0;g=!0;
if(o==T*S)break}}}else throw"unknown Mesh version: "+n;return{Qq:T,L4:S,map:D}};fc.OM=function(I){var k=I.Qq,a=I.L4,n=I.map,s=new Uint8Array(32+a*k*8+a*8),C=0,T=0;
u.kK(s,C,3);C+=4;u.ei(s,C,"yfqLhseM");C+=8;u.z0(s,C,2);C+=4;u.z0(s,C,k);C+=4;u.z0(s,C,a);C+=4;u.z0(s,C,0);
C+=4;u.z0(s,C,1);C+=4;for(var S=0;S<a;S++){u.z0(s,C,0);C+=4;u.z0(s,C,k);C+=4;for(var D=0;D<k;D++){u.bV(s,C,n[T]);
u.bV(s,C+4,n[T+1]);T+=2;C+=8}}return s.buffer};function cT(){}cT.SF=function(I){var k=new Uint8Array(I),a=0,n=u.x8(k,a,4);
a+=4;var s=u.Ij(k,a);a+=2;var C=u.C(k,a);a+=4;var T=[];for(var Y=0;Y<C;Y++){var S=u.C(k,a);a+=4;var D={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
T.push(D);var o=u._4(k,a);D.Nm.v=o;a+=4+o.length*2+2;var v=u.Ij(k,a);a+=2;var g=u.Ij(k,a);a+=2;for(var d=0;
d<g;d++){var R=j.IJ.bj(0,0,!0);R.v.Vrtc.v=u.Ij(k,a);a+=2;R.v.Hrzn.v=u.Ij(k,a);a+=2;D.Crv.v.push(R)}if(S==1){}else if(S==2){for(var d=0;
d<g;d++){D.Crv.v[d].v.Cnty.v=k[a]==1;a+=1}}else throw"error";var c=u.C(k,a);a+=4;var e=u.C(k,a);a+=4}return T};
cT.sO=function(I,k){I.Nm.v=k};cT.TZ=function(I){var k=new ig,a=0;u.y0(k,a,"8BFS");a+=4;u.Bs(k,a,1);a+=2;
u.eH(k,a,I.length);a+=4;for(var Y=0;Y<I.length;Y++){u.eH(k,a,2);a+=4;var n=I[Y];u._Q(k,a,n.Nm.v+"\0");
a+=4+n.Nm.v.length*2+2;u.Bs(k,a,2);a+=2;var s=n.Crv.v.length;u.Bs(k,a,s);a+=2;for(var C=0;C<s;C++){var T=n.Crv.v[C];
u.Bs(k,a,T.v.Vrtc.v);a+=2;u.Bs(k,a,T.v.Hrzn.v);a+=2}k.jL(a,s);for(var C=0;C<s;C++){k.data[a]=n.Crv.v[C].v.Cnty.v;
a++}u.eH(k,a,0);a+=4;u.eH(k,a,0);a+=4}return k.data.slice(0,a).buffer};function gK(){}gK.SF=function(I,k){var a=new Uint8Array(I),n=4,s=k.split("/").pop().split(".")[0],C=u.Ij(a,n);
n+=2;var T=u.C(a,n);n+=4;var S=[];for(var Y=0;Y<T;Y++){var D={};S.push(D);n=gK.a8P(a,n,D);D.name=s+"/"+D.name.split("=").pop()}return S};
gK.sO=function(I,k){I.name=k};gK.TZ=function(I){var k=new ig,a=0;u.y0(k,a,"8BPT");a+=4;u.Bs(k,a,1);a+=2;
u.eH(k,a,I.length);a+=4;for(var Y=0;Y<I.length;Y++){var n=I[Y],s=n.name;n.name=n.name.split("/").pop();
a=gK.a83(k,a,n);n.name=s}return k.data.slice(0,a).buffer};gK.xh=function(I,k,a){var n=k+a,s=[];while(k<n){var C={},T=u.C(I,k);
k+=4;var S=k;k=gK.a8P(I,k,C);if(!C.ZS[1].KH())s.push(C);if(T%4!=0)T+=4-T%4;k=S+T}return s};gK.Jy=function(I,k,a){for(var Y=0;
Y<a.length;Y++){var n=a[Y];k+=4;var s=k;k=gK.a83(I,k,n);var C=k-s;u.eH(I,s-4,C);if(C%4!=0)s+=4-C%4;k=s+C}return k};
gK.a8P=function(I,k,a){var n=u.C(I,k);k+=4;if(n!=1)alert("Unknown version of pattern");var s=u.C(I,k);
k+=4;if(s!=1&&s!=2&&s!=3)console.log("Unsupported mode of pattern: "+s);var C=u.Ij(I,k);k+=2;var T=u.Ij(I,k);
k+=2;var S=new eZ(0,0,T,C);a.name=u._4(I,k);k+=4+2*a.name.length+2;var D=I[k];k++;a.id=u.x8(I,k,D);k+=a.id.length;
var o=-1;if(s==2){o=k;k+=3*256+4}var v=new j.$n(T*C);k=gK.aff(I,k,v);if(s==2){for(var Y=0;Y<v.$.length;
Y++){var g=3*v.$[Y];v.$[Y]=I[o+g+0];v.H[Y]=I[o+g+1];v.J[Y]=I[o+g+2]}}var d=j.U(S.c()*4);j.we(v,d);a.ZS=[d,S];
return k};gK.a83=function(I,k,a){var n=a.ZS[0],s=a.ZS[1];u.eH(I,k,1);k+=4;u.eH(I,k,3);k+=4;u.Bs(I,k,s._);
k+=2;u.Bs(I,k,s.Q);k+=2;u._Q(I,k,a.name+"\0");k+=4+2*a.name.length+2;u.Yi(I,k,a.id.length);k++;u.y0(I,k,a.id);
k+=a.id.length;var C=new j.$n(s.c());j.A0(n,C);k=gK.ahT(I,k,C,s);return k};gK.aff=function(I,k,a){var n=k,s={Sq:null,N:[],ahe:null,IY:null},C=u.C(I,k);
k+=4;var T=u.C(I,k);k+=4;s.Sq=u.Zc(I,k);k+=16;var S=u.C(I,k);k+=4;for(var Y=0;Y<S+2;Y++){var D=u.C(I,k);
k+=4;if(D==0)continue;var o=u.C(I,k);k+=4;if(o==0)continue;var v=u.C(I,k);k+=4;var g=u.Zc(I,k);k+=16;
var d=u.Ij(I,k);k+=2;var R=I[k];k++;var c=fC.Om(!1,v,I,g.Q,g._,k,R);if(Y<S)s.N.push(c);if(Y==S)s.ahe=c;
if(Y==S+1)s.IY=c;k+=o-23}if(!s.Sq.KH()){if(s.N[0])a.$=s.N[0];if(s.N[1])a.H=s.N[1];else a.H=s.N[0].slice(0);
if(s.N[2])a.J=s.N[2];else a.J=s.N[0].slice(0);if(s.IY)a.M=s.IY;else a.M.fill(255)}return k};gK.ahT=function(I,k,a,n){var s=k,C={Sq:n,N:[a.$,a.H,a.J],ahe:null,IY:a.M};
u.eH(I,k,3);k+=4;u.eH(I,k,0);k+=4;u._U(I,k,n);k+=16;u.eH(I,k,24);k+=4;for(var Y=0;Y<24+2;Y++){var T=k,S=Y<3||Y==25?1:0;
u.eH(I,k,S);k+=4;if(S==0)continue;u.eH(I,k,0);k+=4;u.eH(I,k,8);k+=4;u._U(I,k,n);k+=16;u.Bs(I,k,8);k+=2;
u.Yi(I,k,1,1);k++;var D=Y<3?C.N[Y]:C.IY;I.jL(k,n.c()+2);k=fC.l7(!1,D,I.data,n.Q,n._,k,1);u.eH(I,T+4,k-T-8)}u.eH(I,s+4,k-s-8);
return k};function eb(){}eb.SF=function(I,k){var a=new Uint8Array(I),s=0;if(a[0]==71)return eb.ax2(a);
var n=k.split("/").pop().split(".")[0],C=u.x8(a,s,4);s+=4;var T=u.Ij(a,s);s+=2;var S=[];if(T<=3){var D=u.Ij(a,s);
s+=2;for(var Y=0;Y<D;Y++){var o=a[s++],v=u.x8(a,s,o);s+=o;var g=eb.aqF(a,s,v),d=g[0];s=g[1];S.push(d)}}else{var g={},R=aM.A9(a,g,s+4),c=g.GrdL.v;
for(var Y=0;Y<c.length;Y++)S[Y]=c[Y].v.Grad.v}for(var Y=0;Y<S.length;Y++){var e=S[Y].Nm.v.split("/").pop().split("=").pop();
S[Y].Nm.v=n+"/"+e}return S};eb.sO=function(I,k){I.Nm.v=k};eb.TZ=function(I){var k=new ig,a=0;u.y0(k,a,"8BGR");
a+=4;u.Bs(k,a,5);a+=2;u.eH(k,a,16);a+=4;var n={classID:"null",GrdL:{t:"VlLs",v:[]}},s=n.GrdL.v;for(var Y=0;
Y<I.length;Y++){var C=JSON.parse(JSON.stringify(I[Y]));C.Nm.v=C.Nm.v.split("/").pop();s[Y]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:C}}}}a+=aM.EA(k,n,a);
return k.data.slice(0,a).buffer};eb.aqF=function(I,k,a){var n={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:a},Trns:{t:"VlLs",v:[]}},s=u.Ij(I,k);
k+=2;if(s==0)throw"e";for(var Y=0;Y<s;Y++){var C=u.C(I,k),T=u.C(I,k+4),S=g_.rh(I,k+8),D={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:S.$},Grn:{t:"doub",v:S.H},Bl:{t:"doub",v:S.J}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:C},Mdpn:{t:"long",v:T}}};
n.Clrs.v.push(D);k+=20}var o=u.Ij(I,k);k+=2;for(var Y=0;Y<o;Y++){var C=u.C(I,k),T=u.C(I,k+4),v=u.Ij(I,k+8),D={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*v/255)}},Lctn:{t:"long",v:C},Mdpn:{t:"long",v:T}}};
n.Trns.v.push(D);k+=10}var g=u.Ij(I,k);k+=2;n.Intr.v=g==2?u.Ij(I,k):4096;k+=2;var d=u.Ij(I,k);k+=2;return[n,k]};
eb.aB4=function(I,k,a){var n=a.Clrs.v.length;u.Bs(I,k,n);k+=2;for(var Y=0;Y<n;Y++){var s=a.Clrs.v[Y];
u.eH(I,k,s.v.Lctn.v);u.eH(I,k+4,s.v.Mdpn.v);u.Bs(I,k+8,0);var C=j.G.pI(j.G.GW(s.v.Clr.v)),T=[C.Rd.v,C.Grn.v,C.Bl.v,0];
for(var S=0;S<4;S++)u.Bs(I,k+10+S*2,Math.round(65535*(T[S]/255)));k+=20}var D=a.Trns.v.length;u.Bs(I,k,D);
k+=2;for(var Y=0;Y<D;Y++){var s=a.Trns.v[Y];u.eH(I,k,s.v.Lctn.v);u.eH(I,k+4,s.v.Mdpn.v);u.Bs(I,k+8,Math.round(255*s.v.Opct.v.val/100));
k+=10}u.Bs(I,k,2);k+=2;u.Bs(I,k,a.Intr.v);k+=2;u.Bs(I,k,32);k+=2;return k};eb.ax2=function(I){var k=u.Im(I,0,I.length).split("\n"),a=parseFloat(k[2]),n=[],s=JSON.parse(fY.iH[fY.order.indexOf("GrFl")]).Grad.v;
s.Intr.v=0;s.Nm.v=k[1];for(var Y=0;Y<a;Y++){var C=k[3+Y].split(" ").map(parseFloat),T=C[11],S=C[12];
n.push([C[0],C.slice(3,6),C[6]]);if(S!=0){var D=j.zH(C[3],C[4],C[5]),o=j.zH(C[7],C[8],C[9]),v=D.L4,g=o.L4;
if(S==1&&v>g)g++;if(S==2&&v<g)v++;var d=Math.round(Math.abs(g-v)*7);if(d>1)for(var R=0;R<d;R++){var c=1-(R+1)/(d+1),e=1-c,O=j.ps(c*v+e*g,c*D.Yl+e*o.Yl,c*D.B9+e*o.B9);
n.push([c*C[0]+e*C[2],[O.$,O.H,O.J],c*C[6]+e*C[10]])}}n.push([C[2],C.slice(7,10),C[10]])}n.sort(function(U,K){return U[0]-K[0]});
j.G.gD(n,s);return[s]};function hR(){}hR.SF=function(I){var k=new Uint8Array(I),a=[],n=[],s=[],C=[],T=[],S=0,D=u.x8(k,S,4);
S+=4;var o=u.C(k,S);S+=4;var v=u.C(k,S);S+=4;while(S<k.length){var g=u.x8(k,S,4);S+=4;var d=u.x8(k,S,4);
S+=4;var R=u.C(k,S);S+=4;if(d=="tppa"){n=gK.xh(k,S,R);S+=R}else if(d=="tpbd"){s=g5.afj(k,S,R,1,1);S+=R}else if(d=="tptp"){var c=u.C(k,S);
S+=4;for(var Y=0;Y<c;Y++){var e=u._4(k,S);S+=6+e.length*2;S+=4;var O={};S+=aM.A9(k,O,S);a.push([e,O])}while((S&3)!=0)S++}else if(d=="tpsh"){var U=S,K=k.slice(S,S+R);
while(S<U+R){var _=u.C(k,S);S+=4;S=jx.aEx(k,S,"Shape",C)}S=U+R}else if(d=="tpst"){var U=S;S+=4;while(S<U+R){var Z=u.C(k,S);
S+=4;var H=S,G=u.C(k,S);S+=4;var O={Nu:{},ov:{}};T.push(O);S+=4;S+=aM.A9(k,O.Nu,S);S+=4;S+=aM.A9(k,O.ov,S);
S=H+Z;var N=O.ov.Lefx;if(N){if(N.v.masterFXSwitch==null)N.v.masterFXSwitch={t:"bool",v:!0};fe.Js(N.v)}}S=U+R}else{console.log(k.slice(S-8,S+64));
console.log(u.x8(k,S-8,64));throw d}}return{HR:s,GR:n,list:a,a0C:C,Fm:T}};hR.sO=function(I,k){I[0]=k};
hR.TZ=function(I){var k=new ig,a=0;u.y0(k,a,"8BTP");a+=4;u.eH(k,a,3);a+=4;u.eH(k,a,1);a+=4;var n=[I.GR,I.HR,I.list];
for(var Y=0;Y<3;Y++){if(n[Y].length==0)continue;u.y0(k,a,"8BIM");a+=4;var s=["tppa","tpbd","tptp"][Y];
u.y0(k,a,s);a+=4;var C=a;a+=4;if(s=="tppa"){a=gK.Jy(k,a,I.GR)}else if(s=="tpbd"){a=g5.ahE(k,a,I.HR)}else if(s=="tptp"){u.eH(k,a,I.list.length);
a+=4;for(var T=0;T<I.list.length;T++){var S=I.list[T];u._Q(k,a,S[0]+"\0");a+=6+S[0].length*2;u.eH(k,a,16);
a+=4;a+=aM.EA(k,S[1],a)}}u.eH(k,C,a-C-4);while((a&3)!=0)a++;k.jL(a,0)}return k.data.slice(0,a).buffer};
function aa(){}aa.SF=function(I,k){var a=new Uint8Array(I),n;if(u.C(a,0)==a.length)n="icc";else if(a[0]=="<".charCodeAt(0))n="look";
else if(u.S$(a,"LUT_3D_SIZE")!=-1)n="cube";else n="3DL";if(n!="icc"){var s=aa.a9k(a,n),C=aa.aC6(s[0],s[1]);
a=C}var T=[];for(var Y=0;Y<a.length;Y++)T.push(a[Y]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:k?k:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:T}}]};
aa.TZ=function(I){var k=I[0],a=new Uint8Array(k.profile.v);return a.buffer};aa.sO=function(I,k){I.Nm.v=k};
aa.aC6=function(I,k){var a=new ig,n=128;a.jL(0,128);var s=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var Y=0;Y<s.length;Y++)a.data[Y]=s[Y];var C=["desc","A2B0"],T=C.length,S=128+4+T*12;u.eH(a,n,T);
n+=4;for(var D=0;D<T;D++){var o=C[D];u.y0(a,n,o);n+=4;u.eH(a,n,S);n+=4;var v=S;if(o=="desc"){u.y0(a,v,"mluc");
v+=4;v+=4;u.eH(a,v,1);v+=4;u.eH(a,v,12);v+=4;u.y0(a,v,"enUS");v+=4;var g="ICC by Photopea\0",d=g.length*2+2;
u.eH(a,v,d);v+=4;u.eH(a,v,28);v+=4;a.jL(v,d);for(var Y=0;Y<g.length;Y++)a.data[v+Y*2+1]=g.charCodeAt(Y);
v+=d}if(o=="A2B0"){u.y0(a,v,"mAB ");v+=4;v+=4;a.jL(v,4);a.data[v]=3;a.data[v+1]=3;v+=4;a.jL(v,4*5);v+=4*3;
u.eH(a,v,v+8-S);v+=4;v+=4;a.jL(v,20);a.data[v]=I;a.data[v+1]=I;a.data[v+2]=I;v+=16;a.data[v]=2;v+=4;
var R=I*I*I*3;a.jL(v,R*2);for(var Y=0;Y<R;Y++)u.rm(a.data,v+Y*2,Math.max(0,Math.min(65535,Math.round(k[Y]*65535))));
v+=R*2}var c=v-S;while((c&3)!=0)c++;u.eH(a,n,c);n+=4;S+=c}u.eH(a,0,S);return a.data.slice(0,S)};aa.a9k=function(I,k){k="LUTFormat"+k.toUpperCase();
var a=[],n=0,s=u.Im(I,0,I.length),C="";for(var Y=0;Y<I.length&&C=="";Y++){if(I[Y]==10)C="\n";else if(I[Y]==13){C="\r";
if(I[Y+1]==10)C+="\n"}}if(k=="LUTFormatCUBE"){var T=s.split(C);for(var Y=0;Y<T.length;Y++){if(T[Y]==""||T[Y][0]=="#")continue;
var S=T[Y].split(" "),D=S[0];if(D=="LUT_3D_SIZE"){n=parseInt(S[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(D)!=-1)continue;
a.push(parseFloat(S[0]),parseFloat(S[1]),parseFloat(S[2]))}a=aa.aam(n,a)}else if(k=="LUTFormat3DL"){var T=s.split(C),o=1/4095;
for(var Y=0;Y<T.length;Y++){var v=T[Y];if(v==""||v=="3DMESH"||v.startsWith("Mesh")||v[0]=="#")continue;
var S=v.split(" "),D=S[0];if(n==0){n=S.length;continue}a.push(parseFloat(S[0])*o,parseFloat(S[1])*o,parseFloat(S[2])*o)}}else if(k=="LUTFormatLOOK"){var g=new DOMParser,d=g.parseFromString(s,"text/xml"),R=d.getElementsByTagName("LUT")[0],c=R.children[0].textContent;
n=parseInt(JSON.parse(c));var e=R.children[1].textContent;e=e.replace(/"/g,"").replace(/\s/g,"");var O=3*n*n*n,U=O*4,K=new Uint8Array(U);for(var Y=0;Y<U;Y++){var _=e.charCodeAt(Y*2),Z=e.charCodeAt(Y*2+1),H=_<58?_-48:_-55,G=Z<58?Z-48:Z-55;K[Y]=(H<<4)+G}for(var Y=0;Y<O;Y++)a.push(u.qu(K,Y<<2));a=aa.aam(n,a)}else throw k;return[n,a]};aa.avq=function(I,k,a){var n=["#Created by www.Photopea.com","TITLE \""+a+"\"","","#LUT size","LUT_3D_SIZE "+k,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],s=6;
for(var Y=0;Y<I.length;Y+=3){n.push(I[Y].toFixed(s)+" "+I[Y+1].toFixed(s)+" "+I[Y+2].toFixed(s))}n.push("");
return u.ba(n.join("\n")).buffer};aa.aam=function(I,k){var a=[],n=I*I*I;for(var Y=0;Y<n;Y++)a.push(0,0,0);
for(var s=0;s<I;s++)for(var C=0;C<I;C++)for(var T=0;T<I;T++){var Y=3*(T+C*I+s*I*I),S=3*(s+C*I+T*I*I);
a[S]=k[Y];a[S+1]=k[Y+1];a[S+2]=k[Y+2]}return a};function aM(){}aM.A9=function(I,k,a,n,s){var C=a,T;if(s==null)s=0;
var S=u.C(I,a);if(S==0){T="";a+=4}else{T=u._4(I,a);a+=4+2*T.length+2}if(T!="")k.__name=T;k.classID=aM.Q1(I,a);
if(n)console.log("\t".repeat(s),"- reading descriptor",k.classID,a);a+=aM.Z4(I,a);var D=u.bL(I,a);a+=4;
for(var Y=0;Y<D;Y++){var o=aM.Q1(I,a);a+=aM.Z4(I,a);var v=aM.axZ(I,a,n,s);k[o]=v;a+=v.size;delete v.size}return a-C};
aM.EA=function(I,k,a,n){var s=a,C=k.__name;if(C==null)C="";C+="\0";u._Q(I,a,C);a+=4+2*C.length;aM.Kk(I,a,k.classID);
a+=aM.Z4(I.data,a);u.xp(I,a,Object.keys(k).length-1-(k.__name==null?0:1));a+=4;for(var T in k){if(T=="classID")continue;
if(T=="__name")continue;aM.Kk(I,a,T);a+=aM.Z4(I.data,a);a+=aM.aC8(I,a,k[T])}return a-s};aM.axZ=function(I,k,a,n){var s=k,C=u.x8(I,k,4);
k+=4;var T={size:0,t:C,v:null};if(a)console.log("\t".repeat(n),"reading key",C,s);switch(C){case"obj ":case"VlLs":T.v=[];
var S=u.C(I,k);k+=4;for(var Y=0;Y<S;Y++){var D=aM.axZ(I,k,a,n+1);k+=D.size;delete D.size;T.v.push(D)}break;
case"UntF":T.v={type:u.x8(I,k,4),val:u._x(I,k+4)};k+=12;break;case"doub":T.v=u._x(I,k);k+=8;break;case"bool":T.v=I[k]==1;
k+=1;break;case"long":T.v=u.bL(I,k);k+=4;break;case"comp":T.v=u.bL(I,k+4);k+=8;break;case"Objc":T.v={};
var o=aM.A9(I,T.v,k,a,n+1);k+=o;break;case"TEXT":var v=u.C(I,k);if(v==0){T.v="";k+=4}else{T.v=u._4(I,k);
k+=4+T.v.length*2+2}break;case"enum":var g=aM.Q1(I,k);k+=aM.Z4(I,k);var d=aM.Q1(I,k);k+=aM.Z4(I,k);T.v={};
T.v[g]=d;break;case"tdta":var R=u.bL(I,k);k+=4;T.v=Array.from(I.slice(k,k+R));k+=R;break;case"ObAr":var c=u.C(I,k);
k+=4;var e=u._4(I,k);k+=4+2*e.length+2;if(e!="")throw e;var O=aM.Q1(I,k);k+=4+Math.max(4,O.length);T.v={classID:O,arr:[]};
var U=u.C(I,k);k+=4;for(var Y=0;Y<U;Y++){var O=aM.Q1(I,k);k+=4+Math.max(4,O.length);var g=u.x8(I,k,4);
k+=4;var K=u.x8(I,k,4);k+=4;var _={id:O,type:g,uID:K,arr:[]};T.v.arr.push(_);var Z=u.C(I,k,4);k+=4;for(var H=0;
H<Z;H++){var G=u._x(I,k);k+=8;_.arr.push(G)}}break;case"Pth ":var N=k,R=u.C(I,k);k+=4;var z=u.x8(I,k,4);
k+=4;var L=u.sg(I,k);k+=4;var p=u.ap1(I,k);k+=4+p.length*2;T.v={sig:z,pth:p};break;case"Clss":case"type":case"rele":var p=u._4(I,k);
k+=4+p.length*2+2;var V=aM.Q1(I,k);k+=4+Math.max(4,V.length);T.v={classID:V};if(p!="")T.v.__name=p;if(C=="rele"){T.v.val=u.bL(I,k);
k+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var r=aM.zE[C],p=u._4(I,k);k+=4+p.length*2+2;
if(p.length!=0){console.log(C,p);throw"e"}T.v={};for(var Y=0;Y<r.length;Y++){var V=aM.Q1(I,k);k+=4+Math.max(4,V.length);
T.v[r[Y]]=V}if(C=="name"){var p=u._4(I,k);k+=4+p.length*2+2;T.v.val=p}if(C=="indx"||C=="Idnt"){T.v.val=u.C(I,k);
k+=4}break;case"alis":var R=u.C(I,k);k+=4;T.v=u.x8(I,k,R);k+=R;break;default:{console.log("unknown oskey: "+C+", "+s);
throw"e";return T}}if(a){console.log("\t".repeat(n),T.v);console.log("\t".repeat(n),"======",k)}T.size=k-s;
return T};aM.zE={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"],Idnt:["classID"]};
aM.aC8=function(I,k,a){var n=k,s=a.t;a=a.v;u.y0(I,k,s);k+=4;switch(s){case"obj ":case"VlLs":u.xp(I,k,a.length);
k+=4;for(var C=0;C<a.length;C++){var T=aM.aC8(I,k,a[C]);k+=T}break;case"UntF":u.y0(I,k,a.type);u._j(I,k+4,a.val);
k+=12;break;case"doub":u._j(I,k,a);k+=8;break;case"bool":u.Yi(I,k,a?1:0,1);k+=1;break;case"long":u.xp(I,k,a);
k+=4;break;case"comp":u.xp(I,k+4,a);k+=8;break;case"Objc":var T=aM.EA(I,a,k);k+=T;break;case"TEXT":u._Q(I,k,a+"\0");
k+=4+a.length*2+2;break;case"enum":var S=Object.keys(a)[0],D=a[S];aM.Kk(I,k,S);k+=aM.Z4(I.data,k);aM.Kk(I,k,D);
k+=aM.Z4(I.data,k);break;case"tdta":u.eH(I,k,a.length);k+=4;u.Hp(I,k,a);k+=a.length;break;case"ObAr":u.eH(I,k,a.arr[0].arr.length);
k+=4;u._Q(I,k,"\0");k+=6;aM.Kk(I,k,a.classID);k+=4+Math.max(4,a.classID.length);u.eH(I,k,a.arr.length);
k+=4;for(var Y=0;Y<a.arr.length;Y++){var o=a.arr[Y];aM.Kk(I,k,o.id);k+=4+Math.max(4,o.id.length);u.y0(I,k,o.type);
k+=4;u.y0(I,k,o.uID);k+=4;u.eH(I,k,o.arr.length);k+=4;for(var C=0;C<o.arr.length;C++){u._j(I,k,o.arr[C]);
k+=8}}break;case"Pth ":var v=a.pth.length*2+4+8;u.eH(I,k,v);k+=4;u.y0(I,k,a.sig);k+=4;u.X7(I,k,v);k+=4;
u.ar2(I,k,a.pth);k+=a.pth.length*2+4;break;case"Clss":case"type":case"rele":var g=a.__name;if(g==null)g="";
u._Q(I,k,g+"\0");k+=4+g.length*2+2;var d=a.classID;aM.Kk(I,k,d);k+=4+Math.max(4,d.length);if(s=="rele"){u.xp(I,k,a.val);
k+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var R=aM.zE[s];u.eH(I,k,1);k+=6;for(var Y=0;
Y<R.length;Y++){var d=a[R[Y]];aM.Kk(I,k,d);k+=4+Math.max(4,d.length)}if(s=="name"){u._Q(I,k,a.val+"\0");
k+=4+a.val.length*2+2}if(s=="indx"||s=="Idnt"){u.eH(I,k,a.val);k+=4}break;case"alis":var v=a.length;
u.eH(I,k,v);k+=4;u.y0(I,k,a);k+=v;break;default:console.log("unknown oskey: "+s);k=n;break}return k-n};
aM.Q1=function(I,k){var a=u.bL(I,k);if(a>1e3)throw"e";if(a==0)a=4;return u.x8(I,k+4,a).trim()};aM.Z4=function(I,k){var a=u.bL(I,k);
return a==0?8:4+a};aM.Kk=function(I,k,a){var n="warp list Comp None xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow time hold trim then else".split(" "),s=4<a.length||n.indexOf(a)!=-1;
u.xp(I,k,s?a.length:0);u.y0(I,k+4,a);if(a.length<4&&!s){var C="";for(var Y=a.length;Y<4;Y++)C+=" ";u.y0(I,k+4+a.length,C)}};
aM.awp=function(I){var k={};for(var a in I){if(a=="classID")k[a]=I[a];else if(a=="__name")k[a]=I[a];
else k[a]=aM.awH(I[a])}return k};aM.awH=function(I){if(I.Tx=="Objc")return aM.awp(I.v);else if(I.Tx=="VlLs"){var k=[];
for(var Y=0;Y<I.v.length;Y++)k.push(aM.awH(I.v[Y]));return k}else if(I.Tx=="UntF")return I.v.val;else return I.v};
function fe(){}fe.awP=function(I,k,a,n,s,C){while(k<a){var T=u.x8(I,k,4);k+=4;if(T!="8BIM"&&T!="8B64"){console.log("layer information signature error! "+T,"PSB = "+s);
alert("Error in PSD file: wrong signature.");return a}var S=u.x8(I,k,4);k+=4;var D=u.C(I,k);k+=4;var o=s&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(S)!=-1;
if(o){D=D<<32|u.bL(I,k);k+=4}var v=["lrFX","PlLd"];if(v.indexOf(S)!=-1){if(D%4!=0)D+=4-D%4;k+=D;continue}switch(S){case"iOpa":n[S]=I[k];
break;case"brst":n[S]=[1,1,1];for(var Y=0;Y<D;Y+=4)n[S][u.C(I,k+Y)]=0;break;case"knko":n[S]=I[k];break;
case"infx":n[S]=I[k];break;case"clbl":n[S]=I[k];break;case"lmgm":n[S]=I[k];break;case"vmgm":n[S]=I[k];
break;case"fcmy":n[S]=I[k];break;case"lyid":n[S]=u.C(I,k);break;case"lsct":n[S]={type:u.C(I,k)};if(D>=12)n[S].pu=u.x8(I,k+8,4);
break;case"lsdk":n.lsct={type:u.C(I,k)};break;case"lyvr":n[S]=u.C(I,k);break;case"lnsr":var g={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};
n[S]=u.x8(I,k,4);break;case"lspf":n[S]=u.C(I,k);break;case"lclr":n[S]=u.Ij(I,k);break;case"luni":n[S]=u.rw(I,k);
break;case"fxrp":n[S]=new kK(u._x(I,k),u._x(I,k+8));break;case"artb":case"artd":n[S]={};aM.A9(I,n[S],k+4);
break;case"SoCo":n[S]={};aM.A9(I,n[S],k+4);break;case"GdFl":n[S]={};aM.A9(I,n[S],k+4);fe.Dj(n[S],S);
break;case"PtFl":n[S]={};aM.A9(I,n[S],k+4);fe.Dj(n[S],S);break;case"CgEd":n[S]={};aM.A9(I,n[S],k+4);
break;case"brit":var d=n.brit=gJ.nI("brit"),R={};d.Brgh.v=u.cl(I,k);d.Cntr.v=u.cl(I,k+2);d.useLegacy.v=!0;
break;case"levl":var c=I.buffer.slice(k,k+D);n[S]=kA.SF(c);break;case"curv":n[S]=aH.Ki(I,k,D);break;
case"expA":var e=u.Ij(I,k),O=n[S]=gJ.nI("expA");O.Exps.v=u.Yh(I,k+2);O.Ofst.v=u.Yh(I,k+6);O.gammaCorrection.v=u.Yh(I,k+10);
break;case"vibA":n[S]={};aM.A9(I,n[S],k+4);break;case"hue2":n[S]=eu.Ki(I,k,D);break;case"blnc":var O=n[S]=gJ.nI(S);
O.PrsL.v=I[k+18]==1;var U=["ShdL","MdtL","HghL"];for(var Y=0;Y<3;Y++)for(var K=0;K<3;K++)O[U[Y]].v[K].v=u.cl(I,k+Y*6+K*2);
break;case"blwh":var _={};aM.A9(I,_,k+4);var O=gJ.nI(S),Z="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var Y=0;Y<Z.length;Y++){O[Z[Y]]=_[Z[Y]];delete _[Z[Y]]}n[S]=O;break;case"phfl":var O=n[S]=gJ.nI(S),H=O.Clr.v,e=u.Ij(I,k);
if(e==3){var G=[u.C(I,k+2),u.C(I,k+6),u.C(I,k+10)],N=32768,z=j.aao(G[0]/N,G[1]/N,G[2]/N);H.Lmnc.v=z.eI;
H.A.v=z.M;H.B.v=z.J}if(e==2){var L=u.Ij(I,k+2);if(L!=7)throw"e";H.Lmnc.v=u.cl(I,k+4)/100;H.A.v=u.cl(I,k+6)/100;
H.B.v=u.cl(I,k+8)/100}var p=k+2+(e==3?12:10);O.Dnst.v=u.C(I,p);p+=4;O.PrsL.v=I[p]==1;break;case"mixr":var V={mC:u.Ij(I,k+2)==1,P:[]};
for(var Y=0;Y<20;Y++)V.P.push(u.cl(I,k+4+Y*2));n[S]=fo.qE(V);break;case"clrL":case"rplc":n[S]={};aM.A9(I,n[S],k+6);
break;case"nvrt":n[S]={};break;case"post":n[S]=gJ.nI("post");n[S].Lvls.v=u.Ij(I,k);break;case"thrs":n[S]=gJ.nI("thrs");
n[S].Lvl.v=u.Ij(I,k);break;case"grdm":var r=k,y=u.Ij(I,r);r+=2;var W=I[r]==1,m=I[r+1]==1;r+=2;var f=u.x8(I,r,4);
if(f=="Perc"||f=="Gcls"||f=="Lnr "||f=="\0\0\x0B\x1D")r+=4;var h=u.rw(I,r);r+=4+h.length*2;var b=eb.aqF(I,r,h),i=b[0];
r=b[1];var w=u.Ij(I,r);r+=2;var J=u.C(I,r);r+=4;var q=u.Ij(I,r)==1;r+=2;var x=u.Ij(I,r)==1;r+=2;var A=u.C(I,r);
r+=4;var Q=u.Ij(I,r);r+=2;var B=[],l=[];for(var Y=0;Y<4;Y++){B.push({t:"long",v:~~(u.Ij(I,r+Y*2)*100/32768)});
l.push({t:"long",v:~~(u.Ij(I,r+Y*2+8)*100/32768)})}r+=16;var P=u.Ij(I,r);r+=2;if(w==1)i={classID:"Grdn",Nm:{t:"TEXT",v:h},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:q},VctC:{t:"bool",v:x},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:J},Smth:{t:"long",v:A},Mnm:{t:"VlLs",v:B},Mxm:{t:"VlLs",v:l}};
var F=gJ.nI("grdm");F.Rvrs.v=W;F.Grad.v=i;n[S]=F;break;case"selc":n[S]=gs.Ki(I,k,D);break;case"vmsk":case"vsms":var t=n.vmsk=new X.JB,b$=u.bL(I,k+4),hd=(b$>>0&1)==1;
t.n2=(b$>>1&1)==0;t.isEnabled=(b$>>2&1)==0;t.d=jx.Cb(I,k+8,D-8,C.Q,C._);break;case"shmd":n[S]={};var di=u.C(I,k),p=k+4;
for(var Y=0;Y<di;Y++){var T=u.x8(I,p,4);p+=4;var hD=u.x8(I,p,4);p+=4;var a$=I[p];p++;if(Math.max(I[p],I[p+1])!=0)throw"e";
p+=3;var eJ=u.C(I,p);p+=4;if(hD=="cust"||hD=="cmls"||hD=="extn"||hD=="mlst"){var hY=u.C(I,p);if(hY!=16)p+=4;
if(u.C(I,p)==16){var _={};aM.A9(I,_,p+4,!1);n[S][hD]=_;if(hD=="cmls")E.oC.anP(n[S][hD])}}else{console.log("unknown shmd key: "+hD+", size: "+eJ)}p+=eJ}break;
case"shpa":var e=u.C(I,k),ik=u.C(I,k+4);if(ik!=0)console.log("some patterns present!");break;case"TySh":var fw=n[S]={},e=u.Ij(I,k);
fw.h=u.ru(I,k+2);var jb=u.Ij(I,k+2+48);fw.Mz={};try{var cd=aM.A9(I,fw.Mz,k+56)}catch(jL){n[S]=null;break}var dN=f4.aem();
for(var kc in dN)if(fw.Mz[kc]==null)fw.Mz[kc]=dN[kc];fw.At={};var ck=aM.A9(I,fw.At,k+56+cd+6);fw.uT=u.atZ(I,k+56+cd+6+ck);
fw.RW=af.SF(fw.Mz.EngineData.v);f4.azP(fw.RW.EngineDict.StyleRun.RunArray);if(fw.RW.ResourceDict==null)fw.RW.ResourceDict=JSON.parse(JSON.stringify(fw.RW.DocumentResources));
delete fw.Mz.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var b3=u.C(I,k),hL=u.C(I,k+4);n.lmfx={};
var cd=aM.A9(I,n.lmfx,k+8);fe.Js(n.lmfx);break;case"FMsk":n[S]=u.jD(I,k,D);break;case"Txt2":n[S]={};
n[S].raw=u.jD(I,k,D);n[S].gr=jh.SF(n[S].raw);break;case"Patt":n[S]=gK.xh(I,k,D);break;case"SoLd":var gS=u.x8(I,k,4),jF=u.C(I,k+4),kB=u.C(I,k+8),jw=n[S]={},iT=aM.A9(I,jw,k+12),gY=jw.warp,aL=jw.quiltWarp;
if(aL==null)aL=jw.quiltWarp=j.O8.ahy(gY);delete jw.warp;var dw=aL.v.warpStyle.v.warpStyle,ka=aL.v.warpValues;
if(dw!="warpCylinder"&&ka){aL.v.warpValue={t:"doub",v:ka.v[0].v};delete aL.v.warpValues}if(jw.nonAffineTransform==null)jw.nonAffineTransform=JSON.parse(JSON.stringify(jw.Trnf));
if(jw.Impr==null)jw.Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var jF=u.C(I,k);
n[S]={};var iT=aM.A9(I,n[S],k+4);break;case"vscg":var hD=u.x8(I,k,4),jF=u.C(I,k+4);n[hD]={};var iT=aM.A9(I,n[hD],k+8);
fe.Dj(n[hD],hD);break;case"vogk":var cy=u.C(I,k),jF=u.C(I,k+4);n[S]={};var iT=aM.A9(I,n[S],k+8);n[S]=n[S].keyDescriptorList.v;
for(var Y=0;Y<n[S].length;Y++){var jP=n[S][Y].v;if(!j.Z_.fn(jP))continue;if(jP.keyOriginBoxCorners==null){var aA=j.Z_.nX(jP);
jP.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};var d1=[aA[0],aA[1],aA[2],aA[1],aA[2],aA[3],aA[0],aA[3]];
if(jP.keyOriginType.v==4)d1=j.Z_.azE(j.Z_.Qj(jP),jP.keyOriginLineWeight.v);j.Z_.Tq(jP,"keyOriginBoxCorners",d1)}}break;
case"lnk2":case"lnkD__":case"lnk3__":n[S]=[];var r=k;while(r<k+D){var ag=new X.h4;n[S].push(ag);var b0=u.DH(I,r);
r+=8;var kx=r;ag.type=u.x8(I,r,4);r+=4;if(ag.type!="liFD"){alert("Unknown Linked Layer type: "+ag.type);
break;throw ag.type}ag.CL=u.C(I,r);r+=4;var br=u.wy(I,r);r+=1+br.lm.length;ag.DZ=br.lm;ag.f3=u._4(I,r);
r+=4+ag.f3.length*2+2;ag.nE=u.x8(I,r,4);r+=4;ag.e8=u.x8(I,r,4);r+=4;var ft=u.DH(I,r);r+=8;ag.open=I[r];
r+=1;if(ag.open!=0){var iv={},cd=aM.A9(I,iv,r+4);if(cd%4!=0)cd+=4-cd%4;console.log(iv);r+=cd+4}ag.open=0;
ag.raw=u.jD(I,r,ft);r=kx+b0;if(b0%4!=0)r+=4-b0%4}break;case"FEid":var r=k;n[S]=[];var k6=r+D,e=u.C(I,r);
r+=4;while(r<k6){r+=4;var b0=u.C(I,r);r+=4;var b={};n[S].push(b);b.id=u.wy(I,r).lm;r+=b.id.length+1;
var e=u.C(I,r);r+=4;r+=4;var ay=u.C(I,r);r+=4;b.rect=u.Zc(I,r);r+=16;var eT=u.C(I,r);r+=4;var kD=u.C(I,r);
r+=4;var cP=new j.$n(0);for(var Y=0;Y<kD+2;Y++){var cU=u.C(I,r);r+=4;if(cU!=0){r+=4;var gu=u.C(I,r),jd=null;
r+=4;if(Y<3||Y==25)jd=fC.xU(!0,eT,I,b.rect.Q,b.rect._,r,gu);if(Y==0)cP.$=jd;if(Y==1)cP.H=jd;if(Y==2)cP.J=jd;
if(Y==25)cP.M=jd;r+=gu}}b.buffer=j.U(b.rect.c()*4);j.we(cP,b.buffer);var i$=I[r];r++;if(i$!=0){b.u=new X.uC;
b.u.rect=u.Zc(I,r);r+=16;r+=4;var hT=u.C(I,r);r+=4;b.u.channel=fC.xU(!0,eT,I,b.u.rect.Q,b.u.rect._,r,hT);
b.u.color=255;b.u.Jk();r+=hT}if(b0%4!=0)r+=4-b0%4}break;case"Lr16":eF.aD2(C,I,k);break;case"Anno":n[S]=[];
var jk=k,i1=k+4,ik=u.C(I,i1);i1+=4;for(var Y=0;Y<ik;Y++){var b0=u.C(I,i1);i1+=4;var aZ=u.x8(I,i1,4);
i1+=4;if(aZ!="txtA")throw aZ;var az=I[i1++],hM=I[i1++],ku=u.Ij(I,i1);i1+=2;var dM=u.Zc(I,i1);i1+=16;
var fb=u.Zc(I,i1);i1+=16;var H=g_.rh(I,i1);i1+=10;var j$=u.wy(I,i1);i1+=j$.length;var e0=u.wy(I,i1);
i1+=e0.length;var ff=u.wy(I,i1);i1+=ff.length;var dm=u.C(I,i1);i1+=4;var dX=u.x8(I,i1,4);i1+=4;var il=u.C(I,i1);
i1+=4;var j1=u.u$(I,i1+2,il-2>>1);i1+=il;n[S].push([dM.x,dM.y,H,j$.lm,j1])}break;default:break}var c5="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2 cinf Anno".split(" ");
if(c5.indexOf(S)==-1)if(D%4!=0)console.log("size not multiple of 4!!!",S);if(S!="luni"&&S!="TySh"&&S!="tySh"&&S!="lfx2"&&S!="iOpa")if(D%4!=0)D+=4-D%4;
k+=D}var R=n.CgEd;if(R){var d=n.brit;if(d){d.Brgh.v=R.Brgh?R.Brgh.v:0;d.Cntr.v=R.Cntr?R.Cntr.v:0;d.useLegacy.v=R.useLegacy?R.useLegacy.v:0}delete n.CgEd}var iE=[];
for(var Y=0;Y<iE.length;Y++)delete n[iE[Y]];return k};fe.ajq=function(I,k,a,n,s){if(a.SoLd){var C={};
for(var T in a){if(T=="SoLd")C.PlLd={};C[T]=a[T]}a=C}for(var S in a)if(a[S]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+S+"\" tag was present with a null value.");delete a[S]}for(var S in a){var D=n&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(S)!=-1,v=0;
u.y0(I,k,D?"8B64":"8BIM");k+=4;var o=k;u.y0(I,k,S);k+=4;u.xp(I,k,0);k+=D?8:4;switch(S){case"iOpa":u.Yi(I,k,a[S],1);
v=4;break;case"brst":v=0;for(var Y=0;Y<3;Y++)if(a[S][Y]==0){u.eH(I,k+v,Y);v+=4}break;case"knko":u.Yi(I,k,a[S],1);
v=4;break;case"infx":u.Yi(I,k,a[S],1);v=4;break;case"clbl":u.Yi(I,k,a[S],1);v=4;break;case"lmgm":u.Yi(I,k,a[S],1);
v=4;break;case"vmgm":u.Yi(I,k,a[S],1);v=4;break;case"fcmy":u.Yi(I,k,a[S],1);v=4;break;case"lyid":u.eH(I,k,a[S]);
v=4;break;case"lsct":u.eH(I,k,a[S].type);v=4;if(a[S].pu){u.y0(I,k+4,"8BIM");u.y0(I,k+8,a[S].pu);v=12}break;
case"lyvr":u.eH(I,k,a[S]);v=4;break;case"lnsr":u.y0(I,k,a[S]);v=4;break;case"lspf":u.eH(I,k,a[S]);v=4;
break;case"lclr":u.Bs(I,k,a[S]);v=8;break;case"luni":u._Q(I,k,a[S]);v=4+2*a[S].length;break;case"fxrp":u._j(I,k,a[S].x);
u._j(I,k+8,a[S].y);v=16;break;case"artb":case"artd":u.eH(I,k,16);v=aM.EA(I,a[S],k+4)+4;break;case"SoCo":u.eH(I,k,16);
v=aM.EA(I,a[S],k+4)+4;break;case"GdFl":u.eH(I,k,16);v=aM.EA(I,a[S],k+4)+4;break;case"PtFl":u.eH(I,k,16);
v=aM.EA(I,a[S],k+4)+4;break;case"CgEd":var g={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},d=g,R=a[S];
d.Brgh.v=R.Brgh.v;d.Cntr.v=R.Cntr.v;d.useLegacy.v=R.useLegacy.v;u.eH(I,k,16);v=aM.EA(I,g,k+4)+4;break;
case"brit":I.jL(k,8);v=8;break;case"levl":var c=new ig;v=kA.TZ(c,a[S]);u.Hp(I,k,c.data);break;case"curv":v=aH.Mh(I,k,a[S]);
break;case"expA":v=14;I.jL(k,14);u.rm(I.data,k,1);u.dl(I.data,k+2,a[S].Exps?a[S].Exps.v:0);u.dl(I.data,k+6,a[S].Ofst?a[S].Ofst.v:0);
u.dl(I.data,k+10,a[S].gammaCorrection?a[S].gammaCorrection.v:1);break;case"vibA":u.eH(I,k,16);v=aM.EA(I,a[S],k+4)+4;
break;case"hue2":v=eu.Mh(I,k,a[S]);break;case"blnc":v=19;I.jL(k,v);var e=["ShdL","MdtL","HghL"];for(var Y=0;
Y<3;Y++){var O=a[S][e[Y]].v;for(var U=0;U<3;U++)O.push(u.eT(I.data,k+Y*6+U*2,O[U].v))}I.data[k+18]=a[S].PrsL.v?1:0;
break;case"blwh":var g={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},K="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var Y=0;Y<K.length;Y++){g[K[Y]]=a[S][K[Y]]}u.eH(I,k,16);v=aM.EA(I,g,k+4)+4;break;case"phfl":u.Bs(I,k,2);
var _=a[S].Clr.v;u.Bs(I,k+2,7);u.Bs(I,k+4,Math.round(_.Lmnc.v*100));u.Bs(I,k+6,Math.round(_.A.v*100));
u.Bs(I,k+8,Math.round(_.B.v*100));u.Bs(I,k+10,0);var Z=k+2+10;I.jL(Z,5);u.kK(I.data,Z,a[S].Dnst.v);Z+=4;
I.data[Z]=a[S].PrsL.v?1:0;Z++;v=Z-k;break;case"mixr":v=44;I.jL(k,v);var H=fo.Am(a[S]);u.rm(I.data,k,1);
u.rm(I.data,k+2,H.mC?1:0);for(var Y=0;Y<20;Y++)u.eT(I.data,k+4+Y*2,H.P[Y]);break;case"clrL":case"rplc":u.Bs(I,k,1);
u.eH(I,k+2,16);v=aM.EA(I,a[S],k+6)+6;break;case"nvrt":v=0;break;case"post":u.Bs(I,k,a[S].Lvls.v);v=2;
break;case"thrs":u.Bs(I,k,a[S].Lvl.v);v=2;break;case"grdm":var G=a[S].Rvrs?a[S].Rvrs.v:!1,N=!1,z=867527939,L=!1,p=!1,V=2048,r=[0,0,0,0],y=[32768,32768,32768,32768],W=a[S].Grad.v,m,f,h=W.Clrs==null?1:0;
if(h==0){m=W;f=JSON.parse(fY.vq.aac).v}else{m=gJ.nI("grdm").Grad.v;f=W}I.jL(k,4);u.rm(I.data,k,1);I.data[k+2]=G?1:0;
I.data[k+3]=N?1:0;var b=k+4;u._Q(I,b,W.Nm.v);b+=4+W.Nm.v.length*2;b=eb.aB4(I,b,m);u.Bs(I,b,h);b+=2;u.eH(I,b,f.RndS.v);
b+=4;u.Bs(I,b,f.ShTr.v?1:0);b+=2;u.Bs(I,b,f.VctC.v?1:0);b+=2;u.eH(I,b,f.Smth.v);b+=4;u.Bs(I,b,3);b+=2;
for(var Y=0;Y<4;Y++)u.Bs(I,b+Y*2,r[Y]);b+=8;for(var Y=0;Y<4;Y++)u.Bs(I,b+Y*2,y[Y]);b+=8;b+=2;v=b-k;break;
case"selc":v=gs.Mh(I,k,a[S]);break;case"FMsk":u.Hp(I,k,a[S]);v=a[S].length;break;case"Txt2":var i=new ig,w=jh.OM(a[S].gr,i),J=j.U(w,!0);
for(var Y=0;Y<w;Y++)J[Y]=i.data[Y];u.Hp(I,k,J);v=J.length;break;case"vmsk":var q=a[S],x=0;u.eH(I,k,3);
if(!q.n2)x+=1<<1;if(!q.isEnabled)x+=1<<2;u.eH(I,k+4,x);v=8;var A=q.d.length;I.jL(k+8,A*26);jx.b1(I.data,k+8,q.d,s.Q,s._);
v+=A*26;break;case"shmd":u.eH(I,k,Object.keys(a[S]).length);var Z=k+4;for(var Q in a[S]){u.y0(I,Z,"8BIM");
Z+=4;u.y0(I,Z,Q);Z+=4;u.eH(I,Z,0);Z+=4;u.eH(I,Z,0);Z+=4;u.eH(I,Z,16);Z+=4;var B=aM.EA(I,a[S][Q],Z);if(B%4!=0)B+=4-B%4;
u.eH(I,Z-8,B+4);Z+=B}v=Z-k;break;case"TySh":var Z=k;u.xS(I,Z,1);Z+=2;var l=a[S],i=new ig;l.RW.DocumentResources=JSON.parse(JSON.stringify(l.RW.ResourceDict));
var w=af.OM(l.RW,i),J=j.U(w,!0);for(var Y=0;Y<w;Y++)J[Y]=i.data[Y];l.Mz.EngineData={t:"tdta",v:J};var P=l.RW.EngineDict.Editor.Text;
l.Mz.Txt.v=P.substring(0,P.length-1);u.axy(I,Z,l.h);Z+=48;u.xS(I,Z,50);Z+=2;u.eH(I,Z,16);Z+=4;Z+=aM.EA(I,l.Mz,Z);
u.xS(I,Z,1);Z+=2;u.eH(I,Z,16);Z+=4;Z+=aM.EA(I,l.At,Z);u.aiW(I,Z,l.uT);Z+=16;v=Z-k;break;case"lmfx":u.eH(I,k,0);
u.eH(I,k+4,16);var g=JSON.parse(JSON.stringify(a[S])),F=!1;fe.ZF(g);for(var Y=0;Y<fY.zQ.length;Y++)if(g[fY.zQ[Y]]!=null)F=!0;
u.y0(I,o,F?"lmfx":"lfx2");v=aM.EA(I,g,k+8)+8;break;case"Patt":var Z=gK.Jy(I,k,a[S]);v=Z-k;break;case"PlLd":var t=k;
I.jL(k,60);var O=a.SoLd;u.y0(I,k,"plcL");u.eH(I,k+4,3);var b$=I.data[k+8]=O.Idnt.v.length;u.y0(I,k+9,O.Idnt.v);
var Z=k+9+b$,hd=[1,1,16,2];for(var Y=0;Y<4;Y++)u.eH(I,Z+Y*4,hd[Y]);Z+=16;hd=E.nF.QX(O.nonAffineTransform);
for(var Y=0;Y<8;Y++)u._j(I,Z+Y*8,hd[Y]);Z+=64;u.eH(I,Z,0);u.eH(I,Z+4,16);var di=j.O8.atE(O.quiltWarp).v;
Z+=8+aM.EA(I,di,Z+8);v=Z-k;break;case"SoLd":var O=a[S],hD=O.quiltWarp;O.warp=j.O8.atE(hD);if(j.O8.AX(hD.v)==16)delete O.quiltWarp;
u.y0(I,k,"soLD");u.eH(I,k+4,4);u.eH(I,k+8,16);v=aM.EA(I,O,k+12)+12;O.quiltWarp=hD;delete O.warp;break;
case"vstk":case"pths":u.eH(I,k,16);v=aM.EA(I,a[S],k+4)+4;break;case"vscg__":u.y0(I,k,a[S].key);u.eH(I,k+4,16);
v=aM.EA(I,a[S].P,k+8)+8;break;case"vogk":u.eH(I,k,1);u.eH(I,k+4,16);j.Z_.ahJ(a[S]);for(var Y=0;Y<a[S].length;
Y++){var a$=a[S][Y].v.keyOriginResolution;if(a$)a$.v=s.oE}var eJ={classID:"null",keyDescriptorList:{t:"VlLs",v:a[S]}};
v=aM.EA(I,eJ,k+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var b=k;for(var Y=0;Y<a[S].length;Y++){var hY=a[S][Y],ik=b;
u._E(I,b,0);b+=8;u.y0(I,b,hY.type);b+=4;u.eH(I,b,hY.CL);b+=4;I.jL(b,1);I.data[b]=hY.DZ.length;b++;u.y0(I,b,hY.DZ);
b+=hY.DZ.length;u._Q(I,b,hY.f3+"\0");b+=4+hY.f3.length*2+2;u.y0(I,b,hY.nE);b+=4;u.y0(I,b,hY.e8);b+=4;
u._E(I,b,hY.raw.length);b+=8;I.jL(b,1);I.data[b]=hY.open;b++;u.Hp(I,b,hY.raw);b+=hY.raw.length;u.eH(I,b,1);
b+=4;b+=11;var fw=b-ik-8;u._E(I,ik,fw);if(fw%4!=0){I.jL(b,4-fw%4);b+=4-fw%4}}v=b-k;break;case"FEid":var b=k;
u.eH(I,b,3);b+=4;for(var jb=0;jb<a[S].length;jb++){var cd=a[S][jb];b+=4;var dN=b;b+=4;u.Fi(I,b,cd.id);
b+=cd.id.length+1;u.eH(I,b,1);b+=4;var kc=j.U(cd.rect.c()),ck=cd.rect,b3=j.U(ck.c());b+=4;var hL=b;b+=4;
u._U(I,b,ck);b+=16;u.eH(I,b,8);b+=4;u.eH(I,b,24);b+=4;for(var Y=0;Y<24+2;Y++){var gS=-1;if(Y==0)gS=0;
if(Y==1)gS=1;if(Y==2)gS=2;if(Y==25)gS=3;u.eH(I,b,gS!=-1?1:0);b+=4;if(gS!=-1){j.Ez(cd.buffer,kc,gS);j.O0(kc,cd.rect,b3,ck);
b+=4;var jF=b;b+=4;I.jL(b,ck.c()+2);b=fC.__(!0,b3,I.data,ck.Q,ck._,b,3);u.eH(I,jF,b-(jF+4))}}u.eH(I,hL,b-(hL+4));
I.jL(b,1);I.data[b]=cd.u?1:0;b++;if(cd.u!=null){var kB=ck,jw=j.U(kB.c());jw.fill(cd.u.color);j.O0(cd.u.channel,cd.u.rect,jw,kB);
u._U(I,b,kB);b+=16;b+=4;var iT=b;b+=4;I.jL(b,kB.c()+2);b=fC.__(!0,jw,I.data,kB.Q,kB._,b,3);u.eH(I,iT,b-(iT+4))}var fw=b-(dN+4);
u.eH(I,dN,fw);if(fw%4!=0)b+=4-fw%4}v=b-k;break;case"Anno":var gY=k,aL=a[S].length;u.Bs(I,gY,2);u.Bs(I,gY+2,1);
gY+=4;u.eH(I,gY,aL);gY+=4;for(var Y=0;Y<aL;Y++){var dw=a[S][Y],ka=dw[0],cy=dw[1],jP=gY;gY+=4;u.y0(I,gY,"txtA");
gY+=4;I.jL(gY,2);I.data[gY]=1;I.data[gY+1]=28;gY+=2;u.Bs(I,gY,1);gY+=2;u._U(I,gY,new eZ(ka,cy,17,21));
gY+=16;u._U(I,gY,new eZ(ka+8,cy+10,241,141));gY+=16;I.jL(gY,10);g_.zB(I.data,gY,dw[2]);gY+=10;gY+=u.Fi(I,gY,dw[3]);
gY+=u.Fi(I,gY,"");gY+=u.Fi(I,gY,"D:20211012120233+01'00'");var aA=dw[4].length*2;u.eH(I,gY,12+2+aA);
gY+=4;u.y0(I,gY,"txtC");gY+=4;u.eH(I,gY,2+aA);gY+=4;I.jL(gY,2);I.data[gY]=254;I.data[gY+1]=255;gY+=2;
u.a87(I,gY,dw[4]);gY+=aA;u.eH(I,jP,gY-jP)}v=gY-k;break;default:console.log("unknown layer tag: "+S+", size: "+v);
k-=12;continue}var d1=["Txt2","artd","extd","pths"];if(d1.indexOf(S)==-1)if(v%4!=0)v+=4-v%4;if(D)u._E(I,k-8,v);
else u.eH(I,k-4,v);if(S!="luni"&&S!="TySh")if(v%4!=0)v+=4-v%4;k+=v}return k};fe.Js=function(I){for(var Y=0;
Y<fY.order.length;Y++){var k=fY.order[Y],a=fY.zQ[Y];if(I[a]==null)I[a]={t:"VlLs",v:[]};if(I[k]!=null){I[a].v.push(I[k]);
delete I[k]}var n=[];for(var s=0;s<I[a].v.length;s++){var C=I[a].v[s];if(C.v.present==null||C.v.present.v==!0)n.push(C)}I[a].v=n}};
fe.ZF=function(I){for(var Y=0;Y<fY.order.length;Y++){var k=fY.order[Y],a=fY.zQ[Y],n=I[a].v.length;if(n==0){delete I[a];
continue}if(n==1){I[k]=I[a].v[0];delete I[a];continue}}};fe.Dj=function(I,k){if(k=="GdFl"){if(I.Angl==null)I.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(I.Algn==null)I.Algn={v:!0,t:"bool"};if(I.Scl==null)I.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(I.Ofst==null)I.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(I.Rvrs==null)I.Rvrs={v:!1,t:"bool"};if(I.Dthr==null)I.Dthr={v:!1,t:"bool"}}if(k=="PtFl"){if(I.Algn==null)I.Algn={v:!0,t:"bool"};
if(I.Angl==null)I.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(I.Scl==null)I.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(I.phase==null)I.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};fe.clone=function(I,k){var a={};
if(I=="TySh"){a.h=k.h.clone();a.Mz=JSON.parse(JSON.stringify(k.Mz));a.At=JSON.parse(JSON.stringify(k.At));
a.uT=k.uT.clone();a.RW=JSON.parse(JSON.stringify(k.RW));if(k.add)a.add={vmsk:k.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(k.add.vogk))};
return a}else if(I=="fxrp")return k.clone();else if(I=="vmsk")return k.clone();else return JSON.parse(JSON.stringify(k))};
function jj(I,k){}jj.SF=function(I,k,a,n){n=jj.a2i(I,k,a,n);return n};jj.OM=function(I,k,a,n,s){n=jj.as7(I,k,a,n,s);
return n};jj.a2i=function(I,k,a,n){var s=n;I.rect=u.Zc(a,n);n+=16;var C=u.Ij(a,n);n+=2;I.dO=[];var T=k.lI;
for(var Y=0;Y<C;Y++){I.dO[Y]={id:u.cl(a,n),length:(T?u.DH:u.C)(a,n+2)};n+=T?10:6}var S=u.x8(a,n,4);n+=4;
if(S!="8BIM"){console.log("Invalid Blend mode signature: "+JSON.stringify(S));alert("Error in Photoshop file: wrong signature.");
throw"e"}I.pu=u.x8(a,n,4);n+=4;I.opacity=a[n];n+=1;I.Pi=a[n]==1;n+=1;I.HA=a[n];n+=1;if(a[n]!=0)console.log("error in filler!");
n+=1;var D=u.C(a,n);n+=4;var o=n;n=jj.ami(I,a,n);n=jj.as0(I,a,n);var v=u.wy(a,n);I.name=v.lm;n+=v.length;
if(v.length%4!=0)n+=4-v.length%4;n=fe.awP(a,n,o+D,I.add,T,k);if(I.add.lsct){if(I.add.lsct.pu)I.pu=I.add.lsct.pu;
I.add.lsct=I.add.lsct.type}return n};jj.as7=function(I,k,a,n,s){var C=n;u._U(a,n,I.rect);n+=16;var T=k.add.fcmy==1,S=I.abg(T);
u.Bs(a,n,S.length);n+=2;var D=k.lI;s.push(n);for(var Y=0;Y<S.length;Y++){u.xS(a,n,S[Y]);if(D)u._E(a,n+2,0);
else u.eH(a,n+2,0);n+=D?10:6}u.y0(a,n,"8BIM");n+=4;u.y0(a,n,I.pu);n+=4;u.Yi(a,n,I.opacity,1);n+=1;u.Yi(a,n,I.Pi?1:0,1);
n+=1;u.Yi(a,n,I.HA,1);n+=1;u.Yi(a,n,0,1);n+=1;var o=n;u.eH(a,n,0);n+=4;var v=n;n=jj.aiy(I,a,n);n=jj.a2Y(I,a,n);
var g=u.Fi(a,n,I.name.slice(0,255));n+=g;if(g%4!=0)n+=4-g%4;if(I.add.lsct){I.add.lsct={type:I.add.lsct};
if(I.pu=="pass"){I.add.lsct.pu="pass";I.pu="norm"}}if(I.pu=="pass")I.add.lsct={type:I.add.lsct,pu:"pass"};
if(I.add.brit)I.add.CgEd=I.add.brit;n=fe.ajq(a,n,I.add,D,k);delete I.add.CgEd;if(I.add.lsct){if(I.add.lsct.pu)I.pu=I.add.lsct.pu;
I.add.lsct=I.add.lsct.type}var d=n-v;u.eH(a,o,d);return n};jj.ami=function(I,k,a){var n=u.C(k,a);a+=4;
if(n==0)return a;var s=a;I.u=new X.uC;I.u.rect=u.Zc(k,a);a+=16;I.u.color=k[a];a+=1;var C=jj.aww(I.u,k,a);
a+=1;if(C){var T=!1,S=255,D=0,o=255,v=0;for(var Y=0;Y<I.dO.length;Y++)if(I.dO[Y].id==-3)T=!0;if(T){I.fm=jj.adH(k,a);
a+=18}var g=a,d=k[a];a++;if(d>>0&1){S=k[a];a++}if(d>>1&1){D=u._x(k,a);a+=8}if(d>>2&1){o=k[a];a++}if(d>>3&1){v=u._x(k,a);
a+=8}if((a-g&1)==1)a++;I.w6=[S,D,o,v]}else{if(n==20)a+=2;else{I.fm=jj.adH(k,a);a+=18}}return s+n};jj.aiy=function(I,k,a){u.eH(k,a,0);
a+=4;if(I.u==null)return a;var n=I.IO(),s=I.add.vmsk,C=a,T=!0;u.eH(k,a,0);u._U(k,a,I.u.rect);a+=16;u.Yi(k,a,I.u.color);
a+=1;jj.acT(I.u,k,a,T);a+=1;if(T){if(I.fm){jj.alV(k,a,I.fm);a+=18}var S=a;u.Yi(k,a,s?15:3);a+=1;u.Yi(k,a,n?n.Au:255);
a+=1;u._j(k,a,n?n.K4:0);a+=8;if(s){u.Yi(k,a,s?s.Au:255);a+=1;u._j(k,a,s?s.K4:0);a+=8}if((a-S&1)==1)a++}u.eH(k,C-4,a-C);
return a};jj.adH=function(I,k){var a=new X.uC;jj.aww(a,I,k);k+=1;a.color=I[k];k+=1;a.rect=u.Zc(I,k);
k+=16;return a};jj.alV=function(I,k,a){jj.acT(a,I,k,!1);k+=1;u.Yi(I,k,a.color);k+=1;u._U(I,k,a.rect);
k+=16};jj.aww=function(I,k,a){var n=k[a];I.n2=(n>>0&1)==0;I.isEnabled=(n>>1&1)==0;I.yj=(n>>3&1)==1;return n>>4&1};
jj.acT=function(I,k,a,n){var s=0;if(!I.n2)s+=1<<0;if(!I.isEnabled)s+=1<<1;if(I.yj)s+=1<<3;if(n)s+=1<<4;
u.Yi(k,a,s)};jj.as0=function(I,k,a){var n=u.C(k,a);a+=4;for(var Y=0;Y<n;Y++)I.z4[Y]=k[a+Y];return a+n};
jj.a2Y=function(I,k,a){u.eH(k,a,I.z4.length);a+=4;k.jL(a,40);for(var Y=0;Y<40;Y++){k.data[a+Y]=I.z4[Y]}return a+40};
function fC(){}fC.SF=function(I,k,a,n){n=fC.aEW(k,k.lI,k.oZ,k.LZ,I,a,n);return n};fC.TZ=function(I,k,a,n,s,C,T){n=fC.auH(I,k,a,n,s,C,T);
return n};fC.aEW=function(I,k,a,n,s,C,T){var S=s.dO,D={},o=T;for(var Y=0;Y<S.length;Y++){var v=S[Y],g=v.id,d=v.length,R;
if(g==-2&&s.u==null)g=-1;if(g==-3)R=s.fm.rect;else if(g==-2)R=s.u.rect;else R=s.rect;var c=fC.xU(k,a,C,R.Q,R._,T,d);
T+=d;if(g==-3)s.fm.channel=c;else if(g==-2)s.u.channel=c;else D["c"+g]=c}var e=new j.$n(0);e.M=null;
if(n==3){e.$=D.c0;e.H=D.c1;e.J=D.c2;e.M=D["c-1"]}else if(n==1){e.$=D.c0;e.H=D.c0;e.J=D.c0;e.M=D["c-1"]}else if(n==4){var O=I.ju.r1039,U=null,K=D.c0,_=D.c1,Z=D.c2,H=D.c3;
if(O){var U=O.aDz,G=17;if(U==null){var N=ICC.R(O.buffer);if(N.header.spaceIn=="RGB "){}else U=O.aDz=ICC.U.sampleLUT(N,G)}}if(U){var z={$:K,H:_,J:Z,M:H},L=j.U(K.length*4);
j.we(z,L);j.Us(L);ICC.U.applyLUT4(U,G,L,L);j.A0(L,z)}else{for(var Y=0;Y<K.length;Y++){var p=1-K[Y]*(1/255),V=1-_[Y]*(1/255),r=1-Z[Y]*(1/255),y=1-H[Y]*(1/255),W=j.V5([p,V,r,y]);
K[Y]=Math.floor(.5+W[0]*255);_[Y]=Math.floor(.5+W[1]*255);Z[Y]=Math.floor(.5+W[2]*255)}}e.$=K;e.H=_;
e.J=Z;e.M=D["c-1"]}if(e.$==null)e.$=j.U(0);if(e.M==null&&e.$!=null){e.M=e.$.slice(0);e.M.fill(255)}if(e.H==null)e.H=e.$.slice(0);
if(e.J==null)e.J=e.$.slice(0);s.buffer=j.U(Math.max(0,s.rect.c()*4));j.we(e,s.buffer);return T};fC.auH=function(I,k,a,n,s,C,T){var S=k.abg(T),D=k.buffer,o=new j.$n(k.rect.c());
if(T){var v=o.M.slice(0);j.Ez(D,v,3);D=D.slice(0);j.aqQ(D);j.A0(D,o);o.ack=o.M;o.M=v}else j.A0(D,o);
for(var Y=0;Y<S.length;Y++){var g=S[Y],d,R;if(g==-3)d=k.fm.rect;else if(g==-2)d=k.u.rect;else d=k.rect;
if(g==-3)R=k.fm.channel;if(g==-2)R=k.u.channel;if(g==-1)R=o.M;if(g==0)R=o.$;if(g==1)R=o.H;if(g==2)R=o.J;
if(g==3)R=o.ack;a.jL(n,d.c()*3+4);var c=n;n=fC.__(I,R,a.data,d.Q,d._,n,C[1]?3:1);var e=n-c;if(I)u.aBm(a.data,s+Y*10+2,e);
else u.kK(a.data,s+Y*6+2,e)}return n};fC.xU=function(I,k,a,n,s,C,T){var S=u.Ij(a,C);C+=2;return fC.Om(I,k,a,n,s,C,S,T-2)};
fC.__=function(I,k,a,n,s,C,T){u.eT(a,C,T);C+=2;C=fC.l7(I,k,a,n,s,C,T);return C};fC.Om=function(I,k,a,n,s,C,T,S){var D,o=n*s*(k>>>3),v=o&3,g=o+(v==0?0:4-v);
if(S<=0){return j.U(g)}if(T>3){console.log("unknown compression: "+T,n,s,n*s,S);T=0}if(T==0){if(C+g<=a.length)D=a.slice(C,C+g);
else{D=j.U(o);for(var Y=0;Y<o;Y++)D[Y]=a[C+Y]}C+=o}else if(T==1){D=j.U(o);var d=I?4:2,R=fC.ac_(a,D,n,s,C,C+d*s,d);
C+=d*s+R}else if(T==2||T==3){var c=new Uint8Array(a.buffer,C+2,S-6),e=j.U(g);UZIP.inflateRaw(c,e);if(T==3){if(k==8)for(var O=0;
O<s;O++){var U=O*n+1,K=U+n-1,_=e[U-1];for(var Z=U;Z<K;Z++){_+=e[Z];e[Z]=_&255}}else for(var O=0;O<s;
O++){var U=O*n+1,K=U+n-1,_=e[2*U-2]<<8|e[2*U-1];for(var Z=U;Z<K;Z++){var H=Z<<1;_+=e[H]<<8|e[H+1];e[H]=_>>>8;
e[H+1]=_&255}}}if(e.length==g)D=e;else{D=j.U(g);for(var Y=0;Y<e.length;Y++)D[Y]=e[Y]}}if(k==16){var G=j.U(n*s);
for(var Y=0;Y<o;Y+=2)G[Y>>>1]=D[Y];D=G}return D};fC.l7=function(I,k,a,n,s,C,T){var S=n*s;if(T==0)for(var Y=0;
Y<S;Y++)a[C++]=k[Y];else if(T==1){var D=I?4:2,o=fC.arS(k,a,n,s,C,C+D*s,D);C+=D*s+o}else if(T==2||T==3){if(T==3){var v=new Uint8Array(k.length);
for(var g=0;g<s;g++){var d=g*n+1,R=d+n-1,c=k[d-1];v[d-1]=c;for(var e=d;e<R;e++){v[e]=k[e]+(256-c)&255;
c=k[e]}}k=v}a[C]=120;a[C+1]=156;C+=2;var O=pako.deflateRaw(k,{a4n:4});u.aDF(a,C,O);C+=O.length+4}else console.log("Unknown compression: "+T);
return C};fC.ac_=function(I,k,a,n,s,C,T){if(!(I instanceof Uint8Array)||!(k instanceof Uint8Array))throw"e";
var S=C,D=n|0;if(T==2)for(var Y=0;Y<D;Y++){var o=u.Ij(I,s+(Y<<1));fC.D0(I,C,o,k,Y*a,a);C+=o}else for(var Y=0;
Y<D;Y++){var o=u.C(I,s+(Y<<2));fC.D0(I,C,o,k,Y*a,a);C+=o}return C-S};fC.arS=function(I,k,a,n,s,C,T){var S=C;
if(T==2)for(var Y=0;Y<n;Y++){var D=fC.agY(I,Y*a,a,k,C);u.rm(k,s+Y*2,D);C+=D}else for(var Y=0;Y<n;Y++){var D=fC.agY(I,Y*a,a,k,C);
u.kK(k,s+Y*4,D);C+=D}return C-S};fC.agY=function(I,k,bQ,a,n){var s,C,T,S,D,bC,o;S=k+bQ;for(T=k,C=n;bQ>0;
T=s,bQ-=bC){o=bQ<128?bQ:128;if(T<=S-3&&I[T+1]==I[T+0]&&I[T+2]==I[T+0]){for(s=T+3;s<T+o&&I[s]==I[T+0];
)++s;bC=s-T;a[C++]=1+256-bC;a[C++]=I[T+0]}else{for(s=T;s<T+o;)if(s<=S-3&&I[s+1]==I[s+0]&&I[s+2]==I[s+0])break;
else++s;bC=s-T;a[C++]=bC-1;for(var Y=0;Y<bC;Y++)a[C+Y]=I[T+Y];C+=bC}}return C-n};fC.D0=function(I,k,a,n,s,C){for(var T=0;
T<a;){var bQ=I[k++];if(bQ>=128){var S=I[k++],D=s+(257-bQ);n.fill(S,s,D);s=D;T+=2}else{for(var Y=0;Y<=bQ;
Y++)n[s+Y]=I[k+Y];k+=bQ+1;s+=bQ+1;T+=1+1+bQ}}};function eF(){}eF.af=function(I,k,a){return;var n="",s=k;
while(s!=0){var C=s%1e3+"";while(C.length<3)C="0"+C;n=(n==""?C:C+" ")+n;s=Math.floor(s/1e3)}while(n.startsWith("0")&&n!="0")n=n.slice(1);
while(n.length<11)n=" "+n;console.log("===",n,"\t".repeat(I),": "+a)};eF.avR=function(I){var k={ju:{}},n=0,s=0,S;
k.lI=!1;k.oZ=8;var a=new Uint8Array(I);s=eF.V2(k,a,n);n=s;s=eF.aCx(k,a,n);n=s;var C=u.C(a,n);n+=4+C;
var T=k.lI?8:4;if(k.lI)S=u.DH(a,n);else S=u.C(a,n);n+=T+S;s=eF.aq8(k,a,n);return[{e3:new eZ(0,0,k.Q,k._),data:k.buffer.buffer}]};
eF.SF=function(I,k){k.lI=!1;k.oZ=8;var a=new Uint8Array(I),n=0,s=0,T=0,Q,jb=!1,cd=!0,dN=!1,kc=0,j1=0;
s=eF.V2(k,a,n);eF.af(0,s-n,"PSD Header");n=s;s=eF.aCx(k,a,n);eF.af(0,s-n,"Color Mode Data");n=s;s=eF.atj(k,a,n);
eF.af(0,s-n,"Image Resources");n=s;s=eF.ab4(k,a,n);eF.af(0,s-n,"Layer And Mask Info");n=s;s=eF.aq8(k,a,n);
eF.af(0,s-n,"Merged Image");n=s;if(k.R.length==0){var C=k.ux();C.GF("Background");k.R.push(C);C.buffer=k.buffer.slice(0);
C.rect=new eZ(0,0,k.Q,k._)}for(var Y=0;Y<k.R.length;Y++){var s=k.R[Y],S=s.add.lsct;if(S==gA.EB)T++;else if(S==gA.rW||S==gA.DG)T--}while(T<0){k.R.unshift(k.KM());
T++}if(k.ju.r1005){k.oE=u.Wj(k.ju.r1005,0)}if(k.ju.r1026){var a=k.ju.r1026;for(var Y=0;Y<a.length;Y+=2){var s=k.R[Y>>>1];
if(s)s.sk=u.Ij(a,Y)}}if(k.ju.r1072){var a=k.ju.r1072;for(var Y=0;Y<a.length;Y++){var s=k.R[Y];if(s)s.Fz=a[Y]==1}}if(k.ju.r1032){k.Fq=eF.ab6(k.ju.r1032,0)}delete k.ju.r1036;
k.eC(k.ju.r1039);if(k.ju.r1050){var D=u.C,o=k.ju.r1050,v=u.C(o,0);if(v==6){var g=4,d=u.Zc(o,g);g+=16;
var R=u.rw(o,g);g+=4+R.length*2;var c=D(o,g);g+=4;var e=k.IZ;for(var Y=0;Y<c;Y++){var O=E.xG.fu(),K;
e.push(O);O=O.v;O.sliceID.v=D(o,g);g+=4;O.groupID.v=D(o,g);g+=4;var U=D(o,g);g+=4;if(U==1){K=D(o,g);
g+=4}var R=u.rw(o,g);g+=4+R.length*2;var _=D(o,g);g+=4;var Z=[D(o,g),D(o,g+4),D(o,g+8),D(o,g+12)];g+=16;
E.xG.yA(e,e.length-1,Z);var H=O.url.v=u.rw(o,g);g+=4+H.length*2;var G=O.null.v=u.rw(o,g);g+=4+G.length*2;
var N=O.Msge.v=u.rw(o,g);g+=4+N.length*2;var z=O.altTag.v=u.rw(o,g);g+=4+z.length*2;O.cellTextIsHTML.v=o[g]==1;
g++;var L=O.cellText.v=u.rw(o,g);g+=4+L.length*2;var p=D(o,g);g+=4;var V=D(o,g);g+=4;var r=o.slice(g,g+4);
g+=4;if(U!=2)e.pop()}}else if(v==8){var y={};aM.A9(o,y,8,!1);var o=k.IZ=y.slices.v;for(var Y=0;Y<o.length;
Y++){if(o[Y].v.origin.v.ESliceOrigin!="userGenerated"){o.splice(Y,1);Y--}}}}if(k.ju.r1058){var W=k.ju.r1058,m=UTIF.decode(W.buffer,{parseMN:!1,debug:!1});
ei.oD(m[0],k.Qd);delete k.ju.r1058}if(k.ju.r1060){var f=u.Im(k.ju.r1060);ei.rK(f,k.Qd);delete k.ju.r1060}if(k.ju.r1065){var a=k.ju.r1065;
k._y={};aM.A9(a,k._y,4,!1)}if(k.ju.r1069){var a=k.ju.r1069,h=[];for(var Y=2;Y<a.length;Y+=4){var K=u.C(a,Y);
for(var b=0;b<k.R.length;b++){var s=k.R[b];if(s.add.lyid==K&&s.add.lsct!=3&&h.indexOf(b)==-1)h.push(b)}}k.T=h}if(k.ju.r1073){var a=k.ju.r1073,g=0,i=u.bL(a,g);
g+=4;var w=u.bL(a,g);g+=4;for(var Y=0;Y<w;Y++){k.wQ.push({y:i>=2?u.Yh(a,g+2):u.Wj(a,g+2),x:i>=2?u.Yh(a,g+6):u.Wj(a,g+6)});
g+=14}delete k.ju.r1073}if(k.ju.r1025){var J=k.ju.r1025;delete k.ju.r1025;var q=jx.Cb(J,0,J.length,k.Q,k._),x=new X.JB;
x.d=q;k.DD[0]=iJ.jy("Working Path",{vmsk:x})}var A=k.add.pths;delete k.add.pths;var B=k.ju.r3000;if(B){Q={};
aM.A9(B,Q,4,!1);delete k.ju.r3000}if(A){var l=A.pathSymmetrySelectedPath;if(l){var P=A.pathList.v[l.v].v,F=P.pathUnicodeName.v;
k.ym=F.startsWith("Tile Symmetry")}}for(var t=0;t<=997;t++){var b$="r"+(2e3+t),J=k.ju[b$];if(J==null)break;
var q=jx.Cb(J,0,J.length,k.Q,k._),F="Path "+t;if(A){var hd=A.pathList.v[t].v;F=hd.pathUnicodeName.v;
if(F=="Tile Symmetry 1")continue}var di=Q?Q.keyRootDescriptorList.v[t].v.keyDescriptorList.v:X.Bb(q),x=new X.JB;
x.d=q;k.DD.push(iJ.jy(F,{vmsk:x,vogk:di}));delete k.ju[b$]}delete k.lI;if(k.ju.r4000){k.cy=j.cy.SF(k.ju.r4000)}var hD=k.ju.r7000,a$=k.ju.r7001;
if(hD){var eJ=u.Im(hD);k.pn=eF.a4q(eJ)}if(a$){var eJ=u.Im(a$);k.VJ=eF.agR(eJ)}delete k.ju.r7000;delete k.ju.r7001;
var hY=new eZ(0,0,k.Q,k._),ik=k.add.Txt2,fw=ik;if(fw){fw=fw.gr;if(fw._DocumentResources==null)fw=eO.auq(fw)}var ck=-1;
for(var Y=0;Y<k.R.length;Y++){var s=k.R[Y],b3=s.add.lsct,hL=s.add.vmsk,gS=s.IO();if(b3==gA.EB){kc++;
s.add.lspf=0}else if(b3==gA.rW||b3==gA.DG)kc--;if(s.name==""){s.name="Layer "+(Y+1);dN=!0}if(dN&&s.hd()&&s.pu=="norm")s.pu="pass";
if(s.st()&&s.kx(k)==null)delete s.add.SoLd;if(s.st()&&s.kx(k).u){var jF=s.kx(k);jF.u.isEnabled=s.add.SoLd.filterFX.v.filterMaskEnable.v}if(hL&&s.wc()){var kB=fY.Lg.nI(!0);
if(s.add.vstk==null)s.add.vstk=JSON.parse(JSON.stringify(kB));else{var jw="strokeStyleLineDashSet";if(s.add.vstk[jw]==null)s.add.vstk[jw]=JSON.parse(JSON.stringify(kB[jw]))}s.add.vstk.strokeStyleLineWidth.v.type="#Pxl";
s.add.vstk.strokeStyleResolution.v=k.oE}if(hL&&(s.add.vogk==null||j.n.gZ(hL.d)!=s.add.vogk.length))s.Bb();
if(!1){var iT=s.add.vogk,gY=!0;for(var aL=0;aL<iT.length;aL++){var dw=iT[aL].v.keyShapeInvalidated;if(dw==null||dw.v==!1)gY=!1}if(gY)s.Bb()}if(s.add.SoLd&&s.rect.KH()){console.log("redrawing smart instance");
s.Bi(k,null,null,!0)}if(gS==null&&s.u!=null){if(s.u.yj==!1){s.u.yj=!0;s.fm=s.u.clone()}}gS=s.IO();if(s.w6){var kB=s.w6,x=hL;
if(gS){gS.Au=kB[0];gS.K4=kB[1]}if(x){x.Au=kB[2];x.K4=kB[3]}s.w6=null}if(gS!=null&&hL!=null&&(gS.K4+hL.K4!=0||gS.Au+hL.Au!=2*255))s.Wr(k);
else if(hL!=null&&!s.wc())s.Wr();else if(gS&&gS.Au!=255&&s.wc())s.Wr(k);var ka=s.add.artb;if(ka&&ka.artboardBackgroundType==null)ka.artboardBackgroundType={t:"long",v:1};
if(ka&&kc!=0)delete s.add.artb;var cy=s.add.vstk;if(s.wc()&&(s.rect.KH()||hL&&hL.K4!=0||cy&&!cy.fillEnabled.v&&(!cy.strokeEnabled.v||cy.strokeStyleLineWidth.v.val==0)))s.ad(k);
if(s.add.TySh){jb=!0;if(!s.rect.KH())cd=!1}if(s.add.TySh&&fw){ck++;var jP=s.add.TySh.RW,aA=f4.nO(jP),d1=fw._DocumentObjects._TextObjects;
if(d1.length<=ck){console.log("Txt2 incomplete");continue}var ag=d1[ck]._Model,b0=ag._StyleRun?ag._StyleRun._RunArray:[],kx=jP.EngineDict.StyleRun.RunArray;
for(var br=0;br<kx.length;br++){var ft=kx[br].StyleSheet.StyleSheetData;if(b0[br]==null)continue;var iv=b0[br]._RunData._StyleSheet._Features;
if(iv){if(iv._BaselineDirection)ft.BaselineDirection=parseInt(iv._BaselineDirection.slice(1));if(iv._FillBackgroundFlag)ft._FillBackgroundFlag=iv._FillBackgroundFlag;
if(iv._FillBackgroundColor)ft._FillBackgroundColor={Type:1,Values:j7.N3(iv._FillBackgroundColor._Color._Values)};
var k6=["_LineCap","_LineJoin","_MiterLimit","_LineDashOffset"];for(var b=0;b<k6.length;b++)if(iv[k6[b]]!=null)ft[k6[b]]=parseInt(iv[k6[b]].slice(1));
if(iv._LineDashArray!=null)ft._LineDashArray=j7.N3(iv._LineDashArray)}}var ay=jP.EngineDict.ParagraphRun.RunArray,eT=ag._ParagraphRun._RunArray;
if(eT==null)eT=[];var kD=Math.min(eT.length,ay.length);for(var b=0;b<kD;b++){var cP=ay[b].ParagraphSheet.Properties,cU=fw._DocumentResources._ParagraphSheetSet._Resources,gu=eT[b]._RunData._ParagraphSheet;
if(typeof gu=="string")gu=cU[parseInt(gu.slice(1))]._Resource;var jd=gu._Parent==null?gu:cU[parseInt(gu._Parent.slice(1))]._Resource;
gu=gu._Features;jd=jd._Features;var i$=gu._ParagraphDirection;if(i$==null)i$=jd._ParagraphDirection;
if(i$)cP._Direction=parseInt(i$.slice(1));if(gu._ComposerEngine)cP._ComposerEngine=parseInt(gu._ComposerEngine.slice(1))}if(ag._AlternateGlyphRun){var eT=ag._AlternateGlyphRun._RunArray,kD=eT.length,hT=jP.EngineDict.AlternateGlyphRun=f4.aoY();
for(var b=0;b<kD;b++){var gu=eT[b],jk={},i1=gu._RunData._AlternateGlyphSheet;if(i1)jk.Glyph=parseInt(i1._Glyph.slice(1));
hT.RunArray.push(jk);hT.RunLengthArray.push(parseInt(gu._Length.slice(1)))}}var aZ=fw._DocumentResources,az=aZ._TextFrameSet._Resources,hM=az[ck]._Resource,ku=hM._Data,dM=new dc(1,0,0,1,0,0);
if(hM._0){var fb=parseFloat(hM._0[0].slice(1)),j$=parseFloat(hM._0[1].slice(1));dM.translate(fb,j$)}if(aA){dM.translate(aA[0],aA[1]);
f4.s7(jP,[0,0,aA[2]-aA[0],aA[3]-aA[1]])}else{if(hM._Bezier&&hM._Bezier._Points){var q=hM._Bezier._Points,fb=parseFloat(q[0].slice(1)),j$=parseFloat(q[1].slice(1));
if(fb!=0||j$!=0){dM.translate(fb,j$)}}}if(hM._Data&&hM._Data._FrameMatrix){var e0=hM._Data._FrameMatrix;
e0=e0.map(function(f6){return parseFloat(f6.slice(1))});dM.concat(new dc(e0[0],e0[1],e0[2],e0[3],e0[4],e0[5]))}dM.concat(s.add.TySh.h);
s.add.TySh.h=dM;var _=ku._Type?parseInt(ku._Type.slice(1)):0;if(_==2||_==1&&ku._PathData&&ku._PathData._Spacing=="i-3")if(hM._Bezier){var ff=function(f6){return parseFloat(f6.slice(1))},q=hM._Bezier._Points.map(ff);
if(aA)j.X.h(q,new dc(1,0,0,1,-aA[0],-aA[1]),q);var dm=ku._PathData?ku._PathData._Reversed:!1,dX=ku._TextOnPathTRange;
if(dX==null)dX=["f-3","f-3"];jP.Curve={Points:q,TextOnPathTRange:dX.map(ff),Reversed:dm==null?!1:dm};
s.add.TySh.add={vmsk:new X.JB,vogk:null};f4.xX(s.add.TySh)}if(ku._LineOrientation=="i2")jP._LineOrientation=2}}E.oC.h3(k,!0);
var il={},c5=[];for(var Y=0;Y<k.R.length;Y++){var iE=k.R[Y].add.lyid;if(iE==null)continue;var j1=Math.max(j1,iE);
if(il[iE]!=null)c5.push(Y);else il[iE]=!0}for(var Y=0;Y<c5.length;Y++)k.R[c5[Y]].add.lyid=j1+1+Y};eF.ab6=function(I,k){k+=12;
var a=u.C(I,k),n=[];k+=4;a=Math.min(a,Math.floor((I.length-k)/5));for(var Y=0;Y<a;Y++){var s=Math.min(I[k+Y*5+4],1),C=u.bL(I,k+Y*5)/32;
n.push([s,C])}return n};eF.a4q=function(I){var k=new DOMParser,a=k.parseFromString(I,"text/xml").firstChild.children[0],n=a.getElementsByTagName("variables");
if(n.length==0)return[];n=n[0].children;var s=[],C="varName trait docRef placementMethod align valign clip".split(" ");
for(var T=0;T<n.length;T++){var S=n[T],D={};s.push(D);for(var o=0;o<C.length;o++){var v=C[o],g=S.getAttribute(v);
if(g==null)continue;D[v]=g}}return s};eF.agR=function(I){var k=new DOMParser,a=k.parseFromString(I,"text/xml").firstChild.children,n=[[]];
if(a==null)return n;for(var Y=0;Y<a.length;Y++){var s=a[Y],C=[];n.push(C);for(var T=0;T<s.children.length;
T++){var S=s.children[T];if(Y==0)n[0].push(S.tagName);C.push(S.textContent)}}return n};eF.OM=function(I,k,a){E.oC.AH(I);
E.oC.h3(I,!1);I.lI=a[3]==!0;var n=[],s=[],O=0,K=1,c=16,fw=0;for(var Y=0;Y<I.R.length;Y++){var C=I.R[Y];
if(C.st()&&C.kx(I).u){C.add.SoLd.filterFX.v.filterMaskEnable.v=C.kx(I).u.isEnabled}if(C.add.TySh){var T=C.add.TySh.RW,S=f4.Dd(T);
C.add.TySh.Mz.TextIndex={t:"long",v:n.length};n.push(T);if(S==2)f4.kj(C.add.TySh)}var D=C.add.vstk;if(D)D.strokeStyleResolution.v=I.oE;
if(C.wc()||a[2]&&C.add.SoLd){s[Y]=[C.rect,C.buffer];C.rect=new eZ;C.buffer=j.U(0);if(C.add.SoLd){var o=C.kx(I);
if(o!=null){s[Y].push(o.buffer);o.buffer=j.U(o.buffer.length)}}}}if(n.length>0){var v=I.add.Txt2?I.add.Txt2.gr:null;
if(I.add.Txt2==null)I.add.Txt2={};I.add.Txt2.gr=j7.aCs(n,null,v)}var g=[I.add.lnk2,I.add.FEid,I.add.Patt],d=I.aAX(I.R);
I.aud(d);I.ju.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);u.amR(I.ju.r1005,0,I.oE);u.amR(I.ju.r1005,8,I.oE);
if(I.wQ.length>0){var R=I.wQ;I.ju.r1073=new Uint8Array(8+R.length*14);u.mM(I.ju.r1073,0,3);u.mM(I.ju.r1073,4,R.length);
for(var Y=0;Y<R.length;Y++){var c=8+14*Y;u.eT(I.ju.r1073,c,14);u.dl(I.ju.r1073,c+2,R[Y].y);u.dl(I.ju.r1073,c+6,R[Y].x);
u.eT(I.ju.r1073,c+10,-1);u.eT(I.ju.r1073,c+12,8)}}if(I.Bo()){I.ju.r1022=new Uint8Array([0,3+I.TL.length-1,0])}else delete I.ju.r1022;
var e=new Uint8Array(I.R.length*2),U=new Uint8Array(I.R.length);for(var Y=0;Y<I.R.length;Y++){var C=I.R[Y],_=C.sk,Z=C.Fz?1:0;
u.rm(e,Y*2,_);U[Y]=Z;if(_>O)O=_;if(Z==0)K=0}if(O>0)I.ju.r1026=e;if(K<1)I.ju.r1072=U;var H=I.Fq,G=H.length,N=I.ju.r1032=j.U(16+5*G,!0);
u.kK(N,0,1);u.kK(N,4,576);u.kK(N,8,576);u.kK(N,12,G);for(var Y=0;Y<G;Y++){u.mM(N,c,Math.round(H[Y][1]*32));
N[c+4]=H[Y][0];c+=5}if(a[4]!=!0){var z=[I.buffer,new eZ(0,0,I.Q,I._)],L=0;j.iz(z);while(z[L+1].c()>200*200)L+=2;
var p=kk.wV("jpg"),V=z[L+1],r=new Uint8Array(p.G0([[z[L].buffer]],V.Q,V._)),N=I.ju.r1036=new Uint8Array(28+r.length);
u.kK(N,0,1);u.kK(N,4,V.Q);u.kK(N,8,V._);u.kK(N,12,V.Q*3);u.kK(N,16,V.c()*3);u.kK(N,20,r.length);u.rm(N,24,24);
u.rm(N,26,1);N.set(r,28)}var y=j.zA(I.buffer);if(I.add.fcmy)y=!1;var W=[];if(y)W.push({name:"Transparency",Ej:{$:255,H:0,J:0},Zu:100,_W:1});
W=W.concat(I.TL);delete I.ju.r1045;delete I.ju.r1006;delete I.ju.r1077;var m=new ig;c=0;var f=new Uint8Array(4+W.length*13);
f[3]=1;for(var Y=0;Y<W.length;Y++){var h=W[Y],b=h.name+"\0";u._Q(m,c,b);c+=4+b.length*2;var i=4+Y*13;
g_.zB(f,i,h.Ej);f[i+11]=h.Zu;f[i+12]=h._W}if(c!=0)I.ju.r1045=m.data.slice(0,c);I.ju.r1077=f;for(var Y=0;
Y<I.IZ.length;Y++)I.IZ[I.IZ.length-Y-1].v.sliceID.v=2+Y*3;var w={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:I.IZ}},m=new ig;
u.eH(m,0,8);u.eH(m,4,16);var J=aM.EA(m,w,8);I.ju.r1050=m.data.slice(0,J+8);var m=new ig;u.eH(m,0,16);
var J=aM.EA(m,I._y,4);I.ju.r1065=m.data.slice(0,J+4);var q=I.T;N=I.ju.r1069=j.U(2+q.length*4,!0);u.rm(N,0,q.length);
for(var Y=0;Y<q.length;Y++)u.kK(N,2+4*Y,I.R[q[Y]].add.lyid);delete I.ju.r1058;delete I.ju.r1060;if(Object.keys(I.Qd).length!=0){var x=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
ei.go(I.Qd,x[0],a[0]&&a[1]);I.ju.r1058=new Uint8Array(UTIF.encode(x));var A=ei.UB(I.Qd);I.ju.r1060=u.ba(A)}var Q=[],B=[],l=I.DD.slice(0);
if(I.ym){var P=jx.a0D([{type:6},{type:8,all:0},{type:3,length:5,frule:1,third:2,prmA:0,prmB:0},{type:5,c:[0,0,0,0,0,0]},{type:5,c:[20,0,20,0,20,0]},{type:5,c:[20,20,20,20,20,20]},{type:5,c:[0,20,0,20,0,20]},{type:5,c:[0,0,0,0,0,0]}]),F=new X.JB;
F.d=P;l.push(iJ.jy("Tile Symmetry 1",{vmsk:F,vogk:X.Bb(P)}))}for(var Y=0;Y<l.length;Y++){var t=l[Y],P=t.add.vmsk.d;
if(Y==0&&P.length==2)continue;var b$=j.U(P.length*26);jx.b1(b$,0,P,I.Q,I._);var hd=Y==0?1025:2e3+Y-1;
I.ju["r"+hd]=b$;if(Y!=0){var di={classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:t.name}};if(t.name=="Tile Symmetry 1")di.pathSymmetryClass={t:"Objc",v:{classID:"pathSymmetryClass",pathSymmetryMode:{t:"enum",v:{pathSymmetryModeEnum:"pathSymmetryModeRectangularTile"}},pathSymmetryCount:{t:"long",v:1}}};
Q.push({t:"Objc",v:di});B.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:t.add.vogk}}})}}if(Q.length!=0){I.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:Q}};
if(I.ym)I.add.pths.pathSymmetrySelectedPath={t:"long",v:Q.length-1};B={classID:"null",keyRootDescriptorList:{t:"VlLs",v:B}};
var m=new ig;u.eH(m,0,16);var J=aM.EA(m,B,4);I.ju.r3000=m.data.slice(0,J+4)}else{delete I.add.pths;delete I.ju.r3000}if(I.cy&&I.cy.length!=0){I.ju.r4000=j.cy.OM(I.cy)}if(I.pn.length!=0){var hD="<variableSets xmlns=\"http://ns.adobe.com/Variables/1.0/\">\n"+"<variableSet locked=\"none\" varSetName=\"binding1\">\n"+"<variables>";
for(var Y=0;Y<I.pn.length;Y++){var a$=I.pn[Y],eJ=[];for(var hd in a$)eJ.push(hd+"=\""+a$[hd]+"\"");hD+="<variable "+eJ.join(" ")+">\n</variable>\n"}hD+="</variables>\n</variableSet>\n</variableSets>";
I.ju.r7000=u.ba(hD)}if(I.VJ.length!=0){var hD="<sampleDataSets psdPath=\""+I.name+"\">\n";for(var Y=1;
Y<I.VJ.length;Y++){var hY=I.VJ[Y];hD+="<sampleDataSet dataSetName=\"Data Set "+Y+"\">\n";for(var ik=0;
ik<hY.length;ik++)hD+="<"+I.VJ[0][ik]+">"+hY[ik].replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</"+I.VJ[0][ik]+">\n";
hD+="</sampleDataSet>\n"}hD+="</sampleDataSets>";I.ju.r7001=u.ba(hD)}fw=eF.a8a(I,k,fw,3+W.length);fw=eF.a4W(I,k,fw);
fw=eF.aC_(I,k,fw);fw=eF.ahu(I,k,fw,a,y);fw=eF.amw(I,k,fw,a[0],y);var jb=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,7e3,7001];
for(var Y=0;Y<jb.length;Y++)delete I.ju["r"+jb[Y]];for(var Y=0;Y<I.R.length;Y++){var C=I.R[Y];if(C.wc()||a[2]&&C.add.SoLd){C.rect=s[Y][0];
C.buffer=s[Y][1];if(s[Y][2]){var o=C.kx(I);s[Y].push(o.buffer);o.buffer=s[Y][2]}}}I.aud(g);E.oC.h3(I,!0);
delete I.lI;return fw};eF.V2=function(I,k,a){var n=u.x8(k,a,4);a+=4;if(n!="8BPS")alert("invalid header signature: "+n);
var s=u.Ij(k,a);a+=2;I.lI=s==2;if(s!=1&&s!=2)alert("invalid version: "+s);a+=6;I.aA=u.Ij(k,a);a+=2;I._=u.bL(k,a);
a+=4;I.Q=u.bL(k,a);a+=4;I.oZ=u.Ij(k,a);a+=2;I.LZ=u.Ij(k,a);a+=2;return a};eF.a8a=function(I,k,a,n){var s=I.add.fcmy==1;
k.jL(0,64);u.ei(k.data,a,"8BPS");a+=4;u.rm(k.data,a,I.lI?2:1);a+=2;u.kK(k.data,a,0);a+=4;u.rm(k.data,a,0);
a+=2;u.rm(k.data,a,n+(s?1:0));a+=2;u.mM(k.data,a,I._);a+=4;u.mM(k.data,a,I.Q);a+=4;u.rm(k.data,a,8);
a+=2;u.rm(k.data,a,s?4:3);a+=2;return a};eF.aCx=function(I,k,a){var n=u.bL(k,a);a+=4;if(n!=0)I.pF=k.slice(a,a+n);
a+=n;return a};eF.a4W=function(I,k,a){u.xp(k,a,0);a+=4;return a};eF.atj=function(I,k,a){var n=u.C(k,a),s=0;
a+=4;var C=[];while(s<n){var T=u.x8(k,a+s,4);s+=4;var S=u.Ij(k,a+s);s+=2;var D=u.wy(k,a+s);s+=D.length;
if(T=="MeSa"&&(S==7e3||S==7001)){}else if(T!="8BIM"){C.push(S);console.log("Unknown Image Resources signature: "+T+", ID: "+S)}var o=u.C(k,a+s);
s+=4;if(I.ju["r"+S]!=null)console.log("--- two resources with same ID");I.ju["r"+S]=u.jD(k,a+s,o);s+=o+(o&1)}for(var Y=0;
Y<C.length;Y++)delete I.ju["r"+C[Y]];return a+n};eF.aC_=function(I,k,a){var n=a,T=0;a+=4;var s=[];for(var C in I.ju){s.push(parseInt(C.slice(1)))}s.sort(function(g,d){return g-d});
for(var Y=0;Y<s.length;Y++){var S=s[Y];u.y0(k,a+T,S==7e3||S==7001?"MeSa":"8BIM");T+=4;u.Bs(k,a+T,S);
T+=2;var D=u.Fi(k,a+T,"");T+=D;var o=I.ju["r"+S],v=o.length;u.eH(k,a+T,v);T+=4;u.Hp(k,a+T,o);T+=v;if(v%2==1)T++}u.eH(k,n,T);
return a+T};eF.ab4=function(I,k,a){var n=a,s,C,T=I.lI?8:4;if(I.lI)s=u.DH(k,a);else s=u.C(k,a);a+=T;if(s==0)return n+T;
C=eF.aag(I,k,a);eF.af(1,C-a,"Layer Info");a=C;C=eF.akj(I,k,a);eF.af(1,C-a,"Global Layer Mask Info");
a=C;C=fe.awP(k,a,n+T+s,I.add,I.lI,I);eF.af(1,C-a,"Project Add Info");a=C;return n+T+s};eF.ahu=function(I,k,a,n,s){var C=a;
u.eH(k,a,0);a+=4;if(I.lI){u.eH(k,a,0);a+=4}a=eF.a6I(I,k,a,n,s);a=eF.alF(I,k,a);a=fe.ajq(k,a,I.add,I.lI,I);
if(I.lI)u._E(k,C,a-C-8);else u.eH(k,C,a-C-4);return a};eF.aag=function(I,k,a){var n,s=I.lI?8:4;if(I.lI)n=u.DH(k,a);
else n=u.C(k,a);a+=s;if(n!=0)eF.aD2(I,k,a);return a+n};eF.aD2=function(I,k,a){var n=u.cl(k,a);a+=2;var s=Math.abs(n);
for(var Y=0;Y<s;Y++){var C=new X;a=jj.SF(C,I,k,a);I.R[Y]=C}var T=new eZ(0,0,I.Q,I._);for(var Y=0;Y<s;
Y++){var S=I.R[Y],D=S.IO(),o=fC.SF(S,I,k,a);if(o-a>8)eF.af(2,o-a,"Lay: "+S.getName());a=o;eF.auu(S,T);
if(D)eF.auu(D,T)}};eF.auu=function(I,k){};eF.a6I=function(I,k,a,n,s){var C=a,T=I.lI;a+=T?8:4;a=eF.abp(I,k,a,n,s);
var S=a-C-(T?8:4);if(S%2!=0)S++;if(T)u._E(k,C,S);else u.eH(k,C,S);return C+S+(T?8:4)};eF.abp=function(I,k,a,n,s){var C=I.R.length;
u.xS(k,a,s?-C:C);a+=2;var T=[];for(var Y=0;Y<C;Y++)a=jj.OM(I.R[Y],I,k,a,T);for(var Y=0;Y<C;Y++)a=fC.TZ(I.lI,I.R[Y],k,a,T[Y],n,I.add.fcmy==1);
return a};eF.akj=function(I,k,a){var n=u.C(k,a);a+=4;a+=n;return a};eF.alF=function(I,k,a){var n=u.eH(k,a,0);
a+=4;return a};eF.aq8=function(I,k,a){var n=I.LZ,s="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),C=[1,1,1,3,4,1,1,3],T,e;
delete I.add.fcmy;if(n!=3){if(n==1||n==2||n==4)console.log("Project will be converted from "+s[n]+" to "+s[3]+" mode.");
else{alert("Color mode "+s[n]+" is not supported yet :(")}if(n==4)I.add.fcmy=1}if(I.ju.r1045){T=[];var S=I.ju.r1045,D=0;
while(D<S.length){var o=u._4(S,D);T.push(o);D+=4+2+o.length*2}}var v=C[n]+(T==null||T[0]=="Transparency"?1:0),g=I.Q,d=I._,R=g*d,c=u.Ij(k,a);
a+=2;I.buffer=j.U(R*4);j.IP(I.buffer,4278190080);var O=a;for(var U=0;U<I.aA;U++){if(c==0){e=fC.Om(I.lI,I.oZ,k,g,d,a,c);
a+=R*(I.oZ>>>3)}else if(c==1){e=j.U(R);var K=I.lI?4:2;if(U==0)a+=I.aA*d*K;a+=fC.ac_(k,e,g,d,O+U*d*K,a,K)}else{console.log("unknown compression of image data: ",c);
return}if(U<v){j.yv(e,I.buffer,U);if(I.aA==1&&U==0){j.yv(e,I.buffer,1);j.yv(e,I.buffer,2)}}else{var _=new X.uC,Z=U-v,H=U-C[I.LZ];
_.name=T?T[H]:"Alpha";if(_.name=="Quick Mask"){_.zh=!0;I.Ap.push(Z)}_.rect=new eZ(0,0,g,d);_.channel=e;
_.color=0;_.Jk();I.TL[Z]=_;if(I.ju.r1077){var S=I.ju.r1077.slice(4+H*13);_.Ej=g_.rh(S,0);_.Zu=S[11];
_._W=S[12];if(_._W==2)_.zh=!0}}}I.aA=4;if(I.LZ==2)for(var Y=0;Y<R;Y++){var G=Y*4,N=I.buffer[G];I.buffer[G]=I.pF[0+N];
I.buffer[G+1]=I.pF[256+N];I.buffer[G+2]=I.pF[512+N]}return a};eF.amw=function(I,k,a,n,s){var C=1,T=16,S=I.Q,D=I._,v,g,d;
u.Bs(k,a,C);a+=2;var o=S*D;if(!n){g=new j.$n(S*D);j.A0(I.buffer,g);var R=g.$,c=g.H,e=g.J,O=g.M;for(var Y=0;
Y<o;Y++){var U=O[Y]*(1/255);R[Y]=~~(R[Y]*U+255*(1-U));c[Y]=~~(c[Y]*U+255*(1-U));e[Y]=~~(e[Y]*U+255*(1-U))}d=[g.$,g.H,g.J];
if(I.add.fcmy==1){d.push(j.U(o));var K=I.buffer.slice(0);j.aqQ(K);j.A0(K,{$:d[0],H:d[1],J:d[2],M:d[3]})}if(s)d.push(g.M)}else{v=j.U(o);
d=[v,v,v];if(I.add.fcmy==1)d.push(v);if(s)d.push(v)}for(var Y=0;Y<I.TL.length;Y++){d.push(I.TL[Y].tf(new eZ(0,0,I.Q,I._)))}var _=a;
for(var Z=0;Z<d.length;Z++){k.jL(a,S*D+4);v=d[Z];if(C==0||C==2||C==3)a=fC.l7(I.lI,v,k.data,S,D,a,C);
else{var H=I.lI?4:2;if(Z==0)a+=d.length*D*H;var G=a;a+=fC.arS(v,k.data,S,D,_+Z*D*H,a,H)}}return a};function af(){}af.SF=function(I){var k={};
af.eG(I,k,0,0);return k};af.OM=function(I,k){var a=0;a=af.mD(I,k,a,0);return a};af.eG=function(I,k,a,n){while(I[a]!="<".charCodeAt(0))a++;
a+=2;while(!0){if(I[a]=="/".charCodeAt(0)){a++;var s=u.indexOf(I," ".charCodeAt(0),a,a+50),C=u.indexOf(I,"\n".charCodeAt(0),a,a+50);
if(C==-1)C=Infinity;if(s==-1)s=Infinity;var T=Math.min(C,s),S=u.x8(I,a,T-a),D=af.IH(I,T+1,n+1,S);k[S]=D.P;
a=T+1;a+=D.size}else if(I[a]==">".charCodeAt(0)){a+=2;break}else{var o=I[a];if(o==10||o==9||o==32)a++;
else{console.log("unknown byte: "+o+", char: "+String.fromCharCode(o),a);a++}}}return a};af.mD=function(I,k,a,n){u.y0(k,a,"<<\n");
a+=3;var s=af.aeE;for(var C in I){u.Yi(k,a,"\t".charCodeAt(0),n+1);a+=n+1;u.y0(k,a,"/"+C);a+=1+C.length;
if(s(I[C])||I[C]instanceof Array){u.y0(k,a," ");a++}else{u.y0(k,a,"\n");a++;u.Yi(k,a,"\t".charCodeAt(0),n+1);
a+=n+1}a=af.GQ(I[C],k,a,n+1);u.y0(k,a,"\n");a++}u.Yi(k,a,"\t".charCodeAt(0),n);a+=n;u.y0(k,a,">>");a+=2;
return a};af.IH=function(I,k,a,n){var s=k,C={size:0,P:0};while(!0){while(I[k]==" ".charCodeAt(0)||I[k]=="\t".charCodeAt(0)||I[k]=="\n".charCodeAt(0))k++;
if(I[k]=="<".charCodeAt(0)){C.P={};k=af.eG(I,C.P,k,a+1);break}else if(I[k]=="(".charCodeAt(0)){k+=3;
var T=k;while(!0){if(I[T-1]!="\\".charCodeAt(0)&&I[T]==")".charCodeAt(0)&&(I[T+1]=="\n".charCodeAt(0)||I[T+1]==" ".charCodeAt(0)))break;
else T++}C.P=u.app(I,k,T);k=T+2;break}else if(I[k]=="[".charCodeAt(0)){k++;C.P=[];while(I[k]==" ".charCodeAt(0)||I[k]=="\t".charCodeAt(0)||I[k]=="\n".charCodeAt(0))k++;
while(I[k]!="]".charCodeAt(0)){var S=af.IH(I,k,a+1,n);C.P.push(S.P);k+=S.size;while(I[k]==" ".charCodeAt(0)||I[k]=="\t".charCodeAt(0)||I[k]=="\n".charCodeAt(0))k++}k++;
break}else{var D=u.indexOf(I," ".charCodeAt(0),k,k+50),o=u.indexOf(I,"\n".charCodeAt(0),k,k+50);if(o==-1)o=Infinity;
if(D==-1)D=Infinity;var v=u.x8(I,k,Math.min(D,o)-k).trim(),g=parseFloat(v);if(!isNaN(g)){C.P=parseFloat(v);
k=Math.min(D,o)+1;break}else if(v=="true"||v=="false"){C.P=v=="true";k=Math.min(D,o)+1;break}else if(v=="null"||v=="NaN"||v=="undefined"){C.P=0;
k=Math.min(D,o)+1;break}else{console.log("unknown identifier: "+v);throw"e"}k=Math.min(D,o)+1}}C.size=k-s;
return C};af.GQ=function(I,k,a,n){if(I instanceof Array){var s=I.length==0||typeof I[0]=="number";if(s){u.y0(k,a,"[ ");
a+=2;for(var Y=0;Y<I.length;Y++){var C=I[Y]+" ";u.y0(k,a,C);a+=C.length}u.y0(k,a,"]");a+=1}else{u.y0(k,a,"[\n");
a+=2;for(var Y=0;Y<I.length;Y++){u.Yi(k,a,"\t".charCodeAt(0),n);a+=n;a=af.GQ(I[Y],k,a,n);u.y0(k,a,"\n");
a++}u.Yi(k,a,"\t".charCodeAt(0),n);a+=n;u.y0(k,a,"]");a+=1}}else if(I instanceof Object){a=af.mD(I,k,a,n)}else if(typeof I=="string"){u.y0(k,a,"(");
a++;u.Yi(k,a,254);a++;u.Yi(k,a,255);a++;a=u.a8E(k,a,I);u.y0(k,a,")");a+=1}else{var C=I+"";u.y0(k,a,C);
a+=C.length}return a};af.aeE=function(I){var k=typeof I;return k=="string"||k=="number"||k=="boolean"};
function jh(){}jh.SF=function(I){var k={};jh.a6q(I,k,0,0);return k};jh.OM=function(I,k){var a=0;u.y0(k,a," ");
a++;a=jh.auM(I,k,a,0);a--;k.jL(a,2);k.data[a]=k.data[a+1]=0;a+=2;return a};jh.eG=function(I,k,a,n){while(I[a]!="<".charCodeAt(0)){a++;
console.log("šipka")}a+=2;a=jh.a6q(I,k,a,n);return a};jh.mD=function(I,k,a,n){u.y0(k,a,"<< ");a+=3;a=jh.auM(I,k,a,n);
u.y0(k,a,">>");a+=2;return a};jh.yJ=function(I){return I==9||I==10||I==32};jh.a6q=function(I,k,a,n){while(!0){while(jh.yJ(I[a])||I[a]==0)a++;
if(a>=I.length)break;if(I[a]=="/".charCodeAt(0)){a++;var s=a;while(!jh.yJ(I[s]))s++;var C=u.x8(I,a,s-a);
a=s+1;var T=jh.IH(I,a,n,C);k["_"+C]=T.P;a+=T.size}else if(I[a]==">".charCodeAt(0)){a+=2;break}else{var S=I[a];
console.log(u.x8(I,a,a+100));console.log("unknown byte: "+S+", char: "+String.fromCharCode(S)+", offset: "+a);
a++;throw"e";return-1}}return a};jh.auM=function(I,k,a,n){for(var s in I){var C=s.substring(1,s.length);
u.y0(k,a,"/"+C);a+=1+C.length;u.y0(k,a," ");a++;a=jh.GQ(I[s],k,a,n+1,C);u.y0(k,a," ");a++}return a};
jh.IH=function(I,k,a,n){var s=k,C={type:"",size:0,P:0};while(jh.yJ(I[k]))k++;if(I[k]=="<".charCodeAt(0)){C.type="Object";
C.P={};k=jh.eG(I,C.P,k,a+1)}else if(I[k]=="(".charCodeAt(0)){C.type="String";k++;if(I[k]==")".charCodeAt(0)){C.P="e";
k++}else if(I[k]==254&&I[k+1]==255){k+=2;var T=k,S=0;while(!0){if(I[T]==")".charCodeAt(0)&&I[T-1]!="\\".charCodeAt(0))break;
else T+=1}C.P="s"+u.app(I,k,T);k=T+2}else{var T=k;while(I[T]!=")".charCodeAt(0))T++;C.P="s"+u.x8(I,k,T-k);
k=T+1}}else if(I[k]=="[".charCodeAt(0)){k++;C.P=[];C.type="Array";while(jh.yJ(I[k]))k++;while(I[k]!="]".charCodeAt(0)){var D=jh.IH(I,k,a+1,n);
if(D==-1)return-1;C.P.push(D.P);k+=D.size;delete D.size;while(jh.yJ(I[k]))k++}k++}else{var o=k;while(!jh.yJ(I[o]))o++;
var v=u.x8(I,k,o-k),g=parseFloat(v);if(!isNaN(g)&&v.indexOf(".")!=-1){C.type="Float";var d=parseFloat(v);
C.P="f"+d}else if(!isNaN(g)&&v.indexOf(".")==-1){C.type="Integer";C.P="i"+parseInt(v)}else if(v=="true"||v=="false"){C.type="Boolean";
C.P=v=="true"}else if(v.charAt(0)=="/"){C.type="BString";C.P=v}else if(v=="NaN"||v=="undefined"){C.type="Float";
C.P="f0"}else{console.log("unknown value",JSON.stringify(v));throw"e"}k=o+1}C.size=k-s;return C};jh.as4=function(I){if(I==Math.round(I))return I+".0";
var k=I.toFixed(5);while(k.endsWith("0")&&k[k.length-2]!=".")k=k.slice(0,k.length-1);if(0<I&&I<1)k=k.slice(1);
if(-1<I&&I<0)k="-"+k.slice(2);return k};jh.GQ=function(I,k,a,n,s){var C=typeof I=="string"?I.charAt(0):"";
if(I instanceof Array){u.y0(k,a,"[ ");a+=2;for(var Y=0;Y<I.length;Y++){a=jh.GQ(I[Y],k,a,n,"");u.y0(k,a," ");
a++}u.y0(k,a,"]");a+=1}else if(I instanceof Object){a=jh.mD(I,k,a,n)}else if(C=="e"){u.y0(k,a,"()");
a+=2}else if(C=="s"){u.y0(k,a,"(");a++;if(s=="97"){u.y0(k,a,I.slice(1));a+=I.length-1}else{u.Yi(k,a,254);
a++;u.Yi(k,a,255);a++;a=u.a8E(k,a,I.slice(1))}u.y0(k,a,")");a++}else if(C=="/"){u.y0(k,a,I);a+=I.length}else if(C=="f"){var T=parseFloat(I.substring(1)),S=jh.as4(T);
u.y0(k,a,S);a+=S.length}else if(C=="i"){u.y0(k,a,I.substring(1));a+=I.length-1}else{var S=I+"";u.y0(k,a,S);
a+=S.length}return a};function u(){}u.afK=function(bQ){var I="";for(var Y=3;Y>=0;Y--)I+=String.fromCharCode(bQ>>Y*8&255);
return I};u.a8q=function(I){var bQ=0;for(var Y=I.length-1;Y>=0;Y--)bQ|=I.charCodeAt(Y)<<(3-Y)*8;return bQ};
u.indexOf=function(I,k,a,n){if(a==null)a=0;if(n==null)n=I.length;n=Math.min(n,I.length);for(var Y=a;
Y<n;Y++)if(I[Y]==k)return Y;return-1};u.S$=function(I,k,a){if(a==null)a=0;var n=k.length,s=I.length-n;
if(typeof k=="string"){var C=[];for(var Y=0;Y<n;Y++)C.push(k.charCodeAt(Y));k=C}if(k.length>0){var T=k[0];
for(var Y=a;Y<s;Y++)if(I[Y]==T){var S=!0;for(var D=1;D<n;D++)if(k[D]!=I[Y+D]){S=!1;break}if(S)return Y}}return-1};
u.app=function(I,k,a){var n=[],C="";while(k<a){var s=I[k++];if(s=="\\".charCodeAt(0))n.push(I[k++]);
else n.push(s)}for(var Y=0;Y<n.length;Y+=2)C+=String.fromCharCode(n[Y]<<8|n[Y+1]);return C};u.a7s=function(I,k,a){var n=new Uint8Array(2);
for(var Y=0;Y<a.length;Y++){u.rm(n,0,a.charCodeAt(Y));if(n[0]==")".charCodeAt(0)||n[0]=="(".charCodeAt(0)||n[0]=="\\".charCodeAt(0)){I[k]="\\".charCodeAt(0);
k++}I[k]=n[0];k++;if(n[1]==")".charCodeAt(0)||n[1]=="(".charCodeAt(0)||n[1]=="\\".charCodeAt(0)){I[k]="\\".charCodeAt(0);
k++}I[k]=n[1];k++}return k};u.a8E=function(I,k,a){I.jL(k,4*a.length);return u.a7s(I.data,k,a)};u.SB=function(I,k,a){var n="";
for(var Y=0;Y<a;Y++){var s=I[k++]|I[k++]<<8;n+=String.fromCharCode(s)}return n};u.u$=function(I,k,a){var n="";
for(var Y=0;Y<a;Y++){var s=I[k++]<<8|I[k++];n+=String.fromCharCode(s)}return n};u.a4z=function(I,k,a){for(var Y=0;
Y<a.length;Y++){var n=a.charCodeAt(Y);u.kS(I,k+2*Y,n)}};u.aet=function(I,k,a){for(var Y=0;Y<a.length;
Y++){var n=a.charCodeAt(Y);u.rm(I,k+2*Y,n)}};u.a87=function(I,k,a){I.jL(k,2*a.length);u.aet(I.data,k,a)};
u.aF3=function(I,Y,k){var a=[],n=0,s=0;k+=Y;while(Y<k){n=I[Y++];if((n&128)==0)s=n;else if((n&224)==192){s=(n&31)<<6;
n=I[Y++];s|=n&63}else if((n&240)==224){s=(n&15)<<12;n=I[Y++];s|=(n&63)<<6;n=I[Y++];s|=n&63}else if((n&248)==240){s=(n&7)<<18;
n=I[Y++];s|=(n&63)<<12;n=I[Y++];s|=(n&63)<<6;n=I[Y++];s|=n&63}else throw"e";a.push(s)}return a};u.anV=window.TextDecoder?new window.TextDecoder("utf8"):null;
u.Im=function(I,k,a){if(k==null)k=0;if(a==null)a=I.length;if(u.anV&&k==0&&a==I.length)return u.anV.decode(I);
var n=u.aF3(I,k,a),s=n.length;for(var Y=0;Y<s;Y++)n[Y]=String.fromCharCode(n[Y]);return n.join("")};
u.ajo=window.TextEncoder?new window.TextEncoder("utf8"):null;u.ba=function(I){if(u.ajo)return u.ajo.encode(I);
var k=new Uint8Array(I.length*4),a=u.oN(I,k,0);return k.slice(0,a)};u.oN=function(I,k,a){var n=I.length,Y=0;
for(var s=0;s<n;s++){var C=I.charCodeAt(s);if((C&4294967295-(1<<7)+1)==0){k[a+Y]=C;Y++}else if((C&4294967295-(1<<11)+1)==0){k[a+Y]=192|C>>6;
k[a+Y+1]=128|C>>0&63;Y+=2}else if((C&4294967295-(1<<16)+1)==0){k[a+Y]=224|C>>12;k[a+Y+1]=128|C>>6&63;
k[a+Y+2]=128|C>>0&63;Y+=3}else if((C&4294967295-(1<<21)+1)==0){k[a+Y]=240|C>>18;k[a+Y+1]=128|C>>12&63;
k[a+Y+2]=128|C>>6&63;k[a+Y+3]=128|C>>0&63;Y+=4}else throw"e"}return Y};u.Rg=function(I,k){var a=u.C(I,k),n=u.Im(I,k+4,a-1);
return{Yl:n,El:4+a}};u.ap1=function(I,k){var a=u.sg(I,k),n=u.SB(I,k+4,a);return n};u.rw=function(I,k){var a=u.C(I,k),n=u.u$(I,k+4,a);
return n};u._4=function(I,k){var a=u.C(I,k),n=u.u$(I,k+4,a-1);return n};u.apV=function(I,k,a){u.z0(I,k,a.length);
k+=4;u.a4z(I,k,a)};u.a8r=function(I,k,a){u.kK(I,k,a.length);k+=4;u.aet(I,k,a)};u._Q=function(I,k,a){I.jL(k,4+2*a.length);
u.a8r(I.data,k,a)};u.ar2=function(I,k,a){I.jL(k,4+2*a.length);u.apV(I.data,k,a)};u.Fj=function(I,k,a){var n=[];
for(var Y=0;Y<a;Y++)n.push(String.fromCharCode(I[k+Y]));return n};u.a1G=function(I,k,a){var n=!1,s=I.length-a.length;
for(var Y=k;Y<s;Y++){for(var C=0;C<a.length;C++){if(I[Y+C]!=a.charCodeAt(C))break;if(C==a.length-1)return Y}}};
u.x8=function(I,k,a){var n="";for(var Y=0;Y<a;Y++)n+=String.fromCharCode(I[k+Y]);return n};u.ei=function(I,k,a){for(var Y=0;
Y<a.length;Y++)I[k+Y]=a.charCodeAt(Y)};u.y0=function(I,k,a){I.jL(k,a.length);u.ei(I.data,k,a)};u.anN=function(I,k,a){var n="";
for(var Y=0;Y<a;Y++){var s=I[k+Y];if(s<10)n+="  ";else if(s<100)n+=" ";n+=s+", "}return n};u.Ij=function(I,k){return I[k]<<8|I[k+1]};
u.rm=function(I,k,bQ){I[k]=bQ>>8&255;I[k+1]=bQ&255};u.Bs=function(I,k,bQ){I.jL(k,4);u.rm(I.data,k,bQ)};
u.Wj=function(I,k){var a=u.Ij(I,k),n=u.Ij(I,k+2);return a+n*(1/65536)};u.amR=function(I,k,bQ){var a=Math.floor(bQ),n=Math.floor((bQ-a)*65536);
u.rm(I,k,a);u.rm(I,k+2,n)};u.Ge=function(I,k){return I[k+1]<<8|I[k]};u.kS=function(I,k,bQ){I[k+1]=bQ>>8&255;
I[k]=bQ&255};u.gK=function(I,k,bQ){I.jL(k,4);u.kS(I.data,k,bQ)};u.cl=function(I,k){u.Cu[0]=I[k+1];u.Cu[1]=I[k];
return u.Ds[0]};u.Gn=function(I,k){u.Cu[0]=I[k];u.Cu[1]=I[k+1];return u.Ds[0]};u.eT=u.rm;u.xS=u.Bs;u.bL=function(I,k){u.Uv[0]=I[k+3];
u.Uv[1]=I[k+2];u.Uv[2]=I[k+1];u.Uv[3]=I[k];return u.YO[0]};u.mM=function(I,k,bQ){u.YO[0]=bQ;I[k+3]=u.Uv[0];
I[k+2]=u.Uv[1];I[k+1]=u.Uv[2];I[k+0]=u.Uv[3]};u.xp=function(I,k,bQ){I.jL(k,4);u.mM(I.data,k,bQ)};u.H6=function(I,k,a,n){a[n+0]=I[k+0];
a[n+1]=I[k+1];a[n+2]=I[k+2];a[n+3]=I[k+3]};u.sg=function(I,k){u.H6(I,k,u.Uv,0);return u.ajr[0]};u.z0=function(I,k,bQ){u.ajr[0]=bQ;
u.H6(u.Uv,0,I,k)};u.X7=function(I,k,bQ){I.jL(k,4);u.z0(I.data,k,bQ)};u.hK=function(I,k){u.H6(I,k,u.Uv,0);
return u.YO[0]};u.a8k=function(I,k,bQ){u.YO[0]=bQ;u.H6(u.Uv,0,I,k)};u.adR=function(I,k,bQ){I.jL(k,4);
u.a8k(I.data,k,bQ)};u.C=function(I,k){var a=I[k]*(256*256*256)+(I[k+1]<<16|I[k+2]<<8|I[k+3]);return a};
u.kK=function(I,k,bQ){I[k]=bQ>>24&255;I[k+1]=bQ>>16&255;I[k+2]=bQ>>8&255;I[k+3]=bQ>>0&255};u.eH=function(I,k,bQ){I.jL(k,4);
u.kK(I.data,k,bQ)};u.DH=function(I,k){return u.C(I,k)<<32|u.C(I,k+4)};u.aBm=function(I,k,bQ){u.kK(I,k,bQ>>16>>16);
u.kK(I,k+4,bQ&4294967295)};u._E=function(I,k,bQ){I.jL(k,8);u.aBm(I.data,k,bQ)};u._x=function(I,k){var a=new Uint8Array(8);
for(var Y=0;Y<8;Y++)a[Y]=I[k+7-Y];var n=new Float64Array(a.buffer);return n[0]};u.SS=function(I,k){var a=new Uint8Array(8);
for(var Y=0;Y<8;Y++)a[Y]=I[k+Y];var n=new Float64Array(a.buffer);return n[0]};u.md=function(I,k,bQ){var a=new Float64Array(1);
a[0]=bQ;var n=new Uint8Array(a.buffer);for(var Y=0;Y<4;Y++){var s=n[Y];n[Y]=n[7-Y];n[7-Y]=s}for(var Y=0;
Y<8;Y++)I[k+Y]=n[Y]};u._j=function(I,k,bQ){I.jL(k,8);u.md(I.data,k,bQ)};u.Yh=function(I,k){u.Uv[0]=I[k+3];
u.Uv[1]=I[k+2];u.Uv[2]=I[k+1];u.Uv[3]=I[k+0];return u.Vm[0]};u.qu=function(I,k){u.Uv[0]=I[k+0];u.Uv[1]=I[k+1];
u.Uv[2]=I[k+2];u.Uv[3]=I[k+3];return u.Vm[0]};u.dl=function(I,k,bQ){u.Vm[0]=bQ;I[k+0]=u.Uv[3];I[k+1]=u.Uv[2];
I[k+2]=u.Uv[1];I[k+3]=u.Uv[0]};u.akZ=function(I,k,bQ){I.jL(k,4);u.dl(I.data,k,bQ)};u.bV=function(I,k,bQ){u.Vm[0]=bQ;
I[k+0]=u.Uv[0];I[k+1]=u.Uv[1];I[k+2]=u.Uv[2];I[k+3]=u.Uv[3]};u.aDq=function(I,k,bQ){I.jL(k,4);u.bV(I.data,k,bQ)};
u.acc=function(I,k){var a=u.bL(I,k),n=a*(1/(1<<24));return n};u.adI=function(I,k,a){var n=Math.floor(a*(1<<24));
u.mM(I,k,n)};u.a0W=function(I,k,a){I.jL(k,4);u.adI(I.data,k,a)};u.wy=function(I,k){var a=I[k],n=u.x8(I,k+1,a);
a+=1-a%2;return{lm:n,length:a+1}};u.a1_=function(I,k,a){var n=a.length;I[k]=n;u.ei(I,k+1,a);if(n%2==0){I[k+1+n]=0;
++n}return n+1};u.Fi=function(I,k,a){I.jL(k,a.length+2);return u.a1_(I.data,k,a)};u.ru=function(I,k){var a=new dc;
a.M=u._x(I,k+0*8);a.J=u._x(I,k+1*8);a.mL=u._x(I,k+2*8);a.Jo=u._x(I,k+3*8);a.Dw=u._x(I,k+4*8);a.rk=u._x(I,k+5*8);
return a};u.Vw=function(I,k,a){u.md(I,k+0*8,a.M);u.md(I,k+1*8,a.J);u.md(I,k+2*8,a.mL);u.md(I,k+3*8,a.Jo);
u.md(I,k+4*8,a.Dw);u.md(I,k+5*8,a.rk)};u.axy=function(I,k,a){I.jL(k,48);u.Vw(I.data,k,a)};u.atZ=function(I,k){var a=u.Yh(I,k),n=u.Yh(I,k+4),s=u.Yh(I,k+8),C=u.Yh(I,k+12);
return new eZ(a,n,s-a,C-n)};u.at6=function(I,k,a){u.dl(I,k,a.x);u.dl(I,k+4,a.y);u.dl(I,k+8,a.x+a.Q);
u.dl(I,k+12,a.y+a._)};u.aiW=function(I,k,a){I.jL(k,16);u.at6(I.data,k,a)};u.Zc=function(I,k){var a=u.bL(I,k),n=u.bL(I,k+4),s=u.bL(I,k+8),C=u.bL(I,k+12);
return new eZ(n,a,C-n,s-a)};u.aA1=function(I,k,a){u.mM(I,k,a.y);u.mM(I,k+4,a.x);u.mM(I,k+8,a.y+a._);
u.mM(I,k+12,a.x+a.Q)};u._U=function(I,k,a){I.jL(k,16);u.aA1(I.data,k,a)};u.jD=function(I,k,a){var n=new Uint8Array(a);
for(var Y=0;Y<a;Y++)n[Y]=I[k+Y];return n};u.aDF=function(I,k,a){I.set(a,k)};u.Hp=function(I,k,a){I.jL(k,a.length);
u.aDF(I.data,k,a)};u.a2l=function(I,k,a,bQ){if(!bQ)bQ=1;for(var Y=0;Y<bQ;Y++)I[k+Y]=a};u.Yi=function(I,k,a,bQ){if(!bQ)bQ=1;
I.jL(k,bQ);u.a2l(I.data,k,a,bQ)};u.Ds=new Int16Array(1);u.Cu=new Uint8Array(u.Ds.buffer);u.YO=new Int32Array(1);
u.ajr=new Uint32Array(u.YO.buffer);u.Uv=new Uint8Array(u.YO.buffer);u.Vm=new Float32Array(u.YO.buffer);
function ej(){}ej.SF=function(I,k){var a=new Uint8Array(I),n=0,s=u.x8(a,n,9),S=4,D=100;n+=9;var C=u.x8(a,n,4);
n+=4;n++;k.Q=u.C(a,n);n+=4;k._=u.C(a,n);n+=4;var T=u.C(a,n);n+=4;if(T!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(C)==-1){D=u.C(a,n);n+=4;if(parseInt(C.slice(1))>=7){D=D}else alert("Unknown XCF version: "+C);
S=8}var o={};n=ej.kw(a,n,o);var v=[];n=ej.r9(a,n,v,S);var g=[];n=ej.r9(a,n,g,S);k.bu=0;for(var Y=0;Y<v.length;
Y++)ej.ays(a,v[Y],k,o,S,D);while(k.bu>0){k.R.push(k.KM());k.bu--}k.R.reverse();delete k.bu;k.buffer=j.U(k.Q*k._*4);
if(k.R.length==0)console.log("No layers!!!");for(var Y=0;Y<g.length;Y++){var d=ej.abe(a,g[Y],o,S,D);
if(d.QB[dT.aE$])k.f={channel:d.YR,rect:new eZ(0,0,k.Q,k._)}}};ej.ays=function(I,k,a,n,s,C){var T=a.ux(),S=u.C(I,k),g=0;
k+=4;var D=u.C(I,k);k+=4;T.rect=new eZ(0,0,S,D);var o=u.C(I,k);k+=4;var v=u.Rg(I,k);k+=v.El;T.GF(v.Yl);
var d={};k=ej.kw(I,k,d);if(d[dT.auG]){var R=d[dT.auG];g=R.length/4-1}if(d[dT.DO]){T.rect.x=u.bL(d[dT.DO],0);
T.rect.y=u.bL(d[dT.DO],4)}if(d[dT.a09]){T.opacity=u.C(d[dT.a09],0)}if(d[dT.a3a]){T.add.lsct=gA.rW;T.HA=24}if(d[dT.an8]){var c=u.C(d[dT.an8],0);
T.pu=dT.amD[c];if(T.hd()&&T.pu=="norm")T.pu="pass"}if(d[dT.alp]){if(u.C(d[dT.alp],0)==0)T.HA+=2}if(d[dT.a42]){var e=u.C(d[dT.a42],0);
T.add.lsct=e&1==1?gA.rW:gA.DG}if(d[dT.pQ]){var O=d[dT.pQ];for(var U in O){var K=O[U];if(U=="gimp-text-layer"){var _=ej.akq(K),Z=_.text,H=_.font,G=_.color,N=_["font-size"];
if(Z==null&&_.markup){var z=new DOMParser,L=z.parseFromString(_.markup,"image/svg+xml");while(L.firstChild!=null&&L.firstChild.tagName!=null){L=L.firstChild;
var p=L.getAttribute("font"),V=L.getAttribute("foreground"),r=L.getAttribute("size");if(p!=null)H=p;
if(V!=null){V=CSS.rh(V);G=[1,V.$/255,V.H/255,V.J/255]}if(r!=null){N=""+parseFloat(r)/245}}Z=L.textContent}T.add.lnsr="rend";
T.add.TySh=f4.MU(0,0);T.add.TySh.uT=new eZ(0,0,100,100);T.add.TySh.h=new dc(1,0,0,1,T.rect.x,T.rect.y);
var y=T.add.TySh.RW;f4.lL(y,0,Z);var W=f4.dm(y,0,0),m=_.justify,f=_["line-spacing"];if(G)W.CX.FillColor={Type:1,Values:[1,parseFloat(G[1]),parseFloat(G[2]),parseFloat(G[3])]};
if(N){N=Math.round(parseFloat(N));W.CX.FontSize=N;T.add.TySh.h.rk+=Math.min(17,N*.17)}if(f){f=Math.round(parseFloat(f)+W.CX.FontSize*1.2);
W.CX.Leading=f;W.CX.AutoLeading=!1}if(m)W.i9.Justification=["left","right","center","fill"].indexOf(m);
if(H&&H!="Sans-serif"){var h=H.toLowerCase(),b="bold italic semi extra regular condensed light".split(" "),i=h.length;
for(var Y=0;Y<b.length;Y++){var w=h.indexOf(b[Y]);if(w!=-1&&w<i&&h[w-1]==" ")i=w}if(i!=h.length)H=H.slice(0,i-1).split(" ").join("")+"-"+H.slice(i).split(" ").join("");
f4.YW(W,H)}f4.Xy(y,0,Z.length,W);var J=_["box-width"],q=_["box-height"],x=J?parseFloat(J):T.rect.Q,A=q?parseFloat(q):T.rect._;
f4.IC(y,1);f4.s7(y,[0,0,Math.ceil(x),Math.ceil(A)])}else console.log("Unknown property "+U)}}while(a.bu>g){a.R.push(a.KM());
a.bu--}a.bu=g;if(T.add.lsct==gA.rW||T.add.lsct==gA.DG)a.bu++;var Q=s==4?u.C:u.DH,B=Q(I,k);k+=s;var l=Q(I,k);
k+=s;if(T.Lk()){T.buffer=j.U(T.rect.c()*4);var P=new j.$n(T.rect.c());ej.a6e(I,B,P,n,s,C);j.we(P,T.buffer)}if(l!=0){T.u=new X.uC;
var F=ej.abe(I,l,n,s,C);T.u.channel=F.YR;T.u.rect=T.rect.clone();if(d[dT.aeB])T.u.isEnabled=u.C(d[dT.aeB],0)==1;
T.u.color=T.u.channel[0];T.u.Jk()}if(T.hd())T.rect=new eZ;a.R.push(T)};ej.akq=function(I){var k="("+u.Im(I,0,I.length-1)+")",a=[],n={};
ej.ajL(k,1,a);ej.a7Y(a,n);return n};ej.a7Y=function(I,k){for(var Y=0;Y<I.length;Y++){var a=I[Y],n=a[0];
if(a.length==2)k[n]=a[1];else k[n]=a.slice(1)}};ej.ajL=function(I,k,a){while(!0){if(k>=I.length)throw"e";
var n=I.charAt(k);k++;if(n=="("){var s=[];k=ej.ajL(I,k,s);a.push(s)}else if(n==" "||n=="\n"||n=="\r"){}else if(n==")")return k;
else if(n=="\""){var C=k;while(!0){var T=I[k];k++;if(T=="\"")break;if(T=="\\")k++}a.push(JSON.parse(I.slice(C-1,k)))}else{var C=k-1;
while(I[k]!=" "&&I[k]!=")")k++;a.push(I.slice(C,k))}}};ej.abe=function(I,k,a,n,s){var C=u.C(I,k);k+=4;
var T=u.C(I,k);k+=4;var S=u.Rg(I,k);k+=S.El;var D={};k=ej.kw(I,k,D);var o=new j.$n(C*T),v=n==4?u.C:u.DH,g=v(I,k);
k+=n;ej.a6e(I,g,o,a,n,s);return{YR:o.$,QB:D}};ej.a6e=function(I,k,a,n,s,C){var T=u.C(I,k);k+=4;var S=u.C(I,k);
k+=4;var D=u.C(I,k);k+=4;var o=s==4?u.C:u.DH,v=o(I,k);k+=s;ej.ayo(I,v,a,n,D,s,C)};ej.ayo=function(I,k,a,n,s,C,T){var S=u.C(I,k),v=0,Y=0;
k+=4;var D=u.C(I,k);k+=4;var o=new eZ(0,0,S,D);if(T==100||T==150)v=1;else if(T==200||T==250)v=2;else if(T==300||T==350)v=4;
else if(T==500||T==550)v=2;else if(T==600||T==650)v=4;else if(T==700||T==750)v=8;else{alert("unsupported bit depth "+T);
throw"e"}var g=s/v,v=Math.round(s/g),d=[];k=ej.r9(I,k,d,C);var R=new j.$n(64*64*v),c=new eZ,e=n[dT.ahh][0],O=[R.$,R.H,R.J,R.M];
if(g==3)R.M.fill(255);var U=Date.now();if(d.length!=0)for(var K=0;K<D;K+=64)for(var _=0;_<S;_+=64){var Z=Math.min(S-_,64),H=Math.min(D-K,64),G=Z*H;
c.dZ(_,K,Z,H);ej.anM(I,d[Y++],G*v,e,g,O);if(T==100||T==150){}else if(T==250){for(var N=0;N<g;N++){var z=O[N];
for(var L=0;L<G;L++){var p=z[L]<<8|z[G+L];z[L]=Math.min(p>>>8,255)}}}else if(T==600){var V=ej.a6l(),r=new Uint32Array(1),y=new Float32Array(r.buffer);
for(var N=0;N<g;N++){var z=O[N];for(var L=0;L<G;L++){r[0]=z[L]<<24|z[G+L]<<16|z[(G<<1)+L]<<8|z[(G<<1)+G+L]<<0;
var W=y[0];if(W<0)W=0;else if(W>1)W=1;z[L]=V[~~(.5+W*1e3)]}}}else console.log("unknown data format",T);
j.zq(R,c,a,o)}};ej.a6l=function(){var I=ej.aCF;if(I!=null)return I;I=ej.aCF=new Uint8Array(1001);for(var Y=0;
Y<1001;Y++)I[Y]=~~(.49+255*j.lD(Y*.001));return I};ej.anM=function(I,k,a,n,s,C){if(n==1){for(var T=0;
T<s;T++){var S=C[T],D=0;while(D<a){var bQ=I[k];k++;if(bQ<127){var o=I[k];k++;bQ++;for(var Y=0;Y<bQ;Y++)S[D+Y]=o}else if(bQ==127){var v=I[k];
k++;var g=I[k];k++;var o=I[k];k++;bQ=v<<8|g;for(var Y=0;Y<bQ;Y++)S[D+Y]=o}else if(bQ==128){var v=I[k];
k++;var g=I[k];k++;bQ=v<<8|g;for(var Y=0;Y<bQ;Y++)S[D+Y]=I[k+Y];k+=bQ}else{bQ=256-bQ;for(var Y=0;Y<bQ;
Y++)S[D+Y]=I[k+Y];k+=bQ}D+=bQ}}}else if(n==2){var d=pako.inflate(I.slice(k)),R=Math.round(d.length/a);
for(var Y=0;Y<a;Y++){var c=Y*R;C[0][Y]=d[c];C[1][Y]=d[c+1];C[2][Y]=d[c+2];C[3][Y]=R==3?255:d[c+3]}}else alert("Unknown compression "+n)};
ej.r9=function(I,k,a,n){var s=n==4?u.C:u.DH;while(!0){var C=s(I,k);k+=n;if(C==0)break;else a.push(C)}return k};
ej.kw=function(I,k,a){while(!0){var n=u.C(I,k);k+=4;var s=u.C(I,k);k+=4;if(n==dT.ahC)break;else if(n==dT.pQ)a[n]=ej.azn(I,k,k+s);
else a[n]=u.jD(I,k,s);k+=s}return k};ej.azn=function(I,k,a){var n={};while(k<a){var s=u.Rg(I,k);k+=s.El;
var C=u.C(I,k);k+=4;if(C!=1)console.log("unknown flags",C);var T=u.C(I,k);k+=4;n[s.Yl]=u.jD(I,k,T);k+=T}return n};
var dT={ahC:0,a6F:1,ayY:2,a7H:3,aE$:4,acK:5,a09:6,an8:7,alp:8,a8B:9,aF6:10,aeB:11,a2A:12,atx:13,azi:14,DO:15,aDt:16,ahh:17,axk:18,agE:19,a8l:20,pQ:21,afC:22,ao8:23,aCD:24,ahd:25,a6r:26,abh:27,aqE:28,a3a:29,auG:30,a42:31,a9g:32,aEF:33,ag_:34,aDD:35,amS:36,a1d:37,az3:38,ayu:0,aCV:1,aaI:2,aCz:3,arT:1,axC:2,auc:0,am9:1,afo:1};
dT.amD="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var f5=function(){var I=!1,k,a,U=0,Z;function n(){var N=u.x8(k,a,4);a+=4;return N[3]+N[2]+N[1]+N[0]}function s(){var N=u.x8(k,a,4);
a+=4;return N}function C(){var N=k[a];a+=1;return N}function T(){var N=u.Ge(k,a);a+=2;return N}function S(){var N=u.sg(k,a);
a+=4;return N}function D(){var N=u.hK(k,a);a+=4;return N}function o(){var N=u.sg(k,a);a+=8;return N}function v(){var N=u.qu(k,a);
a+=4;return N}function g(){var N=u.SS(k,a);a+=8;return N}function d(){var N=u.Ge(k,a),z=u.Im(k,a+2,N);
a+=2+N;return z}function R(){var N=u.sg(k,a),z=u.Im(k,a+4,N);a+=4+N;return z}function c(N){a=N;var z=[];
while(a!=0){var L=s();if(L!="#FT4"&&L!="#FT3"&&L!="#FT2")throw L;var p=o(),V=o(),r=o(),y=o(),W=o(),m=S(),f=S(),h=S(),b=T(),i=C(),w={};
z.push(w);for(var Y=0;Y<m;Y++){var J=S(),q=C();if(q!=0&&q!=1&&q!=2)throw q;var x=[];if(q==0||q==1){var A=o(),Q=o(),B=o(),l=S(),P=C(),F=S(),t=L!="#FT4"?0:S(),b$=null;
if(L=="#FAT"||L=="#FT2"){switch(P){case 1:P=1;break;case 2:P=65;break;case 3:P=129;break;case 4:P=193;
break;default:P=0;break}}if(q==0)b$=d();x=[A,Q,B,P,b$]}w["i"+J]=[q,x]}for(var Y=0;Y<b;Y++){var hd=T(),di=T(),hD=o(),a$=u.x8(k,a,hd);
a+=hd}a=p}z.reverse();for(var eJ=1;eJ<z.length;eJ++){var w=z[eJ],hY=z[eJ]=JSON.parse(JSON.stringify(z[eJ-1]));
for(var ik in w){var fw=w[ik];if(fw[0]==0)hY[ik]=fw;else if(fw[0]==1){fw[1][4]=hY[ik][1][4];hY[ik]=fw}else if(fw[0]==2)delete hY[ik]}}var jb=z.pop(),cd=[];
for(var ik in jb)cd.push(jb[ik][1]);cd.sort(function(dN,kc){return dN[0]-kc[0]});return cd}function e(N,z,L,p){while(a<k.length){var V=C(),m=null;
if(V==0){if(p){var r=C();if(r!=2){var y=n()}if(r==0)a+=4;p=!1;continue}else{break}}var W=n();if(I)console.log("  ".repeat(z),V,V&127,W,N._type);
if(V>127)m=O(V,z,L);else m=K(V,z,L);if(I)console.log("  ".repeat(z),m);N[W]=m}}function O(N,z,L){var p=[];
N=N&127;if(N==43)a+=4;var V=S();if(N==50){var r=n(),y=T();if(y!=1)throw"e";for(var Y=0;Y<V;Y++){var W={_status:"NotShared",_type:r};
p.push(W);var m=C();if(m!=0&&m!=1)throw m;e(W,z+1,L)}}else if(N==41){if(V>8)throw V;for(var Y=0;Y<V;
Y++)p.push((k[a]>>>Y&1)==1);a++}else for(var Y=0;Y<V;Y++){p.push(K(N,z,L,Y!=0));if(N==42)N=2}return p}function K(N,z,L,p){var V=null;
if(N==49){V={};var r=C();if(r!=0){var y=S();if(L==null){V._id=y;V._status=["Shared","Link"][r-1]}if(L&&r==2)V=L[y];
if(r==1){if(L)L[y]=V;var W=C(),m=!1;if(W>1)throw W;V._type=n();if(I)console.log("  ".repeat(z),"new",V._type,W,a);
if(W==0){while(!0){var f=T();if(f!=0&&f!=1&&f!=2&&f!=3&&f!=4)throw f;if(k[a]!=0){m=!0;break}var h=T();
if(h==512)break;var b=n();if(h==256)break}}e(V,z+1,L,m)}}}else if(N==50){V={_status:"NotShared"};if(C()==1){V._type=n();
a+=2;e(V,z+1,L)}}else if(N==1)V={type:"byte",value:C()};else if(N==2)V={type:"uint16",value:T()};else if(N==3)V={type:"uint32",value:S()};
else if(N==4)V={type:"uint64",value:o()};else if(N==7)V={type:"int32",value:D()};else if(N==8)V={type:"int64",value:o()};
else if(N==9)V={type:"float32",value:v()};else if(N==10)V={type:"float64",value:g()};else if(N==21)V={type:"Vec2i",value:[S(),S()]};
else if(N==23)V={type:"Vec4i",value:[S(),S(),S(),S()]};else if(N==33)V={type:"Vec4f",value:[v(),v(),v(),v()]};
else if(N==36)V={type:"Vec2",value:[g(),g()]};else if(N==38)V={type:"Vec4",value:[g(),g(),g(),g()]};
else if(N==40)V={type:"Vec6",value:[g(),g(),g(),g(),g(),g()]};else if(N==41)V={type:"bool",value:C()!=0};
else if(N==42)V={type:"Enum",value:S()};else if(N==43)V={type:"string",value:R()};else if(N==44){if(p!=!0)U=T();
V={type:"curv16",value:[g(),U==12?[C(),C(),C(),C()]:[S(),S()]]}}else if(N==45){var i=S();V={type:"buff",value:k.slice(a,a+i)};
a+=i}else if(N==47){V={type:"uint32",value:S()}}else if(N==48){var w=[],J=T();if(J!=1)throw J;while(!0){if(k[a]==135){var q=O(C(),z+1,L),x=O(C(),z+1,L),A=O(C(),z+1,L);
w.push([q,x,A])}else{var Q=1;if(k[a]==3){C();Q=S()}for(var Y=0;Y<Q;Y++){if(C()!=41)throw"e";var y=C();
if(y!=0&&y!=1)throw y;if(C()!=172)throw"e";var B=S(),l=T(),P=[];w.push(P);if(l!=18)throw l;if(B>4e3)throw B;
for(var F=0;F<B;F++)P.push([g(),g(),C(),C()])}}if(k[a]==0){a++;break}}V={type:"curve",value:w}}else if(N==51){V={type:"EmbeddedData"};
V[n()]=R()}else if(N==52)V={type:"uint32",value:S()};else if(N==56)V={type:"Color32",value:[C(),C(),C(),C()]};
else if(N==60)V={type:"ColorGRAY",value:[v(),v()]};else if(N==68)V={type:"ColorRGBA",value:[v(),v(),v(),v()]};
else if(N==72)V={type:"ColorCMYK",value:[v(),v(),v(),v(),v()]};else{throw N}return N==49||N==50||N==51?V:V.value}function _(N){var z=0,L=N.length;
for(var Y=0;Y<L;Y+=4){N[Y]=z=z+N[Y];N[Y+1]=z=z+N[Y+1];N[Y+2]=z=z+N[Y+2];N[Y+3]=z=z+N[Y+3]}}function H(N){k=N;
a=4;var z=S(),L=s();if(L!="nsrP")throw L;var L=s();if(L!="#Inf")throw L;var p=o();Z=o();var V=o(),r=o(),y=o(),W=S(),m=S(),L=s();
if(L!="Prot")throw L;var W=S(),f=c(p),h={},b=Date.now();for(var i=0;i<f.length;i++){var w=f[i],J=w[3],B=null;
a=w[0];var L=s();if(L!="#Fil")throw L;var q=J>>>5&1,x=J&3,A=J&192;switch(A){case 64:A=1;q=0;break;case 128:A=2;
break;case 192:A=3;break;default:A=0;q=0}var Q=new Uint8Array(k.buffer,a,w[2]);if(x==0)B=Q;else if(x==1)B=pako.inflate(Q);
else if(x==2)B=kk.J1.SO(Q,w[1]);else throw x;if(q==0){if(A==1)_(B);if(A==2)throw"e"}else if(q==1){if(A==2)_(B);
else throw A}else throw q;h[w[4]]=B}return h}function G(N){var z=H(new Uint8Array(N));k=z["doc.dat"];
a=16;var L={};e(L,0,[]);return[z,L,Z]}return{aEQ:G}}();function iN(){}iN.SF=function(){function I(e,O){var U=Date.now(),K=f5.aEQ(e),_=K[0],Z=K[1],H=K[2],G=Z.DocR,N=G.DfSz,z=G.Chld;
if(z.length!=1)console.log(z);var L=z[0],p=L.SprB;z=L.Chld;if(p){O.Q=~~p[2];O._=~~p[3]}else{O.Q=1920;
O._=1080}O.buffer=j.U(O.Q*O._*4);var V=[0,{}];for(var Y=0;Y<z.length;Y++)C(z[Y],O,_,new dc,V,[],0);O.vW(V[0]);
console.log(Date.now()-U,"Document created");U=Date.now()}function k(e){return new dc(e[0],e[3],e[1],e[4],e[2],e[5])}function a(e,O){var U=O.Xfrm;
U=U?k(U):new dc;U.concat(e);return U}function n(e){var O={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[e];
return O?O:"norm"}function s(e,O){var U=e[O],K=e.DsMa;if(U==null&&K)U=K[O];return U}function C(e,O,U,K,_,Z,H){var G=e._type,N=e.Chld,z=O.ux();
z.GF(e.Desc==null||e.Desc==""?G=="Grup"?"Folder":"Layer":e.Desc);var L=s(e,"Visi");if(L!=null)z.ol(L);
var p=s(e,"Opac");if(p!=null)z.opacity=Math.round(255*p);var V=s(e,"FOpc");if(V!=null)z.add.iOpa=Math.round(255*V);
var r=s(e,"Blnd");if(r!=null)z.pu=n(r);if(e.BFFl&&e.BFFl[0])Z.push(e.BFFl[0]);var y=a(K,e),W=G=="ShpN"||G=="PCrv";
if(N){O.R.push(O.KM());z.add.lsct=gA.rW;if(z.pu=="norm")z.pu="pass";z.HA=24;if(L!=null)z.ol(L);if(G=="ShpN"&&H==0){var m=e.ShpB;
z.IA(new eZ(m[0]+y.Dw,m[1]+y.rk,Math.round(y.M*(m[2]-m[0])),Math.round(y.Jo*(m[3]-m[1]))));_[0]++;z.add.artb.Clr={t:"Objc",v:j.G.pI({$:255,H:255,J:255})};
var f=Z[0];for(var Y=0;Y<Z.length;Y++)if(Z[Y].FDeF._type!="FilN")f=Z[Y];if(f.FDeF._type=="FilS"){z.add.artb.Clr=o(f.FDeF.Colr);
z.add.artb.artboardBackgroundType.v=4}}var h=e.Shpe?e:null;if(h==null)h=e.DsMa&&e.DsMa.Shpe?e.DsMa:null;
if(h){var b=S(h);if(b.d.length!=7){z.add.vmsk=b;j.n.de(b.d,y);z.Bb();z.Wr(O)}}for(var Y=0;Y<N.length;
Y++)C(N[Y],O,U,y,_,Z,H+1)}else if(G=="Rstr"||G=="ImgN"||G=="MRst"){var i=s(e,"Bitm"),w=i.Bckg,J=Date.now(),q;
if(w==null){q=g(i,U,_[1]);z.rect=q[2].clone();z.buffer=q[1].slice(0);z.rect.x+=y.Dw;z.rect.y+=y.rk}if(w||y.Ha()!=1){var x,A=0,Q=0;
if(w){var B=U[w.Data],l=u.S$(B,"ataD")+4,P=u.sg(B,l);l+=4;x=B.slice(l,l+P)}else{A=z.rect.x-y.Dw;Q=z.rect.y-y.rk;
if(q[3]==null)q[3]=new Uint8Array(kk.wV("PNG").G0([[z.buffer.buffer]],z.rect.Q,z.rect._));x=q[3].slice(0)}var F=O.MA(x,z.getName(),0,0);
F.HA=z.HA;F.opacity=z.opacity;z=F;var t=new dc;t.translate(A,Q);t.concat(y);var b$=z.rect.clone();b$.x=b$.y=0;
var hd=j.X.Eu(b$).s;j.X.h(hd,t,hd);z.add.SoLd.Trnf=E.nF.D1(hd);z.add.SoLd.nonAffineTransform=E.nF.D1(hd);
z.Bi(O,!1)}}else if(G=="TxtA"||G=="TxtF"){z.add.lnsr="rend";z.add.TySh=f4.MU(0,0);z.add.TySh.uT=new eZ(0,0,100,100);
var di=e.TxtH?e:e.DsMa,hD=di.TxtH.FrmB,a$=1,eJ=1,hY=z.add.TySh.h=new dc,dN=0;hY.translate(hD[0],hD[1]);
hY.concat(y);if(G=="TxtF"){var ik=Math.atan2(-hY.J,hY.M);hY.rotate(-ik);a$=hY.M;eJ=hY.Jo;hY.Jo=hY.M=1;
hY.rotate(ik)}var fw=z.add.TySh.RW,jb=di.StSt;if(jb==null)jb=di.StMa.StSt;var cd=jb.Blok;if(cd.length!=1)throw"e";
for(var kc=0;kc<cd.length;kc++){var ck=cd[kc],b3=dN,hL=0,gS=ck.Glyp.Utf8;if(gS==null)continue;gS=gS.replace(/\u2028/g,"\n");
gS=gS.replace(/\u2029/g,"\n");gS=gS.slice(0,gS.length-1);if(gS=="")continue;z.GF(gS.slice(0,255));f4.lL(fw,dN,gS);
dN+=gS.length;var jF=ck.GAtt.Runs,kB=ck.PAtt.Runs[0],jw=kB.Item.Ints[0];for(var iT=0;iT<jF.length;iT++){var gY=jF[iT],aL=gY.Indx,dw=gY.Item,ka=dw.Objs,cy=f4.dm(fw,b3,1);
cy.i9.Justification=jw==0?0:jw==1?2:1;f4.YW(cy,dw.DFnt.Post);cy.CX.FontSize=dw.Doub[0];for(var Y=0;Y<ka.length;
Y++){var jP=ka[Y];if(jP._type=="FDsc"){var aA=jP.FDeF;if(aA._type=="FilS"){var d1=v(aA.Colr);cy.CX.FillColor={Type:1,Values:[1,d1[0],d1[1],d1[2]]}}}}f4.Xy(fw,b3+hL,b3+Math.min(aL,gS.length),cy);
hL=aL}}f4.IC(fw,1);f4.s7(fw,[0,0,Math.round((hD[2]-hD[0])*a$*1.02),Math.round((hD[3]-hD[1])*eJ*1.2)]);
O.P5=!0}else if(W){z.HA|=16;var ag=z.add.vstk=fY.Lg.nI(!0),b=z.add.vmsk=S(e);j.n.de(b.d,y);var f=Z[0];
for(var Y=0;Y<Z.length;Y++)if(Z[Y].FDeF._type!="FilN")f=Z[Y];if(f){var b0=f.FDeF,kx=b0._type;if(kx=="FilS")z.add.SoCo={classID:"null",Clr:o(b0.Colr)};
else if(kx=="FilG"){var br=z.add.GdFl=JSON.parse(fY.iH[fY.order.indexOf("GrFl")]);D(f,br,j.n.oz(b.d))}else if(kx=="FilN"){z.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.G.pI({$:0,H:0,J:0})}};
ag.fillEnabled.v=!1}else console.log(kx)}if(e.LILn){var ft=e.LILn[0].LDeL,iv=ft.Wght;if(iv!=0){ag.strokeEnabled.v=!0;
ag.strokeStyleLineWidth.v.val=iv;var b0=e.LIFl[0].FDeF,kx=b0._type;if(kx=="FilS")ag.strokeStyleContent.v.Clr=o(b0.Colr);
else if(kx=="FilN")ag.strokeEnabled.v=!1}}z.Bb();z.Wr(O)}else if(G=="RcRA"){var k6=e.AdjP,ay="hue2",eT=z.add[ay]=gJ.nI(ay);
T(eT,k6)}else console.log(G);var kD=e.AdCh,cP=[];if(kD)for(var Y=0;Y<kD.length;Y++){var cU=kD[Y],gu=cU._type;
if(gu=="ShpN"||gu=="PCrv"){var b=z.add.vmsk=S(cU),jd=a(y,cU);j.n.de(b.d,jd);z.Bb();z.Wr(O)}else if(cU.AdjP){var k6=cU.AdjP,i$=k6._type;
console.log(i$);var hT={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[i$];
if(hT==null){console.log(k6);continue}var jk=gJ._b(hT,{});cP.push(jk);var eT=jk.v.Fltr.v;if(i$=="LevP"){var i1=kA.MY(eT,0);
i1[0]=k6.OutB*255;i1[1]=k6.OutW*255;kA.qh(eT,0,i1)}else if(i$=="WhBP"){var i1=kA.MY(eT,2);i1[4]=100+k6.WBTi*20;
kA.qh(eT,2,i1);var i1=kA.MY(eT,3);i1[4]=100+k6.WBTi*200;kA.qh(eT,3,i1)}else if(i$=="HSSP"){var i1=eu.MY(eT,0);
i1[0]=Math.round(k6.HueA*256);i1[1]=Math.round(k6.SatA*256);i1[2]=Math.round(k6.LumA*256);eu.qh(eT,0,i1)}else if(i$=="RecP"){T(eT,k6)}else if(i$=="B&CP"){eT.Brgh.v=Math.round(k6.Brig*100);
eT.Cntr.v=Math.round(k6.Ctrs*100-100)}else if(i$=="PosP"){eT.Lvls.v=k6.Post}else if(i$=="VibP"){eT.vibrance.v=k6.Vibr-100;
eT.Strt.v=Math.round(k6.Satu*100)}else if(i$=="ExpP"){eT.Exps.v=k6.Expo;eT.gammaCorrection.v=k6.Gamm/2.2}else if(i$=="ThrP"){eT.Lvl.v=Math.round(k6.Thre*255)}else if(i$=="CrvP"){var aZ=k6.Mast["Cnt "],az=k6.Mast.Vals,i1=aH.MY(eT,0),hM=i1[0];
for(var ku=0;ku<aZ;ku++){var dM=i1[ku]=JSON.parse(JSON.stringify(hM));dM.v.Hrzn.v=Math.round(az[ku]*255);
dM.v.Vrtc.v=Math.round(az[4+ku]*255)}aH.qh(eT,0,i1)}}else console.log(cU)}if(cP.length!=0&&z.add.SoLd){z.add.SoLd.filterFX=gJ.mA();
O.eD({id:z.add.SoLd.placed.v,rect:new eZ,buffer:j.U(1),u:new X.uC});z.add.SoLd.filterFX.v.filterFXList.v=cP;
z.Bi(O,!1)}var fb=e.FiEf;if(fb&&fb.length!=0){var j$=z.add.lmfx=JSON.parse(fY.default);for(var Y=0;Y<fY.order.length;
Y++)j$[fY.zQ[Y]]={t:"VlLs",v:[]};for(var e0=0;e0<fb.length;e0++){var ff=fb[e0],dm=ff._type,dX={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[dm],br=dX?JSON.parse(fY.iH[fY.order.indexOf(dX)]):null,il=1;
if(dm=="ColO"){br.Clr=o(ff.Colr)}else if(dm=="GrdO"){D(ff.GrFl,br)}else if(dm=="Shad"||dm=="InnS"||dm=="OutG"||dm=="InnG"){br.Clr=o(ff.Colr);
br.blur.v.val=Math.round(ff.Radi);var j1=ff.Comp;if(j1!=null){if(j1>.5)il=1-.5*(j1-.5);else br.Ckmt.v.val=Math.round(100*(.5-j1))}if(ff.Offs!=null){br.Dstn.v.val=ff.Offs;
br.lagl.v.val=Math.round(180-ff.Angl*180/Math.PI);br.uglg.v=!1}}else if(dm=="Strk"){if(ff.Ftyp==0)br.Clr=o(ff.Colr);
else{D(ff.GrFl,br);br.PntT.v.FrFl="GrFl"}br.Sz.v.val=Math.round(ff.Radi)}else if(dm=="PhgB"||dm=="BevE"){br.blur.v.val=Math.round(ff.Radi);
if(dm=="BevE")br.bvlS.v.BESl="PlEb"}else if(dm=="Gaus"){if(W&&ff.Enab){z.add.vmsk.K4=ff.Radi/2.4;z.add.vmsk.WB=!0;
z.Bb();z.Wr(O)}}if(dX){br.enab.v=ff.Enab;if(br.Md&&ff.BlnM!=null)br.Md.v.BlnM=aU.Vu(n(ff.BlnM));if(br.Opct&&ff.Opac!=null)br.Opct.v.val=Math.round(il*ff.Opac*100);
var c5=fY.zQ[fY.order.indexOf(dX)];j$[c5].v.unshift({t:"Objc",v:br})}}}if(e.BFFl&&e.BFFl[0])Z.pop();
O.R.push(z)}function T(e,O){e.Clrz.v=!0;var U=eu.MY(e,0);U[0]=Math.round(O.RecH*360);U[1]=Math.round(O.RecS*100);
U[2]=Math.round(O.RecL*100);eu.qh(e,0,U)}function S(e){var O=new X.JB,U=e._type;if(e.ShpB==null&&e.Crvs==null)e=e.DsMa;
if(U=="PCrv"){var K=e.Crvs.Data,_=[],Z=[];for(var Y=0;Y<K.length;Y++){var H=K[Y],G=H.length%3;if(G!=1){H=G==2?H[0][2]!=0?H.slice(0,H.length-1):H.slice(1):H.slice(1,H.length-1)}for(var N=0;
N<H.length;N++){var z=H[N],L=z[2];if(L!=0)_.push(N==0?"M":"C");Z.push(z[0],z[1])}}O.d=j.X.ep({s:Z,m:_},!0)}else{var p=e.ShpB,V=e.Shpe,r=V._type,y=p[2]-p[0];
if(r=="ShpE"){O.d=j.n.uQ.hO(p[0],p[1],p[2]-p[0],p[3]-p[1])}else if(r=="ShNR"){var W=[0,0,0,0];if(V.CTyp){W=V.ShCR.slice(0);
for(var Y=0;Y<4;Y++)W[Y]*=p[2]-p[0];for(var Y=1;Y<4;Y++)W[Y]=W[0]}O.d=j.n.uQ.Rect(p[0],p[1],p[2]-p[0],p[3]-p[1],W)}else if(r=="ShpT"){O.d=j.X.ep({m:["M","L","L","Z"],s:[p[0],p[3],p[2],p[3],p[0]+y*.5,p[1]]},!0)}else if(r=="ShTz"){O.d=j.X.ep({m:["M","L","L","L","Z"],s:[p[0]+y*V.PosL,p[1],p[0]+y*V.PosR,p[1],p[2],p[3],p[0],p[3]]},!0)}else{console.log("--",r);
O.d=j.n.uQ.Rect(p[0],p[1],p[2]-p[0],p[3]-p[1],[0,0,0,0])}}return O}function D(e,O,U){var K=e.FDeF,_=e.FDeX;
if(_)_=k(_);var Z=K.Grad,H=Z.Cols;O.Type.v.GrdT=K.Type==0?"Lnr":"Rdl";var G=[];for(var Y=0;Y<H.length;
Y++){var N=v(H[Y]);G.push([Z.Posn[Y][0],N])}O.Grad.v.Intr.v=0;j.G.gD(G,O.Grad.v);var z=Z.Posn,L=new kK(z[0][0],z[0][1]),p=new kK(z[1][0],z[1][1]);
if(_){var V=new dc;if(U==null)V.translate(-.5,-.5);V.concat(_);if(U==null)V.translate(.5,.5);L=V.yt(L);
p=V.yt(p)}if(K.Type==0)L=new kK((L.x+p.x)/2,(L.y+p.y)/2);j.G.hP(L,p,U?U:new eZ(0,0,1,1),O)}function o(e){var O=v(e);
return{t:"Objc",v:j.G.pI({$:O[0]*255,H:O[1]*255,J:O[2]*255})}}function v(e){var O=e._col,U=e._type;if(U=="HSLA"){var K=j.No(O[0],O[1],O[2]);
return[K.$,K.H,K.J,O[3]]}else if(U=="RGBA")return O;else if(U=="CMYK")return j.V5(O);else if(U=="GRAY")return[O[0],O[1],O[2]];
else if(U=="Pant")return e.srgb._col;else{console.log(O);throw U}}function g(e,O,U){var K=e.Frmt,m="";
if(K!=0&&K!=1&&K!=4&&K!=6)throw K;var _=e.BmpW,Z=e.BmpH,H=K==1?128:256,G=K==4?5:K==0||K==1?4:1,N=Math.ceil(_/H),z=Math.ceil(Z/256),L=new eZ(0,0,N,z),p=new eZ;
for(var Y=0;Y<G;Y++){var V=new Uint8Array(e["Sta"+(Y+1)]);for(var r=0;r<V.length;r++)if(V[r]==1)V[r]=0;
var y=j.PD(V,L);p=p.oL(y)}var W=[];for(var Y=0;Y<G;Y++){var V=new Uint8Array(e["Sta"+(Y+1)]),f=j.U(p.c());
j.O0(V,L,f,p);W[Y]=[];for(var r=0;r<f.length;r++)W[Y][r]=f[r];m+=JSON.stringify(W[Y])+","+JSON.stringify(e["Idx"+(Y+1)])+","}if(U[m]==null){var h=p.Q*H,b=p._*256,i=new Array(G);
for(var Y=0;Y<G;Y++){var V=i[Y]=new Uint8Array(h*b);d(V,e["Idx"+(Y+1)],W[Y],O,h,b,H)}var w=j.U(h*b*4);
if(K==0||K==1)j.we({$:i[0],H:i[1],J:i[2],M:i[3]},w);else if(K==4){for(var Y=0;Y<i[0].length;Y++){var J=Y*4,q=i[0][Y]*(1/255),x=i[1][Y]*(1/255),A=i[2][Y]*(1/255),Q=i[3][Y]*(1/255),B=UDOC.C.cmykToRgb([q,x,A,Q]);
w[J]=B[0]*255;w[J+1]=B[1]*255;w[J+2]=B[2]*255;w[J+3]=i[4][Y]}}else{w.fill(255);j.bS(i[0],w)}var l=new eZ(0,0,h,b),P={buffer:w,rect:l};
j.KK(P);U[m]=[P.rect,P.buffer]}var y=U[m][2]=U[m][0].clone();y.x+=p.x*H;y.y+=p.y*256;return U[m]}function d(e,O,U,K,_,Z,H){var G=0,N=_>>>(H==256?8:7),z=Z>>>8;
for(var L=0;L<z;L++)for(var p=0;p<N;p++){var V=p*H,r=L*256,y=L*N+p,W=r*_+V,m=U[y];if(m<=1){}else if(m==2)R(e,W,255,_,H,256);
else if(m==4){var f=O[G];G++;var h=K[f.Data.DatI],b=f.Rect;if(b==null)b=[0,0,H,256];c(e,(r+b[1])*_+V+b[0],h,b[1]*H+b[0],_,H,b[2]-b[0],b[3]-b[1])}else console.log(m)}}function R(e,O,U,K,_,Z){var H=O+K*Z;
for(;O<H;O+=K){var G=O+_;for(var N=O;N<G;N++){e[N]=U}}}function c(e,O,U,K,_,Z,H,G){var N=O+_*G,z=K+Z*G;
for(;O<N&&K<z;O+=_,K+=Z){for(var Y=0;Y<H;Y++)e[O+Y]=U[K+Y]}}return I}();function dC(){}dC.SF=function(I,k){var a=dC,n=hf.parse(I),C=0;
if(n.pages.length>1)console.log(n.pages.length,"pages");var s=[],T=new eZ;for(var S=0;S<n.pages.length;
S++){var D=n.pages[S],o=D.layers,v=a.TO(o,S),d=!1;if(v.c()>8e3*8e3||v.Q>3e4||v._>3e4){a.asF(o,!0);var g=a.TO(o,S);
if(g.c()>=v.c())a.asF(o,!1)}v=a.TO(o,S);for(var R=0;R<o.length;R++){var c=o[R];if(a.Ls(c)=="artboard")d=!0}if(!d){console.log("no artboard");
var e={};for(var O in D)e[O]=D[O];e._class="group";D.layers=[e]}s.push(v.clone());if(v.KH())continue;
v.x=0;v.y=C;C+=v._+200;T=T.oL(v)}var U={};if(n.foreignSymbols)for(var Y=0;Y<n.foreignSymbols.length;
Y++){var K=n.foreignSymbols[Y].symbolMaster;U[K.symbolID]={iP:K}}a.a8F(n.pages,U,k);for(var _ in U){var c=U[_].iP,Z=a.ax4(c.layers)}var H=dC.TA(T,8192*8192);
k.P5=!0;k.Q=Math.round(T.Q/H);k._=Math.round(T._/H);k.buffer=j.U(k.Q*k._*4);k.vW(n.pages[0].layers.length);
k.MI={};k.VY=[];C=0;for(var S=0;S<n.pages.length;S++){var G=n.pages[S],v=s[S],N=new dc(H,0,0,H,v.x,v.y-C);
a.BC(G.layers,k,N,n,U,{},[]);C+=v._+200}delete k.MI;delete k.VY;if(H!=1)alert("File scaled down "+H+"x");
k.a9J()};dC.axd=0;dC.Ls=function(I){return I._class?I._class:I.$class};dC.TA=function(I,k){var a=1;while(Math.round(I.Q/a)*Math.round(I._/a)>k||Math.max(Math.round(I.Q/a),Math.round(I._/a))>3e4)a++;
if(a!=1&&!window.confirm("Your image is quite large ("+I.Q+" x "+I._+" px).\n"+"Press OK to scale it down "+a+"x, or Cancel to keep the size."))a=1;
return a};dC.TO=function(I,k){var a=[],n=dC;for(var s=0;s<I.length;s++){var C=I[s],T=n.Zc(C.frame);if(k==0||n.Ls(C)=="artboard")a.push(T)}return j.rect.si(a)};
dC.asF=function(I,k){var a=[],n=dC;for(var s=0;s<I.length;s++){var C=I[s],T=n.Zc(C.frame);T.Q+=150;T._+=150;
a.push(T)}var S=j.rect.si(a);j.rect.aaX(a,k);var D=j.rect.si(a);if(D.c()*1.5<S.c()||S.Q>3e4&&D.Q<=3e4||S._>3e4&&D._<=3e4){alert("Re-arranging artboards");
for(var s=0;s<I.length;s++){var o=a[s],C=I[s],v=C.frame;v.x=o.x;v.y=o.y}}};dC.a8F=function(I,k,a){if(I==null)return;
var n=dC;for(var s=0;s<I.length;s++){var C=I[s],T=n.Ls(C);if(["page","artboard","group"].indexOf(T)!=-1)n.a8F(C.layers,k,a);
else if(T=="symbolMaster")k[C.symbolID]={iP:C}}};dC.ax4=function(I){var k=dC;for(var a=0;a<I.length;
a++){var n=I[a],s=k.Ls(n),C=null;if(["page","artboard","group"].indexOf(s)!=-1)C=k.ax4(n.layers);if(s=="symbolMaster"||s=="symbolInstance")C=n;
if(C!=null)return C}return null};dC.BC=function(I,k,a,n,s,C,T){if(I==null)return;var S=dC,D=[];for(var o=0;
o<I.length;o++){var v=I[o],g=v.frame?S.Zc(v.frame):null,d=v.style,U="",N=null,z=!1;if(d==null){console.log("no styles")}var R=S.ar7(v,a),c=S.Ls(v),e=c=="shapeGroup"||c=="shapePath"||c=="rectangle"||c=="oval"||c=="triangle"||c=="polygon",O=["page","artboard","group"].indexOf(c)!=-1;
if(c=="shapeGroup"){for(var Y=0;Y<v.layers.length;Y++)if(S.Ls(v.layers[Y])=="shapeGroup")O=!0}var K=v.exportOptions;
if(K){var _=K.exportFormats;if(_==null)_=K.sizes;if(c!="artboard"&&(_&&_.length!=0)){var Z=_[0].scale}}var H=k.ux();
H.ol(v.isVisible);var G=v.name;if(!(typeof G=="string"))G=c;H.GF(U+G.slice(0,250));if(d!=null)N=S.aC5(n,k,d,g,R,H.getName(),e||c=="artboard"||O);
if(c=="rectangle"&&d&&d.fills&&d.fills[0]){var L=d.fills[0];if(L.fillType==4&&L.patternFillType>1&&L.image!=null)z=!0}if(v.shouldBreakMaskChain){while(D.length!=0)S.amb(D.pop(),k)}if(O){H.add.lsct=v.layerListExpandedType==2?gA.rW:gA.DG;
H.pu="pass";H.HA=24;H.ol(v.isVisible);k.R.push(k.KM());if(c=="artboard"){var p=g.clone(),V=R.Ha();p.x=-Math.floor(R.Dw/V);
p.y=-Math.floor(R.rk/V);p.Q=Math.floor(p.Q/V);p._=Math.floor(p._/V);H.IA(p);var r=v.backgroundColor,y=r?{$:255*r.red,H:255*r.green,J:255*r.blue}:{$:255,H:255,J:255};
H.add.artb.Clr={t:"Objc",v:j.G.pI(y)};H.add.artb.artboardBackgroundType={t:"long",v:4}}S.BC(v.layers,k,R,n,s,C,T)}else if(e&&!z){var W=N!=null&&N.frameFXMulti.v.length==1;
H.add.vmsk=new X.JB;H.add.vstk=fY.Lg.nI(!0,W);var m=d?d.fills:null,f=d?S.aAV(n,m,g,R,H.getName(),k,S.O_(T,v.do_objectID+"_image")):[];
if(f.length==0){if(W)H.add.vstk.fillEnabled.v=!1;else H.add.iOpa=0;H.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.G.pI({$:0,H:0,J:0})}}}else{var h=f[0],b=null,i=null;
if(h.type=="SoFi"){b="SoCo";i=fY.$w}if(h.type=="GrFl"){b="GdFl";i=fY.Ym}if(h.type=="patternFill"){b="PtFl";
i=fY.o3}if(b!=null){H.add[b]={classID:"null"};for(var Y=0;Y<i.length;Y++){var w=i[Y];H.add[b][w]=h.P.v[w]}var J=h.P.v.Opct.v.val;
if(W&&J==0)H.add.vstk.fillEnabled.v=!1;else H.add.iOpa=Math.round(255*J/100)}}H.HA|=16;H.add.vmsk.d=S.t4(v.layers?v.layers:[v],v.layers?R:a);
var q=d?d.blur:null;if(q&&q.isEnabled&&q.type<=1)H.add.vmsk.K4=q.radius;if(H.add.vmsk.d.length==2){console.log("shape with no content:",H.getName())}if(W){var x=N.frameFXMulti.v[0].v,A=H.add.vstk,Q=d.borders[0];
N.frameFXMulti.v=[];hB.agj(x,A);var B=d.borderOptions,l=d.miterLimit;if(B)fY.Lg.write(A,{A6:B.lineCapStyle,P_:B.lineJoinStyle,zZ:B.dashPattern,Ti:l})}H.Bb();
H.Wr(k)}else if(c=="bitmap"||z){if(!z&&v.image==null)continue;var P=z?d.fills[0]:null,F=z?P.image.bdata:v.image.bdata,t=k.MA(F,H.getName(),0,0);
t.HA=H.HA;H=t;var q=d?d.blur:null,b$=d?d.colorControls:null;if(q||b$){H.add.SoLd.filterFX=gJ.mA();k.eD({id:H.add.SoLd.placed.v,rect:new eZ,buffer:j.U(1),u:new X.uC});
var m=H.add.SoLd.filterFX.v.filterFXList.v;if(q){var hd=gJ._b("GsnB",{});hd.v.enab.v=q.isEnabled;hd.v.Fltr.v.Rds.v.val=q.radius;
m.push(hd)}if(b$){var di=b$.brightness,hD=b$.contrast,a$=b$.hue,eJ=b$.saturation;if(a$!=0||eJ!=1){var hd=gJ._b("hue2",{});
hd.v.enab.v=b$.isEnabled;eu.qh(hd.v.Fltr.v,0,[Math.round(a$*180/Math.PI),Math.round((eJ-1)*100),0]);
m.push(hd)}if(di!=0||hD!=1){var hd=gJ._b("brit",{});hd.v.enab.v=b$.isEnabled;hD=hD-1;if(hD>0)hD/=2;var hY=hd.v.Fltr.v;
hY.Brgh.v=Math.round(di*255);hY.Cntr.v=Math.round(hD*255);hY.useLegacy.v=!0;m.push(hd)}}}if(z){var ik=P.patternFillType;
if(ik==3){var fw=H.rect.Q/H.rect._,jb=g.Q/g._;if(fw<jb){R.translate(-(g.Q*(1-fw/jb))/2,0);R.scale(jb/fw,1)}else{R.translate(0,-(g._*(1-jb/fw))/2);
R.scale(1,fw/jb)}}}g.x=g.y=0;var cd=j.X.Eu(g).s;R.Us();j.X.h(cd,R,cd);H.add.SoLd.Trnf=E.nF.D1(cd);H.add.SoLd.nonAffineTransform=E.nF.D1(cd);
H.Bi(k,!1)}else if(c=="text"){if(v.attributedString==null)continue;var dN=R.clone(),kc,ck,iT=0;dN.Us();
dN.M=dN.Jo=Math.min(dN.M,dN.Jo);H.add.lnsr="rend";H.add.TySh=f4.MU(0,0);H.add.TySh.uT=new eZ(0,0,g.Q,g._);
H.add.TySh.h=dN;var b3=v.attributedString;if(b3.archivedAttributedString)b3=b3.archivedAttributedString;
var gS=b3.NSString;if(gS==null)gS=b3.string;if(gS==null)gS="";if(gS["NS.string"])gS=gS["NS.string"];
if(C[v.do_objectID]!=null)gS=C[v.do_objectID];var jF=S.O_(T,v.do_objectID+"_stringValue");if(jF)gS=jF.value;
if(b3.attributes!=null){kc=[];ck=[];var kB=b3.attributes;for(var Y=0;Y<kB.length;Y++){kc.push(kB[Y].length,Y);
ck.push(kB[Y].attributes)}}else if(b3.NSAttributeInfo==null){kc=[gS.length,0];ck=[b3.NSAttributes]}else{kc=b3.NSAttributeInfo["NS.data"];
ck=b3.NSAttributes;kc=dC.a7j(kc,ck)}for(var Y=0;Y<kc.length;Y+=2)iT+=kc[Y];if(iT!=gS.length){while(iT>gS.length){kc[kc.length-2]--;
iT--;if(kc[kc.length-2]==0){kc.pop();kc.pop()}}kc[kc.length-2]+=gS.length-iT}gS=gS.replace(/\u2028/g,"\n");
gS=gS.replace(/\u2029/g,"\n");gS=gS.replace(/\r/g,"\n");var aL=H.add.TySh.RW;f4.lL(aL,0,gS);if(gS!=""){var dw=v.textBehaviour,ka=d.textStyle,cy=ka?ka.verticalAlignment:0,jP=S.a5B(aL,kc,ck,gS),V=dN.Ha(),aA=f4.dm(aL,0,1),b0=0;
if(aA.CX.Font){var d1=aA.JN[aA.CX.Font].Name;if(d1=="FontAwesome"||d1=="Ionicons")jP*=.87}var ag=aA.CX.AutoLeading?0:aA.CX.Leading*.6,kx=Math.max(jP,ag)*V,br=g.Q,ft=g._;
if(dw==0){f4.IC(aL,0);var iv=f4.lq(aA.i9);if(iv==1)b0=br*V;if(iv==2)b0=br*V*.5;if(cy==0)kx*=1;else kx*=.9}else{f4.IC(aL,1);
f4.s7(aL,[0,0,Math.round(br),Math.round(ft)]);if(dw==2&&cy==0)kx=kx*.2;else if(dw==2&&cy==1){kx=V*.5*(ft-aA.CX.FontSize)}else if(dw==1&&cy==0)kx=kx*.2;
else kx=kx*.35}H.add.TySh.h.translate(b0,kx)}}else if(c=="symbolInstance"||c=="symbolMaster"){var k6=v.symbolID;
if(C[v.do_objectID])k6=C[v.do_objectID].symbolID;var ay=S.O_(T,v.do_objectID+"_symbolID");if(ay)k6=ay.value;
if(k6=="")continue;var eT={};for(var w in C)eT[w]=C[w];if(v.overrides)for(var w in v.overrides)eT[w]=v.overrides[w];
var kD=T.slice(0);if(v.overrideValues)kD=kD.concat(v.overrideValues);var cP=s[k6];if(cP==null){console.log("Unknown master master",v.symbolID);
continue}var cU=dC.Zc(cP.iP.frame),gu=cU.Q/g.Q,jd=cU._/g._,i$=R.clone();i$.scale(gu,jd);H.add.lsct=gA.DG;
H.pu="pass";H.HA=24;H.ol(v.isVisible);k.R.push(k.KM());var hT=cP.iP;if(k.VY.indexOf(hT)==-1){k.VY.push(hT);
S.BC(hT.layers,k,i$,n,s,eT,kD);k.VY.pop()}}else if(c=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+c,v);continue}if(d&&d.contextSettings){var jk=d.contextSettings,i1=jk.blendMode;
if(i1<S.py.length){H.pu=aU._B[aU.$k.indexOf(S.py[i1])];if(O&&H.pu=="norm")H.pu="pass"}H.opacity=Math.round(H.opacity*jk.opacity)}if(N!=null){H.add.lmfx=N}k.R.push(H);
if(v.hasClippingMask&&I.length>1){D.push(H);k.R.push(k.KM())}}while(D.length!=0)S.amb(D.pop(),k)};dC.O_=function(I,k){for(var Y=0;
Y<I.length;Y++)if(I[Y].overrideName.startsWith(k))return I[Y]};dC.a7j=function(I,k){var a=0,n=[];while(a+1<I.length){var s=I[a];
a++;if(s>127){s+=128*(I[a]-1);a++;if(I[a-1]>127){s+=128*(I[a]-1);a++}}var C=I[a];a++;n.push(s,C)}return n};
dC.a5B=function(I,k,a,n){var s=dC,C=0,v=0,g=0;for(var Y=0;Y<n.length;Y++){var T=n.charCodeAt(Y),S=1473<=T&&T<=1479||1488<=T&&T<=1514||1520<=T&&T<=1524,D=1569<=T&&T<=1594||1600<=T&&T<=1749;
if(S||D)C++}var o=C>n.length/2;for(var Y=0;Y<k.length;Y+=2){var d=k[Y],H=14,G="DejaVuSans";if(d==0)continue;
var R=k[Y+1],c=a[R],e=f4.dm(I,v,v+d-1),O=c.NSColor;if(O==null){var O=c.MSAttributedStringColorDictionaryAttribute;
if(O==null)O=c.MSAttributedStringColorAttribute;if(O==null)O="0 0 0";else O=[O.red,O.green,O.blue].join(" ")}else if(s.Ls(O)=="MSArchivedColor")O=O.dr+" "+O.dg+" "+O.db;
else if(O.NSRGB){O=O.NSRGB;O=u.x8(O,0,O.length-1)}else if(O.NSCMYK){O=O.NSCMYK;O=u.x8(O,0,O.length-1);
O=O.split(" ").map(parseFloat);var U=1-O[0],K=1-O[1],_=1-O[2],Z=1-O[3];O=U*Z+" "+K*Z+" "+_*Z}else if(O.NSWhite){O="1 1 1"}O=O.split(" ");
e.CX.FillColor={Type:1,Values:[1,parseFloat(O[0]),parseFloat(O[1]),parseFloat(O[2])]};var N=c.MSAttributedStringFontAttribute;
if(c.NSFont){H=c.NSFont.NSSize;G=c.NSFont.NSName}else if(N){if(N.attributes){N=N.attributes;H=N.size;
G=N.name}else{var z=N.NSFontDescriptorAttributes;if(z==null)z=N.UIFontDescriptorAttributes;N=z;H=N.NSFontSizeAttribute;
G=N.NSFontNameAttribute}if(G==null)G="DejaVuSans"}var g=Math.max(g,H);e.CX.FontSize=Math.round(H);f4.YW(e,G);
var L=c.NSKern;if(L==null)L=c.kerning;if(L!=null)e.CX.Tracking=Math.round(1e3*L/H);if(c.NSUnderline!=null)e.CX.Underline=c.NSUnderline>0;
var p=c.NSStrikethrough;if(p==null)p=c.strikethroughStyle;if(p!=null)e.CX.Strikethrough=p>0;if(c.MSAttributedStringTextTransformAttribute==1)e.CX.FontCaps=2;
var V=c.NSParagraphStyle;if(V==null)V=c.paragraphStyle;if(V){var r=V.paragraphSpacing;if(r!=null){e.i9.SpaceAfter=r}var y=V.NSAlignment;
if(y==null)y=V.alignment;if(y!=null){var W=0;if(!1){}else if(y==1)W=1;else if(y==2)W=2;else if(y==4)W=0;
else{W=y;console.log("unknown align",y)}if(o&&W<2)W=1-W;e.i9.Justification=W}var m=V.NSMinLineHeight;
if(m==null)m=V.minimumLineHeight;if(m!=null){e.CX.AutoLeading=!1;e.CX.Leading=m}}e.i9._Direction=o?1:0;
f4.Xy(I,v,v+d,e);v+=d}return g};dC.aC5=function(I,k,a,n,s,C,T){var S=dC,D=JSON.parse(fY.default),o=!1;
for(var Y=0;Y<fY.order.length;Y++)D[fY.zQ[Y]]={t:"VlLs",v:[]};var v=a.fills,g=S.aAV(I,v,n,s,C,k);for(var d=0;
d<2;d++){var R=a[["shadows","innerShadows"][d]];if(R==null)continue;var c=["DrSh","IrSh"][d],e=fY.zQ[fY.order.indexOf(c)];
for(var Y=0;Y<R.length;Y++){var O=R[Y];if(!O.isEnabled)continue;var U=O.contextSettings;if(U&&U.opacity==0||O.color.alpha==0)continue;
var K=JSON.parse(fY.iH[fY.order.indexOf(c)]);D[e].v.unshift({t:"Objc",v:K});o=!0;K.Clr.v=S.rh(O.color);
K.blur.v.val=Math.round(O.blurRadius/s.Ha());var _=s.clone();_.Dw=_.rk=0;_.Us();var Z=_.yt(new kK(O.offsetX,O.offsetY)),H=Math.sqrt(Z.x*Z.x+Z.y*Z.y);
K.Dstn.v.val=Math.round(H);K.lagl.v.val=Math.round(Math.atan2(Z.y,-Z.x)*(180/Math.PI));if(K.layerConceals)K.layerConceals.v=g.length!=0;
S.gl(O,K)}}var G=a.borders;if(G!=null&&(g.length==0||a.blur==null||!a.blur.isEnabled))for(var Y=0;Y<G.length;
Y++){var N=G[Y];if(!N.isEnabled)continue;var K=JSON.parse(fY.iH[fY.order.indexOf("FrFX")]),e=fY.zQ[fY.order.indexOf("FrFX")];
D[e].v.unshift({t:"Objc",v:K});o=!0;K.Clr.v=S.rh(N.color);if(N.fillType!=0&&N.gradient){var z=S.a7q(N.gradient,n,s,C),L=["Type","Angl","Ofst","Scl"];
for(var Y=0;Y<L.length;Y++)K[L[Y]]=z[L[Y]];K.Grad.v=z.Grad.v;K.PntT.v.FrFl="GrFl"}K.Sz.v.val=Math.round(N.thickness/s.Ha());
K.Styl.v.FStl=["CtrF","InsF","OutF"][N.position];S.gl(N,K)}for(var Y=T?1:0;Y<g.length;Y++){var p=g[Y],e=fY.zQ[fY.order.indexOf(p.type)];
D[e].v.unshift(p.P);o=!0}return o?D:null};dC.aAV=function(I,k,a,n,s,C,T){if(k==null)return[];var S=dC,D=[];
for(var Y=0;Y<k.length;Y++)if(k[Y].isEnabled)D.push(k[Y]);k=D;var o=[];for(var Y=0;Y<k.length;Y++){var v=k[Y],g=null,d=null;
if(v.fillType==0){g="SoFi";var R=JSON.parse(fY.iH[fY.order.indexOf("SoFi")]);d={t:"Objc",v:R};d.v.Clr.v=S.rh(v.color)}else if(v.fillType==1){g="GrFl";
d={t:"Objc",v:S.a7q(v.gradient,a,n,s)}}else if(v.fillType==4&&v.image!=null){var c=v.image;if(T)c=T.value;
var e=kk.V1(c.bdata.buffer);if(e=="fpng")e="png";if(e!=null&&e!="pdf"&&e!="eps"){var O,H=0,G=0,N=0;if(C.MI[c.key])O=C.MI[c.key];
else{var U={data:new ArrayBuffer(4),e3:new eZ(0,0,1,1)};try{U=kk.wV(e).Zn(c.bdata)[0]}catch(jL){}O={};
O.id=iJ.I8()+"-d71c-11e5-b1ae-a548a96e5f9f";O.name="someImage";O.ZS=[new Uint8Array(U.data),U.e3];C.r4(O);
C.MI[c.key]=O}var K=O.ZS[1],R=JSON.parse(fY.iH[fY.order.indexOf("patternFill")]);g="patternFill";d={t:"Objc",v:R};
var _=v.patternFillType,Z=v.patternTileScale;R.Algn.v=!0;R.Ptrn.v.Idnt.v=O.id;if(_==0){H=Z*K.Q/Math.min(K.Q,K._);
G=-n.Dw;N=-n.rk}else{H=Math.max(a.Q/K.Q,a._/K._);G=-n.Dw-(K.Q*H-a.Q)/2;N=-n.rk-(K._*H-a._)/2}R.Scl.v.val=100*H*(1/n.Ha());
R.phase.v.Hrzn.v=Math.round(G/n.Ha());R.phase.v.Vrtc.v=Math.round(N/n.Ha())}}else if(v.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",v.fillType);
if(g!=null){S.gl(v,d.v);o.push({type:g,P:d})}}return o};dC.aDR=function(I){var k=dC,a=new eZ(0,0,1,1);
I=I.slice(0);while(!0){var n=!1;for(var Y=0;Y<I.length-1;Y++){var s=I[Y],C=I[Y+1],T=null,S=s.contextSettings;
if(s.fillType==0&&(S==null||S.opacity==1&&S.blendMode==0)&&s.color.alpha==1){var D="norm",o=1,S=C.contextSettings;
if(S){o=S.opacity;D=aU.W$(k.py[S.blendMode])}if(C.fillType==0){T=JSON.parse(JSON.stringify(C));k.adi(T.color,s.color,T.color,a,D,o)}if(C.fillType==1){T=JSON.parse(JSON.stringify(C));
var v=T.gradient.stops;for(var g=0;g<v.length;g++)k.adi(v[g].color,s.color,v[g].color,a,D,o)}if(T!=null&&T.contextSettings){var S=T.contextSettings;
S.opacity=1;S.blendMode=0}}if(T!=null){I.splice(Y,0,T);n=!0;break}}if(!n||I.length<2)break}return I};
dC.adi=function(I,k,a,n,s,C){var T=dC,S=j.U(4);T.aun(I,S);var D=j.U(4);T.aun(k,D);j.z.Pf(s,S,n,D,n,n,C);
T.a5J(D,a)};dC.aun=function(I,k){k[0]=255*I.red;k[1]=255*I.green;k[2]=255*I.blue;k[3]=255*I.alpha};dC.a5J=function(I,k){k.red=I[0]/255;
k.green=I[1]/255;k.blue=I[2]/255;k.alpha=I[3]/255};dC.amb=function(I,k){I=I.clone();I.HA=24;I.GF("Mask by "+I.getName());
k.R.push(I);I.add.lsct=gA.rW;I.add.lyid=k.Kb();delete I.add.lmfx;delete I.add.SoCo;delete I.add.GdFl;
delete I.add.PtFl;delete I.add.iOpa;if(I.add.vmsk)I.add.vmsk.WB=!0;I.Bb();I.Wr(k);if((I.HA&16)==16)I.HA-=16;
if((I.HA&2)==2)I.HA-=2;I.pu="pass";I.opacity=255};dC.py="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
dC.a7q=function(I,k,a,n){a=a.clone();a.Us();a.Dw=a.rk=0;var s=a.Ha(),d=0,R=0;a.scale(1/s,1/s);var C=dC,T=JSON.parse(fY.iH[fY.order.indexOf("GrFl")]),S=T.Grad.v;
S.Intr.v=0;if(I==null)return T;var D=I.gradientType,o=C.IS(I.from),v=C.IS(I.to);o.offset(-.5,-.5);v.offset(-.5,-.5);
o=a.yt(o);v=a.yt(v);var g=Math.atan2(-(v.y-o.y),v.x-o.x);T.Type.v.GrdT=["Lnr","Rdl","Angl"][D];T.Scl.v.val=100*kK.f0(o,v);
if(D==0){T.Angl.v.val=180/Math.PI*g;T.Scl.v.val=100*kK.f0(o,v);d=(o.x+v.x)/2;R=(o.y+v.y)/2}if(D==1){T.Scl.v.val=200*kK.f0(o,v);
d=o.x;R=o.y}if(D==2){T.Angl.v.val=180/Math.PI*(g-Math.PI/2)}var c=T.Ofst.v;c.Hrzn.v.val=d*100;c.Vrtc.v.val=R*100;
var e=[];for(var Y=0;Y<I.stops.length;Y++){var O=I.stops[Y],U=O.color;e.push([O.position,U?[U.red,U.green,U.blue]:[0,0,0],U.alpha])}j.G.gD(e,S);
return T};dC.gl=function(I,k){var a=dC,n=1,s=I.contextSettings;if(s!=null){k.Md.v.BlnM=a.py[s.blendMode];
n*=s.opacity}else k.Md.v.BlnM=a.py[0];k.enab.v=I.isEnabled;if(k.uglg!=null)k.uglg.v=!1;if(I.color!=null)n*=I.color.alpha;
k.Opct.v.val=Math.round(n*100)};dC.rh=function(I){return j.G.pI(I?{$:I.red*255,H:I.green*255,J:I.blue*255}:{$:0,H:0,J:0})};
dC.t4=function(I,k){var a=dC,n=[{type:6},{type:8,all:0}];for(var s=0;s<I.length;s++){var C=I[s],T=C.booleanOperation,S=0,D=C._class,c=!1;
if(D=="group"||D=="text"||D=="symbolInstance"||D=="slice"){console.log(D+" inside ShapeGroup");continue}if(T==-1)S=0;
else if(T==0)S=1;else if(T==1)S=2;else if(T==2)S=3;else if(T==3)S=0;if(s==0)S=1;var o=dC.Zc(C.frame),v=a.ar7(C,k),g=C.path?C.path:C,d=[{type:0,length:0,Np:S,RO:2,Ba:0,yk:0}],R=g.points;
for(var Y=0;Y<R.length;Y++){var e=R[Y],O=a.IS(e.curveTo),U=a.IS(e.point),K=a.IS(e.curveFrom);c=c||e.hasCurveFrom&&!K.a$(U)||e.hasCurveTo&&!O.a$(U)}var _=[];
if(!c){var Z=[],bQ=R.length;if(bQ==0)continue;for(var Y=0;Y<bQ;Y++){_[Y]=R[Y].cornerRadius;var e=a.IS(R[Y].point);
Z.push(e.x,e.y)}v.scale(1/o.Q,1/o._);v.Us();j.X.h(Z,v,Z);d=j.n.uQ.rY(Z,_).slice(2);d[0].Np=S}else{var H=R.length;
d[0].length=H;for(var Y=0;Y<H;Y++){var e=R[Y],G=e.curveMode,N=a.IS(e.point);d[1+Y]={type:G==2||G==4?1:2,VW:e.hasCurveTo?a.IS(e.curveTo):N.clone(),A:N,zK:e.hasCurveFrom?a.IS(e.curveFrom):N.clone()}}v.scale(1/o.Q,1/o._);
v.Us();j.n.de(d,v);var _=[];for(var Y=0;Y<H;Y++){var e=R[Y],G=e.curveMode,z=e.cornerRadius;if(G==1&&z!=0)_.push(z);
else _.push(0)}}if(!g.isClosed)for(var Y=0;Y<d.length;Y++)d[Y].type+=3;n=n.concat(d);var L=a.Ls(C);if(v.J==0&&v.mL==0){var p=v.Dw,V=v.rk,r=p+v.M,y=V+v.Jo,W=[p,V,r,y]}}return n};
dC.ar7=function(I,k){var a=k.clone(),n=I.frame?dC.Zc(I.frame):null;if(n)a.translate(-n.x-n.Q/2,-n.y-n._/2);
if(I.isFlippedHorizontal)a.scale(-1,1);if(I.isFlippedVertical)a.scale(1,-1);a.rotate(-I.rotation*(Math.PI/180));
if(n)a.translate(n.Q/2,n._/2);return a};dC.IS=function(I){I=I.slice(1,I.length-1).split(",");return new kK(parseFloat(I[0]),parseFloat(I[1]))};
dC.Zc=function(I){return new eZ(I.x,I.y,I.width,I.height)};dC.aA1=function(I){return{_class:"rect",constrainProportions:!1,x:I.x,y:I.y,width:I.Q,height:I._}};
function dK(){}dK.SF=function(I,k){var a=Date.now(),n=dK,s=UZIP.parse(I),C=JSON.parse(u.Im(s.manifest)),T=JSON.parse(u.Im(s["resources/graphics/graphicContent.agc"])).resources,S=[],D=[],o=C.children;
for(var Y=0;Y<o.length;Y++){var v=o[Y];if(v.name=="artwork"){var g=v.children;for(var d=0;d<g.length;
d++){var R=g[d],c=JSON.parse(u.Im(s["artwork/"+R.path+"/graphics/graphicContent.agc"])),e=c.children;
if(e.length==0){}else if(e.length==1){if(R["uxdesign#bounds"]){R._node=e[0];S.push(R)}}else{var O=e[0],U=O.transform,K=O.shape;
if(K==null)K={x:0,y:0,width:1e3,height:1e3};if(K.type=="path"){var _=j.X.qP(Typr.U.SVGToPath(K.path).crds);
K={x:_.x,y:_.y,width:_.Q,height:_._}}K=JSON.parse(JSON.stringify(K));if(U){K.x+=U.tx;K.y+=U.ty}R["uxdesign#bounds"]=K;
R._node={type:"artboard",artboard:{children:e}};D.push(R)}}}}if(S.length==0)S=D;var Z=[],H=new eZ;for(var Y=0;
Y<S.length;Y++){var R=S[Y],G=dC.Zc(R["uxdesign#bounds"]);Z.push(G);H=H.oL(G)}var N=dC.TA(H,8192*8192);
k.P5=!0;k.Q=Math.round(H.Q/N);k._=Math.round(H._/N);k.buffer=j.U(k.Q*k._*4);k.vW(S.length);var z=new dc(N,0,0,N,H.x,H.y);
k.MI={};for(var Y=0;Y<S.length;Y++){var R=S[Y],G=dC.Zc(R["uxdesign#bounds"]),L=R._node,p=z.clone(),V=G.clone(),r=p.Ha();
p.translate(-G.x,-G.y);V.x=-Math.floor(p.Dw/r);V.y=-Math.floor(p.rk/r);V.Q=Math.floor(V.Q/r);V._=Math.floor(V._/r);
p.translate(G.x,G.y);dK.j2(L,k,p,T,s,V);var y=k.R[k.R.length-1];y.GF(R.name);y.IA(V);if(Y!=S.length-1)y.add.lsct=gA.DG}delete k.MI};
dK.ru=function(I){if(I==null)return new dc;return new dc(I.a,I.b,I.c,I.d,I.tx,I.ty)};dK.j2=function(I,k,a,n,s,C){var T=dK,S=I.type,D=I[S],o=I.style,v=T.ru(I.transform),c,e="none",O,U="none",K,_;
v.Us();var g=a.clone();g.concat(v);var d=k.ux(),R=I.name;d.GF(R?R.slice(0,250):"Layer");if(I.visible!=null)d.ol(I.visible);
if(o){c=o.stroke;e=c?c.type:"none";O=o.fill;U=O?O.type:"none";if(O&&Object.keys(O).length==1)U="none";
K=o.filters;_=o.clipPath;if(_&&n.clipPaths[_.ref])_=n.clipPaths[_.ref].children;else _=null;if(o.opacity!=null)d.opacity=Math.round(255*o.opacity);
if(U=="solid"&&O.color.alpha)d.opacity=Math.round(d.opacity*O.color.alpha);if(K){d.add.lmfx=T.a3j(K);
for(var Y=0;Y<K.length;Y++)if(K[Y].type=="uxdesign#blur"){var Z=K[Y],H=Z.params,G=H.brightnessAmount;
if(G==null)G=0;G=Math.abs(G/100);if((Z.visible==null||Z.visible==!0)&&H.backgroundEffect)d.opacity=Math.round(d.opacity*(G+(1-G)*H.fillOpacity))}}if(U=="pattern"&&O.pattern.meta.ux.uid=="")U="none"}if(_==null&&I.meta&&I.meta.ux&&I.meta.ux.clipPathResources)_=I.meta.ux.clipPathResources.children;
if(S=="artboard"||S=="group"){if(_){var N=_[0],z=N.shape,L=z!=null&&z.type=="rect"&&z.width*z.height>4e6;
if(N.type!="text"&&!L){if(z){var v=T.ru(N.transform);v.Us();var p=g.clone();p.concat(v);d.add.vmsk=new X.JB;
d.add.vmsk.d=T.t4(z);p=p.clone();p.Us();j.n.de(d.add.vmsk.d,p);d.Bb();d.Wr(k)}}else if(!L)alert("Clipping by text has been ignored")}d.add.lsct=gA.rW;
d.pu="pass";d.HA=24;if(I.visible!=null)d.ol(I.visible);k.R.push(k.KM());var V=D.children,r=O;if(r)r=r.color;
if(r)r=r.value;if(O){if(S=="artboard"&&U=="solid"){d.IA(new eZ(0,0,10,10));d.add.artb.Clr={t:"Objc",v:j.G.pI({$:r.r,H:r.g,J:r.b})};
d.add.artb.artboardBackgroundType={t:"long",v:4}}else{var y=k.ux();y.GF("BACKGROUND");y.HA|=16;y.add.vstk=fY.Lg.nI();
y.add.vmsk=new X.JB;y.add.vmsk.d=T.t4({type:"rect",x:C.x,y:C.y,width:C.Q,height:C._});T.yS(O,U,g,C,C,y,k,n,s);
y.Bb();y.Wr(k);k.R.push(y)}}for(var Y=0;Y<V.length;Y++){dK.j2(V[Y],k,g,n,s,C)}}else if(S=="shape"&&(D.type=="rect"&&(D.r==null||D.r==0)||D.type=="path"&&UDOC.G.isBox(Typr.U.SVGToPath(D.path)))&&U=="pattern"&&(Math.abs(D.width/D.height-O.pattern.width/O.pattern.height)<.01||o.fill.pattern.meta.ux.scaleBehavior=="fill")){var W=O.pattern,m=W.meta.ux,f=m.uid,h=s["resources/"+f];
if(h==null){console.log(W);return}var b=k.MA(h,d.getName(),0,0);b.HA=d.HA;b.opacity=d.opacity;d=b;var i=j.n.oz(T.t4(D),null),w=j.X.Eu(new eZ(0,0,W.width,W.height)).s,J=new dc;
J.scale(W.width/i.Q,W.height/i._);if(m.offsetX)J.translate(-m.offsetX*W.width,0);if(m.offsetY)J.translate(0,-m.offsetY*W.height);
g.concat(J);g.Us();j.X.h(w,g,w);d.add.SoLd.Trnf=E.nF.D1(w);d.add.SoLd.nonAffineTransform=E.nF.D1(w);
d.Bi(k,!1)}else if(S=="shape"){d.HA|=16;d.add.vstk=fY.Lg.nI();d.add.vmsk=new X.JB;d.add.vmsk.d=T.t4(D);
var i=j.n.oz(d.add.vmsk.d,null),p=g.clone();p.Us();j.n.de(d.add.vmsk.d,p);var q=j.n.oz(d.add.vmsk.d,null);
if(e=="none"){}else{var x=c.color.value,A,Q;A="SoFi";var B=JSON.parse(fY.iH[fY.order.indexOf("SoFi")]);
Q={t:"Objc",v:B};Q.v.Clr.v=j.G.pI({$:x.r,H:x.g,J:x.b});var l=c.align,P=c.cap;if(l==null)l="center";var F=d.add.vstk;
F.strokeEnabled.v=!0;F.strokeStyleLineWidth.v.val=c.width;if(l)F.strokeStyleLineAlignment.v.strokeStyleLineAlignment=fY.Lg.Gv[["inside","center","outside"].indexOf(l)];
if(P)F.strokeStyleLineCapType.v.strokeStyleLineCapType=fY.Lg.IB[["butt","round","square"].indexOf(P)];
var t=["SoFi","GrFl","patternFill"].indexOf(A),b$=[fY.$w,fY.Ym,fY.o3][t];F.strokeStyleContent.v={classID:fY.Lg.qo[0]};
var hd=F.strokeStyleContent.v={classID:fY.Lg.qo[t]};for(var Y=0;Y<b$.length;Y++)hd[b$[Y]]=Q.v[b$[Y]]}if(K)for(var Y=0;
Y<K.length;Y++)if(K[Y].type=="uxdesign#blur"&&K[Y].visible){var di=K[Y];d.add.vmsk.K4=di.params.blurAmount}T.yS(O,U,g,i,q,d,k,n,s);
d.Bb();d.Wr(k)}else if(S=="text"&&I.text){var hD=I.text,a$=hD.frame,eJ=o.font,ik=o.textAttributes,v=g.clone(),b3=0;
v.Us();d.add.lnsr="rend";d.add.TySh=f4.MU(0,0);d.add.TySh.uT=new eZ(0,0,100,100);d.add.TySh.h=v;var fw=d.add.TySh.RW,cd=hD.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
f4.lL(fw,0,cd);if(cd!=""){var dN=f4.dm(fw,0,1),kc=eJ.postscriptName;if(kc==null)kc=eJ.family;f4.YW(dN,kc);
dN.CX.FontSize=Math.round(eJ.size);if(U=="solid"){var x=O.color.value;dN.CX.FillColor={Type:1,Values:[1,x.r/255,x.g/255,x.b/255]}}if(ik){if(ik.paragraphAlign)dN.i9.Justification=["left","right","center"].indexOf(ik.paragraphAlign);
if(ik.letterSpacing)dN.CX.Tracking=Math.round(ik.letterSpacing);if(ik.lineHeight){dN.CX.AutoLeading=!1;
dN.CX.Leading=Math.round(ik.lineHeight)}}f4.Xy(fw,0,cd.length,dN)}var ck=I.meta.ux.rangedStyles;if(ck)for(var Y=0;
Y<ck.length;Y++){var D=ck[Y],gS=Math.min(D.length,cd.length-b3);if(Y==ck.length-1)gS=cd.length-b3;var dN=f4.dm(fw,b3,b3+gS),kc=D.postscriptName;
if(kc==null)kc=D.family;if(kc!=null)f4.YW(dN,kc);var jF=D.textScript,kB=D.underline,jw=D.fontSize,Z=D.fill,iT=D.textTransform;
if(jF&&jF!="none")dN.CX.FontBaseline=jF=="superscript"?1:2;if(kB!=null)dN.CX.Underline=kB;if(jw!=null)dN.CX.FontSize=Math.round(jw);
if(iT!=null)dN.CX.FontCaps=iT=="uppercase"?2:0;if(iT=="lowercase"){f4.Mw(fw,b3,b3+gS);f4.lL(fw,b3,cd.slice(b3,b3+gS).toLowerCase())}if(Z!=null){var gY=Z.value;
dN.CX.FillColor={Type:1,Values:[1,(gY>>>16&255)/255,(gY>>>8&255)/255,(gY>>>0&255)/255]}}f4.Xy(fw,b3,b3+gS,dN);
b3+=gS}if(a$.type=="area"||a$.type=="autoHeight"){var aL=a$.width,dw=a$.height;f4.IC(fw,1);f4.s7(fw,[0,0,aL,dw!=null?dw:aL*2])}}else if(S=="syncRef"){var ka=I.syncSourceGuid,cy=n.meta.ux.symbols,jP=T.$I(cy,ka);
if(jP){var aA=g.clone();aA.concat(T.ru(jP.transform));dK.j2(jP,k,aA,n,s,C)}return}else console.log(S,I);
k.R.push(d)};dK.$I=function(I,k){for(var Y=0;Y<I.length;Y++){var a=I[Y],n=a.group;if(a.id==k)return a;
if(n){var s=dK.$I(n.children,k);if(s)return s}}return null};dK.t4=function(I){var k=I.type,a=[{type:6},{type:8,all:0}];
if(k=="rect"){var n=I.r,s=I.x,C=I.y,T=I.width,S=I.height;a=j.n.uQ.Rect(s,C,T,S,n?n:0)}else if(k=="circle"){var n=I.r;
a=j.n.uQ.hO(I.cx-n,I.cy-n,2*n,2*n)}else if(k=="ellipse"){var D=I.rx,o=I.ry;a=j.n.uQ.hO(I.cx-D,I.cy-o,2*D,2*o)}else if(k=="path"||k=="compound"){var v=Typr.U.SVGToPath(I.path);
a=j.X.ep({m:v.cmds,s:v.crds},!1)}else if(k=="line"){var g=I.x1,d=I.x2,R=I.y1,c=I.y2;a=j.n.uQ.rY([g,R,d,c],0,!0)}else if(k=="polygon"){var e=I.points,O=[];
for(var Y=0;Y<e.length;Y++)O.push(e[Y].x,e[Y].y);a=a.concat(j.n.uQ.rY(O,0,!1).slice(2))}else console.log(k,I);
return a};dK.a3j=function(I){var k=JSON.parse(fY.default);for(var Y=0;Y<fY.order.length;Y++)k[fY.zQ[Y]]={t:"VlLs",v:[]};
for(var Y=0;Y<I.length;Y++){var a=I[Y],n=a.type,s=a.params,C=a.visible;if(n=="dropShadow"){var T=fY.zQ[fY.order.indexOf("DrSh")],S=JSON.parse(fY.iH[fY.order.indexOf("DrSh")]);
k[T].v.unshift({t:"Objc",v:S});var D=s.dropShadows;if(D.length!=1)throw"e";var o=D[0],v=o.color,g=v.value,d=o.dx,R=o.dy;
S.Clr.v=j.G.pI({$:g.r,H:g.g,J:g.b});S.Opct.v.val=Math.round((v.alpha!=null?v.alpha:1)*100);S.uglg.v=!1;
S.enab.v=C!=null?C:!0;S.lagl.v.val=Math.round(180/Math.PI*Math.atan2(R,-d));S.Dstn.v.val=Math.round(Math.sqrt(d*d+R*R));
S.blur.v.val=Math.round(o.r*2.3)}}return k};dK.yS=function(I,k,a,n,s,C,T,S,D){var o=dK;C.add.vstk.fillEnabled.v=k!="none";
if(k=="none"){C.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.G.pI({$:0,H:0,J:0})}}}else{var v,g,d;if(k=="solid"){var R=I.color.value;
v="SoCo";g=fY.$w;var c=JSON.parse(fY.iH[fY.order.indexOf("SoFi")]);d={t:"Objc",v:c};d.v.Clr.v=j.G.pI({$:R.r,H:R.g,J:R.b})}else if(k=="gradient"){v="GdFl";
g=fY.Ym;var c=JSON.parse(fY.iH[fY.order.indexOf("GrFl")]),e=c.Grad.v,Z,H,G;e.Intr.v=0;var O=I[k],U=O.ref?S.gradients[O.ref]:O.meta.ux.gradientResources,K=["linear","radial","angular"].indexOf(U.type),_=U.stops;
c.Type.v.GrdT=["Lnr","Rdl","Angl"][K];if(K==0){var Z=new kK(O.x1,O.y1),H=new kK(O.x2,O.y2);Z.x=H.x+.5*(Z.x-H.x);
Z.y=H.y+.5*(Z.y-H.y)}else{var Z=new kK(O.cx,O.cy),H=new kK(O.cx+O.r,O.cy)}G=s;if(O.units=="objectBoundingBox"){var N=new dc(n.Q,0,0,n._,n.x,n.y);
Z=N.yt(Z);H=N.yt(H)}var N=o.ru(O.transform);Z=N.yt(Z);H=N.yt(H);N=a.clone();N.Us();Z=N.yt(Z);H=N.yt(H);
j.G.hP(Z,H,G,c);var z=[];for(var Y=0;Y<_.length;Y++){var L=_[Y],p=L.color,R=p.value,V=p.alpha;if(V==null)V=1;
z.push([L.offset,[R.r/255,R.g/255,R.b/255],V])}j.G.gD(z,e);d={t:"Objc",v:c}}else if(k=="pattern"){v="PtFl";
g=fY.o3;var c=JSON.parse(fY.iH[fY.order.indexOf("patternFill")]),w;d={t:"Objc",v:c};var r=I[k],y=r.meta.ux,W=y.uid,m=D["resources/"+W].buffer,f=y.flipX,h=y.flipY,b=W+f+h,i=kk.V1(m);
if(T.MI[b])w=T.MI[b];else{var J=new eZ(0,0,r.width,r.height),q;if(J.KH()||i==null){J=new eZ(0,0,1,1);
q=new ArrayBuffer(4)}else{var x=kk.wV(i);if(x.di){var A=new iJ;x.Zn(m,A);q=A.TB().buffer}else{try{var Q=x.Zn(m)[0];
q=Q.data;J=Q.e3}catch(jL){q=new ArrayBuffer(J.c()*4)}}}w={};w.id=iJ.I8()+"-d71c-11e5-b1ae-a548a96e5f9f";
w.name="someImage";w.ZS=[new Uint8Array(q),J];if(f)j.t.ON(w.ZS[0].slice(0),w.ZS[0],J.Q,J._);if(h)j.t.arl(w.ZS[0].slice(0),w.ZS[0],J.Q,J._);
T.r4(w);T.MI[b]=w}var B=a.clone();B.Us();B.translate(n.x,n.y);var l=n.Q,P=n._,F=w.ZS[1].Q,t=w.ZS[1]._,b$=Math.max(l/F,P/t);
if(y.scale)b$*=y.scale;var hd=new dc;hd.translate(-F/2,-t/2);hd.scale(1/F,1/t);if(y.offsetX!=null)hd.translate(y.offsetX,y.offsetY);
hd.scale(F,t);hd.scale(b$,b$);hd.translate(l/2,P/2);hd.concat(B);hB.aop(w,c,0,0,1e3,hd)}else console.log(k);
if(v!=null){C.add[v]={classID:"null"};for(var Y=0;Y<g.length;Y++){var di=g[Y];C.add[v][di]=d.v[di]}}}};
var av=function(){function I(O){return O.tagName?O.tagName.split(":").pop():null}function k(O,U,K){if(K&&K[0]==null)K=null;
O=new Uint8Array(O);var _,i=1;if(O[0]==255&&O[1]==254)_=u.SB(O,2,(O.length>>>1)-1);else _=u.Im(O,0,O.length);
var Z=new DOMParser,H=Z.parseFromString(_,"image/svg+xml"),G=H.getElementsByTagName("style")[0];if(G)G=Typr.U.SVG.cssMap(G.textContent);
else G={};var N=H.firstChild;while(I(N)!="svg")N=N.nextSibling;var z=new eZ(0,0,100,100),L=N.getAttribute("viewBox"),p=N.getAttribute("width"),V=N.getAttribute("height"),r=p!=null?parseFloat(p):parseFloat(V),y=V!=null?parseFloat(V):parseFloat(p);
if(L){var W=a(L);z.x=W[0];z.y=W[1];z.Q=W[2];z._=W[3];if(p!=null){var m=W[2]/W[3],f=r/y;if(f>m){var h=W[3]*f-z.Q;
z.x-=h/2;z.Q+=h}if(f<m){var b=W[2]/f-z._;z.y-=b/2;z._+=b}}}else if(p!=null||V!=null){z.Q=r;z._=y}z=j.X.aj(z);
while(K&&Math.max(z.Q*i,z._*i)<Math.max(K[0],K[1]))i++;while(K==null&&Math.max(z.Q,z._)*i>8192)i*=.5;
U.P5=!0;U.Q=~~(z.Q*i);U._=~~(z._*i);var w=new dc(i,0,0,i,-z.x*i,-z.y*i),J={ov:g(N),apX:G,hc:0};n(H,N.children,U,w,J,new dc,0);
if(U.R.length==0){var q=U.ux();q.GF("Layer");U.R.push(q)}}function a(O){var U=" ";if(O.indexOf(",")!=-1)U=",";
return O.split(U).map(parseFloat)}function n(O,U,K,_,Z,H,G,N){var z=["display","opacity","fill-opacity","filter","clip-path"],L=0;
for(var p=0;p<U.length;p++){var V=U[p],r=I(V),y=V.getAttribute("id"),f=13,J=1,A="clip-path",Q=null,hD=0;
if(y==null)y=V.getAttribute("data-name");var W=g(V,Z.apX);for(var m in Z.ov)if(z.indexOf(m)==-1&&W[m]==null)W[m]=Z.ov[m];
if(W["font-size"])f=T(W["font-size"],f);if(V.getAttribute("dx"))_.Dw+=T(V.getAttribute("dx"),f);if(V.getAttribute("dy"))_.rk+=T(V.getAttribute("dy"),f);
var h=D(V);h.concat(_);var b=V.getAttribute("visibility"),i=W.display,w=K.ux();if(b=="hidden"||i=="none")w.ol(!1);
w.GF(y!=null?y.split(":::")[0]:"Layer");if(W.opacity)J*=parseFloat(W.opacity);if(W["fill-opacity"]){var q=parseFloat(W["fill-opacity"]);
if(q!=0)J*=q}w.opacity=Math.round(255*J);if(W["mix-blend-mode"]){var x=aU.BS.indexOf(W["mix-blend-mode"]);
if(x!=-1)w.pu=aU._B[x]}if(V.getAttribute(A)==null)A="mask";if(V.getAttribute(A)!=null||W["clip-path"]){var B=V.getAttribute(A);
if(B==null)B=W["clip-path"];B=B.slice(4,B.length-1);var l=O.getElementById(B.slice(1));if(l){var P=l.children;
Q=K.ux();Q.GF("Clip-Path"+(y?": "+y:""));Q.add.lsct=G<2?gA.rW:gA.DG;Q.pu="pass";Q.HA=24;var F=Q.add.vmsk=new X.JB;
K.R.push(K.KM());var t=[];if(l.getAttribute(A)){var B=l.getAttribute(A);B=B.slice(4,B.length-1);t=O.getElementById(B.slice(1)).children}for(var Y=0;
Y<P.length;Y++){var b$=D(P[Y]);b$.concat(h);var hd=C(K,O,P[Y],!1).slice(2);j.n.de(hd,b$);F.d=F.d.concat(hd)}for(var Y=0;
Y<t.length;Y++){var b$=D(P[Y]);b$.concat(h);var hd=C(K,O,t[Y],!1).slice(2);for(var di=0;di<hd.length;
di++)if(hd[Y].Np!=null)hd[Y].Np=3;j.n.de(hd,b$);F.d=F.d.concat(hd)}for(var Y=0;Y<F.d.length;Y++)if(F.d[Y].Np!=null)F.d[Y].Np=0;
Q.Bb();Q.Wr();G++}}if(W.filter&&W.filter!="none"){var a$=W.filter,hY,ik,fw,cd=!1,dN=!1,kc=!1;a$=a$.slice(5,a$.length-1);
var eJ=O.getElementById(a$),jb=[0,0,0,.5],ck=h.Ha();if(eJ)for(var Y=0;Y<eJ.children.length;Y++){var b3=eJ.children[Y],hL=I(b3);
if(hL=="feGaussianBlur"){cd=!0;hY=parseFloat(b3.getAttribute("stdDeviation"))*ck}if(hL=="feColorMatrix"){var gS=b3.getAttribute("values");
if(gS){gS=gS.split(" ").map(parseFloat);jb=[gS[4],gS[9],gS[14],gS[18]]}}if(hL=="feComposite"){kc=!0}if(hL=="feOffset"){dN=!0;
var jF=b3.getAttribute("dx"),kB=b3.getAttribute("dy");ik=parseFloat(jF?jF:0)*ck;fw=parseFloat(kB?kB:0)*ck}}if(cd&&(kc||dN)){var jw=kc?"IrSh":"DrSh";
if(jw=="IrSh"){w.add.iOpa=0}var iT=JSON.parse(fY.iH[fY.order.indexOf(jw)]);iT.blur.v.val=Math.round(hY*2.4);
var gY=Math.sqrt(ik*ik+fw*fw);iT.uglg.v=!1;iT.Dstn.v.val=Math.round(gY);iT.lagl.v.val=Math.round(Math.atan2(fw,-ik)*(180/Math.PI));
iT.Clr.v=j.G.pI({$:jb[0]*255,H:jb[1]*255,J:jb[2]*255});iT.Opct.v.val=Math.round(jb[3]*100);s(w,fY.zQ[fY.order.indexOf(jw)],iT)}else if(cd)hD=hY}if(r=="g"||r=="a"||r=="svg"||r=="switch"||(r=="text"||r=="textPath")&&V.children.length>0||r=="symbol"&&N){if(r=="text")H=o(V,H);
var aL=V.getAttribute("viewBox"),dw=V.getAttribute("width"),ka=V.getAttribute("height");if(r=="svg"&&dw&&ka&&aL==null)aL="0 0 "+dw+" "+ka;
if(aL&&dw&&ka){var cy=a(aL),jP=o(V),aA=new dc;aA.translate(-cy[0],-cy[1]);aA.scale(parseFloat(dw)/cy[2],parseFloat(ka)/cy[3]);
aA.translate(jP.Dw,jP.rk);aA.concat(h);h=aA}var d1=V.children.length,ag=Z.ov;Z.ov=W;var b0=Z.hc;Z.hc=Math.max(Z.hc,hD);
var kx=r!="text"&&r!="textPath"||d1>1;if(kx){var br=w.K7();w.add.lsct=G<2&&br&&(y==null||!y.endsWith(":::"))?gA.rW:gA.DG;
w.pu="pass";w.HA=24;w.ol(br);K.R.push(K.KM())}n(O,V.children,K,h,Z,H,G+1);if(kx)K.R.push(w);else{var ft=K.R[K.R.length-1];
ft.opacity=w.opacity;ft.pu=w.pu}Z.hc=b0;Z.ov=ag}else if(r=="use"){var aA=o(V);aA.concat(h);var iv=R(V),k6=O.getElementById(iv.slice(1));
if(k6){var ag=Z.ov;Z.ov=W;if(W.filter)k6.setAttribute("filter",W.filter);n(O,[k6],K,aA,Z,H,G+1,!0);Z.ov=ag}}else if(r=="path"||r=="rect"||r=="circle"||r=="ellipse"||r=="polygon"||r=="polyline"||r=="line"){w.HA|=16;
var F=w.add.vmsk=new X.JB,ay=W.fill,eT=ay=="none"||W["fill-opacity"]&&parseFloat(W["fill-opacity"])==0,kD=W["fill-rule"]=="evenodd"?1:0;
F.d=C(K,O,V,kD==1,eT);F.Np=kD;j.n.de(F.d,h);var cP=W.stroke,cU=W["stroke-width"],gu=W["stroke-dasharray"],jd=W["stroke-linejoin"];
if(jd==null)jd="miter";var i$=W["stroke-linecap"];if(i$==null)i$="butt";var hT=W["stroke-miterlimit"];
if(hT==null)hT=4;else hT=parseFloat(hT);var jk=W["paint-order"],i1=!(cP==null||cP=="none"||cP=="null"),aZ=w.add.vstk=fY.Lg.nI(null,i1);
if(i1){var az=S(O,cP,h,F.d,K),hM=["SoFi","GrFl","patternFill"].indexOf(az.type),ku=az.P.v.Opct.v,j$=1;
if(ku.val!=100){w.opacity=Math.round(w.opacity*ku.val/100);ku.val=100}var dM=[fY.$w,fY.Ym,fY.o3][hM],fb=aZ.strokeStyleContent.v={classID:fY.Lg.qo[hM]};
for(var Y=0;Y<dM.length;Y++)fb[dM[Y]]=az.P.v[dM[Y]];cU=cU?parseFloat(cU):1;if(jk&&jk.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){j$=2;
cU/=2}var e0={P_:["miter","round","bevel"].indexOf(jd),A6:["butt","round","square"].indexOf(i$),YX:cU,Ti:hT};
if(gu!=null&&gu!="none")e0.zZ=gu.split(",").map(parseFloat);fY.Lg.write(aZ,e0,h.Ha());aZ.strokeStyleLineAlignment.v.strokeStyleLineAlignment=fY.Lg.Gv[j$];
aZ.strokeStyleOpacity.v.val=100*(W["stroke-opacity"]?parseFloat(W["stroke-opacity"]):1);if(az.Bv)w.add._sstl=az.Bv}w.add.vstk.fillEnabled.v=!eT;
if(eT){w.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.G.pI({$:0,H:0,J:0})}}}else{var az=S(O,ay,h,F.d,K),ff=null,dm=null;
if(az.type=="SoFi"){ff="SoCo";dm=fY.$w}if(az.type=="GrFl"){ff="GdFl";dm=fY.Ym}if(az.type=="patternFill"){ff="PtFl";
dm=fY.o3}if(ff!=null){var ku=az.P.v.Opct.v;if(ku.val!=100){w.opacity=Math.round(w.opacity*ku.val/100);
ku.val=100}w.add[ff]={classID:"null"};for(var Y=0;Y<dm.length;Y++){var m=dm[Y];w.add[ff][m]=az.P.v[m]}}if(az.Bv)w.add._fstl=az.Bv}var dX=Math.max(hD,Z.hc);
if(dX!=0)w.add.vmsk.K4=dX;w.Bb();w.Wr(K);K.R.push(w)}else if((r=="text"||r=="tspan")&&V.textContent!=""){H=o(V,H);
var aA=H.clone(),fw=0;aA.concat(h);aA.translate(L,0);if(V.children.length>0){var il=g(V.children[0],Z.apX);
for(var m in il)if(z.indexOf(m)==-1)W[m]=il[m]}var j1=W["xml:space"],c5=V.textContent;if(j1=="preserve")c5=c5.replace(/\t/g," ").replace(/\n/g," ");
if(y==null)w.GF(c5);w.add.lnsr="rend";w.add.TySh=f4.MU(0,0);w.add.TySh.uT=new eZ(0,0,100,100);w.add.TySh.h=aA.clone();
var iE=w.add.TySh.RW;f4.lL(iE,0,c5);if(r=="tspan")L+=f*c5.length*.5*aA.Ha();var ay=W.fill,f6=W["font-weight"],fP=W["font-family"],jE=W["text-decoration"],cP=W.stroke,cU=W["stroke-width"],iQ=W["dominant-baseline"];
if(iQ=="text-before-edge")fw=f;else if(iQ=="middle")fw=f/2;else if(iQ=="hanging")fw=f;if(fw!=0)w.add.TySh.h.translate(0,fw);
var j8=f4.dm(iE,0,1);if(ay&&ay!="none"){var jb=CSS.rh(ay);j8.CX.FillColor={Type:1,Values:[1,jb.$/255,jb.H/255,jb.J/255]}}if(jE=="underline")j8.CX.Underline=!0;
j8.CX.FontSize=Math.round(f);f4.YW(j8,"LiberationSans");if(f6=="bold")f4.YW(j8,"LiberationSans-Bold");
if(fP){fP=fP.split(",")[0].trim();if(fP[0]=="\"")fP=fP.slice(1);if(fP[fP.length-1]=="\"")fP=fP.slice(0,fP.length-1);
var bs=fP+":"+(f6?f6:"normal"),e6={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(e6[bs])f4.YW(j8,e6[bs]);else f4.YW(j8,fP)}if(W["text-anchor"])j8.i9.Justification=["start","end","middle"].indexOf(W["text-anchor"]);
f4.Xy(iE,0,c5.length,j8);if(cP==null||cP=="none"){}else{var iT=JSON.parse(fY.iH[fY.order.indexOf("FrFX")]);
iT.Clr.v=j.G.pI(CSS.rh(cP));iT.Sz.v.val=Math.round(parseFloat(cU)*aA.Ha());s(w,"frameFXMulti",iT)}K.R.push(w)}else if(r=="image"){var iv=R(V);
if(iv&&iv.slice(0,4)=="data"){var c$=kk.Yt(iv),ba=c$,jc=K.MA(ba,w.getName(),0,0);jc.HA=w.HA;w=jc;var kD=w.rect.clone();
kD.x=kD.y=0;var aC=V.getAttribute("width"),eQ=V.getAttribute("height");if(aC)kD.Q=parseFloat(aC);if(eQ)kD._=parseFloat(eQ);
var aR=o(V);aR.concat(h);var b2=j.X.Eu(kD).s;j.X.h(b2,aR,b2);w.add.SoLd.Trnf=E.nF.D1(b2);w.add.SoLd.nonAffineTransform=E.nF.D1(b2);
w.Bi(K,!1);K.R.push(w)}}else console.log("unknown tag: "+r,V.children.length,V.textContent.length);if(Q!=null){K.R.push(Q);
G--}}}function s(O,U,K){var _=O.add.lmfx;if(_==null){var _=O.add.lmfx=JSON.parse(fY.default);for(var Y=0;
Y<fY.order.length;Y++)_[fY.zQ[Y]]={t:"VlLs",v:[]}}_[U].v.push({t:"Objc",v:K})}function C(O,U,K,_,Z){var H=[{type:6},{type:8,all:0}],G=I(K);
if(G=="use"){var N=R(K),z=U.getElementById(N.slice(1)),L=new dc;if(I(z)!="rect")L=o(z);L.concat(D(z));
H=C(O,U,z,_,Z);j.n.de(H,L)}else if(G=="path"){var p=K.getAttribute("d");if(p==null)return H;var V=Typr.U.SVGToPath(p);
H=j.X.ep({s:V.crds,m:V.cmds},_,Z)}else if(G=="rect"){var r=K.getAttribute("rx"),y=new kK(0,0);c("x",K,O,y,!0);
c("y",K,O,y,!1);var W=new kK(0,0);c("width",K,O,W,!0);c("height",K,O,W,!1);H=j.n.uQ.Rect(y.x,y.y,W.x,W.y,r?parseFloat(r):0)}else if(G=="circle"||G=="ellipse"){var m=[0,0,0,0],f=["cx","cy","rx","ry","r"];
for(var Y=0;Y<5;Y++){var h=K.getAttribute(f[Y]);if(h){h=parseFloat(h);if(Y<4)m[Y]=h;else m[2]=m[3]=h}}H=j.n.uQ.hO(m[0]-m[2],m[1]-m[3],2*m[2],2*m[3])}else if(G=="polygon"||G=="polyline"||G=="line"){var b;
if(G=="line")b=[K.getAttribute("x1"),K.getAttribute("y1"),K.getAttribute("x2"),K.getAttribute("y2")].map(parseFloat);
else b=K.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
H=j.n.uQ.rY(b,0,G!="polygon")}return H}function T(O,U){if(O.charAt(O.length-1)=="m")return U*parseFloat(O.slice(0,O.length-2));
else return parseFloat(O)}function S(O,U,K,_,Z){var H,G,N,z=JSON.parse(fY.iH[fY.order.indexOf("SoFi")]),L=j.n.oz(_),p=U!=null?U.indexOf("("):-1;
if(p!=-1){var V=U.indexOf(")"),r=U.slice(0,p).trim(),y=U.slice(p+1,V).trim();if(y.charAt(0)=="'")y=y.slice(1,y.length-1);
if(r=="url"){if(y.charAt(0)=="#"){var W=O.getElementById(y.slice(1));if(W&&I(W).toLowerCase().endsWith("gradient")){N=e(O,W,K,L,_);
var m=cp.Y5(N,_);H="GrFl";G={t:"Objc",v:m}}else if(W&&I(W).toLowerCase()=="pattern"&&W.children[0]&&I(W.children[0])=="use"){H="SoFi";
G={t:"Objc",v:z};var f=W.children[0],h=D(f),b=R(f),i=O.getElementById(b.slice(1)),w=kk.Yt(R(i)).buffer,J=kk.wV(kk.V1(w)),q=J.Zn(w)[0],x={};
x.id=iJ.I8()+"-d71c-11e5-b1ae-a548a96e5f9f";x.name="someImage";x.ZS=[new Uint8Array(q.data),q.e3];Z.r4(x);
var z=JSON.parse(fY.iH[fY.order.indexOf("patternFill")]);z.Scl.v.val=Math.round(100*L.Q*h.M);var A=z.phase.v;
A.Hrzn.v=Math.round(L.x+h.Dw*L.Q);A.Vrtc.v=Math.round(L.y+h.rk*L._);z.Ptrn.v.Idnt.v=x.id;H="patternFill";
G={t:"Objc",v:z}}else{H="SoFi";G={t:"Objc",v:z}}}else console.log("unknown url",y)}else if(r=="rgb"||r=="rgba"||r=="hsla"){H="SoFi";
G={t:"Objc",v:z};G.v.Clr.v=j.G.pI(CSS.rh(U));if(r=="rgba"||r=="hsla")G.v.Opct.v.val=Math.round(100*parseFloat(U.split(",").pop()))}else console.log("unknown fill",U)}else{H="SoFi";
G={t:"Objc",v:z};var Q=CSS.rh(U);G.v.Clr.v=j.G.pI(Q);if(Q.M!=null)G.v.Opct.v.val=Math.round(100*Q.M/255)}return{type:H,P:G,Bv:N}}function D(O){var U=new dc,K=O.getAttribute("transform");
if(K)U=v(K);var _=O.getAttribute("style");if(_!=null){var Z={};d(Z,_,["transform"]);_=Z.transform;if(_)U.concat(v(_))}return U}function o(O,U){var K=new dc,_=O.getAttribute("x"),Z=O.getAttribute("y");
if(_)K.Dw=parseFloat(_);else if(U)K.Dw=U.Dw;if(Z)K.rk=parseFloat(Z);else if(U)K.rk=U.rk;return K}function v(O){var U=Typr.U.SVG.readTrnf(O);
return new dc(U[0],U[1],U[2],U[3],U[4],U[5])}function g(O,U){var K={},_="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap stroke-miterlimit font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order clip-path mix-blend-mode xml:space".split(" ");
for(var Y=0;Y<_.length;Y++){var Z=O.getAttribute(_[Y]);if(Z!=null&&Z!="inherit")K[_[Y]]=Z}var H=O.getAttribute("class");
if(U!=null&&H!=null&&U["."+H]!=null)d(K,U["."+H],_);var G=O.getAttribute("id");if(U!=null&&G!=null&&U["#"+G]!=null)d(K,U["#"+G],_);
var N=O.getAttribute("style");if(N!=null)d(K,N,_);return K}function d(O,U,K){U=U.trim().split(";");for(var Y=0;
Y<U.length;Y++){var _=U[Y].split(":"),Z=_[0]?_[0].trim():"",H=_[1]?_[1].trim():"";for(var G=0;G<K.length;
G++)if(Z==K[G]&&H!="inherit")O[K[G]]=H}}function R(O){var U=O.getAttribute("xlink:href");if(U==null)U=O.getAttribute("href");
if(U==null)U=O.getAttribute("xl:href");return U}function c(O,U,K,_,Z){var H=U.getAttribute(O);if(H==null)return;
var G=parseFloat(H);if(H.endsWith("%"))G*=(Z?K.Q:K._)/100;if(Z)_.x=G;else _.y=G}function e(O,U,K,_,Z){var H=c,G=new dc,N=U.getAttribute("gradientTransform"),y=!1;
if(N)G=v(N);G.concat(K);var z=I(U)=="linearGradient"?0:1,L=new kK(0,0),p=new kK(_.Q,0),V=L.clone();if(z==0){var r=new eZ(0,0,1,1);
H("x1",U,r,L,!0);H("y1",U,r,L,!1);H("x2",U,r,p,!0);H("y2",U,r,p,!1);V.dZ(L.x,L.y)}if(z==1){if(U.getAttribute("cx"))L.x=parseFloat(U.getAttribute("cx"));
if(U.getAttribute("cy"))L.y=parseFloat(U.getAttribute("cy"));p.dZ(L.x,L.y);V.dZ(L.x,L.y);if(U.getAttribute("r"))p.x+=parseFloat(U.getAttribute("r"));
if(U.getAttribute("fx"))V.x=parseFloat(U.getAttribute("fx"));if(U.getAttribute("fy"))V.y=parseFloat(U.getAttribute("fy"))}var W=U;
while(!0){if(W.getAttribute("gradientUnits")=="userSpaceOnUse")y=!0;var m=R(W);if(m==null)break;W=O.getElementById(m.slice(1))}if(!y)G=new dc(_.Q,0,0,_._,_.x,_.y);
G=cp.yq(L,p,G);var f=cp.Wu(z,G,Z);cp.B4(f,L,p,V);var h=U.children,b=f[1]=[];if(h.length==0){var i=R(U);
if(i==null)throw"gradient has no stops";var w=O.getElementById(i.slice(1));if(w==null){console.log(i.slice(1))}else b=f[1]=e(O,w,G,_,Z)[1]}else for(var Y=0;
Y<h.length;Y++){var J=h[Y],q=g(J),x=q["stop-color"],A=q["stop-opacity"],Q=J.getAttribute("offset");if(x==null)x="#000000";
A=A==null?1:parseFloat(A);var B=Q?parseFloat(Q):0;if(Q&&Q.endsWith("%"))B/=100;x=CSS.rh(x);if(x.M!=null)A*=x.M/255;
b.push([B,[x.$/255,x.H/255,x.J/255],parseFloat(A),.5])}return f}return{SF:k}}();av.TZ=function(){var I=null,k="",a="",n;
function s(L,p,V,r){var y=[],h=" { ",b=" } ",i=!1;I=p;a=p.i1?"":"\t";k=p.i1?"":" ";var W=p.a6_,m=p.aup;
n=ht==0?new eZ(0,0,L.Q,L._):L.W_();if(r!=null){n=L.root.children[r].o.OR();W=n.Q;m=n._}y.push("<svg version=\"1.2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\""+[n.x,n.y,n.Q,n._].join(" ")+"\" width=\""+W+"\" height=\""+m+"\">");
if(!p.i1)y.push(C(1)+"<title>"+K(L.name.split(".")[0])+"</title>");var f={xl:[],PJ:[],cz:0,qZ:0,fb:0,ay:{},IG:{},SX:0,Fm:{},a9_:{},LB:0,IE:[]};
c(L,f,L.root.children,1,p,V,r);if(f.xl.length!=0){y.push(C(1)+"<defs>");y=y.concat(f.xl);y.push(C(1)+"</defs>")}y.push(C(1)+"<style>");
if(p.i1){h="{";b="}"}for(var Y=0;Y<L.R.length;Y++)if(L.R[Y].add.TySh)i=!0;if(i&&!p.a3R&&!p.agC)y.push(C(2)+"tspan"+h+"white-space:pre"+b);
for(var w in f.Fm)y.push(C(2)+"."+w+h+f.Fm[w]+b);y.push(C(1)+"</style>");y=y.concat(f.PJ);y.push("</svg>");
y=y.join(p.i1?"":"\n");return u.ba(y)}function C(bQ){var L="";for(var Y=0;Y<bQ;Y++)L+=a;return L}function T(bQ,L){if(L==null)L=1;
var p=""+parseFloat(bQ.toFixed(L));if(p.startsWith("0."))p=p.slice(1);return p}function S(L,p){var V=L.add.lmfx;
if(V)V=V[p].v[0];if(V)V=V.v;if(V&&!V.enab.v)V=null;return V}function D(L,p){var V=S(L,"frameFXMulti");
if(V){var r=V.Sz.v.val;if(V.Styl.v.FStl=="OutF"){p.push("paint-order:stroke fill markers");r*=2}R(p,CSS.np(V.Clr.v),1);
if(r!=1)p.push("stroke-width: "+r);p.push("stroke-linejoin: round;")}}var o="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
function v(L){var p=o.length,V="";for(var r=1;r<10;r++){var y=(p-10)*~~Math.pow(p,r-1);if(L<y){for(var Y=0;
Y<r;Y++){var W=Y==r-1?10:0,m=p-W,f=L%m;V=o[f+W]+V;L=Math.floor((L-f)/m)}break}L-=y}return V}function g(L,p,V,r){if(L.length!=0){if(r==null)r="s";
var y=L.join(";"),W=p.a9_[y];if(W==null){W=I.i1?v(p.LB):r+p.LB;p.LB++;p.a9_[y]=W;p.Fm[W]=y}if(V)V.push(W);
return W}}function d(L){if(I.i1&&L.length==7&&L[0]=="#"){if(L[1]==L[2]&&L[3]==L[4]&&L[5]==L[6])L="#"+L[1]+L[3]+L[5]}return L}function R(L,p,V){p=d(p);
if(p!="#000"||V==1)L.push((V==0?"fill:":"stroke:")+k+p)}function c(L,p,V,r,y,W,m){var f=!1;for(var h=0;
h<V.length;h++){var b=V[h].o,i=b.add.lsct;if(b.kb)continue;if(b.add.artb&&m!=null&&h!=m)continue;if(!b.Pi&&V[h+1]&&V[h+1].o.Pi&&b.wc()&&b.add.vmsk){var w=[];
Z(b,b.add.vmsk,p,w);p.PJ.push(C(r)+"<g "+w[0]+">");r++;f=!0}else if(!b.Pi&&V[h-1]&&V[h-1].o.Pi&&f){r--;
p.PJ.push(C(r)+"</g>");f=!1}var J=b.add.vmsk,q=b.add.vogk,x=b.add.vstk,A=b.add.TySh;if(J&&!J.isEnabled)J=x=null;
var Q=[];if(!y.hidden&&!b.K7())continue;var B=b.opacity/255,l=b.add.iOpa?b.add.iOpa/255:1;if(b.hd()){B*=l;
l=1}if(B!=1)Q.push("opacity:"+k+T(B));if(l!=1)Q.push("fill-opacity:"+k+T(l));if(b.pu!="norm"){var P=aU.BS[aU._B.indexOf(b.pu)];
if(P!=null)Q.push("mix-blend-mode:"+k+P)}if(!b.K7())Q.push("display:"+k+"none");var w=[],F=[],t=b.getName(),b$=t.indexOf(" .");
if(!y.i1)w.push("id=\""+K(t)+"\"");var hd=hB.au7(b.add.lmfx,b.add),di=hd[0],hD=hd[1],a$=b.add.SoLd;if(a$&&a$.filterFX){var eJ=a$.filterFX.v;
if(eJ.enab.v&&eJ.filterFXList.v.length!=0)a$=null}if(b.hd()){var hY=V[h].children;if(hY.length==1&&hY[0].o.add.SoLd&&!y.fa){}else{var ik=J,fw=hY.length==0?null:hY[hY.length-1].o;
if(ht==1&&fw&&fw.kb&&fw.K7())ik=fw.add.vmsk;Z(b,ik,p,w);if(Q.length!=0)w.push("style=\""+Q.join(";")+"\"");
if(di){var cd=CSS.np(di.Clr.v),dN="f"+p.qZ;p.qZ++;p.PJ.push(C(r)+"<filter id=\""+dN+"\">");p.PJ.push(C(r+1)+"<feFlood flood-color=\""+cd+"\" flood-opacity=\""+T(di.Opct.v.val/100,2)+"\" />");
p.PJ.push(C(r+1)+"<feBlend mode=\""+aU.BS[aU._B.indexOf(aU.W$(di.Md.v.BlnM))]+"\" in2=\"SourceGraphic\"/>");
p.PJ.push(C(r+1)+"<feComposite in2=\"SourceAlpha\" operator=\"in\" />");p.PJ.push(C(r)+"</filter>");
w.push("filter=\"url(#"+dN+")\"")}var kc=U(w,F),ck=y.i1&&kc=="";if(!ck)p.PJ.push(C(r)+"<g"+(kc==""?"":" "+kc)+">");
c(L,p,hY,r+1,y,W);if(!ck)p.PJ.push(C(r)+"</g>")}}else if(b.wc()&&J==null){H(L,Q,b.add,p,n,y);if(Q.length!=0)w.push("style=\""+Q.join(";")+"\"");
p.PJ.push(C(r)+"<rect width=\""+n.Q+"\" height=\""+n._+"\" "+U(w,F)+"/>")}else if(J&&a$==null){H(L,Q,b.add,p,aB,y,J.d);
g(Q,p,F);var b3,hL=null,gS=0,jF;if(q.length!=0){b3=q[0].v;hL=b3.keyOriginType;if(hL)hL=hL.v;if(hL==2){var kB=j.Z_.Ub(b3);
gS=kB[0];for(var Y=0;Y<3;Y++)if(gS!=kB[Y+1])hL=null}}if(q.length==1&&hL==5&&Math.abs(j.Z_.a4w(b3))<1e-4){var jw=j.Z_.nX(b3),iT=(jw[0]+jw[2])/2,gY=(jw[1]+jw[3])/2,aL=iT-jw[0],dw=gY-jw[1],ka=Math.abs(aL-dw)<.01,cy=ka?"r=\""+T(aL)+"\"":"rx=\""+T(aL)+"\" ry=\""+T(dw)+"\"";
jF="<"+(ka?"circle":"ellipse")+" "+U(w,F)+" cx=\""+T(iT)+"\" cy=\""+T(gY)+"\" "+cy+"/>"}else if(q.length==1&&hL==2&&gS!=0&&Math.abs(j.Z_.a4w(b3))<1e-4){var jw=j.Z_.nX(b3),jP=jw[0],aA=jw[1],d1=jw[2]-jw[0],ag=jw[3]-jw[1],b0="";
if(jP!=0)b0+=" x=\""+T(jP)+"\"";if(aA!=0)b0+=" y=\""+T(aA)+"\"";b0+=" width=\""+T(d1)+"\"";b0+=" height=\""+T(ag)+"\"";
b0+=" rx=\""+T(gS)+"\"";jF="<rect "+U(w,F)+b0+"></rect>"}else{var kx,br;if(ht==0){var ft=j.n.wD(J.d,1);
kx=ft.RK;br=ft.kE}else{var iv=j.X.wb(J.d);kx=Typr.U.pathToSVG({crds:iv.s,cmds:iv.m},1);br=J.Np}if(br!=0){w.push("fill-rule=\"evenodd\"")}jF="<path "+U(w,F)+" d=\""+kx+"\"/>"}p.PJ.push(C(r)+jF)}else if(A&&y.a3R){k=y.i1?"":" ";
var k6=A.RW,ay=new d_(k6,W,A.Mz),eT=null;if(di)eT=CSS.np(di.Clr.v);if(hD){var jw=b.rect.clone();z(hD,p,jw,y);
eT="url(#g"+p.cz+")"}if(eT)Q.push("fill:"+k+eT);D(b,Q);var iv=jW.sE(ay,A,!0),kD=j.X.aZ(iv);for(var cP in kD){var cU=Q.slice(0),gu=F.slice(0),jd=w.slice(0);
if(eT==null){R(cU,cP.slice(0,7),0);if(cP.length>7){var i$=jW.axt(cP.slice(7));R(cU,N(i$.mx),1);G(i$,cU,!0)}}g(cU,p,gu);
var hT=kD[cP],jk=Typr.U.pathToSVG({crds:hT.s,cmds:hT.m},1);p.PJ.push(C(r)+"<path "+U(jd,gu)+(y.i1?"":" "+O(A))+" d=\""+jk+"\"/>")}}else if(A&&!y.agC){var k6=A.RW,i1=A.h.clone(),eT=null;
Q.push("transform:"+k+_(i1));var aZ=f4.iZ(k6),ay=new d_(k6,W,A.Mz);D(b,Q);if(Q.length!=0)w.push("style=\""+Q.join(";")+"\"");
p.PJ.push(C(r)+"<text "+U(w,F)+" >");if(di)eT=CSS.np(di.Clr.v);if(hD){var jw=b.rect.clone();jw.x-=i1.Dw;
jw.y-=i1.rk;z(hD,p,jw,y);eT=" url(#g"+p.cz+")"}for(var Y=0;Y<ay.i9.length;Y++){var az=ay.i9[Y];if(az.ZQ.length==1&&az.ZQ[0].TK)continue;
for(var hM=0;hM<az.Mn.length;hM++){var ku=az.Mn[hM],gY=az.Of.y+ku.Of.y,dM=az.ZQ[ku.start].start,fb=az.ZQ[ku.end-1].end,j$=f4.a2$(k6,dM,fb),e0="";
for(var ff=0;ff<j$.length;ff++){var dm=ay.b4(dM),dX=j$[ff],il=f4.dm(k6,dM,dM),j1=il.JN[il.CX.Font].Name,cP=f4.GW(il.CX.FillColor),c5=Math.round(il.CX.FontSize),iE=aZ.slice(dM,dM+dX);
if(il.CX.FontCaps==2)iE=iE.toUpperCase();var f6=new dc;f6.translate(dm.Sq.x,-gY);var fP=[];CSS.aF7(fP,il,null,!0,!0,eT);
var jE=g(fP,p,null,"t");jE=jE?" class=\""+jE+"\"":"";var iT=dm.Sq.x,iQ=e(il,iE);e0+="<tspan "+(ff==0?"x=\""+T(dm.Sq.x)+"\"":"")+" y=\""+T(gY)+"\""+jE+iQ+">"+K(iE)+"</tspan>";
dM+=dX}p.PJ.push(C(r+1)+e0)}}p.PJ.push(C(r)+"</text>")}else if(a$&&y.fa&&di==null){var dN=a$.Idnt.v,j8=0,bs=a$.Crop?a$.Crop.v:null;
if(p.IG[dN]!=null)j8=p.IG[dN];else{p.SX++;j8=p.SX;p.IG[dN]=p.SX;var e6=L.pK(dN,bs),jc="";if(e6==null)return;
var c$=e6.IV,ba=kk.V1(e6.raw.buffer);if(ba=="pdf"){var aC=new iJ("h");kk.wV("PDF").Zn(e6.raw.buffer,aC);
aC.N_();aC.B2();aC.V();aC.pa();if(a$.Crop&&a$.Crop.v==1){E.Zo.OX(aC,aC.root.GT(aC,!0))}var eQ=kk.wV("SVG").G0(aC,aC.Q,aC._,null,{IE:W});
jc="data:image/svg+xml;base64,"+kk.Tk(eQ)}else if(ba=="jpg"||ba=="png"||ba=="gif"||ba=="svg"){var aR={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
jc="data:"+aR[ba]+";base64,"+kk.Tk(e6.raw.buffer)}else{jc=kk.$U(c$[0].buffer,c$[1].Q,c$[1]._)}p.xl.push(C(2)+"<image width=\""+c$[1].Q+"\" height=\""+c$[1]._+"\" id=\"img"+j8+"\" href=\""+jc+"\"/>")}var b2=j.t.HJ(a$),dH=[];
Z(b,J,p,dH);if(dH.length!=0)p.PJ.push(C(r)+"<g "+U(dH,F)+">");if(Q.length!=0)w.push("style=\""+Q.join(";")+"\"");
var gZ=U(w,F);p.PJ.push(C(r)+"<use "+gZ+" href=\"#img"+j8+"\" transform=\""+_(b2)+"\"/>");if(dH.length!=0)p.PJ.push(C(r)+"</g>")}else if(!b.rect.KH()&&(y.fa||A)){if(Q.length!=0)w.push("style=\""+Q.join(";")+"\"");
var gZ=U(w,F),fq=b.buffer;if(di)fq=hB.apn(fq,di,b.rect);var br=b.rect;p.SX++;var jc=kk.$U(fq.buffer,br.Q,br._,"png",null,!0);
p.xl.push(C(2)+"<image "+O(A)+" width=\""+b.rect.Q+"\" height=\""+b.rect._+"\" id=\"img"+p.SX+"\" href=\""+jc+"\"/>");
p.PJ.push(C(r)+"<use "+gZ+" href=\"#img"+p.SX+"\" x=\""+br.x+"\" y=\""+br.y+"\"/>")}}if(f){r--;p.PJ.push(C(r)+"</g>");
f=!1}}function e(L,p){var V=L.CX.Tracking,r="";if(V!=null&&V!=0){V=Math.round(V*L.CX.FontSize/1e3);r=" dx=\"0";
for(var y=1;y<p.length;y++)r+=" "+V;r+="\" "}return r}function O(L){if(L==null)return"";var p=L.RW,V=f4.iZ(p);
V=K(V.slice(0,V.length-1));return"aria-label=\""+V+"\" "}function U(L,p){if(p.length!=0)L.push("class=\""+p.join(" ")+"\"");
return L.join(" ")}function K(L){return String(L).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")}function _(L){var p=[L.M,L.J,L.mL,L.Jo,L.Dw,L.rk];
for(var Y=0;Y<6;Y++)p[Y]=T(p[Y],3);return"matrix("+p.join(",")+")"}function Z(L,p,V,r){if(p||L.add.artb){var y;
if(p)y=j.n.wD(p.d).RK;else{var W=L.OR(),m=j.X.Eu(W);y=Typr.U.pathToSVG({crds:m.s,cmds:m.m},1)}V.fb++;
r.push("clip-path=\"url(#cp"+V.fb+")\"");V.xl.push(C(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+V.fb+"\">");
V.xl.push(C(3)+"<path d=\""+y+"\"/>");V.xl.push(C(2)+"</clipPath>")}}function H(L,p,V,r,y,W,m){var f=V.vmsk,h=V.lmfx,b=[];
if(f&&f.K4!=0){var i=T(f.K4);if(r.ay[i]==null){r.qZ++;r.ay[i]=r.qZ;r.xl.push(C(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+r.qZ+"\"> <feGaussianBlur stdDeviation=\""+i+"\"/> </filter>")}b.push("url(#f"+r.ay[i]+")")}if(h)for(var Y=0;
Y<fY.order.length;Y++){var w=fY.order[Y],J=fY.zQ[Y],q=h[J].v;for(var x=0;x<q.length;x++){var A=q[x].v,Q=A.classID;
if(!A.enab.v)continue;if(Q=="OrGl"||Q=="DrSh"){r.qZ++;b.push("url(#f"+r.qZ+")");var B=0,l=0,P=A.blur.v.val/2.4,F=A.Opct.v.val/100;
if(Q=="DrSh"){var t=A.uglg&&A.uglg.v?L.hh():A.lagl.v.val;t=t*(Math.PI/180);var b$=A.Dstn.v.val;B=-Math.cos(t)*b$;
l=Math.sin(t)*b$}if(Q=="OrGl")F/=A.Inpr.v.val/100;var hd="<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+r.qZ+"\" >";
hd+="<feDropShadow dx=\""+B+"\" dy=\""+l+"\" stdDeviation=\""+P+"\" flood-color=\""+CSS.np(A.Clr.v)+"\" flood-opacity=\""+T(F)+"\"/>";
hd+="</filter>";r.xl.push(C(2)+hd)}}}if(b.length!=0)p.push("filter:"+k+b.join(" "));var di=V.vstl;if(di==null)di=iJ.qM(V,L);
for(var Y=0;Y<2;Y++){var hD=Y==0?di.Bv:di.mx;if(hD.length==0){if(Y==0)p.push("fill:"+k+"none")}else if(hD.length==3)R(p,N(hD),Y);
else{z(hD,r,y,W,m);R(p,"url(#g"+r.cz+")",Y)}}if(di.mx.length!=0){G(di,p)}}function G(L,p,V){var r=L.A6,y=L.P_,W=L.YX,m=L.x9,f=L.zZ;
if(m==2){if(!V)W*=2;p.push("paint-order:stroke fill markers")}if(r!=0)p.push("stroke-linecap:"+k+["butt","round","square"][r]);
if(y!=0)p.push("stroke-linejoin:"+k+["miter","round","bevel"][y]);else if(L.Ti!=4)p.push("stroke-miterlimit:"+L.Ti);
if(W!=1)p.push("stroke-width:"+k+T(W));if(f.length!=0)p.push("stroke-dasharray:"+k+f.join(","))}function N(L){return CSS.zB({$:L[0]*255,H:L[1]*255,J:L[2]*255})}function z(L,p,V,r,y){if(y==null)y=j.n.uQ.Rect(V.x,V.y,V.Q,V._);
if(!(L instanceof Array))L=cp.Ey(L,y);p.cz++;var W=L[0],m=(W==1?"radial":"linear")+"Gradient",f=C(2)+"<"+m+" id=\"g"+p.cz+"\"",h="";
if(r.i1){if(p.cz==1)p.xl.push("<linearGradient id=\"P\" gradientUnits=\"userSpaceOnUse\"/>");h=" href=\"#P\""}else h=" gradientUnits=\"userSpaceOnUse\"";
var b=cp.EL(L,y),i=[new kK(0,0),new kK(1,0)];h+=" gradientTransform=\""+_(b)+"\"";var w=r.i1?2:3;if(W==0)p.xl.push(f+" x2=\"1\""+h+">");
if(W==1){if(L[2][6]!=0){var J=L[2][5]*Math.PI/180,q=L[2][6];p.xl.push(f+" cx=\"0\" cy=\"0\" r=\"1\" fx=\""+T(Math.cos(J)*q,w)+"\" fy=\""+T(-Math.sin(J)*q,w)+"\""+h+">")}else p.xl.push(f+" cx=\"0\" cy=\"0\" r=\"1\""+h+">")}var x=L[1];
for(var Y=0;Y<x.length;Y++){var A=x[Y],Q=A[0],B=A[1],l=A[2];l=l==1?"":" stop-opacity=\""+T(l,w)+"\"";
var P=Q==0&&r.i1?"":" offset=\""+T(Q,w)+"\"",F=N(B);F=r.i1&&F=="#000000"?"":" stop-color=\""+d(F)+"\"";
p.xl.push(C(3)+"<stop"+P+F+l+"/>")}p.xl.push(C(2)+"</"+m+">")}av.Vw=_;return s}();av.uQ=function(I,k,a,n,s){var C=[],T=av.uQ,S=!1,D={Qq:I,L4:k,Ih:[!0,!0,!0],bG:!1,uN:a,aju:0};
D.U$=Math.round(Math.max(I,k)*(.02+T.y8(D)*.03));D.UF=T.aa9(D);D.As=T.apO(D.UF,(T.y8(D)<.5?-1:1)*(.2+T.y8(D)*.3));
if(T.y8(D)<.5){var o=D.UF;D.UF=D.As;D.As=o}D.ar0=T.y8(D)<.4&&T.ac9(D.As,{$:1,H:1,J:1})>.3;D.apx=T.y8(D)<.5?0:1;
C.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+I+" "+k+"\" width=\""+I+"\" height=\""+k+"\">");
D.p$=n[Math.floor(T.dW(D)*n.length)];D.vl=n[Math.floor(T.dW(D)*n.length)];C.push("<style>");C.push("@font-face {  font-family: "+D.p$[2]+";  src: url("+bU.Wn("rsrc/fonts/")+D.p$[5]+");  }");
C.push("@font-face {  font-family: "+D.vl[2]+";  src: url("+bU.Wn("rsrc/fonts/")+D.vl[5]+");  }");C.push("</style>");
var v=[0,0,I,k],g=v;if(s==null)C.push("<path style=\"fill: "+T.br(D.UF)+"\" d=\""+T.Rect(v[0],v[1],v[2]-v[0],v[3]-v[1])+"\" id=\"Background\" />");
else{D.bG=!0;T.acd(D,v,C,s)}if(T.y8(D)<.25&&!D.bG){D.Ih[0]=D.Ih[2]=!1;T.aaC(v,D,C);g=v}else if(T.y8(D)<.25||D.bG)g=v;
else{var d=.52+T.y8(D)*.2;if(T.y8(D)<.5)d=1-d;var R=v.slice(0),c=v.slice(0);if(T.y8(D)<.5)R[2]=c[0]=Math.round(d*I);
else R[3]=c[1]=Math.round(d*k);if(T.y8(D)<.5){var o=R;R=c;c=o}g=R;T.aiO(D,c,C,s)}T.apo(D,g,C);C.push("</svg>");
C=C.join("\n");var e=j.U(Math.round(C.length*1.5)),O=u.oN(C,e,0);return[e.buffer.slice(0,O),D.eY]};av.uQ.aaC=function(I,k,a){var n=av.uQ,s=I[2]-I[0],C=I[3]-I[1];
if(n.y8(k)<.5){a.push("<path id=\"Border\" style=\"fill: "+n.br(k.As)+"\" d=\""+n.a1j(I[0],I[1],I[2]-I[0],I[3]-I[1],k.U$)+"\" />")}else if(n.y8(k)<-.4){n.awE(k,I,a)}else{var T=n.y8(k)<.5?0:1,S=(T==0?C:s)/4,D=n.cf(k,T,I,a,S,!0),D=n.cf(k,T+2,I,a,S,!0,D)}};
av.uQ.apo=function(I,k,a){var n=av.uQ,s="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),C=2*Math.floor(n.y8(I)*s.length/2),T=k[2]-k[0],S=k[3]-k[1],o=0,g=0;
I.v6=(I.Qq+T)*.5*(.04+n.y8(I)*.05);I.v6=Math.min(I.v6,S*.4,T*.12);I.v6=Math.round(I.v6);var D=Math.min(I.v6*s[C].length*(.35+.3*n.y8(I)),T*.9),v=(k[1]+k[3])/2,d=j.BZ(I.UF)<.85?{$:1,H:1,J:1}:{$:.1,H:.1,J:.1};
if(n.y8(I)<.25&&I.Ih[0]){g=0;o=k[0]+I.U$}else if(n.y8(I)<.33&&I.Ih[2]){g=2;o=k[2]-I.U$}else{g=1;o=(k[0]+k[2])/2}var R=d.$==1?"0,0,0":"255,255,255",c=I.bG&&n.y8(I)<1;
if(c){var e=k[0],O=T,U=v-I.v6*1.1,K=I.v6*2.2,_=.7;if(g==1&&n.y8(I)<.5){e=U=.2*Math.min(T,S);O=T-2*U;
K=S-U-U}else if(n.y8(I)<.7){e=U=0;O=T;K=S;_=.25}a.push("<path id=\"Strip\" style=\"fill: rgb("+R+"); opacity: "+_+"\" d=\""+n.Rect(e,U,O,K)+"\" />")}if(n.y8(I)<.4){var Z=I.v6*.07;
Z*=1.5+n.y8(I)*1;if(g==-1&&T/S<3&&!c){a.push("<path id=\"Bar-bottom\" style=\"fill: "+n.br(d)+"\" d=\""+n.Rect(o-D/2,v+I.v6*1.1-Z/2,D,Z)+"\" />");
a.push("<path id=\"Bar-top\"    style=\"fill: "+n.br(d)+"\" d=\""+n.Rect(o-D/2,v-I.v6*1.1-Z/2,D,Z)+"\" />")}if(g!=1){a.push("<path id=\"Bar\" style=\"fill: "+n.br(d)+"\" d=\""+n.Rect(o-Z/2,v-I.v6*.8,Z,I.v6*.8*2)+"\" />");
o+=(g==0?1:-1)*I.v6/3}}var H=I.v6*.4;a.push(n.a6t(s[C+1],o,v+H*1.6,H,d,g,I.vl));a.push(n.a6t(s[C],o,v+I.v6*.04,I.v6,d,g,I.p$))};
av.uQ.aiO=function(I,k,a,n){var s=k[2]-k[0],C=k[3]-k[1],T=Math.max(s,C),S=Math.min(s,C),D=av.uQ;if(T/S<5&&!I.bG&&!1){D.acd(I,k,a,n)}else if(D.y8(I)<0)a.push("<path style=\"fill: "+D.br(I.As)+"\" d=\""+D.Rect(k[0],k[1],s,C)+"\" />");
else{var o=0;if(k[3]!=I.L4)o=0;if(k[2]!=I.Qq)o=3;if(k[0]!=0)o=1;if(k[1]!=0)o=2;var v=o+2&3;if(T/S<3){var g=D.adX(v),d=g[Math.round(D.y8(I)*(g.length-1))],R=d.h2.slice(0,4),c=R.indexOf(1);
d=JSON.parse(JSON.stringify(d));var e=-1;if(R!="0000"){var O=new dc;if(d.h2[5]=="0"){if(c==3&&o==1){e=1;
O.scale(-1,1)}else e=c}else{var U=v;while(U==v)U=Math.floor(D.y8(I)*4)&3;O.rotate((-c+U)*Math.PI/2)}D.h(d,O)}var K=D.TO(d),_=s-2*I.U$,Z=C-2*I.U$;
if(e!=-1){if((e&1)==0)Z-=I.U$;else _-=I.U$}var H=Math.min(_/K.Q,Z/K._),G=new dc;G.translate(-K.x,-K.y);
G.scale(H,H);var N=(s-K.Q*H)/2,z=(C-K._*H)/2;if(e!=-1){if(e==3)N=0;if(e==0)z=0;if(e==1)N=s-K.Q*H;if(e==2)z=C-K._*H}G.translate(k[0]+N,k[1]+z);
D.WX(I,d,G,I.As,a)}else{D.cf(I,o,k,a,1e9)}}};av.uQ.acd=function(I,k,a,n){var s=k[2]-k[0],C=k[3]-k[1],T=Math.max(s,C),S=Math.min(s,C),D=av.uQ,o=D.dW(I),v,g,d,R=n[0]instanceof ArrayBuffer;
if(R){v="data:image/jpg;base64,"+ji.V_(n[0]);g=n[1];d=n[2]}else{var c=Math.floor(o*n.length),e=n[c];
I.eY=e;v=e.webformatURL;g=e.webformatWidth;d=e.webformatHeight}var O=k[0],U=k[1],K=s,_=C;if(s/C>g/d){_=K*d/g;
U=U-(_-C)/2}else{K=_*g/d;O=O-(K-s)/2}if(R){a.push("<defs>");a.push("<image width=\""+g+"\" height=\""+d+"\" id=\"Background\" href=\""+v+"\" />");
a.push("</defs>");var Z=K/g;a.push("<use href=\"#Background\" transform=\""+av.Vw(new dc(Z,0,0,Z,O,U))+"\" />")}else{var H="cp"+Math.random();
a.push("<clipPath id=\""+H+"\">");a.push("<path style=\"fill: "+D.br(I.As)+"\" d=\""+D.Rect(k[0],k[1],s,C)+"\" />");
a.push("</clipPath>");a.push("<image  clip-path=\"url(#"+H+")\" xlink:href=\""+v+"\" x=\""+O+"\" y=\""+U+"\" width=\""+K+"\" height=\""+_+"\" />")}};
av.uQ.a6t=function(I,k,a,n,s,C,T){var S=av.uQ;return"<text x=\""+k+"\" y=\""+a+"\" style=\"fill:"+S.br(s)+"; font-size:"+n+"px; text-anchor:"+["start","middle","end"][C]+"; font-family:"+T[2]+";\"><tspan>"+I+"</tspan></text>"};
av.uQ.WX=function(I,k,a,n,s){var C=av.uQ,T=[];for(var Y=0;Y<k.Ma.length;Y++){T.push(n);if(I.ar0){n=(Y&1)==I.apx?{$:1,H:1,J:1}:T[0]}}s.push("<g id=\""+k.h2.split("-")[2]+":::\" style=\"transform: "+av.Vw(a)+";\" >");
for(var Y=0;Y<k.Ma.length;Y++){var S=k.Ma[Y];n=T.pop();s.push("<path style=\"fill: "+(n?C.br(n):"#"+S[0])+"\" d=\""+Typr.U.pathToSVG({crds:S[1].s,cmds:S[1].m})+"\" />")}s.push("</g>")};
av.uQ.awE=function(I,k,a){var n=av.uQ,s=av.uQ.Bq,C=[];for(var Y=0;Y<s.length;Y++){var T=s[Y],S=T.h2.slice(0,4);
if(S!="1001")continue;C.push(T)}var T=C[Math.floor(n.y8(I)*C.length)];if(n.y8(I)<.5)n.h(T,new dc(0,1,1,0,0,0));
var D=k[3]-k[1],o=k[2]-k[0],v=n.TO(T),g=.7*Math.min(o,D,.5*Math.max(o,D))/Math.max(v.Q,v._),d=new dc;
d.scale(g,g);if(n.y8(I)<.5){d.scale(1,-1);d.translate(0,D)}n.WX(I,T,d,I.As,a);d.rotate(Math.PI);d.translate(o,D);
n.WX(I,T,d,I.As,a)};av.uQ.adX=function(I){var k=av.uQ.Bq,a=[];for(var Y=0;Y<k.length;Y++){var n=k[Y],s=n.h2.slice(0,4);
if(s=="0000"){a.push(n);continue}if(["1000","0100","0010","0001"].indexOf(s)==-1)continue;var C=s.indexOf("1");
if(n.h2[5]=="0"&&I==C&&C!=3)continue;a.push(n)}return a};av.uQ.cf=function(I,k,a,n,s,C,T){var S=av.uQ.Bq,D=av.uQ,o=[],K,_;
for(var Y=0;Y<S.length;Y++){var v=S[Y],g=v.h2.slice(0,4);if(["1110","1101","1011","0111"].indexOf(g)==-1)continue;
var d=g.indexOf("0")+2&3;if(v.h2[5]=="0")if(C==!0||k!=d&&!(k==1&&d==3))continue;o.push(v)}var R=T!=null?T:Math.floor(D.y8(I)*o.length),v=o[R],v=JSON.parse(JSON.stringify(v)),g=v.h2.slice(0,4),d=g.indexOf("0")+2&3;
if(d==3&&k==1)j.h(v,new dc(1,0,0,-1,0,1e3));var c=new dc;c.translate(-500,-500);c.rotate(-d*Math.PI/2);
c.translate(500,500);D.h(v,c);var e=a[3]-a[1],O=a[2]-a[0],U=D.TO(v);if(U.y<0){U._+=U.y;U.y=0}if(U.y>0){U._+=U.y;
U.y=0}if((k&1)==0){_=e;K=O}else{K=e;_=O}var Z=Math.min(Math.min(.5+.5*D.y8(I))*Math.min(O,e),s)/U._,H=Math.ceil(K/(1e3*Z)),G=new dc,N=new dc;
N.scale(Z,Z);if(k==0||k==2){N.translate(-(O/2),-(e/2));N.rotate(-k*Math.PI/2);N.translate(O/2+a[0],e/2+a[1])}else{N.rotate(Math.PI/2);
N.scale(1,-1);N.translate(a[0],a[1]);if(k==1){N.scale(-1,1);N.translate(O,0)}}n.push("<g id=\"Border-"+["top","right","bottom","left"][k]+":::\">");
for(var Y=0;Y<H;Y++){var z=G.clone();z.concat(N);D.WX(I,v,z,I.As,n);G.translate(1e3-2,0)}n.push("</g>");
return R};av.uQ.Rect=function(I,k,a,n){return Typr.U.pathToSVG({crds:[I,k,I+a,k,I+a,k+n,I,k+n],cmds:["M","L","L","L","Z"]})};
av.uQ.a1j=function(I,k,a,n,s){var C=[I,k,I+a,k,I+a,k+n,I,k+n];I+=s;k+=s;a-=2*s;n-=2*s;C.push(I,k,I,k+n,I+a,k+n,I+a,k);
return Typr.U.pathToSVG({crds:C,cmds:"M L L L Z M L L L Z".split(" ")})};av.uQ.apO=function(I,k){var a=j.LG(I.$,I.H,I.J);
a.El=Math.max(.1,Math.min(.9,a.El+k));return j.No(a.L4,a.Yl,a.El)};av.uQ.a8J=function(I,k){var a=j.LG(I.$,I.H,I.J);
a.L4+=k;return j.No(a.L4,a.Yl,a.El)};av.uQ.axW=function(I){var k=j.LG(I.$,I.H,I.J);k.El=1-k.El;return j.No(k.L4,k.Yl,k.El)};
av.uQ.ac9=function(I,k){var a=I.$-k.$,n=I.H-k.H,s=I.J-k.J;return Math.sqrt(a*a+n*n+s*s)};av.uQ.aa9=function(I){var k=av.uQ;
return{$:k.y8(I),H:k.y8(I),J:k.y8(I)}};av.uQ.br=function(I){return CSS.zB({$:I.$*255,H:I.H*255,J:I.J*255})};
av.uQ.TO=function(I){var k=I.Ma,a=new eZ;for(var Y=0;Y<k.length;Y++)a=a.oL(j.X.TO(k[Y][1].s));return a};
av.uQ.h=function(I,k){var a=I.Ma;for(var Y=0;Y<a.length;Y++)j.X.h(a[Y][1].s,k,a[Y][1].s)};av.uQ.y8=function(I){I.aju++;
var k=I.aju&3;if(k==0)I.uN=av.uQ.n8(I.uN);var a=I.uN>>>8*k&255;return a*(.99999999/255)};av.uQ.dW=function(I){var k=av.uQ.n8(I.uN);
I.uN=av.uQ.n8(k);return k*(1/4294967295)};av.uQ.n8=function(I){I=(I^61^I>>>16)>>>0;I=I+(I<<3)>>>0;I=(I^I>>>4)>>>0;
I=I*668265261>>>0;I=(I^I>>>15)>>>0;return I};av.uQ.Bq=[{h2:"0001-0-bird",Ma:[["4b3c34",{m:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),s:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{m:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),s:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{m:"M C C C C C C C C C C C C L Z".split(" "),s:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{h2:"0001-0-bird2",Ma:[["ff7f2a",{m:"M L L L Z M L L L Z".split(" "),s:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{m:"M C C C C C C C C C C C L Z".split(" "),s:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{m:"M C C C C C C L Z M C C Z".split(" "),s:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{m:"M L L L Z M L L L Z".split(" "),s:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{m:"M L C C C C C C C C L Z".split(" "),s:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{m:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),s:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{h2:"0000-1-flower",Ma:[["7a59a2",{m:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),s:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{h2:"0000-1-flower",Ma:[["d13777",{m:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),s:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{h2:"0000-1-flower",Ma:[["ffac42",{m:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),s:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{h2:"0000-1-flower",Ma:[["d04040",{m:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),s:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{h2:"0000-1-flower",Ma:[["ec7272",{m:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),s:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{m:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),s:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{h2:"0000-0-hearts",Ma:[["d17070",{m:"M C C C C C C C C C L Z".split(" "),s:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{m:"M C C C C C C C C C L Z".split(" "),s:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{m:"M C C C C C C C C C L Z".split(" "),s:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{h2:"0000-0-anchor",Ma:[["2a3b66",{m:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),s:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{h2:"0000-1-leaf",Ma:[["fbb600",{m:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),s:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{h2:"0000-1-acorn",Ma:[["a05a2c",{m:"M C C C C C C C L Z".split(" "),s:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{m:"M C C C C C C C C C C C Z".split(" "),s:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{h2:"0000-0-skull",Ma:[["808080",{m:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),s:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{h2:"0000-0-ghost",Ma:[["e6e6e6",{m:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),s:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{m:"M C C C C Z M C C C C Z".split(" "),s:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{h2:"1001-1-rose",Ma:[["9e1460",{m:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),s:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{m:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),s:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{h2:"1001-1-curls",Ma:[["53a7ab",{m:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),s:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{m:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),s:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{h2:"0111-0-pines",Ma:[["e9e9e9",{m:"M C C C C C C C C L L L Z".split(" "),s:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{m:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),s:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{h2:"0111-0-flowers",Ma:[["8cae40",{m:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),s:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{m:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),s:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{h2:"1101-1-confetti",Ma:[["e789ff",{m:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),s:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{m:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),s:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{h2:"1101-1-branch",Ma:[["7f500b",{m:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),s:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{m:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),s:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{h2:"1101-1-sticks",Ma:[["ec7272",{m:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),s:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{m:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),s:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{h2:"1101-1-dots",Ma:[["ec7272",{m:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),s:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{m:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),s:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{m:["M","C","C","Z"],s:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{h2:"1101-1-strips",Ma:[["ffc88c",{m:"M L L L L Z M L L L L Z M L L L L Z".split(" "),s:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{m:"M L L L L Z M L L L L Z M L L L L Z".split(" "),s:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{m:["M","C","C","Z"],s:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{h2:"1101-1-circs",Ma:[["ec7272",{m:"M C C C C Z M C C C C Z".split(" "),s:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{m:"M C C C C Z M C C C C Z".split(" "),s:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{m:["M","C","C","Z"],s:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{h2:"1101-1-squares",Ma:[["014ea7",{m:"M L L L L Z M L L L L Z".split(" "),s:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{m:"M L L L L Z M L L L L Z".split(" "),s:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{m:["M","C","C","Z"],s:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{h2:"1101-0-christmas",Ma:[["014ea7",{m:"M C C C C Z M C C C C Z M L L L L Z".split(" "),s:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{m:"M C C C C Z M C C C C Z M L L L L Z".split(" "),s:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var hf={};hf.parse=function(I){var k=new Uint8Array(I),a=null;if(k[0]==80&&k[1]==75){var n=Date.now(),s=UZIP.parse(k.buffer),a=s["document.json"];
a=JSON.parse(u.Im(a,0,a.length));hf.ul(a,s)}else{var C=eE.parse(I);a=hf.ai4(C[2][0][1])}return a};hf.ul=function(I,k){var a=typeof I;
if(a=="string"||a=="number"||a=="boolean"||I==null)return I;if(I instanceof Array){for(var Y=0;Y<I.length;
Y++)I[Y]=hf.ul(I[Y],k);return I}var n=I._class;if(n==null)return I;if(n=="MSJSONFileReference"){var s=I._ref;
if(!1){}else if(k[s+".json"]!=null){var C=k[s+".json"],T=C.length;for(var Y=0;Y<T;Y++)if(C[Y]==11||C[Y]==3)C[Y]=32;
var S=u.Im(C,0,T);I=JSON.parse(S)}else if(k[s+".png"]!=null)return{key:s.split("/").pop(),bdata:k[s+".png"]};
else if(k[s+".jpg"]!=null)return{key:s.split("/").pop(),bdata:k[s+".jpg"]};else if(k[s+".pdf"]!=null)return{key:s.split("/").pop(),bdata:k[s+".pdf"]};
else if(k[s]!=null)return{key:s.split("/").pop(),bdata:k[s]};else{console.log(I,k);return}}else if(n=="MSAttributedString"){var S=atob(I.archivedAttributedString._archive),D=S.length,o=new Uint8Array(D);
for(var Y=0;Y<D;Y++)o[Y]=S.charCodeAt(Y);I.archivedAttributedString=hf.ai4(o)}for(var v in I)I[v]=hf.ul(I[v],k);
return I};hf.a5i=function(I,k,a,n){if(I instanceof Uint8Array)return null;if(n.indexOf(I)!=-1)return null;
n.push(I);if(I==k)return a;for(var s in I){a.push(s);var C=hf.a5i(I[s],k,a,n);if(C){console.log(I,C);
throw"e"}a.pop()}};hf.ai4=function(I){var k=f2.parse(I,0),a=k.$objects,n=new Uint8Array(a.length),s=hf.bz(a,n,k.$top.root);
for(var Y=0;Y<a.length;Y++)if(n[Y]==0&&Y!=0){console.log(Y,a[Y]);hf.a5i(s,Y,[],[])}for(var Y=0;Y<a.length;
Y++){var C=a[Y];if(C._class&&(C._class=="bitmap"||C._class=="fill"&&C.fillType==4&&(C.image||C.imageSHA))){var T=C.image,S=C.imageSHA,D=null,o=null;
if(T=="$null")T=null;if(S=="$null")S=null;if(T&&T.data){o=T.sha1["NS.bytes"];o=btoa(u.x8(o,0,o.length));
D=T.data instanceof Uint8Array?T.data:T.data["NS.bytes"]}else if(T==null&&S==null){var v=kk.wV("PNG").G0([[j.U(4).buffer]],1,1);
D=new Uint8Array(v)}else{var g=(s.assets?s.assets.imageCollection:s.images).images;if(S)o=S instanceof Uint8Array?S:S["NS.bytes"];
else o=T.sha1["NS.bytes"];o=btoa(u.x8(o,0,o.length));var D=g[o].data;if(D["NS.bytes"])D=D["NS.bytes"]}D=new Uint8Array(D.buffer.slice(D.byteOffset,D.byteOffset+D.length));
delete C.imageSHA;C.image={key:o,bdata:D}}}return s};hf.a1t=function(I){return I.slice(0,11)=="MSImmutable"?"MS"+I.slice(11):I};
hf.bz=function(I,k,a){var n=I[a];if(k[a]==1){return n}k[a]=1;if(typeof n=="string")return n;if(typeof n=="number")return n;
if(typeof n=="boolean")return n;if(n instanceof Array)return n;if(n instanceof Uint8Array){return n}if(I[n.$class]==null){if(n.$class==null&&n["NS.data"]!=null)return n;
console.log(a,n);throw"e"}var s=I[n.$class],C=hf.a1t(s.$classname);k[n.$class]=1;n.$class=C;if(hf.a4e[C]){delete n.$class;
n._class=hf.a4e[C]}var T=hf.bz;if(C=="NSMutableArray"||C=="NSArray"){var S=[];if(n["NS.objects"]!=null)for(var Y=0;
Y<n["NS.objects"].length;Y++)S.push(T(I,k,n["NS.objects"][Y]));else for(var Y=0;n["NS.object."+Y]!=null;
Y++)S.push(T(I,k,n["NS.object."+Y]));I[a]=S;return S}if(C=="NSDictionary"||C=="NSMutableDictionary"){var D={$class:C};
if(n["NS.keys"]!=null)for(var Y=0;Y<n["NS.keys"].length;Y++){var o=T(I,k,n["NS.keys"][Y]);if(o instanceof Uint8Array)o=btoa(hf.yu.x8(o,0,o.length));
else if(typeof o!="string"&&typeof o!="number")o=btoa(hf.yu.x8(o["NS.bytes"],0,o["NS.bytes"].length));
D[o]=T(I,k,n["NS.objects"][Y])}else for(var Y=0;n["NS.key."+Y]!=null;Y++){var o=T(I,k,n["NS.key."+Y]);
if(o instanceof Uint8Array)o=btoa(hf.yu.x8(o,0,o.length));else if(typeof o!="string"&&typeof o!="number")o=btoa(hf.yu.x8(o["NS.bytes"],0,o["NS.bytes"].length));
D[o]=T(I,k,n["NS.object."+Y])}for(var v in n)delete n[v];for(var v in D)n[v]=D[v];return n}if(C=="NSURL")return{$class:C,base:T(I,k,n["NS.base"]),relative:T(I,k,n["NS.relative"])};
if(hf.ak0.indexOf(C)!=-1){I[a]=T(I,k,n.array_do);return I[a]}if(n.do_objectID!=null)n.do_objectID=T(I,k,n.do_objectID);
if(hf.aiu.indexOf(C)!=-1)return n;var g=hf.aeZ[C];if(g==null){console.log(I,n);throw"unknown class "+C}for(var Y=0;
Y<g.length;Y++)if(n[g[Y]]!=null)n[g[Y]]=T(I,k,n[g[Y]]);if(C=="MSTextLayer"){var d=n,R,c,e,O;if(d.attributedString)R=d.attributedString.archivedAttributedString;
else R=d.storage;O=R.NSString;if(typeof O!="string")O=u.Im(O["NS.bytes"],0,O["NS.bytes"].length);if(R.NSAttributeInfo)c=R.NSAttributeInfo["NS.bytes"];
else{var U=O.length,K=[];while(U>0){var _=Math.min(100,U);K.push(_,0);U-=_}c=new Uint8Array(K)}e=R.NSAttributes instanceof Array?R.NSAttributes:[R.NSAttributes];
var Z={$class:"NSAttributedString",NSString:O,NSAttributes:e};d.attributedString={_class:"MSAttributedString",archivedAttributedString:Z};
Z.NSAttributeInfo={$class:"NSMutableData","NS.data":c};delete d.storage}return n};hf.yu={Ij:function(I,k){return I[k+1]<<8|I[k]},C:function(I,k){return I[k+3]<<24|I[k+2]<<16|I[k+1]<<8|I[k]},x8:function(I,k,a){var n="";
for(var Y=0;Y<a;Y++)n+=String.fromCharCode(I[k+Y]);return n}};hf.a4e={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
hf.ak0=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
hf.aiu="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
hf.aeZ={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var f2={};f2.parse=function(I,k){var a=u.x8(I,k,8);k+=8;var n=I.length-32,s=f2.parse.axX(I,n),C=[];if(s.en==1){var k=n-s.en*s.GO;
for(var Y=0;Y<s.GO;Y++)C.push(I[k+Y])}else if(s.en==2){var k=n-s.en*s.GO;for(var Y=0;Y<s.GO;Y++)C.push(u.Ij(I,k+Y*2))}else if(s.en==4){var k=n-s.en*s.GO;
for(var Y=0;Y<s.GO;Y++)C.push(u.C(I,k+Y*4))}else{throw"e"}var T=f2.parse.bz(I,C,s.root,s);return T};
f2.parse.bz=function(I,k,a,n){var s=f2.yu,C=n.a1l,T=C==4?s.C:C==2?s.Ij:s.akH,S=f2.parse,D=k[a],o=I[D],v=o>>4,g=o&15,R=null;
D+=1;if([4,5,6,10,12,13].indexOf(v)!=-1&&g==15){var d=S.bL(I,D);D+=d.iB;g=d.P}if(!1){}else if(v==0)R=g==8?!1:g==9?!0:null;
else if(v==1)R=S.bL(I,D-1).P;else if(v==2)R=1<<g==4?u.Yh(I,D):u._x(I,D);else if(v==3)R=u._x(I,D);else if(v==4)R=new Uint8Array(I.buffer,D,g);
else if(v==5)R=u.x8(I,D,g);else if(v==6)R=u.u$(I,D,g);else if(v==8){R=0;for(var Y=0;Y<g+1;Y++)R=R<<8|I[D+Y]}else if(v==10){R=[];
for(var Y=0;Y<g;Y++)R.push(S.bz(I,k,T(I,D+C*Y),n))}else if(v==12){R=[];for(var Y=0;Y<g;Y++)R.push(S.bz(I,k,T(I,D+C*Y),n))}else if(v==13){R={};
for(var Y=0;Y<g;Y++){var c=S.bz(I,k,T(I,D+C*Y),n),e=S.bz(I,k,T(I,D+C*(g+Y)),n);R[c]=e}}else throw"unknown mask "+v;
return R};f2.parse.bL=function(I,k){var a=1<<(I[k]&15),n=0;for(var Y=0;Y<a;Y++)n=n<<8|I[k+1+Y];return{P:n,iB:a+1}};
f2.parse.axX=function(I,k){var a={};k+=6;a.en=I[k];k++;a.a1l=I[k];k++;k+=4;a.GO=u.C(I,k);k+=4;k+=4;a.root=u.C(I,k);
k+=4;k+=4;a.avx=u.C(I,k);k+=4;return a};f2.yu={akH:function(I,k){return I[k]},Ij:function(I,k){return I[k]<<8|I[k+1]},C:function(I,k){return I[k]<<24|I[k+1]<<16|I[k+2]<<8|I[k+3]},x8:function(I,k,a){var n="";
for(var Y=0;Y<a;Y++)n+=String.fromCharCode(I[k+Y]);return n}};var eE={parse:function(I){var k=new Uint8Array(I),a=eE.V2(k),n=[],s=new Uint8Array(k.length),C=[];
n.push(C);eE.uv(k,a,1,s,C);for(var Y=0;Y<C.length;Y++){var T=[];n.push(T);eE.uv(k,a,C[Y][3],s,T,Y==11);
C[Y][3]=Y+1}return n},uv:function(I,k,a,n,s,C){a--;var T=a*k.Ft+(a==0?100:0),S=I[T],D=eE.Ij(I,T+1),o=eE.Ij(I,T+3),v=eE.Ij(I,T+5),d=0;
if(v==0)v=65536;var g=I[T+7];T+=8;if(S==2||S==5){d=eE.C(I,T);T+=4}for(var R=0;R<o;R++){var c=a*k.Ft+eE.Ij(I,T+2*R),e=-1,O=0,U=0,K=0;
if(S==2||S==5){e=eE.C(I,c);c+=4}if(S==2||S==10||S==13){O=eE.EG(I,c);c+=O.iB}if(S==5||S==13){U=eE.EG(I,c);
c+=U.iB}if(S==2||S==5){eE.uv(I,k,e,n,s,C);continue}var _=k.Ft-(a==0?100:0),Z=O.B9,H=S==13?_-35:Math.floor((_-12)*64/255)-23,G=Math.floor((_-12)*32/255)-23,N=G+(Z-G)%(_-4);
if(Z<=H){eE.ed(I,c,n,0,Z)}else{var z=N<=H?N:G,L=0;eE.ed(I,c,n,0,z);L+=z;K=eE.C(I,c+z);while(K!=0){var p=(K-1)*k.Ft;
K=eE.C(I,p);var V=Math.min(k.Ft-4,Z-L);eE.ed(I,p+4,n,L,V);L+=V}}s.push(eE.a4_(n,Z))}if(d!=0)eE.uv(I,k,d,n,s,C)},a4_:function(I,k){var a=0,n=eE.EG(I,a);
a+=n.iB;var s=[],C=[];while(a<n.B9){var T=eE.EG(I,a);a+=T.iB;s.push(T.B9)}if(a!=n.B9)throw"e";for(var Y=0;
Y<s.length;Y++){var T=s[Y];if(!1){}else if(T==0)C.push(null);else if(T==1){C.push(eE.ael(I,a));a+=1}else if(T==2){C.push(eE.cl(I,a));
a+=2}else if(T==3){C.push(eE.asb(I,a));a+=3}else if(T==4){C.push(eE.bL(I,a));a+=4}else if(T==5){C.push(eE.C(I,a+2));
a+=6}else if(T==6){C.push(eE.C(I,a)+":"+eE.C(I,a+4));a+=8}else if(T==7){C.push(eE.aa1(I,a));a+=8}else if(T==8)C.push(0);
else if(T==9)C.push(1);else if(T>=12&&(T&1)==0){var S=T-12>>1,D=new Uint8Array(S);eE.ed(I,a,D,0,S);C.push(D);
a+=S}else if(T>=13&&(T&1)==1){var S=T-13>>1;C.push(eE.Im(I,a,S));a+=S}else throw"unknonw type "+T}return C},V2:function(I){if(!(I[18]==1&&I[19]==1&&I[20]==0&&I[21]==64&&I[22]==32&&I[23]==32))throw"unexpected SQL3 header";
var k={ER:eE.x8(I,0,15),Ft:eE.Ij(I,16),axx:eE.C(I,24),size:eE.C(I,28),ak4:eE.C(I,32),afq:eE.C(I,36),a50:eE.C(I,40),amQ:eE.C(I,44),acv:eE.C(I,48),aA4:eE.C(I,52),a45:eE.C(I,56),atf:eE.C(I,60),azs:eE.C(I,64)!=0,a9X:eE.C(I,68),a4g:eE.C(I,92),apW:eE.C(I,96)};
if(k.Ft==1)k.Ft=65536;if(k.a45!=1)throw"unsupported text encoding "+k.a45;return k},atv:function(I,k){return I[k]<<16|I[k+1]<<8|I[k+2]},asb:function(I,k){var a=eE.atv(I,k),n=a&8388608;
return n?-(16777215-a+1):a},ael:function(I,k){eE.iV[0]=I[k];return eE.acY[0]},bL:function(I,k){var a=eE.iV;
for(var Y=0;Y<4;Y++)a[Y]=I[k+3-Y];return eE.atW[0]},cl:function(I,k){var a=eE.iV;a[0]=I[k+1];a[1]=I[k];
return eE.aBw[0]},Ij:function(I,k){return I[k]<<8|I[k+1]},C:function(I,k){var a=eE.iV;for(var Y=0;Y<4;
Y++)a[Y]=I[k+3-Y];return eE.af6[0]},aa1:function(I,k){var a=eE.iV;for(var Y=0;Y<8;Y++)a[Y]=I[k+7-Y];
return eE.ado[0]},EG:function(I,k){var a=k,bQ=0;while(!0){var n=I[k];k++;bQ=bQ*128+(n&127);if(n<128)break}return{B9:bQ,iB:k-a}},x8:function(I,k,a){var n="";
for(var Y=0;Y<a;Y++)n+=String.fromCharCode(I[k+Y]);return n},Im:function(I,k,a){var n="";for(var Y=0;
Y<a;Y++)n+="%"+eE.ajE(I[k+Y].toString(16));try{n=decodeURIComponent(n);return n}catch(jL){return n}},ed:function(I,k,a,n,s){if(s!=0&&(I[k+s-1]==null||a[n+s-1]==null)){console.log(k,n,s);
throw"e"}for(var Y=0;Y<s;Y++)a[n+Y]=I[k+Y]},ajE:function(bQ){return bQ.length<2?"0"+bQ:bQ}};eE.iV=new Uint8Array(8);
eE.acY=new Int8Array(eE.iV.buffer);eE.aBw=new Int16Array(eE.iV.buffer);eE.atW=new Int32Array(eE.iV.buffer);
eE.af6=new Uint32Array(eE.iV.buffer);eE.ado=new Float64Array(eE.iV.buffer);eE.arM=function(I,k){var a=I[0],n={};
for(var Y=0;Y<a.length;Y++){var s=a[Y],C=s[1];if(s[0]!="table")continue;var T=s[4];T=T.slice(T.indexOf("(")+1,T.indexOf(")"));
T=T.split(",");for(var S=0;S<T.length;S++){var D=T[S].trim().split(" ")[0];if(k&&D.startsWith(C))D=D.slice(C.length);
T[S]=D}var o=n[C]=[],v=I[s[3]];for(var S=0;S<v.length;S++){var g=v[S],d={};o.push(d);for(var R=0;R<T.length;
R++){if(d[T[R]]!=null)throw"e";d[T[R]]=g[R]}}}return n};function gG(I,k,a){this.Lr=I;this.jK=k;this.a4h=a;
this.ai=new kK(0,0);this.Gs=-1;this.m7=0;this.Hx=0;this.gN=new eZ;this.m8=[];this.wB=null;this.azT=null;
this.Nv=null;this.tr=null;this.P4=null;this.aih=null}gG.prototype.StartPage=function(I,k,a,n,s){var C=this.jK,T=C.Ha(),S=1,D=(a-I)*(n-k);
if(s!=null)D=s;while(D*T*T/(S*S)>2*8192*8192)S++;C.scale(1/S,1/S);this.azT=[I,k,a,n];var S=C.Ha();I=Math.round(I*S);
k=Math.round(k*S);a=Math.round(a*S);n=Math.round(n*S);var o=this.Lr,v=this.Nv;if(v==null){C.Dw=-I}else{var g=v[2]-v[0]+30,d=Math.round(a-I)+30;
if(this.ai.x+g+d>8192){C.Dw=-I;this.ai.x=0;this.ai.y+=this.Hx+120;this.Hx=0}else{C.Dw+=g;this.ai.x+=g}}C.rk=this.ai.y+(this.a4h?n:-k);
this.Hx=Math.max(this.Hx,Math.round(n-k));this.Nv=[I,k,a,n];this.aha=[];o.R.push(o.KM())};gG.prototype.StartTGroup=function(I){this.eV();
var k=this.Lr;k.R.push(k.KM());var a=gG.SD[I.bmode];if(a==null)a="norm";var n=k.ux();n.GF("<Group>");
n.add.lsct=gA.rW;n.pu=a=="norm"?"pass":a;n.HA=24;n.opacity=Math.round(255*I.ca);this.aha.push(n)};gG.prototype.EndTGroup=function(){this.Lr.R.push(this.aha.pop())};
gG.prototype.agG=function(){var I=this.Lr,k=I.R[I.R.length-1];return k};gG.prototype.a1R=function(){var I=this.Lr,k=I.ux();
k.GF("Path "+I.R.length);this.Lr.R.push(k);k.HA|=16;k.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.G.pI({$:0,H:0,J:0})}};
k.add.vmsk=new X.JB;k.add.vstk=fY.Lg.nI();return k};gG.prototype.I4=function(I){var k={s:I.crds,m:I.cmds},a=j.X.ep(k,!1);
j.n.de(a,this.jK);return a};gG.apf=function(I,k){for(var Y=0;Y<I.length;Y++)if(I[Y].Np!=null)I[Y].Np=k};
gG.ui=function(I){return j.G.pI({$:I[0]*255,H:I[1]*255,J:I[2]*255})};gG.Qv=function(I){return new dc(I[0],I[1],I[2],I[3],I[4],I[5])};
gG.prototype.Stroke=function(I){if(this.Gs!=-1&&this.Gs!=this.m7)return;if(I.pth.cmds.length<=1)return;
var k=this.I4(I.pth),T=null;if(k.length<=2)return;this.Kw(I);gG.apf(k,-1);k[2].Np=1;var a=this.agG(),n=fY.Lg.nI(null,!0),s=I.ctm,C={};
gG.aaH(C,I);fY.Lg.write(n,C,Math.sqrt(Math.abs(s[0]*s[3]-s[1]*s[2]))*this.jK.Ha());if(!(I.COLR instanceof Array)){T=j.X.TO(I.pth.crds);
var S=j.X.Eu(T);j.X.h(S.s,this.jK,S.s);T=j.X.TO(S.s)}var D=gG.Em(I.COLR,this.jK,k),o=["SoFi","GrFl","patternFill"].indexOf(D.type),v=[fY.$w,fY.Ym,fY.o3][o],g=n.strokeStyleContent.v={classID:fY.Lg.qo[o]};
for(var Y=0;Y<v.length;Y++)g[v[Y]]=D.P.v[v[Y]];var d=a!=null&&a.add.vmsk!=null&&!a.hd(),R=d&&!a.add.vstk.fillEnabled.v&&JSON.stringify(n)==a.add.vsjs;
if(R){var c=a.add.vmsk.d;for(var Y=2;Y<k.length;Y++)c.push(k[Y])}else{var e=d&&!a.add.vstk.strokeEnabled.v&&X.JB.ad$(a.add.vmsk.d,k,!0);
if(e){a.add.vstk=n;n.fillEnabled.v=!0}else{a=this.a1R();a.add.vmsk.d=k;a.add.vstk=n;a.add.vsjs=JSON.stringify(n)}}};
gG.aaH=function(I,k){I.YX=k.lwidth;I.Ti=k.mlimit;I.zZ=k.dash.slice(0);I.yE=k.doff;I.P_=k.ljoin;I.A6=k.lcap;
I.x9=1};gG.ZV=function(I,k){k.lwidth=I.YX;k.mlimit=I.Ti;k.doff=I.yE;k.ljoin=I.P_;k.lcap=I.A6;k.sal=I.x9;
k.dash=I.zZ.slice(0);if(k.dash.length==1&&k.dash[0]==0)k.dash=[]};gG.prototype.Fill=function(I,k){if(this.Gs!=-1&&this.Gs!=this.m7)return;
if(I.ca==0)return;var a=I.pth.cmds;if(a.length==0)return;if(a.length==2&&JSON.stringify(a)=="[\"M\",\"L\"]")return;
var n=j.X.TO(I.pth.crds),s=j.X.TO(I.cpth.crds);if(n.LU(s).KH())return;var C=I.pth,T=UDOC.G.isBox(C,[n.x,n.y,n.x+n.Q,n.y+n._]),S=I.cpth,D=UDOC.G.isBox(S,[s.x,s.y,s.x+s.Q,s.y+s._]);
if(T&&D&&n.c()>s.c()*2){var o=n.LU(s),v=o.x,g=o.y,d=v+o.Q,R=g+o._;C={cmds:["M","L","L","L","Z"],crds:[v,g,d,g,d,R,v,R]};
n=o}else if(this.tr==null&&UDOC.G.isBox(C,[n.x,n.y,n.x+n.Q,n.y+n._])&&n.j1(s)){C=S;n=s}else this.Kw(I);
var c=this.I4(C),e=gG.Em(I.colr,this.jK,c),O=this.agG(),U=O!=null&&O.opacity==Math.round(255*I.ca)&&O.add.vstk!=null&&!O.add.vstk.strokeEnabled.v&&O.add.SoCo&&e.type=="SoFi"&&JSON.stringify(O.add.SoCo.Clr.v)==JSON.stringify(e.P.v.Clr.v);
if(U){var K=!1;for(var Y=0;Y<c.length;Y++){if(c[Y].Np==0||c[Y].Np==2)K=!0}if(K){var _=j.X.TO(j.n.ji(O.add.vmsk.d)),Z=j.X.TO(j.n.ji(c));
U=_.LU(Z).KH()}}if(U){var H=O.add.vmsk.d;for(var Y=2;Y<c.length;Y++)H.push(c[Y])}else{O=this.a1R();delete O.add.SoCo;
O.add.vmsk.d=X.JB.xa(c);gG.yS(I.colr,O,this.jK,c);gG.aBL(I,O)}};gG.yS=function(I,k,a,n){var s=gG.Em(I,a,n),C=null,T=null;
k.add.vstk.fillEnabled.v=!0;if(s.type=="SoFi"){C="SoCo";T=fY.$w}if(s.type=="GrFl"){C="GdFl";T=fY.Ym}if(s.type=="patternFill"){C="PtFl";
T=fY.o3}if(C!=null){k.add[C]={classID:"null"};for(var Y=0;Y<T.length;Y++){var S=T[Y];k.add[C][S]=s.P.v[S]}if(C=="GdFl")k.add._fstl=s.Bv}};
gG.prototype.Kw=function(I){var k=this.Lr,a=I.cpth,n=a.cmds.join(""),s=a.crds,C=n+" "+s.join(","),T=UDOC.G.isBox(a,this.azT);
if(T&&this.tr==null)return;if(C==this.tr)return;this.eV();if(!T){this.tr=C;k.R.push(k.KM());var S=k.ux();
S.GF("Mask");S.add.lsct=gA.DG;S.pu="pass";S.HA=24;var D=S.add.vmsk=new X.JB;D.d=this.I4(I.cpth);if(UDOC.G.isBox(a)){this.P4=j.n.oz(D.d);
this.P4.CJ(3,3)}else this.P4=null;this.aih=S}};gG.prototype.eV=function(){var I=this.Lr;if(this.tr!=null){var k=I.R.length-1,Y=k,a=!1;
while(Y>=0&&I.R[Y].add.lsct!=gA.EB)Y--;var n=this.P4;if(n){var s=new eZ,C=k;while(C>Y){s=I.R[C].mQ(this.Lr,!1,!0);
C--}a=n.j1(s)}if(a){this.m8.splice(Y,1);I.R.splice(Y,1)}else{I.R.push(this.aih)}this.tr=null}};gG.Em=function(I,k,a){var n,s,C;
if(I.length!=null){n="SoFi";var T=JSON.parse(fY.iH[fY.order.indexOf("SoFi")]);s={t:"Objc",v:T};s.v.Clr.v=gG.ui(I)}else{var S=gG.aBJ(I,k,a);
n="GrFl";s={t:"Objc",v:cp.Y5(S,a)};C=S}return{type:n,P:s,Bv:C}};gG.aBJ=function(I,k,a){var n=gG.Qv(I.mat);
n.concat(k);var s=new kK(0,0),C=new kK(0,0),T=new kK,S=I.crds,D=I.typ=="rad"?1:0;if(D==1){var o=.7;T.x=S[0];
T.y=S[1];s.x=S[3];s.y=S[4];C.x=s.x;C.y=s.y;C.x+=S[5]}else{s.x=S[0];s.y=S[1];C.x=S[2];C.y=S[3];T.dZ(s.x,s.y)}n=cp.yq(s,C,n);
var v=cp.Wu(D,n,a);cp.B4(v,s,C,T);v[1]=JSON.parse(JSON.stringify(I.grad));return v};gG.prototype.PutText=function(I,k,a,n){var s=k.charCodeAt(0),R=null;
if(this.Gs!=-1&&this.Gs!=this.m7)return;if(k.length==0||k.length==1&&(s==0||s==8203))return;this.Kw(I);
var C=this.Lr,T=I.font,S=Math.round(255*I.ca);if(I.font.Tmode==3)S=0;var D=gG.Qv(I.ctm);D.concat(this.jK);
var o=gG.Qv(T.Tm);o.concat(D);var v=o.Ha(),g=new dc(1/v,0,0,-1/v,0,0);g.concat(o);var d=T.Tfs*v,c=C.R.length-1;
while(c>=0&&C.R[c].add.TySh==null)c--;if(g.J*g.J+g.mL*g.mL<.001&&n==null&&c>=0&&C.R[c].add.TySh&&C.R[c].opacity==S){var e=C.R[c],O=this.m8[c],U=e.add.TySh.h,K=(g.Dw-O.a0R)/d,_=Math.abs(K),Z=U.M==g.M&&U.J==g.J&&U.mL==g.mL&&U.Jo==g.Jo,H=g.rk-O.iq,G=Z&&Math.abs(H)<1e-5&&_<1;
if(G){R=e;if(K>.2&&[".",",","?",":","!"].indexOf(k)==-1){k=" "+k;a+=.5}}else if(Z&&0<H&&H<d*1.7&&O.aBz==d){R=e;
this.asB(O);O.iq=g.rk;O.aaN=g.Dw;k="\n"+k}}if(R==null){c=C.R.length;this.m8[c]={jq:[],RX:0,a0R:g.Dw,iq:g.rk,aaN:g.Dw,_D:"",aBz:d};
R=C.ux();C.R.push(R);R.add.lnsr="rend";R.add.TySh=f4.MU(0,0);R.add.TySh.h=g}var O=this.m8[c];O.RX+=a*d;
O._D+=k;O.a0R=g.Dw+a*d;var N=R.add.TySh.RW,z=f4.iZ(N);if(n){f4.IC(N,1);var L=[0,0,Math.ceil(n[0]*v),Math.ceil(n[1]*v)];
f4.s7(N,L)}var p=z.length-1,V=p+k.length;f4.lL(N,p,k);if(this.wB==null)this.wB=f4.dm(N,p,p);var r=this.wB;
r.CX.FontSize=Math.round(d);r.CX.Tracking=Math.round(T.Tc*100);r.CX.Underline=T.Tun==1;r.CX.FillColor={Type:1,Values:[1,I.colr[0],I.colr[1],I.colr[2]]};
if(T.Tal!=null)r.i9.Justification=T.Tal;if(O.jq.length!=0){r.CX.AutoLeading=!1;r.CX.Leading=O.iq-O.jq[O.jq.length-1].y}var y=T.Tf;
y=y.replace(/#2B/g,"+");y=y.replace(/#2C/g,"-");y=y.split("+").pop();var W={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(W[y])y=W[y];f4.YW(r,y);f4.Xy(N,p,V-1,r);R.N5();R.opacity=S};gG.prototype.asB=function(I){I.jq.push({Qq:I.RX,Tx:I._D.slice(I.jq.length==0?0:1)+"\n",x:I.aaN,y:I.iq,Yl:I.aBz});
I.RX=0;I._D=""};gG.prototype.u4=function(I,k,a){return new Uint8Array(kk.wV("PNG").G0([[I.buffer,0]],k,a))};
gG.prototype.PutImage=function(I,k,a,n,s,C,T){if(this.Gs!=-1&&this.Gs!=this.m7)return;var S=this.Lr,D=I.font.Tmode;
if(D==7&&S.R[S.R.length-1].add.TySh){return}this.Kw(I);var o=gG.Qv(I.ctm);o.concat(this.jK);var v=new dc(1/a,0,0,-1/n,0,1);
v.concat(o);o=v;k=gG.a0k(k,a,n,C,!1);if(s)s=gG.a0k(s,a,n,T,!0);if(s==null){if(k.length==a*n*4)k=this.u4(k,a,n)}else{k=this.aD0(k,a,n,C,!1);
s=this.aD0(s,a,n,T,!0);var g=j.U(a*n);j.Ez(s,g,0);j.yv(g,k,3);k=this.u4(k,a,n)}var d=S.MA(k,"Bitmap",0,0),R=new eZ(0,0,a,n),c=j.X.Eu(R).s;
j.X.h(c,o,c);d.add.SoLd.Trnf=E.nF.D1(c);d.add.SoLd.nonAffineTransform=E.nF.D1(c);d.Bi(S,!1);gG.aBL(I,d);
S.R.push(d)};gG.aBL=function(I,k){k.opacity=Math.round(255*I.ca);var a=gG.SD[I.bmode];if(a==null)console.log("Unknown blend mode",a);
else k.pu=a};gG.SD={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
gG.alT=function(I){if(I=="pass")I="norm";for(var k in gG.SD)if(gG.SD[k]==I)return k;return"/Normal"};
gG.a0k=function(I,k,a,n,s){var C=kk.V1(I.buffer);if(C=="jpg"){try{I=new Uint8Array(kk.wV("JPG").ay9(I.buffer))}catch(jL){I=new Uint8Array(k*a*4)}}else if(C=="jb2"){I=new Uint8Array(kk.wV("JPG").Zn(I.buffer,n,s)[0].data)}else if(I.length!=k*a*4){var T=new Uint8Array(k*a*4),S=Math.ceil(k/8),D=new Uint8Array(a*S);
UTIF.decode._decodeG4(I,0,I.length,D,0,k,1);var o=D[0]==(s?255:0);for(var v=0;v<a;v++){var g=S*v;for(var d=0;
d<k;d++){var Y=v*k+d,R=Y*4,c=(D[g+(d>>3)]>>7-(d&7)&1)*255;if(o)c=255-c;T[R]=c;T[R+1]=c;T[R+2]=c;T[R+3]=255}}I=T}return I};
gG.prototype.aD0=function(I,k,a,n,s){if(I.length!=k*a*4){var C=kk.V1(I.buffer);if(C=="jb2")throw"e";
var T=kk.wV(C);if(T==null||C=="tga")T=kk.wV("jpg");I=new Uint8Array(T.Zn(I,n,s)[0].data)}return I};gG.prototype.ShowPage=function(){var I=this.Lr;
this.m7++;var k=this.Nv;this.eV();var a=I.ux();I.R.push(a);var n=new eZ(Math.round(this.ai.x),Math.round(this.ai.y),Math.round(k[2]-k[0]),Math.round(k[3]-k[1]));
if(n.KH())n.Q=n._=2e3;this.gN=this.gN.oL(n);a.IA(n);a.add.artb.artboardBackgroundType.v=1;a.GF("Page "+this.m7);
a.add.lsct=gA.DG;a.pu="pass";a.HA=24};gG.prototype.Print=function(I){console.log("Print:",I)};gG.prototype.Done=function(){var I=this.Lr;
if(this.m7==1)I.R[I.R.length-1].add.lsct=gA.rW;I.vW(this.m7);for(var Y=0;Y<I.R.length;Y++){var k=I.R[Y],a=k.add.vmsk,n=k.add.TySh,s=this.m8[Y];
k.Bb();delete k.add.vsjs;if(a){var C=!1;for(var T=0;T<a.d.length;T++){var S=a.d[T];if((S.type==0||S.type==3)&&S.length>32767)C=!0}if(C){I.R.splice(Y,1);
Y--;continue}}k.Wr(I);if(n&&s&&s.jq.length!=0){this.asB(s);var D=n.RW,o=s.jq.length,v=s.jq[0],g=1e9,d=-1e9,G="";
for(var T=0;T<o;T++){var R=s.jq[T];g=Math.min(g,R.x);d=Math.max(d,R.x+R.Qq)}var c=[];for(var T=0;T<o;
T++){var R=s.jq[T],e=-1,O=v.Yl*.1,U=Math.abs(R.x-g),K=Math.abs(R.x+R.Qq-d),_=Math.abs(U-K);if(_<O)e=2;
if(K<O){e=1;if(R.x!=g)if(T!=0&&s.jq[T-1].x==R.x||T!=o-1&&s.jq[T+1].x==R.x)e=-1}if(U<O)e=0;if(R.Qq==d-g)e=3;
c.push(e)}var Z=[!1,!1,!1];for(var T=0;T<o;T++){var e=c[T];if(e==3)e=T==0?c[T+1]:c[T-1];if(e==3)e=0;
c[T]=e;Z[e]=!0}var H=(d-g)*.05;if(Z[0]&&!Z[1])d+=H;if(!Z[0]&&Z[1])g-=H;if(!Z[0]&&!Z[1]){g-=H;d+=2*H}f4.IC(D,1);
n.h.rk-=v.Yl*.7;n.h.Dw=Math.round(g);f4.s7(D,[0,0,Math.ceil(d-g),Math.ceil(s.jq[o-1].y-v.y+v.Yl*2)]);
for(var T=0;T<o;T++){var R=s.jq[T],e=c[T],N=0;if(e==-1){e=0;N=Math.round(R.x-g)}var z=G.length,L=z+R.Tx.length;
G+=R.Tx;var p={JN:[],CX:{},i9:{Justification:e,StartIndent:N}};f4.Xy(n.RW,z,L-1,p)}}if(n){var D=n.RW;
f4.ai7(D);var V=f4.iZ(D).split("\n");for(var T=0;T<V.length-1;T++){var R=V[T],r=0;for(var y=0;y<R.length;
y++){var W=R.charCodeAt(y);if(1473<=W&&W<=1524)r++}if(r>R.length/2){V[T]=R.split("").reverse().join("");
var m=D.EngineDict.ParagraphRun.RunArray[T].ParagraphSheet.Properties;m._Direction=1;m.Justification=f4.lq(m)}}f4.wP(D,V.join("\n"))}}I.P5=!0;
I.Q=this.gN.Q;I._=this.gN._;I.buffer=j.U(this.gN.c()*4)};var hx={};hx.Tt=null;hx.TZ=function(I,k,a,n,s,C){var T=ht==0?new eZ(0,0,I.Q,I._):I.W_();
if(s==null)s=T.Q;if(C==null)C=T._;hx.Tt=I;var S=[[I.root,T,null]];if(ht==0&&I.add.artd){var D=I.root.children,o=[],v=!0;
for(var Y=0;Y<D.length;Y++){var g=D[Y].o,d=g.add.artb,R=null;if(d==null){v=!1;break}var c=d.artboardBackgroundType.v;
if(c!=1&&c!=3)R=g.Iv();o.push([D[Y],g.OR(),R])}if(v)S=o}if(ht==1){var e=I.add.arts;S=[];for(var Y=0;
Y<e.length;Y++)S.push([I.root,j.X.qP(e[Y].UL),null])}var O=k[0];O=O.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
O=O.split(" ");var U=[];for(var Y=0;Y<O.length;Y++){var K=O[Y];if(K=="-"){var _=U.pop(),Z=parseInt(O[Y+1]);
while(_<Z){U.push(_);_++}}else U.push(parseInt(K))}O=U;for(var Y=0;Y<O.length;Y++)if(isNaN(O[Y])||O[Y]<1||O[Y]>S.length){O.splice(Y,1);
Y--}var H=s/T.Q,G=C/T._,N=H*72/I.oE,z=G*72/I.oE,L=k[5];if(L==null)L=0;var p=72*L,V=72*L;for(var r=0;
r<S.length;r++){var Y=r;if(k[2])Y=S.length-1-r;if(O.length!=0&&O.indexOf(Y+1)==-1)continue;var y=S[Y][0],W=S[Y][1];
if(!y.o.K7())continue;var m=Math.round(W.Q*N+2*p),f=Math.round(W._*z+2*V);a.StartPage(0,0,m,f);var h=UDOC.getState(),b=new dc;
b.translate(-W.x,-W.y-W._);b.scale(N,-z);b.translate(p,V);if(S[Y][2]){var i=S[Y][2],w=p*N,J=V*z,q=w+W.Q*N,x=J+W._*z;
h.colr=[(i>>>0&255)/255,(i>>>8&255)/255,(i>>>16&255)/255];h.pth={cmds:["M","L","L","L","Z"],crds:[w,J,q,J,q,x,w,x]};
a.Fill(h)}if(ht==0&&k[3]){var A=j.U(W.c()*4);j.ao(I.TB(),T,A,W);var Q=I.nh();if(Q)ICC.U.applyLUT(Q[I.add.fcmy==1?5:3],Q[2],A,A);
var B=kk.wV("JPG").G0([[A.buffer]],W.Q,W._,[k[1]]);A=new Uint8Array(B);var l=new dc;l.translate(W.x,W.y);
hx.KG(h,a,A,W,l,b)}else{hx.a2m(I,y,h,a,b,W,k,n);if(p!=0){var w=p,J=V,q=w+W.Q,x=J+W._,P=q+p,F=x+p;h.ca=1;
h.colr=[1,1,1];h.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[0,0,0,F,P,F,P,0,w,J,q,J,q,x,w,x]};
a.Fill(h)}}if(k[6]){var t=[[0,0],[1,0],[1,1],[0,1]],b$=50,hd=5,di=b$*.5,hD=hd*.5,a$=W.Q*72/I.oE,eJ=W._*72/I.oE;
h.colr=[.1,.1,.1];for(var hY in t){var ik=t[hY],fw=[hY==0||hY==3?-1:1,hY==0||hY==1?-1:1],jb=[p-di+hD*fw[0]+ik[0]*a$,V-(fw[1]!=1?hd:0)+ik[1]*eJ],cd=[p-(fw[0]!=1?hd:0)+ik[0]*a$,V-di+hD*fw[1]+ik[1]*eJ];
h.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[jb[0],jb[1],jb[0]+b$,jb[1],jb[0]+b$,jb[1]+hd,jb[0],jb[1]+hd,cd[0],cd[1],cd[0]+hd,cd[1],cd[0]+hd,cd[1]+b$,cd[0],cd[1]+b$]};
a.Fill(h)}}var dN=I.IZ;for(var kc=0;kc<dN.length;kc++){var ck=dN[kc].v,W=j.O8.GT(ck),b3=j.X.Eu(W).s;
j.X.h(b3,b,b3);var hL=j.X.TO(b3);if(!new eZ(0,0,m,f).j1(hL))continue;if(a.AddAnnot)a.AddAnnot([hL.x,hL.y,hL.x+hL.Q,hL.y+hL._],ck.url.v)}a.ShowPage()}a.Done();
hx.Tt=null};hx.aF=function(I){I=j.G.GW(I);return[I.$/255,I.H/255,I.J/255]};hx.a2m=function(I,k,a,n,s,C,T,S){var D=k.o,o=D.add.lsct,v=D.add.lmfx,Z,H,W;
if(D.kb)return;var g=D.add.vmsk,d=D.add.vstk,R=D.add.TySh;if(ht==1&&!D.hd()&&!C._s(j.X.TO(D.JV())))return;
var c=k.children,e=c&&c.length!=0?c[c.length-1].o:null;if(ht==1&&e&&e.kb&&e.K7())g=e.add.vmsk;if(!D.K7())return;
var O=D.opacity/255,U=D.add.iOpa!=null?D.add.iOpa/255:1;a.bmode=gG.alT(D.pu);var K=a.ca;a.ca=a.CA=O*U;
var _=v;if(_)_=_.solidFillMulti.v[0];if(_)_=_.v;if(_&&!_.enab.v)_=null;var G=D.rect;if(D.IM()&&(!D.hd()||D.qj&&D.qj.he)){if(D.hd()){Z=D.qj.he;
G=D.qj.amA}else{Z=j.U(D.rect.c());j.Ez(D.buffer,Z,3)}H=hB.q8(v,D.add.fxrp,Z,G,I,G).type;var N=["DrSh","OrGl"];
if(U!=1||d&&!d.fillEnabled.v){var z=Z.slice(0);j.Us(z);for(var Y=0;Y<N.length;Y++){var L=H[N[Y]];for(var p=0;
p<L.length;p++){var V=L[p],r=V.bF.clone();r.x+=G.x;r.y+=G.y;j.zV(z,G,V.GG,r)}}}}if(H)hx.aqh(D,Z,G,H,a,n,s,T,!0);
var y=hB.aB3(D,!1);if(y){n.StartTGroup(a);W=a;a=UDOC.getState()}var m=g&&!D.wc();if(m){var f=j.X.RU(g.d,!1),h=f.RK;
j.X.h(h.s,s,h.s);a.cpth={cmds:h.m,crds:h.s}}if(D.hd()){for(var Y=0;Y<k.children.length;Y++)hx.a2m(I,k.children[Y],a,n,s,C,T,S)}else if(D.wc()&&D.add.PtFl==null){var b=g?g.d:j.n.uQ.Rect(0,0,I.Q,I._),i=D.add.vstl,h,w;
if(i==null)i=iJ.qM(D.add,I);gG.ZV(i,a);a.lwidth*=s.Ha();for(var Y=0;Y<a.dash.length;Y++)a.dash[Y]*=s.Ha();
if(ht==0){var f=j.X.RU(b,i.mx==null);h=f.RK;w=f.kE}if(ht==1){h=j.X.wb(b);w=g.Np}j.X.h(h.s,s,h.s);a.pth={cmds:h.m,crds:h.s};
for(var Y=0;Y<2;Y++){var J=Y==0?i.Bv:i.mx,q=null;if(J.length==0)continue;else if(J.length==3)q=J;else{var x=cp.EL(J,b);
x.concat(s);var A=[0,0,1,0];if(J[0]==1){var Q=J[2][5]*Math.PI/180,B=J[2][6];A=[Math.cos(Q)*B,-Math.sin(Q)*B,0,0,0,1]}q={typ:["lin","rad"][J[0]],mat:[x.M,x.J,x.mL,x.Jo,x.Dw,x.rk],grad:JSON.parse(JSON.stringify(J[1])),crds:A}}a[Y==0?"colr":"COLR"]=q;
n[Y==0?"Fill":"Stroke"](a,w!=0)}}else if(R&&T[4]){var l=R.RW,P=new d_(l,S,R.Mz),h=jW.sE(P,R,!0),F=j.X.aZ(h),t=null,d=hB.a12(v);
if(d){t=fY.Lg.CM(d);t.mx=hx.aF(d.strokeStyleContent.v.Clr.v);if(t.x9==2)t.YX*=2}for(var b$ in F){var hd=parseInt(b$.slice(1,7),16),di=0;
a.colr=_?hx.aF(_.Clr.v):hx.a6$(hd);var hD=F[b$];j.X.h(hD.s,s,hD.s);hD=j.X.awa(hD);a.pth={cmds:hD.m,crds:hD.s};
var i=t?JSON.parse(JSON.stringify(t)):null;if(b$.length>7)i=jW.axt(b$.slice(7));if(i)i.YX*=s.Ha();if(i&&i.x9==2){a.COLR=i.mx;
gG.ZV(i,a);n.Stroke(a)}n.Fill(a);if(i&&i.x9!=2){a.COLR=i.mx;gG.ZV(i,a);n.Stroke(a)}}}else if(R){var l=JSON.parse(JSON.stringify(R.RW));
f4.ai7(l);var a$=R.h.clone(),eJ=new dc(1,0,0,-1,0,0);eJ.concat(a$);eJ.concat(s);var hY=f4.iZ(l),P=new d_(l,S,R.Mz);
for(var Y=0;Y<P.i9.length;Y++){var ik=P.i9[Y];if(ik.ZQ.length==1&&ik.ZQ[0].TK)continue;for(var p=0;p<ik.Mn.length;
p++){var fw=ik.Mn[p],jb=ik.Of.y+fw.Of.y,cd=ik.ZQ[fw.start].start,dN=ik.ZQ[fw.end-1].end,kc=f4.a2$(l,cd,dN);
for(var ck=0;ck<kc.length;ck++){var b3=P.b4(cd),jF=kc[ck],kB=f4.dm(l,cd,cd),jw=kB.JN[kB.CX.Font].Name;
a.font.Tf=jw;var b$=f4.GW(kB.CX.FillColor);a.colr=_?hx.aF(_.Clr.v):[b$.$/255,b$.H/255,b$.J/255];var iT=a.font.Tfs=Math.round(kB.CX.FontSize),aL=hY.slice(cd,cd+jF);
if(kB.CX.FontCaps==2)aL=aL.toUpperCase();var x=new dc;x.translate(b3.Sq.x,-jb);x.concat(eJ);a.ctm=[x.M,x.J,x.mL,x.Jo,x.Dw,x.rk];
n.PutText(a,aL,0);for(var dw=0;dw<2;dw++){var ka=kB.CX[dw==0?"Strikethrough":"Underline"];if(!ka)continue;
var cy=P.b4(cd+jF-1),jP=dw==0?.27:-.2,aA=iT*jP,d1=iT*(jP+.07),di=cy.Sq.x+cy.Sq.Q-b3.Sq.x,ag=[0,aA,di,aA,di,d1,0,d1];
j.X.h(ag,x,ag);a.pth={cmds:["M","L","L","L","Z"],crds:ag};n.Fill(a)}a.ctm=[1,0,0,1,0,0];cd+=jF}}}}else if(!D.rect.KH()||ht==1){var b0,kx,br=!1,ft=new dc,iv=D.add.SoLd,k6=!0;
if(iv)k6=j.t.$m(j.t.UX(E.nF.QX(iv.Trnf)));var ay=I.nh();if(iv&&k6&&ay==null){var eT=iv.Idnt.v,kD=I.pK(eT,iv.Crop?iv.Crop.v:null),gu="";
if(kD==null)return;var cP=kD.IV,cU=kk.V1(kD.raw.buffer);if(T[7].indexOf(cU)!=-1){b0=kD.raw;br=!0}else b0=cP[0];
kx=cP[1];ft=j.t.HJ(iv)}else{b0=D.buffer;kx=D.rect;ft.translate(kx.x,kx.y);if(ay){b0=b0.slice(0);ICC.U.applyLUT(ay[I.add.fcmy==1?5:3],ay[2],b0,b0)}if(j.yD(b0,kx.Q,kx._)&&T[7]&&T[7].indexOf("jpg")!=-1){var jd=kk.wV("JPG").G0([[b0.buffer]],kx.Q,kx._,[T[1]]);
b0=new Uint8Array(jd);br=!0}}if(_&&!br)b0=hB.apn(b0,_,kx);hx.KG(a,n,b0,kx,ft,s);if(_&&br){var ag=[0,0,kx.Q,0,kx.Q,kx._,0,kx._];
j.X.h(ag,ft,ag);j.X.h(ag,s,ag);var i$=JSON.parse(JSON.stringify(a));i$.ca=_.Opct.v.val/100;i$.pth={cmds:["M","L","L","L","Z"],crds:ag};
i$.colr=hx.aF(_.Clr.v);n.Fill(i$)}}if(m)a.cpth=null;if(y){n.EndTGroup();a=W}a.ca=a.CA=K;if(H)hx.aqh(D,Z,G,H,a,n,s,T,!1)};
hx.ajv=function(I){var k=hx.Tt;if(k==null)return I;var a=k.nh();if(a&&k.add.fcmy){return j.V5(j.MP(I)).slice(0,3)}return I};
hx.aF=function(I){I=j.G.GW(I);return hx.ajv([I.$/255,I.H/255,I.J/255])};hx.a6$=function(I){return hx.ajv([(I>>>16&255)/255,(I>>>8&255)/255,(I&255)/255])};
hx.aqh=function(I,k,a,n,s,C,T,S,D){var o=a.clone(),v=k;if(I.add.TySh&&!S[3]&&!S[4])return;var g=s.ca,d=s.bmode;
for(var Y=fY.order.length-1;Y>=0;Y--){var R=fY.order[Y];if(R=="GrFl"||R=="SoFi")continue;if((I.add.vmsk||I.add.TySh)&&R=="FrFX")continue;
var c=n[R],e=Y>7||R=="FrFX";if(e!=D)continue;for(var O=0;O<c.length;O++){var U=c[O];if(U.bF==null)U=U.cn?U.cn:U.KU;
if(U==null)continue;var K=U.bF.clone();K.offset(o.x,o.y);if(!e){if(!o.j1(K)){var _=o.oL(K),Z=j.U(_.c());
j.O0(v,o,Z,_);v=Z;o=_}j.zV(v,o,U.GG,K)}if(e&&R=="FrFX"&&U.po)j.zV(U.po,K,U.GG,K);var H=new dc;H.translate(K.x,K.y);
s.ca=U.bf;s.bmode=gG.alT(U.nY);hx.KG(s,C,U.GG,K,H,T)}}s.ca=g;s.bmode=d};hx.KG=function(I,k,a,n,s,C){var T=new dc;
T.scale(n.Q,-n._);T.translate(0,n._);T.concat(s);T.concat(C);I.ctm=[T.M,T.J,T.mL,T.Jo,T.Dw,T.rk];k.PutImage(I,a,n.Q,n._);
I.ctm=[1,0,0,1,0,0]};var k4={};k4.SF=function(I){var k=new Uint8Array(I);return k4.Og(k,0)};k4.Og=function(I,k){var a=u.C,n=u.x8,s={DZ:n(I,k,4),i:k+8,size:a(I,k+4)},C=s.DZ=="FORM"||s.DZ=="FOR4"||s.DZ=="LIST"||s.DZ=="CAT ";
if(C)s.qo=n(I,k+8,4);if(s.size<0||s.i+s.size>I.length)throw"e";if(C){s.sub=[];k+=12;var T=s.i+s.size;
while(k<T){var S=k4.Og(I,k);s.sub.push(S);var D=S.size&1,o=S.size&3;if(s.DZ=="FOR4")D=o==0?0:4-o;k+=8+S.size+D}}return s};
var hl={};hl.SF=function(I,k){var a=new Uint8Array(I);return hl.Og(a,0,k)};hl.Og=function(I,k,a){var n=u.sg,s=u.x8,C={DZ:s(I,k,4),i:k+8,size:n(I,k+4)};
if(a&&a[C.size]!=null)C.size=a[C.size];if(C.DZ=="RIFF"||C.DZ=="LIST"){C.qo=s(I,k+8,4)}if(C.size<0||C.i+C.size>I.length)throw"e";
if(C.DZ=="RIFF"||C.DZ=="LIST"&&(C.qo!="cmpr"&&C.qo!="stlt")){C.sub=[];k+=12;var T=C.i+C.size;while(k<T){var S=hl.Og(I,k,a);
C.sub.push(S);k+=8+S.size+(S.size&1)}}return C};var h6=function(){function I(l,P){var F=null;if(l.sub==null)return F;
for(var Y=0;Y<l.sub.length;Y++){var t=l.sub[Y];if(t.DZ==P||t.qo==P)F=t}return F}function k(l){if(l==32)return 300;
else if(l<49)return 0;else if(l<58)return 100*(l-48);else if(l<65)return 0;return 100*(l-55)}var a;function n(l,P){var F=new Uint8Array(l);
P.P5=!0;a={};var t=u.x8(F,0,2);if(t=="WL"){alert("Unsupported CDR version")}else{var b$,hd,di,eJ,b3=300,jF=0;
if(t=="PK"){hd=UZIP.parse(F);if(hd["content/root.dat"]){F=hd["content/root.dat"];di=u.Im(hd["content/dataFileList.dat"]).split("\n")}else{F=hd["content/riffData.cdr"];
hd=null}}b$=hl.SF(F.buffer);console.log(b$);var hD=k(F[11]),a$={data:F,i:0,cM:hD};a$.fE=a$.cM<600?16:32;
z(F,a$,di,hd,b$.sub,0);var hY=[];if(hd){eJ=I(b$,"doc ");s(eJ);var ik=b$.sub;for(var Y=0;Y<ik.length;
Y++)if(ik[Y].qo=="page")hY.push(ik[Y]);hY=hY.slice(1)}else if(b$.sub[3]&&b$.sub[3].DZ=="pack"){alert("We dont support this version of CDR files");
return}else if(I(b$,"cmpr")==null){eJ=I(b$,"page");hY.push(eJ);if(I(eJ,"mcfg")==null){eJ=I(b$,"doc ");
s(eJ);hY=[];var ik=b$.sub;for(var Y=0;Y<ik.length;Y++)if(ik[Y].qo=="page")hY.push(ik[Y]);hY=hY.slice(1)}}else{var fw=I(b$,"cmpr").sub;
eJ=fw[0];hY=[fw.slice(1)[1]];if(I(eJ,"filt"))s(eJ)}var jb=I(eJ,"mcfg").P,cd=jb.aAM,dN=cd.x*.1,kc=cd.x*hY.length+dN*(hY.length-1),ck=cd.y;
b3/=dC.TA(new eZ(0,0,Math.round(kc*b3),Math.round(ck*b3)),8192*8192);var hL=Math.round(kc*b3),gS=Math.round(ck*b3);
P.Q=hL;P._=gS;P.buffer=j.U(P.Q*P._*4);for(var Y=0;Y<hY.length;Y++){var kB=new dc(b3,0,0,-b3,cd.x*b3/2+jF,cd.y*b3/2);
C(hY[Y],eJ,P,kB);var jw=P.R[P.R.length-1];jw.IA(new eZ(Math.round(jF),0,Math.round(cd.x*b3),Math.round(cd.y*b3)));
jw.GF("Page "+(Y+1));jF+=cd.x*b3+dN*b3}P.vW(hY.length)}}function s(l){var P=I(l,"filt").sub,F=I(l,"otlt").sub,t=I(l,"fntt");
if(t)t=t.sub;l.YQ={};for(var Y=0;Y<P.length;Y++)l.YQ[P[Y].sub[0].P.id]=P[Y].sub[0].P;l.Cn={};for(var Y=0;
Y<F.length;Y++)l.Cn[F[Y].P.id]=F[Y].P;if(t){l.fonts={};for(var Y=0;Y<t.length;Y++)l.fonts[t[Y].P.id]=t[Y].P}}function C(l,P,F,t){var b$=l.qo?l.qo:l.DZ,hd=I(l,"lgob"),di=I(l,"txsm"),hD=null,a$=null;
if(hd){hD=I(hd,"trfl");a$=I(hd,"loda")}else if(I(l,"lobj"))a$=I(l,"lobj");var eJ=hD&&hD.sub[0].Ce?hD.sub[0].Ce.clone():new dc;
eJ.concat(t);var hY=F.ux();if(b$=="page"||b$=="layr"||b$=="grp "){hY.GF((b$=="page"?"Page":"Group")+" "+F.R.length);
hY.add.lsct=gA.rW;hY.pu="pass";hY.HA=24;var ik=[];if(b$=="page")ik=I(l,"gobj").sub;if(b$=="layr")ik=l.sub.slice(2);
if(b$=="grp ")ik=l.sub.slice(4);if(ik.length==0)return;F.R.push(F.KM());for(var Y=ik.length-1;Y>=0;Y--)C(ik[Y],P,F,t)}else if(b$=="obj "&&a$.P&&a$.P.path){var fw,jb;
if(P.YQ){fw=P.YQ[a$.P.av6];jb=P.Cn[a$.P.ay1]}if(fw==null)fw=a$.P.acf;if(jb==null)jb=a$.P.amd;hY=T(F,a$.P.path,t,eJ,fw,jb)}else if(b$=="obj "&&di){var cd=a$.P.af9,dN=a$.P.aey,b3="";
hY.add.TySh=f4.MU(0,0);var kc=eJ.Ha();hY.add.TySh.h.translate(eJ.Dw,eJ.rk);var ck=hY.add.TySh.RW,hL=di.P.Ql;
if(hL==null)return;for(var Y=0;Y<hL.length;Y++){var gS=hL[Y],jF=b3.length;b3+=gS.text+"\n";f4.lL(ck,jF,gS.text+"\n");
if(gS.text=="")continue;var kB=S(gS.alR,P),jw=kB.afd,iT=P.fonts[jw.aBV],gY=f4.dm(ck,jF,b3.length);if(kB.align==3)gY.i9.Justification=1;
else if(kB.align==2)gY.i9.Justification=2;else gY.i9.Justification=0;var aL=kB.fill.P;if(aL==null)aL=[0,0,0];
if(iT.Oq)f4.YW(gY,iT.Oq);gY.CX.FillColor={Type:1,Values:[1,aL[0],aL[1],aL[2]]};gY.CX.FontSize=Math.round(jw.fontSize*t.Ha());
f4.Xy(ck,jF,b3.length-1,gY)}if(dN){f4.IC(ck,0)}else{f4.IC(ck,1);f4.s7(ck,[0,0,Math.round(cd.x*eJ.M),Math.round(-cd.y*eJ.Jo)])}hY.GF(b3.slice(0,10))}else{hY=null}if(hY)F.R.push(hY)}function T(l,P,F,t,b$,hd){var di=l.ux();
di.GF("Object "+l.R.length);di.HA|=16;var hD=di.add.vstk=fY.Lg.nI();di.add.vmsk=new X.JB;di.add.vmsk.d=j.X.ep(P,!1);
j.n.de(di.add.vmsk.d,t);var a$=b$&&b$.type!=0,eJ=a$&&b$.P!=null?b$.P:[0,0,0];gG.yS(eJ,di,t,di.add.vmsk.d);
hD.fillEnabled.v=a$;if(hd&&hd.agc!=1){hD.strokeEnabled.v=!0;hD.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
var hY=hD.strokeStyleLineWidth.v.val=hd.lineWidth*F.Ha(),ik=hd.color;hD.strokeStyleContent.v.Clr.v=j.G.pI({$:ik[0]*255,H:ik[1]*255,J:ik[2]*255});
if(hd.zZ.length!=0)hD.strokeStyleLineDashSet.v=hB.HT(hd.zZ,4/hY);var fw=hd.ajm,jb=hd.aiE;if(jb!=0){var cd=P.s,Y=cd.length-4,dN=cd[Y],kc=cd[Y+1],ck=cd[Y+2],b3=cd[Y+3],hL=new dc;
hL.scale(.15,.15);hL.rotate(-Math.PI/2+Math.atan2(b3-kc,-(ck-dN)));hL.translate(ck,b3);hL.concat(t);
if(a[jb]){var gS=T(l,a[jb],F,hL,ik,null);l.R.push(gS)}}}di.Bb();di.Wr(l);return di}function S(l,P){var F=I(P,"stlt").P,t=JSON.parse(JSON.stringify(F.JP[l]));
if(t.A8!=0){var b$=F.JP[t.A8];for(var hd in b$)if(t[hd]==null||t[hd]==0)t[hd]=b$[hd];delete t.A8}t.align=F.auk[t.a7l];
t.fill=P.YQ[F.ahc[t.awO]];t.aBO=P.Cn[F.aAx[t.abY]];t.afd=F.ajf[t.aDG];return t}function D(Y){var bQ=Y.data[Y.i];
Y.i+=1;return bQ}function o(Y){var bQ=u.Ge(Y.data,Y.i);Y.i+=2;return bQ}function v(Y){var bQ=u.sg(Y.data,Y.i);
Y.i+=4;return bQ}function g(Y){var bQ=u.sg(Y.data,Y.i);Y.i+=8;return bQ}function d(Y){var bQ=u.Gn(Y.data,Y.i);
Y.i+=2;return bQ}function R(Y){var bQ=u.hK(Y.data,Y.i);Y.i+=4;return bQ}function c(Y){var bQ=u.SS(Y.data,Y.i);
Y.i+=8;return bQ}function e(Y){if(Y.i>=Y.data.length)throw"e";var l=0;while(Y.data[Y.i+l]!=0)l++;var P=u.x8(Y.data,Y.i,l);
Y.i+=l+1;return P}function O(Y){var l="";while(!0){var P=o(Y);if(P==0)break;l+=String.fromCharCode(P)}return l}function U(l){var P=v(l),F=(P&4294901760)>>>16,t=(P&65535)/65535;
return F+t}function K(l){if(l.cM<600)return Math.PI*d(l)/1800;return Math.PI*R(l)/18e7}function _(l){if(l.cM<1500)return Z(l);
else return c(l)/254e3}function Z(l){if(l.cM<600)return d(l)/1e3;else return R(l)/254e3}function H(l){if(l.cM<600)return o(l);
else return v(l)}function G(l){if(l.cM<600)return d(l);else return R(l)}function N(l,P,F){var t="";for(var Y=0;
Y<F;Y++){for(var b$=0;b$<P;b$+=4){var bQ=u.sg(l.data,l.i+Y*P+b$);t+=(bQ<500?bQ:bQ)+","}t+="\n"}return t}function z(l,P,F,t,b$,hd){var di,hD,a$;
for(var eJ=0;eJ<b$.length;eJ++){var hY=P.cM,ik=b$[eJ];P.data=l;P.i=ik.i+(ik.DZ=="LIST"?4:0);if(t&&ik.sub==null){di=v(P);
hD=v(P);a$=v(P);var fw=o(P);if(fw!=0&&fw!=768)throw"e";var jb=o(P);if(jb>32)throw"e";P.i-=16;if(di!=4294967295){P.data=t["content/data/"+F[di]];
P.i=a$}}if(ik.DZ=="vrsn"){if(ik.size==16)P.i+=8;var cd=o(P);P.cM=cd;console.log("Version",cd);P.fE=cd<600?16:32}else if(ik.DZ=="DISP"){}else if(ik.DZ=="pack"){var dN=v(P),kc=u.x8(P.data,P.i,4),hL=0;
if(kc!="CPng")throw kc;var ck=new Uint8Array(P.data.buffer,P.i+8+2,ik.size-10-4),b3=pako.inflateRaw(ck);
ik.sub=[];while(hL<b3.length){var gS=hl.Og(b3,hL);hL=gS.i+gS.size;ik.sub.push(gS)}var jF={data:b3,i:0,cM:hY,fE:P.fE};
z(b3,jF,F,t,ik.sub,hd+1)}else if(ik.DZ=="LIST"&&ik.qo=="cmpr"){var kB=v(P),jw=v(P),iT=v(P),dN=v(P),kc=u.x8(P.data,P.i,4),hL=0;
if(kc!="CPng")throw kc;var ck=new Uint8Array(P.data.buffer,P.i+8+2,kB-6-8),b3=pako.inflateRaw(ck);P.i+=kB;
ck=new Uint8Array(P.data.buffer,P.i+8+2);var gY=pako.inflateRaw(ck),aL=[];for(var dw=0;dw<gY.length;
dw+=4)aL.push(u.sg(gY,dw));ik.sub=[];while(hL<b3.length){var gS=hl.Og(b3,hL,aL);hL=gS.i+gS.size;ik.sub.push(gS)}var jF={data:b3,i:0,cM:hY,fE:P.fE};
z(b3,jF,F,t,ik.sub,hd+1)}else if(ik.DZ=="LIST"&&ik.qo=="stlt"||ik.DZ=="stlt"){if(di==4294967295)return;
var ka=P.i,kx="",jk=32;ik.P={};var cy=v(P);if(cy==0)return;ik.P.ahc=h(P,hY>=1300);ik.P.aAx=h(P);ik.P.ajf={};
var jP=v(P);for(var Y=0;Y<jP;Y++){var aA=v(P);P.i+=hY<1e3?12:20;var d1=o(P),ag=o(P);P.i+=8;var b0=Z(P);
P.i+=hY<1e3?12:20;ik.P.ajf[aA]={aBV:d1,ajN:ag,fontSize:b0}}ik.P.auk=h(P);var br=v(P);kx+="Intervals\n"+N(P,52,br)+"\n";
P.i+=52*br;var ft=v(P);kx+="Set5s\n"+N(P,152,ft)+"\n";P.i+=152*ft;var iv=v(P);kx+="Tabs\n"+N(P,784,iv)+"\n";
P.i+=784*iv;var k6=v(P);kx+="Bullets\n";for(var Y=0;Y<k6;Y++){var ay=P.i,eT=v(P);P.i+=4*3;if(hY>1300)P.i+=4;
var kD=v(P);P.i+=4*5;if(hY>=1300){var cP=v(P);if(cP){if(v(P))P.i+=64;else P.i+=60}else P.i+=12}else{P.i+=20;
if(hY>=1e3)P.i+=8;if(v(P))P.i+=8;P.i+=8}var cU=P.i;P.i=ay;kx+=N(P,cU-ay,1);P.i=cU}kx+="\n";var gu=v(P);
kx+="Indents\n";ik.P.alW={};for(var Y=0;Y<gu;Y++){var ay=P.i,jd=v(P),i$={};P.i+=12;i$.right=Z(P);i$.aoL=Z(P);
i$.left=Z(P);ik.P.alW[jd]=i$;var cU=P.i;P.i=ay;kx+=N(P,cU-ay,1);P.i=cU}kx+="\n";var hT=v(P);if(hY>=1300)jk+=4;
kx+="Hypens\n"+N(P,jk,hT)+"\n";P.i+=jk*hT;var i1=v(P);kx+="Dropcaps\n"+N(P,28,i1)+"\n";P.i+=28*i1;if(hY>800){var aZ=v(P);
kx+="Set11s\n"+N(P,28,aZ)+"\n";P.i+=12*aZ}ik.P.JP={};for(var Y=0;Y<cy;Y++){var az=v(P);if(az>3)throw az;
var hM=v(P),ku={};ku.A8=v(P);P.i+=8;var dM=v(P);if(hY>=1200)dM*=2;P.i+=dM;ku.awO=v(P);ku.abY=v(P);if(az>1){ku.aDG=v(P);
ku.a7l=v(P);ku.a6H=v(P);ku.apF=v(P);if(hY>800)ku.al2=v(P)}if(az>2){ku.a4K=v(P);ku.a1k=v(P);ku.avJ=v(P);
ku.aEz=v(P);ku.aaw=v(P)}ik.P.JP[hM]=ku}}else if(ik.DZ=="LIST")z(l,P,F,t,ik.sub,hd+1);else if(ik.DZ=="txsm"){ik.P={};
if(hY<600)throw"e";if(hY<700)throw"e";if(hY>=1600){ik.P=f(P);return}if(hY>=1500)P.i+=37;else P.i+=36;
if(v(P)){if(hY<800)P.i+=32}if(hY<800)P.i+=4;ik.P.azl=v(P);ik.P.Ql=[];P.i+=48;if(hY>=800){if(v(P)){P.i+=32;
if(hY>=1300)P.i+=8}}if(hY>=1500)P.i+=12;var az=v(P),fb=1,j$=!1;if(!az){if(hY>=800)P.i+=4;if(hY>800)P.i+=2;
if(hY>=1400)P.i+=2;P.i+=24;if(hY<800)P.i+=8;fb=v(P)}for(var dw=0;dw<fb;dw++){var e0=v(P),Y=0;if(hY>=1300&&az)P.i++;
P.i++;var cy=v(P),ff=[];for(Y=0;Y<cy;Y++){var dm=D(P),il=0;D(P);var dX=D(P);if(hY>=800)il=D(P);var ku={};
if(dX&1){ku.aBV=o(P);var j1=o(P);if(j1)ku.a0x=j1}if(dX&2)P.i+=4;if(dX&4)ku.apU=Z(P);if(dX&8)P.i+=4;if(dX&16)P.i+=4;
if(dX&32)P.i+=4;if(dX&64){ku.awO=v(P);if(hY>=1500)P.i+=48}if(dX&128){ku.abY=v(P)}if(il&8){if(hY>=1300){var c5=v(P);
if(P.i+c5*2>=P.data.length){j$=!0;break}P.i+=c5*2}else P.i+=4}if(il&32){var iE=D(P);if(iE)P.i+=52}if(dm==2)if(hY>=1300)P.i+=48;
ff.push(ku)}if(j$){break}var f6=v(P);if(P.i+f6*4>P.data.length)break;var fP=[];for(Y=0;Y<f6;Y++){var jE=0;
if(hY>=1200)jE=g(P)&4294967295;else jE=v(P);fP[Y]=jE>>16|jE&1}var iQ=f6;if(hY>=1200)iQ=v(P);var j8=e(P);
ik.P.Ql.push({alR:e0,text:j8,JP:ff})}}else if(ik.DZ=="arrw")ik.P=L(P);else if(ik.DZ=="font"){var ay=P.i,bs=o(P),e6=o(P),c$="";
P.i+=14;if(P.cM>=1200)c$=O(P);else c$=e(P);ik.P={id:bs,a0O:e6,name:c$};if(t){var ba=ay+hD;while(P.data[P.i]==0)P.i++;
P.i+=2;var jc=O(P);while(P.data[P.i]==0)P.i++;while(P.data[P.i]<=2)P.i+=4;ik.P.Oq=O(P)}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(ik.DZ)!=-1){}else if(ik.DZ=="flgs")ik.P=v(P);
else if(ik.DZ=="bbox"){var aC=Z(P),eQ=Z(P),aR=Z(P),b2=Z(P);ik.P=new eZ(aC,eQ,aR-aC,b2-eQ)}else if(ik.DZ=="fild"){var dH=v(P),fq;
if(hY>=1300)P.i+=8;var gZ=o(P);if(gZ==0){}else if(gZ==1){P.i+=hY>=1300?13:2;fq=Q(P)}else if(gZ==2){P.i+=hY>=1300?8:2;
var e8=D(P),fp=0;if(hY>=1300){P.i+=17;fp=d(P)}else if(hY>=600){P.i+=19;fp=R(P)}else{P.i+=11;fp=d(P)}var cM=K(P),kL=.5+G(P),cQ=.5+G(P)-.5;
if(hY>=600)P.i+=2;var fv=H(P)&255,bR=D(P)/100;P.i++;var cI=H(P)&65535;if(hY>=1300)P.i+=3;var dn=[];for(var Y=0;
Y<cI;Y++){var bM=Q(P);if(hY>=1400)P.i+=26;else if(hY>=1300)P.i+=5;var aK=(H(P)&65535)/100;if(hY>=1300)P.i+=3;
dn.push([aK,bM])}fq={typ:e8==1?"lin":"rad",crds:[kL-Math.cos(cM)/2,cQ-Math.sin(cM)/2,kL,cQ],grad:dn,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",gZ);
ik.P={id:dH,type:gZ,P:fq}}else if(ik.DZ=="outl"){var ju=v(P);if(hY>=1300){var fD=0,bD=0;while(fD!=1){P.i+=bD;
fD=v(P);bD=v(P)}}var aN=o(P),bk=o(P),d8=o(P);if(hY<1300&&hY>=600)P.i+=2;var bc=Z(P),bE=o(P)/100;if(hY>=600)P.i+=2;
var du=K(P);if(hY>=1300)P.i+=46;else if(hY>=600)P.i+=52;var fq=Q(P);if(hY<600)P.i+=10;else P.i+=16;var kv=o(P),cx=P.i,hn=[];
for(var Y=0;Y<kv;++Y)hn.push(o(P));if(hY<600)P.i=cx+20;else P.i=cx+22;var hy=v(P),dD=v(P);ik.P={id:ju,agc:aN,a6O:bk,aCJ:d8,lineWidth:bc,color:fq,zZ:hn,ajm:hy,aiE:dD}}else if(ik.DZ=="mcfg"){if(1300<=hY)P.i+=12;
else if(900<=hY)P.i+=4;else if(600<=hY&&hY<700)P.i+=28;var cV=0,eA=0;if(hY<400){P.i+=2;var aC=Z(P),eQ=Z(P),aR=Z(P),b2=Z(P);
cV=Math.abs(aR-aC);eA=Math.abs(b2-eQ)}else{cV=Z(P);eA=Z(P)}ik.P={aAM:new kK(cV,eA)}}else if(ik.DZ=="loda"||ik.DZ=="lobj"){var ka=P.i,a5=H(P),gd=H(P),a4=H(P),c4=H(P),fX=H(P),iw=[],cJ=[],Y=0,aV=null;
P.i=ka+a4;while(Y<gd)iw[Y++]=H(P);P.i=ka+c4;while(Y>0)cJ[--Y]=H(P);ik.P={};for(Y=0;Y<gd;Y++){P.i=ka+iw[Y];
var kO=cJ[Y];if(kO==30){if(hY>=400&&fX==1||hY<400&&fX==0){ik.P.path=W(P)}else if(hY>=400&&fX==2||hY<400&&fX==1){ik.P.path=y(P)}else if(hY>=400&&fX==3||hY<400&&fX==2){ik.P.path=J(P)}else if(fX==37){ik.P.path=w(P)}else if(hY>=400&&fX==4||hY<400&&fX==3){ik.P.aey=b(P)}else if(hY>=400&&fX==6||hY<400&&fX==5){ik.P.af9=i(P)}else console.log(fX)}else if(kO==20){if(hY<400)ik.P.acf=V(P);
else ik.P.av6=v(P)}else if(kO==10){if(hY<400)ik.P.amd=r(P);else ik.P.ay1=v(P)}else if(kO==200)ik.P.agy=H(P);
else if(kO==100){if(hY<400)aV=p(P)}}if(aV&&ik.P.path)j.X.h(ik.P.path.s,aV,ik.P.path.s)}else if(ik.DZ=="trfd"){var ka=P.i,a5=H(P),gd=H(P),a4=H(P);
P.i=ka+a4;var iw=[];for(var Y=0;Y<gd;Y++)iw[Y]=H(P);for(var Y=0;Y<gd;Y++){P.i=ka+iw[Y];if(hY>=1300)P.i+=8;
var fa=o(P);if(fa==8){var fO,f3,aC,e5,d6,eQ;if(hY>=600)P.i+=6;if(hY>=500){fO=c(P);f3=c(P);aC=c(P)/(hY<600?1e3:254e3);
e5=c(P);d6=c(P);eQ=c(P)/(hY<600?1e3:254e3)}else throw"e";ik.Ce=new dc(fO,e5,f3,d6,aC,eQ)}else console.log(fa)}}else if(!1){console.log(ik);
var bl=Math.min(ik.size,32);console.log(u.Fj(l,ik.i,bl));console.log(u.anN(l,ik.i,bl))}}}function L(l){var P=v(l);
l.i+=4;var F=o(l);l.i+=4;var t=[];for(var b$=0;b$<F;b$++)t.push(D(l));l.i+=1;var hd=[];for(var di=0;
di<F;di++){var hD=[];hD[1]=Z(l);hD[0]=Z(l);hd.push(hD)}var a$=x(hd,t);a[P]=a$}function p(l){var P=0,F=0,t=0,b$=0,hd=0,di=0;
if(l.cM>=300){var hD=l.i;l.i+=10;var a$=H(l);l.i=hD+a$;P=U(l);F=U(l);t=R(l)/1e3;b$=U(l);hd=U(l);di=R(l)/1e3}else{t=Z(l);
di=Z(l);P=U(l);F=U(l);t+=U(l)/1e3;b$=U(l);hd=U(l);di+=U(l)/1e3}return new dc(P,F,b$,hd,t,di)}function V(l){var P=D(l);
if(P==0)return null;else if(P==1)return Q(l);else console.log(P)}function r(l){var P=D(l);P<<=1;var F=Z(l),t=o(l)/100,b$=K(l),hd=Q(l);
return{agc:P,lineWidth:F,color:hd,zZ:[],ajm:0,aiE:0}}function y(l){var P=Z(l),F=Z(l),t=K(l),b$=K(l),hd=j.X.wb(j.n.uQ.hO(0,0,P,F));
return hd}function W(l){var P=l.cM,F=_(l),t=_(l),b$=0,hd=0,di=0,hD=0,a$=0,eJ=1,hY=1;if(P<1500){hD=_(l);
di=P<900?hD:_(l);hd=P<900?hD:_(l);b$=P<900?hD:_(l)}else{var ik=c(l);if(ik!=0)eJ=ik;ik=c(l);if(ik!=0)hY=ik;
var fw=D(l);l.i+=7;if(fw==0){hD=c(l);a$=D(l);l.i+=15;di=c(l);l.i+=16;hd=c(l);l.i+=16;b$=c(l);var jb=Math.abs(F*eJ/2),cd=Math.abs(t*hY/2);
hD*=jb<cd?jb:cd;di*=jb<cd?jb:cd;hd*=jb<cd?jb:cd;b$*=jb<cd?jb:cd}else{hD=_(l);a$=D(l);l.i+=15;di=_(l);
l.i+=16;hd=_(l);l.i+=16;b$=_(l)}}return j.X.wb(j.n.uQ.Rect(0,0,F,t,[b$,hd,di,hD]))}function m(l){var P=v(l);
if(l.cM<1700)P*=2;l.i+=P;return""}function f(l){var P=v(l),t=0;l.i+=37;var F=v(l);for(var Y=0;Y<F;Y++){var b$=v(l);
t=b$;l.i+=48;var hd=v(l);if(hd==1)l.i+=12*4;else l.i+=8;if(!P){l.i+=16;m(l)}}var di={azl:t,Ql:[]},hD=v(l);
for(var a$=0;a$<hD;a$++){var eJ=v(l),gS="";l.i+=1;if(P)l.i+=1;var hY=m(l),ik=v(l);for(var Y=0;Y<ik;Y++){l.i+=2;
var fw=o(l),jb=o(l);if(jb&4){var cd=v(l);cd*=2;l.i+=cd}if(fw||jb&4){var dN=m(l)}}var kc=v(l),ck=[];for(var Y=0;
Y<kc;Y++){var b3=g(l)&4294967295;ck[Y]=b3>>16|b3&1}var hL=v(l);for(var Y=0;Y<kc;Y++){var jF=ck[Y]&7,kB=0;
if(jF==0||jF==2||jF==4||jF==6)kB=l.data[l.i++];else if(jF==1||jF==3||jF==5||jF==7)kB=l.data[l.i++]+l.data[l.i++]*256;
else throw jF;gS+=String.fromCharCode(kB)}var jw=gS.split("\r");for(var Y=0;Y<jw.length;Y++)di.Ql.push({text:jw[Y],alR:eJ,JP:[]})}return di}function h(l,P){var F={},t=v(l);
for(var Y=0;Y<t;Y++){var b$=v(l);l.i+=4;var hd=v(l);F[b$]=hd;if(P)l.i+=48}return F}function b(l){var P=Z(l),F=Z(l);
return new kK(P,F)}function i(l){l.i+=4;var P=Z(l),F=Z(l);return new kK(P,F)}function w(l){l.i+=4;var P=o(l)+o(l);
l.i+=16;var F=q(l,P);return F}function J(l){var P=o(l);l.i+=2;return q(l,P)}function q(l,P){var F=[],t=[];
for(var Y=0;Y<P;Y++)F.push([Z(l),Z(l)]);for(var Y=0;Y<P;Y++)t.push(D(l));return x(F,t)}function x(l,P){var F={s:[],m:[]},t=0,b$=0,hd=0;
for(var Y=0;Y<l.length;Y++){var t=l[Y][0],b$=l[Y][1],di=P[Y];if(!(di&64)&&!(di&128)||Y==0){F.s.push(t,b$);
F.m.push("M");hd+=2}else if(di&64&&!(di&128)){F.s.push(t,b$);F.m.push("L");hd+=2}else if(!(di&64)&&di&128){F.s.push(t,b$);
F.m.push("C");hd+=6}else if(di&64&&di&128){F.s.push(t,b$)}}if(hd!=F.s.length)throw"e";return F}function A(l,P){var F=u.sg;
P+=8;var t=F(l,P);P+=4;var b$=F(l,P);P+=4;P+=4*7;var hd=P,di=j.U(t*b$*4);P+=1024;for(var hD=0;hD<b$;
hD++)for(var a$=0;a$<t;a$++){var Y=hD*t+a$,eJ=(b$-hD-1)*t+a$,hY=l[P+Y]<<2,ik=eJ<<2;di[ik+0]=l[hd+hY+2];
di[ik+1]=l[hd+hY+1];di[ik+2]=l[hd+hY+0];di[ik+3]=255}return{GG:di,rect:new eZ(0,0,t,b$)}}function Q(l){var P=l.cM,F=0,t=0,b$=0;
if(P>=500){F=o(l);if(F==1&&P>=1300)F=25;if(F==30){F=25;t=30}else{t=o(l);l.i+=4}b$=v(l)}else if(P>=400)throw"e";
else{F=D(l);b$=v(l)}return B(F,t,b$)}function B(l,P,F){var t=[0,0,0];if(l==2||l==3||l==9||l==17){var b$=[F>>>0&255,F>>>8&255,F>>>16&255,F>>>24&255];
if(l==2)for(var Y=0;Y<4;Y++)b$[Y]=Math.round(255*b$[Y]/100);for(var Y=0;Y<4;Y++)b$[Y]/=255;t=UDOC.C.cmykToRgb(b$)}else if(l==1||l==5){t=[F>>>0&255,F>>>8&255,F>>>16&255];
for(var Y=0;Y<3;Y++)t[Y]=t[Y]/255;if(l==5)t.reverse()}else console.log("Unknown color model "+l,F,F.toString(16));
return t}return{SF:n}}(),hF=function(){var I,k,a=new ArrayBuffer(4),n=new Uint8Array(a),s=new Uint32Array(a),C=new Float32Array(a);
function T(d,R){for(var c=0;c<d.length;c++)if(d[c][0]==R)return d[c]}function S(){var d=0,R=0,c=0;do{c=I[k++];
d|=(c&127)<<R;R+=7}while(c&128&&R<35);return d>>>0}function D(d,R,c,e,O){I=d;k=R;var U=e[0]=="mesg",K=e[2],_={},Z=1,H=U?1e9:K.length;
while(Z<=H){var G=Z;if(U){G=S();if(G==0)break}var N=T(K,G),z=N[2],L=N[1]==1,p=L?S():1,V=new Array(p);
if(z==3){if(!L)throw"e";V=I.slice(k,k+p);k+=p}else for(var Y=0;Y<p;Y++){var r;if((z&1)==1){if(z==1)r=I[k++]==1;
else if(z==3)r=I[k++];else if(z==5){var y=S();r=y&1?~(y>>>1):y>>>1}else if(z==7)r=S();else if(z==9){if(I[k]==0){r=0;
k++}else{n[0]=I[k];n[1]=I[k+1];n[2]=I[k+2];n[3]=I[k+3];var W=s[0];s[0]=W<<23|W>>>9;r=C[0];k+=4}}else if(z==11){var m=o(I,k);
r=m[0];k+=m[1]+1}else throw z}else{var f=c[z>>>1];if(f[0]=="enum"){var h=S();r=f[2][h]}else{var b=D(I,k,c,f,O+1);
r=b[0];k=b[1]}}V[Y]=r}_[N[3]]=L?V:V[0];Z++}return[_,k]}function o(d,R){var c=R;while(d[c]!=0)c++;return[u.Im(new Uint8Array(d.buffer,R,c-R)),c-R]}function v(d,R){var c=R;
while(d[c]!=0)c++;for(var Y=R;Y<c;Y++)if(d[Y]>127)throw"e";return u.x8(d,R,c-R)}function g(d){I=d;k=1;
var R=[];while(k<d.length){var c=k,e=R.length,O=v(d,k);k+=O.length+1;var U=S();if(U>2)throw"e";var K=S(),_=[];
for(var Y=0;Y<K;Y++){var Z=v(d,k);k+=Z.length+1;var H=S(),G=S(),N=S();_.push(U==0?Z:[N,G,H,Z])}R.push([["enum","strc","mesg"][U],O,_])}return R}return{apl:g,axE:D}}();
function jz(){}jz.SF=function(I,k){var a=Date.now(),n=new Uint8Array(I),s=8,C,g=0,b=0;if(n[0]==80&&n[1]==75){C=UZIP.parse(I);
n=C["canvas.fig"]}var T=u.sg(n,s);s+=4;var S=[];while(s<n.length){var D=u.sg(n,s);s+=4;var o=n.slice(s,s+D);
if(n[s]==137&&n[s+1]==80){}else o=UZIP.inflateRaw(o);S.push(o);s+=D}var v=hF.apl(S[0]);for(var Y=0;Y<v.length;
Y++)if(v[Y][1]=="Message")g=Y;var d=hF.axE(S[1],0,v,v[g],0)[0],R={x3:{},s0:{},a3e:{},Bm:C},c=d.nodeChanges;
for(var e=0;e<c.length;e++){var O=c[e],U=O.guid;R.s0[U.sessionID+","+U.localID]=O}for(var e=0;e<c.length;
e++){var O=c[e],U=O.parentIndex;if(U){var K=jz.$I(R.s0,U.guid);if(K.children==null)K.children=[];K.children.push(O)}}var _=c[0],Z=_.children,H=new eZ,G=[],N=[];
for(var U=0;U<Z.length;U++){var z=Z[U],L=z.children;if(z.name=="Internal Only Canvas"||L==null)continue;
var p=new eZ;for(var Y=0;Y<L.length;Y++){var V=L[Y],r=V.transform,y=V.size;if(r.m00==1&&r.m10==0&&r.m01==0&&r.m11==1){var W=new eZ(r.m02,r.m12,y.x,y.y);
p=p.oL(W)}}var m=H._==0?0:H._+100,f=p.clone();f.x=0;f.y=m;H=H.oL(f);G[U]=p;N[U]=m}var h=dC.TA(new eZ(0,0,H.Q,H._),8192*8192);
k.Q=Math.round(H.Q/h);k._=Math.round(H._/h);k.buffer=j.U(k.Q*k._*4);for(var U=0;U<Z.length;U++){var z=Z[U],L=z.children;
if(z.name=="Internal Only Canvas"||L==null)continue;L.sort(jz.aeo);var i=new dc(1,0,0,1,-G[U].x,N[U]-G[U].y);
i.scale(1/h,1/h);for(var Y=0;Y<L.length;Y++){var V=L[Y];jz.j2(V,[],i,d.blobs,k,0,R);b++}}k.vW(b);k.P5=!0;
if(h!=1)alert("File scaled down "+h+"x")};jz.j2=function(I,k,a,n,s,C,T){var S=jz,p=!1,V,W=!1,m,f;k=JSON.parse(JSON.stringify(k));
var D=I.overrideKey?I.overrideKey:I.guid;for(var Y=0;Y<k.length;Y++){var o=k[Y],v=o.guidPath.guids;if(S.a0F(v[0],D)){if(v.length==1){var g={};
for(var d in I)g[d]=o[d]!=null?o[d]:I[d];I=g}else o.guidPath.guids=v.slice(1)}}var R=I.type,c=I.children,e=I.size,O=I.effects,U=s.ux();
U.GF(I.name);U.ol(I.visible);U.opacity=Math.round(I.opacity*255);var K=S.ru(I.transform),_=K.clone();
_.concat(a);if(e==null)e={x:0,y:0};var Z=new eZ(Math.round(_.Dw),Math.round(_.rk),Math.round(e.x*_.Ha()),Math.round(e.y*_.Ha()));
if(Z.Q==0||isNaN(Z.Q))Z.Q=100;if(Z._==0||isNaN(Z._))Z._=100;var H=I.fillPaints,G=I.inheritFillStyleID;
if(G){var g=S.$I(T.s0,G);if(g)H=g.fillPaints}if(H==null)H=[];var H=S.a8Q(H),N=H[0];if(N&&N.type=="IMAGE"&&S.TB(n,jz.hx(N),T,!0)==null)N=null;
var z=I.strokePaints,G=I.inheritFillStyleIDForStroke;if(G){var g=S.$I(T.s0,G);if(g)z=g.fillPaints}if(z==null)z=[];
var z=S.a8Q(z),L="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(R)!=-1;
if(L||R=="FRAME"){V=new X.JB;S.aqj(I,n,V);p=j.n.GB(V.d);j.n.de(V.d,_);var r=j.X.aj(j.n.oz(V.d));if(!r.KH())Z=r;
if(T.x3.nW&&N){var y=X.JB.xa(T.x3.nW.d);for(var Y=2;Y<y.length;Y++)if(y[Y].Np!=null)y[Y].Np=3;V.d=V.d.concat(y.slice(2))}}if(N&&N.type=="IMAGE"){f=N.imageScaleMode;
W=!0;var h=N.originalImageWidth,b=N.originalImageHeight;if(h*b==0){var i=S.TB(n,jz.hx(N),T);h=i.e3.Q;
b=i.e3._}var w=h/b,J=e.x/e.y;m=Math.abs(w-J)}if(R=="FRAME"){}else if(L&&p&&W&&(f=="FIT"||f=="FILL"&&m<=.05||f=="STRETCH"&&m<=.05)){var q=S.TB(n,jz.hx(N),T,!0),x=s.MA(q,U.getName(),0,0);
x.HA=U.HA;x.opacity=U.opacity;U=x;var A=new eZ(0,0,e.x,e.y);if(f=="FIT"){var Q=N.originalImageWidth,B=N.originalImageHeight,l=Math.min(e.x/Q,e.y/B),P=Q*l,F=B*l;
A=new eZ(A.x+(A.Q-P)/2,A.y+(A._-F)/2,P,F)}var t=j.X.Eu(A).s;j.X.h(t,_,t);U.add.SoLd.Trnf=E.nF.D1(t);
U.add.SoLd.nonAffineTransform=E.nF.D1(t);var b$=[],O=I.effects,hd=N.paintFilter;if(O)for(var Y=0;Y<O.length;
Y++)if(O[Y].type=="FOREGROUND_BLUR"){var di=O[Y],hD=gJ._b("GsnB",{});b$.push(hD);hD.v.enab.v=di.visible;
hD.v.Fltr.v.Rds.v.val=di.radius/2.4}if(hd&&hd.exposure!=0){var hD=gJ._b("brit",{});b$.push(hD);hD.v.Fltr.v.Brgh.v=Math.round(hd.exposure*160);
hD.v.Fltr.v.useLegacy.v=!0}if(hd&&hd.vibrance!=0){var hD=gJ._b("vibA",{});b$.push(hD);hD.v.Fltr.v.Strt.v=Math.round(Math.round(hd.vibrance*100))}if(b$.length!=0){U.add.SoLd.filterFX=gJ.mA();
s.eD({id:U.add.SoLd.placed.v,rect:new eZ,buffer:j.U(1),u:new X.uC});U.add.SoLd.filterFX.v.filterFXList.v=b$}U.Bi(s,!1);
S.any(T,U,s)}else if(L){S.ads(U,V,I,N,z,_,Z,n,s,T);if(O)for(var Y=0;Y<O.length;Y++){var di=O[Y];if(di.type!="FOREGROUND_BLUR")continue;
V.K4=di.radius/2.4}U.Bb();U.Wr(s)}else if(R=="TEXT"){var a$=I.textData,eJ=a$.layoutSize,hY=["LEFT","RIGHT","CENTER"].indexOf(I.textAlignHorizontal);
U.add.lnsr="rend";U.add.TySh=f4.MU(0,0);U.add.TySh.uT=new eZ(0,0,100,100);var ik=_.clone();U.add.TySh.h=ik;
var fw=U.add.TySh.RW,jb=a$.characters;if(I.textCase=="TITLE"){for(var Y=0;Y<jb.length;Y++)if(Y==0||jb[Y-1]==" "){var cd=jb.slice(0,Y),dN=jb.slice(Y+1);
jb=cd+jb[Y].toUpperCase()+dN}}jb=jb.replace(/\u2028/g,"\n");jb=jb.replace(/\u2029/g,"\n");jb=jb.replace(/\r\n/g," \n");
f4.lL(fw,0,jb);var kc=I.textAutoResize,ck=a$.baselines;if(kc=="WIDTH_AND_HEIGHT"){var b3=hY==0?0:hY==1?eJ.x:eJ.x/2,hL=ck?ck[0].position.y:0;
ik.translate(b3*_.Ha(),hL*_.Ha());f4.IC(fw,0)}else if(kc=="HEIGHT"||kc=="NONE"||kc==null){var hL=ck?ck[0].position.y-I.fontSize*.7:0;
ik.translate(0,hL*_.Ha());f4.IC(fw,1);f4.s7(fw,[0,0,Math.round(eJ.x),Math.round((kc=="NONE"?1.8:1)*eJ.y)])}else throw kc;
if(jb!=""){var gS=f4.dm(fw,0,1);S.anQ(I,_,e,gS,U,n,s,T);f4.Xy(fw,0,jb.length,gS);var jF=a$.characterStyleIDs,kB=a$.styleOverrideTable;
if(jF){jF=jF.slice(0);for(var Y=0;Y<jF.length;Y++)if(jb[Y]=="\n")jF[Y]=-Y-1;var jw=[0],iT=0,gY=0;for(var Y=0;
Y<jF.length;Y++){gY++;var aL=jF[Y];if(Y==0||aL==jF[Y-1]){}else{jw.push(gY-1,Y);gY=1}}jw.push(gY);for(var Y=0;
Y<jw.length;Y+=2){var dw=jw[Y],ka=jw[Y+1];if(jb[dw]=="\n")continue;var aL=jF[dw];if(aL!=0){var cy;for(var jP=0;
jP<kB.length;jP++)if(kB[jP].styleID==aL)cy=kB[jP];var gS=f4.dm(fw,dw,dw+1);S.anQ(cy,_,e,gS,U,n,s,T);
f4.Xy(fw,dw,dw+ka-1,gS)}}}}}else if(R=="SYMBOL"){}else if(R=="INSTANCE"){var aA=I.symbolData,d1=aA.symbolOverrides,g=S.$I(T.s0,aA.symbolID);
if(g)c=g.children;else console.log(I.name,"symbol not found",aA.symbolID);k=k.slice(0);for(var Y=0;Y<d1.length;
Y++)k.push(d1[Y])}else console.log(R);if(!1){}else if(c&&!L){s.R.push(s.KM());var ag=!1,b0=C==0&&R!="SYMBOL"&&R!="INSTANCE";
if(b0){if(Z.KH())console.log(Z);U.IA(Z)}N=H[H.length-1];if(N&&N.type=="IMAGE"&&S.TB(n,jz.hx(N),T,!0)==null)N=null;
if(b0&&N&&N.type=="SOLID"){var kx=N.color;U.add.artb.artboardBackgroundType.v=4;U.add.artb.Clr=S.rh(kx)}else if((N||z[0])&&V){var br=s.ux();
br.GF("Background");S.ads(br,V,I,N,z,_,Z,n,s,T);br.Bb();br.Wr(s);s.R.push(br);ag=!0}c.sort(S.aeo);var ft=T.x3;
T.x3={};for(var iv=0;iv<c.length;iv++)S.j2(c[iv],k,_,n,s,C+1,T);T.x3=ft;U.add.lsct=!1?gA.rW:gA.DG;U.pu="pass";
var k6=U.K7();U.HA=24;U.ol(k6);var ay=C!=0&&H.length!=0&&!I.frameMaskDisabled&&I.containerSupportsFillStrokeAndCorners;
if(!ag&&ay&&V){U.add.vmsk=V;U.Bb();U.Wr(s)}else S.any(T,U,s);s.R.push(U)}else if(I.mask){if(V){T.x3.nW=V}}else{var eT=[],hT=1;
if(O)for(var kD=0;kD<O.length;kD++){var di=O[kD],cP=di.color,cU=di.type,gu=["DROP_SHADOW","INNER_SHADOW"].indexOf(cU);
if(gu!=-1){var jd=["DrSh","IrSh"][gu],i$=JSON.parse(fY.iH[fY.order.indexOf(jd)]);eT.push([jd,i$]);i$.enab.v=di.visible;
i$.Md.v.BlnM=aU.Vu(S.a54(di.blendMode));i$.Opct.v.val=Math.round(100*cP.a);i$.blur.v.val=Math.round(di.radius*_.Ha());
i$.Clr=S.rh(cP);var b3=di.offset.x,hL=di.offset.y;i$.uglg.v=!1;i$.lagl.v.val=Math.round(180/Math.PI*Math.atan2(hL,-b3));
i$.Dstn.v.val=Math.round(Math.sqrt(b3*b3+hL*hL)*_.Ha())}}if(R=="TEXT"&&H[0]&&H[0].type!="SOLID")hT=0;
for(var Y=hT;Y<H.length;Y++){var jk=H[Y],i1=S.Uf(I,jk,_,Z,n,s,T);if(i1[0]=="GdFl")eT.push(["GrFl",i1[1]]);
else if(i1[0]=="SoCo")eT.push(["SoFi",i1[1]]);else if(i1[0]=="PtFl")eT.push(["patternFill",i1[1]]);else if(i1[0]=="None"){}else throw i1}if(!L)for(var Y=0;
Y<z.length;Y++){var jk=z[Y],i1=S.Uf(I,jk,_,Z,n,s,T);if(i1[0]=="SoCo"){var i$=JSON.parse(fY.iH[fY.order.indexOf("FrFX")]);
eT.push(["FrFX",i$]);i$.enab=i1[1].enab;i$.Opct=i1[1].Opct;i$.Md=i1[1].Md;i$.Clr=i1[1].Clr;i$.Sz.v.val=Math.round(I.strokeWeight);
var aZ=I.strokeAlign;if(aZ)i$.Styl.v.FStl=fY.stroke.types[["INSIDE","CENTER","OUTSIDE"].indexOf(aZ)]}}if(eT.length!=0){var az=JSON.parse(fY.default);
for(var Y=0;Y<fY.order.length;Y++)az[fY.zQ[Y]]={t:"VlLs",v:[]};for(var Y=0;Y<eT.length;Y++){var hM=eT[Y],jd=fY.zQ[fY.order.indexOf(hM[0])];
az[jd].v.unshift({t:"Objc",v:hM[1]})}if(c==null)U.add.lmfx=az}s.R.push(U)}};jz.ads=function(I,k,a,n,s,C,T,S,D,o){var v=jz;
I.HA|=16;I.add.vmsk=k;var g=I.add.vstk=fY.Lg.nI(),d=v.Uf(a,n,C,T,S,D,o);g.fillEnabled.v=d[0]!="None";
if(d[0]=="None"){I.add.SoCo=d[1]}else{v.uY(d,I);I.add[d[0]]=d[1]}var d=v.Uf(a,s[0],C,T,S,D,o);if(d[0]!="None"){var g=I.add.vstk;
g.strokeEnabled.v=!0;g.strokeStyleLineWidth.v.val=a.strokeWeight*C.Ha();g.strokeStyleLineAlignment.v.strokeStyleLineAlignment=fY.Lg.Gv[["INSIDE","CENTER","OUTSIDE"].indexOf(a.strokeAlign)];
var R={SoCo:"SoFi",GdFl:"GrFl",PtFl:"patternFill"}[d[0]],c=["SoFi","GrFl","patternFill"].indexOf(R),e=[fY.$w,fY.Ym,fY.o3][c];
g.strokeStyleContent.v={classID:fY.Lg.qo[0]};var O=a.dashPattern;if(O)g.strokeStyleLineDashSet.v=hB.HT(O,1/a.strokeWeight);
var U=g.strokeStyleContent.v={classID:fY.Lg.qo[c]};for(var Y=0;Y<e.length;Y++)U[e[Y]]=d[1][e[Y]];if(!g.fillEnabled.v)v.uY(d,I)}};
jz.uY=function(I,k){var a=I[1].Opct.v.val;if(a!=100)k.opacity=Math.round(k.opacity/255*(a/100)*255)};
jz.aeo=function(I,k){var a=I.parentIndex.position,n=k.parentIndex.position;return a>n?1:-1};jz.a8Q=function(I){for(var Y=1;
Y<I.length;Y++){var k=I[Y];if(k.type=="IMAGE"&&k.opacity==1){I=I.slice(Y);break}}for(var Y=0;Y<I.length;
Y++){var k=I[Y],a=k.imageThumbnail,n=k.type=="IMAGE";if(n&&(k.image==null||k.image.dataBlob==null)&&a&&a.dataBlob)k.image=a;
if(!k.visible||n&&k.image==null){I.splice(Y,1);Y--}}return I};jz.any=function(I,k,a){if(I.x3.nW){k.add.vmsk=I.x3.nW.clone();
k.Bb();k.Wr(a)}};jz.anQ=function(I,k,a,n,s,C,T,S){var D=I.fontSize,o=I.lineHeight,v=I.fontName,g=I.textAlignHorizontal,d=I.textTracking,R=I.textCase,c=I.textDecoration;
if(D==null)D=n.CX.FontSize;if(v){var e=v.postscript;if(e==""){var O=v.family,U=v.style;e=O.split(" ").join("")+"-"+U}f4.YW(n,e)}if(D!=null)n.CX.FontSize=Math.round(D);
if(c=="UNDERLINE")n.CX.Underline=!0;if(d)n.CX.Tracking=Math.round(d*1e3);if(R)n.CX.FontCaps=R=="UPPER"?2:0;
if(o&&(o.units!="PERCENT"||o.value!=100)){if(D==null)D=15;var K=o.value;if(o.units=="PERCENT")K=1*D*K/100;
if(o.units=="RAW")K=1*D*K;n.CX.AutoLeading=!1;n.CX.Leading=Math.round(K)}if(g)n.i9.Justification=["LEFT","RIGHT","CENTER"].indexOf(g);
var _=I.fillPaints,Z=I.inheritFillStyleID;if(Z){var H=jz.$I(S.s0,Z);if(H)_=H.fillPaints}if(_&&_[0]){var G=jz.Uf(I,_[0],k,a,C,T,S);
if(G[0]=="SoCo"){var N=j.G.GW(G[1].Clr.v);n.CX.FillColor={Type:1,Values:[1,N.$/255,N.H/255,N.J/255]};
jz.uY(G,s)}}};jz.Uf=function(I,k,a,n,s,C,T){var S=jz,D,o,v=I.size;if(v==null)v={x:0,y:0};if(k){var g=k.type,d=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(g);
if(g=="SOLID"){D="SoCo";var R=k.color;o=JSON.parse(fY.iH[fY.order.indexOf("SoFi")]);o.Clr=S.rh(R)}else if(d!=-1){var c=JSON.parse(fY.iH[fY.order.indexOf("GrFl")]),e=c.Grad.v;
e.Intr.v=0;c.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][d];var O=[],U=k.stops;for(var Y=0;Y<U.length;Y++){var K=U[Y],_=K.color;
O.push([K.position,[_.r,_.g,_.b],_.a])}j.G.gD(O,e);var Z=S.ru(k.transform);Z.Us();var H=Z.clone();if(v)H.scale(v.x,v.y);
H.concat(a);var G=new kK(0,.5),N=new kK(1,.5);G=H.yt(G);N=H.yt(N);if(!0){G.x=N.x+.5*(G.x-N.x);G.y=N.y+.5*(G.y-N.y)}j.G.hP(G,N,n,c);
if(d==3){if(H.M*H.Jo-H.J*H.mL<0)c.Rvrs.v=!c.Rvrs.v}D="GdFl";o=c}else if(g=="IMAGE"){var c=JSON.parse(fY.iH[fY.order.indexOf("patternFill")]),Z=S.ru(k.transform);
Z.Us();var z=jz.hx(k),L=T.a3e[z];if(L==null){var p=S.TB(s,z,T);L=T.a3e[z]={};L.id=iJ.I8()+"-d71c-11e5-b1ae-a548a96e5f9f";
L.ZS=[new Uint8Array(p.data),p.e3];if(Z.M<0){var V=L.ZS[0].slice(0);j.t.ON(V,L.ZS[0],p.e3.Q,p.e3._)}L.name="someImage";
C.r4(L)}if(Z.M<0)Z.M=-Z.M;var r=["FILL","FIT","STRETCH","TILE"].indexOf(k.imageScaleMode),y=r==3?k.scale:1;
hB.aop(L,c,v.x,v.y,r,a,Z,y);D="PtFl";o=c}else if(g=="VIDEO"){D="SoCo";o=JSON.parse(fY.iH[fY.order.indexOf("SoFi")]);
o.Clr=S.rh({r:255,g:0,b:255})}else throw g;if(o)o.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(k.opacity*100)}}}if(D==null||k.opacity<.001){D="None";
o={classID:"null",Clr:{t:"Objc",v:j.G.pI({$:0,H:0,J:0})}}}return[D,o]};jz.hx=function(I){var k=I.image,a=k.dataBlob;
if(a==null){a="";for(var Y=0;Y<20;Y++)a+=k.hash[Y].toString(16).padStart(2,"0")}return a};jz.TB=function(I,k,a,n){if(I[k]){var s=I[k];
if(n)return s.bytes;if(s.rslt)return s.rslt;var C=s.bytes.buffer;s.rslt=jz.aj9(C);return s.rslt}else{if(a.Bm==null)return null;
if(n)return a.Bm["images/"+k];var C=a.Bm["images/"+k].buffer;if(a.Bm["images/-"+k])return a.Bm["images/-"+k];
a.Bm["images/-"+k]=jz.aj9(C);return a.Bm["images/-"+k]}};jz.aj9=function(I){var k=kk.V1(I);if(k=="fpng")k="png";
var a=kk.wV(k);try{return a.Zn(I)[0]}catch(jL){return{data:j.U(4),e3:new eZ(0,0,1,1)}}};jz.aqj=function(I,k,a){var n=I.type,s=I.size,C=I.cornerRadius,o;
if(C==null)C=0;var T=s.x,S=s.y,D=[C,C,C,C],v=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var Y=0;Y<4;Y++)if(I[v[Y]]!=null)D[Y]=I[v[Y]];if(n=="RECTANGLE"||n=="ROUNDED_RECTANGLE"||n=="FRAME"){o=j.n.uQ.Rect(0,0,T,S,D)}else if(n=="ELLIPSE"){var g=I.arcData,d=g?g.startingAngle:0,R=g?g.endingAngle:2*Math.PI,c=g?g.innerRadius:0;
if(d==0&&R>1.999*Math.PI)o=j.n.uQ.hO(0,0,T,S,0);else o=j.n.uQ.ak7(T/2,S/2,S/2,d,R);if(c!=0&&c!=1){var e=X.JB.xa(o).slice(3);
e.reverse();for(var Y=0;Y<e.length;Y++){var O=e[Y],U=O.VW;O.VW=O.zK;O.zK=U}var K=new dc;K.translate(-T/2,-S/2);
K.scale(c,c);K.translate(T/2,S/2);j.n.de(e,K);o=o.concat(e);o[2].length*=2}}else if(n=="LINE"){o=j.n.uQ.Rect(0,0,T,S,0);
o.pop();o.pop();o[2].length=2}else if(n=="STAR"){o=j.n.uQ.a2e(T/2,S/2,T/2,2*Math.PI*(1/4),5,0,I.starInnerScale)}else if(n=="REGULAR_POLYGON"){o=j.n.uQ.Sl(.5,.5,.5,Math.PI/2,I.count,0);
var _=new dc;_.scale(T,S);j.n.de(o,_)}else if(n=="BOOLEAN_OPERATION"){o=[{type:6},{type:8,all:0}];var Z=I.children,H=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(I.booleanOperation);
if(H==-1)throw I;if(Z==null)Z=[];for(var Y=0;Y<Z.length;Y++){var G=Z[Y],N=new X.JB,z=jz.aqj(G,k,N);if(N.d==null)continue;
j.n.de(N.d,jz.ru(G.transform));o=o.concat(N.d.slice(2))}for(var Y=3;Y<o.length;Y++)if(o[Y].Np!=null)o[Y].Np=H}else if(n=="VECTOR"){var L,p,J=3;
if(!0){var V=I.vectorData;if(V==null)return;L=V.normalizedSize;p=V.vectorNetworkBlob}var r=k[p].bytes,y=new Uint32Array(r.buffer),W=new Float32Array(r.buffer),m=y[0],f=y[1],h=y[2],b=[],i=[],w=[],q=J+m*3,x=q+f*7;
for(var Y=0;Y<m;Y++){var A=J+Y*3,Q=new kK(W[A+1],W[A+2]);b.push(Q)}for(var Y=0;Y<f;Y++){var B=q+Y*7;
i.push([y[B+0],y[B+1],W[B+2],W[B+3],y[B+4],W[B+5],W[B+6]])}for(var Y=0;Y<h;Y++){var l=y[x+1],P=w[Y]=[];
x+=2;for(var t=0;t<l;t++){var b$=y[x++],hd=P[t]=[];for(var di=0;di<b$;di++)hd[di]=y[x+di];x+=b$}}if(x!=y.length)throw"e";
if(h==0){var hD=-1;for(var Y=0;Y<f;Y++){if(hD==-1){}else{var a$=-1;for(var t=Y;t<f;t++)if(i[t][4]==hD)a$=t;
for(var t=Y;t<f;t++)if(i[t][1]==hD)a$=t;if(a$!=-1){var eJ=0,U=i[a$];i[a$]=i[Y];i[Y]=U;if(U[1]!=hD){eJ=U[1];
U[1]=U[4];U[4]=eJ;eJ=U[2];U[2]=U[5];U[5]=eJ;eJ=U[3];U[3]=U[6];U[6]=eJ}}}hD=i[Y][4]}w.push([[]]);for(var Y=0;
Y<f;Y++)w[0][0].push(Y)}var hY=[],ik=[];for(var fw=0;fw<w.length;fw++){for(var jb=0;jb<w[fw].length;
jb++){var cd=w[fw][jb],dN=0;if(cd.length>1){var kc=i[cd[0]],ck=i[cd[1]];dN=kc[4]==ck[1]?1:0}for(var Y=0;
Y<cd.length;Y++){var b3=i[cd[Y]],hL=1,gS=4;if(dN==0){hL=4;gS=1}var jF=b[b3[hL]],kB=b[b3[gS]];if(Y==0){ik.push("M");
hY.push(jF.x,jF.y)}ik.push("C");hY.push(jF.x+b3[hL+1],jF.y+b3[hL+2],kB.x+b3[gS+1],kB.y+b3[gS+2],kB.x,kB.y)}}}o=j.X.ep({s:hY,m:ik},!1);
if(C!=0){var D=[],jw=o[2].length;for(var Y=0;Y<jw;Y++)D.push(C);if(j.n.PE(o))j.n.OQ(o,2,D)}var iT=new dc;
iT.scale(L.x==0?1:s.x/L.x,L.y==0?1:s.y/L.y);j.n.de(o,iT)}a.d=o};jz.$I=function(I,k){return I[k.sessionID+","+k.localID]};
jz.a0F=function(I,k){return I.sessionID==k.sessionID&&I.localID==k.localID};jz.a54=function(I){var k={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",COLOR_BURN:"idiv",LINEAR_BURN:"lbrn",HARD_LIGHT:"hLit",DARKEN:"dark",LUMINOSITY:"lum ",OVERLAY:"over",COLOR:"colr"}[I];
if(k==null)throw I;return k};jz.rh=function(I){return{t:"Objc",v:j.G.pI({$:I.r*255,H:I.g*255,J:I.b*255})}};
jz.ru=function(I){if(I==null)return new dc;var k=[I.m00,I.m10,I.m01,I.m11,I.m02,I.m12];for(var Y=0;Y<6;
Y++)if(Math.abs(k[Y])<1e-20)k[Y]=0;return new dc(k[0],k[1],k[2],k[3],k[4],k[5])};function dR(){}dR.SF=function(){var I=u.x8;
function k(R,c,e,O){var U=O?[]:{};while(c<R.length-1&&R[c]!=125){var K=I(R,c,3),_=I(R,c+3,1),Z;c+=4;
c++;if(_=="v"){var H=k(R,c,e+1,K=="ELM"||K=="TIL"||K=="TFS");Z=H.P;c=H.i}else if(_=="i"||_=="f"){var G=c;
while(R[G]!=125)G++;var N=I(R,c,G-c);Z=_=="i"?parseInt(N,16):parseFloat(N);c=G+1}else if(_=="s"){var z=u.Ij(R,c),N="";
c+=2;for(var Y=0;Y<z;Y++)N+=String.fromCharCode(R[c+2*Y+1]);Z=N;c=c+2*z+1}else if(_=="b"){Z=R[c]==49;
c=c+2}else throw"e";if(O)U.push([K,Z]);else if(U[K]==null)U[K]=Z;else{if(!(U[K]instanceof Array))U[K]=[U[K]];
U[K].push(Z)}}c++;return{P:U,i:c}}function a(R,c){var e=n(R).slice(1),R=c.Clr.v;R.Rd.v=e[0]*255;R.Grn.v=e[1]*255;
R.Bl.v=e[2]*255}function n(R){return[(R>>>24&255)/255,(R>>>16&255)/255,(R>>>8&255)/255,(R>>>0&255)/255]}function s(R,c){var e=c&4278190080|(c&255)<<16|(c>>>8&255)<<8|c>>>16&255;
new Uint32Array(R.buffer).fill(e)}function C(R,c){var e=R.TSZ,O=R.WPX,U=R.HPX,K=R.TIL,_=new eZ(0,0,O,U),Z=j.U(O*U*4),H=0;
for(var G=0;G<U;G+=e)for(var N=0;N<O;N+=e){var z=new eZ(N,G,e,e),L,p=K[H];if(p[0]=="TMC"){L=j.U(z.c()*4);
s(L,p[1])}else if(p[0]=="TID"){L=c[p[1]]}j.ao(L,z,Z,_);H++}return[Z,_]}function T(R,c){R=new Uint8Array(R);
var e=8,O,U={},f=0;while(e<R.length){var K=u.C(R,e);e+=4;var _=I(R,e,4);e+=4;if(_=="mkTS"){var Z=pako.inflate(R.slice(e,e+K)),H=k(Z,0,0);
O=H.P}else if(_=="mkBT"){var G=u.C(R,e+4),N=u.C(R,e+8),Z=pako.inflate(R.slice(e+76,e+K));if(N==0)for(var Y=0;
Y<Z.length;Y+=4){var z=Z[Y],L=Z[Y+1],p=Z[Y+2],V=Z[Y+3];Z[Y+3]=z;Z[Y+2]=V;Z[Y+1]=p;Z[Y]=L}else{var r=j.U(Z.length*4);
r.fill(255);j.bS(Z,r);Z=r}U[G]=Z}e+=K+4}var y=O.PDC,W=y?y instanceof Array?y:[y]:[O.MKB],m=new eZ;for(var Y=0;
Y<W.length;Y++){var h=W[Y];m=m.oL(new eZ(0,f,h.WID,h.HIT));f+=h.HIT+100}c.Q=m.Q;c._=m._;c.buffer=j.U(m.c()*4);
c.vW(W.length);f=0;for(var b=0;b<W.length;b++){c.R.push(c.KM());var h=W[b],i=h.WID,w=h.HIT,J=h.BGC,q=(h.LYL?h:O).LYL.LAY,Q=3;
for(var Y=0;Y<q.length;Y++)D(q[Y],c,null,U,new dc(1,0,0,1,-h.XLC,-h.YLC+f));var x=c.ux();c.R.push(x);
var A=new eZ(0,f,i,w);f+=w+100;x.IA(A);if(J>>>24!=0){var B=j.G.pI({$:J>>>16&255,H:J>>>8&255,J:J>>>0&255});
x.add.artb.Clr={t:"Objc",v:B};Q=4}x.add.artb.artboardBackgroundType.v=Q;x.GF(h.PGN?h.PGN:"Page "+(b+1));
x.add.lsct=gA.DG;x.pu="pass";x.HA=24}}function S(R,c,e){var O=R[c];return O instanceof Array?O[e]:O}function D(R,c,e,O,U){var K=c.ux();
if(R.VIS!=null)K.ol(R.VIS);if(R.VIF!=null)K.ol(R.VIF.VIS);if(R.OPA!=null)K.opacity=Math.round(255*R.OPA/1e3);
K.pu=R.CLL||e=="GRP"?"pass":"norm";if(R.BLD!=null){var _=R.BLD,Z={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[_+""];
if(Z==null)console.log(R.OBN,_);else K.pu=Z;if(_==30)K.opacity>>>=1}if(R.CLL){K.GF(R.LNM);c.R.push(c.KM());
var H=R.CLL.CEL;if(H.length==null)H=[H];for(var G=H.length-1;G>=0;G--){var N=H[G].ELM;for(var Y=N.length-1;
Y>=0;Y--)D(N[Y][1],c,N[Y][0],O,U)}K.add.lsct=R.DIS?gA.rW:gA.DG;K.HA|=24}else if(e=="GRP"){var z=K.add.lmfx=v(R.EFL),L;
c.R.push(c.KM());var N=R.ELM,p=R.MRM;if(R.MNA){L=N[0][1];N=N.slice(1)}K.GF("Group: "+N.length+" objects");
for(var Y=N.length-1;Y>=0;Y--)D(N[Y][1],c,N[Y][0],O,U);if(L){if(R.MRX){var V=C(L,O),r=K.u=new X.uC;r.rect=V[1].clone();
r.rect.x=L.XLC;r.rect.y=L.YLC+U.rk;r.channel=j.U(r.rect.c());j.Ez(V[0],r.channel,0);j.Us(r.channel)}else{o(K,L,U);
K.Bb();K.Wr(c)}}if(p){o(K,p.PTH,U);K.Bb();K.Wr(c)}K.add.lsct=gA.DG;K.HA|=24}else if(e=="IMG"){K.GF(R.OBN?R.OBN:"Bitmap");
var V=C(R,O);K.rect=V[1].clone();K.rect.x=R.XLC;K.rect.y=R.YLC+U.rk;K.buffer=V[0]}else if(e=="TXT"){var y=R.TFS,b="";
K.add.lnsr="rend";K.add.TySh=f4.MU(0,0);K.add.TySh.uT=new eZ(0,0,100,100);var W=new dc(1,0,0,1,R.LFT,R.TOP);
if(R.MTX){var m=R.MTX,r=new dc(m.M00,m.M01,m.M10,m.M11,m.M20,m.M21);W.concat(r)}W.concat(U);K.add.TySh.h=W;
var f=K.add.TySh.RW,h=f4.dm(f,0,0),i=S(R,"FON");if(i)f4.YW(h,i);var w=S(R,"PTS");if(w)h.CX.FontSize=Math.round(w);
var J=S(R,"ITL");if(J)h.CX.FauxItalic=J;if(R.PAT)h.CX.FillColor={Type:1,Values:n(S(R.PAT,"FCL"))};for(var Y=0;
Y<y.length;Y++){var q=y[Y][0],x=y[Y][1];if(q=="TRN"){x=x.replaceAll("\x18","'").replaceAll("\x19","'").replaceAll("\x1C","'").replaceAll("\x1D","'");
x=x.replaceAll("\x03","\n").replaceAll("\r","\n");f4.lL(f,b.length,x);f4.Xy(f,b.length,b.length+x.length,h);
b+=x}else if(q=="FON")f4.YW(h,x);else if(q=="PTS")h.CX.FontSize=Math.round(x);else if(q=="ITL")h.CX.FauxItalic=x;
else if(q=="UND")h.CX.Underline=x;else if(q=="FCL")h.CX.FillColor={Type:1,Values:n(x)};else if(q=="LED"){h.CX.Leading=x*h.CX.FontSize;
h.CX.AutoLeading=!1}else if(q=="JST")h.i9.Justification=[0,2,1,3,5,4,6,7,8][x]}K.GF(b.slice(0,255));
var A=R.RIT-R.LFT,Q=R.BOT-R.TOP;if(R.IMG){D(R.IMG,c,"IMG",O,U);var B=c.R.pop();K.buffer=B.buffer;K.rect=B.rect.clone()}f4.IC(f,1);
f4.s7(f,[0,0,A,Q])}else if(e=="PTH"){K.GF(R.OBN?R.OBN:"Path");K.HA|=16;var l=!1;o(K,R,U);var P=K.add.vmsk,F=K.add.vstk,t=j.n.oz(P.d),b$=R.PAT,hd=b$.BPL,di=b$.FPL,hD=b$.TXF;
if(di&&di.FEF)P.K4+=di.FEF/2.4;if(hd){var a$=hd.CAT;F.strokeEnabled.v=!0;F.strokeStyleLineWidth.v.val=hd.BDI;
F.strokeStyleLineAlignment.v.strokeStyleLineAlignment=fY.Lg.Gv[R.BRP];a(b$.BCL,F.strokeStyleContent.v);
if(a$!="bc_Basic"&&a$!="bc_Pencil")l=!0}F.fillEnabled.v=di!=null;if(di==null){K.add.SoCo=JSON.parse(fY.iH[fY.order.indexOf("SoFi")]);
a(0,K.add.SoCo)}else if(di.CAT=="fc_Solid"){K.add.SoCo=JSON.parse(fY.iH[fY.order.indexOf("SoFi")]);a(R.PAT.FCL,K.add.SoCo)}else if(di.CAT=="fc_Linear"||di.CAT=="fc_Circular"||di.CAT=="fc_Elliptical"){var eJ=di.CAT=="fc_Linear",hY=K.add.GdFl=JSON.parse(fY.iH[fY.order.indexOf("GrFl")]),ik=hY.Grad.v,fw=[],jb=di.FGL,cd,dN=[];
if(jb.FGY){var kc=jb.FGY,cd=kc.FG0.FGI,dN=kc.FG1.FGI}else cd=jb.FGV.FGI;for(var Y=0;Y<cd.length;Y++){var ck=cd[Y],b3=n(ck.FGC),hL=1;
if(dN.length==cd.length)hL=n(dN[Y].FGC)[0];fw.push([ck.FGP,b3.slice(1),hL])}hY.Type.v.GrdT=eJ?"Lnr":"Rdl";
j.G.gD(fw,ik);ik.Intr.v=0;var gS=R.PRI?R.PRI:R,jF=new kK(gS.PSX,gS.PSY),kB=new kK(gS.PEX,gS.PEY);if(di.CAT=="fc_Elliptical"&&gS.PFX!=null){var jw=new kK(gS.PFX,gS.PFY),iT=kK.f0(jF,kB),aL=kK.f0(jF,jw);
if(aL<iT){var dw=iT;iT=aL;aL=dw}kB=new kK(jF.x+(iT+aL)/2,jF.y);if(iT/aL<.5)l=!0}if(eJ){jF.x=(jF.x+kB.x)/2;
jF.y=(jF.y+kB.y)/2}j.G.hP(jF,kB,t,hY)}else console.log(di.CAT);var z=K.add.lmfx=v(R.EFL,P);if(di&&di.FTB!=0&&hD){var V=C(hD.MSK,O),ka={};
ka.id=iJ.I8()+"-d71c-11e5-b1ae-a548a96e5f9f";ka.name="someImage";ka.ZS=V;c.r4(ka);var cy=V[0];for(var Y=0;
Y<cy.length;Y+=4){cy[Y+3]=255-cy[Y];cy[Y]=cy[Y+1]=cy[Y+2]=255}var hY=JSON.parse(fY.iH[fY.order.indexOf("patternFill")]);
hY.Opct.v.val=Math.round(di.FTB/10);hY.Algn.v=!0;hY.Ptrn.v.Idnt.v=ka.id;z.patternFillMulti.v.unshift({t:"Objc",v:hY})}if(l&&R.IMG){D(R.IMG,c,"IMG",O,U);
var jP=c.R[c.R.length-1];jP.opacity=K.opacity;return}K.Bb();K.Wr(c)}else if(e=="URL")return;else{console.log("unknown layer type",e,R);
K.GF("Layer")}c.R.push(K)}function o(R,c,e){if(c.PBL==null)return;var O=R.add.vmsk=new X.JB,U=R.add.vstk=fY.Lg.nI(!0),K=c.PBL.PBP;
if(!(K instanceof Array))K=[K];for(var _=0;_<K.length;_++){var Z=K[_].PBT;if(Z==null)continue;if(!(Z instanceof Array))Z=[Z];
var H=K[_].ISC?0:3;O.d.push({type:H,length:Z.length,Np:0,RO:2,Ba:0,yk:0});for(var Y=0;Y<Z.length;Y++){var G=Z[Y],N=G.XLC,z=G.YLC,L=[N,z,N,z,N,z],p="XPC YPC XLC YLC XSC YSC".split(" ");
for(var V=0;V<6;V++){var r=p[V],y=G[r];if(y!=null)L[V]=y}O.d.push({type:H+2,A:new kK(N,z),VW:new kK(L[0],L[1]),zK:new kK(L[4],L[5])})}}j.n.de(O.d,e)}function v(R,c){var e=JSON.parse(fY.default);
for(var Y=0;Y<fY.order.length;Y++)e[fY.zQ[Y]]={t:"VlLs",v:[]};if(R==null||R.EPS==null)return e;var O=R.EPS;
if(!(O instanceof Array))O=[O];for(var Y=0;Y<O.length;Y++){var U=O[Y].DCE,K={};for(var _=0;_<U.length;
_++)K[U[_].DCK]=U[_].DCV;if(K.EffectIsVisible=="false")continue;var Z=K.mkbFile_WriteOnly_TemporaryEffectUiName;
if(Z=="Gaussian Blur..."&&c){c.K4+=parseFloat(K.gaussian_blur_radius);continue}var H=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(Z);
if(H==-1){continue}var G=["DrSh","ebbl","IrGl","OrGl"][H],N=fY.zQ[fY.order.indexOf(G)],z=JSON.parse(fY.iH[fY.order.indexOf(G)]);
e[N].v.unshift({t:"Objc",v:z});if(G=="DrSh"){z.uglg.v=!1;g(K,"ShadowDistance",z,"Dstn");g(K,"ShadowBlur",z,"blur");
g(K,"ShadowAngle",z,"lagl",180);z.Opct.v.val=100;d(K,"ShadowColor",z,"Clr")}if(G=="IrGl"){z.Md.v.BlnM="Nrml";
var L=K.MaskSoftness,p=K.GlowWidth;if(L&&p){L=parseInt(L);p=parseInt(p);z.blur.v.val=p+L;z.Ckmt.v.val=Math.round(100*p/(p+L))}g(K,"BevelContrast",z,"Opct");
d(K,"OuterBevelColor",z,"Clr")}if(G=="OrGl"){z.Md.v.BlnM="Nrml";var L=K.MaskSoftness,p=K.GlowWidth;if(L&&p){L=parseInt(L);
p=parseInt(p);z.blur.v.val=p+L}g(K,"BevelContrast",z,"Opct");d(K,"OuterBevelColor",z,"Clr")}if(G=="ebbl"){z.uglg.v=!1;
g(K,"BevelWidth",z,"blur");g(K,"AngleSoftness",z,"Sftn");g(K,"BevelContrast",z,"srgR");g(K,"LightAngle",z,"lagl")}}return e}function g(R,c,e,O,U){var K=R[c];
if(U==null)U=0;if(K)e[O].v.val=parseInt(K)+U}function d(R,c,e,O){var U=R[c];if(U){U=U.slice(1);if(U.length==6)U=U+"ff";
if(U.length!=8)throw"e";var K=n(parseInt(U,16)),_=e[O].v;_.Rd.v=K[0]*255;_.Grn.v=K[1]*255;_.Bl.v=K[2]*255;
e.Opct.v.val=Math.round(e.Opct.v.val/100*K[3]*100)}}return T}();var d3=function(){function I(T){var S=new Uint8Array(T.length);
u.ei(S,0,T);return S}function k(T){var S=["<< /Type /Catalog  /Pages 2 0 R  >>","<< /Type /Pages  /Kids [ 3 0 R ] /Count 1 >>","<< /Type /Page   /Parent 2 0 R    /MediaBox [ 0 0 283 283 ] /Contents 4 0 R  /PieceInfo << /Illustrator << /Private 5 0 R>> >>   >>",I("")],D=S.length,v=0;
S.push("<< /AIMetaData  "+(D+2)+" 0 R /AIPrivateData1 "+(D+3)+" 0 R  /AIPrivateData2 "+(D+4)+" 0 R  /CreatorVersion 15  /ContainerVersion  9  /RoundtripVersion  15  /NumBlock 2  >>");
S.push(I(""));S.push(I(""));S.push(T);var o=new ig,g=[];function d(O){u.y0(o,v,O);v+=O.length}d("%PDF-1.5\n");
for(var Y=0;Y<S.length;Y++){g.push(v);d(Y+1+" 0 obj\n");var R=S[Y];if(typeof R=="string")d(S[Y]+"\n");
else{var c=pako.deflate(R);d("<< /Length "+c.length+" /Filter [ /FlateDecode ] >>\nstream\n");o.jL(v,c.length);
o.data.set(c,v);v+=c.length;d("\nendstream\n")}d("endobj\n")}var e=v;d("xref\n0 "+(g.length+1)+"\n0000000000 65535 f\r\n");
for(var Y=0;Y<g.length;Y++)d((g[Y]+"").padStart(10,"0")+" 00000 n\r\n");d("trailer\n<< /Root 1 0 R /Size "+(g.length+1)+" >>\nstartxref\n"+e+"\n%%EOF\n");
return o.data.slice(0,v)}function a(T,S){var D=Date.now(),o=new Uint8Array(T),v,g=o[2]==68;if(S)console.log(!g?"EPS":"PDF");
if(g){var d=u.S$(o,"/AIMetaData "),G,N,z;while(o[d]!=60)d--;d--;var R=u.S$(o,">>",d),c=u.x8(o,d+2,R-d-2).split("/"),e=[];
for(var Y=0;Y<c.length;Y++){var O=c[Y],U=O.startsWith("AIPrivateData"),K=O.startsWith("AIPDFPrivateData");
if(!U&&!K)continue;var _=O.trim().split(/\s+/),Z=parseInt(_[1]),H=parseInt(_[0].slice(U?13:16));e.push([H,Z])}if(S)console.log("--- map made",Date.now()-D);
D=Date.now();while(!0){var L=FromPDF.indexOfXref(o),p=[],V=FromPDF.readXrefTrail(o,L,p),r={buff:o,off:0},y=!1;
G=new Array(e.length);N=!1;z=!1;for(var Y=0;Y<e.length;Y++){var H=e[Y][0],Z=e[Y][1],h=0;if(p[Z]==null){y=!0;
break}var W=FromPDF.getIndirect(Z,0,r,p),m=W.buff,f=W["/Filter"];if(f!=null&&typeof f=="string")f=[f];
var b=u.x8(m,h,h+20);if(b=="%AI12_CompressedData"){h+=20;N=!0}else if(b=="%AI24_ZStandard_Data"){h+=20;
z=!0}m=new Uint8Array(m.buffer,m.byteOffset+h,m.length-h);if(f)for(var i=0;i<f.length;i++){var w=f[i];
if(w=="/FlateDecode")m=pako.inflate(m);else if(w=="/ASCIIHexDecode")m=FromPS.F.HexDecode({buff:m,off:0});
else if(w=="/ASCII85Decode")m=FromPS.F.ASCII85Decode({buff:m,off:0});else throw w}G[H-1]=m}if(y){console.log("extra xref after AI");
o=o.slice(0,L);continue}break}if(S)console.log("--- arrays found",Date.now()-D);D=Date.now();var J=u.x8(G[0],0,13);
if(J=="%%BoundingBox"||J=="%AI7_Thumbnai")G=G.slice(1);if(J=="%AI24_ZStanda"){G[0]=G[0].slice(20);z=!0}if(u.x8(G[0],0,13)=="%AI12_Compres"){G[0]=G[0].slice(20);
N=!0}v=n(G);if(S)console.log("--- concatenated",Date.now()-D);D=Date.now();if(N)v=UZIP.inflate(v);if(z)v=kk.J1.SO(v);
if(S)console.log("--- inflated",Date.now()-D);D=Date.now()}else{var q=u.Im(o);if(q.indexOf("%AI5_BeginLayer")!=-1){v=o}else{var x=q.split(/[\n\r]+/),A=[],Q=!1;
for(var B=0;B<x.length;B++){var l=x[B].trim();if(l=="%AI9_PrivateDataEnd"){Q=!1;break}else if(l=="%AI9_DataStream"||l=="%AI24_DataStream"){Q=!0}else if(Q)A.push(l.slice(1))}var P=u.ba(A.join("")),F=FromPS.F.ASCII85Decode({buff:P,off:0});
if(F[0]==120&&F[1]==156)v=UZIP.inflate(F);else v=kk.J1.SO(F)}}return v}function n(T){var S=0,o=0;for(var Y=0;
Y<T.length;Y++)S+=T[Y].length;var D=new Uint8Array(S);for(var Y=0;Y<T.length;Y++){var v=T[Y];D.set(v,o);
o+=v.length}return D}function s(T){var S=0,D=[];while(S<T.length){var o=T[S],v=o.charCodeAt(0);if(o==" ")S++;
else if(o==","||o==";"||o==":"){D.push(o);S++;var g=D[D.length-2];if(g=="/ASCII85Decode"){var d=S+1;
while(T[d]!="~"||T[d+1]!=">")d++;d+=2;var R=T.slice(S,d),c=FromPS.F.ASCII85Decode({off:0,buff:u.ba(R)});
D.push(c);S=d}if(g=="/StrokeStyle"||g=="/FillStyle"||g=="/BlendStyle"||g=="/SimpleStyle"||g=="/SmoothShadingStyle"){var d=S+1;
while(T[d]!=";")d++;D.pop();D.pop();D.push(T.slice(S,d));D.push("/String");S=d+1}}else if(o=="("){var d=S+1;
while(!(T[d]==")"&&(T[d-1]!="\\"||T[d-2]=="\\")))d++;var e=T.slice(S+1,d);D.push(e);S=d+1}else if(o=="/"||o=="-"||48<=v&&v<=57){var d=S;
while(T[d]!=" ")d++;D.push(T.slice(S,d));S=d}else if(o=="X"&&T[S+1]=="="){var d=S,O=0;while(!0){if(T[d]=="X"&&T[d+1]=="="){O++}if(T[d]=="X"&&T[d+1]=="+"&&T[d+2]==" "){O--;
if(O==0)break}d++}D.push(T.slice(S+3,d));D.push("/String");S=d+2}else{console.log(D);console.log(T.slice(S-600,S+10));
throw o}}return D}function C(T){var S={"/Filter":3,"/Visible":1,"/FillOrStroke":1,"/PluginFileName":1,"/Title":1},D={},o=s(T.join(" ")),v=[],g=parseFloat;
while(o.length!=0){var d=o.shift();if(d=="/Recorded"||d=="/NotRecorded"){continue}else if(d=="/Dict"){v.pop();
var R=v.pop();v[v.length-1][d]=R}else if(d=="/Execution"){v.pop();var R=v.pop();v[v.length-1][d]=R}else if(d=="/Part"){v.pop();
var R=v.pop(),c=v[v.length-1];if(c[d]==null)c[d]=[];c[d].push(R);o.shift()}else if(d=="/Def"){v.pop();
var e=v.pop(),O=v[0];if(D[O]==null)D[O]=[];if(O=="/KnownStyle"){e={val:e};e[v.pop()]=v.pop()}v.pop();
D[O].push(e);o.shift()}else if(d==":"){var O=v.pop();if(O=="/Dictionary"||O=="/ArtDictionary"||O=="/XMLNode"||O=="/Mask"||O=="/ActiveStyle")v.push({});
else if(O=="/CompoundFilter"||O=="/BasicFilter"){v.push({typ:"Filter"})}else if(O=="/SVGFilter"||O=="/KnownStyle"){v.push(O)}else if(O=="/Array"||O=="/Document")v.push([]);
else if(O=="/Binary"){var U=o.shift();if(U!="/ASCII85Decode")throw"e";o.shift();v.push(o.shift())}else if(O=="/XMLUID"||O=="/XMLUIDREF"){o[1]=O}else if(O=="/GObjRef"){v.push(o.shift());
v.push("/String");o.shift();o.shift()}else{console.log(v);console.log(o);throw O}if(o[0]=="/NotRecorded"){o.shift();
o.shift()}}else if(d==","){var K=v.pop(),O,_;if(K[0]=="/"&&K[1]==K[1].toUpperCase()||K==";"){O=K;K=null}else O=v.pop();
if(O=="/Name"){v.push(O);continue}if(S[O]){_=v.slice(v.length-S[O]);for(var Y=0;Y<S[O];Y++)v.pop();var Z=v.pop();
Z[O]=_;v.push(Z);continue}if(O=="/RealPoint"||O=="/RealPointRelToROrigin"){var H=v.pop();_=[g(v.pop()),g(H)]}else if(O=="/RealMatrix"){_=[];
for(var Y=0;Y<6;Y++)_.push(g(v.pop()));_.reverse()}else if(O=="/String"&&typeof v[v.length-1]!="string")_="";
else{var top=v.pop();if(O==";")_=top;else if(O=="/String"||O=="/UnicodeString"||O=="/XMLUID"||O=="/XMLUIDREF"){_=top;
while(typeof v[v.length-1]=="string")_=v.pop()+_}else if(O=="/Int"||O=="/Real")_=g(top);else if(O=="/Bool")_=top=="1";
else throw JSON.stringify(O)}if(v.length==0)throw"e";var Z=v.pop();if(K==null&&!(Z instanceof Array))throw"e";
if(K)Z[K]=_;else Z.push(_);v.push(Z)}else v.push(d)}return v.length==0?D:v[0]}return{azv:a,atB:k,aBN:C}}();
function cp(){}cp.SF=function(){function I(V,r,y){var W=!1,m=Date.now(),f=d3.azv(V,W);if(W)console.log("part found",Date.now()-m);
m=Date.now();var h=z(f),b=h.Layer,i=h.Header;if(W)console.log(h);var w=h.Setup.TextDocument,J=b[0];J=h.Layer[0];
if(W)console.log("document parsed",Date.now()-m);m=Date.now();h.Setup.Gradient=N(h.Setup.Gradient,f);
if(W)console.log("grads loaded",Date.now()-m);m=Date.now();h.Setup.Pattern=H(h.Setup.Pattern,f);if(W)console.log("patts loaded",Date.now()-m);
m=Date.now();h.Setup.Palette=G(h.Setup.Palette,f);if(W)console.log("palet loaded",Date.now()-m);m=Date.now();
h.Setup.DocumentData=Z(h.Setup.DocumentData,f);if(W)console.log("docdata loaded",Date.now()-m);m=Date.now();
h.Setup.SVGFilter=Z(h.Setup.SVGFilter,f);if(W)console.log("svgfilter loaded",Date.now()-m);m=Date.now();
var q=h.Setup.ArtStyles;if(q){h.Setup.ArtStyles=Z(q,f)}var x=h.Setup.Palette;for(var Y=0;Y<x.length;
Y++){var A=x[Y],Q=A[0],B=A[1][0],l=h.Setup.Gradient[Q];if(B==0)r.RJ.push([Q,A[1][1]]);if(B==1)r.RJ.push([Q,[l._W,l.a28,0,0]]);
if(B==2)r.RJ.push([Q,[Q,0]])}var P=i.Cropmarks,F=i.BoundingBox.split(" ").map(parseFloat),t=i.ArtSize?i.ArtSize.split(" ").map(parseFloat):[F[2]-F[0],F[3]-F[1]];
r.Q=Math.round(t[0]);r._=Math.round(t[1]);var b$=[1,0,0,1,-F[0]+(r.Q-(F[2]-F[0]))/2,-F[1]+(r._-(F[3]-F[1]))/2];
b$[3]=-1;b$[5]=r._-b$[5];if(P){P=P.split(" ").map(parseFloat);r.Q=Math.round(P[2]-P[0]);r._=Math.round(P[3]-P[1]);
b$=[1,0,0,-1,-P[0],r._+P[1]]}console.log(h);var hd=h.Setup.DocumentData,di=[],hD=[];if(hd&&hd[0]&&hd[0].ArtboardArray){var di=hd[0].ArtboardArray;
if(di.length!=1)console.log(di.length,"artboards");var a$=new eZ;for(var Y=0;Y<di.length;Y++){var eJ=di[Y],hY=eJ.PositionPoint1,ik=eJ.PositionPoint2,fw=hY[0],jb=Math.min(hY[1],ik[1]),cd=ik[0],dN=Math.max(hY[1],ik[1]),kc=new eZ(fw,jb,cd-fw,dN-jb);
hD.push(kc);a$=a$.oL(kc)}r.Q=Math.round(a$.Q);r._=Math.round(a$._);b$[4]=-a$.x;b$[5]=a$.y+r._}if(hd&&hd[0]&&hd[0]["#document"]){var ck=hd[0]["#document"],b3=ck["xmlnode-children"][0];
if(b3&&b3["xmlnode-children"])b3=b3["xmlnode-children"][0];if(b3&&b3["xmlnode-nodename"]=="variableSets"){var hL=b3["xmlnode-children"][0]["xmlnode-children"],gS=hL[0],jF=hL[1],kB=p(gS);
r.pn=eF.a4q("<variableSets><variableSet>"+kB+"</variableSet></variableSets>");if(jF){var jw=p(jF),iT=r.VJ=eF.agR(jw);
for(var Y=0;Y<iT.length;Y++)for(var gY=0;gY<iT[Y].length;gY++)iT[Y][gY]=iT[Y][gY].trim()}}}var aL=1/dC.TA(new eZ(0,0,r.Q,r._),8192*8192);
while(Math.max(r.Q*aL,r._*aL)<800)aL*=2;while(y&&Math.max(r.Q*aL,r._*aL)<Math.max(y[0],y[1]))aL++;if(ht==1)aL=1;
r.Q=Math.round(r.Q*aL);r._=Math.round(r._*aL);r.oE=Math.round(72*aL);for(var Y=0;Y<6;Y++)b$[Y]*=aL;var dw=[];
if(di.length!=[1,0][ht]){var ka=ht==0?r.R:[];ka.push(r.KM());for(var Y=0;Y<hD.length;Y++){var eJ=di[Y],kc=hD[Y],cy=r.ux();
cy.GF(eJ.Name);ka.push(cy);cy.add.SoCo=JSON.parse(fY.iH[fY.order.indexOf("SoFi")]);var jP=cy.add.SoCo.Clr.v;
g(jP,[1,1,1]);var fw=kc.x,jb=kc.y,cd=fw+kc.Q,dN=jb+kc._,aA=[fw,jb,cd,jb,cd,dN,fw,dN];j.X.h(aA,R(b$),aA);
O(cy,{cmds:["M","L","L","L","Z"],crds:aA},r,0);cy.add.vstk=fY.Lg.nI(!0);var y=j.X.TO(aA);dw.push({h2:eJ.Name,UL:[y.x,y.y,y.x+y.Q,y.y+y._],T:eJ.IsArtboardSelected})}var cy=r.ux();
cy.GF("_Artboards_");cy.add.lsct=gA.DG;cy.pu="pass";cy.HA=24;ka.push(cy)}else dw=[{h2:"Artboard",UL:[0,0,r.Q,r._],T:!0}];
if(ht==1)r.add.arts=dw;a=[0,0,0];n=[0,0,0];s="SoCo";C="SoCo";for(var d1=0;d1<b.length;d1++){var ag=b[d1];
ag.Raster=k(ag,"Raster");ag.Place=k(ag,"Place");var b0=K(f,ag);T(r,b0,b$,h,ag,f)}if(ht==0)for(var Y=0;
Y<r.R.length;Y++){var cy=r.R[Y];if(cy.kb){r.R.splice(Y,1);var kx=r.R[Y];kx.add.vmsk=cy.add.vmsk;kx.add.vogk=cy.add.vogk;
kx.Wr(r)}}else{}if(W)console.log("layers created",Date.now()-m);m=Date.now()}function k(V,r){var y=V.Layer,W=V[r];
if(W==null)W=[];if(y){for(var Y=0;Y<y.length;Y++){var m=y[Y],f=m[r]=k(m,r);W=W.concat(f)}W.sort(function(h,b){return h._begin-b._begin})}return W}var a,n,s,C;
function T(V,r,y,W,m,f){var h=[],b=0,i="",w=!1,J={},q=UDOC.G,x=UDOC.getState(),Q="norm",B=1,l=0,P=!1,F=0,t=!1,b$=!0,hd=null,di=null,hD=!1,a$=0,eJ=null,hY,ik,fw=0,jb=0,cd=0,b3=0,hL=!1;
x.ctm=y;var A=fY.qm.nI(),dN=[0,0],kc=[],ck=[];for(var gS=0;gS<r.length;gS++){var jF=r[gS],dw=1e9;if(jF[0]=="%"){if(jF=="%_/ArtDictionary :"&&a$==0){hd=[jF.slice(2)]}else if(hd!=null){if(jF=="%_"&&a$==0){var kB=d3.aBN(hd),jw=V.R[V.R.length-1],iT=kB.AI10_ArtUID,gY=kB.BBAccumRotation;
if(iT&&!iT.startsWith("XMLID"))jw.GF(L(iT));if(gY&&jw.add.vmsk==null&&V.R[V.R.length-2])jw=V.R[V.R.length-2];
if(gY&&jw.add.vmsk)jw.add.vmsk.eh=parseFloat(gY);hd=null}else{hd.push(jF.slice(hD?1:2));if(jF=="%_X=")a$++;
if(jF=="%_X+")a$--;if(jF=="%_/Binary : /ASCII85Decode ,")hD=!0;if(hD&&jF.endsWith("~>"))hD=!1}}else if(eJ){hY+=(hY==""?"":" ")+jF.slice(2);
if(hY.endsWith("X#")){eJ.push(hY.slice(0,hY.length-3));hY=""}}continue}else if(jF=="/Mesh X!"){eJ=[];
hY="";continue}else if(jF=="/End X!"){o(eJ,x,V);eJ=null;continue}var aL="Xa XR m l c f U u *U w J j M d".split(" "),ka=-1,cy=jF.indexOf("(")!=-1;
for(var Y=0;Y<aL.length;Y++){var jP=jF.indexOf(" "+aL[Y]+" ");if(jP!=-1&&jP<dw&&!cy){dw=jP;ka=Y}}if(ka!=-1){w=!0;
var aA=dw+1+aL[ka].length;r[gS]=jF.slice(0,aA);var d1=r[gS+1];if(d1==null||d1[0]=="%"||ka>9)r.splice(gS+1,0,jF.slice(aA));
else r[gS+1]=(jF.slice(aA)+" "+d1).replace(/\s\s+/g," ");gS--;continue}jF=jF.trim();var ag=jF.split(" "),b0=ag[ag.length-1],kx=b0.toLowerCase(),br=ag.map(parseFloat);
if(b0=="m")q.moveTo(x,br[0],br[1]);else if(b0=="L"||b0=="l")q.lineTo(x,br[0],br[1]);else if(b0=="V"||b0=="v"){var ft=x.pth.crds,iv=x.cpos[0],k6=x.cpos[1];
q.curveTo(x,iv,k6,br[0],br[1],br[2],br[3]);var ay=ft.length;ft[ay-6]=iv;ft[ay-5]=k6}else if(b0=="Y"||b0=="y")q.curveTo(x,br[0],br[1],br[2],br[3],br[2],br[3]);
else if(b0=="C"||b0=="c")q.curveTo(x,br[0],br[1],br[2],br[3],br[4],br[5]);else if(b0=="H"||b0=="h"){if(b0==kx)q.closePath(x);
if(!P){var eT=V.ux();V.R.push(eT);eT.GF("<Clipping Path>");eT.kb=!0;eT.add.vstk=fY.Lg.nI();eT.add.SoCo=JSON.parse(fY.iH[fY.order.indexOf("SoFi")]);
O(eT,x.pth,V,l)}else t=!0}else if(b0=="XR"){l=br[0]}else if(b0=="Xy"){Q=cp.ajs[br[0]];B=br[1];if(Q==null){Q="norm";
console.log("unknown blend mode",br[0])}}else if(b0=="Xd"){var jw=V.R[V.R.length-1];jw.opacity=Math.round(255*B);
jw.pu=jw.hd()&&Q=="norm"?"pass":Q}else if(b0=="AE")fw=br[0];else if(b0=="Ae")jb=br[0];else if(b0=="Xw")cd=br[0];
else if(b0=="*"){var kD=x.pth.crds,cP=x.ctm,jP=kD[0]==kD[2]?0:1;V.Fq.push([jP,kD[jP]]);q.newPath(x)}else if(b0=="XN")ik=jF.split(" ")[0];
else if(b0=="XI"){var cU=m.Raster,gu,jd;if(cU==null||cU.length==0){console.log("no Raster");continue}if(jF!="XI"){continue}else{var i$=cU[b++];
if(i$.Data)i$=i$.Data;var hT=i$._begin,jk=i$._end;while(f[hT]!=88)hT++;hT+=3;gu=f.slice(hT,jk);jd=r[gS-2].split(" ").map(parseFloat)}var i1=jd.slice(8),aZ=i1[2],az=i1[3],hM=aZ*az,ku=j.U(hM*4);
ku.fill(255);var dM=i1[7],fb=i1[8],j$=i1[6],e0=Math.ceil(aZ*dM*j$/8);if(dM==1){if(j$==8)for(var Y=0;
Y<hM;Y++)for(var ff=0;ff<3;ff++)ku[4*Y+ff]=gu[Y];else if(j$==1)for(var dm=0;dm<az;dm++)for(var dX=0;
dX<aZ;dX++)for(var ff=0;ff<3;ff++)ku[4*(dm*aZ+dX)+ff]=255*(gu[dm*e0+(dX>>>3)]>>>7-(dX&7)&1);else throw j$}else if(dM==3)for(var Y=0;
Y<hM;Y++)for(var ff=0;ff<3;ff++)ku[4*Y+ff]=gu[3*Y+ff];else if(dM==4||dM==5)for(var Y=0;Y<hM;Y++){var il=c([gu[dM*Y+0]/255,gu[dM*Y+1]/255,gu[dM*Y+2]/255,gu[dM*Y+3]/255]);
ku[4*Y+0]=il[0]*255;ku[4*Y+1]=il[1]*255;ku[4*Y+2]=il[2]*255}else if(dM==7)for(var Y=0;Y<hM;Y++){ku[4*Y+0]=gu[dM*Y+0];
ku[4*Y+1]=gu[dM*Y+1];ku[4*Y+2]=gu[dM*Y+2]}else console.log("unknown number of channels",dM);if(fb==1){var j1=az*e0;
for(var Y=0;Y<hM;Y++)ku[4*Y+3]=gu[j1+Y]}var c5=j.yD(ku,aZ,az)?"JPG":"PNG";if(aZ*az<700*700)c5="PNG";
var iE=kk.wV(c5).G0([[ku.buffer]],aZ,az),f6=V.MA(new Uint8Array(iE),"<Image>",0,0);V.R.push(f6);f6.pu=Q;
f6.opacity=Math.round(255*B);f6.ol(cd==0);var fP=new dc;fP.scale(1,-1);fP.concat(R(jd.slice(1)));fP.concat(R(x.ctm));
var jE=f6.add.SoLd,iQ=jE.Sz.v,j8=new eZ(0,0,iQ.Wdth.v,iQ.Hght.v),ag=j.X.Eu(j8).s;j.X.h(ag,fP,ag);f6.add.SoLd.Trnf=E.nF.D1(ag);
f6.add.SoLd.nonAffineTransform=E.nF.D1(ag);f6.Bi(V,!1)}else if(b0=="Ln"){h.push(v(jF))}else if(b0=="u"||b0=="q"||b0=="Lb"){if(b0=="Lb")V.add.prvw=br[1];
kc.push(jb==1);ck.push((b0=="Lb"?1-br[0]:cd)==0);if(P)continue;V.R.push(V.KM())}else if(b0=="U"||b0=="Q"||b0=="LB"){if(kc.length==0||ck.length==0)throw gS;
var bs=kc.pop(),e6=ck.pop();if(b0=="LB")bs=fw==1;if(P)continue;var f6=V.ux();f6.GF((b0=="U"?"<Group>":"<Clip Group>")+i);
if(b0=="LB")f6.GF(h.pop());f6.add.lsct=bs?gA.rW:gA.DG;f6.pu="pass";f6.HA=24;f6.ol(e6);V.R.push(f6);if(hL){if(V.R[V.R.length-3].getName()=="</Layer group>"){V.R.pop();
V.R.splice(V.R.length-2,1)}hL=!1}}else if(b0=="Bb")b$=br[0]!=1;else if(b0=="BB"){}else if(b0=="Bm"||b0=="Bc"||b0=="Xm"){}else if(b0=="Bh")dN=br.slice(2,4);
else if(b0=="Bg"){var c$=W.Setup.Gradient,ba=c$[v(jF)],ag=jF.slice(jF.indexOf(")")+2).split(" ").map(parseFloat);
if(ba==null){console.log("gradient not found");for(var jc in c$){ba=c$[jc];break}}var aC=ag[10];if(isNaN(aC))aC=1;
var eQ=ag.slice(0,4);eQ.push(aC,dN[0],dN[1]);if(Math.max(Math.abs(eQ[0]),Math.abs(eQ[1]))>20){eQ[0]=0;
eQ[1]=0;eQ[3]=1;console.log("strange gradient")}var aR=[ba._W,ba.a28,eQ,ag.slice(4,10)];D(aR,"GdFl",b$)}else if(kx=="p"){var b2=v(jF);
if(V.MI[b2]==null){var dH=W.Setup.Pattern[b2],gZ=dH.UL,aZ=Math.round(gZ[2]-gZ[0]),az=Math.round(gZ[3]-gZ[1]),kB=new iJ,fq=y[0],fP=new dc(1,0,0,-1,-dH.UL[0],az+dH.UL[1]);
fP.concat(new dc(fq,0,0,fq,0,0));var e8=[a,n,s,C];a=[0,0,0];n=[0,0,0];s="SoCo";C="SoCo";T(kB,dH.jq,[fP.M,fP.J,fP.mL,fP.Jo,fP.Dw,fP.rk],W,m,f);
kB.Q=Math.round(aZ*fq);kB._=Math.round(az*fq);kB.N_();kB.V();if(ht==0){kB.buffer=j.U(kB.Q*kB._*4);kB.pa()}a=e8[0];
n=e8[1];s=e8[2];C=e8[3];window.a3C=dH.jq;V.MI[b2]=kB}var cM=jF.slice(jF.indexOf(")")+2),kL=cM.slice(0,cM.indexOf("[")-1).split(" ").map(parseFloat),cQ=cM.slice(cM.indexOf("[")+1,cM.indexOf("]")).split(" ").map(parseFloat);
D([b2,[kL,cQ]],"patt",b0=="p")}else if(b0=="J"||b0=="j"||b0=="w"||b0=="M"||b0=="d"){var fP=x.ctm,fq=Math.sqrt(Math.abs(fP[0]*fP[3]-fP[1]*fP[2]));
for(var Y=1;Y<ag.length;Y++){var fv=ag[Y],bR=br[Y-1];if(fv=="w")A.YX=bR*fq;if(fv=="j")A.P_=bR;if(fv=="J")A.A6=bR;
if(fv=="M")A.Ti=bR;if(fv=="d"){var cI=jF.slice(jF.indexOf("[")+1,jF.indexOf("]")).trim();if(cI.length!=0){var dn=cI.split(" ").map(parseFloat);
A.zZ=dn;for(var ff=0;ff<dn.length;ff++)dn[ff]*=fq}else if(cI=="")A.zZ=[]}}}else if(kx=="xa"||kx=="xx"){var bM=e(jF);
D(bM,"SoCo",b0=="Xa"||b0=="Xx")}else if(kx=="xk"){bM=e(jF);D(bM,"SoCo",b0=="Xk")}else if(kx=="k"||kx=="x"){bM=e(jF);
D(bM,"SoCo",b0==kx)}else if(kx=="g"){var bM=[br[0],br[0],br[0]];D(bM,"SoCo",b0==kx)}else if(kx=="n"){if(!P)q.newPath(x)}else if(b0=="*u"){P=!0;
F=0;ck.push(cd==0)}else if(b0=="*U"||kx=="s"||kx=="f"||kx=="b"){if(b0!="*U"&&P){if(kx=="f"||kx=="b")F|=1;
if(kx=="s"||kx=="b")F|=2;continue}if(b0==kx)q.closePath(x);if(b0=="*U"){P=!1}var f6;{f6=V.ux();f6.HA|=16;
O(f6,x.pth,V,l);var aK=kx=="f"||kx=="b"||b0=="*U"&&F&1,ju=kx=="s"||kx=="b"||b0=="*U"&&F&2,fD=f6.add.vstk=fY.Lg.nI(aK,ju),bD=JSON.parse(JSON.stringify(A));
bD.Bv=[];bD.mx=[];if(aK)bD.Bv=a;if(ju)bD.mx=n;if(ht==0){fY.Lg.write(fD,bD);if(s=="SoCo"){f6.add.SoCo=JSON.parse(fY.iH[fY.order.indexOf("SoFi")]);
var aN=f6.add.SoCo.Clr.v;g(aN,a)}if(s=="GdFl"){f6.add.GdFl=cp.Y5(a,f6.add.vmsk.d)}if(s=="patt"){f6.add.PtFl=S(a,V)}if(ju){var bk=["SoCo","GdFl","patt"].indexOf(C),d8=bk==0?{Clr:{t:"Objc",v:gG.ui(n)}}:bk==1?cp.Y5(n,f6.add.vmsk.d):S(n,V),bc=[fY.$w,fY.Ym,fY.o3][bk],bE=fD.strokeStyleContent.v={classID:fY.Lg.qo[bk]};
for(var Y=0;Y<bc.length;Y++)bE[bc[Y]]=d8[bc[Y]]}}else f6.add.vstl=bD}if(b0=="*U"&&t){f6.kb=!0;t=!1}f6.GF("<"+(b0=="*U"?"Compound ":"")+"Path>"+i);
f6.pu=Q;f6.opacity=Math.round(255*B);f6.ol(b0=="*U"?ck.pop():cd==0);f6.Wr(V);V.R.push(f6);q.newPath(x)}else if(b0==","&&ag[0]=="/XMLUID"){var jw=V.R[V.R.length-1];
for(var Y=0;Y<V.pn.length;Y++)if("("+V.pn[Y].docRef+")"==ag[2])V.pn[Y].docRef="id('"+jw.add.lyid+"')"}else if(b0==","&&ag[1]=="/FreeUndo"){b3=br[0]}else if(b0==","&&ag[1]=="/StoryIndex"){var du=W.Setup.TextDocument,gd=null;
if(!(du instanceof Array))window.aCO=du=W.Setup.TextDocument=_(du,f);var kv=du[0],cx=du[2];if(kv._DocumentResources)kv=du[0]=eO.abV(kv);
else eO.auq(kv);var f6=V.ux();f6.add.lnsr="rend";f6.add.TySh=f4.MU(0,0);var hn=br[0];if(b3==1){for(var Y=1;
Y<60;Y++){var d1=r[gS+Y];if(d1&&d1.endsWith("/StoryIndex ,")){hn=parseFloat(d1.slice(2,d1.indexOf(" ")));
hL=!0;break}}b3=0}var hy=j7.as$(kv),dD=f6.add.TySh.RW=hy[hn];if(dD==null){console.log("text not found");
hL=!1;continue}f6.GF(f4.iZ(dD).slice(0,50));f6.pu=Q;f6.opacity=Math.round(255*B);f6.ol(cd==0);var cV=kv._1._1[hn]._1._0[0]._0;
cV=parseInt(cV.slice(1));var eA=kv._0._8._0,a5=eA[cV]._0;if(a5._0)gd=d(a5._0);else if(a5._1)gd=d(a5._1._0);
else gd=d(a5._2._2).slice(3);if(gd.length!=2){var gZ=j.X.TO(gd);gd=[gZ.x,gZ.y];if(gZ.c()!=0){f4.IC(dD,1);
f4.s7(dD,[0,0,Math.round(gZ.Q),Math.round(gZ._)])}}var a4=new dc,c4=new dc(1,0,0,1,gd[0],gd[1]),fX=new dc(1,0,0,1,-cx[0],-cx[1]),iw=R(x.ctm),cJ=new dc;
if(a5._2&&a5._2._2){var y=d(a5._2._2);cJ=new dc(y[0],y[1],y[2],y[3],y[4],y[5])}a4.concat(c4);a4.concat(cJ);
a4.concat(fX);a4.scale(1,-1);a4.concat(iw);f6.add.TySh.h=a4;V.R.push(f6);V.P5=!0}else if(b0=="Tp"){J.Ce=R(br)}else if(b0=="Tf"){J.font=ag[0].slice(2)}else if(b0=="Tk"){var f6=V.ux();
f6.add.lnsr="rend";var aV=f6.add.TySh=f4.MU(0,0),dD=aV.RW,fP=J.Ce.clone(),iQ=fP.Ha();fP.concat(R(x.ctm));
var kO=new dc(1/iQ,0,0,-1/iQ,0,0);kO.concat(fP);aV.h=kO;var fa=v(jF);f6.GF(fa);f4.lL(dD,0,fa);var fO=f4.dm(dD,0,fa.length);
fO.CX.FontSize=iQ;fO.CX.FillColor={Type:1,Values:[1,a[0],a[1],a[2]]};f4.YW(fO,J.font);f4.Xy(dD,0,fa.length,fO);
V.R.push(f6);V.P5=!0}else if(w&&br.length>3){var f3=!1;for(var Y=0;Y<br.length;Y++)if(isNaN(br[Y]))f3=!0;
if(!f3)r[gS+1]=(jF+" "+r[gS+1]).replace(/\s\s+/g," ")}}}function S(a,V){if(V.mi==null)V.mi={};var r=V.mi[a[0]];
if(r==null){var y=V.MI[a[0]],r=V.mi[a[0]]={};r.id=iJ.I8()+"-d71c-11e5-b1ae-a548a96e5f9f";r.name="someImage";
r.ZS=[y.TB(),new eZ(0,0,y.Q,y._)];V.r4(r)}var W=JSON.parse(fY.iH[fY.order.indexOf("patternFill")]);W.Ptrn.v.Idnt.v=r.id;
var m=R(a[1][1]),f=-Math.atan2(-m.J,m.M);W.Angl.v.val=Math.round(f*180/Math.PI);W.Scl.v.val=Math.round(100*m.Ha());
return W}cp.Y5=function(V,r){var y=cp.EL(V,r),W=[0,0,1,0];if(V[0]==0)W[0]=.5;j.X.h(W,y,W);var m=JSON.parse(fY.iH[fY.order.indexOf("GrFl")]),f=m.Grad.v;
f.Intr.v=0;m.Type.v.GrdT=["Lnr","Rdl"][V[0]];j.G.gD(V[1],f);j.G.hP(new kK(W[0],W[1]),new kK(W[2],W[3]),j.n.oz(r),m);
return m};cp.Ey=function(V,r){var y={Lnr:0,Rflc:0,Rdl:1,Angl:1,Dmnd:1}[V.Type.v.GrdT],W=j.n.oz(r),m=j.G.azf(V,W),f=m[0],h=m[1];
if(y==0){f.x-=h.x-f.x;f.y-=h.y-f.y}var b=h.x-f.x,i=h.y-f.y,w=Math.sqrt(b*b+i*i),J=new dc;J.rotate(Math.atan2(-i,b));
J.scale(w,w);J.translate(f.x,f.y);var q=cp.Wu(y,J,r),x=V.Grad.v;q[1]=j.G.avP(x,null,null);return q};
cp.yq=function(V,r,y){var W=kK.f0(V,r),m=new dc;m.scale(W,W);m.rotate(-Math.atan2(r.y-V.y,r.x-V.x));
m.translate(V.x,V.y);if(y)m.concat(y);return m};cp.B4=function(V,r,y,W,m){if(r&&!W.a$(r)){var f=Math.atan2(-(y.y-r.y),y.x-r.x);
if(m!=null||f!=0){var h=new dc;h.translate(-r.x,-r.y);h.scale(1,m);h.rotate(f);h.translate(r.x,r.y);
h.Us();W=h.yt(W)}var b=Math.atan2(-(W.y-r.y),W.x-r.x);V[2][5]=b*180/Math.PI;V[2][6]=kK.f0(W,r)/kK.f0(y,r)}};
cp.Wu=function(V,r,y){var W=r.clone(),i,w,J=1;W.Us();var m=X.JB.xa(y);j.n.de(m,W);var f=j.n.oz(m),h=f.Q,b=f._;
if(V==0){var q=new dc;q.translate(-f.x,-f.y);q.translate(-h/2,-b/2);var x=cp.az_(h,b,0);q.scale(1/x,1/x);
q.scale(1/h,1/b);i=q.Dw+.5;w=q.rk+.5;J=q.M}else{i=-f.x/h-.5;w=-f.y/b-.5;var A=(i-.5)*h/2,Q=(w-.5)*b/2;
J=1/Math.sqrt(2*(A*A+Q*Q))}var B=[V,null,[i,w,0,J,1,0,0],[r.M,r.J,r.mL,r.Jo,r.Dw,r.rk]];return B};cp.EL=function(V,r){var y=V[0],W=V[2],m=V[3],f=new dc(m[0],m[1],m[2],m[3],m[4],m[5]);
f.Us();var h=X.JB.xa(r);j.n.de(h,f);var b=j.n.oz(h),i=b.Q,w=b._,J=W[0],q=W[1],x=W[2]*Math.PI/180,A=W[3],Q=new dc;
if(y==0){Q.scale(A,A);Q.translate(J-.5,q-.5);Q.scale(i,w);Q.rotate(x);var B=cp.az_(i,w,x);Q.scale(B,B);
Q.translate(i/2,w/2)}else{var l=(J-.5)*i/2,P=(q-.5)*w/2,B=A*Math.sqrt(2*(l*l+P*P));Q.scale(B,B*W[4]);
Q.rotate(x);Q.translate((J+.5)*i,(q+.5)*w)}Q.translate(b.x,b.y);Q.concat(new dc(m[0],m[1],m[2],m[3],m[4],m[5]));
return Q};function D(V,r,y){if(y){s=r;a=V}else{C=r;n=V}}function o(V,r,y){var W=UDOC.G,m=[],f=[],h="/DeviceGray",b=1,i=[],w=1;
for(var J=0;J<V.length;J++){var q=V[J];if(q.endsWith(" /CS")){var x=q.indexOf("/NChannel"),A=q.indexOf("/Process");
if(q.startsWith("/DeviceRGB")){h="/DeviceRGB";b=3}else if(q.startsWith("/DeviceGray")){h="/DeviceGray";
b=1}else if(q.startsWith("/DeviceCMYK")){h="/DeviceCMYK";b=4;i=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(x!=-1){h="/DeviceCMYK";
b=parseInt(q.slice(x-2,x-1));var Q=1;for(var Y=0;Y<b;Y++){Q=q.indexOf("[",Q);i[b-1-Y]=q.slice(Q+1,Q+8).split(" ").map(parseFloat);
Q++}}else if(A){h="/DeviceGray";b=1}else throw q}else if(q[0]=="["){var B=q.indexOf("]"),l=q.slice(1,B).split(" ").map(parseFloat),P=q.slice(B+2),F,t,b$,hd,di,hD;
if(P=="/Size"||P=="/P"||P=="/R")continue;if(P=="/S"||P=="/A"){F=l[0];t=l[1];b$=l[2];hd=l[3];di=l[4];
hD=l[5]}else if(P=="/N"){var a$=b+(w==1?0:1),eJ;F=l[a$+0];t=l[a$+1];b$=l[a$+2];hd=l[a$+3];di=l[a$+5];
hD=l[a$+6];if(h=="/DeviceRGB")eJ=l.slice(0,3);else if(h=="/DeviceGray")eJ=[l[0],l[0],l[0]];else if(h=="/DeviceCMYK"){var hY=[0,0,0,0];
for(var Y=0;Y<b;Y++){var ik=l[Y],fw=i[Y];hY[0]+=ik*fw[0];hY[1]+=ik*fw[1];hY[2]+=ik*fw[2];hY[3]+=ik*fw[3]}eJ=c(hY)}else throw eJ;
eJ.push(l[b]);f.push([eJ,F,t])}else throw P;m.push([P,di,hD,F,t,b$,hd])}else if(q=="/E"){var jb=m.slice(0),cd=0;
for(var Y=0;Y<m.length;Y++){var dN=m[Y][0];if(dN=="/N"){cd++;continue}var kc=Y,ck=Y+1;while(m[ck][0]!="/N"&&ck<m.length)ck++;
if(cd==0||cd==3){for(var b3=0;b3<ck-kc;b3++)jb[kc+b3]=m[ck-1-b3]}else for(var b3=kc;b3<ck;b3++){var hL=jb[b3],gS=hL[1];
hL[1]=hL[5];hL[5]=gS;gS=hL[2];hL[2]=hL[6];hL[6]=gS}Y=ck-1}m=[];for(var Y=0;Y<jb.length;Y++){var hL=jb[Y];
m.push(hL[1],hL[2],hL[3],hL[4],hL[5],hL[6])}var jF=m.length;W.moveTo(r,m[2],m[3]);for(var Y=0;Y<jF;Y+=6){var b$=m[(Y+4)%jF],hd=m[(Y+5)%jF],di=m[(Y+6)%jF],hD=m[(Y+7)%jF],F=m[(Y+8)%jF],t=m[(Y+9)%jF];
W.curveTo(r,b$,hd,di,hD,F,t)}W.closePath(r);m=[]}else if(q.endsWith("/Version"))w=parseFloat(q[0])}var kB=y.ux();
kB.HA|=16;kB.GF("<Mesh>");var jw=kB.add.vstk=fY.Lg.nI(!0);O(kB,r.pth,y,0);if(f.length>=2){var iT=0,gY=0,aL=0;
for(var Y=0;Y<f.length;Y++)for(var b3=Y+1;b3<f.length;b3++){var dw=f[Y][0],ka=f[b3][0],cy=dw[0]-ka[0],jP=dw[1]-ka[1],aA=dw[2]-ka[2],d1=Math.sqrt(cy*cy+jP*jP+aA*aA);
if(d1>aL){aL=d1;iT=Y;gY=b3}}var ag=f[iT],b0=f[gY],kx=[[0,ag[0],1,.5],[1,b0[0],1,.5]],br=R(r.ctm),ft=br.yt(new kK(ag[1],ag[2])),iv=br.yt(new kK(b0[1],b0[2]));
if(ft.a$(iv))iv.x+=1;if(ht==0){var k6=kB.add.GdFl=JSON.parse(fY.iH[fY.order.indexOf("GrFl")]),ay=k6.Grad.v;
ay.Intr.v=0;k6.Type.v.GrdT="Lnr";j.G.gD(kx,ay);var eT=j.X.TO(r.pth.crds);ft.x=(ft.x+iv.x)/2;ft.y=(ft.y+iv.y)/2;
j.G.hP(ft,iv,eT,k6)}else{var kD=kB.add.vstl=fY.qm.nI();kD.mx=[];var cP=cp.yq(ft,iv,new dc);kD.Bv=cp.Wu(0,cP,kB.add.vmsk.d);
kD.Bv[1]=kx}}y.R.push(kB);W.newPath(r)}function v(V){var r=V.indexOf(")");while(V[r-1]=="\\")r=V.indexOf(")",r+1);
return V.slice(V.indexOf("(")+1,r).replaceAll("\\","")}function g(V,a){V.Rd.v=a[0]*255;V.Grn.v=a[1]*255;
V.Bl.v=a[2]*255}function d(V){var r=[];for(var Y=0;Y<V.length;Y++)r[Y]=parseFloat(V[Y].slice(1));return r}function R(V){return new dc(V[0],V[1],V[2],V[3],V[4],V[5])}function c(V){return j.V5(V.slice(0,4)).slice(0,3)}function e(V){var r=V.split(" "),y=r[r.length-1],W=y.toLowerCase(),m=r.map(parseFloat),f=null;
if(W=="xa"||W=="xx"||W=="xz"){var f=m[4]==null?m.slice(0,3):[m[4],m[5],m[6]];if(W=="xx"&&m[m.length-2]==2)f=c(m)}else if(W=="g")f=c([0,0,0,1-m[0]]);
else if(W=="x"||W=="k"){if(W=="x"){m.pop();var h=1-m.pop();for(var Y=0;Y<4;Y++)m[Y]*=h}f=c(m)}else if(W=="xk"){var b=m[m.length-2],i=m[m.length-3];
if(b==0)f=c(m);else if(b==1){f=[m[4],m[5],m[6]];for(var Y=0;Y<3;Y++)f[Y]=i*1+(1-i)*f[Y]}else throw V}else throw W;
return f}function O(V,r,y,W){V.add.vmsk=new X.JB;if(r.crds.length!=0)V.add.vmsk.d=U(r);V.add.vmsk.Np=W;
V.Bb();V.Wr(y)}function U(V){var r={s:V.crds,m:V.cmds},y=j.X.ep(r,!1);return y}function K(V,r){var y=[],J=0,Q=0;
for(var W=0;W<2;W++){var m=r[["Raster","Place"][W]];if(m==null)continue;for(var Y=0;Y<m.length;Y++){for(var f=0;
f<3;f++){var h=m[Y][["Data","Document","PlacedObjectPreview"][f]];if(h==null)continue;var b=h._begin,i=h._end;
if(b>i)b=i;y.push([b,i])}}}y.sort(function(l,P){return l[0]-P[0]});var w=[r._begin];for(var Y=0;Y<y.length;
Y++){var q=y[Y],b=q[0]+32;w.push(b,q[1]);J+=q[1]-b}w.push(r._end);var x=r._end-r._begin,A=new Uint8Array(x-J);
for(var Y=0;Y<w.length;Y+=2){var b=w[Y],B=w[Y+1]-b;A.set(new Uint8Array(V.buffer,b,B),Q);Q+=B}return u.Im(A).split(/\r\n|\r|\n/)}function _(V,r){if(V==null)return[];
var y=K(r,V),W="",m="",f=0,h;for(var Y=2;Y<y.length;Y++){var b=y[Y];if(b[0]=="%"){if(f==0)W+=b.slice(1);
else m+=b.slice(1)}else if(b==";")f++;else if(b.endsWith("/RulerOrigin ,"))h=b.split(" ").slice(0,2).map(parseFloat)}var i=[W,m],w=[];
for(var Y=0;Y<2;Y++){var J=i[Y],q=new Uint8Array(J.length);u.ei(q,0,J);var x=FromPS.F.ASCII85Decode({buff:q,off:0}),A=jh.SF(x);
w.push(A)}w.push(h);return w}function Z(V,r){if(V==null)return[];var y=K(r,V);y=y.slice(1);for(var Y=0;
Y<y.length;Y++){var W=y[Y];if(W.startsWith("%AI17_Begin_Content_if_version_gt")||W=="%AI17_Alternate_Content"||W=="%AI17_End_Versioned_Content")y[Y]="";
else if(W[0]=="%")y[Y]=W.slice(W[1]=="_"?2:1)}var m=d3.aBN(y);return m}function H(V,r){var y={};if(V==null)return y;
for(var Y=0;Y<V.length;Y++){var W=K(r,V[Y]),m=W[1],f=v(m),h=m.slice(m.lastIndexOf(")")+2).split(" ").map(parseFloat),b=[];
for(var i=2;i<W.length;i++)b.push(W[i].slice(2));y[f]={UL:h,jq:b}}return y}function G(V,r){var y=[],m,f;
if(V==null)return y;var W=K(r,V);for(var Y=1;Y<W.length;Y++){var h=W[Y];if(h=="0 0 Pb"||h=="PB"||h==""){}else if(h.endsWith("Xa")||h.endsWith("Xz")||h.endsWith("Xx")||h.endsWith("Xk")||h.endsWith(" g")||h.endsWith(" x")||h.endsWith(" k"))m=[0,e(h)];
else if(h.endsWith("Xs"))m=[0,[0,0,0]];else if(h.endsWith("Bg"))m=[1,v(h)];else if(h.endsWith("Pg")||h.endsWith("p"))m=[2,v(h)];
else if(h[0]=="(")f=v(h);else if(h=="Pc")y.push([f,m]);else if(h=="0 BB"||h=="Bb"||h.endsWith("Bh")){}else throw h}return y}function N(V,r){var y={},W,m;
if(V==null)return y;var f=[];for(var Y=0;Y<V.length;Y++){var h=K(r,V[Y]);for(var b=0;b<h.length;b++){var i=h[b];
if(i.endsWith("%_Bs")){var w=i.slice(0,i.length-4);if(!w.endsWith(" "))w+=" ";i=w+"%_BS"}if(i[0]=="("){W=v(i);
var J=i.slice(i.lastIndexOf(")")+2).split(" ");m=parseInt(J[0])}else if(i.endsWith("%_BS")){var q=i.split(" "),B,l=1;
q.pop();q=q.map(parseFloat);var x=q.pop(),A=q.pop(),Q=q.pop();if(Q==0)B=[q[0],q[0],q[0]];else if(Q==2||Q==4)B=[q[4],q[5],q[6]];
else if(Q==1||Q==3)B=c(q);else if(Q==6){if(q.length==3)B=[q[0],q[0],q[0]];else if(q.length>=8)B=q.slice(4,7);
else B=c(q);l=q.pop()}else{throw Q}f.push([x/100,B,l,A/100])}else if(i=="BD"){f.sort(function(P,F){return P[0]-F[0]});
y[W]={_W:m,a28:f};f=[]}}}return y}function z(V){var r="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place Rider".split(" "),y=Date.now(),W=0,m=[],f={Header:{}},h=[f],b=V.length;
while(W<b){var i=W;while(i!=b&&V[i]!=13&&V[i]!=10){i++}if(V[W]==37&&V[W+1]==95&&V[W+2]==37)W+=2;if(V[W]==37&&(V[W+1]==37||V[W+1]==65)){var w=u.x8(V,W,i-W);
if(w=="%%EOF")break;if(w=="%%EndComments"||w=="%EndComments"||w=="%AI5_Begin_NonPrinting"||w=="%AI5_End_NonPrinting--"||w.startsWith("%AI17_Begin_Content_if_version_gt")||w=="%AI17_End_Versioned_Content"){}else{var J=w.indexOf("Begin"),q=Math.max(w.indexOf("_End"),w.indexOf("%End"));
if(J!=-1&&w[J-1]!="%"&&w[J-1]!="_")J=-1;if(J!=-1){var x=w.slice(J+5).split(":")[0],A={_begin:W,_end:W},Q=h[h.length-1];
if(r.indexOf(x)!=-1){if(Q[x]==null)Q[x]=[];Q[x].push(A)}else{if(Q[x]!=null){console.log(h);throw w}Q[x]=A}h.push(A);
if(w.startsWith("%%BeginData")){i=u.S$(V,"%%EndData",W)}else if(w.slice(0,15)=="%%BeginDocument")i=u.S$(V,"%%EndDocument",i);
else if(w=="%AI9_BeginDocumentData")i=u.S$(V,"%AI9_EndDocumentData",i);else if(w=="%AI11_BeginTextDocument")i=u.S$(V,"%AI11_EndTextDocument",i)}else if(q!=-1){if(h.length>1)h.pop()._end=W}else if(h.length==1&&(w.startsWith("%AI")||w.startsWith("%%")&&w.indexOf(" ")!=-1)){var B=1;
if(w.startsWith("%AI"))while(w[B]!="_"&&B<w.length)B++;var l=w.indexOf(":");if(l==-1)l=w.indexOf(" ");
var P=w.slice(B+1,l),F=w.slice(l+1).trim();f.Header[P]=F}}}W=i;if(V[W]==13)W++;if(V[W]==10)W++}return f}function L(V){var r="";
for(var Y=0;Y<V.length;Y++){if(V[Y]=="_"&&V[Y+1]=="x"){var bQ=parseInt(V.slice(Y+2,Y+4),16);r+=String.fromCharCode(bQ);
Y+=4}else if(V[Y]=="_")r+=" ";else r+=V[Y]}return r}function p(V){var r="xmlnode-nodename",y="xmlnode-nodevalue",W="xmlnode-attributes",m="xmlnode-children",f=V[r].split(":").pop().replace("#",""),h=V[W],b=V[m],i="<"+f;
for(var w in h)if(w!="xmlns"&&w!="xmlns:v")i+=" "+w.split(":").pop()+"=\""+h[w][y]+"\"";i+=">"+(b.length==0?"":"\n");
for(var Y=0;Y<b.length;Y++)i+=p(b[Y]);if(V[y])i+=V[y];return i+"</"+f+">\n"}return I}();cp.az_=function(I,k,a){var n=j.X.Eu(new eZ(0,0,I,k)).s,s=new dc;
s.rotate(a);j.X.h(n,s,n);var C=j.X.TO(n);return C.Q/I};cp.ajs=["norm","mul ","scrn","over","sLit",null,"div ",null,null,null,null,null,null,null,"colr",null];
cp.TZ=function(){function I(c){var e=72/c.oE,O=new dc(e,0,0,-e,0,0),U=c.root.children,K=[],_={$X:[],RH:{},azU:0},H=16383,hd=0,hD=0;
for(var Y=0;Y<c.RJ.length;Y++){var Z=c.RJ[Y];if(Z[1].length==4)d(Z[1],_,Z[0])}for(var Y=0;Y<U.length;
Y++)D(U[Y],c,O,_,K,0);var G=["%!PS-Adobe-3.0\r","%%Creator:Adobe Illustrator (TM) 15.000000 Exported from Photopea","%%Title:Sitecreator.io.ai\r","%%CreationDate:\r","%%Canvassize:"+H+"\r","%%BoundingBox:0 0 0 0\r","%%DocumentProcessColors: Cyan Magenta Yellow Black\r","%AI3_ColorUsage: Color\r","%AI3_Cropmarks:0 0 1 1\r","%AI3_TileBox:0 0 1 1\r","%AI3_TemplateBox:0 0 1 1\r","%AI3_DocumentPreview: None\r","%AI5_ArtSize: 0 0 \r","%AI5_NumLayers: 1\r","%AI5_FileFormat 2.0\r","%AI9_ColorModel: 1\r","%AI12_CMSettings: 00.MS\r","%%BeginProlog\r","%%EndProlog\r"];
G.push("%%BeginSetup\r");G=G.concat(_.$X);for(pn in c.MI){var N=c.MI[pn],z=c.oE/72;G.push("%AI3_BeginPattern: ("+pn+")");
G.push("("+pn+") 0 0 "+Math.round(N.Q/z)+" "+Math.round(N._/z));var U=N.root.children,L=[];for(var Y=0;
Y<U.length;Y++)D(U[Y],N,O,_,L,1);L=window.a3C;for(var Y=0;Y<L.length;Y++){var p=L[Y];G.push(p.startsWith("%_")?p:"%_"+p)}G.push("E","%AI3_EndPattern")}if(c.RJ.length!=0){G.push("%AI5_BeginPalette","0 0 Pb");
for(var Y=0;Y<c.RJ.length;Y++){var Z=c.RJ[Y],V="("+Z[0]+")",r=Z[1].length;if(Z[0]=="[Registration]")G.push("0.749721 0.679194 0.670497 0.901457 0 0 0 ([Registration]) 0 1 Xz");
else if(r==3)G.push(S(j.MP(Z[1]).concat(Z[1]))+" "+V+" 0 1 Xk");else if(r==4)G.push("Bb","0 0 0 0 Bh",Z[1][0]+1+" "+V+" 0 0 0 1 1 0 0 1 0 0 1 Bg","0 BB");
else if(r==2)G.push(V+" 0 0 1 1 0 0 0 0 0 [1 0 0 1 0 0] p");G.push(V,"Pc")}G.push("PB","%AI5_EndPalette")}G=G.concat(["%AI9_BeginDocumentData\r","/Document :","/Dictionary :","0 /Int (CropAreaActive) ,","/Array :"]);
var y=c.add.arts;for(var Y=0;Y<y.length;Y++){var W=y[Y];console.log(W);var m=W.UL[0]*e,f=-W.UL[1]*e,h=W.UL[2]*e,b=-W.UL[3]*e;
G.push("/Dictionary :","("+W.h2+") /UnicodeString (Name) ,","1 /Real (PAR) ,","1 /Bool (IsArtboardDefaultName) ,",H/2+" "+H/2+" /RealPoint"," (RulerOrigin) ,","0 /Int (DisplayMark) ,",a(m)+" "+a(f)+" /RealPointRelToROrigin"," (PositionPoint1) ,",a(h)+" "+a(b)+" /RealPointRelToROrigin"," (PositionPoint2) ,","; ,")}G=G.concat("; (ArtboardArray) ,-/Dictionary :-/Array :-; (SelHatDocInterIDsArray) ,-; (SelHatDocTableDict) ,-; /Recorded ,-/Dictionary : /NotRecorded ,-/Dictionary : /NotRecorded ,-; (PDFPresetCollection) ,-; /NotRecorded ,-;-%AI9_EndDocumentData\r".split("-"));
var i=[],w=[];for(var Y=0;Y<c.R.length;Y++){var J=c.R[Y],q=J.add.TySh;if(q){i.push(q.RW);w.push(q)}}if(i.length!=0){var x=j7.aCs(i,null,null);
function A(W){return W.map(function(a$){return"f"+a$})}for(var Q=0;Q<i.length;Q++){var q=w[Q],B=x._1._1[Q],l=B._1._0[0]._0;
l=parseInt(l.slice(1));var P=x._0._8._0[l]._0,F=q.h.clone();F.concat(O);F.scale(1,-1);P._2._2=A([F.M,F.J,F.mL,F.Jo,F.Dw,F.rk])}var t=k(x),b$=k(x);
G.push("%AI11_BeginTextDocument");G.push("/AI11TextDocument : /ASCII85Decode ,");G=G.concat(t);G.push("0.0001 0.0001 /RulerOrigin ,");
G.push(";");G.push("/AI11UndoFreeTextDocument : /ASCII85Decode ,");G=G.concat(b$);G.push(";");G.push("%AI11_EndTextDocument")}G.push("%%EndSetup\r");
G=G.concat(K);console.log(G.join("\n"));G.push("%%PageTrailer\r","gsave annotatepage grestore showpage\r","%%Trailer\r","%%EOF\r","\r","");
for(var Y=0;Y<G.length;Y++){var W=G[Y];if(typeof W=="string")W=G[Y]=u.ba(W);hd+=W.length+1}var di=new Uint8Array(hd);
for(var Y=0;Y<G.length;Y++){var W=G[Y];di.set(W,hD);hD+=W.length;di[hD]=13;hD++}return d3.atB(di).buffer}function k(c){var e=new ig,O=jh.OM(c,e)-2,U=R(e.data.slice(0,O)),K=[];
for(var _=0;_<U.length;_+=100){if(U.length-_<103){K.push("%"+U.slice(_));break}K.push("%"+U.slice(_,_+100))}return K}function a(bQ){return bQ.toFixed(3)}function n(c,e){var O=c.getName(),U=null;
e.push("%_/ArtDictionary :");if(c.add.vmsk)U=c.add.vmsk.eh;if(c.add.SoLd){var K=j.t.HJ(c.add.SoLd);U=Math.atan2(-K.J,K.M)}if(c.add.TySh){var K=c.add.TySh.h;
U=Math.atan2(-K.J,K.M)}if(U!=null&&U!=0)e.push("%_("+U+") /String (BBAccumRotation) ,");if(c.add.TySh)e.push("%_(21b560b4-4fda-4f2d-b9c0-837007f17e72) /UnicodeString (AI24 TextStoryRawDataUUID) ,");
else if(!O.startsWith("<")&&!O.endsWith(">")){e.push("%_/XMLUID : "+s(O)+" ; (AI10_ArtUID) ,")}e.push("%_;","%_")}function s(c){var e="";
for(var Y=0;Y<c.length;Y++){var O=c[Y],U=c.charCodeAt(Y);if(O==" ")e+="_";else if(O=="."||O==":"||O=="-"||48<=U&&U<=57||65<=U&&U<=90||97<=U&&U<=122||127<U)e+=O;
else e+="_x"+U.toString(16).toUpperCase()+"_"}return"("+e+")"}function C(c,e,O){O.push(S(c)+" "+e)}function T(c){return"[ "+S(c)+" ]"}function S(c){return c.map(a).join(" ")}function D(c,e,O,U,K,_){var Z=c.o;
if(_!=0)K.push("0 A",(Z.K7()?0:1)+" Xw");if(Z.hd()){var H=!1;for(var Y=0;Y<c.children.length;Y++)if(c.children[Y].o.kb)H=!0;
var G=Z.add.lsct==gA.rW?1:0;if(_==0){K.push("%AI5_BeginLayer");K.push((Z.K7()?1:0)+" "+e.add.prvw+" 1 1 0 0 1 -1 51 44 43 0 100 0 Lb");
K.push("("+Z.getName()+") Ln");K.push(G+" AE");n(Z,K)}else{K.push(G+" Ae");K.push(H?"q":"u")}for(var Y=0;
Y<c.children.length;Y++)D(c.children[Y],e,O,U,K,_+1);if(_==0)K.push("LB","%AI5_EndLayer--");else{K.push(H?"Q":"U");
n(Z,K);o(Z,K);K.push("0 0 Xd","6 () XW")}}else if(!0){o(Z,K);var N=Z.add.TySh,z=Z.add.vmsk;if(N){K.push("/AI11Text :","0 /FreeUndo ,","0 /FrameIndex ,",U.azU+" /StoryIndex ,");
if(f4.Dd(N.RW)==1){var L=f4.nO(N.RW),p=j.X.Eu(new eZ(L[0],L[1],L[2],L[3])).s;j.X.h(p,N.h,p);j.X.h(p,O,p);
K.push("/Art :","X=","1 Ap",p[0]+" "+p[1]+" m",p[2]+" "+p[3]+" L",p[4]+" "+p[5]+" L",p[6]+" "+p[7]+" L",p[0]+" "+p[1]+" L","n","X+","; /ConfiningPath ,")}K.push("2 /TextAntialiasing ,",";");
U.azU++}else if(Z.add.SoLd){var V,r,y,W=Z.add.SoLd,m=W.Idnt.v,f=e.pK(m,W.Crop?W.Crop.v:null),h=f.IV,V=h[0],r=h[1];
y=j.t.HJ(W);var b=new dc(1,0,0,-1,0,0);b.concat(y);b.concat(O);var i=r.c(),w=r.Q,J=r._,q=j.U(i*4+8);
for(var Y=0;Y<i;Y++){var x=Y*4,A=Y*3;q[A]=V[x];q[A+1]=V[x+1];q[A+2]=V[x+2];q[3*i+Y]=V[x+3]}u.ei(q,i*4,"%EndData");
K.push("%AI5_File:","%AI5_BeginRaster",T([b.M,b.J,b.mL,b.Jo,b.Dw,b.rk])+" 0 0 "+[w,J,w,J].join(" ")+" 8 3 1 17 1 0 4 4 0 0","%BeginData: "+(i*4+4),"XI",q,"XH","%AI5_EndRaster","N")}else if(z){var Q=Z.add.vstl,B,l;
if(Q){B=Q.Bv;l=Q.mx;if(B.length==0)B=null;if(l.length==0)l=null}var P=j.n.gZ(z.d)>1;if(P)K.push("*u","0 Xw");
if(B){if(B.length==3)C(B,"Xa",K);else if(B.length==4){var F=g(B,U);K.push("Bb",F,"2 BB")}else{K.push("("+B[0]+") "+B[1][0].join(" ")+" ["+B[1][1].join(" ")+"] p")}}if(l){var t=O.Ha(),b$=Q.zZ.slice(0);
for(var Y=0;Y<b$.length;Y++)b$[Y]*=t;K.push(Q.A6+" J "+Q.P_+" j "+Q.YX*t+" w "+a(Q.Ti)+" M ["+b$.join(" ")+"]0 d");
if(l.length==3)C(l,"XA",K);else if(l.length==4){var F=g(l,U);K.push("1 Bb",F,"2 BB")}else{K.push("("+l[0]+") "+l[1][0].join(" ")+" ["+l[1][1].join(" ")+"] P")}}var hd=j.X.wb(z.d,1);
j.X.h(hd.s,O,hd.s);var di=Z.kb?"h\nW\nn":B&&l?"b":B?"f":"s";v(hd,di,z.Np,K);if(P)K.push("*U")}n(Z,K)}else{var hD=["0 Ae","u","0 Ae","*u","4 As","0 O","0.749721467494965 0.679194271564484 0.670496642589569 0.901457190513611 0 0 0 Xa","0 1 0 0 0 Xy","0 J 0 j 1 w 10 M []0 d","0 XR","111.18822479248 -34.0734329223633 m","78.6218032836914 -68.3782501220703 L","50.4593849182129 -42.8814239501953 L","111.18822479248 -34.0734329223633 L","F","4 As","1 D","127.456848144531 -25.6510887145996 m","36.9820060729981 -38.7733764648438 L","78.938850402832 -76.7589797973633 L","127.456848144531 -25.6510887145996 L","127.456848144531 -25.6510887145996 L","f","*U","U","%_/ArtDictionary :","%_/XMLUID : (stroke_center_00000129180656820086388900000009385145657589981339_) ; (AI10_ArtUID) ,","%_;","%_","0 0 Xd","6 () XW","%_3 As","%_0 D","%_36.9820193421074 -38.7733812949637 m","%_127.456839485992 -25.65107913669 l","%_78.9388538744815 -76.758992805755 l","%_36.9820193421074 -38.7733812949637 l","%_n","%_/ArtDictionary :","%_/XMLUID : (stroke_center) ; (AI10_ArtUID) ,","%_;","%_","1 (Anon EuoqR7CI7zs=) XW"];
K=K.push(hD.join("\n"))}}function o(c,e){var O=cp.ajs.indexOf(c.pu);if(O==-1)O=0;e.push(O+" "+a(c.opacity/255)+" 0 0 0 Xy")}function v(c,e,O,U){U.push(O+" XR");
var K=0;for(var _=0;_<c.m.length;_++){var Z=c.m[_],H,G=0,N="";if(Z=="M"){G=2;H="m"}if(Z=="L"){G=2;H="l"}if(Z=="C"){G=6;
H="c"}for(var Y=0;Y<G;Y++)N+=a(c.s[K+Y])+" ";K+=G;if(G!=0)U.push(N+H);if(_==c.m.length-1||c.m[_+1]=="M"){U.push(Z=="Z"?e:e.toUpperCase())}}}function g(c,e){var O=d(c,e),U="";
if(c[0]==1)U="0 0 "+c[2].slice(5).map(a).join(" ")+" Bh\n";return U+"1 ("+O+") "+c[2].slice(0,4).map(a).join(" ")+" "+c[3].map(a).join(" ")+" "+a(c[2][4])+" Bg"}function d(c,e,O){var U=c[0],K=c[1].slice(0),_=U+"-"+JSON.stringify(K);
if(e.RH[_])return e.RH[_];console.log(O);var Z=e.RH[_]=O?O:"grd"+e.$X.length;e.$X.push("%AI5_BeginGradient: ("+Z+")","("+Z+") "+U+" "+K.length+" Bd","[","4 %_Br","0","0","1","4 %_Br","[");
if(U==0)K=K.reverse();for(var Y=0;Y<K.length;Y++){var H=K[Y];if(H[3]==null)throw"e";var G=j.MP(H[1]),N=100*H[3],z=G.concat(H[1]).map(a).join(" ")+" 2 "+a(H[2])+" 6 "+N+" "+a(H[0]*100);
e.$X.push(z+" %_BS");e.$X.push("%_"+z+" Bs")}e.$X.push("BD","%AI5_EndGradient");return Z}function R(c){var e=[85*85*85*85,85*85*85,85*85,85,1],O="",U=c.length,K=new Uint8Array(4),_=new Uint32Array(K.buffer);
for(var Y=0;Y<U;Y+=4){var Z=U-Y;K[3]=c[Y];K[2]=Z>1?c[Y+1]:0;K[1]=Z>2?c[Y+2]:0;K[0]=Z>3?c[Y+3]:0;var H=_[0],G=1+Math.min(4,Z);
for(var N=0;N<G;N++){var z=Math.floor(H/e[N]);O+=String.fromCharCode(33+z);H-=z*e[N]}}return O+"~>"}return I}();
function g0(){}g0.SF=function(){var I,k,a,n,s,C=!0,Z,H,G;function T(i){return C?u.sg(I,i):u.C(I,i)}function S(i){return C?u.Ge(I,i):u.Ij(I,i)}function D(i){return C?u.SS(I,i):u._x(I,i)}function o(i){return u.Ge(I,i)}function v(i){return u.sg(I,i)}function g(i){return u.hK(I,i)}function d(i,w){if(i+w*4>I.length)throw w;
var J=[];for(var Y=0;Y<w;Y++)J.push(T(i+Y*4));return J}function R(i,w){var J=[];for(var Y=0;Y<w;Y++)J.push(D(i+Y*8));
return J}function c(i){return v((i+1)*4096-12)}function e(i){return v((i+1)*4096-8)}function O(i,k,w,J){if(n[i]==null)n[i]=[];
n[i].push([J,new Uint8Array(I.buffer,k,w)])}function U(i,w,J,q){var x=a[i],k=x*4096;k=k+v(k+4096-24-12-w*4);
var A=o(k),Q=I[k+2],B=I[k+3];if(w!=Q)throw Q;if(B==0)O(q,k+4,J,9);else{var l=o(k+6),P=v(k+8);O(q,k+12,A-12,9);
U(P,l,J-(A-12),q)}}function K(){var i=v(352),w=v(i*4096+128),J=v(936);a=[];n={};s={};for(var Y=0;Y<1e9;
Y++){var q=v(J*4096+128+Y*4);if(q==0)break;var x=d(q*4096+128,4096-128-12>>>2);a=a.concat(x)}for(var A=0;
A<a.length;A++){var Q=a[A],B=c(Q);if(B!=6)continue;var k=Q*4096,l=v(k);k+=4;for(var Y=0;Y<l;Y++){var P=v(k);
k+=4;var F=v(k);k+=4;var t=v(k);k+=4;var b$=v(k);k+=4;if(P==0)s[F]=t;else{var hd=t&65535,di=t>>>16;if(di==0)O(F,b$*4096,hd,8);
else U(b$,di,hd,F)}}}var Z={};for(var hD in n){var a$=n[hD],eJ=a$.length;if(eJ==1)Z[hD]=a$[0][1];else{var hY=0,k=0;
for(var Y=0;Y<eJ;Y++)hY+=a$[Y][1].length;var ik=Z[hD]=new Uint8Array(hY);for(var Y=0;Y<eJ;Y++){ik.set(a$[Y][1],k);
k+=a$[Y][1].length}}}return Z}function _(k,i){var w=0,J="";if(i){w=T(k);k+=4}else{k+=3;w=S(k);k+=2}while(J.length<w){var q=S(k),x=q&255,A=q>>>8,Q=0,B="";
x+=(A&15)*256;A=A&240;k+=2;if(x==0)throw"e";for(var Y=0;Y<x;Y++){if(A==64)Q=I[k++];else if(A==128){Q=S(k);
k+=2}else throw A;B+=String.fromCharCode(Q)}J+=B}return[J,k]}function N(k,i,w){var J=d(k,i);for(var Y=0;
Y<i;Y++){w.push(Y);if(J[Y]>H)throw"e";J[Y]=L(J[Y],w);w.pop()}return J}var z={};function L(i,w){if(G.indexOf(i)!=-1)return Z[i];
if(i==0)return null;if(Z[i]==null)return null;if(!(Z[i]instanceof Uint8Array))return Z[i];var J=I,k=0;
I=Z[i];G.push(i);var q=s[i].toString(16),x=Z[i]={_type:b[q]?b[q]+":"+q:"typ-"+q,_eid:i};while(k+8<I.length){if(C&&v(k+4)>268435455&&v(k+4)!=1179258880)C=!1;
var A=T(k);k+=4;var Q=T(k);k+=4;var B=A.toString(16),l=k+Q;if(k+Q>I.length){x._bin=I;break}p(B,W,x,k,Q,w);
k=l}I=J;G.pop();return x}function p(i,w,J,k,q,x){var A=w[i+":"+J._type];if(A==null)A=w[i];x.push(A?A[0]==""?i:A[0]:i);
if(A){var Q=A[0],B=null,l=A[1];if(Q=="")Q=l+"-"+i;if(f[l]&&q!=f[l]){console.log(l);console.log(i,A);
console.log(I.slice(k,k+q));throw"e"}if(l=="mat")B=R(k,6);else if(l=="mmat")B=[L(T(k),x),q==6?[1,0,0,1,0,0]:R(k+6,6)];
else if(l=="rect")B=R(k,4);else if(l=="mrct"){B=R(k,4);B.push(o(k+32))}else if(l=="doub")B=D(k);else if(l=="pointArr"){var P=o(k);
B=d(k+2,P*2)}else if(l=="usrt")B=o(k);else if(l=="uint")B=T(k);else if(l=="pntr"||l=="ptr6"){B=L(T(k),x)}else if(l=="bool2"){if(S(k)!=0&&S(k)!=1)throw S(k);
B=S(k)==1}else if(l=="bool4"){if(v(k)!=0&&v(k)!=1)throw i+","+v(k);B=v(k)==1}else if(l=="color"){if(q!=38&&q!=30)throw q;
var F=T(k),t=S(k+4);B=[F];for(var Y=0;Y<t;Y++)B.push(D(k+6+Y*8))}else if(l=="path"){var b$=k+q;B=[];
var hd=T(k);k+=4;for(var Y=0;Y<hd;Y++){var di=[[]];B.push(di);var hD=T(k);k+=4;for(var a$=0;a$<hD;a$++){var F=T(k);
k+=4;if(F<2){di[0].push([F,D(k),D(k+8),D(k+16),D(k+24),D(k+32),D(k+40)]);k+=48}else if(F==2){di[0].push([F,D(k),D(k+8)]);
k+=16}else throw F}di.push(o(k));k+=2}}else if(l=="ptrAndList"){var eJ=T(k),hY=T(k+4);B=N(k+8,hY,x);
B.unshift(L(eJ,x))}else if(l=="ptrArray"||l=="ptrArrayX"){var ik=q>>2;if(l=="ptrArray"){ik=T(k);k+=4;
if(q!=4+ik*4)throw q}B=N(k,ik,x)}else if(l=="ptrArray2"){var ik=T(k);k+=4;B=N(k,ik,x);k+=ik*4;ik=T(k);
k+=4;B.push(N(k,ik,x))}else if(l=="cldrn"){var fw=T(k),jb=T(k+4),ik=T(k+8);B={p:L(fw,x),eW:L(jb,x),i6:N(k+12,ik,x)};
if(q!=12+ik*4){console.log(i,sa);throw"e"}if(fw==0)throw fw}else if(l=="aprnc"){var ik=T(k);k+=4;B={};
for(var Y=0;Y<ik;Y++){var cd=T(k),dN=S(k+4),kc=S(k+6);k+=8;var ck=h[cd.toString(16)];if(ck==null)ck="prm-"+cd.toString(16);
else ck=y(ck);B[ck]=[];for(var a$=0;a$<kc;a$++){var b3=T(k),hL=S(k+4),gS=null;k+=6;if(b3==28264)gS=D(k);
else if(b3==28263)gS=T(k);else if(b3==279||b3==6917)gS=L(T(k),x);else if(b3==28261)gS=o(k)==1;else if(b3==28265)gS=[D(k),D(k+4)];
else if(b3==6914||b3==83231)gS=_(k)[0];else if(b3==28259||b3==28260||b3==23094||b3==67679){gS=I.slice(k,k+hL)}else throw b3.toString(16);
B[ck].push(gS);k+=hL}}}else if(l=="lopts"){var jF=6;while(I[k+jF]<2)jF++;B={af1:S(k+0)==1,show:S(k+2)==1,aED:S(k+4)==1,Ta:T(k+jF),name:_(k+jF+8)[0]}}else if(l=="origin"){var b$=k+q;
if(I[k++]!=1)throw"e";var P=v(k);k+=4;var kB=u.x8(I,k,P);k+=P;if(I[k++]!=1)throw"e";var jw=I[k++];if(jw!=1&&jw!=53)throw jw;
var iT=o(k);k+=2;if(iT!=0&&iT!=1)throw iT;var gY=v(k);k+=4;if(gY!=0&&gY!=1)throw gY;var aL=v(k);k+=4;
if(aL!=0&&aL!=2&&aL!=3)throw aL;var dw=v(k);k+=4;var ka=_(k,!0);k=ka[1];ka=ka[0];var cy=v(k),jP=v(k+4);
k+=8;var aA=v(k);k+=4;if(aA!=0)throw aA;var d1=v(k);k+=4;var ag=_(k)[0];k+=2+2+ag.length+3;B={file:kB,id:ka,Uy:ag}}else if(l=="string")B=_(k)[0];
else if(l=="relEnt"){var b0=S(k);k+=2;B=[];for(var Y=0;Y<b0;Y++)B.push([T(k+Y*8),L(T(k+Y*8+4),x)])}else if(l=="textData"){var b$=k+q,kx=T(k);
k+=4;var cd=T(k);k+=4;var t=S(k);k+=2;var br=[];for(var Y=0;Y<t;Y++){var ft=T(k);k+=4;if(kx==514)br.push(_(k,!0)[0]);
else if(kx==515){var iv=T(k),i=T(k+4),k6=V(k+8,x);br.push([iv,L(i,x),k6])}else if(kx==516){var iv=T(k),i=T(k+4),ay=S(k+8),k6=V(k+8,x);
br.push([iv,L(i,x),k6])}else br.push(I.slice(k,k+ft));k+=ft}if(b$-k!=12)throw b$-k;B=br}else if(l=="storyProps"){var eT=T(k);
if(S(k+4)>1)throw"e";var kD=L(T(k+6),x),t=T(k+10),cP=L(T(k+14+t*4),x);B={ae4:eT,ahO:kD,i6:N(k+14,t,x),anp:cP,avn:d(k+14+t*4+4,4)}}else if(l=="styleProps")B=V(k,x);
else if(l=="bounds"){var cU=k,b0=T(k);k+=4;B=[];for(var Y=0;Y<b0;Y++){var gu=[];B.push(gu);for(var a$=0;
a$<4;a$++)gu.push(D(k+a$*8));k+=32;gu.push(I[k]);k++}if(k!=cU+q)throw"e"}else if(l=="columnPos"){var b0=T(k);
k+=4;B=[R(k,b0),D(k+b0*8)];k+=b0*8+8}else if(l=="StyleName"){B=[T(k+4)]}else if(l=="fontName"){var b$=k+q;
B=[S(k)];k+=2;for(var Y=0;Y<2;Y++){var kB=_(k);k=kB[1];B.push(kB[0])}B.push(T(k));k+=4;var jd=S(k);k+=2;
B.push(jd);var i$=S(k);k+=2;var hT=[];B.push(hT);for(var jk=0;jk<i$;jk++){var i1=[];hT.push(i1);var kB=_(k);
k=kB[1];i1.push(kB[0]);var aZ=S(k);if(aZ<100){k+=2;var kB=u.x8(I,k,aZ);k+=aZ;i1.push(kB)}else{var kB=_(k);
k=kB[1];i1.push(kB[0])}for(var Y=0;Y<3;Y++){var kB=_(k);k=kB[1];i1.push(kB[0])}i1.push(T(k));k+=4;var kB=_(k,!0);
k=kB[1];i1.push(kB[0])}if(k+4!=b$)throw"e";B.push(T(k))}else throw l;if(J[Q]!=null){console.log(Q,J[Q],B);
console.log(x.slice(0));console.log(eid,i,k,J[Q],A,B);throw"e"}J[Q]=B}else{var az=I.slice(k,k+q);J["prop-"+i]=az}x.pop()}function V(k,i){var w=S(k);
k+=2;var J={};for(var Y=0;Y<w;Y++){var q=T(k);k+=4;var x=q.toString(16),A=S(k);k+=2;var Q=S(k);k+=2;
for(var B=0;B<Q;B++){var l=T(k);k+=4;var P=S(k);k+=2;p(x,m,J,k,P,i);k+=P}}return J}function r(i){C=!0;
I=new Uint8Array(i);Z=K();var w=Z[2147483649];w=u.Im(w,4,w.length-4);delete Z[2147483649];H=0;for(var J in Z)H=Math.max(H,parseInt(J));
G=[];var q={};for(var J in Z)q[J]=Z[J];for(var J in Z)L(parseInt(J),[]);return Z}function y(i){i=i.split(" ").join("");
return i[0].toLowerCase()+i.slice(1)}var W={"2d2":["","bool2"],"1623":["","bool2"],"2c32":["visible","bool2"],cd1f:["","bool2"],"1b8":["","bool4"],"2c2d":["locked","bool4"],"118":["","uint"],"119":["bitmap","uint"],"117":["","uint"],"117:Page:50f":["color","pntr"],"117:Fill:1f05":["parentFill","pntr"],"56c":["","uint"],bf31:["","uint"],ca58:["","uint"],cade:["","uint"],"313":["","pntr"],a6b:["trapPreset","pntr"],e02:["","pntr"],"170d":["bitmapFill","pntr"],"1b916":["","pntr"],"205":["columns","ptrAndList"],"220":["obj228","ptrAndList"],"2ab":["story","ptrArrayX"],"302":["layer","ptr6"],"154":["rect","rect"],"21f":["rect","rect"],"27e":["","rect"],"2d6":["rect","rect"],"565":["rect","rect"],"5dd":["rect","rect"],"1633":["rect","rect"],"51a":["margins","mrct"],"151":["transform","mat"],"2de":["transform","mat"],"40d":["transform","mat"],"56e":["transform","mat"],"5cc":["transform","mat"],"140f":["mTransform","mmat"],"14527":["transform","mat"],"528":["columnPos","columnPos"],"261":["relEnt","relEnt"],"262":["textData","textData"],"15b":["children","cldrn"],"2c8":["children","cldrn"],"303":["children","cldrn"],"503":["children","cldrn"],"28dc":["children","cldrn"],"104e5":["children","cldrn"],"1b95a":["children","cldrn"],"1f01":["color","color"],"162b":["path","path"],"6e03":["appearance","aprnc"],"304":["lopts","lopts"],"2c10":["name","string"],"8c92":["origin","origin"],"3e05":["name","fontName"],"20f":["","ptrArrayX"],"210":["","ptrArrayX"],"211":["","ptrArrayX"],"222":["stories","ptrArray2"],"223":["stoProps","storyProps"],"23f":["styProps","styleProps"],"2c6b":["bounds","bounds"],"230":["name","StyleName"],"301":["layers","ptrArray"],"501":["spreads","ptrArray"],"4c01":["sections","ptrArray"],"1401":["masterSpreads","ptrArray"],a67:["","ptrArray"],"1f05":["colors","ptrArray"],"1f0c":["","ptrArray"],"1f60":["","ptrArray"],"1f61":["","ptrArray"],"288a":["","ptrArray"],"377c":["textFrames","ptrArray"],"3e06":["","ptrArray"],"1081d":["","ptrArray"]},m={"1b01":["fillColor","pntr"],"1b02":["fontStyle","string"],"1b03":["FontSize","doub"],"1b11":["FontCaps","usrt"],"1b16":["StartIndent","doub"],"1b17":["EndIndent","doub"],"1b18":["FirstLineIndent","doub"],"1b1b":["leading","doub"],"1b26":["SpaceBefore","doub"],"1b27":["SpaceAfter","doub"],"1b2a":["Underline","bool2"],"1b2b":["font","pntr"],"1b3c":["FontBaseline","usrt"],"1b3d":["Strikethrough","bool2"],"1b7e":["align","usrt"]},f={mat:48,mrct:34,rect:32,doub:8,ptr6:6,uint:4,pntr:4,bool4:4,bool2:2,usrt:2},h={"10816":"Object Opacity","10891":"Stroke Opacity","10892":"Stroke Blending Mode","10893":"Stroke Knockout Group","10894":"Stroke Isolate Blending","108d8":"Fill Opacity","108d9":"Fill Blending Mode","108da":"Fill Knockout Group","108db":"Fill Isolate Blending","10817":"Object Blending Mode","10818":"Object Knockout Group","10819":"Object Isolate Blending","6e64":"Stroke Swatch","6e65":"Stroke Weight","6e66":"Stroke Tint","6e6e":"Stroke Type","6e68":"Fill Swatch","6e69":"Fill Tint","6e6b":"Stroke Cap","6e6c":"Stroke Join","6e6d":"Stroke Mitre Limit","6e8c":"Stroke Align Stroke","6e71":"Stroke Start Arrrowhead","6e72":"Stroke End Arrrowhead","6e89":"Stroke Gap Color Swatch","6e8a":"Stroke Gap Tint","6e84":"Stroke Arrowhead Align","6e95":"Stroke Start Arrowhead Scale","6e96":"Stroke End Arrowhead Scale","6e8f":"Corner 1 Shape","6e6f":"Corner 2 Shape","6e90":"Corner 3 Shape","6e91":"Corner 4 Shape","6e70":"Corner 1 Size","6e92":"Corner 2 Size","6e93":"Corner 3 Size","6e94":"Corner 4 Size","1081a":"Drop Shadow","1081b":"Drop Shadow DX","1081c":"Drop Shadow DY","1081e":"Drop Shadow Opacity","1081f":"Drop Shadow BMode","10820":"Drop Shadow Size","10837":"Drop Shadow Color","1084d":"Inner Shadow","1084e":"Inner Shadow Color","1084f":"Inner Shadow BMode","10850":"Inner Shadow Opacity","10851":"Inner Shadow Angle","10852":"Inner Shadow Dist","10855":"Inner Shadow Size","10857":"Oglow","10858":"Oglow BMode","10859":"Oglow Opacity","1085b":"Oglow Color","1086d":"Oglow Choke","1085e":"Oglow Size","1085f":"Iglow","10860":"Iglow BMode","10861":"Iglow Opacity","10863":"Iglow Color","10865":"Iglow Choke","10866":"Iglow Size","10868":"Bevel","1086b":"Bevel Depth","1086d":"Bevel Size","1086f":"Bevel Angle","10870":"Bevel Alt","10872":"Bevel ColorH","10873":"Bevel BModeH","10874":"Bevel OpacityH","10875":"Bevel ColorS","10875":"Bevel BModeS","10877":"Bevel OpacityS","10878":"Satin","10879":"Satin Color","1087a":"Satin BMode","1087b":"Satin Opacity","1087c":"Satin Angle","1087d":"Satin Dist","1087e":"Satin Size","1087f":"Satin Invert","10821":"Basic Feather","10822":"Basic Feather Width","10895":"Stroke Drop Shadow","10899":"Stroke Drop Shadow Blending Mode","1eb8f":"GradientFeatherSetting GradientStart","1eb8e":"GradientFeatherSetting Length","14534":"name"},b={e01:"Document","301":"RESpread","236":"REParStyle","302":"Layer","401":"Group","501":"Spread","50f":"Page","227":"Column","201":"Story","205":"Style","263":"TextFrame",a32:"Trapping","1f05":"Fill","3e03":"Font","6201":"Path",ca18:"StoryText"};
return r}();function bv(){}bv.SF=function(){var I=0;function k(g,d){var R=g0.SF(g),r=1;I=0;var c=R[1],e=c.spreads,O=[],U=new eZ;
for(var K=0;K<e.length;K++){var _=e[K],Z=_.children.i6,H=n(_),G=Z[0].children.i6,N=new eZ;for(var z=0;
z<G.length;z++){var L=G[z],p=n(L);p.concat(H);var V=a(L);V.offset(p.Dw,p.rk);V=j.X.aj(V);N=N.oL(V)}O.push(N);
U=U.oL(N)}while(Math.sqrt(U.c())*r<1e3)r++;d.Q=U.Q*r;d._=U._*r;d.buffer=new Uint8Array(4*d.Q*d._);d.P5=!0;
d.oE=Math.round(72*r);d.vW(e.length);for(var K=0;K<e.length;K++){var _=e[K],Z=_.children.i6,y=d.ux();
y.HA=24;y.add.lsct=gA.rW;y.GF("Artboard "+(K+1));var W=O[K].clone();W.offset(-U.x,-U.y);W.x*=r;W.y*=r;
W.Q*=r;W._*=r;W=j.X.aj(W);y.IA(W);y.pu="pass";d.R.push(d.KM());var H=n(_);H.translate(-U.x,-U.y);H.scale(r,r);
var m={};for(var f=0;f<Z.length-1;f++){var h=Z[f],b=h.children.i6,i=d.ux(),w=h.layer.lopts;if(w.name=="Internal_pages_layer_name"||m[w.name])continue;
m[w.name]=!0;i.HA=24;i.add.lsct=gA.rW;i.GF(w.name);i.ol(w.show);if(w.af1)i.add.lspf=1<<31;i.pu="pass";
d.R.push(d.KM());for(var Y=0;Y<b.length;Y++)D(b[Y],d,H,R);d.R.push(i)}d.R.push(y)}}function a(g){var d=g.rect;
return new eZ(d[0],d[1],d[2]-d[0],d[3]-d[1])}function n(g){var d=g.transform;return new dc(d[0],d[1],d[2],d[3],d[4],d[5])}function s(g){var d=g.color,R=g.parentFill,e;
if(d==null&&R)d=R.color;if(d==null){console.log("strange color",g);return[0,0,0]}var c=d[0];if(c==5)e=d.slice(1);
else if(c==6)e=UDOC.C.cmykToRgb(d.slice(1));else if(c==7){var O=j.YD(d[1],d[2],d[3]);e=[O.$/255,O.H/255,O.J/255]}else if(c==14){e=d.slice(1);
console.log("unsure about the color")}else{console.log(d);throw c}return e}function C(g){var d=s(g);
return j.G.pI({$:d[0]*255,H:d[1]*255,J:d[2]*255})}function T(g){return"norm,mul ,scrn,over,sLit,hLit,div ,idiv,dark,lite,diff,smud,hue ,sat ,colr,lum ".split(",")[g]}function S(g,d){var Y=0,R=0;
while(g[Y+1]&&R+g[Y][0]<=d){R+=g[Y][0];Y++}g=g[Y][1].textData;Y=0;while(g[Y+1]&&R+g[Y][0]<=d){R+=g[Y][0];
Y++}return g[Y]}function D(g,d,R,c){var e=g.transform?n(g):new dc;e.concat(R);var O=g.path,U=g.appearance,K=g.visible,_=g.children?g.children.i6:null,Z=d.ux();
if(K!=null)Z.ol(K);var H=_&&_.length==1&&_[0].bitmapFill,G=g["bool2-1623"]&&_&&_.length==1&&_[0].rect&&_[0]._type.startsWith("TextFrame");
if(H){Z.GF("bitmap");var N=_[0],z=a(N),L=n(N),W=null;L.concat(e);var p=N.bitmapFill.bitmap;p=c[p]._bin;
if(p.length!=p.buffer.byteLength)p=p.slice(0);if(p[0]==123){console.log("unknown bitmap format");return}var V=d.MA(p,"img.jpg",0,0);
V.HA=Z.HA;Z=V;var r=[0,0,z.Q,0,z.Q,z._,0,z._];j.X.h(r,L,r);Z.add.SoLd.Trnf=E.nF.D1(r);Z.add.SoLd.nonAffineTransform=E.nF.D1(r);
Z.Bi(d,!1);var y=N.path;if(y&&y.length!=0)W=v(y,L,U);else if(O&&O.length!=0)W=v(O,e,U);if(W){var m=j.n.oz(W.d),f=j.X.TO(r);
if(m.c()/f.LU(m).c()>1.1){if(m.contains(f))W=null;var h=g.children;g.children=null;D(g,d,R,c);g.children=h}}if(W)Z.add.vmsk=W;
Z.Bb();Z.Wr(d)}else if(G){if(U&&U.strokeSwatch){var b=d.ux();o(b,d,U,O,e);d.R.push(b)}var i=_[0],z=a(i),L=n(i),eJ=0;
L.concat(e);var w=i.children.i6[0],J=w.obj228,q=J[0].story[1],x=q.stoProps.ahO.relEnt,A=q.stoProps.i6[0].relEnt,Q=q.stoProps.i6[1]["ptrArrayX-210"][0].textData,B=c[x[0][1].textData[0][1].name[0]],l=B?B.styProps:{};
Q=Q.join("").replace(/\r/g,"\n");var P=-1;while((P=Q.indexOf("\uFFFC"))!=-1){Q=Q.slice(0,P)+(Q[P-1]=="\n"?" ":" ")+Q.slice(P+1)}Z.GF(Q.slice(0,255));
Z.add.lnsr="rend";Z.add.TySh=f4.MU(0,0);Z.add.TySh.uT=z;Z.add.TySh.h=L;var F=Z.add.TySh.RW;f4.lL(F,0,Q);
var t=f4.dm(F,0,Q.length);t.CX.FontSize=10;f4.Xy(F,0,Q.length,t);var b$=[];if(Q.length!=0){var hd=S(x,0),di=S(A,0),hD=1;
for(var Y=1;Y<Q.length;Y++){var O=S(x,Y),a$=S(A,Y);if(O!=hd||a$!=di){b$.push(hD);hD=0}hd=O;di=a$;hD++}if(hD!=0)b$.push(hD)}for(var Y=0;
Y<b$.length;Y++){var hY=S(A,eJ),ik=b$[Y],fw=Math.min(eJ+ik,Q.length-1),jb=hY[2],cd=hY[1].styProps;if(cd==null)cd={};
var dN=S(x,eJ),kc=dN[1].styProps,ck=dN[2],b3={};for(var hL in l)b3[hL]=l[hL];for(var hL in kc)b3[hL]=kc[hL];
for(var hL in ck)b3[hL]=ck[hL];for(var hL in cd)b3[hL]=cd[hL];for(var hL in jb)b3[hL]=jb[hL];var t=f4.dm(F,eJ,fw),gS=["FontSize","FontCaps","Underline","Strikethrough","FontBaseline"],jF=gS.concat(["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"]);
for(var kB=0;kB<jF.length;kB++){var hL=jF[kB],jw=kB<gS.length?t.CX:t.i9;if(b3[hL]!=null)jw[hL]=b3[hL]}if(b3.fillColor){var iT=s(b3.fillColor);
t.CX.FillColor={Type:1,Values:[1].concat(iT)}}if(b3.font){var gY=b3.font.name[5],aL=b3.fontStyle;if(aL==null)aL="Regular";
for(var dw=0;dw<gY.length;dw++)if(gY[dw][0]==aL)f4.YW(t,gY[dw][1])}if(b3.leading!=null&&b3.leading>1){t.CX.Leading=b3.leading;
t.CX.AutoLeading=!1}if(b3.align!=null)t.i9.Justification=[0,2,1,6,3,5,4,0,0,0][b3.align];f4.Xy(F,eJ,fw,t);
eJ+=ik}f4.IC(F,1);f4.s7(F,[0,0,Math.round(z.Q),Math.round(z._)])}else if(g._type.startsWith("Path")&&(_==null||_.length==0)&&O){o(Z,d,U,O,e)}else{var ka=g["prop-14526"];
if(_==null&&ka){var cy=c[u.sg(ka,20)];_=[cy]}if(_){if(O&&O.length!=0){Z.add.vmsk=v(O,e,U);Z.Bb();Z.Wr(d)}Z.GF("group");
Z.HA=24;Z.add.lsct=gA.rW;d.R.push(d.KM());for(var Y=0;Y<_.length;Y++)D(_[Y],d,e,c)}}if(U){var jP=U.objectBlendingMode,aA=U.objectOpacity,d1=U.fillTint,b0=!1;
if(jP)Z.pu=T(jP[0]);if(aA)Z.opacity=Math.round(Z.opacity*aA[0]/100);if(!H&&d1)Z.opacity=Math.round(Z.opacity*d1[0]/100);
var ag=JSON.parse(fY.default);for(var Y=0;Y<fY.order.length;Y++)ag[fY.zQ[Y]]={t:"VlLs",v:[]};var kx="dropShadow innerShadow satin bevel iglow oglow".split(" "),br="DrSh IrSh ChFX ebbl IrGl OrGl".split(" ");
for(var Y=0;Y<kx.length;Y++){var ft=kx[Y];if(U[ft]&&U[ft][0]){var iv=U[ft],ay=135,eT=10;b0=!0;var k6=JSON.parse(fY.iH[fY.order.indexOf(br[Y])]);
ag[fY.zQ[fY.order.indexOf(br[Y])]].v.push({t:"Objc",v:k6});if(U[ft+"Color"])k6.Clr.v=C(U[ft+"Color"][0]);
else if(kx[Y]=="iglow"||kx[Y]=="oglow")k6.Clr.v=j.G.pI({$:255,H:255,J:255});if(U[ft+"ColorH"])k6.hglC.v=C(U[ft+"ColorH"][0]);
if(U[ft+"ColorS"])k6.sdwC.v=C(U[ft+"ColorS"][0]);if(U[ft+"BMode"])k6.Md.v.BlnM=aU.Vu(T(U[ft+"BMode"][0]));
if(U[ft+"BModeH"])k6.hglM.v.BlnM=aU.Vu(T(U[ft+"BModeH"][0]));if(U[ft+"BModeS"])k6.sdwM.v.BlnM=aU.Vu(T(U[ft+"BModeS"][0]));
if(U[ft+"Opacity"])k6.Opct.v.val=U[ft+"Opacity"][0];if(U[ft+"OpacityH"])k6.hglO.v.val=U[ft+"OpacityH"][0];
if(U[ft+"OpacityS"])k6.sdwO.v.val=U[ft+"OpacityS"][0];if(U[ft+"Size"])k6.blur.v.val=U[ft+"Size"][0];
if(U[ft+"Angle"])ay=U[ft+"Angle"][0];if(U[ft+"Dist"])eT=U[ft+"Dist"][0];if(U[ft+"DX"]){var kD=U[ft+"DX"][0],cP=U[ft+"DY"][0];
eT=Math.round(Math.sqrt(kD*kD+cP*cP));ay=Math.round(Math.atan2(cP,-kD)*180/Math.PI)}if(k6.lagl)k6.lagl.v.val=ay;
if(k6.Dstn)k6.Dstn.v.val=eT;if(k6.uglg)k6.uglg.v=!1;if(U[ft+"Invert"])k6.Invr.v=U[ft+"Invert"][0];else if(kx[Y]=="satin")k6.Invr.v=!1;
if(U[ft+"Alt"])k6.Lald.v.val=U[ft+"Alt"][0];if(U[ft+"Depth"])k6.srgR.v.val=U[ft+"Depth"][0];if(U[ft+"Choke"])k6.Ckmt.v.val=U[ft+"Choke"][0]}}if(b0)Z.add.lmfx=ag}if(g.name)Z.GF(g.name);
else if(U&&U.name)Z.GF(U.name[0]);d.R.push(Z)}function o(g,d,R,c,e){g.GF("path");g.HA|=16;g.add.vmsk=v(c,e,R);
var O=g.add.vstk=fY.Lg.nI(),U=j.G.pI({$:0,H:0,J:0});if(R){var K=R.strokeSwatch,_=R.fillSwatch,Z=R.basicFeather,H=R.basicFeatherWidth,G=R.strokeWeight;
O.strokeEnabled.v=K!=null;O.fillEnabled.v=_!=null;if(Z)g.add.vmsk.K4=H?H[0]:9;if(K){O.strokeStyleLineWidth.v.val=G?G[0]:1;
U=C(K[0]);O.strokeStyleContent.v.Clr.v=U}if(_){U=C(_[0])}}if(U)g.add.SoCo={classID:"null",Clr:{t:"Objc",v:U}};
g.Bb();g.Wr(d)}function v(g,d,R){var c=new X.JB,e=c.d;for(var O=0;O<g.length;O++){var U=g[O],K=U[0].length,_=U[1]==0,Z=_?0:3;
e.push({type:Z,length:K,Np:0,RO:2,Ba:0,yk:0});for(var Y=0;Y<K;Y++){var H=U[0][Y],G=H[0],N=new kK(H[1],H[2]),z=new kK(H[3],H[4]),L=new kK(H[5],H[6]);
if(G==0||G==1)e.push({type:Z+2,VW:N,A:z,zK:L});else if(G==2)e.push({type:Z+2,VW:N,A:N,zK:N});else throw G}}j.n.de(e,d);
return c}return k}();var iB=function(I){function k(T,S){var D=[];for(var Y=0;Y<9;Y++){var o=u.C(T,S+Y*4);
if(Y%3==2)D.push((o>>>30)+(o&1073741823)/1073741823);else D.push((o>>>16)+(o&65535)/65535)}return D}function a(T,S,D,o){var v={},g=u.C,d=u.Ij;
while(S<D){var R=S,c=u.C(T,S);S+=4;if(c==0){c=u.C(T,S);S+=4}var e=u.x8(T,S,4);S+=4;if(c==0)throw"e";
if(c==1){c=u.DH(T,S);S+=8}var O=R+c,U="".padStart(o,"\t"),K={};if(e=="mvhd"){var _=T[S];if(_!=0)throw"e";
S+=4;K.asy=g(T,S);S+=4;K.ayL=g(T,S);S+=4;K.Dk=g(T,S);S+=4;K.duration=g(T,S);S+=4;K.acG=g(T,S);S+=4;K.volume=d(T,S);
S+=2;S+=10;K.a2J=k(T,S);S+=4*9;K.axl=[];for(var Y=0;Y<6;Y++)K.axl.push(g(T,S+Y*4));S+=4*6;K.a2u=g(T,S);
S+=4}else if(e=="tkhd"){var _=T[S];if(_!=0)throw"e";S+=4;K.asy=g(T,S);S+=4;K.ayL=g(T,S);S+=4;K.ayk=g(T,S);
S+=4;S+=4;K.duration=g(T,S);S+=4;S+=8;K.o=d(T,S);S+=2;K.a7w=d(T,S);S+=2;K.volume=d(T,S);S+=2;S+=2;K.a2J=k(T,S);
S+=4*9;K.Qq=g(T,S)>>>16;S+=4;K.L4=g(T,S)>>>16;S+=4}else if(e=="mdhd"){K.HA=g(T,S);S+=4;K.asy=g(T,S);
S+=4;K.ayL=g(T,S);S+=4;K.Dk=g(T,S);S+=4;K.duration=g(T,S);S+=4;K.lang=d(T,S);S+=2;K.gF=d(T,S);S+=2}else if(e=="hdlr"){var Z=g(T,S);
S+=4;if(Z!=0)throw Z;K._W=u.x8(T,S,4);S+=4;K.awZ=u.x8(T,S,4);S+=4;K.aqP=g(T,S);S+=4;K.HA=g(T,S);S+=4;
K.aBt=g(T,S);S+=4;var H=S;while(T[H]!=0)H++;K.name=u.x8(T,S,H-S);S+=H-S+1}else if(e=="stsd"){var Z=g(T,S);
S+=4;if(Z!=0)throw Z;var G=g(T,S);S+=4;if(G!=1)throw G;var N=g(T,S);S+=4;K.FT=u.x8(T,S,4);S+=4;if(K.FT=="mett"){K.azJ=u.x8(T,S,O-S)}else{for(var Y=0;
Y<6;Y++)if(T[S+Y]!=0)throw"e";S+=6;K.aB6=d(T,S);S+=2;K.ayU=d(T,S);S+=2;K.agm=d(T,S);S+=2;K.as6=g(T,S);
S+=4;if("mp4v,avc1,encv,s263,vp09,hvc1,hev1,apcn,AVdh,raw ,rle ".split(",").indexOf(K.FT)!=-1){K.art=g(T,S);
S+=4;K.ayR=g(T,S);S+=4;K.apA=[d(T,S),d(T,S+2)];S+=4;K.az8=[g(T,S)/(1<<16),g(T,S+4)/(1<<16)];S+=8;var z=g(T,S);
S+=4;if(z!=0)throw"e";var L=d(T,S);S+=2;if(L!=1)throw"e";var p=T[S];S++;K.a1f=u.x8(T,S,p);S+=31;K.alC=d(T,S);
S+=2;var V=d(T,S);S+=2;if(V!=65535)throw"e";if(S!=O)K.asJ=a(T,S,O,o+1)}else if("mp4a enca samr sawb ec-3 ac-3 lpcm".split(" ").indexOf(K.FT)!=-1){K.TL=d(T,S);
S+=2;K.a6Z=d(T,S);S+=2;var r=d(T,S);S+=2;if(r!=0&&r!=65534)throw r;var y=d(T,S);S+=2;if(y!=0)throw y;
K.a0V=g(T,S)/(1<<16);S+=4}else if(K.FT=="CTMD"){K.P=T.slice(S,O)}else if(K.FT=="tx3g"||K.FT=="text"||K.FT=="mebx"){}else if(K.FT=="tmcd"){}else if(K.FT=="CRAW"){}else if(K.FT=="sowt"){}else throw JSON.stringify(K.FT)}}else if(e=="stts"||e=="stsz"||e=="stco"||e=="stsc"||e=="ctts"){var Z=g(T,S),W=0,f=0;
S+=4;if(Z!=0)throw Z;if(e=="stsz"){W=g(T,S);S+=4}var m=g(T,S)*(e=="stsc"?3:e=="stts"||e=="ctts"?2:1);
S+=4;K=[];for(var Y=0;Y<m;Y++){if(W!=0)K.push(W);else{K.push(g(T,S));S+=4}}for(var Y=0;Y<m;Y++)f+=K[Y]}else if(e=="co64"){var Z=g(T,S);
S+=4;if(Z!=0)throw Z;var m=g(T,S);S+=4;K=[];for(var Y=0;Y<m;Y++){K.push(u.DH(T,S));S+=8}}else if(e=="moov"||e=="trak"||e=="mdia"||e=="minf"||e=="dinf"||e=="stbl"||e=="uuid"){if(e=="uuid")S+=16;
K=a(T,S,O,o+1)}else if(e=="CMT1"||e=="CMT2"||e=="CMT3"||e=="CMT4"){K=UTIF.decode(T.slice(S,O))}else{K.i=S;
K.mk=c}S=O;if(e=="trak"||e=="free"||e=="uuid"){if(v[e]==null)v[e]=[];v[e].push(K)}else{if(v[e]!=null)throw e;
v[e]=K}}return v}function n(T){var S=new Uint8Array(T);return a(S,0,S.length,0)}function s(T,S,D){var o=C(T,S),v=o.mdia.minf.stbl,g=v.stsc,d=0,R=0;
for(var Y=0;Y<g.length;Y+=3){var c=(Y+3<g.length?g[Y+3]:1e4)-g[Y],e=R+c*g[Y+1];if(R<=D&&D<e){while(R+g[Y+1]<=D){d++;
R+=g[Y+1]}break}d+=c;R=e}var O=v.stco;if(O==null)O=v.co64;var U=O[d];while(R<D){U+=v.stsz[R];R++}return[U,v.stsz[D]]}function C(T,S){var D=T.moov.trak;
for(var Y=0;Y<D.length;Y++)if(D[Y].mdia.hdlr.awZ==S)return D[Y]}return{SF:n,axS:s,af7:C}}(),bd=function(){var I,k,a,n,s,C;
function T(){n+=1;return a[n-1]}function S(){n+=2;return u.Gn(a,n-2)}function D(){n+=4;return u.hK(a,n-4)}function o(e){return 512+512*e}function v(e){return 64*e}function g(e,O){var U=[];
while(e!=-2){U.push(e);e=O[e]}return U}function d(e,O,U){var K=g(e,U==64?C:s);if(O==null)O=K.length*U;
var _=new Uint8Array(O),Z=U==64?k:I;for(var Y=0;Y<K.length;Y++){var H=K[Y],G=U==64?v(H):o(H);_.set(new Uint8Array(Z.buffer,G,Math.min(U,O-Y*U)),Y*U)}return _}function R(e,O,U,K){var _=a,Z=n,W;
a=e;n=O*128;var H=u.SB(a,n,32);n+=64;var G=S();H=H.slice(0,G-2>>>1);var N=T(),z=T(),L=D(),p=D(),V=D();
for(var Y=0;Y<20;Y++)if(T()!=0)throw Y;n+=8;n+=8;var r=D(),y=D();if(D()!=0)throw"e";if(N==1||N==5){if(N==5){k=d(r,null,512)}W={};
R(e,V,W,K+1)}else if(N==2){if(y<=4096)W=d(r,y,64);else W=d(r,y,512)}else throw N;if(L!=-1)R(e,L,U,K+1);
if(p!=-1)R(e,p,U,K+1);U[H]=W;a=_;n=Z}function c(e){a=I=new Uint8Array(e);n=0;var O=[208,207,17,224,161,177,26,225];
for(var Y=0;Y<8;Y++)if(T()!=O[Y])throw"e";for(var Y=0;Y<16;Y++)if(T()!=0)throw"e";var U=S(),K=S(),_=S();
if(_!=-2)throw"big endian";var Z=S();if(Z!=9)throw"not 512";var H=S();if(H!=6)throw"not  64";for(var Y=0;
Y<10;Y++)if(T()!=0)throw"e";var G=D(),N=D();if(D()!=0)throw"e";var z=D();if(z!=4096)throw"e";var L=D(),p=D(),V=D(),r=D(),y=[];
for(var Y=0;Y<109;Y++){var W=D();if(W==-1)break;y.push(W)}while(V>=0){n=o(V);for(var Y=0;Y<127;Y++){var W=D();
if(W==-1)break;y.push(W)}V=D()}if(y.length!=G)throw"e";s=[];for(var Y=0;Y<G;Y++){n=o(y[Y]);for(var m=0;
m<128;m++){var W=D();s.push(W)}}C=[];while(L!=-2){n=o(L);for(var m=0;m<128;m++){var W=D();C.push(W)}L=s[L]}var f=d(N,null,512),h={};
R(f,0,h,0);return h["Root Entry"]}return{parse:c}}(),E={};E.Y=function(I){return window.devicePixelRatio||1};
E.kY=function(I,k){return(k.apL=="touch"?12:8)*E.Y()/I.w.F};E.mu=function(I,k,a){this.name=I;this.id=k;
this.k3=null;if(a!=null)this.vZ=a};E.mu.prototype.CP=function(I,k,a,n,s){};E.mu.prototype.enable=function(I,k,a,n,s,C){var T=new d2(M.E.b,!0);
T.data={q:M.p.Zk,s3:"default"};k.a(T)};E.mu.prototype.disable=function(I,k,a,n,s){};E.mu.prototype.aom=function(I,k,a,n,s){return!1};
E.mu.prototype.Vr=function(I,k,a,n,s){};E.mu.prototype.oS=function(I,k,a,n,s){};E.mu.prototype.Fr=function(I,k,a,n,s){};
E.mu.prototype.pE=function(I,k,a,n,s,C){};E.mu.prototype.pC=function(I,k,a,n,s){};E.mu.prototype.Bf=function(I,k,a,n){};
E.mu.prototype.Iw=function(I,k,a,n){};E.mu.prototype.KY=function(I,k){};E.mu.prototype.PP=function(I,k){};
E.mu.prototype.d2=function(I){return 0};E.mu.prototype.Un=function(I,k,a,n,s){};E.mu.prototype.wu=function(I,k){};
E.mu.prototype.rI=function(I,k){return!1};E.mu.prototype.zJ=function(I,k){return!1};E.mu.prototype.UC=function(){return!1};
E.mu.prototype.eE=function(I,k){return!0};E.mu.prototype.Hj=function(){return null};E.mu.prototype.j9=function(I,k,a){};
E.mu.prototype.ask=function(){return!1};E.mu.prototype.Lh=function(I,k,a,n){};E.mu.prototype.track=function(I){var k=new d2(M.E.rd,!0);
k.data=I;I.Ay=!0;this.k3.a(k)};E.mu.Q9=function(I,k,a,n){var s=10*E.Y()*(I.apL=="touch"?2:1),C=I.x+s,T=I.y-s,S=j.wJ.qO(k.Q,a.oE,n,a.Q,!0),D=j.wJ.qO(k._,a.oE,n,a._,!0);
while(S.length<D.length)S=" "+S;while(S.length>D.length)D=" "+D;E.mu.DQ(C,T,[hJ.get([12,41]).charAt(0)+": "+S,hJ.get([12,42]).charAt(0)+": "+D],a)};
E.mu.DQ=function(I,k,a,n){function s(o,e,O,U,K,_){o.beginPath();o.moveTo(e,O+_);o.arcTo(e,O+K,e+_,O+K,_);
o.arcTo(e+U,O+K,e+U,O+K-_,_);o.arcTo(e+U,O,e+U-_,O,_);o.arcTo(e,O,e,O+_,_)}var C=E.Y(),T=Math.round,S=T(11*C),D=E.mu.aAL,v=0;
if(D==null)D=E.mu.aAL=document.createElement("canvas");var o=D.getContext("2d");o.font=S+"px monospace";
for(var Y=0;Y<a.length;Y++)v=Math.max(v,o.measureText(a[Y]).width);var g=T(v+12*C),d=T((a.length*14+5)*C),R=new eZ(I,k-d,g,d);
if(D.width!=g||D.height!=d){D.width=g;D.height=d;o.font=S+"px monospace"}o.clearRect(0,0,g,d);o.fillStyle="rgba(0,0,3,0.8)";
s(o,0,0,g,d,T(4*C));o.fill();o.fillStyle="rgba(255,255,255,1)";for(var Y=0;Y<a.length;Y++)o.fillText(a[Y],T(6*C),T((Y+1)*13*C));
var c=[o.getImageData(0,0,g,d).data,R.clone()];if(n)n.D.OT=[c];return c};E.mu.aAL=null;E.Mt="0";E.FQ="1";
E.aB9="2";E.anS="3";E.hV="5";E.a9A="6";E.aCE="7";E.FY="8";E.E9="9";E.Ao="10";E.M5="11";E.s4="12";E._q="13";
E.LN="14";E.a9q="15";E.jt="16";E.BM="18";E.Pq="19";E.ars="90";E.t$="20";E.WT="21";E.er="22";E.yO="23";
E.LD="24";E.l5="25";E.jr="27";E.vV="31";E.oF="32";E.a9R="33";E.VG="34";E.ady="35";E.ex="36";E.tW="37";
E.dA="38";E.Mj="39";E.m0="40";E.Er="41";E.nf="42";E.T4="43";E.aEf="44";E.akK="45";E.a32="46";E.avE="72";
E.N$="47";E.B6="48";E.N4="51";E.Kc="52";E.lc="54";E.VO="55";E.O3="56";E.NW="57";E.d7="58";E._F="59";
E.d8="60";E.VX="61";E.PZ="70";E.ka="71";E.a6p="73";E.Yo="100";E.Ll="101";E.To="102";E.cZ="103";E.DV="120";
E.N1="230";E.aeU="231";E.ca="232";E.xf="233";E.rV="234";E.OJ="235";E.bI="236";E.k1={};E.k1[E.yO]="tools/brush";
E.k1[E.LD]="tools/pencil";E.k1[E.vV]="tools/eraser";E.MC={PcTl:E.LD,PbTl:E.yO,moveTool:E.Mt,cloneStampTool:E.jr,typeCreateOrEditTool:E.N$,artboardTool:E.PZ,marqueeRectTool:E.FQ,typeVerticalCreateOrEditTool:E.B6,perspectiveCropTool:E.M5,marqueeEllipTool:E.aB9,eyedropperTool:E.LN,eraserTool:E.vV,pathComponentSelectTool:E.N4,lassoTool:E.hV,backgroundEraserTool:E.oF,directSelectTool:E.Kc,polySelTool:E.a9A,rectangleTool:E.lc,magneticLassoTool:E.aCE,gradientTool:E.VG,quickSelectTool:E.FY,bucketTool:E.ady,ellipseTool:E.VO,magicWandTool:E.E9,blurTool:E.ex,polygonTool:E.O3,cropTool:E.Ao,sharpenTool:E.tW,lineTool:E.NW,sliceTool:E.s4,smudgeTool:E.dA,customShapeTool:E.d7,sliceSelectTool:E._q,dodgeTool:E.Mj,spotHealingBrushTool:E.BM,burnInTool:E.m0,saturationTool:E.Er,penTool:E.nf,redEyeTool:E.er,freeformPenTool:E.T4,rulerTool:E.jt,paintbrushTool:E.yO,handTool:E._F,pencilTool:E.LD,zoomTool:E.VX,objectSelectTool:E.anS,healingBrushTool:E.Pq,patchTool:E.t$,contentAwareMoveTool:E.WT,colorReplacementBrushTool:E.l5,curvaturePenTool:E.aEf,rotareViewTool:E.d8};
E.dX=function(I,k,a){E.mu.call(this,I,k,a);this.J$={brush:I?kJ.Nf():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.wY=null;this.Fp=null;this.WL=null;this.L8=null;this.oT=null;this.$a=null;this.a8=null;this.Bt=null;
this.UW=null;this.dP=null;this.YK=null;this.cB=null;this.Mr=null;this.T5=1;this.Lc=!1;this.ho=null;this.caller=null};
E.dX.prototype=new E.mu;E.dX.prototype.zJ=function(I,k){return I.ZT&&k.W(as.bJ)};E.dX.prototype.oS=function(I,k,a,n,s){if(n.W(as.dE)){this.$a=new kK(s.x,s.y);
var C=this.J$.brush.Brsh.v,T=C.Dmtr.v.val,S=C.Hrdn!=null?C.Hrdn.v.val:-1;this.a8=[T,S,!0,JSON.parse(JSON.stringify(this.J$.brush)),s];
this.es(a)}};E.dX.prototype.CA=function(I,k,a){var n=this.a8,s=I.w.F,C=a.x-n[4].x,T=a.y-n[4].y,S=n[0],D=n[1],o=Math.abs(C)>Math.abs(T);
if(o&&n[2]){var v=Math.round(2*C/s);S+=v;a.x-=C-.5*v*s}if(!o&&!n[2]&&D!=-1){var v=Math.round(.25*T);
D+=v;a.y-=T-4*v}S=Math.max(1,S);D=n[1]==-1?-1:Math.max(0,Math.min(100,D));var g=n[3];g.Brsh.v.Dmtr.v.val=S;
if(D!=-1)g.Brsh.v.Hrdn.v.val=D;this.a8=[S,D,o,g,a];var d=kN.ne(g,k.Yg.HR,s),R=d[1];R.x=Math.round(this.$a.x-R.Q/2);
R.y=Math.round(this.$a.y-R._/2);I.D.q1=[d];var c=I.w.m_(this.$a.x,this.$a.y);I.D.eQ={y1:[],xQ:[c.x-S/2,c.y,c.x+S/2,c.y]};
if(D!=-1)I.D.eQ.xQ.push(c.x+50/s,c.y-D/2,c.x+50/s,c.y+D/2);I.Xi=!0};E.dX.prototype.pC=function(I,k,a,n,s){if(this.id==E.t$||this.id==E.WT)return;
if(this.$a){this.$a=null;this.e5(JSON.parse(JSON.stringify(this.a8[3])));I.D.q1=[];I.D.eQ=null;I.Xi=!0;
return}var C=new d2(M.E.b,!0);C.data={q:M.p.at,S:this.id,a9G:"showBrushOpts",pN:new kK(s.E1+4,s.uI)};
k.a(C)};E.dX.prototype.e5=function(I){var k=new d2(M.E.b,!0);k.data={q:M.p.iv,CU:f9.Q2,ZA:I};this.caller.a(k)};
E.dX.HO=function(I,k,a,n,s,C){if(I==null)I="FrgC";if(k==null)k="norm";if(a==null)a=1;if(s==null)s=!1;
var T={classID:"Fl",Usng:{t:"enum",v:{FlCn:I}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(a*100)}},PrsT:{t:"bool",v:s},Md:{t:"enum",v:{BlnM:aU.Vu(k)}}};
if(I=="Clr")T.Clr={t:"Objc",v:n};if(I=="contentAware")T.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(I=="Ptrn")T.Ptrn={t:"Objc",v:C};return{pi:"fill",zf:T}};E.dX.prototype.CP=function(I,k,a,n,s){this.k3=k;
var C=a.Ap.length;if(C==0&&!a.rb())return;var T=C!=0?-1-a.Ap[0]:a.T[0],S=a.R[T];if(I.q=="fromAction"){var D=I._f,o=D.zf;
if(o&&o.null&&o.null.v[0]&&o.null.v[0].v.classID=="Path"){var v=a.iQ(),g=v[0],d=v[1],R=g[d.length==0?0:d[0]].add.vmsk;
if(D.pi=="fill"){var c=R.IO(),e=s.MW,O=this.J$,U=e>>16&255,K=e>>8&255,_=e>>0&255;this.PV(a,S,c,U,K,_,Math.round(O.opacity*255),O.bmode,"Fill Path")}else{var Z=o&&o.Prs&&o.Prs.v,H=JSON.stringify(this.J$.brush);
if(Z)kJ.al3(this.J$.brush,[!1,!0]);for(var G=0;G<1e3;G++){var N=j.n.XN(R.d,G,!0);if(N==-1){this.pE(a,k,s,n,null);
break}var z=R.d[N],L=R.d.slice(N,N+1+z.length),p=j.X.wb(L,2).s,V=p.slice(0,8);for(var r=8;r<p.length;
r+=6)V.push(p[r-2],p[r-1],p[r],p[r+1],p[r+2],p[r+3],p[r+4],p[r+5]);var y={};y.Points=V;y.TextOnPathTRange=R.Ma.slice(0);
var y=d_.Nn(y,2,z.type==3),W=y[0],m=a.w.kF(W[0],W[1]);if(Z)m.i3=0;if(G==0)this.Vr(a,k,s,n,m);else this.Fp.moveTo(W[0],W[1]);
var f=W.length,h=z.type==0?f+2:f;for(var Y=2;Y<h;Y+=2){m=a.w.kF(W[Y%f],W[(Y+1)%f]);m.ZT=!0;if(Z){var b=Y/h;
m.i3=2*Math.min(b,1-b)}this.Fr(a,k,s,n,m,this.J$.flow)}this.Fp.finish();this.hs(a)}if(Z)this.J$.brush=JSON.parse(H)}}else if(D.pi=="fill"){var i=o.PrsT?o.PrsT.v:!1,w=S?S.add.lspf:0;
if(i&&S){S.add.lspf=w==null?1:w|1}var J=(o.Opct?o.Opct.v.val:100)/100,q=o.Md?aU.W$(o.Md.v.BlnM):"norm";
J=Math.round(255*J);var x=o.Usng.v.FlCn;if(x=="contentAware"||x=="aiHeal"){if(a.f==null){alert("Select an area to heal first.");
return}if(!a.rb())return;var A=a.f;if(x=="aiHeal"&&!kw.uf(a))return;this.Ca(a);this.ls(a,0);if(x=="contentAware"){var Q=j.U(A.rect.c()*4);
j.yv(A.channel,Q,3);this.aQ(a,"sheal",Q,A.rect,A.rect);this.V(a,A.rect);this.finish(a,A.rect)}else{this.Tt=a;
var B=s.nN.acl,l=function(){kw.a8i(B==null,B,o.prmt?o.prmt.v:"empty background",a,this.aBf.bind(this),o.CU);
var gS=new d2(M.E.b,!0);gS.data={q:M.p.bm,cJ:"Processing ..."};k.a(gS);this.caller=k}.bind(this);if(B)l();
else kw.f7(l)}}else if(x=="Ptrn"){var P=s.Vh,F=a.f?a.f.rect.clone():new eZ(0,0,a.Q,a._),t=j.U(F.c()*4);
hB.pt(o,t,F,P,new kK(0,0));for(var Y=0;Y<t.length;Y+=4)t[Y+3]=J;this.E6(a,S,a.f,t,q,[6,48,0,2])}else{var e;
if(x=="FrgC")e=s.MW;else if(x=="BckC")e=s.U2;else if(x=="Blck")e=0;else if(x=="Wht")e=16777215;else if(x=="Gry")e=8421504;
else if(x=="Clr"){var b$=j.G.GW(o.Clr.v);e=b$.$<<16|b$.H<<8|b$.J}var U=e>>16&255,K=e>>8&255,_=e>>0&255;
this.PV(a,S,a.f,U,K,_,J,q,[2,3])}if(i&&S){S.add.lspf=w==null?0:w}}else if(D.pi=="delete"){var hd=T<0?1:S.YY,A=a.f,eJ;
if(A==null)return;var di=T<0?a.TL[-T-1]:hd<=0?null:hd==1?S.IO():S.kx(a).u,F=hd<=0?S.rect:di.rect,hD=hd<=0?A.rect.LU(F):A.rect.clone();
if(hD.KH())return;var a$=hD.c();if(hd<=0){eJ=j.U(a$*4);j.ao(S.buffer,S.rect,eJ,hD)}else{eJ=j.U(a$);di.extend(hD);
j.O0(di.channel,di.rect,eJ,hD)}if(0<=T&&S.Mk(a,A)){if(hd<=0){j.IP(eJ,0);j.ao(S.pO.UL,S.pO.W3,eJ,hD)}else{eJ.fill(255);
j.O0(S.pO.UL,S.pO.W3,eJ,hD)}}else{if(hd<=0){var hY=j.U(eJ.length>>2);j.Ez(eJ,hY,3);j.z.X6(j.k5(A.rect.c()),A.rect,hY,hD,A.channel,hD,1);
j.yv(hY,eJ,3)}else{var ik=j.U(A.rect.c()),U=s.U2>>>16&255,K=s.U2>>8&255,_=s.U2>>0&255;ik.fill(Math.round(j.RL(U,K,_)));
j.z.X6(ik,A.rect,eJ,hD,A.channel,hD,1)}}this.NG(a,!0,[2,2],T,hd,hD,eJ)}}if(I.q=="stroke"){var fw=I.azm,A=a.f;
if(A==null){A={rect:S.rect.clone(),channel:j.U(S.rect.c())};j.Ez(S.buffer,A.channel,3)}var jb=hB.zX(fw),cd=E.BN.arO(A,Math.ceil(jb[0]),Math.ceil(jb[1])),e=j.G.GW(fw.Clr.v),U=Math.round(e.$),K=Math.round(e.H),_=Math.round(e.J);
this.PV(a,S,cd,U,K,_,Math.round(255*fw.Opct.v.val/100),aU.W$(fw.Md.v.BlnM),[14,9])}if(I.q=="fillBMP"){this.E6(a,S,a.f,I.Fc,I.nY,I.xn)}if(I.q=="draw"){var dN=I.uZ,kc=dN.rect;
this.Ca(a);var ck=a.R[a.T[0]];if(I.avF&&ck&&ck.YY<=0&&a.Ap.length==0){kc=E.c$.aja(dN,a);ck.buffer=dN.buffer.slice(0);
ck.rect=kc.clone()}else{var b3=this.J$.bmode,hL=this.J$.opacity;this.J$.bmode="norm";this.J$.opacity=1;
this.aQ(a,"draw",dN.buffer,kc,kc.LU(new eZ(0,0,a.Q,a._)));this.J$.bmode=b3;this.J$.opacity=hL}this.V(a,kc);
a.q_=!0;this.finish(a,kc,I.xn,I.avF)}};E.dX.prototype.aBf=function(I){var k=I.target.response,a=new Uint8Array(k);
if(this.aAg){this.aAg=!1;k=kk.gu(u.Im(a))}else if(a[0]==123){var n=JSON.parse(u.Im(a)),Y=0;console.log(n);
if(n.status=="error"){alert(n.message.prompt[0]);return}var s=n.image_links;if(s==null)s=n.output;var C=s[0],T=new XMLHttpRequest;
T.responseType="arraybuffer";while(!0){var S=new XMLHttpRequest;S.open("HEAD",C,!1);S.send();if(S.status!=404)break;
console.log("not ready");Y++}T.open("GET",C,!0);T.onload=this.aBf.bind(this);this.aAg=!0;T.send();return}var D=UPNG.decode(k),o=new Uint8Array(UPNG.toRGBA8(D)[0]),v=kw.p_(this.Tt),g=this.Tt;
this.Tt=null;var d=g.R[g.T[0]],R=g.f,D=j.U(v.c()*4);j.ao(d.buffer,d.rect,D,v);var c=j.U(v.c());j.O0(R.channel,R.rect,c,v);
j.round(c);var e=new Uint32Array(D.buffer),O=new Uint32Array(o.buffer);for(var Y=0;Y<e.length;Y++)if(c[Y]==0)O[Y]=e[Y];
j.eb.ZY(o,c,v,null,500);var U=new d2(M.E.b,!0);U.data={q:M.p.ki,cJ:"Processing ..."};this.caller.a(U);
this.aQ(g,"draw",o,v,v);this.V(g,v);this.finish(g,v);kw.ou("remove")};E.dX.prototype.PV=function(I,k,a,n,s,C,T,S,D){var o=a==null?new eZ(0,0,I.Q,I._):a.rect,v=T<<24|C<<16|s<<8|n<<0,g=j.U(o.c()*4);
j.IP(g,v);this.E6(I,k,a,g,S,D)};E.dX.prototype.E6=function(I,k,a,n,s,C){var T=I.Ap.length!=0?-1-I.Ap[0]:I.T[0],S=T<0?1:k.YY,D=T<0?I.TL[-1-T]:S<=0?null:S==1?k.IO():k.kx(I).u,o=S<=0?k.rect:D.rect,v=a==null?new eZ(0,0,I.Q,I._):a.rect,g=a==null?j.ft(I.Q*I._):a.channel;
if(a!=null)j.Bj(g,n);var d=v.c(),R=j.U(d*4);if(S<=0)j.ao(k.buffer,k.rect,R,v);else{D.extend(v);R.fill(255);
j.bS(D.vg(v),R)}if(0<=T&&a&&k.Mk(I,a)&&S<=0){var c=k.pO.am,e=k.pO.am.slice(0);if(S<=0)j.ed(n,e);else j.ed(fullc,e);
var O=new g7([2,3],this);O.data={q:"drawtemp",o:I.T[0],wr:S,a8W:c,af4:e};I.RB(O);this.KY(O.data,I)}else{if(S<=0){var U;
if(k.hY(0)){U=j.U(v.c());j.Ez(R,U,3)}j.z.Pf(s,n,v,R,v,v,1);if(k.hY(0))j.yv(U,R,3)}else{j.z.Pf(s,n,v,R,v,v,1);
var K=j.U(d);j.xD(R,K);R=K}this.NG(I,!0,C,T,S,v,R)}};E.dX.prototype.rI=function(I){if(as.J0.indexOf(I)!=-1)return!0;
return!1};E.dX.prototype.Bf=function(I,k,a,n){var s=this.J$.brush,C=n.W(as.dE),T=C!=this.Lc,S=E.dX.JG(s,n);
if(S!=null)this.e5(S);if(!n.W(as.nU)&&n.Sj()!=-1&&this.id!=E.l5){var D=as.axp(Math.round(this.J$.opacity*100),n.Sj())/100;
this.Kr({opacity:D},k)}if(this.id==E.FY&&T&&I!=null){var o=this.J$.qsmode;if(o==2)o=I.f==null?0:1;else o=2;
this.Kr({qsmode:o},k)}this.Lc=C;if(T){if(I)this.T5=I.w.F;this.es(a,n)}};E.dX.JG=function(I,k){var a=I.Brsh.v.Dmtr.v.val,n=I.Brsh.v.Hrdn!=null?I.Brsh.v.Hrdn.v.val:-1,s=I.Brsh.v.Angl.v.val,C=a,T=n,S=s,D=k.W(as.bJ);
if(k.W(as.CQ)){if(D)n=25*Math.floor((n-1)/25);else{if(a<=10)a--;else if(a<=50)a=5*Math.floor((a-1)/5);
else if(a<=100)a=10*Math.floor((a-1)/10);else if(a<=200)a=25*Math.floor((a-1)/25);else if(a<=400)a=50*Math.floor((a-1)/50);
else a=100*Math.floor((a-1)/100)}}if(k.W(as.Zi)){if(D)n=25*Math.ceil((n+1)/25);else{if(a<10)a++;else if(a<50)a=5*Math.ceil((a+1)/5);
else if(a<100)a=10*Math.ceil((a+1)/10);else if(a<200)a=25*Math.ceil((a+1)/25);else if(a<400)a=50*Math.ceil((a+1)/50);
else a=100*Math.ceil((a+1)/100)}}var o=k.W(as.C8),v=k.W(as.K0);if(D&&(o||v)){s=(s+360+15*(o?1:-1))%360}a=Math.max(1,a);
n=Math.max(0,Math.min(100,n));if(T==-1)n=-1;if(a!=C||n!=T||s!=S){var g=JSON.parse(JSON.stringify(I));
g.Brsh.v.Dmtr.v.val=a;g.Brsh.v.Angl.v.val=s;if(T!=-1)g.Brsh.v.Hrdn.v.val=n;return g}return null};E.dX.prototype.es=function(I,k,a,n){if(I.Yg.list.length==0)return;
var s=this.id,C;if((s==E.jr||s==E.Pq||s==E.yO||s==E.LD)&&(k!=null&&k.W(as.dE)||this.J$.alt[0]))C="crosshair";
else{var T=this.T5,S=this.J$.brush;if((s==E.jr||s==E.Pq)&&a&&this.cB&&this.cB.length==this.YK.c()*4){var D=a.w.m_(n.x,n.y),o=this.a3K(D),v=this.cB,g=this.YK,d=new eZ(g.x+o.x,g.y+o.y,g.Q,g._),R=kN.ne(S,I.Yg.HR,T),c=R[0],e=R[1],O=Math.ceil(e.Q/T),U=new eZ(Math.round(D.x-O/2),Math.round(D.y-O/2),O,O),K=j.U(U.c()*4),_,Z;
j.ao(v,d,K,U);if(T==1){_=K;Z=U}else{var H=new dc(T,0,0,T,0,0),G=E.nF.on([K,U],H,!0);Z=e.clone();Z.x=G.rect.x;
Z.y=G.rect.y;if(Z.a$(G.rect))_=G.buffer;else{_=j.U(Z.c()*4);j.ao(G.buffer,G.rect,_,Z)}}var N=this.J$.opacity/255;
for(var Y=0;Y<_.length;Y+=4)_[Y+3]=N*(c[Y+3]*_[Y+3]);kN.alB(new Uint32Array(_.buffer),Z,4278190080,4294967295);
C={eY:_,Sq:Z,gk:new kK(Z.Q/2,Z._/2)}}else C=kN.fL(S,I.Yg.HR,T,s==E.l5||s==E.oF)}var z=new d2(M.E.b,!0);
z.data={q:M.p.Zk,s3:C};if(this.caller)this.caller.a(z)};E.dX.prototype.enable=function(I,k,a,n){this.wY=a;
this.caller=k;this.e5(JSON.parse(JSON.stringify(this.J$.brush)));if(I&&I.w.F!=0)this.T5=I.w.F;this.es(a,n)};
E.dX.prototype.wu=function(I,k){if(k==f9.Q2){this.J$.brush=I.Yg.Cj;this.es(I)}};E.dX.prototype.Un=function(I,k,a,n,s){for(var C in I)this.J$[C]=I[C];
if(this.J$.alt[0])this.es(s,n,a)};E.dX.prototype.alh=function(I){var k=I.Ap.length!=0?-1-I.Ap[0]:I.T[0],a=I.R[k],n=k<0?1:a.YY,s=k<0?I.TL[-k-1]:n<=0?null:n==1?a.IO():a.kx(I).u,C=s?s.channel:a.buffer,T=(s?s.rect:a.rect).clone();
return[a,n,s,C,T]};E.dX.prototype.Ca=function(I,k){this.Mr=I.f==null?null:{rect:I.f.rect.clone(),channel:I.f.channel.slice(0)};
var a=this.dP,n=this.alh(I),s=n[0],C=n[1],T=n[2];this.dP=n[3];this.UW=n[4];var S=new eZ(0,0,I.Q,I._),D=S.oL(this.UW);
if((this.c3()&&C<=0||D.a$(this.UW))&&k!=!0){if(a&&a.length==this.dP.length){a.set(this.dP);this.dP=a}else this.dP=this.dP.slice(0)}else{if(T)T.extend(D);
else s.extend(D)}};E.dX.prototype.ls=function(I,k){var a=this.alh(I),n=a[1],s=a[3],C=a[4],T=[s,C],S=k!=null?k:this.J$.sfrom;
if(n<=0&&S!=0){T[1]=new eZ(0,0,I.Q,I._);T[0]=I.TB(S==1&&I.T[0]!=I.R.length-1?I.T[0]:null).slice(0)}this.YK=T[1].clone();
this.cB=T[0].slice(0)};E.dX.prototype.a7=function(I,k,a,n,s,C){if(s.ZT&&n.W(as.dE)&&this.$a==null){if(C)this.CB=a.MW;
var T=new d2(M.E.r,!0);T.S=E.LN;T.data={q:"pickhere",aoU:s};k.a(T);var S=E.aY.a9l(I,!1,!0,s,null,a.MW,this.CB,1),T=new d2(M.E.b,!0);
T.data={q:M.p.Zk,s3:S};k.a(T);return!0}return!1};E.dX.prototype.m5=function(I,k,a,n,s,C){if(this.id!=E.FY&&!I.rb(this.caller)){this.Fp=null;
return}if(this.id!=E.FY&&this.Fp)return;this.Ca(I);var T=new eZ(0,0,I.Q,I._),S=null;if(C!=null){var D=I.Ap.length!=0?-1-I.Ap[0]:I.T[0],o=I.R[D],v=D<0?I.TL[-D-1]:o.YY<=0?null:o.YY==1?o.IO():o.kx(I).u;
S=j.U(T.c()*4);if(v)E.dX.it(this.dP,this.UW,v.color,S,T);else j.ao(this.dP,this.UW,S,T)}var g=this.J$;
if(this.Fp&&this.id==E.FY&&g.qsmode!=0&&I.f!=null){}else{var d=k.MW,R=k.U2;if(this.ho=="erase"){var c=d;
d=R;R=c}var e=this.id==E.FY?this.UW:T;this.Fp=new kN(g.brush,k.Yg.HR,k.Yg.GR,{UA:s,tg:C,abu:g.smth*50/I.w.F,oc:this.id==E.LD||g.emode==1,ym:I.ym},d,R,e,S)}if(this.id==E.FY){this.Fp.a1g(g.brush,g.qsmode==2?0:16777215)}var O=I.w.m_(n.x,n.y);
if(a.W(as.bJ)&&this.WL){var U=this.WL;this.Fp.moveTo(U.x,U.y,n.i3);this.Fp.lineTo(.001*U.x+.999*O.x,.001*U.y+.999*O.y,n.i3);
this.Fp.lineTo(O.x,O.y,n.i3)}else this.Fp.moveTo(O.x,O.y,n.i3);this.WL=O;this.L8=O.clone();this.oT=new g$(O,I.w.AE)};
E.dX.prototype.N6=function(I,k,a){if(I&&I.w.F!=0&&I.w.F!=this.T5){this.T5=I.w.F;this.es(a)}};E.dX.prototype.$_=function(I,k,a,n){if(this.Fp==null)return;
var s=I.R[I.T[0]],C=I.w.m_(n.x,n.y),T=this.oT.se(C,a);if(T.a$(this.WL))return 1;this.Fp.lineTo(T.x,T.y,n.i3);
this.WL=T;if(this.id==E.jr||this.id==E.Pq){var S=this.PS(),D=11;S=I.w.kF(C.x-S.x,C.y-S.y);var o=D>>>1,v=new eZ(Math.round(S.x)-o,Math.round(S.y)-o,D,D),g=j.U(v.c()*4);
j.IP(16777215);for(var Y=0;Y<D;Y++)g[(Y*D+o)*4+3]=g[(D*o+Y)*4+3]=255;I.D.OT=[[g,v]];I.Xi=!0}};E.dX.prototype.Iw=function(I,k,a,n){if(a.P$!=this.id)return;
if(this.id!=E.FY||I==null)return;if(I.f==null||I.T[0]!=this.a05){this.a05=I.T[0];this.Kr({qsmode:0},k)}};
E.dX.prototype.V=function(I,k){if(I.Ap.length!=0){I.Xi=!0;return}var a=I.R[I.T[0]];if(k==null){k=this.Fp.kU();
if(this.c3()&&a.YY<=0)k=k.LU(this.UW)}var n=a.YY;if(n==1||n==3){var s=Math.round((n==1?a.IO():a.kx(I).u).K4*2.4);
k=k.clone();k.CJ(s,s)}if(k.KH())return;if(n<=0){a.V(k)}if(n==1){a.IO().WB=!0;a.Wr(I,k)}if(n==3){a.V(k)}I.V(I.root.U5(k,I,I.T[0],!0))};
E.dX.prototype.pE=function(I,k,a,n,s){if(this.Fp==null)return;this.Fp.finish();if(this.id!=E.BM&&this.id!=E.Pq&&this.id!=E.FY)this.hs(I);
if(this.id==E.jr||this.id==E.Pq){I.D.OT=[];I.Xi=!0}if(this.id==E.FY){var C=I.f;I.f=this.Mr;var T=new d2(M.E.r,!0);
T.data={q:"setsel",xn:this.name,f:C};T.S=E.FQ;k.a(T);if(this.J$.qsmode==0)this.Kr({qsmode:1},k)}else{this.finish(I,this.Fp.Gp());
this.Fp=null;this.Bt=null}this.dir=0};E.dX.prototype.Kr=function(I,k){for(var a in I)this.J$[a]=I[a];
var n=new d2(M.E.b,!0);n.data={q:M.p.at,S:this.id,j8:I};k.a(n)};E.dX.prototype.c3=function(){var I=this.id;
return I==E.FY||I==E.vV||I==E.Mj||I==E.m0||I==E.Er||I==E.er};E.dX.prototype.finish=function(I,k,a,n,s){var C=I.Ap.length!=0?-1-I.Ap[0]:I.T[0],T=I.R[C],S=C<0?1:T.YY,D=C<0?I.TL[-C-1]:S<=0?null:S==1?T.IO():T.kx(I).u,o=D?D.rect:T.rect,d;
if(this.c3()||!o.a$(this.UW)){if(D==null){if(this.c3())T.Jk();else{var v=k.oL(this.UW),g=j.U(v.c()*4);
j.ao(T.buffer,T.rect,g,v);T.buffer=g;T.rect=v}}else D.Jk();this.V(I,o)}if(S<=0){d=j.U(k.c()*4);j.ao(this.dP,this.UW,d,k)}else{d=j.U(k.c());
d.fill(D.color);j.O0(this.dP,this.UW,d,k)}this.NG(I,!1,a?a:this.name,C,S,k,d,n,s)};E.dX.prototype.NG=function(I,k,a,n,s,C,T,S,D){var o=T;
if(s>0){o=j.U(C.c()*4);E.dX.it(T,C,0,o,C)}var v=new g7(a,this);v.data=[{o:n,wr:s,Sq:C,b6:o}];if(S)v.data.II=[I.f,null];
if(D)v.data.II=[this.Mr,I.f];I.RB(v);if(k)this.KY(v.data,I);else if(S)I.f=null;E.zw.aAw(I,v.data)};E.dX.prototype.PP=function(I,k){this.aF2(I,k,!1)};
E.dX.prototype.KY=function(I,k){this.aF2(I,k,!0)};E.dX.prototype.d2=function(I){return E.zw.d2(I)};E.dX.prototype.aF2=function(I,k,a){if(I.q=="drawtemp"){var n=a?I.af4:I.a8W,s=k.R[I.o];
s.pO.am=n;s.V8(k,0,0,k.f);s.V();k.q_=!0}else{E.zw.Lj(k,I);if(I.II){k.f=I.II[a?1:0];k.LQ=!0}}k.V()};E.dX.prototype.hs=function(I){this.aQ(I,this.ho,this.Fp.SW(),this.Fp.GT(),this.Fp.kU());
this.V(I)};E.dX.prototype.aQ=function(I,k,a,n,s){var C=this.J$,T=I.R[I.T[0]],S=I.Ap.length!=0?I.TL[I.Ap[0]]:T.YY<=0?null:T.YY==1?T.IO():T.kx(I).u,D=j.U(s.c()*4),o,v=T.hY(0);
if(S==null){if(this.id==E.WT&&k=="heal")j.ao(T.buffer,T.rect,D,s);else j.ao(this.dP,this.UW,D,s);if(v){o=j.U(s.c());
j.Ez(D,o,3)}}else{E.dX.it(this.dP,this.UW,S.color,D,s)}if(I.f&&k!="qselect"){var g=s.LU(I.f.rect),d=j.U(g.c()*4);
if(k=="copy"){var R=j.U(g.c());j.O0(I.f.channel,I.f.rect,R,g);j.ao(D,s,d,g);j.z.Pw(a,n,d,g,R,g,0,g,1,!1)}else{j.ao(a,n,d,g);
j.zV(I.f.channel,I.f.rect,d,g)}a=d;n=g}function c(U,cd){var kc=Math.max(cd.x,Math.min(cd.x+cd.Q-1,U.x)),ck=Math.max(cd.y,Math.min(cd.y+cd._-1,U.y));
return new kK(kc,ck)}if(k=="idraw"||k=="ierase"){if(this.Bt==null)this.Bt=j.U(this.UW.c());var e=this.J$.samp,O=this.wY.U2,U=c(this.WL,s),K=e==0?U:this.L8,_=K.x,Z=K.y,H=E.h$.Ag(this.dP,this.UW,[K,new kK(_-2,Z),new kK(_+2,Z),new kK(_,Z-2),new kK(_,Z+2)]);
if(e==2)H=[[O>>>16&255,O>>>8&255,O>>>0&255,255]];var G=E.h$.FO(D,s,U,H,this.J$.wconf),N=j.U(s.c());j.O0(this.Bt,this.UW,N,s);
j._R.oL(G,N,N);j.O0(N,s,this.Bt,this.UW);j.zV(N,s,a,n);k=k.slice(1)}if(k=="erase"&&(E.zw.a4C(I)!=16777215||S))k="draw";
if(k=="draw")j.z.Pf(C.bmode,a,n,D,s,s,C.opacity);else if(k=="erase"){var z=C.opacity;if(this.id==E.oF)z=1;
var L=j.U(s.c()*4);j.ao(a,n,L,s);if(S==null){var p=j.U(s.c());j.Ez(L,p,3);j.ub(p,z);j.Us(p);j.zV(p,s,D,s)}else{j.IP(L,0,4278190080);
j.z.Pf("norm",L,s,D,s,s,z)}}else if(k=="clone"||k=="heal"){var V=this.PS(),r=this.YK.clone();r.offset(V.x,V.y);
var y=s.clone();y.CJ(1,1);var W=j.U(y.c()*4),m=j.U(y.c());j.ao(a,n,W,y);j.Ez(W,m,3);j.IP(W,0);if(S==null){j.ao(this.cB,r,W,y);
var f=j.U(y.c());j.Ez(W,f,3);j.r_(f,m)}else E.dX.it(this.cB,r,S.color,W,y);if(k=="clone"){j.yv(m,W,3);
j.z.Pf(C.bmode,W,y,D,s,s,C.opacity)}if(k=="heal"){var h=m.slice(0);j.round(h,20);var b=j.U(y.c()*4);
if(S==null)j.ao(this.dP,this.UW,b,y);else E.dX.it(this.dP,this.UW,S.color,b,y);j.z.Pw(W,y,b,y,h,y,0,y,1,!1);
j.eb.ZY(b,h,y);j.z.Pw(b,y,D,s,m,y,0,s,1,!1)}}else if(k=="dodge"||k=="burn"){var W=j.U(s.c()*4),J=1,q=0,x=0,A=0;
j.ao(a,n,W,s);var i=s.c()*4,w=E.dX.iJ;if(this.Lc){if(k=="dodge")k="burn";else k="dodge"}var Q=C.rng;
if(k=="dodge"){q=[1-J/2,1,1+J][Q];x=[1,1/(1+J),1][Q];A=[J/2,0,0][Q]}if(k=="burn"){q=[1/(1-J/2),1,1-J/2][Q];
x=[1,1+J,1][Q];A=[-(J/2)/(1-J/2),0,0][Q]}for(var Y=0;Y<i;Y+=4){var B=W[Y+3];D[Y+0]=w(D[Y+0],q,x,A,B);
D[Y+1]=w(D[Y+1],q,x,A,B);D[Y+2]=w(D[Y+2],q,x,A,B)}}else if(k=="sponge"||k=="redeye"){var W=j.U(s.c()*4),m=j.U(s.c());
j.ao(a,n,W,s);j.Ez(W,m,3);j.ed(D,W);var l=C.smode;if(this.Lc)l=1-l;var P=gJ.nI("hue2");if(k=="sponge")eu.qh(P,0,[0,[-50,46][l],[6,5][l]]);
else eu.qh(P,1,{Cv:[265,305,25,55],iM:[0,-90,-70]});var F=fo.Zh("hue2",P);fo.uq(F,W,W,s);j.z.Pw(W,s,D,s,m,s,0,s,1,!1)}else if(k=="copy")j.ao(a,n,D,s);
else if(k=="sheal"){var W=j.U(s.c()*4),m=j.U(s.c());j.ao(a,n,W,s);j.Ez(W,m,3);W.fill(0);var t=this.cB,b$=this.YK;
if(S){t=j.U(b$.c()*4);E.dX.it(this.cB,b$,0,t,b$)}else if(T.IO()&&T.IO().isEnabled){var hd=T.IO(),di=j.U(hd.rect.c()*4);
j.ao(t,b$,di,hd.rect);j.yv(hd.channel,di,3);t=di;b$=hd.rect}var hD=j.Iu.ZY(t,b$,m,W,s);if(hD!=0)j.ao(t,b$,W,s);
if(this.J$.sfrom==0)j.ao(W,s,D,s);else{j.ao(this.dP,this.UW,D,s);j.yv(m,W,3);j.z.Pf("norm",W,s,D,s,s,1)}}else if(k=="qselect"){var a$=this.UW,eJ=a$.Q,hY=a$._,ik=eJ*hY,fw=this.Fp.SW(),H=this.dP,jb=E.BN.QD,m=jb.Qn;
m.fill(128);for(var Y=0;Y<ik;Y++){var cd=fw[Y<<2],dN=fw[(Y<<2)+3];if(dN==255&&(cd==0||cd==255))m[Y]=cd}m[0]=m[eJ-1]=0;
m[(hY>>>1)*eJ]=m[(hY>>>1)*eJ+eJ-1]=0;E.sl.Ox(jb,!0,I);I.f={rect:a$,channel:jb.f.slice(0)};I.LQ=!0}if(S==null){if(v)j.yv(o,D,3);
j.ao(D,s,T.buffer,T.rect)}else E.dX.eF(D,s,S)};E.dX.PS=function(){return null};E.dX.iJ=function(I,k,a,n,C){var T=I*(1/255),S=n+k*Math.pow(T,a),D=Math.round(S*C+T*(255-C));
return Math.max(0,Math.min(255,D))};E.dX.it=function(I,k,a,n,s){var C=j.U(s.c());C.fill(a);j.O0(I,k,C,s);
n.fill(255);j.bS(C,n)};E.dX.eF=function(I,k,a){var n=j.U(k.c());j.xD(I,n);j.O0(n,k,a.channel,a.rect)};
E.BN=function(I,k,a){E.mu.call(this,I,k,a);this.J$={binop:0,feat:0,cstr:{Tx:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this.k7=new kK(-1,-1);this.gc=new kK(-1,-1);this.ht="default";this.k3=null;this.Go=!1;this.$H=new bI;
this.$W=!1;this.LE=null;this.$f=null;this.Zw=!1;this.Kp=!1};E.BN.prototype=new E.mu;E.BN.prototype.Hj=function(){var I=this.J$,k=[I.binop,I.feat],a=I.wconf,n=a.join(",")=="16,true,true";
if(k[0]==0&&k[1]==0&&n)return null;if(!n)k.push(a);return k};E.BN.prototype.j9=function(I,k,a){var n=this.J$;
if(I[0])n.binop=I[0];if(I[1])n.feat=I[1];if(I[2])n.wconf=I[2];this.vO(a)};E.BN.prototype.vO=function(I){var k=new d2(M.E.b,!0);
k.data={q:M.p.at,S:this.id,J$:this.J$};I.a(k)};E.BN.QD={key:""};E.BN.jY=function(I,k,a){var n={pi:I,zf:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(k)n.zf.T=k;if(a!=null)n.zf.AntA={t:"bool",v:a};return n};E.BN.v2=function(I,k,a){return E.BN.jY("set",{t:"Objc",v:{classID:I,Top:{t:"UntF",v:{type:"#Pxl",val:k.y}},Left:{t:"UntF",v:{type:"#Pxl",val:k.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:k.y+k._}},Rght:{t:"UntF",v:{type:"#Pxl",val:k.x+k.Q}}}},a)};
E.BN.vL=function(I,k,a){var n=[],s=[],T="set";for(var Y=0;Y<I.length;Y+=2){n.push(I[Y]);s.push(I[Y+1])}var C={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:n},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:s}]}}}};
if(k)T=["set","addTo","subtractFrom","interfaceWhite"][k];return E.BN.jY(T,C,a)};E.BN.asw=function(I,k,a){var n={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:I.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:I.y}}}},s=E.BN.jY("set",n);
s.zf.Tlrn={t:"long",v:k[0]};s.zf.AntA={t:"bool",v:k[1]};s.zf.Cntg={t:"bool",v:k[2]};if(a==!0)s.zf.Mrgd={t:"bool",v:a};
return s};E.BN.dS=function(I){return E.BN.jY("set",{t:"enum",v:{Ordn:I?"Al":"None"}})};E.BN.VV=function(I,k,a){var n={classID:"null"};
if(I!="border")n.selectionModifyEffectAtCanvasBounds={t:"bool",v:a};var s={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[I[0]];
n[s]={t:"UntF",v:{type:"#Pxl",val:k}};return{pi:I,zf:n}};E.BN.B1=function(I,k,a){var n={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},s={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:k}}]};
if(a)s.v.push({t:"name",v:{classID:"Lyr",val:a}});var C=[{classID:"null",null:n,T:s},{classID:"null",null:s,T:n},{classID:"null",null:s,From:n},{classID:"null",null:s,With:n}],T=["set","add","subtract","interfaceIconFrameDimmed"];
return{pi:T[I],zf:C[I]}};E.BN.agT=function(I,k){var a=new d2(M.E.b,!0);a.data={q:M.p.iv,CU:f9.Ux};if(!k.Q7)I.a(a);
a.data={q:M.p.iv,CU:f9.y5};if(!k.M6.ue)I.a(a)};E.BN.prototype.CP=function(I,k,a,n,s){E.BN.agT(k,s);this.k3=k;
var C=I.q,T,S,D=new eZ(0,0,a.Q,a._),ag=!1,b0,kx,br,ft;if(C=="fromAction"){var o=I._f,v=o.pi,g=o.zf,d=g?g.selectionModifyEffectAtCanvasBounds:null,R=d&&d.v;
if(v=="colorRange"){if(g.Clrs){var c=g.Clrs.v.Clrs,e=0,O=255,U=["Shdw","Mdtn","Hghl"].indexOf(c),H=.4;
if(U==0)O=60;else if(U==1){e=100;O=150}else e=190;var K=["shadows","midtones","highlights"][U],_=g[K+"LowerLimit"],Z=g[K+"UpperLimit"];
if(_)e=_.v;if(Z)O=Z.v;var G=g[K+"Fuzziness"];if(G)H=G.v/100;T=E.BN.km(a,e,O,H,!0)}else{var e=g.Mnm.v,O=g.Mxm.v,H;
e={eI:e.Lmnc.v,M:e.A.v,J:e.B.v};O={eI:O.Lmnc.v,M:O.A.v,J:O.B.v};H=g.Fzns.v/200;T=E.BN.km(a,e,O,H)}S=[7,8]}else if(v=="inverse"){if(a.f==null){alert("No selection!");
return}T={channel:j.U(D.c()),rect:D};j.O0(a.f.channel,a.f.rect,T.channel,T.rect);j.Us(T.channel);S=[7,2]}else if(v=="expand"){var N=g.By.v.val,z=a.f.rect.clone();
z.CJ(N,N);var L=j.U(z.c()),p=j.U(z.c());j.O0(a.f.channel,a.f.rect,p,z);j.style.stroke(p,L,z,N);T={channel:L,rect:z};
S=[7,4]}else if(v=="contract"){var N=g.By.v.val,V=a.f.rect.clone();V.CJ(1,1);if(!R)V=V.LU(D);var p=j.U(V.c()),r=j.U(p.length);
j.O0(a.f.channel,a.f.rect,p,V);j.Us(p);j.style.stroke(p,r,V,N);j.Us(r);T={channel:r,rect:V};j.Jk(T);
S=[7,5]}else if(v=="border"){var N=g.Wdth.v.val;T=E.BN.arO(a.f,N/2,N/2);S=[7,9]}else if(v=="feather"||v=="smoothness"){var N=g.Rds.v.val;
T=E.BN.alM(a.f,N,v=="smoothness",D,R);S=v=="feather"?[7,6]:[19,3,0]}else if(v=="move"){var y=g.T.v,z=a.f.rect.clone();
z.x+=y.Hrzn.v.val;z.y+=y.Vrtc.v.val;T={channel:a.f.channel,rect:z};S=[7,7]}else if(v=="grow"||v=="similar"){var W=this.J$.wconf.slice(0);
if(g.Tlrn)W[0]=g.Tlrn.v;W[2]=v=="grow";var m=a.TB(),f=new eZ(0,0,a.Q,a._),h=a.f.rect,b=Math.round(Math.sqrt(h.c())/10),i=j.U(f.c());
j.O0(a.f.channel,h,i,f);var w=[];for(var J=0;J<h._;J+=b)for(var q=(h.c()+J)%b;q<h.Q;q+=b)if(a.f.channel[J*h.Q+q]==255){var x=new kK(h.x+q,h.y+J);
w.push(x);if(W[2])j._R.oL(E.h$.FO(m,f,x,null,W),i,i)}if(!W[2])j._R.oL(E.h$.FO(m,f,x,E.h$.Ag(m,f,w),W),i,i);
T={channel:i,rect:f};S=v=="grow"?"Grow Selection":"Similar Selection";console.log(g)}else{var A=g.null.v,Q=g.AntA!=null&&g.AntA.v;
function B(fb){var j$=fb.Top.v.val,ay=fb.Left.v.val;return new eZ(ay,j$,fb.Rght.v.val-ay,fb.Btom.v.val-j$)}function l(fb){var j$=fb[0].arr,e0=fb[1].arr,ff={s:[],m:[]};
for(var Y=0;Y<j$.length;Y++){ff.m.push(Y==0?"M":"L");ff.s.push(j$[Y],e0[Y])}ff.m.push("Z");return ff}var P=["set","addTo","subtractFrom","interfaceWhite"].indexOf(v),F=g.T?g.T.v:null;
if(F&&F.classID=="Elps"){T=this.adz(E.yl.a2W(B(F)));S=[10,4]}else if(F&&F.classID=="Rctn"){var t=B(F);
T={channel:j.U(t.c()),rect:t.clone()};T.channel.fill(255);S=[10,15]}else if(F&&F.classID=="ObSl"){var t=B(F),b$=E.BN.QD,hd=b$.rect,di=b$.Qn,hD=hd.Q,a$=hd._,eJ=t.x-hd.x,hY=eJ+t.Q-1,ik=Math.max(eJ,Math.min(hY,eJ+hY>>>1)),fw=t.y-hd.y,jb=fw+t._-1,cd=Math.max(fw,Math.min(jb,fw+jb>>>1)),dN=Math.max(eJ,0),kc=Math.min(hY,hD),ck=Math.max(fw,0),b3=Math.min(jb,a$);
di.fill(128);if(0<=fw)for(var q=dN;q<kc;q++)di[fw*hD+q]=0;if(jb<a$)for(var q=dN;q<kc;q++)di[jb*hD+q]=0;
if(0<=eJ)for(var J=ck;J<b3;J++)di[J*hD+eJ]=0;if(hY<hD)for(var J=ck;J<b3;J++)di[J*hD+hY]=0;var hL=E.NB.agP,gS=Math.round(t.Q*hL),jF=Math.round(t._*hL);
for(var q=Math.max(0,ik-gS);q<Math.min(hD,ik+gS);q++)di[cd*hD+q]=255;for(var J=Math.max(0,cd-jF);J<Math.min(a$,cd+jF);
J++)di[J*hD+ik]=255;E.sl.Ox(b$,!0);T={channel:b$.f.slice(0),rect:hd.clone()};S=[10,44]}else if(F&&F.classID=="Plgn"){T=this.adz(l(F.Pts.v.arr));
S=[10,9]}else if(F&&F.classID=="Pnt"){T=E.h$.a3G(a,new kK(F.Hrzn.v.val,F.Vrtc.v.val),[g.Tlrn.v,Q,g.Cntg==null||g.Cntg.v],g.Mrgd?g.Mrgd.v:!1);
S=[10,12]}else if(F&&F.Ordn=="None"){T=null;S=[7,1]}else if(F&&F.Ordn=="Al"){var kB=D;if(a.T.length!=0){var jw=a.root.lR(a.T[0]);
while(jw.parent&&jw.parent.parent)jw=jw.parent;if(jw.o.add.artb)kB=jw.o.OR()}T={channel:j.U(kB.c()),rect:kB};
T.channel.fill(255);S=[7,0]}else if(F&&F[0]&&F[0].v.keyID=="WrPt"){var iT={q:"frompath",ri:[-1,0,0]};
this.CP(iT,k,a,n,s);return}else{var gY=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(v),aL=v=="set"?F:A,dw=aL[0].v.enum,iT;
if(dw=="Trsp"||dw=="Msk"||dw=="vectorMask"||dw=="Trgt"){var ka=a.T[0];if(aL.length==2)ka=hW.T3(a,aL[1]);
var cy=["Trsp","Msk","vectorMask"].indexOf(dw);if(dw=="Trgt"&&a.R[ka].YY==1)cy=1;iT={q:"fromlayer",ri:[ka,cy,gY]}}else{if(aL[0].t=="name"){var ka=0;
for(var Y=0;Y<a.TL.length;Y++)if(a.TL[Y].name==aL[0].v.val)ka=Y;iT={q:"fromchannel",ri:[-5-ka,0,gY]}}else{var jP=["RGB","Rd","Grn","Bl"].indexOf(dw);
iT={q:"fromchannel",ri:[-1-jP,0,gY]}}}this.CP(iT,k,a,n,s);return}if(T){if(!Q)j.round(T.channel);if(g.Fthr)T=E.BN.alM(T,g.Fthr.v.val,!1);
if(v!="set"&&a.f!=null)T=j._R.hB(T,a.f,P)}}if(v=="expand"||v=="contract")if(!R&&!D.contains(T.rect)){var aA=T.rect.LU(D),d1=j.U(aA.c());
j.O0(T.channel,T.rect,d1,aA);T.channel=d1;T.rect=aA}}if(C=="qmask"){ag=!0;var iv=a.Bo(),f=new eZ(0,0,a.Q,a._);
if(iv){T=iv.rect.a$(f)&&j.RS(iv.channel,255)?null:{rect:iv.rect.clone(),channel:iv.channel.slice(0)};
b0=iv}else{T=null;kx=new X.uC;kx.color=0;kx.name="Quick Mask";kx.zh=!0;if(a.f){kx.rect=a.f.rect.clone();
kx.channel=a.f.channel.slice(0)}else{kx.rect=f;kx.channel=j.U(kx.rect.c());kx.channel.fill(255)}}S=[6,6,1];
a.q_=!0}if(C=="setsel"){T=I.f;S=I.xn}if(C=="crange"){var e=I.T1,O=I.Ad;T=E.BN.km(a,e,O,I.wE);S=[7,8]}if(C=="fromlayer"||C=="fromchannel"||C=="frompath"){var k6=I.ri[0],cy=I.ri[1],P=I.ri[2];
if(C=="fromlayer"){if(k6==null)k6=a.T[0];var ay=a.R[k6];if(cy==0){var eT=ay.rect,kD=ay.buffer;if(eT.KH())return;
var cP=j.U(kD.length>>>2);j.Ez(kD,cP,3);T={channel:cP,rect:eT.clone()}}else{if(ay.u==null)ay.Wr(a);var cU=cy==1?ay.IO():ay.u;
T=E.BN.a1q(cU,D)}this.track(E.BN.B1(P,["Trsp","Msk"][cy],ay.getName()))}else if(C=="frompath"){var gu=a.iQ(),jd=gu[1],gu=gu[0],jk=!0;
if(k6==null)if(gu.length==0||jd.length==0)return;var i$=gu[jd[0]];if(k6!=null)for(var Y=0;Y<gu.length;
Y++)if(gu[Y].Gq==k6)i$=gu[Y];var cU=i$.add.vmsk.IO(),hT=cU.GT();if(hT.c()==0)return;var cP=cU.xA();if(I.ri[3]!=null)jk=I.ri[3];
if(!jk){cP=cP.slice(0);j.round(cP)}br=[JSON.stringify(a.dz),JSON.stringify(a.L0)];ft=["[]","[]"];a.dz=[];
a.L0=[];T={channel:cP,rect:hT}}else{if(k6==null)k6=E.BN.a0I(a);T=E.BN.aE0(a,k6)}if(P!=0&&a.f)T=j._R.hB(T,a.f,P);
S=[14,11]}if(C=="bgrm"){var i1=window.locStor.getItem("bgrmt"),aZ=600;if(i1==null)i1=0;var az=E.BN.a2T.bind([a,k,I,s]),hM=Math.floor((Date.now()-i1)/1e3);
if(!bU.Oa()&&hM<aZ&&s.nN.yK==null){var ku="Non-Premium users can use it once 10 minutes ("+(aZ-hM)+" sec remain). Try Select - \"Magic Cut\" instead!\nWatch a short ad and skip waiting?";
gP.f7(az,ku,"rmbg")}else az();return}if(T!=null&&j.RS(T.channel,0)){T=null;S=[7,1]}if(T)j.Jk(T);var dM=new g7(S,this);
dM.data={q:"changesel",f:T,Bo:ag,acB:b0,aBI:kx,lk:br,ag8:ft};a.RB(dM);this.KY(dM.data,a)};E.BN.a2T=function(){var I=this[0],k=this[1],a=this[2],n=this[3],s=I.R[I.T[0]],C=s.rect,T=s.buffer,S=1,R="JmQZWPPseb3/.3,4.1'y?\"qvuyai.%d~`LXNF@LBc6?:X=TO0 +*}#~Grqca6\\Z|ZKZObi\\0a$0<2*coeFax*/6)9663.*$\"{OSVHlk=jg_\\,XSSQOxC =o;596djbT$P trspm;kbNUH{Mo{(}uO[Q2Jnomw~qOKJOHPJMC6[>.326}&JA!;|htjb\\h^ R[Vgna/?DCG3Ji&%*#+%(}p+c",c=!1;
while(Math.max(C.Q,C._)>4096){var D=j.tR(T,C);C=D.rect;T=D.GG;S*=2}var o=kk.wV("png"),v=kk.wV("jpg"),g=v.G0([[T.buffer]],C.Q,C._),d=new FormData,C=new XMLHttpRequest;
d.append("image",new Blob([g],{type:"ima"+"ge/j"+"pg"}));R=JSON.parse(dz.Iy(R));if(c){C.open("POST","https://ai.zoner.com/api/direct/v1/RemoveBg");
C.responseType="arraybuffer";d.append("ApiKey","Photopea")}else{if(n.nN.yK)R[2]=n.nN.yK;C.open("POST",R[0]);
C.setRequestHeader(R[1],R[2]);C.setRequestHeader(R[3],R[4])}C.send(d);alert(hJ.get([23,5])+" ...",2800);
C.onload=function(e){var O=e.target.response;if(typeof O=="string"){var U=JSON.parse(O);if(U.message){alert(U.message);
return}var K=U.results[0].entities[0].image;O=kk.gu(K)}var K=o.Zn(O)[0],_=K.e3,Z=j.U(_.c());j.xD(new Uint8Array(K.data),Z);
for(var Y=0;Y<Z.length;Y++){if(Z[Y]>250)Z[Y]=255}if(S!=1){var D=E.nF.e6([Z,_],new dc(S,0,0,S,0,0));_=D.rect;
Z=D.channel}_.x=s.rect.x;_.y=s.rect.y;var H=new d2(M.E.r,!0);if(a.P==1){H.S=E.xf;H.data={q:X.IW,rN:R[5],af2:!0};
k.a(H);var G=s.IO();G.color=0;G.rect=_;G.channel=Z;G.Jk();s.Wr()}else if(a.P==2){H.S=E.FQ;H.data={q:"setsel",f:{channel:Z,rect:_},xn:"Select Subject"};
k.a(H)}else throw"e";if(n.nN.yK==null){bU.event("rembg_Rem"+"ove B"+"G:  "+(bU.Oa()?"Pre"+"mium":"Free"));
window.locStor.setItem("bgrmt",Date.now())}}};E.BN.a0I=function(I){var k=0;if(I.Ap.length!=0)k=-5-I.Ap[0];
else if(JSON.stringify(I.w.N)=="[1,1,1]")k=-1;else k=-2-I.w.N.indexOf(1);return k};E.BN.aE0=function(I,k){var a,n=new eZ(0,0,I.Q,I._);
if(-5<k&k<0){var s=-k-1,C=I.TB(),T=j.U(n.c());if(s==0)j.xD(C,T);else j.Ez(C,T,s-1);a={channel:T,rect:n.clone()}}if(k<-4){a=E.BN.a1q(I.TL[-k-5],n)}return a};
E.BN.a1q=function(I,k){var a,n;if(I.GW()==0){n=I.GT().clone();if(n.c()==0)return;a=I.xA()}else{n=k;a=j.U(n.c());
I.tf(n,a)}return{channel:a,rect:n}};E.BN.prototype.zJ=function(I){return this.$W||I.ZT&&this.id!=E.hV};
E.BN.prototype.OS=function(I,k,a){var n=new d2(k,!0);n.data=a;I.a(n)};E.BN.prototype.ap$=function(I,k){var a=new d2(M.E.b,!0);
a.data={q:M.p.Zk,s3:k};I.a(a)};E.BN.prototype.GT=function(I,k,a){k=I.f==null||this.$H.Nd(1)||this.$H.VA(1)?k:null;
var n=this.k7,s=this.gc;if(a){n.x=Math.max(0,Math.min(I.Q,n.x));n.y=Math.max(0,Math.min(I._,n.y));s.x=Math.max(0,Math.min(I.Q,s.x));
s.y=Math.max(0,Math.min(I._,s.y))}var C=E.WX.sS(n,s,k,!0,this.J$.cstr),T=C[0].x,S=C[0].y,D=new eZ(T,S,C[1].x-T,C[1].y-S);
if(a){D.x=Math.max(D.x,0);D.y=Math.max(D.y,0)}return D};E.BN.prototype.Vr=function(I,k,a,n,s){this.Kp=!0;
if(this.PO())return;this.k3=k;this.Go=!1;this.$H.Vr(n);this.k7=I.w.m_(s.x,s.y);this.k7=E.R0.a5(I,this.k7,a);
if(this.aEw(I,this.k7,n)){this.$W=!0;this.LE=I.f.rect.clone();return}this.e_(I,a,n,s);I.w.uR=new eZ};
E.BN.prototype.aEw=function(I,k,a){var n=a.W(as.bJ),s=a.W(as.dE);if(I.f&&!n&&!s&&this.J$.binop==0)return j.oJ(k,I.f.channel,I.f.rect);
return!1};E.BN.prototype.Fr=function(I,k,a,n,s){this.k3=k;if(this.Zw)return;var C=I.w.m_(s.x,s.y);if(kK.f0(this.k7,C)*I.w.F>5){this.Go=!0;
this.$H.Fr()}if(n.W(as.lO)){if(this.$f==null)this.$f=new kK(C.x-this.k7.x,C.y-this.k7.y);this.k7.x=C.x-this.$f.x;
this.k7.y=C.y-this.$f.y}else this.$f=null;this.gc=C;if(!this.$W&&this.id!=E.hV)this.gc=E.R0.a5(I,this.gc,a);
if(this.aEw(I,this.gc,n))this.ap$(k,"move");else this.ap$(k,this.ht);if(this.$W){var T=this.LE.clone();
T.x+=this.gc.x-this.k7.x;T.y+=this.gc.y-this.k7.y;var S=E.R0.v3(I,T,a);I.f.rect.x=Math.round(this.gc.x-this.k7.x+this.LE.x+S[0]);
I.f.rect.y=Math.round(this.gc.y-this.k7.y+this.LE.y+S[1]);I.LQ=!0;E.R0.bH(I,T,S);return}this.vC(I,a,n,s,k);
if(I.w.uR)I.w.uR=this.GT(I,n)};E.BN.prototype.PO=function(){return!1};E.BN.prototype.pE=function(I,k,a,n,s,C){var T=this.Kp;
this.Kp=!1;if(C||!T)return;I.w.uR=null;this.gc=I.w.m_(s.x,s.y);this.gc=E.R0.a5(I,this.gc,a);if(this.$W){this.$W=!1;
if(I!=null&&I.D.PT){I.D.PT=null;I.Xi=!0}if(this.gc.a$(this.k7)&&this.ur()==0){this.OS(k,M.E.rd,E.BN.dS());
return}this.akz(I,this.LE,I.f.rect.clone());return}this.RG(I,a,n,s,k);E.BN.agT(k,a);this.$H.pE();this.$u(k)};
E.BN.prototype.akz=function(I,k,a){var n=I.HS();if(n!=null&&n.S==this&&n.data.q=="movesel"){}else{n=new g7([7,7],this);
n.data={q:"movesel",ZD:k};I.RB(n)}n.data.T6=a;this.KY(n.data,I)};E.BN.prototype.oS=function(I,k,a,n,s){this.Zw=!0};
E.BN.prototype.pC=function(I,k,a,n,s){var C=new d2(M.E.b,!0);C.data={q:M.p.at,S:this.id,Yc:s,Lr:I,tb:a};
k.a(C);this.Zw=!1};E.BN.prototype.Bf=function(I,k,a,n){this.$H.Bf(n);if(I!=null&&I.f!=null){var s=n.m4();
if(s.x!=0||s.y!=0){var C=I.f.rect.clone();C.x+=s.x;C.y+=s.y;this.akz(I,I.f.rect.clone(),C)}}this.$u(k)};
E.BN.prototype.$u=function(I){var k=new d2(M.E.b,!0);k.data={q:M.p.at,S:this.id,bf:this.ur()};I.a(k)};
E.BN.prototype.ur=function(){var I=this.$H.Nd(0),k=this.$H.VA(0);return E.BN.yP(this.J$.binop,I,k)};
E.BN.yP=function(I,k,a){if(k)I=1;if(a)I=2;if(k&&a)I=3;return I};E.BN.prototype.finish=function(I,k,a,n){var s=I.f,C=this.getSelection(I,k,a,n);
if(C==null)C=E.BN.dS();else{var T=this.J$.feat,S=this.ur();if(T!=0)C.zf.Fthr={t:"UntF",v:{type:"#Pxl",val:T}};
if(S!=0&&S!=4)C.pi=["","addTo","subtractFrom","interfaceWhite",""][S]}this.OS(this.k3,M.E.rd,C);this.k7.dZ(-1,-1);
this.gc.dZ(-1,-1)};E.BN.prototype.getSelection=function(I,k,a,n){return null};E.BN.prototype.e_=function(I,k,a,n){};
E.BN.prototype.vC=function(I,k,a,n){};E.BN.prototype.RG=function(I,k,a,n){};E.BN.prototype.PP=function(I,k){var a=I.q;
if(a=="changesel"){var n=k.f;k.f=I.f;I.f=n}if(a=="movesel")k.f.rect=I.ZD;if(I.Bo){if(I.acB){k.Ap=[k.TL.length];
k.TL.push(I.acB)}else{k.TL.pop();k.Ap=[]}}if(I.lk){k.dz=JSON.parse(I.lk[0]);k.L0=JSON.parse(I.lk[1])}k.LQ=!0};
E.BN.prototype.KY=function(I,k){var a=I.q;if(a=="changesel"){var n=k.f;k.f=I.f;I.f=n}if(a=="movesel")k.f.rect=I.T6;
if(I.Bo){if(I.aBI){k.Ap=[k.TL.length];k.TL.push(I.aBI)}else{k.TL.pop();k.Ap=[]}}if(I.lk){k.dz=JSON.parse(I.ag8[0]);
k.L0=JSON.parse(I.ag8[1])}k.LQ=!0};E.BN.prototype.d2=function(I){return I.q=="changesel"&&I.f?I.f.channel.length:0};
E.BN.prototype.Un=function(I){for(var k in I.J$)this.J$[k]=I.J$[k]};E.BN.prototype.adz=function(I){var k=j.X.qP(I.s);
if(k.KH())return null;var a=j.$P(k.Q,k._);a.save();a.beginPath();a.translate(-k.x,-k.y);Typr.U.pathToContext({cmds:I.m,crds:I.s},a);
a.closePath();a.fill();a.restore();var n=j.U(k.c()),s=a.getImageData(0,0,k.Q,k._);j.Ez(s.data,n,3);return{rect:k,channel:n}};
E.BN.alM=function(I,k,a,n,s){if(a)k=Math.round(k*.7);var C=Math.ceil(2.6*k),T=I.rect.clone();T.CJ(C,C);
if(n&&!s)T=T.LU(n);var S=j.U(T.c()),D=j.U(S.length);j.O0(I.channel,I.rect,D,T);j.ox.Xh(D,S,T,k);if(a){var o=S.length;
for(var Y=0;Y<o;Y++){var v=(S[Y]-128)*k*2.5;S[Y]=Math.max(0,Math.min(255,Math.round(128+v)))}}return{channel:S,rect:T}};
E.BN.arO=function(I,k,a){var n=Math.max(1,Math.ceil(a)),s=I.rect.clone();s.CJ(n,n);var C=s.c(),T={channel:j.U(C),rect:s},S=j.U(C);
j.O0(I.channel,I.rect,S,T.rect);if(a!=0)j.style.stroke(S,T.channel,T.rect,a);else j.ed(S,T.channel);
var D=j.U(C);j.Us(S);if(k!=0)j.style.stroke(S,D,T.rect,k);else j.ed(S,D);j._R.LU(T.channel,D,T.channel);
return T};E.BN.km=function(I,k,a,n,s){var C=new eZ(0,0,I.Q,I._),T=I.TB();if(I.f){var S=I.f.rect.LU(C),D=j.U(S.c()*4);
j.ao(T,C,D,S);C=S;T=D}var o=C.c(),v=j.U(o),g=1/n;if(s){if(k>=a)k=a-1;var d=k*(1-n),R=k,c=a,e=a+(255-a)*n,O=d==R?0:1/(R-d),U=c==e?0:1/(e-c);
for(var Y=0;Y<o;Y++){var K=Y<<2,_=j.RL(T[K],T[K+1],T[K+2]),Z=0;if(_<d)Z=0;else if(_<R)Z=(_-d)*O;else if(_<=c)Z=1;
else if(_<=e)Z=1-(_-c)*U;else Z=0;v[Y]=T[K+3]*Z*Z}}else for(var Y=0;Y<o;Y++){var K=Y<<2,H=j.r1(T[K],T[K+1],T[K+2]),Z=j.a3D(H,k,a,n,g);
v[Y]=T[K+3]*Z}return{rect:C,channel:v}};E.Vy=function(){E.dX.call(this,[10,18],E.ex,"tools/blur");this.ho="copy"};
E.Vy.prototype=new E.dX;E.Vy.prototype.Vr=function(I,k,a,n,s){var C=n.W(as.dE)?kN.wt:kN.ex;this.m5(I,a,n,s,this.J$.strn,C);
if(this.Fp==null)return;this.hs(I)};E.Vy.prototype.Fr=function(I,k,a,n,s){this.N6(I,k,a);if(this.$a)this.CA(I,a,s);
if(this.Fp==null)return;if(!s.ZT)return;this.$_(I,a,n,s);this.hs(I)};E.Xo=function(){E.dX.call(this,[10,0],E.yO,"tools/brush");
this.ho="draw"};E.Xo.prototype=new E.dX;E.Xo.prototype.Vr=function(I,k,a,n,s){if(this.a7(I,k,a,n,s,!0))return;
this.m5(I,a,n,s,this.J$.flow);if(this.Fp==null)return;this.hs(I)};E.Xo.prototype.Fr=function(I,k,a,n,s){if(this.a7(I,k,a,n,s))return;
this.N6(I,k,a);if(this.$a)this.CA(I,a,s);if(this.Fp==null)return;if(!s.ZT)return;this.$_(I,a,n,s);this.hs(I)};
E.cx=function(){E.dX.call(this,[10,42],E.l5,"tools/crepl");this.ho="idraw";this.J$.bmode="hue "};E.cx.prototype=new E.dX;
E.cx.prototype.Vr=function(I,k,a,n,s){if(this.a7(I,k,a,n,s,!0))return;this.m5(I,a,n,s,this.J$.flow);
if(this.Fp==null)return;this.hs(I)};E.cx.prototype.Fr=function(I,k,a,n,s){if(this.a7(I,k,a,n,s))return;
this.N6(I,k,a);if(this.$a)this.CA(I,a,s);if(this.Fp==null)return;if(!s.ZT)return;this.$_(I,a,n,s);this.hs(I)};
E.G8=function(){E.dX.call(this,[10,43],E.er,"tools/redeye");this.J$.smode=0;this.ho="redeye"};E.G8.prototype=new E.dX;
E.G8.prototype.Vr=function(I,k,a,n,s){this.m5(I,a,n,s,this.J$.flow);if(this.Fp==null)return;this.hs(I)};
E.G8.prototype.Fr=function(I,k,a,n,s){this.N6(I,k,a);if(this.$a)this.CA(I,a,s);if(this.Fp==null)return;
if(!s.ZT)return;this.$_(I,a,n,s);this.hs(I)};E.BR=function(){E.dX.call(this,[10,38],E.LD,"tools/pencil");
this.ho="draw"};E.BR.prototype=new E.dX;E.BR.prototype.Vr=function(I,k,a,n,s){if(this.a7(I,k,a,n,s,!0))return;
this.m5(I,a,n,s,this.J$.flow);if(this.Fp==null)return;this.hs(I)};E.BR.prototype.Fr=function(I,k,a,n,s){if(this.a7(I,k,a,n,s))return;
this.N6(I,k,a);if(this.$a)this.CA(I,a,s);if(this.Fp==null)return;if(!s.ZT)return;this.$_(I,a,n,s);this.hs(I)};
E.Tl=function(){E.dX.call(this,[10,22],E.m0,"tools/burn");this.ho="burn"};E.Tl.prototype=new E.dX;E.Tl.prototype.Vr=function(I,k,a,n,s){this.m5(I,a,n,s,this.J$.expo/Math.E);
if(this.Fp==null)return;this.hs(I)};E.Tl.prototype.Fr=function(I,k,a,n,s){this.N6(I,k,a);if(this.$a)this.CA(I,a,s);
if(this.Fp==null)return;if(!s.ZT)return;this.$_(I,a,n,s);this.hs(I)};E.kD=function(I,k,a){E.dX.call(this,I==""?null:I?I:[10,1],k?k:E.jr,a?a:"tools/clone");
this.ho="clone";this.Kv=null;this.i=null};E.kD.prototype=new E.dX;E.kD.prototype.Vr=function(I,k,a,n,s){var C=this.J$,T=C.alt[0];
if(n.W(as.dE)||n.W(as.RA)||T){this.Kv=I.w.m_(s.x,s.y);this.i=null;if(T)this.Kr({alt:[!1]},k);this.ls(I);
this.es(a,n,I,s);return}if(this.Kv==null){alert(hJ.get([15,7,0]));return}this.es(a,n);this.m5(I,a,n,s,this.J$.flow);
if(this.Fp==null)return;this.i=this.a3K(I.w.m_(s.x,s.y));this.hs(I)};E.kD.prototype.a3K=function(I){var k=this.i;
if(k==null||!this.J$.algnd)k=new kK(Math.round(I.x-this.Kv.x),Math.round(I.y-this.Kv.y));return k};E.kD.prototype.Fr=function(I,k,a,n,s){this.N6(I,k,a);
if(this.$a)this.CA(I,a,s);if(this.Fp==null){if(this.Kv!=null)this.es(a,n,I,s);return}if(!s.ZT||this.Kv==null)return;
this.$_(I,a,n,s);this.hs(I)};E.kD.prototype.PS=function(){return this.i};E.lz=function(){E.mu.call(this,[10,53],E.a9q,"tools/csamp");
this.Dh=-1;this._Z=null};E.lz.prototype=new E.mu;E.lz.prototype.Vr=function(I,k,a,n,s){this._Z=JSON.stringify(I.wQ);
var C=I.w.m_(s.x,s.y),T=I.wQ,S=1e9,D=-1;for(var Y=0;Y<T.length;Y++){var o=T[Y],v=C.x-o.x,g=C.y-o.y,d=v*v+g*g;
if(d<S){S=d;D=Y}}var R=15/I.w.F;D=S<R*R?D:-1;if(D==-1){D=T.length;T.push({x:C.x,y:C.y})}else if(n.W(as.dE)){T.splice(D,1);
D=-1}this.Dh=D;I.Xi=!0};E.lz.prototype.Fr=function(I,k,a,n,s){var C=this.Dh;if(C!=-1){var T=I.w.m_(s.x,s.y);
I.wQ[C].x=T.x;I.wQ[C].y=T.y;I.Xi=!0}};E.lz.prototype.pE=function(I,k,a,n,s,C){var T=new g7(this.name,this);
T.data={P6:this._Z,WM:JSON.stringify(I.wQ)};I.RB(T);this.Dh=-1};E.lz.prototype.PP=function(I,k){k.wQ=JSON.parse(I.P6)};
E.lz.prototype.KY=function(I,k){k.wQ=JSON.parse(I.WM)};E.Zo=function(I,k,a){E.mu.call(this,I,k,a);this.gL={lp:{Tx:0,x:0,y:0},OX:!1,_t:!1};
this.Qs=!1;this.OL=null;this.cursor=null;this.a2U=0;this.eU=null;this.k7=null;this.fA=null;this.t9=!1};
E.Zo.prototype=new E.mu;E.Zo.prototype.UC=function(){return this.OL!=null};E.Zo.prototype.zJ=function(I){return this.k7!=null||this.OL&&this.OL.a4t()};
E.Zo.prototype.Vr=function(I,k,a,n,s){this.eU=s;var C=I.w.m_(s.x,s.y),T=this.gL.lp,S=T.Tx!=0?T.x/T.y:null,D=this.t9;
this.t9=!1;if(this.OL){var o=this.OL.Fx(C,I.w.F);if(D&&o==null){this.OL.clear(I);this.OL=null}else{this.OL.Vr(I,a,n,C,S,!1,s);
return}}this.k7=E.R0.a5(I,C,a)};E.Zo.prototype.JE=function(I,k,a){if(a==null)a=[I.x,I.y,I.x+I.Q,I.y,I.x+I.Q,I.y+I._,I.x,I.y+I._];
return new hZ(a,!0,!1,this.id==E.M5,!0,k,this.id==E.M5?2:0,this.id==E.M5?4:3)};E.Zo.prototype.es=function(I){var k=new d2(M.E.b,!0);
k.data={q:M.p.Zk,s3:this.cursor};I.a(k)};E.Zo.prototype.enable=function(I,k,a,n){this.k3=k;this.cursor="crosshair";
this.es(k);if(I!=null&&this.OL==null){var s=I.f?{Ln:"cropby",ain:3}:{Ln:"config",gL:this.gL,aE9:!0};
this.Un(s,k,I,n,a);if(I.f==null&&this.gL.lp.Tx==0)this.t9=!0}};E.Zo.prototype.Fr=function(I,k,a,n,s){this.eU=s;
var C=I.w.m_(s.x,s.y);if(!s.ZT){var T="crosshair";if(this.OL){var S=this.OL.Fx(C,I.w.F,null,s);if(S)T=S;
else T="default"}if(T!=this.cursor){this.cursor=T;this.es(k)}}if(this.OL)this.OL.Fr(I,a,n,C);else if(this.k7){if(this.Qs){I.D.sV={m:["M","L"],s:[this.k7.x,this.k7.y,C.x,C.y]}}else{var D=E.WX.sS(this.k7,E.R0.a5(I,C,a),n,!0,this.gL.lp),o=D[0].x,v=D[0].y,g=this.fA=new eZ(o,v,D[1].x-o,D[1].y-v);
I.D.sV=j.X.Eu(g);E.mu.Q9(s,g,I,a)}I.Xi=!0}};E.Zo.apm=function(I,k,a){var n,s,S,D;if(k<=a){n=k;s=a}else{n=a;
s=k}var C=I-Math.floor((I+Math.PI)/(2*Math.PI))*2*Math.PI;C=Math.abs(C);if(C>Math.PI/2)C=Math.PI-C;var T=n/(s*Math.sin(C)+n*Math.cos(C));
if(k<=a){S=n*T;D=s*T}else{S=s*T;D=n*T}return{Qq:S,L4:D}};E.Zo.prototype.pE=function(I,k,a,n,s){this.eU=s;
var C=I.w.m_(s.x,s.y);if(this.OL==null){var T=this.fA;if(this.k7&&(T||this.Qs)){if(this.Qs){var S=this.k7,D=C,o=D.x-S.x,v=D.y-S.y;
if(Math.abs(o)<Math.abs(v))D=new kK(S.x-v,S.y+o);if(S.x>D.x){var g=S;S=D;D=g}var S=Math.atan2(-(D.y-S.y),D.x-S.x),d=E.Zo.apm(S,I.Q,I._);
if(this.gL._t){var R=j.X.Eu(new eZ(0,0,I.Q,I._)),c=new dc;c.rotate(S);j.X.h(R.s,c,R.s);d=j.X.qP(R.s);
d={Qq:d.Q,L4:d._}}var e=[0,0,d.Qq,0,d.Qq,d.L4,0,d.L4],O=new dc;O.translate(-d.Qq/2,-d.L4/2);O.rotate(S);
O.translate(I.Q/2,I._/2);j.X.h(e,O,e);this.OL=this.JE(T,!1,e);this.Qs=!1}else{var U=this.gL.lp;this.OL=this.JE(T,U.Tx!=0)}this.OL.LW(I,a);
this.fA=null;this.OS(k,M.E.b,{q:M.p.at,S:this.id,x2:!0});this.k7=null;I.D.OT=[];I.D.sV=null;I.Xi=!0}return}this.OL.pE(I,a,n,C);
this.OS(k,M.E.b,{q:M.p.at,S:this.id,x2:!0});var e=this.OL.d6();if(Math.abs(e[0]-e[4])<2&&Math.abs(e[1]-e[5])<2){this.wm(I,k,null,n);
return}if(Date.now()-this.a2U<200&&this.OL.sR(C)){this.hC(I,a);this.wm(I,k,a,n);return}this.a2U=Date.now()};
E.Zo.prototype.Bf=function(I,k,a,n){var s=this.OL;if(s==null||this.eU&&this.eU.ZT)return;if(n.W(as.da)){this.hC(I,a);
this.wm(I,k,a,n)}else if(n.W(as._a)){this.wm(I,k,a,n)}else s.Bf(I,a,n)};E.Zo.ayM=function(I,k,a){var n={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:I[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:I[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:I[1]+I[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:I[0]+I[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:k!=null?k:0}},Dlt:{t:"bool",v:a!=null?a:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{pi:"crop",zf:n}};E.Zo.ec=function(I,k){if(k==null)k=[!0,!0,!0,!0];var a={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][I]}}},n=["Top","Left","Btom","Rght"];
for(var Y=0;Y<4;Y++)a[n[Y]]={t:"bool",v:k[Y]};return{pi:"trim",zf:a}};E.Zo.lJ=function(I,k,a,n,s){var C={classID:"null"};
if(n!=null){C.Wdth={t:"UntF",v:s?{type:"#Prc",val:I*100}:{type:"#Pxl",val:I}};C.Hght={t:"UntF",v:s?{type:"#Prc",val:k*100}:{type:"#Pxl",val:k}};
C.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][n]}}}if(a!=null)C.Rslt={t:"UntF",v:{type:"#Rsl",val:a}};
return{pi:"imageSize",zf:C}};E.Zo.a3V=function(I,k,a,n){if(a==null)a=4;if(n==null)n=!1;var s=Math.floor(a/3),C=a%3;
return{pi:"canvasSize",zf:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:I}},Hght:{t:"UntF",v:{type:"#Pxl",val:k}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][C]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][s]}},Rltv:{t:"bool",v:n}}}};
E.Zo.prototype.CP=function(I,k,a,n,s){var C=new eZ(0,0,a.Q,a._),T=[11,3],S=a.oE,D=a.Q/2,o=a._/2,b$=1,ka,cy,jP;
function v(ft,Y){return ft[Y]+2*ft[Y+1]+ft[Y+2]>>>2}if(I.q=="cropAndStr"){var g=a.R[a.T[0]],d=g.buffer,R=g.rect,c=R.Q,e=R._,O=c+2,U=[0,0,c-1,0,c-1,e-1,0,e-1],K,_=1e9,i=0;
for(var Y=0;Y<4;Y++)for(var Z=Y+1;Z<4;Z++){var H=U[2*Y],G=U[2*Y+1],N=(G*c+H)*4,z=(U[2*Z+1]*c+U[2*Z])*4,L=d[N]-d[z],p=d[N+1]-d[z+1],V=d[N+2]-d[z+2],r=L*L+p*p+V*V;
if(r<_){_=r;K=new kK(H+.5,G+.5)}}var y=Date.now(),W=E.h$.FO(g.buffer,R,K,null,[16,!1,!0]);j.Us(W);var m=R.clone();
m.CJ(1,1);var f=j.U(m.c());j.O0(W,R,f,m);var h=f.slice(0);for(var G=0;G<e;G++)for(var H=0;H<c;H++){var Z=G*c+H;
if(W[Z]==255&&v(d,Z*4)>200){var Y=(G+1)*O+H+1;f[Y]=h[Y-O]&h[Y-1]&h[Y+1]&h[Y+O]}}var b=j.X.ds(f,m.Q,m._,0),w=new d2(M.E.b,!0);
w.data={q:M.p.kz};var y=Date.now();for(var J=0;J<b.length;J++){var q=b[J].path.s;if(b[J].UL.c()<2500)continue;
var x=j.X.agJ(q,i==3);for(var Y=0;Y<x.length;Y++)x[Y]-=1;var A=new kK(x[0],x[1]),Q=Math.ceil(kK.f0(A,new kK(x[2],x[3]))),B=Math.ceil(kK.f0(A,new kK(x[6],x[7]))),l=new eZ(0,0,Q,B),P=j.U(l.c()*4),q=j.t.UX(x,new eZ(-1,-1,Q+2,B+2));
q=j.t.Us(q);q=j.t.Rc(q,j.t.HE(new dc(R.Q,0,0,R._,R.x,R.y)));j.t.drawImage(q,g.buffer,R.Q,R._,P,l);i++;
var F=w.data.Z9=new iJ("Image "+i+".psd");F.Q=Q;F._=B;var t=F.ux();t.GF("Background");t.buffer=P;t.rect=l;
F.R.push(t);k.a(w)}return}if(I.q=="fromAction"){var hd=I._f,di=hd.pi,hD=hd.zf,a$=a.Q/a._,O=hD.Wdth?hD.Wdth.v.val:-1,eJ=hD.Hght?hD.Hght.v.val:-1,S=hD.Rslt?hD.Rslt.v.val:null,hY=hD.Wdth?hD.Wdth.v.type:hD.Hght?hD.Hght.v.type:-1,ik=1,fw;
if(hY=="#Prc"){if(O!=-1)O=Math.round(a.Q*O/100);if(eJ!=-1)eJ=Math.round(a._*eJ/100)}if(di=="imageSize"){if(hD.Intr){if(hD.Intr.v.Intp=="Nrst")ik=0;
if(hD.Intr.v.Intp=="bicubicSharper")ik=2;if(O==-1&&eJ==-1){var jb=S/a.oE;O=Math.round(a.Q*jb);eJ=Math.round(a._*jb)}if(hD.CnsP&&hD.CnsP.v){if(O==-1)O=Math.round(eJ*a$);
if(eJ==-1)eJ=Math.round(O/a$)}}else{if(hY=="#Prc")S=Math.round(a.oE*(a.Q/O));else if(hY==-1)S=Math.round(S);
else throw"e";O=a.Q;eJ=a._}fw={q:"imgsize",Um:O,aL:eJ,Wd:S,Dc:ik}}else if(di=="canvasSize"){if(O==-1)O=a.Q;
if(eJ==-1)eJ=a._;if(hD.Rltv&&hD.Rltv.v==!0){if(hD.Wdth)O+=a.Q;if(hD.Hght)eJ+=a._}var cd=hD.Vrtc?hD.Vrtc.v.VrtL:"Cntr",dN=hD.Hrzn?hD.Hrzn.v.HrzL:"Cntr";
fw={q:"canvsize",Um:O,aL:eJ,GJ:3*["Top","Cntr","Btom"].indexOf(cd)+["Left","Cntr","Rght"].indexOf(dN)}}else if(di=="revealAll"){fw={q:"revealAll"}}else if(di=="trim"){var kc={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[hD.trimBasedOn.v.trimBasedOn];
if(kc==null)throw"e";var ck=["Top","Left","Btom","Rght"],b3=[!0,!0,!0,!0];for(var Y=0;Y<4;Y++)if(hD[ck[Y]])b3[Y]=hD[ck[Y]].v;
fw={q:"trim",ags:kc,MG:b3}}else if(di=="crop"){var H,G,c,e;if(hD.T){var hL=hD.T.v,H=Math.round(hL.Left.v.val),G=Math.round(hL.Top.v.val),c=Math.round(hL.Rght.v.val)-H,e=Math.round(hL.Btom.v.val)-G}else{var R=a.f.rect;
H=R.x;G=R.y;c=R.Q;e=R._}fw={q:"canvsize",Um:c,aL:e,i:new kK(H,G),aeC:hD.Dlt!=null&&hD.Dlt.v}}else console.log(hd);
if(fw)this.CP(fw,k,a,n,s);return}else if(I.q=="imgsize"){C=new eZ(0,0,I.Um,I.aL);if(I.Wd)S=I.Wd;b$=I.Dc}else if(I.q=="canvsize"){var gS=I.GJ!=null?I.GJ:0;
C=new eZ(0,0,I.Um,I.aL);var jF=a.Q-I.Um,kB=a._-I.aL,jw=Math.round(jF/2),iT=Math.round(kB/2);if(gS==1||gS==4||gS==7)C.x=jw;
if(gS==2||gS==5||gS==8)C.x=jF;if(gS==3||gS==4||gS==5)C.y=iT;if(gS==6||gS==7||gS==8)C.y=kB;if(I.i){C.x=I.i.x;
C.y=I.i.y}}else if(I.q=="rot"&&(I.P+2*Math.PI)%(Math.PI/2)!=0){var gY=j.X.Eu(C).s,aL=new dc;aL.translate(-D,-o);
aL.rotate(I.P);aL.translate(D,o);j.X.h(gY,aL,gY);C=j.X.qP(gY)}else if(I.q=="rot"&&I.P!=Math.PI&&I.P!=-Math.PI){C=new eZ(D-a._/2,o-a.Q/2,a._,a.Q);
if((a.Q+a._&1)==1){D=Math.floor(D);o=Math.floor(o);C=new eZ(D-Math.floor(a._/2),o-Math.floor(a.Q/2),a._,a.Q);
if((a.Q&1)==1&&I.P!=-Math.PI/2)C.y--;if((a._&1)==1&&I.P==-Math.PI/2)C.x--}}else if(I.q=="trim"){T=[11,12,0];
var dw=a.TB(),R=new eZ(0,0,a.Q,a._);C=j.h0(dw,R,I.ags,I.MG);if(C.KH())C=R}else if(I.q=="revealAll"){T=[11,12,2];
C=a.root.GT(a,!0)}var aA=I.q=="canvsize"&&I.aeC;if(I.q=="imgsize"||I.q=="rot"||I.q=="scl"||aA){var d1=new dc;
if(I.q=="imgsize"){T=[11,10];d1.scale(I.Um/a.Q,I.aL/a._);jP=a.Ru();for(var Y=0;Y<jP[0].length;Y++)jP[0][Y][1]*=jP[0][Y][0]==0?d1.M:d1.Jo}else if(aA){}else{d1.translate(-D,-o);
if(I.q=="rot")d1.rotate(I.P);if(I.q=="scl")d1.scale(I.P.x,I.P.y);d1.translate(D,o);T=I.xn}cy=j.t.HE(d1);
ka=this.gV(a,s,!0,cy,b$,aA?C:null)}else if(I.q=="auto-align"){if(a.T.length<2){alert("Select two or more layers.");
return}var ag=[];for(var Y=0;Y<a.T.length;Y++){var g=a.R[a.T[Y]];if(!g.Lk()&&g.add.SoLd==null){alert("Unsupported layer selected.");
return}if(g.rect.KH()){alert("Empty layer selected.");return}ag.push([g.buffer,g.rect])}var b0=j.mc.Dr(ag);
if(b0==null){alert("No similarity found.");return}cy=b0[1];ka=this.gV(a,s,!1,b0,b$);C=a.root.GT(a,!0);
T=[2,10,1]}var kx=new eZ(0,0,a.Q,a._);if(!C.KH()&&(!C.a$(kx)||ka!=null)){var br=new g7(T,this);br.data={af0:a.oE,Wd:S,Y7:ka,cF:cy,Ju:E.Zo.ava(a,C,kx,ka!=null)};
if(jP){br.data.JO=a.Ru();br.data.S_=jP}E.Zo.azN(a,br.data,C);a.RB(br);this.KY(br.data,a)}};E.Zo.ava=function(I,k,a,n){if(I.IZ.length==0)return null;
var s=JSON.stringify(I.IZ),C=JSON.parse(s);E.xG.aDs(C,k,a,n);C=JSON.stringify(C);return[s,C]};E.Zo.prototype.gV=function(I,k,a,n,s,C,T){var S={R:[],oM:null,Rk:null};
if(a){for(var Y=0;Y<I.R.length;Y++)S.R.push(Y);for(var Y=0;Y<I.DD.length;Y++)S.R.push(-1-Y);for(var Y=0;
Y<I.TL.length;Y++)S.R.push(-1e3-Y)}else S.R=I.T.slice(0);S.oM=E.nF.IU(I,S.R,!0);var D=Math.abs(n[3]*n[1])>1e-9;
E.nF.ff(I,k,S.R,S.oM,s,n,null,!0,D?null:C);if(a&&T&&I.rb()){var o=I.R[I.T[0]],v=o.buffer,g=o.rect,d=D?g.clone():C.clone(),R=j.U(d.c()*4),c=j.U(g.c());
j.Ez(v,c,3);var e=j.U(d.c());j.O0(c,g,e,d);j.round(e,255);j.Us(e);var O=j.Iu.ZY(v,g,e,R,d);if(O==0){o.rect=d;
o.buffer=R}}S.Rk=E.nF.IU(I,S.R,!0);return S};E.Zo.prototype.KY=function(I,k){if(I.Wd)k.oE=I.Wd;if(I.Ju)k.IZ=JSON.parse(I.Ju[1]);
if(I.Y7){E.Zo._I(k,j.t.Nr(I.cF));E.nF.b3(k,I.Y7.R,I.Y7.Rk);if(I.S_)k.U_(I.S_)}E.Zo.w4(k,I)};E.Zo.prototype.PP=function(I,k){if(I.af0)k.oE=I.af0;
if(I.Ju)k.IZ=JSON.parse(I.Ju[0]);E.Zo.w3(k,I);if(I.gp)k.w.i.KX(I.gp);k.akD();if(I.Y7){var a=j.t.Nr(I.cF).clone();
a.Us();E.Zo._I(k,a);E.nF.b3(k,I.Y7.R,I.Y7.oM);if(I.JO)k.U_(I.JO)}};E.Zo._I=function(I,k){for(var Y=0;
Y<I.R.length;Y++){var a=I.R[Y];if(a.add.artb==null)continue;var n=j.X.Eu(a.OR()).s;j.X.h(n,k,n);var s=j.X.qP(n);
a.IA(s)}};E.Zo.pd=function(I){var k=new eZ,a=0,n=I.root.children.length;for(var Y=0;Y<n;Y++){var s=I.root.children[Y].o;
if(s.add.artb==null)continue;k=k.oL(s.OR());a++}var C=new eZ(0,0,I.Q,I._);if(!k.KH()&&!C.a$(k))return k;
return null};E.Zo.Hi=function(I){var k=E.Zo.pd(I);if(k)E.Zo.OX(I,k,!0);return k};E.Zo.OX=function(I,k,a){var n=I.Q,s=I._,C=k.Q,T=k._,S=k.x==0&&k.y==0;
if(S&&n==C&&s==T)return;I.Q=C;I._=T;var D=[];for(var Y=0;Y<I.R.length;Y++)D.push(Y);if(!S)E.R0.IL(I,D,null,-k.x,-k.y);
for(var Y=0;Y<I.R.length;Y++){I.R[Y].Wr(I)}I.akD();if(a){var o=I.w.i,v=I.w.F;o.x+=Math.round((k.x+(C-n)/2)*v);
o.y+=Math.round((k.y+(T-s)/2)*v)}else I.w.i.dZ(0,0);if(I.f)I.f.rect.offset(-k.x,-k.y);var g=I.Ru();for(var d=0;
d<g[0].length;d++)if(g[1][d]==-1){var R=I.Fq[d];R[1]-=R[0]==0?k.x:k.y}for(var Y=0;Y<I.TL.length;Y++)I.TL[Y].rect.offset(-k.x,-k.y)};
E.Zo.prototype.Un=function(I,k,a,n,s){if(I.Ln=="commit"){this.hC(a,s);this.wm(a,k,null,n)}else if(I.Ln=="cancel"){this.wm(a,k,null,n)}var C=null,T=new eZ(0,0,a.Q,a._),S=this.gL.lp;
if(I.Ln=="config"){this.gL=I.gL;S=this.gL.lp;if(a==null||!I.aE9)return;C=T;if(S.Tx==1){var D=S.x/S.y;
if(C.Q/D<C._)C._=Math.round(C.Q/D);else C.Q=Math.round(C._*D)}if(S.Tx==2){C.Q=S.x;C._=S.y}C.x=Math.round((a.Q-C.Q)/2);
C.y=Math.round((a._-C._)/2)}if(I.Ln=="straighten"){alert("Draw a line in the image.");this.Qs=!0}if(I.Ln=="cropby"){if(a==null)return;
var o=I.ain,C;if(o==0)C=a.root.GT(a,!0);if(o==1){if(a.T.length==0)alert("No layer is selected.");else{var v=a.root.lR(a.T[0]);
C=v.GT(a,!0)}}if(o==2){if(a.T.length==0)alert("No layer is selected.");else{C=j.h0(a.TB(),T,0);if(C.KH())C=T.clone()}}if(o==3){if(a.f!=null)C=a.f.rect;
else alert("There is no selection.")}if(o==4){C=new eZ(0,0,a.Q,a._)}}if(C&&C.KH())C=null;if(C!=null){this.OL=this.JE(C,S.Tx!=0);
this.OL.LW(a,s);this.OS(k,M.E.b,{q:M.p.at,S:this.id,x2:!0})}};E.Zo.prototype.Iw=function(I,k,a,n){this.OS(k,M.E.b,{q:M.p.at,S:this.id,oy:[I.Q,I._]})};
E.Zo.prototype.hC=function(I,k){var a=this.OL.d6(),n=j.X.qP(a),s=this.aAB(I,a),C=!1,T=this.gL,S=T.lp,D=T.OX,o=S.x,v=S.y,R;
if(this.id==E.Ao&&S.Tx==2&&s.c()!=o*v){s=new eZ(s.x,s.y,o,v);C=!0}var g=j.t.UX(a,s);g=j.t.Us(g);var d=!j.t.$m(g),c=Math.abs(Math.atan2(g[3],g[0]))>1e-9,e=new eZ(0,0,I.Q,I._);
if(c||d||C||D||T._t)R=this.gV(I,k,!0,g,1,n,T._t);if(!c&&!d&&!C&&s.a$(e))return;var O=new g7(this.name,this);
O.data={Y7:R,cF:g,gp:I.w.i.clone(),Ju:E.Zo.ava(I,s,e,!1)};E.Zo.azN(I,O.data,s);I.RB(O);this.KY(O.data,I);
this.track(E.Zo.ayM([n.x,n.y,n.Q,n._],null,D))};E.Zo.azN=function(I,k,a){if(a==null)return;k.ZD=new eZ(0,0,I.Q,I._);
k.T6=a};E.Zo.w4=function(I,k){if(k.T6==null)return;E.Zo.OX(I,k.T6)};E.Zo.w3=function(I,k){if(k.T6==null)return;
var a=k.ZD.clone();a.offset(-k.T6.x,-k.T6.y);E.Zo.OX(I,a)};E.Zo.prototype.aAB=function(I,k){var a=j.t.UX(k),n=j.t.$m(a),s=j.t.Nr(a),C=s.Dw,T=s.rk,S=Math.atan2(s.J,s.M);
s.rotate(S);var D=new eZ(C,T,s.M,s.Jo);if(!n){function o(_,Y,Z){var H=_[Y]-_[Z],G=_[Y+1]-_[Z+1];return Math.sqrt(H*H+G*G)}var v=o(k,0,2),g=o(k,4,6),d=Math.max(v,g),R=o(k,2,4),c=o(k,6,0),e=Math.max(R,c),O=E.Zo.Y9(k,I.Q/2,I._/2),U,K;
if(isNaN(O)||O==Infinity||O==-Infinity||Math.min(O,1/O)<.1)O=(v+g)/(R+c);if(d/e>O){U=d*1;K=U/O}else{K=e*1;
U=K*O}D.Q=U;D._=K}D.x=Math.round(D.x);D.y=Math.round(D.y);D.Q=Math.round(D.Q);D._=Math.round(D._);return D};
E.Zo.Y9=function(I,k,a){var n=I[0]-k,s=I[1]-a,C=I[2]-k,T=I[3]-a,S=I[6]-k,D=I[7]-a,o=I[4]-k,v=I[5]-a,g=((s-v)*S-(n-o)*D+n*v-s*o)/((T-v)*S-(C-o)*D+C*v-T*o),d=((s-v)*C-(n-o)*T+n*v-s*o)/((D-v)*C-(S-o)*T+S*v-D*o),R=-((d*D-s)*(g*T-s)+(d*S-n)*(g*C-n))/((d-1)*(g-1));
function c(O){return O*O}var e=Math.sqrt((c(g-1)+c(g*T-s)/R+c(g*C-n)/R)/(c(d-1)+c(d*D-s)/R+c(d*S-n)/R));
if(g==1&&d==1)e=Math.sqrt((c(T-s)+c(C-n))/(c(D-s)+c(S-n)));return e};E.Zo.prototype.wm=function(I,k,a,n){if(I==null)return;
if(this.OL)this.OL.clear(I);this.OL=null;this.OS(k,M.E.b,{q:M.p.at,S:this.id,x2:!1})};E.Zo.prototype.disable=function(I,k,a,n){if(this.OL)this.hC(I,a);
this.wm(I,k,a,n)};E.Zo.prototype.OS=function(I,k,a,n){var s=new d2(k,!0);s.data=a;if(n)s.S=n;I.a(s)};
E.agU=function(){E.Zo.call(this,[10,2],E.Ao,"tools/rcrop")};E.agU.prototype=new E.Zo;E.aEI=function(){E.Zo.call(this,[10,39],E.M5,"tools/pcrop")};
E.aEI.prototype=new E.Zo;E.g2=function(){E.dX.call(this,[10,21],E.Mj,"tools/dodge");this.ho="dodge"};
E.g2.prototype=new E.dX;E.g2.prototype.Vr=function(I,k,a,n,s){this.m5(I,a,n,s,this.J$.expo/Math.PI);
if(this.Fp==null)return;this.hs(I)};E.g2.prototype.Fr=function(I,k,a,n,s){this.N6(I,k,a);if(this.$a)this.CA(I,a,s);
if(this.Fp==null)return;if(!s.ZT)return;this.$_(I,a,n,s);this.hs(I)};E.ME=function(){E.dX.call(this,[10,3],E.vV,"tools/eraser");
this.ho="erase"};E.ME.prototype=new E.dX;E.ME.prototype.Vr=function(I,k,a,n,s){this.m5(I,a,n,s,this.J$.flow);
if(this.Fp==null)return;this.hs(I)};E.ME.prototype.Fr=function(I,k,a,n,s){this.N6(I,k,a);if(this.$a)this.CA(I,a,s);
if(this.Fp==null)return;if(!s.ZT)return;var C=this.$_(I,a,n,s);this.hs(I)};E.MX=function(){E.dX.call(this,[10,45],E.oF,"tools/beraser");
this.ho="ierase"};E.MX.prototype=new E.dX;E.MX.prototype.Vr=function(I,k,a,n,s){if(this.a7(I,k,a,n,s,!0))return;
this.m5(I,a,n,s,this.J$.flow);if(this.Fp==null)return;this.hs(I)};E.MX.prototype.Fr=function(I,k,a,n,s){if(this.a7(I,k,a,n,s))return;
this.N6(I,k,a);if(this.$a)this.CA(I,a,s);if(this.Fp==null)return;if(!s.ZT)return;this.$_(I,a,n,s);this.hs(I)};
E.Xu=function(){E.BN.call(this,[10,15],E.FQ,"tools/rselect");this.ht="crosshair"};E.Xu.prototype=new E.BN;
E.Xu.prototype.vC=function(I,k,a,n){if(!n.ZT||!this.Go)return;var s=this.GT(I,a,!0);I.D.sV=j.X.Eu(s);
I.Xi=!0;E.mu.Q9(n,s,I,k)};E.Xu.prototype.RG=function(I,k,a,n){I.D.sV=null;I.D.OT=[];I.Xi=!0;this.finish(I,k,a,n)};
E.Xu.prototype.getSelection=function(I,k,a,n){if(this.k7.a$(this.gc)||!this.Go)return null;var s=this.GT(I,a,!0);
if(s.KH())return null;return E.BN.v2("Rctn",s,this.J$.anta)};E.yl=function(){E.BN.call(this,[10,4],E.aB9,"tools/eselect");
this.ht="crosshair"};E.yl.prototype=new E.BN;E.yl.prototype.vC=function(I,k,a,n){if(!n.ZT||!this.Go)return;
var s=this.GT(I,a);I.D.sV=E.yl.a2W(s);I.Xi=!0;E.mu.Q9(n,s,I,k)};E.yl.prototype.RG=function(I,k,a,n){I.D.sV=null;
I.D.OT=[];I.Xi=!0;this.finish(I,k,a,n)};E.yl.prototype.getSelection=function(I,k,a,n){if(this.k7.a$(this.gc)||!this.Go)return null;
var s=this.GT(I,a);if(!s._s(new eZ(0,0,I.Q,I._)))return null;return E.BN.v2("Elps",s,this.J$.anta)};
E.yl.a2W=function(I){var k=I.x,a=I.y,n=I.x+I.Q,s=I.y+I._,C=(k+n)/2,T=(a+s)/2,S=(k-n)/2,D=(a-s)/2,o=.5522848,v={s:[C,T-D],m:["M","C","C","C","C"]};
v.s.push(C+o*S,T-D,C+S,T-o*D,C+S,T);v.s.push(C+S,T+o*D,C+o*S,T+D,C,T+D);v.s.push(C-o*S,T+D,C-S,T+o*D,C-S,T);
v.s.push(C-S,T-o*D,C-o*S,T-D,C,T-D);return v};E.aY=function(I){E.mu.call(this,[10,5],I?E.cZ:E.LN,"tools/eyedropper");
this.PG=null;this.alJ=!1;this.CB=0;this.xZ=null;this.NS=1;this.lG=2;this.anC=!0;this.rZ=!1};E.aY.prototype=new E.mu;
E.aY.prototype.zJ=function(I){return I.ZT};E.aY.prototype.enable=function(I,k,a,n,s){E.mu.prototype.enable.call(this,I,k,a,n,s);
this.alJ=s};E.aY.prototype.CP=function(I,k,a,n,s){if(I.q=="pickhere")this.YB(a,k,s,null,I.aoU);if(I.q=="supertool")this.PG=I.S};
E.aY.prototype.Vr=function(I,k,a,n,s){var C=this.PG;if(C){C.Vr(I,k,a,n,s);return}this.CB=a.MW;this.xZ=s;
var T=this.YB(I,null,a,n,s);this.es(I,k,T,s)};E.aY.prototype.Fr=function(I,k,a,n,s){var C=this.PG;if(C){C.Fr(I,k,a,n,s);
return}var T=this.xZ;if(T){var S=s.x-T.x,D=s.y-T.y,o=1,v=new kK(T.x+S*o,T.y+D*o),g=this.YB(I,null,a,n,v);
this.es(I,k,g,v,new kK(S*(1-o),D*(1-o)))}};E.aY.prototype.es=function(I,k,a,n,s){var C=this.anC,T=this.rZ;
if(I.w.F>4)T=!1;if(!T&&!C)return;var S=E.aY.a9l(I,T,C,n,s,a,this.CB,this.NS),D=new d2(M.E.b,!0);D.data={q:M.p.Zk,s3:S};
k.a(D)};E.aY.prototype.pE=function(I,k,a,n,s,C){var T=this.PG;if(T){T.pE(I,k,a,n,s);return}this.YB(I,k,a,n,s);
if(this.xZ){this.xZ=null;if(C)this.YB(I,k,a,n,s,this.CB);var S=new d2(M.E.b,!0);S.data={q:M.p.Zk,s3:"default"};
k.a(S)}};E.aY.prototype.YB=function(I,k,a,n,s,C){if(C==null)C=E.aY.jx(I,s,this.NS,this.lG);var T=new d2(M.E.b);
T.data={q:M.p.iv,CU:f9.S8,ar:!this.alJ&&n&&n.W(as.dE)?1:0,P:C};if(k)k.a(T);return C};E.aY.a9l=function(I,k,a,n,s,C,T,S){if(s==null)s=new kK(0,0);
var D=new eZ(0,0,I.Q,I._),o=I.TB(),v=12,g=11,d=(v*2+1)*g,R=new kK(d/2,d/2),c=new eZ(0,0,d,d),e=j.U(c.c()*4),O=I.w.m_(n.x,n.y),U=Math.floor(O.x),K=Math.floor(O.y),_=new dc;
_.scale(1/g,1/g);_.translate(U-v,K-v);if(k)j.scale.avL(o,D,_,e,c);var Z=(v-3.4)*g,H=(v-1.7)*g,G=v*g;
for(var N=0;N<d;N++)for(var z=0;z<d;z++){var L=kK.f0(new kK(z,N),R);if(L>Z){if(a){var p=Math.max(0,Z-L+1),V=(N*d+z)*4,r=e[V+3]<<24|e[V]<<16|e[V+1]<<8|e[V+2],y=255<<24|(N<G+g*.5?C:T);
if(L>H){p=Math.max(0,H-L+1);r=y;y=4286611584}else if(!k){r=y&16777215}e[V+0]=(1-p)*(y>>>16&255)+p*(r>>>16&255);
e[V+1]=(1-p)*(y>>>8&255)+p*(r>>>8&255);e[V+2]=(1-p)*(y>>>0&255)+p*(r>>>0&255);e[V+3]=(1-p)*(y>>>24&255)+p*(r>>>24&255)}if(L>G){e[(N*d+z)*4+3]=Math.max(0,255*(G-L+1))}}}function W(Y){var t=Y<<2;
e[t]=0;e[t+1]=0;e[t+2]=0;e[t+3]=255}function m(Y){var t=Y<<2;e[t]=255;e[t+1]=255;e[t+2]=255;e[t+3]=255}var f=S*g+2,h=d-f>>>1,b=h+f-1;
if(k&&f<d)for(var Y=0;Y<f;Y++){var i=h*d+h+Y,w=b*d+h+Y,J=(h+Y)*d+h,q=(h+Y)*d+b;W(i);W(w);W(J);W(q);if(Y!=0&&Y!=f-1){m(i+d);
m(w-d);m(J+1);m(q-1)}}if(!k)for(var Y=-9;Y<=9;Y++){if(-3<Y&&Y<3)continue;var x=d>>>1,z=x*d+x+Y,N=(x+Y)*d+x;
m(z-d);W(z);m(z+d);m(N-1);W(N);m(N+1)}var A=C>>>16&255,Q=C>>>8&255,B=C>>>0&255,l="RGB "+A+","+Q+","+B,P=j.MP([A/255,Q/255,B/255]);
if(I.add.fcmy)l="CMYK "+P.map(function(t){return Math.round(t*100)}).join(",");var F=E.mu.DQ(0,0,["#"+j.pB(C),l]),D=F[1];
D.y=0;D.x=d-D.Q>>>1;j.ao(F[0],D,e,c);return{eY:e,Sq:c,gk:new kK(R.x+s.x,R.y+s.y)}};E.aY.jx=function(I,k,a,n,s){if(n==null)n=2;
var C=I.w.m_(k.x,k.y),T,S,D=I.T.length==1&&I.R[I.T[0]].YY>0&&s!=!0,o=I.Ap.length!=0,H=0,G=0,N=0;if(D||o){var v;
if(o)v=I.TL[I.Ap[0]];else{var g=I.R[I.T[0]];v=g.YY==1?g.IO():g.ai8()}S=v.GT();if(!S.oi(C))return v.color==0?0:16777215;
T=j.U(S.c()*4);T.fill(255);var d=v.xA();j.bS(d,T)}else if(n==0&&I.T.length!=0){var g=I.R[I.T[0]];T=g.buffer;
S=g.rect}else{T=n==2?I.TB():I.TB(I.T[0]);S=new eZ(0,0,I.Q,I._)}var R=Math.floor(C.x)-S.x,c=Math.floor(C.y)-S.y,e=(a-1)/2,O=Math.max(0,R-e),U=Math.max(0,c-e),K=Math.min(S.Q,R+e+1),_=Math.min(S._,c+e+1),Z=(K-O)*(_-U);
for(var R=O;R<K;R++)for(var c=U;c<_;c++){var Y=4*(c*S.Q+R);H+=T[Y];G+=T[Y+1];N+=T[Y+2]}H=Math.round(H/Z);
G=Math.round(G/Z);N=Math.round(N/Z);return H<<16|G<<8|N};E.aY.prototype.Un=function(I){var k=I.J$;this.NS=[1,3,5,11,31][k[0]];
this.lG=k[1];this.anC=k[2];this.rZ=k[3]};E.hJ=function(){E.mu.call(this,[10,6],E.VG,"tools/gradient");
this.J$=JSON.parse(fY.iH[6]);this.J$.Grad=JSON.parse(fY.vq.a9B);this.mv=!1;this.Tt=null;this.Ue=null};
E.hJ.prototype=new E.mu;E.hJ.prototype.enable=function(I,k,a,n){this.Tt=I;if(this.mv)E.SN.vB(I)};E.hJ.prototype.Iw=function(I,k,a,n){if(a.P$!=this.id)return;
this.Tt=I;this.aD4(I,k)};E.hJ.prototype.disable=function(I,k,a,n){this.Tt=null;if(this.mv)E.SN.dp(I)};
E.hJ.prototype.aD4=function(I,k){var a=E.SN.nv(I);this.mv=a!=null;var n=new d2(M.E.b,!0);n.data={q:M.p.at,S:this.id,CU:a?I.R[I.T[0]].add.GdFl:this.J$,n:this.mv};
k.a(n);if(this.mv)E.SN.vB(I);else E.SN.dp(I)};E.hJ.prototype.Un=function(I){var k=this.Tt;if(this.mv){var a=k.R[k.T[0]],n=a.add.GdFl;
if(n==null)return;this.pr=JSON.stringify(n);a.add.GdFl=I.CU;a.Wr(k);k.V();E.SN.ajG(this,k);E.SN.vB(k)}else this.J$=I.CU};
E.hJ.prototype.Vr=function(I,k,a,n,s){if(this.mv){E.SN.prototype.Vr.call(this,I,k,a,n,s);return}if(!I.rb())return;
this.Ue=E.R0.a5(I,I.w.m_(s.x,s.y),a)};E.hJ.prototype.Fr=function(I,k,a,n,s){if(this.mv){E.SN.prototype.Fr.call(this,I,k,a,n,s);
return}if(!this.Ue)return;var C=I.w.m_(s.x,s.y);C=E.R0.a5(I,C,a);if(n.W(as.bJ))C=E.hJ.Gi(this.Ue,C);
I.D.sV={s:[this.Ue.x,this.Ue.y,C.x,C.y],m:["M","L"]};I.D.tK=[this.Ue.x,this.Ue.y,C.x,C.y];I.Xi=!0};E.hJ.prototype.pE=function(I,k,a,n,s){if(this.mv){E.SN.prototype.pE.call(this,I,k,a,n,s);
return}if(!this.Ue)return;var C=I.R[I.T[0]],T=I.w.m_(s.x,s.y);T=E.R0.a5(I,T,a);if(n.W(as.bJ))T=E.hJ.Gi(this.Ue,T);
if(kK.f0(this.Ue,T)>2){var S;if(I.f)S=I.f.rect;else S=new eZ(0,0,I.Q,I._);var D=j.U(S.c()*4),o=this.J$,v=o.Type.v.GrdT,g=o.Opct.v.val,d=this.Ue;
if(v=="Lnr")d=new kK((d.x+T.x)/2,(d.y+T.y)/2);j.G.hP(d,T,S,o);hB.Q0(o,D,S,I,null,null,a.MW,a.U2);var R=D.length,c=g/100;
if(g!=100)for(var Y=0;Y<R;Y+=4)D[Y+3]=Math.round(D[Y+3]*c);var e=new d2(M.E.r);e.S=E.vV;e.data={q:"fillBMP",Fc:D,nY:aU.W$(o.Md.v.BlnM),xn:this.name};
k.a(e)}I.D.sV=null;I.D.tK=[];I.Xi=!0;this.Ue=null};E.hJ.prototype.CP=function(I,k,a,n,s){function C(g){g=g.v;
var d=g.Hrzn.v.val,R=g.Vrtc.v.val;return a.w.kF(d,R)}if(I.q=="fromAction"){var T=this.J$;this.J$=JSON.parse(JSON.stringify(T));
var S=I._f.zf,D=["Grad","Type","Opct","Dthr"];for(var Y=0;Y<D.length;Y++)if(S[D[Y]])this.J$[D[Y]]=S[D[Y]];
var o=C(S.From),v=C(S.T);this.Vr(a,k,s,n,o);this.pE(a,k,s,n,v);this.J$=T}};E.hJ.Gi=function(I,k){if(I.a$(k))return I;
var a=k.x-I.x,n=k.y-I.y,s=Math.abs(a),C=Math.abs(n);if(s>C)C=s/2>C?0:s;if(C>s)s=C/2>s?0:C;s=a>0?s:-s;
C=n>0?C:-C;var T=Math.sqrt(a*a+n*n)/Math.sqrt(s*s+C*C);return new kK(I.x+s*T,I.y+C*T)};E.hJ.cO=function(I,k,a,n,s,C,T){var S=new eZ(0,0,k,a),D=j.U(k*a*4);
j.lQ(D,k,a,4);var o=Math.sin(n),v=Math.cos(n),g=j.U(k*a*4);j.G.tj(I,g,S,[v*1/k,o*1/k,-o*1/a,v*1/a],k/2,a/2,!1,0,s,C);
j.z.Pf("norm",g,S,D,S,S,1);if(T)return new ImageData(new Uint8ClampedArray(D.buffer),k,a);else return kk.$U(D.buffer,k,a,null,null,!0)};
E.hJ.agi=function(I,k,a){var n=JSON.parse(JSON.stringify(I));if(n.Clrs)for(var Y=0;Y<n.Clrs.v.length;
Y++){var s=n.Clrs.v[Y].v,C=s.Type.v.Clry;if(C=="UsrS")continue;var T=C=="FrgC"?k:a;s.Type.v.Clry="UsrS";
s.Clr={t:"Objc",v:j.G.pI({$:T>>16&255,H:T>>8&255,J:T&255})}}return n};E.hJ.prototype.KY=function(I,k){E.SN.prototype.KY.call(this,I,k)};
E.hJ.prototype.PP=function(I,k){E.SN.prototype.PP.call(this,I,k)};E.SN=function(){E.mu.call(this,"Vector Gradient",E.a6p,"tools/gradient");
this.BT=null;this.dc=null;this.Yy=null;this.pr};E.SN.prototype=new E.mu;E.SN.prototype.enable=function(I,k,a,n){E.SN.vB(I)};
E.SN.prototype.Iw=function(I,k,a,n){if(a.P$!=this.id)return;E.SN.vB(I)};E.SN.prototype.disable=function(I,k,a,n){E.SN.dp(I)};
E.SN.dp=function(I){if(I==null)return;I.D.Jt=null;I.D.tK=[];I.Xi=!0};E.SN.prototype.Vr=function(I,k,a,n,s){var C=E.SN.nv(I);
if(C==null&&ht==0){var T=new d2(M.E.rd,!0);T.data=E.WX.HO(1);k.a(T);C=E.SN.nv(I)}if(C==null)return;var S=E.R0.a5(I,I.w.m_(s.x,s.y),a),D=E.SN.pg(C,S,I),o=I.R[I.T[0]],v=o.add.GdFl,g=o.add.vstl;
this.pr=JSON.stringify(ht==0?v:g);this.BT=S;if(D==-1){var d=C[1];this.dc=[S.x,S.y,S.x+2,S.y];if(d[0]==1){this.dc.push(S.x,S.y-2);
d[2][4]=1}this.Yy=1;E.SN.a4O(I,this.dc)}else{this.dc=C[0];this.Yy=D}};E.SN.prototype.Fr=function(I,k,a,n,s){var C=I.w.m_(s.x,s.y),T=E.SN.nv(I),S=this.Yy;
if(S!=null){var D=this.dc.slice(0);C=E.R0.a5(I,C,a);if(n.W(as.bJ))C=E.hJ.Gi(new kK(D[0],D[1]),C);var o=C.x-D[S*2],v=C.y-D[S*2+1];
if(S==0){for(var Y=0;Y<D.length;Y+=2){D[Y]+=o;D[Y+1]+=v}}else{D[S*2]+=o;D[S*2+1]+=v}E.SN.a4O(I,D,S)}else if(T){var g=E.SN.pg(T,C,I),d=new d2(M.E.b,!0);
d.data={q:M.p.Zk,s3:g==-1?"default":g==0?"move":"pointer"};k.a(d)}E.SN.vB(I)};E.SN.pg=function(I,k,a){var n=6*E.Y()/a.w.F,s=I[0],C=j.X.w_(s,k.x,k.y,n);
if(C==0&&s.length==8&&s[0]==s[6]&&s[1]==s[7])C=3;if(C==-1&&I[1][0]==1)C=j.X.w_(s.slice(0,2),k.x,k.y,2*n);
return C};E.SN.prototype.pE=function(I,k,a,n,s){if(this.dc==null)return;this.dc=null;this.Yy=null;E.SN.ajG(this,I)};
E.SN.ajG=function(I,k){var a=k.T[0],n=k.R[a],s=n.add.GdFl,C=n.add.vstl,T=JSON.stringify(s?s:C),S=k.history[k.R3];
if(S&&S.S==I&&S.data.OI==a)S.data.S_=T;else{var D=new g7("Change Gradient",I);D.data={OI:a,JO:I.pr,S_:T};
k.RB(D)}};E.SN.a4O=function(I,k,a){var n=I.R[I.T[0]],s=n.add.GdFl,C=n.add.vstl,T=n.add.vmsk,S=new kK(k[0],k[1]),D=new kK(k[2],k[3]),o=new kK(k[4],k[5]),v=new kK(k[6],k[7]);
if(C){var g=C.Bv[0],d=C.Bv[2],R=cp.yq(S,D,new dc),c=cp.Wu(g,R,T.d);if(g==1){var e=kK.f0(o,S)/kK.f0(D,S);
if(Math.abs(e-1)<.03)e=1;c[2][4]=a==2?e:d[4];if(a==3){if(kK.f0(v,S)/kK.f0(D,S)<.05)v=S.clone();cp.B4(c,S,D,v,c[2][4]);
if(c[2][6]>.999)c[2][6]=.999}else{c[2][5]=d[5];c[2][6]=d[6]}}c[1]=C.Bv[1];C.Bv=c}else{var g=s.Type.v.GrdT,O=n.rect;
if(g=="Lnr"||g=="Rflc"){S.x=(S.x+D.x)/2;S.y=(S.y+D.y)/2}j.G.hP(S,D,O,s);n.Wr(I)}I.V()};E.SN.nv=function(I){if(I==null||I.T.length==0)return;
var k=I.R[I.T[0]],a=k.add.GdFl,n=k.add.vstl;if(a==null&&n==null)return;if(n==null)n=iJ.qM(k.add,I);var s=n.Bv;
if(s.length!=4)return;var C=k.add.vmsk?k.add.vmsk.d:j.n.uQ.Rect(0,0,I.Q,I._),T=cp.EL(s,C),C=[0,0,1,0];
if(ht==1&&s[0]==1){var S=s[2][5]*Math.PI/180,D=s[2][6];C.push(0,-1,Math.cos(S)*D,-Math.sin(S)*D)}j.X.h(C,T,C);
return[C,s,T]};E.SN.vB=function(I){if(I)E.SN.dp(I);var k=E.SN.nv(I);if(k==null)return;var a=k[0],n=k[1],s=k[2],C={s:a.slice(0,4),m:["M","L"]};
if(n[0]==1){var T=j.n.uQ.hO(-1,-1,2,2),S=j.X.wb(T);j.X.h(S.s,s,S.s);j.X.concat(C,S)}I.D.Jt=C;I.D.tK=a;
I.Xi=!0};E.SN.prototype.KY=function(I,k){var a=k.R[I.OI],n=ht==0?"GdFl":"vstl";if(I.S_){a.add[n]=JSON.parse(I.S_);
a.Wr(k);k.V();E.SN.dp(k)}};E.SN.prototype.PP=function(I,k){var a=k.R[I.OI],n=ht==0?"GdFl":"vstl";if(I.S_){a.add[n]=JSON.parse(I.JO);
a.Wr(k);k.V();E.SN.dp(k)}};E.gz=function(){E.mu.call(this,[10,7],E._F,"tools/hand");this.C_=!1;this.xZ=new kK(0,0);
this.aC=null;this.SQ=0};E.gz.prototype=new E.mu;E.gz.prototype.Un=function(I,k,a,n){this.C_=I.C_};E.gz.prototype.CP=function(I,k,a,n,s){var C=I.q;
if(C=="setcls"){a.w.N=I.N;a.Xi=!0;a.cd=!0}if(C=="scroll"&&!n.W(as.dE)){if(n.W(as.nU))E.gz.pl(a,a.w.i.x-I.P8.y,a.w.i.y-I.P8.x);
else E.gz.pl(a,a.w.i.x-I.P8.x,a.w.i.y-I.P8.y)}};E.gz.prototype.enable=function(I,k,a,n){this.aC=null;
var s=new d2(M.E.b,!0);s.data={q:M.p.Zk,s3:"grab"};k.a(s);if(I&&Date.now()-this.SQ<300){s.type=M.E.r;
s.S=E.VX;s.data={q:"adapt",P:"fitscr"};k.a(s)}this.SQ=Date.now()};E.gz.prototype.Vr=function(I,k,a,n,s){this.aC=I.w.i.clone();
this.xZ.dZ(s.x,s.y)};E.gz.prototype.Fr=function(I,k,a,n,s){if(!s.ZT)return;if(this.aC==null)this.Vr(I,k,a,n,s);
var C=this.C_?k.HU:[I];for(var Y=0;Y<C.length;Y++)E.gz.pl(C[Y],this.aC.x+(s.x-this.xZ.x),this.aC.y+(s.y-this.xZ.y))};
E.gz.prototype.pE=function(I,k,a,n,s){this.aC=null};E.gz.pl=function(I,k,a){var n=I.w.F,s=I.w.PJ,C=s.Q,T=s._,S=I.Q*n,D=I._*n,o=S<C&&D<T,v=C/2+S/2-64,g=T/2+D/2-64;
I.w.i.dZ(Math.max(-v,Math.min(v,k)),Math.max(-g,Math.min(g,a)));I.cd=!0};E.RM=function(){E.mu.call(this,[10,47],E.d8,"tools/rview");
this.xZ=new kK(0,0);this.WL=null;this.DM=null;this.SQ=0};E.RM.prototype=new E.mu;E.RM.prototype.enable=function(I,k,a,n){this.aC=null;
var s=new d2(M.E.b,!0);s.data={q:M.p.Zk,s3:"grab"};k.a(s);if(I&&Date.now()-this.SQ<300&&I.w.AE!=0){I.w.AE=0;
I.Xi=!0}this.SQ=Date.now();if(I)this.Z0(I,k)};E.RM.prototype.disable=function(I,k,a,n,s){if(I)this.Z0(I,k)};
E.RM.prototype.Lh=function(I,k,a,n){if(I)this.Z0(I,k)};E.RM.prototype.Vr=function(I,k,a,n,s){this.xZ.dZ(s.x,s.y);
var C=I.w;this.WL=C.m_(C.PJ.Q/2,C.PJ._/2);this.DM=C.Q8();var T=C.m_(C.PJ.Q/2,C.PJ._/2),S=Math.min(C.PJ.Q,C.PJ._)*.35/C.F,D=S*.2,o=T.x,v=T.y;
I.D.sV={m:"M L L L L L".split(" "),s:[o,v,o,v-S,o+D,v,o,v+S,o-D,v,o,v-S]};I.Xi=!0};E.RM.prototype.ahQ=function(I){var k=I.w,a=k.m_(k.PJ.Q/2,k.PJ._/2);
I.D.sV={m:["M","L"],s:[a.x,a.y,a.x,a.y-200]}};E.RM.prototype.Fr=function(I,k,a,n,s){if(!s.ZT)return;
var C=I.w,T=this.WL,S=this.xZ,D=new kK(C.PJ.Q/2,C.PJ._/2),o=Math.atan2(s.y-D.y,s.x-D.x),v=Math.atan2(S.y-D.y,S.x-D.x),g=Math.atan2(this.DM.J,this.DM.M),d=o-v,R=Math.PI/4;
if(n.W(as.bJ)){d=g+R*Math.round((d-g)/R)}this.ah$(I,k,this.DM.clone(),T,d)};E.RM.prototype.pE=function(I,k,a,n,s){I.D.sV=null;
I.Xi=!0};E.RM.prototype.Un=function(I,k,a,n){this.ah$(a,k,null,null,I.Mq-a.w.AE);a.w.AE=I.Mq};E.RM.prototype.ah$=function(I,k,a,n,s){var C=I.w;
if(a==null)a=C.Q8();if(n==null)n=C.m_(C.PJ.Q/2,C.PJ._/2);a.translate(-n.x,-n.y);a.rotate(s);a.translate(n.x,n.y);
C.az6(a);if(I.Q*C.F<C.PJ.Q&&I._*C.F<C.PJ._)C.i.dZ(0,0);I.Xi=!0;this.Z0(I,k)};E.RM.prototype.Z0=function(I,k){var a=new d2(M.E.b,!0);
a.data={q:M.p.at,S:this.id,Mq:I.w.AE};k.a(a)};E.ey=function(){E.kD.call(this,[10,25],E.Pq,"tools/hbrush")};
E.ey.prototype=new E.kD("");E.ey.prototype.pE=function(I,k,a,n,s){if(this.Fp==null)return;this.aQ(I,"heal",this.Fp.SW(),this.Fp.GT(),this.Fp.Gp());
this.V(I,this.Fp.Gp());E.dX.prototype.pE.call(this,I,k,a,n,s);if(!this.J$.algnd)this.i=null};E.S4=function(I){E.mu.call(this,I?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],I?E.B6:E.N$,I?"tools/vtype":"tools/htype");
this.Y3=[];this.tb=null;this.caller=null;this.Pp=1;this.Hu=0;this.AJ=null;this.ajn=0;this.Tf=0;this.a2R=null;
this.Ia=null;this.QR=null;this.Ze=null;this.y_=null;this.oI=null;this.a57=null;this._M=null;this.OL=null;
this.Yq=null;this.auy=null;this.uV=!1;this.pR=!1;this.Wl=!1;this.BB=null;this.cI=null;this.amc=null;
this.mH=!1;this.te=!1;this.R5=-1;this.Re=-1;this.WY=document.createElement("textarea");this.WY.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.WY.addEventListener("input",this.r$.bind(this),!1);this.WY.addEventListener("keydown",this.a9T.bind(this),!1);
this.WY.addEventListener("keyup",this.agB.bind(this),!1)};E.S4.prototype=new E.mu;E.S4.prototype.zJ=function(I){return I.ZT};
E.S4.prototype.Iw=function(I,k,a,n){if(this.QR!=null||this.id==E.B6)return;this.caller=k;var s=this.a7u(I);
if(s.length!=0){var C=null,T=[],S=[];for(var Y=0;Y<s.length;Y++){var D=I.R[s[Y]],o=D.add.TySh,v=0,g=f4.iZ(o.RW).length-2,d=f4.dm(o.RW,v,g);
f4.qL(d,o.h.Ha());if(d.CX.Font!=null)d.CX.Font=d.JN[d.CX.Font].Name;C=d.JN;T.push(d.CX);S.push(d.i9)}var d={JN:C,CX:f4.Rc(T),i9:f4.Rc(S)};
if(d.CX.Font!=null)f4.YW(d,d.CX.Font);this.asv(k,d,o)}};E.S4.prototype.a7u=function(I){var k=[];for(var Y=0;
Y<I.T.length;Y++)if(I.R[I.T[Y]]&&I.R[I.T[Y]].add.TySh)k.push(I.T[Y]);return k};E.S4.prototype.CP=function(I,k,a,n,s){var C=I.q=="insertGlyph",T=I.q=="copyText",S=I.q=="selectAll";
if((C||T||I.q=="insertText"||S)&&this.QR){var D=C?String.fromCharCode(65533):I.P,o=this.WY,v=o.value,g=o.selectionStart,d=o.selectionEnd;
if(T){ji.C4(new Blob([v.slice(g,d)],{type:"text/plain"}))}else if(S){this.R5=o.selectionStart=0;this.Re=o.selectionEnd=v.length;
this.cD(a);o.focus()}else{o.value=v.slice(0,g)+D+v.slice(d);o.selectionStart=o.selectionEnd=g+D.length;
this.r$(null,C?I.P:null);o.focus()}}if(I.q=="updateStyles"){if(this.QR==null){var R=this.a7u(a),c=!1;
if(R.length!=0){this.Te(a,k,s,R);for(var Y=0;Y<R.length;Y++){var e=a.R[R[Y]],O=e.add.TySh;f4.ns(O,this.Pp);
O.Mz.VAlign.v=this.Hu;this.QR=e;var U=f4.iZ(O.RW);this.R5=0;this.Re=U.length-1;f4.Xy(O.RW,this.R5,this.Re,this.DK(s,O));
var K=this.Rm(a,s);if(K==!1)c=!0}if(c){this.mH=!0;return}this.hU(a,k,!0)}return}this.q7(s)}if(I.q.startsWith("warp")){var _=this.te;
if(I.q=="warp"||I.q=="warpCancel"){if(this.QR==null)return;if(I.q=="warp")this.QR.add.TySh.At=I.O8;else this.QR.add.TySh.At=this.a57;
this.Rm(a,s);if(!_)this.cD(a)}if(I.q!="warp")this.WY.focus();if((I.q=="warpConfirm"||I.q=="warpCancel")&&_){this.te=!1;
if(I.q=="warpConfirm")this.hU(a,k);else this.dR(a,k)}}if(I.q=="editCurr"){if(s.P$!=E.N$){this.AJ=s.P$;
var Z=new d2(M.E.b,!0);Z.data={q:M.p.$g,S:E.N$};k.a(Z)}if(this.QR!=null)this.disable(a,k,s,n);this.tb=s;
this.caller=k;this.Te(a,k,s,[I.qb]);var U=f4.iZ(this.QR.add.TySh.RW);this.R5=0;this.Re=U.length-1;this.cD(a);
this.pk();this.WY.focus()}if(I.q=="switchPntPrgr"){if(this.QR)return;var e=a.R[a.T[0]],O=e.add.TySh,H=O.h.Ha(),G=e.mQ(),N=JSON.parse(JSON.stringify(O.RW)),z=f4.Dd(N),L=z==1?f4.nO(N):[0,0,Math.round(G.Q*1.05/H),Math.round(G._*1.25/H)],p=f4.dm(N,0,0),V=p.JN[p.CX.Font].Name,r=s.IE.B3(V),y=[0,L[2],L[2]/2][p.i9.Justification%3],W=(r?d_.Ow(r):.8)*p.CX.FontSize;
f4.IC(N,1-z);if(z==0){console.log(d_.Ow(r,V,p.CX));y=-y;W=-W;f4.s7(N,[0,0,L[2],L[3]])}var m=new dc(1,0,0,1,y,W);
m.concat(O.h);this.CP({KV:a.T[0],q:"newED",ku:N,h:m,amr:[16,3,z==1?0:1]},k,a,n,s)}if(I.q=="newED"){var e=a.R[I.KV],O=e.add.TySh,f=this.w9(a,[I.KV]);
O.RW=I.ku;if(I.h)O.h=I.h;if(jW.SJ(O,s.IE,k)){jW.Rm(e,s.IE,a);a.V()}else a.P5=!0;var h=new g7(I.amr?I.amr:this.name,this);
h.data={fq:f,b$:this.w9(a,[I.KV])};a.RB(h)}if(I.q=="fromAction"){var b=I._f.zf.Usng.v,i=b.TxtC.v,w=[];
for(var Y=0;Y<2;Y++){var J=i[Y==0?"Hrzn":"Vrtc"].v,D=J.val;if(J.type=="#Prc")D=(Y==0?a.Q:a._)*(D/100);
w[Y]=D}this.or(a,k,s,n,a.w.kF(w[0],w[1]),!0);var e=a.R[a.T[0]],O=e.add.TySh,q=O.RW,v=f4.iZ(q);f4.Mw(q,0,v.length-1);
f4.lL(q,0,b.Txt.v.replace(/\r/g,"\n"));v=f4.iZ(q);for(var z=0;z<2;z++){var x=b[z==0?"Txtt":"paragraphStyleRange"].v;
for(var Y=0;Y<x.length;Y++){var A=x[Y].v,g=A.From.v,d=Math.min(A.T.v-1,v.length-1);A=A[z==0?"TxtS":"paragraphStyle"].v;
var Q=f4.dm(q,g,d),B=z==0?Q.CX:Q.i9;for(var l in A){var P=A[l].v;if(l=="Sz")B.FontSize=Math.round(P.val*(P.type=="#Pnt"?a.oE/72:1));
else if(l=="fontPostScriptName")f4.YW(Q,P);else if(l=="Algn")B.Justification={Left:1,Cntr:2}[P.Alg];
else if(l=="leading")B.Leading=A[l].v.val;else if(l=="baselineShift")B.BaselineShift=A[l].v.val;else if(l=="autoLeading")B.AutoLeading=A[l].v;
else if(l=="syntheticBold")B.FauxBold=A[l].v;else if(l=="syntheticItalic")B.FauxItalic=A[l].v;else if(l=="Trck")B.Tracking=A[l].v;
else if(l=="verticalScale")B.VerticalScale=A[l].v/100;else if(l=="horizontalScale")B.HorizontalScale=A[l].v/100;
else if(l=="Clr")B.FillColor={Type:1,Values:[1,P.Rd.v/255,P.Grn.v/255,P.Bl.v/255]}}f4.Xy(q,g,d,Q)}}if(jW.PX(a,s.IE,k))jW.Rm(e,s.IE,a);
else a.P5=!0;a.V();this.hU(a,k)}};E.S4.prototype.q7=function(I){var k=Math.min(this.R5,this.Re),a=Math.max(this.R5,this.Re),n=this.QR.add.TySh;
f4.ns(n,this.Pp);n.Mz.VAlign.v=this.Hu;var s=this.DK(I,n);f4.Xy(n.RW,k,a-1,s);var C=this.caller.um(),T=this.Rm(C,I);
if(T)this.cD(C);if(document.activeElement.tagName.toLowerCase()!="input")this.WY.focus()};E.S4.prototype.rI=function(I){return this.Y3.indexOf(I)!=-1};
E.S4.prototype.enable=function(I,k,a,n){var s=this.WY;k.Z.appendChild(s);this._M="default";this.es(k)};
E.S4.prototype.UC=function(){return this.QR!=null};E.S4.e0=function(I,k){var a=new kK(k.x,k.y);for(var Y=I.R.length-1;
Y>=0;Y--){var n=I.R[Y],s=n.add.TySh;if(s&&I.ab8(Y)){var C=a,T=n.rect;if(ht==1){var S=s.h.clone();S.Us();
C=S.yt(a);T=n.qj.xu}if(!T.oi(C))continue;var D=n.hY(31);return D?-2:Y}}return-1};E.S4.prototype.Vr=function(I,k,a,n,s){this.tb=a;
this.caller=k;var C=I.w.m_(s.x,s.y),T=this.QR==null;if(T){var S=E.S4.e0(I,C);if(S==-2){alert(hJ.get([6,57,0]));
return}if(S>=0&&!n.W(as.bJ)){if(!jW.SJ(I.R[S].add.TySh,a.IE,k)){alert("Fonts not loaded yet");return}this.Te(I,k,a,[S])}else{this.Wl=!0;
this.BB=s;return}}var D=T?-1:f4.Dd(this.QR.add.TySh.RW),o=this.Yq?this.Yq:this.OL,v=o&&o.Vr(I,a,n,C,null,null,s)&&j.O8.K2(this.QR.add.TySh.At),g=!T&&j.X.aBA(C,this.QR.mQ())>20/I.w.F&&(D==0||D==1);
if(v||g){this.uV=!0;this.cI=C;this.amc=this.QR.add.TySh.h.clone();if(this.R5==-1&&this.Re==-1)this.R5=this.Re=this.VB(C)}else{if(this.y_==null){alert("Fonts not loaded yet");
return}this.pR=!0;this.R5=this.Re=this.VB(C);var d=Date.now();if(d-this.ajn>300)this.Tf=0;this.Tf++;
this.ajn=d;if(this.Tf==2)this.aCa();if(this.Tf==3)this.acx();if(this.Tf>1){this.pR=!1}}this.pk();this.cD(I)};
E.S4.prototype.Te=function(I,k,a,n){var s=I.R[n[0]];this.QR=s;this.OS(k,M.E.b,{q:M.p.at,S:this.id,Ln:"showactive"});
this.Ze=n;I.T=n.slice(0);I.fs();I.Me=!0;this.oI=this.w9(I,n);this.Kh(s.add.TySh);this.Rm(I,a)};E.S4.prototype.Kh=function(I){if(f4.Dd(I.RW)!=1)return;
var k=f4.nO(I.RW);k=new eZ(0,0,k[2]-k[0],k[3]-k[1]);var a=[k.x,k.y,k.x+k.Q,k.y,k.x+k.Q,k.y+k._,k.x,k.y+k._];
j.X.h(a,I.h,a);this.OL=new hZ(a,!1,!1,!1,!0);this.OL.c1(0)};E.S4.prototype.aCa=function(){var I=f4.iZ(this.QR.add.TySh.RW);
this.R5=this.azW(I,this.R5);this.Re=this.a0h(I,this.R5)};E.S4.prototype.azW=function(I,k){var a=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",n=[];
for(var Y=0;Y<a.length;Y++)n.push(a.charAt(Y));var s=n.indexOf(I[k])==-1?!0:!1;for(var Y=k-1;Y>=0;Y--)if(n.indexOf(I.charAt(Y))!=-1==s)return Y+1;
return 0};E.S4.prototype.a0h=function(I,k){var a=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",n=[];for(var Y=0;
Y<a.length;Y++)n.push(a.charAt(Y));var s=n.indexOf(I[k])==-1?!0:!1;for(var Y=k+1;Y<I.length;Y++)if(n.indexOf(I.charAt(Y))!=-1==s)return Y;
return I.length-1};E.S4.prototype.acx=function(){var I=this.y_.aal(this.R5);this.R5=I[0];this.Re=I[1]};
E.S4.prototype.es=function(I){var k=new d2(M.E.b,!0);k.data={q:M.p.Zk,s3:this._M};I.a(k)};E.S4.prototype.Fr=function(I,k,a,n,s){var C=I.w.m_(s.x,s.y),T=this.QR;
if(!s.ZT){var S="default",D=this.OL,o=this.Yq?this.Yq:D;if(o&&j.O8.K2(T.add.TySh.At)){var v=o.Fx(C,I.w.F,null,s);
if(v)S=v;else if(o==D&&D.sR(C))S="text"}else if(T&&j.X.aBA(C,T.mQ())>20/I.w.F)S="move";else if(E.S4.e0(I,C)>=0)S="text";
if(S!=this._M){this._M=S;this.es(k)}}var g=this.BB;if(this.Wl&&Math.min(s.x-g.x,s.y-g.y)>4/I.w.F){this.Wl=!1;
this.or(I,k,a,n,s);T=this.QR;this.uV=!0;this.OL=new hZ(null,!1,!1,!1,!0);this.OL.c1(0);var d=I.w.m_(this.BB.x,this.BB.y);
d.x=Math.round(d.x);d.y=Math.round(d.y);this.OL.Vr(I,a,n,d,null,null,s,I.w.AE)}if(this.uV){var R=T.add.TySh;
if(this.Yq){this.Yq.Fr(I,a,n,C);var c=j.t.Nr(j.t.UX(this.Yq.d6(),this.auy));R.h=c;this.Rm(I,a);f4.xX(R)}else if(this.OL){this.OL.Fr(I,a,n,C);
var e=R.h.clone(),O=Math.atan2(e.J,e.M);e.rotate(O);var c=j.t.Nr(j.t.UX(this.OL.d6())),U=Math.atan2(c.J,c.M);
c.rotate(U);if(!isNaN(c.M)&&c.M*c.Jo-c.J*c.mL!=0){var K=new eZ(0,0,c.M/e.M,c.Jo/e.Jo),_=Math.round(K.Q),Z=Math.round(K._),H=R.RW.Curve;
if(H){var G=f4.nO(R.RW),N=new dc(_/G[2],0,0,Z/G[3],0,0);j.X.h(H.Points,N,H.Points);f4.xX(R)}f4.s7(R.RW,[0,0,_,Z]);
R.h=j.t.Nr(j.t.UX(this.OL.d6(),K));this.Rm(I,a);f4.xX(R)}}else{var z=C.x-this.cI.x,L=C.y-this.cI.y;R.h=this.amc.clone();
var p=new kK(R.h.Dw+z,R.h.rk+L);p=E.R0.a5(I,p,a);R.h.Dw=p.x;R.h.rk=p.y;this.Rm(I,a)}}if(this.pR)this.Re=this.VB(C);
if(this.uV||this.pR)this.cD(I)};E.S4.prototype.or=function(I,k,a,n,s,C){var T=I.iQ(),S=T[0],D=T[1],o=I.ux();
o.add.lnsr="rend";var v=I.R.slice(0);o.GF("Text layer "+v.length);this.QR=o;var g=I.T.length==0?I.R.length-1:I.T[I.T.length-1],d=g+1;
if(v[g].add.lsct==gA.rW)d--;this.oI={OZ:v.slice(0),Mr:I.T.slice(0)};v.splice(d,0,o);I.T=[d];this.R5=this.Re=0;
I._g(v);this.oI.xj=v.slice(0);this.oI.iy=I.T.slice(0);this.OS(k,M.E.b,{q:M.p.at,S:this.id,Ln:"showactive"});
var R=I.w.m_(s.x,s.y),c=a.kd;console.log(c);if(this.id==E.B6){c=JSON.parse(JSON.stringify(c));c.CX.BaselineDirection=1}o.add.TySh=f4.MU(R.x,R.y,c,I.w.AE);
var e=o.add.TySh,O=e.RW;if(this.id==E.B6)O._LineOrientation=2;f4.ns(e,this.Pp);e.Mz.VAlign.v=this.Hu;
if(s.ZT)f4.IC(O,1);else{f4.IC(O,0);var U=S[D.pop()],K=U?U.add.vmsk:null;if(C)K=null;if(K&&!n.W(as.bJ)){K=K.clone();
var _=K.d,H,G;for(var Y=0;Y<_.length;Y++)if(_[Y].Np!=null)_[Y].Np=0;var Z=5/I.w.F;H=j.n.oJ(K.d,R,!0,Z);
if(H.Gq==-1)H=j.n.oJ(K.d,R);if(H.Gq!=-1){f4.IC(O,1);var N=j.n.XN(_,H.Gq),z=j.n.gf(_,H.Gq)-1;_=K.d=_.slice(0,2).concat(_.slice(N,N+z+1));
K.T=[];e.add={vmsk:K,vogk:X.Bb(_)};O.Curve={};f4.kj(e);if(H.x3!=null){var L=d_.Nn(O.Curve);j.X.h(L[0],e.h,L[0]);
var p=j.X.w_(L[0],R.x,R.y),V=a.kd.i9.Justification;if(V==2||V==5){var r=(L[2][p]+L[3]*.5)%L[3];p=d_.cp(r,L[2])}var y=L[1][p];
y=y%z;K.Ma=[y,y];f4.kj(e)}else this.Kh(e)}}}return o};E.S4.prototype.pE=function(I,k,a,n,s,C){if(C){this.Wl=!1;
return}if(this.QR==null&&!this.Wl)return;var T=I.w.m_(s.x,s.y),S=this.Wl;if(this.Wl){this.Wl=!1;this.or(I,k,a,n,s);
this.pR=!0}if(this.uV||this.pR){this.cD(I);this.pk();if(S)this.q7(a)}if(this.uV&&this.OL)this.OL.pE(I,a,n,T);
this.uV=this.pR=!1;this.WY.focus()};E.S4.prototype.pk=function(){var I=this.QR.add.TySh,k=Math.min(this.R5,this.Re),a=Math.max(this.R5,this.Re),n,s;
if(k==a){var C=f4.iZ(I.RW);if(k==0||C.charAt(k-1)=="\n")n=s=k;else n=s=k-1}else{n=k;s=a-1}var T=f4.dm(I.RW,n,s);
f4.qL(T,I.h.Ha());this.asv(this.caller,T,I)};E.S4.prototype.asv=function(I,k,a){this.OS(I,M.E.b,{q:M.p.iv,CU:f9.ug,kd:k});
var n=this.Pp=f4.fV(a),s=this.Hu=a.Mz.VAlign.v;this.OS(this.caller,M.E.b,{q:M.p.at,S:this.id,Ln:"changeOther",hz:n,o6:s})};
E.S4.prototype.pC=function(I,k,a,n,s){if(I==null)return;var C=I.w.m_(s.x,s.y),T=E.S4.e0(I,C);if(T==-1)return;
var S=new d2(M.E.b,!0);S.data={q:M.p.at,S:this.id,Ln:"showpan",a6g:this.QR!=null,qb:T,Yc:s,Lr:I,tb:a};
k.a(S)};E.S4.prototype.azw=function(){var I=this.QR;if(I&&!this.uV&&this.Yq!=null){var k=this.caller.um();
this.Yq.pE(k,this.tb,null,null);this.Yq=null;this.Kh(I.add.TySh);this.cD(k)}};E.S4.prototype.disable=function(I,k,a,n){var s=this.QR;
this.hU(I,k)};E.S4.prototype.Un=function(I,k,a,n,s){if(this.te)return;if(I.Ln=="commit")this.hU(a,k);
if(I.Ln=="cancel")this.dR(a,k);if(I.Ln=="changeOther"){this.Pp=I.hz;this.Hu=I.o6;if(a!=null)this.CP({q:"updateStyles"},k,a,n,s)}if(I.Ln=="showwarp"){if(a==null)return;
if(this.QR==null){var C=a.R[a.T[0]],T=C.add.TySh;if(T==null)return;this.Te(a,k,s,[a.T[0]]);this.WY.focus();
this.te=!0}this.a57=this.QR.add.TySh.At;var S=new d2(M.E.b,!0);S.data={q:M.p.Fu,aw:"textwarp"};k.a(S)}};
E.S4.prototype.wu=function(I,k){if(k!=f9.xr)return;if(this.mH){this.mH=!1;var a=this.caller.um(),n=this.Ze;
for(var Y=0;Y<n.length;Y++){this.QR=a.R[n[Y]];this.Rm(a,I)}this.hU(a,this.caller);return}if(this.QR)this.q7(I)};
E.S4.prototype.DK=function(I,k){var a=JSON.parse(JSON.stringify(I.kd));f4.qL(a,1/k.h.Ha());return a};
E.S4.prototype.KY=function(I,k){if(I.fq!=null)this.mp(k,I.b$);else this.ad_(k,I.xj,I.iy)};E.S4.prototype.PP=function(I,k){if(I.fq!=null)this.mp(k,I.fq);
else this.ad_(k,I.OZ,I.Mr)};E.S4.prototype.mp=function(I,k){for(var Y=0;Y<k.length;Y++){var a=k[Y],n=a.KV,s=I.R[n];
s.buffer=a.b6;s.rect=a.Sq.clone();s.V();s.qj.ZS=null;s.qj.path=null;var C=s.add.TySh;C.At=a.O8;C.uT=a.uT.clone();
C.h=a.h.clone();C.RW=JSON.parse(JSON.stringify(a.RW));s.N5()}I.V()};E.S4.prototype.w9=function(I,k){var a=[];
for(var Y=0;Y<k.length;Y++){var n=k[Y],s=I.R[n],C=s.add.TySh;a.push({KV:n,h:C.h.clone(),O8:JSON.parse(JSON.stringify(C.At)),uT:C.uT.clone(),RW:JSON.parse(JSON.stringify(C.RW)),b6:s.buffer.slice(0),Sq:s.rect.clone()})}return a};
E.S4.prototype.ad_=function(I,k,a){I.T=a;I._g(k);I.V();I.q_=!0};E.S4.prototype.Rm=function(I,k,a){if(a==null)a=!1;
var n=this.QR.add.TySh;if(!jW.SJ(n,k.IE,this.caller))return!1;if(!a){var s=f4.iZ(n.RW);this.WY.value=s.slice(0,s.length-1)}var C=this.QR.rect,T=jW.Rm(this.QR,k.IE,I);
this.y_=T[1];var S=this.y_.Yd();if(j.O8.K2(n.At))n.uT=new eZ;else{if(f4.Dd(n.RW)==1){var D=f4.nO(n.RW),bQ=S.y;
n.uT=new eZ(0,bQ,D[2]-D[0],D[3]-D[1]-bQ)}else n.uT=S}I.N_();if(T[2])I.V(I.root.U5(T[2].Sq.oL(C),I,I.R.indexOf(this.QR)));
return!0};E.S4.prototype.r$=function(I,k){if(this.QR==null||this.te)return;var a=this.WY.selectionStart,n=this.QR.add.TySh,s=f4.iZ(n.RW),C=this.WY.value+"\n",T=Math.min(this.R5,this.Re),S=Math.max(this.R5,this.Re),d=!1;
this.R5=Math.min(a,T);if(C.length-a<s.length-this.Re)this.Re=s.length-C.length+a;if(s!=C){while(this.R5>0&&s.charAt(this.R5-1)!=C.charAt(this.R5-1))this.R5--}var D=s.substring(0,this.R5),o=s.substring(this.Re,s.length),v=C.substring(this.R5,C.length-o.length);
f4.Mw(n.RW,this.R5,this.Re);f4.lL(n.RW,this.R5,v);if(k!=null)f4.a1n(n.RW,this.R5,k);var g=this.DK(this.tb,n),R=-1,c=Array.from(v);
for(var Y=0;Y<c.length;Y++)R=Math.max(R,c[Y].codePointAt(0));if(R!=-1&&R>128&&R!=65533&&g.CX.Font!=null){var e=g.JN[g.CX.Font].Name,O=this.tb.IE.al1(R,e,g.JN);
if(e!=O){f4.YW(g,O);d=!0}}if(this.Ia!=null&&v==this.Ia){var U=JSON.parse(this.a2R);f4.qL(U,1/n.h.Ha());
g.CX=U.CX;g.JN=U.JN;d=!0}f4.Xy(n.RW,this.R5,this.R5+v.length-1,g);this.R5=this.Re=D.length+v.length;
var K=this.caller.um(),_=this.Rm(K,this.tb,!0);if(_)this.cD(K,!0);if(d)this.pk()};E.S4.prototype.agB=function(I){var k=as;
if(!I.ctrlKey)this.azw();I.stopPropagation()};E.S4.prototype.a9T=function(I){I.stopPropagation();var k=I.ctrlKey||I.metaKey,a=as,D=0,o=0,_=0,W=!1;
if(this.QR==null||this.te)return;if(this.QR==null)return;if(this.caller.Hs.bN())return;var n=this.caller.um();
if(this.Yq==null&&k){var s=this.QR.add.TySh,C=f4.Dd(s.RW),T;if(C==1){T=f4.nO(s.RW);T=new eZ(0,0,T[2]-T[0],T[3]-T[1])}else T=this.y_.Yd();
var S=[T.x,T.y,T.x+T.Q,T.y,T.x+T.Q,T.y+T._,T.x,T.y+T._];j.X.h(S,s.h,S);this.Yq=new hZ(S,!0,!0,!1,!1);
this.Yq.c1(0);this.auy=T;this.cD(n)}if(a.rM(I.code,a.K0))D=1;if(a.rM(I.code,a.C8))D=-1;if(a.rM(I.code,a.yo))o=-1;
if(a.rM(I.code,a.Sx))o=1;var v=a.rM(I.code,as.qC),g=a.rM(I.code,as.azK);if(a.rM(I.code,as.da)&&k){this.hU(n,this.caller);
return}if(a.rM(I.code,as._a)){this.dR(n,this.caller);return}if(a.rM(I.code,as.mK)){I.preventDefault();
var d=this.WY,R=d.value,c=d.selectionStart,e=d.selectionEnd;d.value=R.substring(0,c)+"\t"+R.substring(e);
d.selectionStart=d.selectionEnd=c+1;this.r$(null);return}var O=a.rM(I.code,a.AC),U=a.rM(I.code,a.q0);
if(k&&(O||U)){I.preventDefault();var K=new d2(M.E.r,!0);K.S=E.VX;K.data={q:"zoom",KJ:O};this.caller.a(K)}if(a.rM(I.code,a.nB))_=1;
if(a.rM(I.code,a.Cy))_=-1;var Z=this.R5==this.Re,H=k&&I.shiftKey&&_!=0&&!Z;if(H||I.altKey&&D!=0){var G=JSON.parse(JSON.stringify(this.tb.kd));
if(H){var N=G.CX.FontSize;if(N==null)N=16;G.CX.FontSize=Math.max(1,N+_*(I.altKey?5:1))}else{if(Z){G.CX.Kerning+=20*D;
G.CX.AutoKerning=!1}else G.CX.Tracking+=20*D}I.preventDefault();var z=new d2(M.E.b,!0);z.data={q:M.p.iv,CU:f9.ug,kd:G};
this.caller.a(z);var K=new d2(M.E.r,!0);K.S=E.N$;K.data={q:"updateStyles"};this.caller.a(K);return}if((a.rM(I.code,a.E5)||a.rM(I.code,a.E2))&&k){var L=this.R5,p=this.Re;
if(L>p){var V=L;L=p;p=V}var s=this.QR.add.TySh,r=f4.iZ(s.RW);if(L!=p){this.Ia=r.slice(L,p);this.a2R=JSON.stringify(this.tb.kd)}}var y=f4.iZ(this.QR.add.TySh.RW);
if(D!=0||o!=0||v||g){I.preventDefault();var m=this.R5;if(D!=0){if(k&&D==-1)m=this.azW(y,this.R5-1);else if(k&&D==1)m=this.a0h(y,this.R5);
else{var d=this.WY,R=d.value;m=this.R5+D;if(m!=0&&R.codePointAt(m-1)>65535)m+=D}}else if(o!=0){var f=this.y_.b4(this.R5);
if(o==-1&&f.Nh==0)m=0;else if(o==1&&f.Nh==this.y_.arB()-1)m=99999999999;else m=this.y_.a4s(new kK(f.Sq.x+f.Sq.Q/2,0),f.Nh+o)}else if(v){var h=this.R5-1;
while(h>0&&y.charCodeAt(h)!=10)h--;m=h==0?0:h+1}else if(g){var h=this.R5;while(h<y.length-1&&y.charCodeAt(h)!=10)h++;
m=h}m=Math.max(0,Math.min(y.length-1,m));if(I.shiftKey)this.R5=m;else this.R5=this.Re=m;W=!0}if(a.rM(I.code,as.p)&&k){this.R5=0;
this.Re=y.length-1;W=!0}if(W){this.pk();this.cD(n)}};E.S4.akU=function(I,k){var a=I.length;if(a!=k.length)return!1;
for(var Y=0;Y<a;Y++)if(I[Y].KV!=k[Y].KV)return!1;return!0};E.S4.prototype.hU=function(I,k,a){if(this.QR==null)return;
this.QR.N5();var n=this.oI;if(n instanceof Array){var s=this.w9(I,this.Ze),C=I.HS();if(C!=null&&C.S==this&&C.data.fq&&E.S4.akU(C.data.fq,n)&&a)C.data.b$=s;
else{var T=new g7(this.name,this);T.data={fq:n,b$:s};I.RB(T)}}else{var T=new g7(this.name,this);T.data={OZ:n.OZ,xj:n.xj,Mr:n.Mr,iy:n.iy};
I.RB(T)}this.escape(I,k)};E.S4.prototype.dR=function(I,k){if(this.QR==null)return;if(this.oI instanceof Array){this.mp(I,this.oI);
if(this.QR)f4.xX(this.QR.add.TySh)}else{I.T=this.oI.Mr;I._g(this.oI.OZ);I.q_=!0}I.V();this.escape(I,k)};
E.S4.prototype.escape=function(I,k){this.azw();this.QR=null;this.Ze=null;this.y_=null;this.OL=null;this.WY.blur();
I.D.sV=null;I.D.$Z=null;I.D.t6=[];I.Xi=!0;this.uV=!1;this.pR=!1;this.R5=this.Re=-1;this.OS(k,M.E.b,{q:M.p.at,S:this.id,Ln:"hideactive"});
if(this.AJ){var a=new d2(M.E.b,!0);a.data={q:M.p.$g,S:this.AJ};k.a(a);this.AJ=null}};E.S4.prototype.OS=function(I,k,a,n){var s=new d2(k,!0);
s.data=a;if(n)s.S=n;I.a(s)};E.S4.prototype.VB=function(I){var k=this.QR.add.TySh,a=this.y_,n=k.h.clone();
n.Us();var s=n.yt(I),C=f4.GT(k,a),T=j.O8.ck(k.At,C),S=j.QT.J4(T,s);if(S==null)S=new Float64Array(2);
s=new kK(C.x+S[0]*C.Q,C.y+S[1]*C._);if(a.gG){var D=a.gG.clone();D.Us();s=D.yt(s)}var o=a.a4s(s);return o};
E.S4.prototype.cD=function(I,k){if(k==null)k=!1;var a=this.QR.add.TySh,n=f4.Dd(a.RW),s=this.y_,C=s?f4.GT(a,s):null;
I.D.t6=[];I.D.sV=null;I.D.$Z=null;var T=this.Yq?this.Yq:this.OL;if(T){T.LW(I,this.tb,!j.O8.K2(a.At));
var S=a.h.clone();S.Us();if(s&&s.gG&&s._W==1){var D=s.gG.clone();D.Us();S.concat(D)}j.X.h(I.D.t6,S,I.D.t6);
j.X.h(I.D.sV.s,S,I.D.sV.s);if(s&&s.gG==null&&s.aCk()){var o=C.Q-20,v=C._+8;I.D.sV.s.push(o,v,o+10,v,o+5,v-5,o+5,v+5);
I.D.sV.m.push("M","L","M","L")}}else if(n==0)this.axA(I,a,s);else I.D.sV={s:[],m:[]};var g=Math.min(this.R5,this.Re),d=Math.max(this.R5,this.Re);
if(!k){this.WY.selectionStart=g;this.WY.selectionEnd=d}if(s!=null){var R=function(T,Z){var H=T.x,G=T.y+T._,N=new dc;
N.translate(-H,-G);N.rotate(-Z);N.translate(H,G);T.y+=T._*.27;var _=j.X.Eu(T);j.X.h(_.s,N,_.s);return _};
if(g==d){g=Math.max(g,0);var c=s.b4(g);if(c){var e=c.Sq,O=this.tb.kd.CX.FontSize;if(O!=null&&O!=0){O/=a.h.Ha();
e.y+=e._-O;e._=O}var U=s.aCp(g);if(U!=null&&U.DE==1)e.x+=e.Q;var K=R(e,c.AE).s;I.D.sV.m.push("M","L");
I.D.sV.s.push(K[0],K[1]-1,K[6],K[7]-1)}}else{I.D.$Z={s:[],m:[]};for(var Y=g;Y<d;Y++){var c=s.b4(Y),_=R(c.Sq,c.AE);
j.X.concat(I.D.$Z,_)}}}I.D.sV=jW.Z6(I.D.sV,a,s,!0);I.D.$Z=jW.Z6(I.D.$Z,a,s,!0);I.D.t6=jW.Z6({s:I.D.t6},a,s,!0).s;
I.Xi=!0};E.S4.prototype.axA=function(I,k,a){if(a==null)return;I.D.t6.push(0,0);if(I.D.sV==null)I.D.sV={m:[],s:[]};
for(var Y=0;Y<a.i9.length;Y++){var n=a.i9[Y];for(var s=0;s<n.Mn.length;s++){var C=n.Mn[s],T=n.Of.x+C.Of.x+C.Sq.x,S=n.Of.y+C.Of.y+C.Sq.y+C.Sq._;
I.D.sV.m.push("M","L");I.D.sV.s.push(T,S,T+C.Sq.Q,S)}}I.Xi=!0};E.hr=function(){E.S4.call(this,!0)};E.hr.prototype=new E.S4;
E.Oz=function(I){E.BN.call(this,I?"Magic Replace":[10,9],I?E.ars:E.hV,I?"tools/mremove":"tools/lasso");
this.ht="crosshair";this.k0=null;this.TX=null;this.cI=null};E.Oz.prototype=new E.BN;E.Oz.prototype.e_=function(I,k,a,n){this.k0=this.k7;
this.TX={s:[this.k0.x,this.k0.y],m:["M"]}};E.Oz.prototype.vC=function(I,k,a,n){this.cI=n;var s=this.TX;
if(s==null)return;if(!n.ZT){if(this.TX!=null&&this.$H.VA(1)&&a.W(as.dE)){s.s.pop();s.s.pop();s.s.push(this.gc.x,this.gc.y);
I.D.sV=s;I.Xi=!0}return}s.m.push("L");s.s.push(this.gc.x,this.gc.y);this.k0=this.gc;if(this.Go){I.D.sV=s;
I.Xi=!0}};E.Oz.prototype.UC=function(){return this.TX!=null};E.Oz.prototype.PO=function(){return this.TX!=null};
E.Oz.prototype.Bf=function(I,k,a,n){E.BN.prototype.Bf.call(this,I,k,a,n);if(this.TX&&this.$H.VA(1)&&this.cI&&!this.cI.ZT&&!n.W(as.dE))this.aqf(I,a,n)};
E.Oz.prototype.RG=function(I,k,a,n){this.cI=n;var s=this.TX;if(s==null)return;if(this.$H.VA(1)&&a.W(as.dE)){s.m.push("L");
s.s.push(this.gc.x,this.gc.y);return}this.aqf(I,k,a)};E.Oz.prototype.aqf=function(I,k,a){this.finish(I,k,a,this.cI);
this.TX=null;I.D.sV=null;I.Xi=!0};E.Oz.prototype.getSelection=function(I,k,a,n){if(this.k7.a$(this.gc)||!this.Go)return null;
return E.BN.vL(this.TX.s,null,this.J$.anta)};E.R0=function(){E.mu.call(this,[10,11],E.Mt,"tools/move");
this.JU=new kK(0,0);this.x7=new kK(0,0);this.NZ=null;this.oT=null;this.hG=new kK(0,0);this.yM=null;this.wY=null;
this.k3=null;this.SQ=0;this.T9=null;this.Nk=[];this.$y=null;this.uJ=null;this.G4=!1;this.q=0;this.HI=null;
this.La=null;this.SM=null;this.JJ=!1;this.J$={BE:!0,ip:ht==1,eQ:!1,afe:1};this.alm=!1;this.azF=!1;this.OL=null;
this.Bw=null;this.Gy=null;var I=[];for(var Y=0;Y<j.wJ.g7.length;Y++)I.push({name:j.wJ.g7[Y],e:function(k,a,n){return{nK:a.M6.NY==n}}});
this.TV=new io(I);this.TV.O("select",this.gi,this)};E.R0.prototype=new E.mu;E.mu.prototype.zJ=function(I){return this.G4&&this.q!=2};
E.R0.prototype.ask=function(){return this.G4&&(this.q==0||this.q==1)};E.R0.prototype.Lh=function(I,k,a,n){this.Lf(I,-this.hG.x,-this.hG.y);
this.hG.dZ(0,0);this.Aw(I,null,a);this.vB(I)};E.R0.prototype.Hj=function(){var I=this.J$;return[I.BE?1:0,I.ip?1:0,I.eQ?1:0]};
E.R0.prototype.j9=function(I,k,a){var n=this.J$;if(I&&I[0]!=null)n.BE=I[0]==1;if(I&&I[1]!=null)n.ip=I[1]==1;
if(I&&I[2]!=null)n.eQ=I[2]==1;if(ht==1)n.ip=!0;var s=new d2(M.E.b,!0);s.data={q:M.p.at,S:this.id,sw:n,ac5:k};
a.a(s)};E.R0.arV=function(I,k,a,n,s,C,T){if(T==null)T=[!1,!0];var S=I.X0(null,s,!0),D,o=s==null?I.T[0]:s;
if(I.add.artd&&(s!=null||I.T.length==1)&&I.R[o].add.artb){var v=I.R[o].OR();D=I.jR(S,v,v)[0]}else{var g=new eZ(0,0,I.Q,I._),D=I.jR(S,T[0]?g:null,T[1]?null:g)[0];
delete D.add.artd;if(T[1]){var d=j.h0(D.TB(),new eZ(0,0,D.Q,D._),2);E.Zo.OX(D,d)}}if(a!=1){var R=new eZ(0,0,Math.round(D.Q*a),Math.round(D._*a));
E.Zo.OX(D,R);var c=[];for(var Y=0;Y<D.R.length;Y++)c.push(Y);var e=E.nF.IU(D,c,!0);E.Zo._I(D,new dc(a,0,0,a,0,0));
E.nF.ff(D,n,c,e,1,j.t.HE(new dc(a,0,0,a,0,0)),null,!0);D.pa()}var O=[];for(var Y=0;Y<k.length;Y++)if(D.Q*D._!=0)O.push(kk.gj(D,k[Y].toUpperCase(),null,null,C?C[Y]:null,n));
return O};E.R0.prototype.a3y=function(I,k,a,n,s){if(I==null||I.T.length==0)return;var C=E.R0.arV(I,[k],a,n,null)[0],T=new d2(M.E.b,!0);
T.data={q:M.p.KZ,data:C,name:I.R[I.T[0]].getName()+(a==1?"":"@"+a+"x")+"."+k};s.a(T)};E.R0.prototype.Un=function(I,k,a,n,s){if(I.ar=="getPNG"){this.a3y(a,"png",I.NT,s,k)}else if(I.ar=="getSVG"){this.a3y(a,"svg",I.NT,s,k)}if(I.ar=="prms"){this.J$=I;
this.vB(a)}};E.R0.apY=function(I){var bQ=I.length,a=0;I.sort(function(C,T){return C[0]+C[1]/2-(T[0]+T[1]/2)});
var k=I[bQ-1][0]+I[bQ-1][1]-I[0][0];for(var Y=0;Y<bQ;Y++)a+=I[Y][1];var n=Math.round((k-a)/(bQ-1)),s=I[0][0];
for(var Y=0;Y<bQ;Y++){I[Y][0]=s;s+=I[Y][1]+n}};E.R0.prototype.CP=function(I,k,a,n,s){var C=I.q;if(C=="trsl"){var T=Math.round(I.YM),S=Math.round(I.qG);
this.hG.dZ(T,S);this.jA(a,k,n,s,!1,I.o);this.Lf(a,T,S);this.Aw(a,null,s)}else if(C=="fcmy"||C=="fvec"){var D=["RGB","CMYK"][I.P]+" Color";
if(C=="fvec")D=["Raster","Vector"][I.P]+" Mode";var o=new g7(D,this);o.data={q:I.q,P6:a.add[C]==null?0:a.add[C],WM:I.P};
a.RB(o);this.KY(o.data,a)}else if(C=="pview"){var C=new g7([8,14],this);C.data={q:I.q};a.RB(C);this.KY(C.data,a)}else if(C=="lockguides"){if(a)a.fW=!a.fW}else if(C=="gids"||C=="gidsFromLayer"){var v=I.La,g,d;
if(v==null)v=a.Ru();if(C=="gids"){g=I.qJ;var R=v[0].length,c=g[0].length;d=R==c?[23,2]:R>c?[23,3]:[23,4];
if(c==0)d=[11,15,0]}else if(C=="gidsFromLayer"){var e=[],O=[],U=a.ev();for(var Y=0;Y<a.T.length;Y++){var K=a.R[a.T[Y]].rect;
if(K.KH())continue;e.push([0,K.x],[1,K.y],[0,K.x+K.Q],[1,K.y+K._]);O.push(U,U,U,U)}d=[11,15,1];g=a.Ru();
E.R0.VE(g,[e,O])}if(JSON.stringify(v)==JSON.stringify(g))return;var C=new g7(d,this);C.data={q:2,La:v,qJ:g};
a.RB(C);this.KY(C.data,a)}else if(C=="algn"){var _=I.P;if(a==null)return;if(a.T.length<2&&!(a.f!=null&&_!=3&&_!=7)){alert(hJ.get([15,7,5]));
return}var Z=a.f;a.f=null;var K=Z?Z.rect:E.nF.GT(a);this.jA(a,k,n,s,!1);if(!this.G4)return;var H=this.T9,G={},N=[],z=[],L=[];
for(var Y=0;Y<H.length;Y++){var p=H[Y];while(a.R[p].getName()=="</Layer group>")p++;var V=a.root.lR(p),r=V;
while(V.parent!=null){V=V.parent;if(H.indexOf(V.index)!=-1)r=V}var y=z.indexOf(r.index);if(y==-1){y=z.length;
z.push(r.index)}N[Y]=y}var W=[],m=[],f=[];for(var Y=0;Y<z.length;Y++){var h=E.nF.GT(a,a.X0(!0,z[Y]));
f.push(h);var b=_==3?[h.y,h._]:[h.x,h.Q];W[Y]=b;m.push(b)}E.R0.apY(m);for(var Y=0;Y<z.length;Y++){var h=f[Y],i=h.x,w=h.y;
if(_==0)i=K.x;if(_==1)i=K.x+(K.Q-h.Q)/2;if(_==2)i=K.x+(K.Q-h.Q);if(_==3)w=W[Y][0];if(_==4)w=K.y;if(_==5)w=K.y+(K._-h._)/2;
if(_==6)w=K.y+(K._-h._);if(_==7)i=W[Y][0];L.push(Math.round(i-h.x),Math.round(w-h.y))}var J=[];for(var Y=0;
Y<H.length;Y++){var q=N[Y];J[2*Y]=L[2*q];J[2*Y+1]=L[2*q+1]}this.Lf(a,0,0,null,J);var x=_==3||_==7?[20,4,6]:[20,4,_<3?_:_-1];
this.Aw(a,null,s,J,x);a.f=Z}else if(C=="disabAuto"){this.j9([!1],null,k)}};E.R0.VE=function(I,k){for(var Y=0;
Y<k[0].length;Y++){var a=k[0][Y],n=k[1][Y],s=!1;for(var C=0;C<I[0].length;C++){var T=I[0][C],S=I[1][C];
if(a[0]==T[0]&&a[1]==T[1]&&n==S)s=!0}if(!s){I[0].push(a.slice(0));I[1].push(n)}}};E.R0.prototype.enable=function(I,k,a,n,s){this.wY=a;
this.k3=k;this.JJ=s?!0:!1;this.vB(I);this.es("default",k);this.Bf(I,k,a,n)};E.R0.prototype.disable=function(I,k,a,n){this.dp(I)};
E.R0.prototype.dp=function(I){if(I==null)return;if(this.OL){this.OL.clear(I);this.OL=null}if(I.D.eQ){I.D.eQ=null;
I.Xi=!0}if(I.D.PT){I.D.PT=null;I.Xi=!0}if(I.D.QS[this.id]){delete I.D.QS[this.id];I.Xi=!0}if(I.D.OT.length!=0){I.D.OT=[];
I.Xi=!0}};E.R0.prototype.Iw=function(I,k,a,n){if(a.P$!=this.id)return;this.vB(I)};E.R0.prototype.vB=function(I,k){if(I==null)return;
var a=this.J$;this.dp(I);if(!this.JJ){var n;if(a.ip||a.eQ)n=j.X.aj(E.nF.GT(I));if(a.ip&&!n.KH()){var s=I.R[I.T[0]],C=j.X.Eu(n).s;
if(ht==1&&I.T.length==1){if(s.add.vmsk)C=s.add.vmsk.sv();if(s.add.SoLd)C=E.nF.QX(s.add.SoLd.nonAffineTransform);
if(s.add.TySh){C=j.X.Eu(s.qj.xu).s;j.X.h(C,s.add.TySh.h,C)}}this.OL=new hZ(C,!0);this.OL.LW(I,this.wY)}if(a.eQ){var T=null,d=null,R=!1;
if(I.ev()!=-1)T=I.R[I.ev()].OR();else T=new eZ(0,0,I.Q,I._);I.D.eQ={y1:[n],xQ:[]};var S=I.D.eQ.xQ,D=n.x+n.Q,o=n.y+n._,v=n.x+Math.floor(n.Q/2),g=n.y+Math.floor(n._/2);
if(k){var c=I.root.oJ(new kK(Math.floor(k.x),Math.floor(k.y)));if(c){d=j.X.aj(c.o.mQ(I));if(d._s(n)){R=(d.j1(n)||n.j1(d))&&!n.a$(d);
if(!R)d=null}}}this.auz(n,S);if(d!=null){I.D.eQ.y1.push(d);var e=d.x+d.Q,O=d.y+d._,U=d.x+Math.floor(d.Q/2),K=d.y+Math.floor(d._/2);
if(R){var _=v,Z=g;if(n.j1(d)){_=U;Z=K}S.push(n.x,Z,d.x,Z);S.push(D,Z,e,Z);S.push(_,n.y,_,d.y);S.push(_,o,_,O)}else{this.auz(d,S);
var H=o<d.y||O<n.y,G=D<d.x||e<n.x;if(D<d.x)S.push(D,g,d.x,g);if(e<n.x)S.push(e,g,n.x,g);if(o<d.y)S.push(v,o,v,d.y);
if(O<n.y)S.push(v,O,v,n.y);if(H&&!G){if(n.x<d.x)S.push(n.x,K,d.x,K);if(d.x<n.x)S.push(d.x,g,n.x,g)}}}else{if(n.y>T.y)S.push(v,T.y,v,n.y);
if(o<T.y+T._)S.push(v,o,v,T.y+T._);if(n.x>T.x)S.push(T.x,g,n.x,g);if(D<T.x+T.Q)S.push(D,g,T.x+T.Q,g)}I.Xi=!0}}if(this.q==2&&this.G4){var N=new eZ(0,0,I.Q,I._),z=I.ev();
if(z!=-1){var L=I.Ru(),p=L[1][this.T9];if(p==-1)p=z;N=I.R[p].OR()}var V=I.Fq[this.T9],r=V[0],y=(r==0?"X":"Y")+": "+j.wJ.qO(V[1]-(r==0?N.x:N.y),I.oE,this.wY,r==0?N.Q:N._,!0);
E.mu.DQ(Math.round(this.NZ.x)+10,Math.round(this.NZ.y)-10,[y],I);I.Xi=!0}if(this.q==3&&this.G4){var W=j.X.Eu(this.HI);
I.D.QS[this.id]={sV:W};I.Xi=!0}};E.R0.prototype.auz=function(I,k){var a=I.Q,n=I._,s=I.x+Math.floor(a*.2),C=I.y+Math.floor(n*.2);
k.push(s,I.y,s,I.y+n);k.push(I.x,C,I.x+a,C)};E.R0.prototype.es=function(I,k){var a={q:M.p.Zk,s3:I},n=new d2(M.E.b,!0);
n.data=a;k.a(n)};E.R0.prototype.jZ=function(I){var k=this.Bw.Ke()[0];if(k==this.Gy.length){var a=new d2(M.E.b,!0);
a.data={q:M.p.S7,Uy:"psd"};this.k3.a(a);return}var n=this.yM,s=this.Gy[k];this.ahG(n,s)};E.R0.prototype.gi=function(I){var k=JSON.parse(JSON.stringify(this.wY.M6));
k.NY=this.TV.Ke()[0];var a=new d2(M.E.b,!0);a.data={q:M.p.iv,CU:f9.nt,WM:k};this.k3.a(a)};E.R0.prototype.pC=function(I,k,a,n,s){if(this.G4)this.pE(I,k,a,n,s);
this.yM=I;this.wY=a;this.k3=k;var C=I.w.m_(s.x,s.y),T;if(E.R0.vt(a,s,I.w)){T=this.TV}else{if(this.Bw)this.Bw.removeEventListener("select",this.jZ);
var S=[];I.root.oJ(C,S);if(S.length==0)return;var D=[];this.Gy=S;for(var Y=0;Y<S.length;Y++)D.push({name:I.R[S[Y]].getName(),g6:Y==S.length-1});
D.push({name:[1,18],LC:!0});T=this.Bw=new io(D);T.O("select",this.jZ,this)}T.parent=k;T.k();T.update(I,a);
var o=new d2(M.E.b,!0);o.data={q:M.p.ut,zM:T,x:s.E1+2,y:s.uI+1};k.a(o)};E.R0.prototype.aom=function(I,k,a,n,s){var C=E.R0.Qm(I,s);
return C!=-1||E.R0.vt(a,s,I.w)};E.R0.Qm=function(I,k){if(I==null||I.add.artd==null)return-1;var a=I.w.m_(k.x,k.y),n=12*E.Y()/I.w.F;
for(var Y=0;Y<I.R.length;Y++){var s=I.R[Y];if(!s.K7()||s.add.artb==null)continue;var C=s.OR(),T=new eZ(C.x,C.y-1.7*n,n*s.getName().length*.5,n);
if(T.oi(a))return Y}return-1};E.R0.prototype.Vr=function(I,k,a,n,s){var C=E.R0.Qm(I,s),T=E.R0.aBh(I,I.w.m_(s.x,s.y));
if(C!=-1){I.T=[C];if(a.P$==E.Mt){var S=new d2(M.E.b);S.data={q:M.p.$g,S:E.PZ};k.a(S)}return}if(T!=-1){I.w.f4=T;
I.cd=!0;var S=new d2(M.E.b,!0);S.data={q:M.p.N7,aw:aX.Hg.a0n};k.a(S);return}this.NZ=s;this.JU.dZ(s.x,s.y);
this.x7=I.w.m_(s.x,s.y);this.oT=new g$(this.x7);this.jA(I,k,n,a,!0)};E.R0.vt=function(I,k,a,n){var s=j.wJ.I0,C=a.PJ._;
return I.yF&&(0<k.x&&k.x<s||0<k.y&&k.y<s||n&&0<k.x&&k.x<4*s&&C-s<k.y&&k.y<C)};E.R0.prototype.jA=function(I,k,a,n,s,C){var T,S=this.x7,D=!1;
if(s){var o=n.Q7&&n.M6.Fq;if(E.R0.vt(n,this.JU,I.w)){T=I.Ru();var v=I.Ru(),g=null;if(this.JU.x<j.wJ.I0){g=[0,S.x]}if(this.JU.y<j.wJ.I0){g=[1,S.y]}v[0].push(g);
v[1].push(I.ev(!0));I.U_(v);if(!o){var d=new d2(M.E.b);if(!n.M6.Fq){d.data={q:M.p.iv,CU:f9.WD};k.a(d)}if(!n.Q7){d.data={q:M.p.iv,CU:f9.Ux};
k.a(d)}o=!0}}var R=this.anY(I,S);if(o&&R!=null&&!I.fW){this.q=2;this.La=T?T:I.Ru();this.T9=R;this.G4=!0;
this.uJ=E.nF.GT(I);return}if(I.Ap.length!=0){this.q=4;this.uJ=I.TL[I.Ap[0]].rect.clone();this.G4=!0;
return}if(this.OL&&this.OL.Fx(S,I.w.F,!0,this.NZ)!=null){var d=new d2(M.E.b);d.data={q:M.p.$g,S:E.Yo,azA:!0};
k.a(d);return}if(I.f&&I.f.rect.oi(S)){var c=Math.round(S.x),e=Math.round(S.y),O=I.f.rect;D=I.f.channel[(e-O.y)*O.Q+c-O.x]>128}var U=this.J$.BE||ht==1;
if(!D&&(!this.JJ&&U||this.JJ&&U&&(a.W(as.bJ)||I.T.length<2))){var K=this.a2o(I,S,a);if(!K){I.T=[];I.L0=null;
I.q_=I.Sc=!0;this.q=3;this.HI=new eZ;this.G4=!0;return}}if(a.W(as.dE)&&!D){var _=new d2(M.E.r);_.S=E.xf;
_.data={q:X.T0,akL:!0};k.a(_)}}if(I.Ap.length!=0){this.q=4;this.uJ=I.TL[I.Ap[0]].rect.clone();this.G4=!0;
return}this.T9=I.X0(C==null,C,null,!0);for(var Y=0;Y<this.T9.length;Y++){var Z=this.T9[Y],H=I.R[Z];if(H.hY(2)||H.hY(31)||I.BY(Z)){alert(hJ.get([6,57,0]));
return}}if(I.add.artd&&s){var G=this.T9,N=!1;for(var Y=0;Y<G.length;Y++)if(I.R[G[Y]].add.artb)N=!0;if(!N){this.$y=[I,I.R.slice(0),I.T.slice(0),-1];
this.T9.sort(function(m,f){return m-f})}}this.Nk=E.R0.arm(I,this.T9);this.q=0;if(I.f&&(!s||D)&&I.T.length==1&&I.rb(!1)){if(!I.aEB()){this.G4=!1;
return}var z=I.R[I.T[0]],L=a.W(as.dE);this.q=1;var p=I.history[I.R3];if(p.S==this&&p.data.q==1&&p.data.o==I.T[0]&&z.YY==z.pO.YY&&!L){this.SM=p}else{var V=z.pO,r=!1,y;
if(!z.Mk(I,I.f)||L){r=!0;z.SL(I,I.f,L)}if(z.pO.YY<=0){y=j.U(z.pO.am.length>>2);j.Ez(z.pO.am,y,3)}else y=I.f.channel.slice(0);
var W={rect:z.pO.kE.clone(),channel:y};this.SM=new g7(L?[12,53]:[12,54],this);this.SM.data={q:1,o:I.T[0],pO:z.pO,_u:V,ea:r,Mr:I.f,iy:W,Jo:new kK(0,0)};
I.RB(this.SM);I.f=W;I.LQ=!0}}this.G4=!0;this.uJ=E.nF.GT(I)};E.R0.prototype.a2o=function(I,k,a){var n=I.root.oJ(new kK(Math.floor(k.x),Math.floor(k.y)));
if(n){if(n.o.add.vmsk)I.Xi=!0;var s=I.R.indexOf(n.o);if(this.J$.afe==0){var C=I.root.lR(s);while(C.parent&&C.parent.depth!=0&&C.parent.o.add.artb==null)C=C.parent;
s=C.index}if(a.W(as.bJ)){var T=I.T.indexOf(s);if(T==-1)I.T.push(s);else if(I.T.length>1)I.T.splice(T,1)}else if(I.T.indexOf(s)==-1){this.ahG(I,s)}}return n!=null};
E.R0.prototype.ahG=function(I,k){I.R[k].YY=0;I.T=[k];I.L0=null;I.fs();I.Me=!0;I.q_=!0};E.R0.aBh=function(I,k){var a=I.add.Anno;
if(a==null||a.length==0)return-1;var n=30/I.w.F;for(var Y=0;Y<a.length;Y++)if(new eZ(a[Y][0],a[Y][1],n,n).oi(k))return Y;
return-1};E.R0.prototype.Fr=function(I,k,a,n,s){this.NZ=s;var C=I.w.m_(s.x,s.y),R,c;if(this.oT&&this.q<2)C=this.oT.se(C,n);
if(!this.G4){if(a.Q7&&a.M6.Fq&&I&&!I.fW){var T=this.anY(I,C),S="default",D=E.R0.Qm(I,s);if(T!=null)S=["col-resize","row-resize"][I.Fq[T][0]];
else if(this.OL){var o=this.OL.Fx(C,I.w.F,null,s);if(o)S=o}else if(D!=-1||E.R0.aBh(I,C)!=-1){S="pointer"}this.es(S,k)}this.vB(I,C);
return}var v=this.x7,g=Math.round(C.x-v.x)-this.hG.x,d=Math.round(C.y-v.y)-this.hG.y;if(this.uJ){if(this.q==2){var e=[];
if(I.f)e.push(I.f.rect);if(this.uJ)e.push(this.uJ);if(I.w.uR)e.push(I.w.uR);C=E.R0.a5(I,C,a,[!1,e,!0,!0])}else{c=this.uJ.clone();
c.offset(this.hG.x+g,this.hG.y+d);R=E.R0.v3(I,c,a);var O=this.oT.atT(n);if(O==1){R[0]=0;R[2]=1e9}if(O==2){R[1]=0;
R[3]=1e9}g+=Math.round(R[0]);d+=Math.round(R[1])}}this.hG.x+=g;this.hG.y+=d;var U=this.$y;if(U&&I==U[0]){I._g(U[1]);
I.T=U[2].slice(0);U[3]=-1}this.Lf(I,g,d,C,null,n.W(as.bJ));if(U&&I==U[0]){var K=this.uJ.clone();K.offset(this.hG.x,this.hG.y);
var _=C,D=I.ev(),Z=-1;for(var Y=0;Y<I.R.length;Y++){var H=I.R[Y];if(!H.K7()||H.add.artb==null)continue;
var G=H.OR();if(G.oi(_))Z=Y}if(Z!=-1&&Z!=D){var N=E.c$.Cl(I,this.T9,Z,!0,null,!1);I._g(N[0]);I.T=N[1];
U[3]=Z}}this.vB(I,C);if(R)E.R0.bH(I,c,R)};E.R0.prototype.anY=function(I,k){var a=E.kY(I,this.NZ);k=[k.x,k.y];
var n=I.Ru(),s=I.ev();for(var Y=0;Y<n[0].length;Y++){var C=n[0][Y],T=n[1][Y];if(T!=-1&&T!=s)continue;
if(Math.abs(C[1]-k[C[0]])<a)return Y}return null};E.R0.prototype.Lf=function(I,k,a,n,s,C){if(this.q==0){if(s)E.R0.Ja(I,this.T9,this.Nk,s);
else E.R0.IL(I,this.T9,this.Nk,k,a)}else if(this.q==1){var T=this.SM.data;T.Jo.offset(k,a);E.R0.P0(I,T.o,k,a)}else if(this.q==2){var S=1e-5;
if(C)S=I.w.F<=1?10:1;var D=S*Math.round(n.x/S),o=S*Math.round(n.y/S),v=[D,o],g=I.Fq[this.T9];g[1]=v[g[0]]}else if(this.q==3){var d=this.x7,R=j.X.qP([d.x,d.y,n.x,n.y]);
this.HI=R;var c=[];I.root.Wc(R,c);if(JSON.stringify(I.T)!=JSON.stringify(c)){I.T=c;I.q_=I.Sc=!0}}else if(this.q==4){for(var Y=0;
Y<I.Ap.length;Y++)I.TL[I.Ap[Y]].rect.offset(k,a);I.Xi=!0}};E.R0.P0=function(I,k,a,n){var s=I.R[k];I.f.rect.offset(a,n);
s.V8(I,a,n,I.f);I.LQ=!0;I.V()};E.R0.prototype.pE=function(I,k,a,n,s,C){this.Aw(I,s,a);this.vB(I);if(Date.now()-this.SQ<300&&!C){var T=E.S4.e0(I,I.w.m_(s.x,s.y));
if(E.R0.vt(a,s,I.w,!0)){var S=new d2(M.E.b);if(s.y>I.w.PJ._-20){S.data={q:M.p.Fu,aw:"doczoom",P6:I.w.F*100,mU:{K:M.E.r,S:E.VX,v:{q:"pzoom"}}}}else{S.data={q:M.p.Fu,aw:"preferences"}}k.a(S)}else if(T>=0){var D=new d2(M.E.r,!0);
D.S=E.N$;D.data={q:"editCurr",qb:T};k.a(D)}}this.SQ=Date.now();E.Zo.Hi(I)};E.R0.prototype.Aw=function(I,k,a,n,s){if(!this.G4)return;
this.G4=!1;if(this.q==0){if(n){this.a90(I,null,n,s)}else{if(this.hG.x==0&&this.hG.y==0)return;this.a90(I,this.hG.clone())}I.cd=!0}else if(this.q==2){var C=0;
k=[k.x,k.y];var T=this.T9,S=I.Fq[T],hE=this.La[0].length,D=I.Fq.length;if(a.yF&&k[S[0]]<j.wJ.I0){var o=I.Ru();
o[0].splice(T,1);o[1].splice(T,1);I.U_(o);C=1;if(hE==D-1)return}if(hE<D)C=2;var v=new g7([[23,2],[23,3],[23,4]][C],this);
v.data={q:2,La:this.La,qJ:I.Ru()};I.RB(v)}else if(this.q==4){var v=new g7([12,54],this);v.data={q:4,T:I.Ap.slice(0),i:this.hG.clone()};
I.RB(v)}this.hG.dZ(0,0)};E.R0.prototype.Bf=function(I,k,a,n){var s=n.m4(I?I.w.AE:0);if(I!=null&&(s.x!=0||s.y!=0)){if(n.W(as.dE)&&I.f==null){var C=new d2(M.E.r);
C.S=E.xf;C.data={q:X.T0,akL:!0};k.a(C)}this.hG.dZ(s.x,s.y);this.jA(I,k,n,a,!1);if(!this.G4)return;this.Lf(I,s.x,s.y);
this.Aw(I,null,a);this.vB(I)}var T=n.W(as.nU);if(!this.JJ&&this.azF!=T){if(T){this.alm=this.J$.BE;this.J$.BE=!0}else{this.J$.BE=this.alm}this.azF=T;
var S=new d2(M.E.b,!0);S.data={q:M.p.at,S:this.id,sw:this.J$};k.a(S)}};E.R0.prototype.PP=function(I,k){if(I.q==0){var a=I.lN;
if(a){k._g(a.OZ);k.T=a.gM.slice(0);k.V();k.q_=!0}E.R0.Ja(k,I.T,I.wG,I.aE,!0);E.Zo.Hi(k)}else if(I.q=="fcmy"||I.q=="fvec"){if(I.P6==0)delete k.add[I.q];
else k.add[I.q]=I.P6;k.Xi=!0}else if(I.q=="pview"){k.ym=!k.ym;k.V()}else if(I.q==2){k.U_(I.La);k.Xi=!0}else if(I.q==4){for(var Y=0;
Y<I.T.length;Y++)k.TL[I.T[Y]].rect.offset(-I.i.x,-I.i.y);k.Xi=!0}else{var n=k.R[I.o];if(I.ea){n.Ib(k,I._u);
k.f=I.Mr;k.LQ=!0;k.V();n.V()}else{E.R0.P0(k,I.o,-I.Jo.x,-I.Jo.y)}}};E.R0.prototype.KY=function(I,k){if(I.q==0){E.R0.Ja(k,I.T,I.wG,I.aE);
var a=I.lN;if(a){k._g(a.xj);k.T=a.dT.slice(0);k.V();k.q_=!0}E.Zo.Hi(k)}else if(I.q=="fcmy"||I.q=="fvec"){if(I.WM==0)delete k.add[I.q];
else k.add[I.q]=I.WM;k.Xi=!0}else if(I.q=="pview"){k.ym=!k.ym;k.V()}else if(I.q==2){k.U_(I.qJ);k.Xi=!0}else if(I.q==4){for(var Y=0;
Y<I.T.length;Y++)k.TL[I.T[Y]].rect.offset(I.i.x,I.i.y);k.Xi=!0}else{var n=k.R[I.o];if(I.ea){n.pO=I.pO;
k.f=I.iy;E.R0.P0(k,I.o,0,0);n.V()}else{E.R0.P0(k,I.o,I.Jo.x,I.Jo.y)}}};E.R0.prototype.a90=function(I,k,a,n){if(a){var s=!0;
for(var Y=0;Y<a.length;Y++)if(a[Y]!=0)s=!1;if(s)return}var C=I.history[I.R3],T=this.$y,S=T!=null&&T[3]!=-1&&T[0]==I;
if(!S&&a==null&&C.data&&C.S==this&&C.data.q==0&&JSON.stringify(C.data.T)==JSON.stringify(this.T9)&&JSON.stringify(C.data.wG)==JSON.stringify(this.Nk)){var D=C.data.aE,o=C.data.ag2.zf.T.v;
o.Hrzn.v.val+=k.x;o.Vrtc.v.val+=k.y;for(var Y=0;Y<D.length;Y+=2){D[Y]+=k.x;D[Y+1]+=k.y}}else{if(k==null)k=new kK(a[0],a[1]);
var v={pi:"move",zf:{classID:"null",null:hW.Pg("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:k.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:k.y}}}}}},g=null;
if(S)g={OZ:T[1],gM:T[2],xj:I.R.slice(0),dT:I.T.slice(0)};this.$y=null;var d=new g7(n?n:[12,54],this);
if(a)d.data={q:0,T:this.T9,wG:this.Nk,lN:g,aE:a};else d.data={q:0,T:this.T9,wG:this.Nk,lN:g,aE:E.R0.a67(this.T9,k.x,k.y)};
d.data.ag2=v;I.RB(d);this.track(v)}};E.R0.a67=function(I,k,a){var n=[];for(var Y=0;Y<I.length;Y++)n.push(k,a);
return n};E.R0.IL=function(I,k,a,n,s){E.R0.Ja(I,k,a,E.R0.a67(k,n,s))};E.R0.Ja=function(I,k,a,n,s){if(k.length==0)return;
if(a==null){a=[];for(var Y=0;Y<k.length;Y++){a.push(I.R[k[Y]].Jf(I,!0))}}var C=new eZ,T=new eZ(0,0,I.Q,I._);
for(var Y=0;Y<k.length;Y++){var S=n[2*Y],D=n[2*Y+1];if(s){S=-S;D=-D}var o=I.R[k[Y]],v=a[Y];if(o.add.fxrp&&(v.indexOf(0)!=-1||o.wc()))o.add.fxrp.offset(S,D);
for(var g=0;g<v.length;g++){var d=v[g];if(d==0){o.rect.offset(S,D);if(o.st()&&o.kx(I))o.kx(I).rect.offset(S,D);
if(o.add.artb){var R=o.OR();R.offset(S,D);o.IA(R);var c=o.add.artb.guideIndeces;c=c?c.v:[];for(var e=0;
e<c.length;e++){var O=I.Fq[c[e].v];O[1]+=O[0]==0?S:D}}if(o.add.TySh){o.add.TySh.h.translate(S,D);if(o.add.TySh.add){o.add.TySh.add.vmsk.offset(S,D)}}if(o.add.SoLd){var U=new dc(1,0,0,1,S,D),K=o.add.SoLd,_=E.nF.QX(K.Trnf),Z=E.nF.QX(K.nonAffineTransform);
j.X.h(_,U,_);j.X.h(Z,U,Z);K.Trnf=E.nF.D1(_);K.nonAffineTransform=E.nF.D1(Z);E.nF.a8_(K,U)}}if(d==1)o.IO().rect.offset(S,D);
if(d==2){o.add.vmsk.offset(S,D);if(o.add.vogk)j.Z_.h(o.add.vogk,[1,0,S,0,1,D,0,0],[]);if(o.qj.TX){var H=o.qj.TX.RK.s;
j.X.h(H,new dc(1,0,0,1,S,D),H)}}if(d==3){o.kx(I).u.rect.offset(S,D);if(v.length==1)o.V()}}if(v.length>0){var G=o.add.GdFl;
if(G==null)G=o.add.PtFl;if(o.wc()&&!o.AY()&&o.add.vmsk!=null&&j.n.i7(o.add.vmsk.d)&&o.add.vmsk.Au==255&&(G==null||G.Algn&&G.Algn.v)){o.rect.offset(S,D)}else o.Wr(I);
var N=I.root.U5(o.mQ(I),I,k[Y]);if(o.add.artb)N=N.oL(o.OR());C=C.oL(N);N.offset(-S,-D);C=C.oL(N);if(o.IM()&&o.u&&o.u.color==255)C=C.oL(T);
o.a5t()}}I.V(j.X.aj(C))};E.R0.arm=function(I,k){var a=[];for(var Y=0;Y<k.length;Y++){var n=I.R[k[Y]];
a.push(n.Jf(I))}return a};E.R0.bH=function(I,k,a){var n={s:[],m:[]},s=k.x+a[0],C=k.y+a[1];if(a[2]!=1e9){n.m.push("M","L");
var T=C+k._;if(a[4])n.s.push(a[2],Math.min(C,T,a[4][1]),a[2],Math.max(C,T,a[4][1]));else n.s.push(a[2],C,a[2],C+k._)}if(a[3]!=1e9){n.m.push("M","L");
var S=s+k.Q;if(a[5])n.s.push(Math.min(s,S,a[5][0]),a[3],Math.max(s,S,a[5][0]),a[3]);else n.s.push(s,a[3],S,a[3])}if(n.s.length!=0){I.D.PT=n;
I.Xi=!0}};E.R0.a5=function(I,k,a,n){var s=E.R0.a7E(I,[[k.x],[k.y]],a,n);return new kK(k.x+s[0],k.y+s[1])};
E.R0.v3=function(I,k,a,n,s){var C=s==!0?1:.5,T=E.R0.a7E(I,[[k.x,k.x+Math.round(k.Q*C),k.x+k.Q],[k.y,k.y+Math.round(k._*C),k.y+k._]],a,n);
return T};E.R0.a7E=function(I,k,a,n){if(n==null)n=[!0,null,!0];var s=[0,0,1e9,1e9,null,null];if(!a.Rl)return s;
var C=JSON.parse(JSON.stringify(k));for(var T=0;T<2;T++){var S=1e9,D=k[T],o=0,v=null;for(var g=0;g<D.length;
g++){var d=E.R0.arp(I,D[g],C[1-T][g],T,a,n),R=d[0];if(R!=1e9)C[T][g]=R;if(R!=1e9&&Math.abs(R-D[g])<Math.abs(S)){S=R-D[g];
o=R;v=d[1]}}if(S!=1e9){s[T]=S;s[T+2]=o;s[T+4]=v}}return s};E.R0.arp=function(I,k,a,n,s,C){var T=1e9,S=null,D=s.n1,o=s.M6,v=[I.root];
while(v.length!=0&&D[2]){var g=v.pop(),d=g.o,R=d.rect;if(!d.K7())continue;if(g.children)for(var Y=0;
Y<g.children.length;Y++)v.push(g.children[Y]);if(I.T.indexOf(g.index)!=-1||R.KH())continue;var c=R.Q,e=c>>>1,O=R._,U=O>>>1,K=T;
if(n==0){if(Math.abs(R.x-k)<Math.abs(T-k))T=R.x;if(Math.abs(R.x+e-k)<Math.abs(T-k))T=R.x+e;if(Math.abs(R.x+c-k)<Math.abs(T-k))T=R.x+c}else{if(Math.abs(R.y-k)<Math.abs(T-k))T=R.y;
if(Math.abs(R.y+U-k)<Math.abs(T-k))T=R.y+U;if(Math.abs(R.y+O-k)<Math.abs(T-k))T=R.y+O}if(K!=T){S=[R.x+e,R.y+U]}}var _=T;
T=1e9;if(C[0]&&D[0]&&o.Fq&&s.Q7){var Z=I.Ru(),H=Z[0],G=Z[1],N=I.ev();for(var Y=0;Y<H.length;Y++)if((G[Y]==-1||G[Y]==N)&&H[Y][0]==n&&Math.abs(H[Y][1]-k)<Math.abs(T-k))T=H[Y][1]}if(D[1]&&o.kG&&s.Q7){var z=Math.round(j.wJ.Z8(o.AX,I.oE,I.Q,o.L9));
if(n==1&&o.Ts==1){var L=a*.5*Math.sqrt(4/3),p;z*=Math.sqrt(4/3);p=Math.round((k-L)/z)*z+L;if(Math.abs(p-k)<Math.abs(T-k))T=p;
p=Math.round((k+L)/z)*z-L;if(Math.abs(p-k)<Math.abs(T-k))T=p}else{var p=Math.round(k/z)*z;if(Math.abs(p-k)<Math.abs(T-k))T=p}}var V=I.IZ;
if(D[3]&&o.IZ&&s.Q7&&V.length!=0){for(var Y=0;Y<V.length;Y++){if(!C[2]&&I.Fl.indexOf(Y)!=-1)continue;
var r=E.xG.mj(V,Y);for(var y=0;y<3;y+=2)if(r[y+n]!=k&&Math.abs(r[y+n]-k)<Math.abs(T-k))T=r[y+n]}}if(C[1])for(var W=0;
W<C[1].length;W++){var R=C[1][W],c=R.Q,O=R._,e=c>>>1,U=O>>>1;if(C[3]){e=c/2;U=O/2}var m=[R.x,R.y,R.x+e,R.y+U,R.x+c,R.y+O];
for(var Y=0;Y<6;Y+=2)if(Math.abs(m[Y+n]-k)<Math.abs(T-k))T=m[Y+n]}if(D[4]){var R=new eZ(0,0,I.Q,I._),N=I.ev();
if(N!=-1)R=I.R[N].OR();var c=R.Q,O=R._,e=c>>>1,U=O>>>1;if(C[3]){e=c/2;U=O/2}var m=[R.x,R.y,R.x+e,R.y+U,R.x+c,R.y+O];
for(var Y=0;Y<6;Y+=2)if(Math.abs(m[Y+n]-k)<Math.abs(T-k))T=m[Y+n]}if(Math.abs(T-k)<=Math.abs(_-k))S=null;
else T=_;var f=Math.abs(T-k)<=4*E.Y()/I.w.F?T:1e9;return[f,S]};E.h$=function(){E.BN.call(this,[10,12],E.E9,"tools/mwand");
this.BT=null};E.h$.prototype=new E.BN;E.h$.prototype.e_=function(I,k,a,n){this.BT=n;this.agX=this.J$.wconf[0];
this.finish(I,k,a,n)};E.h$.prototype.vC=function(I,k,a,n,s){if(!n.ZT)return;var C=new d2(M.E.r);C.S=E.ca;
C.data={q:"h_stepbck"};s.a(C);var T=n.x-this.BT.x,S=Math.max(0,Math.min(255,Math.round(this.agX+T/4)));
this.J$.wconf[0]=S;this.vO(s);this.finish(I,k,a,this.BT)};E.h$.prototype.RG=function(I,k,a,n,s){this.J$.wconf[0]=this.agX;
this.vO(s)};E.h$.prototype.getSelection=function(I,k,a,n){var s=this.gc;s=I.w.m_(n.x,n.y);var C=E.BN.asw(new kK(Math.floor(s.x),Math.floor(s.y)),this.J$.wconf,this.J$.sall);
return C};E.h$.a3G=function(I,k,a,n,s){if(k.x<0||k.x>I.Q||k.y<0||k.y>I._)return null;var C,T=new eZ(0,0,I.Q,I._);
if(n)C=I.TB();else{var S=I.T.length,o=null;if(S!=1){alert(S==0?"No layer selected.":"More than one layer selected.");
return null}var D=I.R[I.T[0]],v=D.YY<=0?null:D.YY==1?D.IO():D.kx(I).u;if(s||v&&v.zh)o=v;if(o==null&&D.add.lsct!=null&&D.add.lsct!=gA.M8){alert("No layer selected.");
return null}if(o==null&&T.a$(D.rect))C=D.buffer;else{C=j.U(T.c()*4);if(o==null)j.ao(D.buffer,D.rect,C,T);
else E.dX.it(o.channel,o.rect,o.color,C,T)}}var g=E.h$.FO(C,T,k,null,a),d=j.PD(g,T),R=j.U(d.c());j.O0(g,T,R,d);
return{rect:d,channel:R}};E.h$.Ag=function(I,k,a){var n=k.Q,s=k._,T=0,S=0,D=0,o=0;I=new Uint32Array(I.buffer);
var C=[],v=a.length;for(var Y=0;Y<v;Y++){var g=a[Y],d=Math.round(g.x-.5-k.x),R=Math.round(g.y-.5-k.y);
d=Math.max(0,Math.min(n-1,d));R=Math.max(0,Math.min(s-1,R));var c=R*n+d,e=I[c];C.push([e&255,e>>8&255,e>>16&255,e>>>24])}return C};
E.h$.FO=function(I,k,a,n,s){I=new Uint32Array(I.buffer);var C=k.Q,T=k._,S=C*T;if(n==null)n=E.h$.Ag(I,k,[a]);
var D=Math.round(a.x-.5-k.x),o=Math.round(a.y-.5-k.y),v=o*C+D,g=Date.now(),d=j.U(C*T),R=s[0],c=1/R,e=s[1]&&R>0?255:0;
if(s[2]){var O=j.U(d.length),U=new Uint32Array(S),K=1;U[0]=D<<16|o;O[v]=1;while(K>0){var _=U[K-1];K--;
var Z=_>>>16,H=_&65535,Y=H*C+Z,G=E.h$.PU(I[Y],n);if(G>R){var N=e*(1-Math.max(0,Math.min(1,(G-R)*c)));
d[Y]=~~N}else{d[Y]=255;if(H!=T-1&&O[Y+C]==0){U[K++]=Z<<16|H+1;O[Y+C]=1}if(H!=0&&O[Y-C]==0){U[K++]=Z<<16|H-1;
O[Y-C]=1}if(Z!=C-1&&O[Y+1]==0){U[K++]=Z+1<<16|H;O[Y+1]=1}if(Z!=0&&O[Y-1]==0){U[K++]=Z-1<<16|H;O[Y-1]=1}}}}else{for(var Y=0;
Y<S;Y++){var G=E.h$.PU(I[Y],n);if(G<=R)d[Y]=255}for(var H=0;H<T;H++)for(var Z=0;Z<C;Z++){var Y=H*C+Z;
if(d[Y]==0&&(Z>0&&(d[Y-1]==255||H>0&&d[Y-C-1]==255||H<T-1&&d[Y+C-1]==255)||Z<C-1&&(d[Y+1]==255||H>0&&d[Y-C+1]==255||H<T-1&&d[Y+C+1]==255)||H>0&&d[Y-C]==255||H<T-1&&d[Y+C]==255)){var G=E.h$.PU(I[Y],n),N=e*(1-Math.max(0,Math.min(1,(G-R)*c)));
d[Y]=~~N}}}return d};E.h$.PU=function(I,k){var a=k.length,n=E.h$.ajw(I,k[0]),Y=1;while(Y!=a){n=Math.min(n,E.h$.ajw(I,k[Y]));
Y++}return n};E.h$.ajw=function(I,k){var a=I&255,n=I>>>8&255,s=I>>>16&255,C=I>>>24&255;if(k[3]==0)return C<5?0:255;
var T=Math.max(Math.abs(a-k[0]),Math.max(Math.abs(n-k[1]),Math.abs(s-k[2])));return C==0?255:T};E.hE=function(I,k){if(k)E.dX.call(this);
else if(I)E.dX.call(this,[10,49],E.WT,"tools/camove");else E.dX.call(this,[10,26],E.t$,"tools/patch");
this.k0=null;this.TX=null;this.i=null;this.Of=null;this.Yw=new kK;this.Mg=null;this.gA=null};E.hE.prototype=new E.dX;
E.hE.prototype.Vr=function(I,k,a,n,s){var C=I.w.m_(s.x,s.y);if(I.f&&j.oJ(C,I.f.channel,I.f.rect)){var T=new eZ(0,0,I.Q,I._),S=T.LU(I.f.rect);
if(!I.rb()||S.KH())return;if(!0){var D=j.U(S.c());j.O0(I.f.channel,I.f.rect,D,S);I.f={channel:D,rect:S}}this.Ca(I);
this.ls(I);this.Of=C;this.Yw=new kK(C.x-I.f.rect.x,C.y-I.f.rect.y);this.gA=j.U(I.f.rect.c()*4);this.gA.fill(255);
if(this.J$.patch==1){var o=I.R[I.T[0]];o.SL(I,I.f,!0);if(o.pO==null)this.Of=null}this.Mg=I.f.rect.clone()}else{this.TX={s:[C.x,C.y],m:["M"]};
this.k0=C}};E.hE.prototype.Fr=function(I,k,a,n,s){var C=I.w.m_(s.x,s.y);if(this.Of){if(this.J$.patch==1){if(I.Ap.length==0){var T=I.R[I.T[0]].pO,S=C.x-this.Yw.x,D=C.y-this.Yw.y;
E.R0.P0(I,I.T[0],Math.round(S-T.kE.x),Math.round(D-T.kE.y))}}else this.afx(I,C,"clone")}if(this.k0){this.TX.m.push("L");
this.TX.s.push(C.x,C.y);this.k0=C;I.D.sV=this.TX;I.Xi=!0}};E.hE.prototype.pE=function(I,k,a,n,s){var C=I.w.m_(s.x,s.y);
if(this.Of){var T=I.f.rect.clone();if(this.id==E.WT){var S=I.R[I.T[0]];S.Ib(I,S.pO);I.f.rect=this.Mg.clone();
var D=j.U(I.f.rect.c()*4);j.yv(I.f.channel,D,3);this.aQ(I,"sheal",D,I.f.rect,I.f.rect);I.f.rect=T;T=T.oL(this.Mg)}this.afx(I,C,"heal");
this.finish(I,T,null,null,!0);I.V(T);this.Of=null}if(this.k0){var o=E.BN.yP(this.J$.setop,n.W(as.bJ),n.W(as.dE)),v=new d2(M.E.rd,!0);
if(this.TX.s.length<=4)v.data=E.BN.dS();else v.data=E.BN.vL(this.TX.s,o);k.a(v);this.k0=null;I.D.sV=null;
I.Xi=!0}};E.hE.prototype.PS=function(){return this.i};E.hE.prototype.Un=function(I,k,a,n,s){E.dX.prototype.Un.call(this,I,k,a,n,s);
this.es(s,n)};E.hE.prototype.es=function(I,k){var a="auto;";if(k!=null&&k.W(as.bJ)&&!k.W(as.dE)||this.J$.setop=="union")a="copy";
var n=new d2(M.E.b,!0);n.data={q:M.p.Zk,s3:a};if(this.caller)this.caller.a(n)};E.hE.prototype.afx=function(I,k,a){var n=new kK(Math.round(this.Of.x-k.x),Math.round(this.Of.y-k.y));
if(this.J$.patch==1)n.dZ(-n.x,-n.y);this.i=n;this.aQ(I,a,this.gA,I.f.rect,I.f.rect);this.V(I,I.f.rect)};
E.ahN=function(){E.hE.call(this,!0);this.J$.patch=1};E.ahN.prototype=new E.hE(!0,!0);E.If=function(I){if(I)E.dX.call(this,[10,52],E.a9R,"tools/meraser");
else E.dX.call(this,[10,13],E.ady,"tools/pbucket");this.EH=!1;this.aDW=I};E.If.prototype=new E.dX;E.If.prototype.enable=function(I,k,a,n){var s=new d2(M.E.b,!0);
s.data={q:M.p.Zk,s3:"default"};k.a(s)};E.If.prototype.wu=function(I,k){};E.If.prototype.Vr=function(I,k,a,n,s){if(this.a7(I,k,a,n,s,!0))return;
this.EH=!0};E.If.prototype.Fr=function(I,k,a,n,s){if(this.a7(I,k,a,n,s))return};E.If.prototype.pE=function(I,k,a,n,s,C){this.enable(I,k,a,n);
var T=this.EH;this.EH=!1;if(!T||C)return;if(!I.rb())return;var S=I.w.m_(s.x,s.y),D=E.h$.a3G(I,S,this.J$.wconf,this.J$.sall,!0);
if(D==null)return;var o=j.U(D.rect.c()*4);j.IP(o,(a.MW&255)<<16|(a.MW>>8&255)<<8|(a.MW>>16&255)<<0);
j.yv(D.channel,o,3);this.Ca(I);this.aQ(I,this.aDW?"erase":"draw",o,D.rect,D.rect);this.V(I,D.rect);this.finish(I,D.rect)};
E.y3=function(){E.BN.call(this,[10,14],E.a9A,"tools/plasso");this.ht="crosshair";this.Y3=[];this.iX=null;
this.TX=null;this.adF=0};E.y3.prototype=new E.BN;E.y3.prototype.disable=function(I,k,a,n){this.fF(I)};
E.y3.prototype.e_=function(I,k,a,n){this.Y3=[as.Zf,as.QE]};E.y3.prototype.rI=function(I){return this.Y3.indexOf(I)!=-1};
E.y3.prototype.zJ=function(I){return this.TX!=null};E.y3.prototype.PO=function(){return this.TX!=null};
E.y3.prototype.UC=function(){return this.TX!=null};E.y3.prototype.vC=function(I,k,a,n){if(this.TX==null)return;
var s=this.TX,C=s.s,T=C.length-2,S=this.gc;if(this.$H.VA(1)&&a.W(as.dE)&&n.ZT){C.push(0,0);s.m.push("L");
T+=2}else if(a.W(as.bJ))S=E.hJ.Gi(new kK(C[T-2],C[T-1]),S);C[T]=S.x;C[T+1]=S.y;I.D.sV=s;I.Xi=!0};E.y3.prototype.RG=function(I,k,a,n){var s=Date.now();
if(this.TX==null)this.TX={s:[this.gc.x,this.gc.y,this.gc.x,this.gc.y],m:["M","L"]};else{this.vC(I,k,a,n);
if(s-this.adF<250||kK.f0(this.gc,new kK(this.TX.s[0],this.TX.s[1]))<E.kY(I,n)){this.iX=this.TX;this.finish(I,k,a,n);
this.fF(I);return}this.TX.m.push("L");this.TX.s.push(this.gc.x,this.gc.y)}this.adF=s;I.D.sV=this.TX};
E.y3.prototype.fF=function(I){this.TX=null;this.Y3=[];if(I!=null){I.D.sV=null;I.Xi=!0}};E.y3.prototype.Bf=function(I,k,a,n){E.BN.prototype.Bf.call(this,I,k,a,n);
if(n.W(as._a)&&this.TX==null&&this.iX&&I.f!=null){var s=new d2(M.E.r);s.S=E.ca;s.data={q:"h_stepbck"};
k.a(s);this.e_(I,a,n,null);this.TX=this.iX;return}if(this.TX==null)return;if(n.W(as.Zf)||n.W(as.QE)){this.TX.s.pop();
this.TX.s.pop();this.TX.m.pop();this.vC(I,a,n)}if(n.W(as.da)){if(this.TX.s.length>4){this.iX=this.TX;
this.finish(I,a,n)}this.TX=null}if(n.W(as._a)){this.TX=null}I.D.sV=this.TX;I.Xi=!0};E.y3.prototype.getSelection=function(I,k,a,n){return E.BN.vL(this.TX.s,null,this.J$.anta)};
E.jX=function(){E.BN.call(this,[10,10],E.aCE,"tools/mlasso");this.ht="crosshair";this.Y3=[];this.d=[];
this.IR=[];this.Mn=[];this.Dy=null;this.ld=null;this.pP=null;this.SQ=0;this.$C=0};E.jX.prototype=new E.BN;
E.jX.prototype.disable=function(I,k,a,n){this.clear(I)};E.jX.prototype.zJ=function(I){return this.d.length!=0};
E.jX.prototype.UC=function(){return this.d.length!=0};E.jX.prototype.rI=function(I){return this.Y3.indexOf(I)!=-1};
E.jX.prototype.e_=function(I,k,a,n){this.Y3=[as.Zf,as.QE];var s=this.UP(this.k7,I);if(this.d.length!=0&&(kK.f0(s,this.d[0])<E.kY(I,n)||Date.now()-this.SQ<300)){this.dK(I,this.d[0]);
this.finish(I,k,a);this.clear(I);return}this.SQ=Date.now();if(this.d.length!=0)s=this.v7(s,I);else{var C=I.Q,T=I._,S=j.U(C*T),D=I.TB(),o=C*T*4;
for(var Y=0;Y<o;Y+=4)S[Y>>>2]=~~(.5+j.RL(D[Y],D[Y+1],D[Y+2])*(D[Y+3]*(1/255)));this.Dy=j.tm.aEo(S,C,T);
this.pP=new Uint16Array(S.length)}this.dK(I,s);this.$C=a.W(as.dE)?1:0;this.LI(I)};E.jX.prototype.dK=function(I,k){var a=this.d;
this.IR[a.length]=this.Mn.length;if(a.length!=0){j.tm.Rh(this.ld,k.y*I.Q+k.x);var n=this.sa(I,k);n.reverse();
var s=E.jX.awj(I,n);this.Mn=this.Mn.concat(s)}a.push(k);this.a5h(I)};E.jX.prototype.a5h=function(I){var k=this.d[this.d.length-1],a=k.y*I.Q+k.x;
this.ld=j.tm.a03(this.Dy.kO,this.Dy.El,a);this.pP.fill(0)};E.jX.prototype.UP=function(I,k){return new kK(Math.floor(Math.max(0,Math.min(k.Q-1,I.x))),Math.floor(Math.max(0,Math.min(k._-1,I.y))))};
E.jX.prototype.clear=function(I){this.Mn=[];this.d=[];this.IR=[];this.Dy=null;this.ld=null;this.pP=null;
if(I!=null){I.D.sV=null;I.D.t6=[];I.Xi=!0}this.Y3=[]};E.jX.prototype.vC=function(I,k,a,n){var s=this.d,C=s.length;
if(C==0)return;var T=this.v7(this.UP(this.gc,I),I),S=this.sa(I,T);for(var Y=0;Y<S.length;Y++){var D=S[Y],o=new kK(D%I.Q,Math.floor(D/I.Q));
if(this.pP[D]>30&&kK.f0(o,s[C-1])>20){this.dK(I,o);return}this.pP[D]++}if(this.$C==1&&n.ZT)this.dK(I,T);
this.LI(I)};E.jX.prototype.LI=function(I){var k=this.d;if(k.length!=0){var a=this.v7(this.UP(this.gc,I),I),n=this.sa(I,a);
n.reverse();var s=E.jX.awj(I,n),C=this.Mn.concat(s),T=I.D.sV={s:C,m:["M"]};for(var Y=2;Y<C.length;Y+=2)T.m.push("L")}I.D.t6=[];
for(var Y=0;Y<k.length;Y++)I.D.t6.push(k[Y].x+.5,k[Y].y+.5);I.Xi=!0};E.jX.prototype.RG=function(I,k,a,n){};
E.jX.prototype.Bf=function(I,k,a,n){if(this.d.length==0)return;if(n.W(as.Zf)||n.W(as.QE)){this.d.pop();
this.Mn=this.Mn.slice(0,this.IR[this.d.length]);this.IR.pop();if(this.d.length==0)this.clear(I);else this.a5h(I);
this.LI(I)}if(n.W(as.da)){var s=this.UP(this.gc,I);this.dK(I,s);this.finish(I,a,n);this.clear(I)}if(n.W(as._a)){this.clear(I)}};
E.jX.prototype.getSelection=function(I,k,a,n){return E.BN.vL(this.Mn,null,this.J$.anta)};E.jX.prototype.sa=function(I,k){var a=this.d[this.d.length-1],n=a.y*I.Q+a.x,s=k.y*I.Q+k.x;
if(this.$C==1)return[s,n];var C=[s];while(s!=n){s=this.ld.FU[s];C.push(s);if(C.length>5e3){console.log(C);
throw"e"}}return C};E.jX.awj=function(I,k){var a=[],n=I.Q;for(var Y=0;Y<k.length;Y++){var s=k[Y];a.push(s%n+.5,Math.floor(s/n)+.5)}return a};
E.jX.prototype.v7=function(I,k){var a=k.Q,n=k._,s=I.clone(),T=3;j.tm.Rh(this.ld,I.y*a+I.x);var C=this.ld.Az[I.y*a+I.x];
for(var S=-T+1;S<T;S++)for(var D=-T+1;D<T;D++){var o=I.x+D,v=I.y+S;if(o<0||o>=a||v<0||v>=n)continue;
j.tm.Rh(this.ld,v*a+o);if(this.ld.Az[v*a+o]<C)s.dZ(o,v)}return s};E.xx=function(){E.mu.call(this,[10,36],E.jt,"tools/ruler");
this.Ma=null;this.V4=null;this.EJ=null;this.xs=null;this.gY=null};E.xx.prototype=new E.mu;E.xx.prototype.zJ=function(I){return I.ZT};
E.xx.prototype.enable=function(I,k,a,n){E.mu.prototype.enable.call(this,I,k,n,a);if(I)this.vB(I)};E.xx.prototype.disable=function(I,k,a,n){if(I)this.fF(I)};
E.xx.prototype.CP=function(I,k,a,n,s){this.Ma=this.EJ=null;this.vB(a)};E.xx.prototype.Vr=function(I,k,a,n,s){var C=E.kY(I,s),T=I.w.m_(s.x,s.y);
T.x=Math.round(T.x);T.y=Math.round(T.y);var S=this.Ma;this.V4=S?S.slice(0):null;var D=S&&kK.f0(T,S[0])<C,o=S&&kK.f0(T,S[1])<C,v=S&&S[2]&&kK.f0(T,S[2])<C;
if(D||o||v){if(n.W(as.dE)&&S.length==2){if(o){var g=S[0];S[0]=S[1];S[1]=g}S[2]=S[0].clone();this.EJ=[2]}else this.EJ=[D?0:o?1:2]}else if(S&&E.xx.a6K(S[0],S[1],T)<C&&Math.min(S[0].x,S[1].x)-5<=T.x&&T.x<=Math.max(S[0].x,S[1].x)+5&&Math.min(S[0].y,S[1].y)-5<=T.y&&T.y<=Math.max(S[0].y,S[1].y)+5){this.EJ=[];
this.gY=[];for(var Y=0;Y<S.length;Y++){this.EJ.push(Y);this.gY.push(S[Y].clone())}this.xs=T}else{this.Ma=[T.clone(),T.clone()];
this.EJ=[1]}};E.xx.prototype.Fr=function(I,k,a,n,s){if(this.EJ==null)return;var C=this.Ma,T=this.EJ,S=I.w.m_(s.x,s.y);
S.x=Math.round(S.x);S.y=Math.round(S.y);if(T.length>1){var D=S.x-this.xs.x,o=S.y-this.xs.y;for(var Y=0;
Y<C.length;Y++){C[Y]=this.gY[Y].clone();C[Y].offset(D,o)}}else{C[T[0]].dZ(S.x,S.y);if(n.W(as.bJ)){C[T[0]]=E.hJ.Gi(C[1-T[0]],C[T[0]])}}this.vB(I);
this.OS(k,M.E.b,{q:M.p.at,S:this.id,azV:C[0],A3:C[1],jI:C[2],oE:I.oE,ap8:I.Q});I.w.uR=j.X.qP([C[0].x,C[0].y,C[1].x,C[1].y]);
console.log(I.w.uR)};E.xx.prototype.pE=function(I,k,a,n,s,C){this.EJ=null;if(C){this.Ma=this.V4.slice(0);
this.vB(I)}};E.xx.prototype.OS=function(I,k,a){var n=new d2(k,!0);n.data=a;I.a(n)};E.xx.prototype.vB=function(I){var k=this.Ma;
if(k==null)this.fF(I);else{var a=[k[1].x,k[1].y,k[0].x,k[0].y],n=["M","L"];if(k.length>2){a.push(k[2].x,k[2].y);
n.push("L")}I.D.sV={m:n,s:a};I.D.t6=a}I.Xi=!0};E.xx.prototype.fF=function(I){I.D.sV=null;I.D.t6=[]};
E.xx.a6K=function(I,k,a){var n=k.x-I.x,s=k.y-I.y,C=Math.abs(s*a.x-n*a.y+k.x*I.y-k.y*I.x),T=Math.sqrt(n*n+s*s);
return T==0?0:C/T};E.EZ=function(){E.dX.call(this,[10,19],E.tW,"tools/sharpen");this.ho="copy"};E.EZ.prototype=new E.dX;
E.EZ.prototype.Vr=function(I,k,a,n,s){var C=this.J$.pdetail?kN.wt:kN.tW;if(n.W(as.dE))C=kN.ex;this.m5(I,a,n,s,this.J$.strn,C);
if(this.Fp==null)return;this.hs(I)};E.EZ.prototype.Fr=function(I,k,a,n,s){this.N6(I,k,a);if(this.$a)this.CA(I,a,s);
if(this.Fp==null)return;if(!s.ZT)return;this.$_(I,a,n,s);this.hs(I)};E.Vp=function(){E.dX.call(this,[10,24],E.BM,"tools/shbrush");
this.ho="draw";this.J$.opacity=.5};E.Vp.prototype=new E.dX;E.Vp.prototype.Vr=function(I,k,a,n,s){this.m5(I,a,n,s,1);
if(this.Fp==null)return;this.ls(I);this.hs(I)};E.Vp.prototype.Fr=function(I,k,a,n,s){this.N6(I,k,a);
if(this.$a)this.CA(I,a,s);if(this.Fp==null)return;if(!s.ZT)return;this.$_(I,a,n,s);this.hs(I)};E.Vp.prototype.pE=function(I,k,a,n,s){if(this.Fp==null)return;
this.aQ(I,"sheal",this.Fp.SW(),this.Fp.GT(),this.Fp.Gp(),null);this.V(I,this.Fp.Gp());E.dX.prototype.pE.call(this,I,k,a,n,s)};
E.MV=function(){E.dX.call(this,[10,20],E.dA,"tools/smudge");this.ho="copy"};E.MV.prototype=new E.dX;
E.MV.prototype.Vr=function(I,k,a,n,s){var C=this.J$.brush.toolOptions;this.m5(I,a,n,s,this.J$.strn,kN.dA);
if(this.Fp==null)return;this.hs(I)};E.MV.prototype.Fr=function(I,k,a,n,s){this.N6(I,k,a);if(this.$a)this.CA(I,a,s);
if(this.Fp==null)return;if(!s.ZT)return;this.$_(I,a,n,s);this.hs(I)};E.QA=function(){E.dX.call(this,[10,23],E.Er,"tools/sponge");
this.ho="sponge"};E.QA.prototype=new E.dX;E.QA.prototype.Vr=function(I,k,a,n,s){this.m5(I,a,n,s,this.J$.flow);
if(this.Fp==null)return;this.hs(I)};E.QA.prototype.Fr=function(I,k,a,n,s){this.N6(I,k,a);if(this.$a)this.CA(I,a,s);
if(this.Fp==null)return;if(!s.ZT)return;this.$_(I,a,n,s);this.hs(I)};E.rD=function(){E.mu.call(this,[10,17],E.VX,"tools/zoom");
this.Us=!1;this.KJ=!0;this.C_=!1;this._w=0;this.a_=null;this.Ue=null;this.k9=0;this.gp=null;this.aw3=0;
this.TV=new io([{name:[8,0],kA:"Ctrl + +"},{name:[8,1],kA:"Ctrl + -",g6:!0},{name:[20,3],kA:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],kA:"Ctrl + 1"}],[{K:M.E.r,S:E.VX,v:{q:"zoom",KJ:!0}},{K:M.E.r,S:E.VX,v:{q:"zoom",KJ:!1}},{K:M.E.r,S:E.VX,v:{q:"adapt",P:"fitscr"}},{K:M.E.r,S:E.VX,v:{q:"adapt",P:"pixel"}}])};
E.rD.prototype=new E.mu;E.rD.prototype.pC=function(I,k,a,n,s){var C=this.TV;C.k();C.parent=k;C.update(I,a);
var T=new d2(M.E.b,!0);T.data={q:M.p.ut,zM:C,x:s.E1+2,y:s.uI+1};k.a(T)};E.rD.prototype.enable=function(I,k,a,n){this.mP(k,n);
if(I&&Date.now()-this._w<300)this.CP({q:"adapt",P:"pixel"},k,I,n,a);this._w=Date.now()};E.rD.prototype.Vr=function(I,k,a,n,s){this.Ue=new kK(s.x,s.y);
this.k9=I.w.F;this.gp=I.w.i.clone()};E.rD.prototype.Fr=function(I,k,a,n,s){if(this.Ue==null)return;var C=Math.exp(Math.log(this.k9)+(s.x-this.Ue.x)/64);
C=Math.max(.02,Math.min(E.rD.Uq[0],C));I.w.F=this.k9;I.w.i=this.gp.clone();this.CP({q:"zoom",F:C,NZ:this.Ue,C_:this.C_},k,I,n,a)};
E.rD.prototype.pE=function(I,k,a,n,s){if(kK.f0(this.Ue,s)<4){var C=this.aCi(n);this.CP({q:"zoom",KJ:C,NZ:s,C_:this.C_},k,I,n,a)}this.Ue=null};
E.rD.Uq=[128,64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
E.rD.H8=function(I,k,a,n){var s=1;while(I*s*1/2>a||k*s*1/2>n)s*=1/2;if(I*s*2/3>a||k*s*2/3>n)s*=1/2;else if(I*s>a||k*s>n)s*=2/3;
return s};E.rD.arJ=function(I,k){var a=E.rD.afP(I);if(k&&a==0)return I;if(!k&&a==E.rD.Uq.length-1)return I;
return E.rD.Uq[k?a-1:a+1]};E.rD.afP=function(I){var k=0;while(E.rD.Uq[k]>I)k++;return k};E.rD.LX=function(I,k,a,n){var s=I.Z9;
if(n==0||n==null){n=E.rD.arJ(I.F,a);if(n==I.F)return}var C=I.m_(k.x,k.y);C.x=Math.max(0,Math.min(s.Q,C.x));
C.y=Math.max(0,Math.min(s._,C.y));if(!1){}else{var T=I.Q8(),S=I.F/n;T.translate(-C.x,-C.y);T.scale(S,S);
T.translate(C.x,C.y);I.az6(T)}};E.rD.prototype.CP=function(I,k,a,n,s){if(I.q=="pzoom"){if(typeof I.P=="string")return;
I={q:"zoom",F:I.P/100}}if(I.q=="prvw"){a.add.prvw=1-a.add.prvw;a.Xi=!0}var C=0,T=!1,S=null;if(I.q=="adapt"){var D=0;
if(I.P=="pixel")D=1;if(I.P=="fitscr"){var D=0,o=a.w.PJ.Q,v=a.w.PJ._,g=new eZ(0,0,a.Q,a._),d=j.X.Eu(g).s,R=new dc;
R.rotate(a.w.AE);j.X.h(d,R,d);var c=j.X.TO(d),e=s.yF?j.wJ.I0+4:8;D=Math.min((o-e*2)/c.Q,(v-e*2)/c._);
a.w.i.dZ(0,0)}S=new kK(Math.round(a.w.PJ.Q/2),Math.round(a.w.PJ._/2));C=D;E.rD.LX(a.w,S,T,C);a.cd=!0}if(I.q.startsWith("multi")){function O(y){var b=y[0].x-y[1].x,i=y[0].y-y[1].y;
return Math.sqrt(b*b+i*i)}function U(y){return new kK((y[0].x+y[1].x)/2,(y[0].y+y[1].y)/2)}function K(y){var b=y[0].x-y[1].x,i=y[0].y-y[1].y;
return Math.atan2(i,b)}var _=I.kH,Z=U(_);if(I.q=="multidown"){this.a_=[_,a.w.F,a.w.m_(Z.x,Z.y),a.w.AE]}else{var H=E.rD.Uq,p=.15;
C=this.a_[1]*O(_)/O(this.a_[0]);C=Math.max(H[H.length-1],Math.min(H[0],C));if(C!=a.w.F)E.rD.LX(a.w,Z,T,C);
var G=this.a_[2],N=a.w.kF(G.x,G.y),z=a.w.i;z.x=Math.round(z.x+Z.x-N.x);z.y=Math.round(z.y+Z.y-N.y);var L=this.a_[3]+(K(_)-K(this.a_[0]));
L=L%(2*Math.PI);while(L<0)L+=2*Math.PI;if(L<p||L>2*Math.PI-p)L=0;a.w.AE=L;a.cd=!0}}if(I.q=="scroll"){S=I.NZ;
var H=E.rD.Uq,V=I.P8.y,r=1+Math.abs(V)*8e-4*(I.atK?10:1);if(V>0)r=1/r;C=a.w.F*r;E.rD.LX(a.w,S,T,Math.min(H[0],Math.max(H[H.length-1],C)));
a.cd=!0}if(I.q=="zoom"){var y=I.C_?k.HU:[a];for(var Y=0;Y<y.length;Y++){var W=y[Y],m=W.w;S=I.NZ?I.NZ:new kK(Math.round(m.PJ.Q/2),Math.round(m.PJ._/2));
if(I.F!=null)C=I.F;else T=I.KJ;E.rD.LX(m,S,T,C);W.cd=!0}}if(I.q=="mskView"){var f=a.R[a.T[0]];if(f.YY<=0){f.YY=1;
a.q_=!0}var h=f.YY==3?f.kx(a).u:f.IO();if(I.P==0){a.w.N=[1,1,1];h.zh=!1}if(I.P==1){a.w.N=[1,1,1];h.zh=!0}if(I.P==2){a.w.N=[0,0,0];
h.zh=!0}for(var Y=0;Y<a.TL.length;Y++)a.TL[Y].zh=!1;a.Ap=[];a.Xi=!0}};E.rD.prototype.Bf=function(I,k,a,n){if(this.Us!=n.W(as.dE)){this.Us=n.W(as.dE);
var s={q:M.p.at,S:this.id,Us:this.Us},C=new d2(M.E.b,!0);C.data=s;k.a(C);this.mP(k,n)}};E.rD.prototype.mP=function(I,k){var a=new d2(M.E.b,!0),n=this.aCi(k);
a.data={q:M.p.Zk,s3:n?"zoom-in":"zoom-out"};I.a(a)};E.rD.prototype.Un=function(I,k,a,n){this.KJ=I.KJ;
this.C_=I.C_;this.mP(k,n)};E.rD.prototype.aCi=function(I){var k=this.KJ;if(I.W(as.lO)&&I.W(as.nU))k=!0;
if(this.Us)k=!k;return k};E.rD.a5m=function(I,k){if(I.W(as.AC)||I.W(as.a5r)){k.S=E.VX;k.data={q:"zoom",KJ:!0}}if(I.W(as.q0)){k.S=E.VX;
k.data={q:"zoom",KJ:!1}}if(I.W(as.Vz)){k.S=E.VX;k.data={q:"adapt",P:"fitscr"}}if(I.W(as.m9)){k.S=E.VX;
k.data={q:"adapt",P:"pixel"}}};E._v=function(I,k,a){E.mu.call(this,I,k,a);this.KW=null;this.wY=null;
this.k3=null;this.abd=0};E._v.prototype=new E.mu;E._v.pV=function(I,k){var a={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},n=I==null?{classID:"null",null:a,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:a,Usng:{t:"type",v:{classID:I}},__name:"Stroke"};
if(k)n.Prs={t:"bool",v:!0};return{pi:I==null?"fill":"stroke",zf:n}};E._v.prototype.enable=function(I,k,a,n,s){this.wY=a;
var C=new d2(M.E.b,!0);C.data={q:M.p.Zk,s3:"default"};k.a(C)};E._v.prototype.pC=function(I,k,a,n,s){var C=I.iQ(),T=C[0],S=C[1];
if(S.length==0)return;var D=T[S[0]],o=D.add.vmsk,v=I.w.m_(s.x,s.y),g=4*E.Y()/I.w.F,d=new eZ(v.x-g,v.y-g,g*2,g*2),R=j.n.Lx(o.d,d)[0];
if(R.length!=0){o.Ut=R;I.Xi=!0}var c=j.n.oJ(o.d,v).Gq;if(c!=-1){o.T=[c];I.Xi=!0}var e=new d2(M.E.b,!0);
e.data={q:M.p.at,S:this.id,Yc:s,Lr:I,tb:a};k.a(e)};E._v.prototype.abi=function(I,k){var a=new d2(M.E.b,!0);
a.data={q:M.p.iv,CU:f9.Ux};if(!k.Q7)I.a(a);a.data={q:M.p.iv,CU:f9.Nl};if(!k.M6.DD)I.a(a)};E._v.prototype.Iw=function(I,k,a,n,s){if(a.P$!=this.id&&s==null)return;
if(I.T.length==0)return;var C=I.R[I.T[0]],T=C.add.vmsk,S=C.add.vstk;if(ht==0){var D=fY.bZ(C.add);this.KW=I;
this.k3=k;if(C.wc()&&T!=null&&(JSON.stringify(S)!=JSON.stringify(a.zz)||JSON.stringify(D)!=JSON.stringify(a.r3))){this.abd=Date.now();
var o=new d2(M.E.b,!0);o.data={q:M.p.iv,CU:f9.l2,P:D};k.a(o);o.data={q:M.p.iv,CU:f9.pf,P:S};k.a(o)}}else{var v=null;
for(var Y=0;Y<I.T.length;Y++){var C=I.R[I.T[Y]],g=C.add.vstl;if(g==null)continue;if(v==null)v=JSON.parse(JSON.stringify(g));
else{for(var d in g){if(v[d]==null)continue;if(g[d]==g.mx){if(JSON.stringify(g[d])!=JSON.stringify(v[d]))delete v[d]}else if(g[d]==g.Bv){if(JSON.stringify(g[d])!=JSON.stringify(v[d]))delete v[d]}else if(g[d]!=v[d])delete v[d]}}}if(v==null)return;
var R=JSON.stringify(v);if(R!=JSON.stringify(a.qm)){var o=new d2(M.E.b,!0);o.data={q:M.p.iv,CU:f9.to,P:v};
k.a(o)}}};E._v.prototype.wu=function(I,k){if(this.KW==null)return;if(k==f9._7||k==f9.l2||k==f9.pf){if(Date.now()-this.abd<50)return;
var a=k==f9.l2,n=this.KW,s=a?I.r3:I.zz,C=[],T=n.T;for(var Y=0;Y<T.length;Y++){var S=T[Y],D=n.R[S];if(!D.wc()||D.add.vmsk==null)continue;
C.push(S)}var o=new d2(M.E.r,!0);o.S=E.xf;o.data={q:X.AU,l6:C,M2:a,P:s};if(C.length!=0)this.k3.a(o)}};
E._v.prototype.abJ=function(I){if(typeof I=="number"){var k=new d2(M.E.rd,!0);k.data=E.WX.HO(0);k.data.zf.Usng.v.Type.v.Clr.v=j.G.pI({$:I>>>16&255,H:I>>>8&255,J:I>>>0&255});
this.k3.a(k)}};E._v.prototype.CP=function(I,k,a,n,s){this.k3=k;if(I.q=="newfill"){if(I._W==0){var C=new d2(M.E.b,!0);
C.data={q:M.p.Fu,aw:"colorpicker",Ej:s.MW,XP:this.abJ.bind(this)};k.a(C)}}else if(I.q=="smplp"){if(a==null)return;
var T=a.iQ(),S=T[0],D=T[1];if(D.length==0){alert("No paths selected");return}var o=S[D[0]];if(o.add.vmsk.T.length<=0){alert("No paths selected");
return}if(this.fw==null){this.fw=o.add.vmsk.clone();this.aM=JSON.stringify(o.add.vogk);this.TX=o;this.KW=a}var C=new d2(M.E.b,!0);
C.data={q:M.p.Fu,aw:"simplifypath",P6:100,h1:this.ara.bind(this)};k.a(C)}else if(I.q=="pathedit"){var v=I.ar,g="",d=a.DD.slice(0),R=a.dz.slice(0),c=a.DD.slice(0),e=a.dz.slice(0);
if(v=="rnm"){var O=-1-I.Gq,U=d[O],K=iJ.jy(I.name,U.add);if(O!=0)c[O]=K;else{e=[c.length];c.push(K);c[0]=iJ.jy("Work Path")}g="Rename"}else if(v=="new"){var K=iJ.jy("Path "+d.length);
if(I.alK){var T=a.iQ(),S=T[0],D=T[1],_=S[D[0]];K.add.vmsk=_.add.vmsk.clone();K.add.vogk=JSON.parse(JSON.stringify(_.add.vogk));
if(_.Gq==-1){var Z=c[e[0]]=iJ.jy("Path "+d.length);Z.name=_.name;Z.Gq=_.Gq}}c.push(K);e=[c.length-1];
g="New"}else if(v=="del"){if(e.length==0)return;e.sort(function(y,Q){return y-Q});if(e[0]==0){c[0]=iJ.jy(d[0].name);
e=e.slice(1)}var H=0;while(e.length!=0){c.splice(e[0]-H,1);e=e.slice(1);H++}g="Delete"}else if(v=="fromsel"){var o=c[0]=iJ.jy("Work Path");
e=[0];if(a.f==null)return;var G=a.f.channel.slice(0);for(var Y=0;Y<G.length;Y++)G[Y]=G[Y]>128?2:1;var N=a.f.rect.clone();
N.CJ(1,1);var z=j.U(N.c());j.O0(G,a.f.rect,z,N);var L=id.CG(z,N.Q,N._,Math.round(N.c()*5e-4)),S=id.iQ(L),p=new dc(1,0,0,1,-1+a.f.rect.x,-1+a.f.rect.y);
for(var Y=0;Y<S.length;Y++)j.X.h(S[Y].path.s,p,S[Y].path.s);for(var Y=0;Y<S.length;Y++){var V=S[Y];if(V.color==1&&V.parent==-1)continue;
var r=j.X.ep(S[Y].path,!1);r[2].Np=0;o.add.vmsk.d=o.add.vmsk.d.concat(r.slice(2))}o.add.vogk=X.Bb(o.add.vmsk.d);
g="Selection to"}var y=new g7(g+" Path",this);y.data={V4:d,eq:R,alU:c,L5:e};if(v=="fromsel"){y.data.Mr=a.f;
y.data.iy=null}a.RB(y);this.KY(y.data,a)}else{var W=I.xn,T=a.iQ(I.q=="append"||I.q=="fromAction"),S=T[0],D=T[1],o=S[D[0]],m=o.add.vmsk,f=o.add.vogk,h=m.clone(),b=m.clone(),i=JSON.stringify(f);
if(I.q=="fromAction"){var w=I._f,J=w.pi,q=w.zf,x=q.T;if(J=="set"){if(x){f.push(j.Z_.nM(x));b.d.push({type:0,Np:1,length:0});
j.Z_.ra(f,b);W=[12,76,0]}else throw q}else if(J=="draw"){f=[j.Z_.nM(q.Shp)];b.d.push({type:0,Np:1,length:0});
j.Z_.ra(f,b);E._v.a96(b.d,q.AntA.v,s.MW,k);return}else throw J}else if(I.q=="remove"){if(I.Iq&&b.Ut.length!=0){b.d=j.n.atJ(b.d,b.Ut,f,I.a3M);
var A=j.n.gZ(b.d);for(var Y=0;Y<b.T.length;Y++)if(b.T[Y]>=A){b.T.splice(Y,1);Y--}b.Ut=[];W="Delete Anchors"}else{if(b.T.length==0)return;
var H=0;for(var Y=0;Y<b.T.length;Y++){f.splice(b.T[Y]+H,1);H--}b.d=j.n.abq(b.d,b.T);b.T=[];b.Ut=[];if(W==null)W="Delete Paths"}}if(I.q=="append"){E._v.Zx(I.a1z,b,f)}this.ND(a,o.Gq,b,f);
this.Jm(a,W,o.Gq,h,b.clone(),null,i,JSON.stringify(f))}};E._v.a96=function(I,k,a,n){var s=new X.JB;s.d=s.d.concat(I.slice(2));
var C=s.IO();if(!k)j.round(C.channel);var T=j.U(C.rect.c()*4);j.IP(T,(a&255)<<16|(a>>8&255)<<8|(a>>16&255)<<0);
j.yv(C.channel,T,3);var S=new d2(M.E.r,!0);S.S=E.yO;S.data={q:"draw",uZ:{buffer:T,rect:C.rect.clone()},xn:this.name};
n.a(S)};E._v.S1=function(I,k){var a=j.n.anT(I.d,I.T),n=[];for(var Y=0;Y<I.T.length;Y++)n.push(JSON.parse(JSON.stringify(k[I.T[Y]])));
return[a,n]};E._v.Zx=function(I,k,a){var n=j.n.gZ(k.d),s=j.n.gZ(I[0]);k.d=k.d.concat(I[0].slice(2));
k.T=[];for(var Y=0;Y<s;Y++)k.T.push(n+Y);for(var Y=0;Y<s;Y++)a.push(JSON.parse(JSON.stringify(I[1][Y])))};
E._v.prototype.rI=function(I,k){if(k==null)return!1;var a=k.iQ(),n=a[0],s=a[1];if(s.length==0)return!1;
var C=n[s[0]],T=C.add.vmsk;if(T&&T.T.length+T.Ut.length!=0)return[as.Zf,as.QE].indexOf(I)!=-1};E._v.prototype.Bf=function(I,k,a,n){if(I==null)return;
var s=I.iQ(),C=s[0],T=s[1];if(T.length==0)return;var S=C[T[0]],D=S.add.vmsk;if(n.W(as._a)||n.W(as.da)||this.id==E.nf&&n.W(as.NL)&&D.Ut.length==1){D.Ut=[];
I.Xi=!0}if(D.T.length!=0){var o=n.m4(I?I.w.AE:0);if(o.x!=0||o.y!=0){var v=D.clone(),g=D.clone(),d=new dc(1,0,0,1,o.x,o.y),R=S.add.vogk,c=JSON.stringify(R);
if(n.W(as.dE)){var e=E._v.S1(g,R);E._v.Zx(e,g,R)}j.n.de(g.d,d,g.T);j.Z_.h(R,j.t.HE(d),g.T);this.ND(I,S.Gq,g,R);
this.Jm(I,"Move Paths",S.Gq,v,g.clone(),!0,c,JSON.stringify(R))}if(n.W(as.Zf)||n.W(as.QE))this.CP({q:"remove",Iq:this.id==E.nf},k,I,n,a)}};
E._v.prototype.Jm=function(I,k,a,n,s,C,T,S){var D=new g7(k,this);D.data={dQ:a,uc:n,vo:s,aab:C,awu:T,HV:S};
I.RB(D)};E._v.prototype.KY=function(I,k){if(I.dQ!=null)this.ND(k,I.dQ,I.vo.clone(),JSON.parse(I.HV));
else{k.DD=I.alU.slice(0);k.dz=I.L5.slice(0);k.Xi=k.q_=!0}if(I.Mr||I.iy){k.f=I.iy;k.LQ=!0}};E._v.prototype.PP=function(I,k){if(I.dQ!=null)this.ND(k,I.dQ,I.uc.clone(),JSON.parse(I.awu));
else{k.DD=I.V4.slice(0);k.dz=I.eq.slice(0);k.Xi=k.q_=!0}if(I.Mr||I.iy){k.f=I.Mr;k.LQ=!0}};E._v.prototype.ND=function(I,k,a,n){var s=k<0?I.DD[-1-k]:k<1e6?I.R[k]:I.R[k-1e6].add.TySh,C=s.add.vmsk;
C.channel=null;C.WB=!0;if(C.fm){C.fm.channel=null;C.fm.WB=!0}s.add.vmsk=a;s.add.vogk=n;if(1e6<=k){f4.kj(s);
var T=I.R[k-1e6],S=s,D=this.wY;jW.Rm(T,D.IE);I.V()}else if(0<=k){a.WB=!0;s.Wr(I);I.V()}I.Xi=I.q_=!0};
E.WX=function(I,k,a,n){E._v.call(this,I,k,a);this.J$={shape:jx.nI(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{Tx:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.asf=n;this.Hn=null;this.UD=null;this.Ef=null;this.$H=new bI};E.WX.prototype=new E._v;E.WX.prototype.zJ=function(I){return I.ZT&&this.id!=E.T4};
E.WX.prototype.enable=function(I,k,a,n,s){this.wY=a;var C=new d2(M.E.b,!0);C.data={q:M.p.Zk,s3:"crosshair"};
k.a(C)};E.WX.prototype.Bf=function(I,k,a,n){E._v.prototype.Bf.call(this,I,k,a,n);this.$H.Bf(n);this.$u(k,a)};
E.WX.prototype.$u=function(I,k){var a=new d2(M.E.b,!0);a.data={q:M.p.at,S:this.id,bf:this.ur(k)};I.a(a)};
E.WX.prototype.ur=function(I){var k=this.$H.Nd(0),a=this.$H.VA(0),n=E.BN.yP(this.J$.binop,k,a);if(I.vj==1&&n==0)n=1;
return n};E.WX.prototype.XY=function(I,k,a,n){};E.WX.prototype.Vr=function(I,k,a,n,s){var C=a.vj;if(C!=2)this.abi(k,a);
if(C==2&&!I.rb())return;var T=I.w.m_(s.x,s.y);T=E.R0.a5(I,T,a);this.Ef=[T.x,T.y];this.Hn=T;this.UD=new kK(0,0);
this.$H.Vr(n)};E.WX.prototype.a4J=function(I,k,a,n){var s=[this.Hn.clone(),k.clone()];a=this.$H.Nd(1)||a.W(as.bJ)||this.$H.VA(1)?a:null;
if(this.asf)s=E.WX.sS(s[0],s[1],a,!0,this.J$.cstr);if(I)I.w.uR=new eZ(s[0].x,s[0].y,s[1].x-s[0].x,s[1].y-s[0].y);
return this.XY(s[0],s[1],this.$H.Nd(1)&&a.W(as.bJ),this.Ef,I.w,n)};E.WX.prototype.a9o=function(I,k,a){var n=I.w.m_(k.x,k.y);
if(this.id==E.T4)return n;var s=this.J$.cstr;if(s.Tx==2){var C=new eZ(n.x-s.x,n.y-s.y,s.x,s.y),T=E.R0.v3(I,C,a);
n.x+=T[0];n.y+=T[1];E.R0.bH(I,C,T)}else n=E.R0.a5(I,n,a);return n};E.WX.prototype.Fr=function(I,k,a,n,s){if(this.Hn==null)return;
var C=this.Ef,T=C.length,S=s?this.a9o(I,s,a):new kK(C[T-2],C[T-1]);if(n.W(as.lO))this.Hn=S.Sm(this.UD);
else this.UD=S.Sm(this.Hn);C.push(S.x,S.y);if(this.J$.shape==null)this.J$.shape=a.lo[0];var D=this.a4J(I,S,n,!0)[0],o=j.X.wb(D);
I.D.sV=o;if(this.id!=E.T4&&this.id!=E.O3&&this.id!=E.NW)E.mu.Q9(s,I.w.uR,I,a);I.Xi=!0;this.$H.Fr()};
E.WX.prototype.a4y=function(I,k,a,n){var s=I[4].clone();if(n){s.x-=k/2;s.y-=a/2}if(this.id==E.O3){k/=2;
a/=2;s.x+=k;s.y+=a;a=-a;k=0}var C=this.XY(s,new kK(s.x+k,s.y+a),!1,this.Ef);this.a3O(I[0],I[1],I[2],C)};
E.WX.prototype.a3O=function(I,k,a,n){var s=a.vj,C=new d2(M.E.rd,!0);if(s==0)C.data=E.WX.aee(n[1],a);
else if(s==1){var T={__name:"Set",classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},T:n[1]};
C.data={pi:"set",zf:T}}else{var T={__name:"Draw",classID:"Draw",AntA:{t:"bool",v:!0},Shp:n[1]};C.data={pi:"draw",zf:T}}k.a(C);
if(n[1].v.classID=="customShape"&&n[1].v.Nm.v.startsWith("--")){var S=I.iQ(),D=S[0],o=S[1],v=D[o.pop()],g=v.add.vmsk,d=v.add.vogk;
j.Z_.atw(d);var R=g.clone();R.d=n[0];this.ND(I,v.Gq,R,d)}};E.WX.prototype.pE=function(I,k,a,n,s,C){if(this.Hn==null)return;
var T=this.a9o(I,s,a),S=this.ur(a),D=a.vj,o=this.Ef,v=o.length;if(this.id==E.T4&&v<=4){}else if(v<=4){T.x=Math.round(T.x);
T.y=Math.round(T.y);var g=new d2(M.E.b);g.data={q:M.p.Fu,aw:"createshape",abL:this.a4y.bind(this),aqI:this.name,axI:[I,k,a,n,T]};
if(!C)k.a(g)}else if(v!=2){var d=this.a4J(I,T,n),R=d[0],c=I.iQ(!0),e=c[0],O=c[1],U=O.length-1;if(D==1&&R.length>2||D==0&&S!=0&&U!=-1&&e[O[U]].Gq>=0){R[2].Np=[1,2,3,0][S-1];
var K=e[O.pop()],_=K.add.vmsk,Z=K.add.vogk,H=_.clone(),G=_.clone(),N=JSON.stringify(Z);G.d=G.d.concat(R.slice(2));
G.T=[j.n.gZ(G.d)-1];var z=j.Z_.nM(d[1]);Z.push(z?z:j.Z_.k5());this.ND(I,K.Gq,G,Z);this.Jm(I,this.name,K.Gq,H,G,null,N,JSON.stringify(Z))}else if(D==0){this.a3O(I,k,a,d)}else if(D==2){E._v.a96(R,this.J$.anta,a.MW,k)}}this.Hn=null;
I.D.sV=null;I.D.PT=null;I.D.OT=[];I.w.uR=null;I.Xi=!0;this.$H.pE();this.$u(k,a)};E.WX.prototype.Un=function(I,k,a,n,s){for(var a in I)this.J$[a]=I[a]};
E.WX.sS=function(I,k,a,n,s){var C=I.x,T=I.y,S=k.x,D=k.y;if(s&&s.Tx==2){if(n){S=Math.round(S);D=Math.round(D)}C=S-s.x;
T=D-s.y}else{var o=0;if(s&&s.Tx==1)o=s.y/s.x;else if(a&&a.W(as.bJ))o=1;if(o!=0){if(n){if(C<S)C=Math.floor(C);
else C=Math.ceil(C);if(T<D)T=Math.floor(T);else T=Math.ceil(T)}var v=Math.abs(S-C),g=Math.abs(D-T),d=v;
if(g/v<o)d*=g/v/o;S=S>C?C+d:C-d;D=D>T?T+d*o:T-d*o}if(a&&a.W(as.dE)){C-=S-C;T-=D-T}}var I=new kK(C,T),k=new kK(S,D);
if(n)E.WX.ato(I,k);return[I,k]};E.WX.ato=function(I,k){if(I.x>k.x){var a=I.x;I.x=k.x;k.x=a}if(I.y>k.y){var a=I.y;
I.y=k.y;k.y=a}I.x=Math.floor(I.x);I.y=Math.floor(I.y);k.x=Math.ceil(k.x);k.y=Math.ceil(k.y)};E.WX.aat=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
E.WX.HO=function(I,k){var a=E.WX.aat(),n=a.Usng.v.Type;if(k==null){n.v=JSON.parse(JSON.stringify(fY.T8[I]));
n.v.classID=["solidColorLayer","gradientLayer","patternLayer"][I]}else E.c$.nk(k,n.v,I);return{pi:"make",zf:a}};
E.WX.aee=function(I,k){var a=k.r3,n=JSON.parse(JSON.stringify(k.zz));n.fillEnabled.v=a.nE!=0;var s=E.WX.HO(Math.max(0,a.nE-1),a.aG);
s.zf.Usng.v.Shp=I;s.zf.Usng.v.strokeStyle={t:"Objc",v:n};return s};E.my=function(I){E._v.call(this,[[10,29],[10,51],"Add Anchor Point","Delete Anchor Point","Convert Point"][I],[E.nf,E.aEf,E.akK,E.a32,E.avE][I],["tools/pen","tools/cpen","tools/aapoint","tools/dapoint","tools/capoint"][I]);
this.$C=I;this.v_=null;this.cI=null;this.fw=null;this.aM=null;this.dG=0;this.W5=null;this.NE=!1;this.Pj=!1;
this.qW=!1;this.tM=!1;this.WJ=!1;this.lM=!1;this._w=0};E.my.prototype=new E._v;E.my.prototype.zJ=function(I){return this.fw!=null};
E.my.prototype.Bf=function(I,k,a,n){if(!n.W(as.dE))this.WJ=!1;if(this.$C==1&&(n.W(as.Zf)||n.W(as.QE))&&this.rI(as.Zf,I)){this.CP({q:"remove",Iq:!0},k,I,n,a);
return}if(this.cI)this.es(I,k,a,n,this.cI);E._v.prototype.Bf.call(this,I,k,a,n)};E.my.prototype.qY=function(I,k,a,n){var s=I.w.m_(n.x,n.y,!0),C=E.R0.a5(I,s,k),T=this.$C,S=k.vj,D=this.dG;
if(S==2)S=0;var o=I.iQ(S==1),v=o[0],g=o[1],d=v[g.pop()],R=d?d.add.vmsk:null;if(S==0&&D!=0&&d&&d.Gq>=0)S=1;
var c=E.kY(I,n);if(T<2&&S==0&&(R==null||R.Ut.length==0&&j.n.oJ(R.d,s,!0,c).Gq==-1))return["new",!0];
if(R==null)return[null];var e=R.d,O=j.n.Lx(e,new eZ(s.x-c,s.y-c,c*2,c*2),R.Ut,!0),U=j.n.oJ(e,s,!0,c);
if(T<3&&U.Gq!=-1&&O[0].length==0)return["add"];if((O[3]!=0||U.Gq!=-1)&&(a.W(as.dE)||T==4))return["cnv"];
var K=O[0].length==1&&e[O[0][0]-1]&&(e[O[0][0]-1].A!=null||e[O[0][0]-1].type==0||e[O[0][0]-1].length==1);
if(K)return[T==0||T==3?"del":T==2?"mva":"mov"];if(T<2){var _=j.n.XN(e,j.n.c6(e,R.Ut[0]));if(_!=-1&&kK.f0(s,e[_+1].A)<c)return["fin"];
if(R.Ut.length!=1)return["new"];return["nrm"]}return[null]};E.my.prototype.Vr=function(I,k,a,n,s){var C=I.w.m_(s.x,s.y,!0),T=E.R0.a5(I,C,a),S=this.$C,D=a.vj,o=this.dG;
if(D==2)D=0;var v=I.iQ(D==1),g=v[0],d=v[1],R=g[d.pop()],c=R?R.add.vmsk:null;if(D==0&&o!=0&&R&&R.Gq>=0)D=1;
var e=E.kY(I,s),O=this.qY(I,a,n,s);if(O[0]==null)return;if(O[1]){var U=new d2(M.E.rd,!0),K=j.Z_.eJ("customShape",[0,0,1,1],null,null,null,"--");
U.data=E.WX.aee(K,a);k.a(U);this.lM=!0;v=I.iQ(!0);g=v[0];d=v[1];R=g[d.pop()];c=R.add.vmsk;c.d=c.d.slice(0,2)}var _=R.add.vogk,Z=c.d;
this.fw=c.clone();this.aM=JSON.stringify(_);this.v_=s;this.abi(k,a);var H=j.n.Lx(Z,new eZ(C.x-e,C.y-e,e*2,e*2),c.Ut,!0),G=j.n.oJ(Z,C,!0,e);
if(O[0]=="add"){var N=j.n.XN(Z,G.Gq),z=Z[N].length;while(z<=G.x3){G.x3-=z;N+=z+1}var L={type:4,VW:T.clone(),A:T.clone(),zK:T.clone()},p=N+2+G.x3,V=N+1+(1+G.x3)%z,r=Z[p-1],y=Z[V];
if(!r.A.a$(r.zK)||!y.VW.a$(y.A)){var W=j.X.arG(r.A,r.zK,y.VW,y.A,G.pN);r.zK=W[0];L.VW=W[1];L.A=W[2];
L.zK=W[3];y.VW=W[4]}this.tM=!0;Z.splice(p,0,L);Z[N].length++;c.Ut=[p];if(S==1){L.VW.x+=2;this.wn(c)}}else if(O[0]=="cnv"){var m=-1;
if(H[0].length!=0){m=H[0][0];var f=Z[m],h=f.type>=3?3:0,b=m==Z.length-1;f.type=h+1;if(!(S==4&&n.W(as.dE))&&!(S==0&&b))f.VW=f.A.clone();
f.zK=f.A.clone();this.tM=!0;if(S==0&&!b)this.WJ=!0}else if(H[1].length+H[2].length!=0){var m=H[2][0];
if(m==null){m=H[1][0];this.Pj=!0}var f=Z[m],h=f.type>=3?3:0;f.type=h+2}else m=j.n.XN(Z,G.Gq)+G.x3+1;
if(m!=-1)c.Ut=[m]}else if(O[0]=="mva"){this.qW=!0;c.Ut=[H[0][0]]}else if(O[0]=="mov"){var m=H[0][0],i=Z[m],w=i.A,J=Math.abs(j.X.o1(i.VW.x,i.VW.y,w.x,w.y,i.zK.x,i.zK.y));
if(J>.01){i.VW=w.clone();i.zK=w.clone()}if(Date.now()-this._w<300){var q=i.VW.a$(w)&&i.zK.a$(w);if(q)i.zK.offset(2,2);
else{i.VW=w.clone();i.zK=w.clone()}this._w=0}else this._w=Date.now();c.Ut=[m];this.wn(c)}else if(O[0]=="del"){var m=H[0][0],N=j.n.XN(Z,j.n.c6(Z,m)),K=Z[N],x=N+K.length;
if(m!=x||K.type==0){Z[N].length--;Z.splice(m,1);x--;if(K.length==0){Z.splice(N,1);x=-1}}if(x!=-1)c.Ut=[x];
else c.Ut=[]}else if(O[0]=="fin"){var N=j.n.XN(Z,j.n.c6(Z,c.Ut[0]));Z[N].type=0;c.Ut=[N+1];this.W5=T;
this.NE=!0;this.tM=!0}else{var A=0;if(O[0]=="new"){c.T=[j.n.gZ(Z)];Z.push({type:3,length:1,Np:[1,2,3,0][Math.max(0,o-1)],RO:0,Ba:0,yk:0});
A=Z.length;_.push(j.Z_.k5())}if(O[0]=="nrm"){var N=j.n.XN(Z,j.n.c6(Z,c.Ut[0])),i=N+Z[N].length;Z[N].length++;
A=i+1;if(i==N+1&&Z[N].length!=2)A=N+1}if(n.W(as.bJ)&&Z[A-1]&&Z[A-1].A)T=E.hJ.Gi(Z[A-1].A,T);var L={type:4,VW:T.clone(),A:T.clone(),zK:T.clone()};
Z.splice(A,0,L);c.Ut=[A];this.W5=T;if(this.$C==1){L.VW.x+=2;this.wn(c)}this.tM=!0;this._w=Date.now()}this.ND(I,R.Gq,c,_);
I.Xi=!0};E.my.prototype.wn=function(I){var k=I.d,a=I.Ut[0],n=j.n.XN(k,j.n.c6(k,a))+1,s=k[n-1].length;
if(s<3)return;var C=[],T=[];for(var Y=0;Y<5;Y++){var S=n+(a-n-2+Y+5*s)%s;T.push(S);var D=k[S].A;C.push(D.x,D.y)}var o=j.X.a20(C);
for(var Y=1;Y<4;Y++){var v=Y*4,g=k[T[Y]],D=g.A,d=g.VW.a$(D)&&g.zK.a$(D);if(!d){g.VW.dZ(o[v],o[v+1]);
g.zK.dZ(o[v+2],o[v+3])}else{g.VW=D.clone();g.zK=D.clone()}}};E.my.prototype.es=function(I,k,a,n,s){var C=this.qY(I,a,n,s)[0],T=null;
if(C==null)T="default";else T=E.my.fL(C);var S=new d2(M.E.b,!0);S.data={q:M.p.Zk,s3:T};k.a(S)};E.my.prototype.Fr=function(I,k,a,n,s){this.cI=s;
if(this.fw==null){this.es(I,k,a,n,s);return}var C=this.v_;if(C&&kK.f0(C,s)<E.kY({w:{F:1}},s))return;
this.v_=null;var T=I.w.m_(s.x,s.y),S=E.R0.a5(I,T,a),D=I.iQ(a.vj==1),o=D[0],v=D[1],g=o[v.pop()],d=g.add.vmsk,R=d.d,c=R[d.Ut[0]];
if(this.$C==1){var e=c.A.a$(c.VW)&&c.A.a$(c.zK);c.A=T.clone();c.VW=T.clone();c.zK=T.clone();if(!e)c.VW.x+=2;
this.wn(d)}else if(n.W(as.lO)){if(n.W(as.bJ))S=E.hJ.Gi(this.W5,S);var O=c.A.Sm(c.zK),U=c.VW.Sm(c.A);
c.zK=S;c.A=S.add(O);c.VW=c.A.add(U)}else if(this.qW){var K=c.VW.Sm(c.A),_=c.zK.Sm(c.A);c.A=S;c.VW=c.A.add(K);
c.zK=c.A.add(_)}else{if(n.W(as.bJ))S=E.hJ.Gi(c.A,S);if(this.Pj){var Z=c.VW;c.VW=c.zK;c.zK=Z}if(this.NE){var H=kK.f0(c.A,S),G=H==0?0:kK.f0(c.A,c.zK)/H;
c.zK.x=c.A.x+G*(S.x-c.A.x);c.zK.y=c.A.y+G*(S.y-c.A.y)}else c.zK=S;var N=c.type>=3?3:0;if(this.tM&&!this.WJ)c.type=N+n.W(as.dE)?2:1;
if(c.type-N==1){c.VW=c.A.add(c.A.Sm(S))}this.W5=S;if(this.Pj){var Z=c.VW;c.VW=c.zK;c.zK=Z}}this.ND(I,g.Gq,d,g.add.vogk);
I.Xi=!0};E.my.prototype.pE=function(I,k,a,n,s){if(this.fw==null)return;var C=I.iQ(a.vj==1),T=C[0],S=C[1],D=T[S.pop()],o=D.add.vmsk,v=D.add.vogk;
if(this.NE){o.Ut=[];this.ND(I,D.Gq,o,D.add.vogk)}var g=this.fw.d.length,d=o.d.length;if(!this.lM)this.Jm(I,this.NE?"Close Path":(g==d?"Move":g<d?"Add":"Delete")+" Anchor Point",D.Gq,this.fw,o.clone(),null,this.aM,JSON.stringify(v));
this.lM=!1;this.NE=!1;this.Pj=!1;this.qW=!1;this.tM=!1;this.fw=null};E.my.prototype.Un=function(I,k,a,n,s){this.dG=I.binop};
E.my.aBZ={};E.my.fL=function(I){var k=E.my.aBZ[I],a=64,S=2,D=10,o=25,v=5,g=35;if(k)return k;var n=new eZ(0,0,a,a),s=-.38,C=j.$P(a,a);
C.clearRect(0,0,a,a);var T=E.Y();C.save();C.lineWidth=S;C.translate(4-S/2,4-S/2);C.rotate(s);if(T<1.5){var d=.66;
D*=d;o*=d;v*=d;g*=d}C.lineJoin="miter";C.beginPath();if(I=="cnv"){C.moveTo(-D,o);C.lineTo(0,0);C.lineTo(D,o);
C.stroke()}else{C.moveTo(0,0);C.lineTo(D,o);C.lineTo(v,g);C.lineTo(-v,g);C.lineTo(-D,o);C.lineTo(0,0);
C.moveTo(0,0);C.lineTo(0,o);C.fillStyle="white";C.fill();C.stroke();C.fillStyle="black";C.fillRect(-v-1,g,2*v+2,6);
C.beginPath();C.arc(0,o-2,2.5,0,2*Math.PI,!1);C.fill();C.rotate(-s);C.translate(24,7);C.beginPath();
if(I=="add"||I=="del"||I=="new"){C.moveTo(-5,0);C.lineTo(5,0);if(I=="add"){C.moveTo(0,-5);C.lineTo(0,5)}if(I=="new"){C.moveTo(-2.5,-4.5);
C.lineTo(2.5,4.5);C.moveTo(2.5,-4.5);C.lineTo(-2.5,4.5)}}else if(I=="fin")C.arc(0,0,5,0,2*Math.PI,!1);
else if(I=="mov"||I=="mva"){for(var Y=0;Y<4;Y++){C.moveTo(0,0);C.lineTo(-7,0);var R=1+S;C.moveTo(-7+R,-R);
C.lineTo(-7,0);C.lineTo(-7+R,R);C.rotate(Math.PI/2)}}C.stroke()}C.restore();var c=new Uint8Array(C.getImageData(0,0,a,a).data.buffer),e=j.U(a*a);
j.Ez(c,e,3);var O=j.U(a*a),U=[3,5,3,4,8,4,3,5,3];U=j.Qz.TT(U);j.Qz.xi(e,O,a,a,U);for(var Y=0;Y<O.length;
Y++)O[Y]=Math.min(255,O[Y]*2);j.Qz.xi(O,e,a,a,U);for(var Y=0;Y<e.length;Y++)e[Y]=Math.min(255,e[Y]*2);
var K=c.slice(0);c.fill(255);j.yv(e,c,3);j.z.Pf("norm",K,n,c,n,n,1);E.my.aBZ[I]=k={eY:c,Sq:n,gk:new kK(4,4)};
return k};E.tn=function(){E.WX.call(this,[10,30],E.T4,"tools/fpen",!1)};E.tn.prototype=new E.WX;E.tn.prototype.XY=function(I,k,a,n,s,C){var T=n.length-1,S=Math.sqrt((n[T-1]-n[0])*(n[T-1]-n[0])+(n[T]-n[1])*(n[T]-n[1]))<6/s.F;
return[j.n.xP(n,S,C),j.Z_.eJ("customShape",[0,0,1,1],null,null,null,"--")]};E.ss=function(){E._v.call(this,[10,27],E.N4,"tools/pselect");
this.tJ=null;this.l$=!1;this.TX=null;this.fw=null;this.SA=null;this.aM=null;this.fo=null;this.uJ=null;
this.Zd=null;this.oT=null};E.ss.prototype=new E._v;E.ss.prototype.zJ=function(I){return I.ZT};E.ss.prototype.Vr=function(I,k,a,n,s){var C=I.w.m_(s.x,s.y),T=I.iQ(),S=T[0],D=T[1],o,v;
for(var Y=0;Y<D.length;Y++){var g=S[D[Y]],d=g.add.vmsk,R=j.n.oJ(d.d,C).Gq;if(R!=-1){this.TX=o=g;v=R}for(var c=0;
c<d.Ma.length;c++){var e=j.n.afc(d.d,d.Ma[c]);if(e==null)continue;var O=kK.f0(e,C);if(O<4*E.Y()/I.w.F){var U=I.R[g.Gq-1e6].add.TySh,K=U.RW.Curve,_=U.h,Z=K.Reversed;
K.Reversed=!1;var K=d_.Nn(U.RW.Curve);K.Reversed=Z;j.X.h(K[0],_,K[0]);this.Zd=[K,c,_.M*_.Jo-_.J*_.mL];
this.TX=o=g;v=0}}if(this.Zd)break}if(o!=null){var d=o.add.vmsk;d.Ut=[];var H=d.T.indexOf(v);if(n.W(as.bJ)){if(H==-1){d.T.push(v);
this.l$=!0}else d.T.splice(H,1)}else{if(H==-1)d.T=[v];this.l$=!0}this.uJ=j.n.oz(d.d,d.T)}this.tJ=C;this.oT=new g$(C);
I.q_=!0;I.Xi=!0};E.ss.prototype.Fr=function(I,k,a,n,s){if(this.tJ==null)return;var C=I.w.m_(s.x,s.y);
if(this.l$){C=this.oT.se(C,n);var T=this.TX;if(this.fw==null){this.fw=this.SA=T.add.vmsk.clone();this.aM=this.fo=JSON.stringify(T.add.vogk);
if(n.W(as.dE)){var S=this.fw.clone(),D=JSON.parse(this.aM),o=E._v.S1(S,D);E._v.Zx(o,S,D);this.SA=S;this.fo=JSON.stringify(D)}}var S=this.SA.clone(),D=JSON.parse(this.fo);
if(this.Zd){var v=this.Zd,g=v[0][0],d=j.X.w_(g,C.x,C.y);S.Ma[v[1]]=v[0][1][d];var R=g[d*2],c=g[d*2+1],e=(g[d*2+2]-R)*(C.y-c)-(g[d*2+3]-c)*(C.x-R);
if(v[2]<0)e=-e;S.u8=e>0}else{var O=this.uJ.clone(),U=O.x,K=O.y;O.offset(C.x-this.tJ.x,C.y-this.tJ.y);
O.x=Math.round(O.x);O.y=Math.round(O.y);var _=E.R0.v3(I,O,a),Z=new dc(1,0,0,1,O.x-U+_[0],O.y-K+_[1]);
j.n.de(S.d,Z,S.T);j.Z_.h(D,j.t.HE(Z),S.T);E.R0.bH(I,O,_)}this.ND(I,T.Gq,S,D)}else{var H=this.tJ;I.D.sV=j.X.Eu(new eZ(H.x,H.y,C.x-H.x,C.y-H.y));
I.Xi=!0}};E.ss.prototype.pE=function(I,k,a,n,s){if(this.tJ==null)return;var C=I.w.m_(s.x,s.y),T=this.TX,S=T?T.add.vmsk:null;
if(this.l$){var D=JSON.stringify(T.add.vogk);if(!this.tJ.a$(C))this.Jm(I,"Move Paths",T.Gq,this.fw,S,null,this.aM,D);
if(I!=null&&I.D.PT){I.D.PT=null;I.Xi=!0}}else{var o=I.iQ(),v=o[0],g=o[1];if(g.length!=0){var d=v[g[0]];
S=d.add.vmsk;var R=this.tJ,c=new eZ(R.x,R.y,C.x-R.x,C.y-R.y),e=j.n.agv(S.d,c);if(n.W(as.bJ)){for(var Y=0;
Y<e.length;Y++)if(S.T.indexOf(e[Y])==-1)S.T.push(e[Y])}else S.T=e}I.D.sV=null;I.Xi=!0}this.tJ=null;this.fw=null;
this.Zd=null;this.l$=!1;this.oT=null};E.ss.prototype.ara=function(I){var k=this.TX,a=this.KW,n=k.add.vmsk,s=k.add.vogk,C=s.length;
if(I=="confirm"){if(n!=this.fw)this.Jm(a,[12,94,2],k.Gq,this.fw,n,null,this.aM,JSON.stringify(s));this.fF();
return}if(I=="cancel"){this.ND(this.KW,this.TX.Gq,this.fw.clone(),JSON.parse(this.aM));this.fF()}else{var n=this.fw.clone(),s=JSON.parse(this.aM);
n.d=j.n.ajM(n.d,n.T,I);this.ND(this.KW,this.TX.Gq,n,s)}};E.ss.prototype.fF=function(){this.TX=null;this.fw=null;
this.tJ=null;this.sf=this.Aj=-1;this.oT=null};E.ss.prototype.Iw=function(I,k,a,n){E._v.prototype.Iw.call(this,I,k,a,n);
if(a.P$!=this.id)return;if(I.T.length==0)return;var s=I.iQ(),C=s[0],T=s[1];if(T.length==0)return;var S=C[T[0]],D=S.add.vmsk,o=S.add.vstk,v=S.add.vogk,g=new d2(M.E.b,!0);
g.data={q:M.p.at,S:this.id,Ln:"main",nW:D?D:null,Z_:v};k.a(g)};E.ss.prototype.Un=function(I,k,a,n,s){var C=I.ri;
if(C.nW){var T=a.iQ(),S=T[0],D=T[1];if(D.length==0)return;var o=S[D[0]],v=o.add.vmsk.clone(),g=JSON.stringify(o.add.vogk),d=C.nW;
this.ND(a,o.Gq,d,C.Z_);var R=[18,5];if(v.d.length==d.d.length)R=v.T[0]==d.T[0]?"Fill Rule":"Path Order";
this.Jm(a,R,o.Gq,v,d,null,g,JSON.stringify(C.Z_))}};E.ua=function(){E._v.call(this,[10,28],E.Kc,"tools/dselect");
this.sf=-1;this.Aj=-1;this.Bd=null;this.tJ=null;this.TX=null;this.fw=null;this.aM=null;this.KW=null;
this.SQ=0;this.ic={psnap:!1};this.oT=null};E.ua.prototype=new E._v;E.ua.prototype.zJ=function(I){return I.ZT};
E.ua.prototype.Un=function(I){this.ic=I};E.ua.prototype.CP=function(I,k,a,n,s){if(I.q=="crnr"){if(a==null)return;
var C=a.iQ(),T=C[0],S=C[1];if(S.length==0){alert("No paths selected");return}var D=T[S[0]],o=D.add.vmsk;
if(o.Ut.length==0){alert("No corners selected");return}for(var Y=0;Y<o.Ut.length;Y++){var v=o.d[o.Ut[Y]];
if(!v.A.a$(v.zK)||!v.A.a$(v.VW)){alert("Only sharp corners can be rounded");return}}if(this.fw==null){this.fw=D.add.vmsk.clone();
this.aM=JSON.stringify(D.add.vogk);this.TX=D;this.KW=a}var g=new d2(M.E.b,!0);g.data={q:M.p.Fu,aw:"cornerradius",P6:5,h1:this.a1P.bind(this)};
k.a(g)}else E._v.prototype.CP.call(this,I,k,a,n,s)};E.ua.prototype.a1P=function(I){if(I=="confirm"){var k=this.KW,a=this.TX,n=a.add.vmsk,s=a.add.vogk;
this.Jm(k,[12,94,0],a.Gq,this.fw,n,null,this.aM,JSON.stringify(s));this.fF();return}var n=this.fw.clone(),s=JSON.parse(this.aM),C=n.Ut;
if(I=="cancel"){}else{var T=[];for(var Y=0;Y<C.length;Y++){var S=C[Y],D=j.n.c6(n.d,S,!0),g=0;if(T.indexOf(D)!=-1)continue;
T.push(D);var o=j.n.XN(n.d,D,!0),v=n.d[o].length,d=[];for(var R=0;R<v;R++){var c=n.Ut.indexOf(o+R+1)==-1?0:I;
d.push(c);if(c!=0)g++}j.n.OQ(n.d,o,d);for(var R=0;R<C.length;R++)if(C[R]>o+v)C[R]+=g}this.wT(n,s);n.Ut=[]}this.ND(this.KW,this.TX.Gq,n,s);
if(I=="cancel")this.fF()};E.ua.prototype.disable=function(I,k,a,n){this.QI(I)};E.ua.prototype.Vr=function(I,k,a,n,s){this.QI(I);
var C=I.w.m_(s.x,s.y),g,d,R;this.Bd=C.clone();var T=I.iQ(),S=T[0],D=T[1];if(D.length==0)return;var o=E.kY(I,s),v=new eZ(C.x-o,C.y-o,o*2,o*2);
for(var c=0;c<D.length;c++){g=this.TX=S[D[c]];d=g.add.vmsk;R=j.n.Lx(d.d,v);if(R[0].length+R[1].length+R[2].length!=0)break}var e=[!1,!1,!1];
for(var Y=0;Y<3;Y++){for(var O=0;O<R[Y].length;O++){var U=R[Y][O],K=d.d[U];if(d.Ut.indexOf(U)!=-1||Y==1&&d.Ut.indexOf(U-1)!=-1&&!K.A.a$(K.VW)||Y==2&&d.Ut.indexOf(U+1)!=-1&&!K.A.a$(K.zK)){R[Y]=[U];
e[Y]=!0;break}}}if(R[0].length!=0&&(e[0]||!e[1]&&!e[2])){var _=R[0][0],Z=d.Ut.indexOf(_);if(n.W(as.bJ)){if(Z==-1)d.Ut.push(_);
else{d.Ut.splice(Z,1);I.Xi=!0;return}}else if(Z==-1)d.Ut=[_];this.sf=_;this.Aj=0}else if(R[1].length!=0&&e[1]){this.sf=R[1][0];
this.Aj=1}else if(R[2].length!=0&&e[2]){this.sf=R[2][0];this.Aj=2}else{var H=j.n.oJ(d.d,C,!0,o);if(H.Gq==-1)this.tJ=C;
else{d.T=[H.Gq];d.Ut=[]}}if(this.fw==null){this.fw=g.add.vmsk.clone();this.aM=JSON.stringify(g.add.vogk)}this.oT=new g$(C);
I.Xi=!0};E.ua.prototype.Fr=function(I,k,a,n,s){if(I==null)return;var C=I.w.m_(s.x,s.y),T=this.TX;if(this.sf!=-1){var S=this.fw.clone(),D=T.add.vogk,o=S.d[this.sf];
o=[o.A,o.VW,o.zK][this.Aj];if(n.W(as.bJ)){if(this.Aj==0){C=this.oT.se(C,n);C.x+=o.x-this.Bd.x;C.y+=o.y-this.Bd.y}else C=E.hJ.Gi(S.d[this.sf].A,C)}else{if(this.ic.psnap){C.x=Math.round(C.x);
C.y=Math.round(C.y)}C=E.R0.a5(I,C,a)}if(this.Aj==0){var v=new dc(1,0,0,1,C.x-o.x,C.y-o.y);j.n.de(S.d,v,null,S.Ut)}else{var g=S.d[this.sf],d=g.VW,R=g.zK;
if(this.Aj==2){d=g.zK;R=g.VW}if(n.W(as.dE)&&(g.type==1||g.type==4))g.type++;d.dZ(C.x,C.y);if(g.type==1||g.type==4){var c=kK.f0(d,g.A),e=kK.f0(R,g.A);
if(e!=0){R.x=g.A.x-(d.x-g.A.x)*(e/c);R.y=g.A.y-(d.y-g.A.y)*(e/c)}}}this.wT(S,D);this.ND(I,T.Gq,S,D)}else if(this.tJ!=null){var O=this.tJ;
I.D.sV=j.X.Eu(new eZ(O.x,O.y,C.x-O.x,C.y-O.y));I.Xi=!0}else{var U=I.iQ(),K=U[0],_=U[1],T,S,G;if(_.length==0)return;
var Z=E.kY(I,s),H=new eZ(C.x-Z,C.y-Z,Z*2,Z*2);for(var N=0;N<_.length;N++){T=K[_[N]];S=T.add.vmsk;G=j.n.Lx(S.d,H);
if(G[0].length+G[1].length+G[2].length!=0)break}this.QI(I);for(var Y=0;Y<3;Y++){for(var z=0;z<G[Y].length;
z++){var L=G[Y][z],p=S.d[L];p=Y==0?p.A:Y==1?p.VW:p.zK;I.D.tK.push(p.x,p.y);I.Xi=!0}}}};E.ua.prototype.QI=function(I){if(I&&I.D.tK.length!=0){I.D.tK=[];
I.Xi=!0}};E.ua.prototype.pE=function(I,k,a,n,s){var C=I.w.m_(s.x,s.y),T=this.TX,S=T?T.add.vmsk:null,D=T?T.add.vogk:null;
if(this.sf!=-1){if(Date.now()-this.SQ<300){var o=S.d[this.sf],v=this.Aj,g=null;if(v==0){var d=o.VW.a$(o.A),R=o.zK.a$(o.A);
if(!d&&!R){g="Anchor Type";if(o.type==1||o.type==4)o.type++;else{o.type--;o.zK=o.A.add(o.A.Sm(o.VW))}}else{g="Add Handles";
if(d&&R){o.VW.x-=30;o.zK.x+=30}else if(d)o.VW=o.A.add(o.A.Sm(o.zK));else if(R)o.zK=o.A.add(o.A.Sm(o.VW))}}else{g="Remove Handle";
if(v==1)o.VW.KX(o.A);else o.zK.KX(o.A)}this.wT(S,D);this.ND(I,T.Gq,S,D);this.Jm(I,g,T.Gq,this.fw,S,null,this.aM,JSON.stringify(D))}else if(!this.Bd.a$(C)){this.Jm(I,"Drag Anchors",T.Gq,this.fw,S,null,this.aM,JSON.stringify(D))}this.SQ=Date.now()}else if(this.tJ!=null){var c=this.tJ,e=new eZ(c.x,c.y,C.x-c.x,C.y-c.y);
if(e.Q<0)e.x+=e.Q;if(e._<0)e.y+=e._;e.Q=Math.abs(e.Q);e._=Math.abs(e._);var O=j.n.Lx(S.d,e);S.Ut=O[0].concat(n.W(as.bJ)?S.Ut:[]);
I.D.sV=null}this.fF();I.Xi=!0};E.ua.prototype.fF=function(){this.TX=null;this.fw=null;this.tJ=null;this.sf=this.Aj=-1;
this.oT=null};E.ua.prototype.wT=function(I,k){for(var Y=0;Y<I.Ut.length;Y++){var a=j.n.c6(I.d,I.Ut[Y]);
j.Z_.XO(k,a)}};E.ua.prototype.Bf=function(I,k,a,n){if(I==null)return;var s=I.iQ(),C=s[0],T=s[1];if(T.length==0)return;
var S=C[T[0]],D=S.add.vmsk;if(D==null||D.Ut.length==0)return;var o=S.add.vogk,v=JSON.stringify(o),g=n.m4(I?I.w.AE:0);
if(g.x!=0||g.y!=0){var d=D.clone(),R=D.clone(),c=new dc(1,0,0,1,g.x,g.y);j.n.de(R.d,c,null,R.Ut);this.wT(R,o);
this.ND(I,S.Gq,R,o);this.Jm(I,"Move Anchors",I.T[0],d,R.clone(),!0,v,JSON.stringify(o))}if(n.W(as.Zf)||n.W(as.QE))this.CP({q:"remove",Iq:!0,a3M:!0},k,I,n,a)};
E.ua.prototype.Jm=function(I,k,a,n,s,C,T,S){var D=I.HS();if(C&&D!=null&&D.S==this&&D.data.aab&&D.data.dQ==a&&JSON.stringify(D.data.uc.Ut)==JSON.stringify(n.Ut)){D.data.vo=s;
D.data.HV=S}else{var D=new g7(k,this);D.data={dQ:a,uc:n,vo:s,aab:C,awu:T,HV:S};I.RB(D)}};E.Rect=function(){E.WX.call(this,[10,32],E.lc,"tools/rect",!0)};
E.Rect.prototype=new E.WX;E.Rect.prototype.XY=function(I,k,a){var n=this.J$.crad,s=k.x-I.x,C=k.y-I.y;
return[j.n.uQ.Rect(I.x,I.y,s,C,n),j.Z_.eJ("Rctn",[I.x,I.y,k.x,k.y],[n,n,n,n])]};E.hO=function(){E.WX.call(this,[10,33],E.VO,"tools/ellipse",!0)};
E.hO.prototype=new E.WX;E.hO.prototype.XY=function(I,k,a){var n=k.x-I.x,s=k.y-I.y;return[j.n.uQ.hO(I.x,I.y,n,s),j.Z_.eJ("Elps",[I.x,I.y,k.x,k.y])]};
E.eO=function(){E.WX.call(this,[10,34],E.O3,"tools/pshape",!1);this.J$.aopts=[!1,!0,50,100,0]};E.eO.prototype=new E.WX;
E.eO.prototype.XY=function(I,k,a){var n=this.J$.pshape,s=this.J$.crad,C=this.J$.irad/100,T=this.J$.sides,S=this.J$.width,D=this.J$.aopts,o=this.J$.length,O;
k=k.clone();var v=I.x,g=I.y,d=k.x,R=k.y,c=Math.sqrt((d-v)*(d-v)+(R-g)*(R-g)),e=Math.atan2(-R+g,d-v);
if(a)e=Math.round(e*180/Math.PI/15)*15*Math.PI/180;if(n==0)O=j.n.uQ.Sl(v,g,c,e,T,s);if(n==1)O=j.n.uQ.a2e(v,g,c,e,T,s,C);
if(n==2)O=j.n.uQ.Xq(I.x,I.y,k.x,k.y,S,D);if(n==3)O=j.n.uQ.aDa(v,g,c,e,o);return[O,j.Z_.eJ("customShape",[I.x,I.y,k.x,k.y],null,null,null,"--")]};
E.eO.prototype.Bf=function(I,k,a,n){E.WX.prototype.Bf.call(this,I,k,a,n);var s=n.m4(),C=this.J$,T,S;
if(s.y!=0){var D=-s.y,o=C.pshape;if(o<2){T="sides";S=Math.max(3,Math.min(100,C.sides+D))}else if(o==2){T="width";
S=Math.max(1,Math.min(100,C.width+D))}else if(o==3){T="length";S=Math.max(4,Math.min(40,C.length+D))}}if(s.x!=0){T="pshape";
S=Math.max(0,Math.min(3,C.pshape+s.x))}if(T){var v=new d2(M.E.b,!0),g={};g[T]=S;C[T]=S;v.data={q:M.p.at,S:this.id,ar:"vals",asq:g};
k.a(v);this.Fr(I,k,a,n)}};E.V9=function(){E.WX.call(this,[10,35],E.NW,"tools/line",!1)};E.V9.prototype=new E.WX;
E.V9.prototype.XY=function(I,k,a){var n=this.J$.width,s=this.J$.aopts;k=k.clone();if(a){k=E.hJ.Gi(I,k)}if(ht==1)n=0;
return[j.n.uQ.Xq(I.x,I.y,k.x,k.y,n,s),j.Z_.eJ("Ln",null,null,[I.x,I.y,k.x,k.y],n,null,s)]};E.WU=function(){E.WX.call(this,[10,31],E.d7,"tools/cshape",!0)};
E.WU.prototype=new E.WX;E.WU.prototype.XY=function(I,k,a){var n=this.J$.shape,s=n.UL.Q/n.UL._,C=X.JB.xa(n.d);
k=k.clone();if(a){k.y=I.y+(k.x-I.x)/s}var T=k.x-I.x,S=k.y-I.y;j.n.de(C,new dc(T,0,0,S,I.x,I.y));return[C,j.Z_.eJ("customShape",[I.x,I.y,k.x,k.y],null,null,null,n.z2)]};
E.nF=function(I,k,a){E.mu.call(this,I,k,a);this.KE=0;this.R=null;this.yQ=null;this.tb=null;this.Dc=1;
this.JC=0;this.O1=!0;this.p0=!1;this.cursor=null;this._u=null;this.Mr=null;this.ea=!1;this.oM=null;this.azz=0;
this.uk=null;this.$C=0;this.ZD=null;this.OL=null;this.SU=null;this.Df=null;this.au9=null;this.Et=null};
E.nF.prototype=new E.mu;E.nF.fU=function(I,k,a){var n={classID:"null",null:hW.Pg(a?"Lyr":"Dcmn",!0)};
if(I)n.Angl={t:"UntF",v:{type:"#Ang",val:k}};else n.Axis={t:"enum",v:{Ornt:k}};return{pi:I?"rotateEventEnum":"flip",zf:n}};
E.nF.prototype.pC=function(I,k,a,n,s){var C=new d2(M.E.b,!0);C.data={q:M.p.at,S:this.id,Yc:s,Lr:I,tb:a};
k.a(C);this.Zw=!1};E.nF.prototype.zJ=function(I){return this.OL&&this.OL.a4t()};E.nF.prototype.CP=function(I,k,a,n,s){this.tb=s;
if(I.q=="again"&&this.uk==null)return;if(!this.eE(a,s))return;if(this.OL){this.aAq(I,this.OL.Hq(),k,a,n,s);
this.GN(a,s,0,!0);this.LH(a);return}this.aj$(a,I.o==null,I.o);this.a4D(a);this.aAq(I,I.a7_,k,a,n,s);
this.hU(a,k,I.xn,!1)};E.nF.prototype.aAq=function(I,k,a,n,s,C){var T=this.ZD;if(k==null){var S=I.GJ!=null?I.GJ:4;
k=this.OL.a75()[S]}var D=k.x,o=k.y;if(I.q=="rot"&&I.P!=Math.PI&&(T.Q+T._&1)==1){D=Math.floor(D);o=Math.floor(o)}var v=new dc;
v.translate(-D,-o);if(I.q=="rot")v.rotate(I.P);if(I.q=="scl")v.scale(I.P.x,I.P.y);if(I.q=="mat")v.concat(I.P);
v.translate(D,o);if(I.q=="again")v=this.uk;var g=j.t.HE(v);if(I.q=="dtr"){var d=j.t;g=d.Rc(I.P,d.U(-D,-o));
g=d.Rc(d.U(D,o),g)}var R=this.OL.d6();j.t.h(g,R);this.OL.u9(R);if(I.dh){var c=I.dh.v;this.Un({Ln:"switchWarp"},a,n,s);
this.Un({Ln:"wrp",dh:c},a,n,s)}};E.nF.prototype.UC=function(){return!0};E.nF.prototype.eE=function(I,k,a){if(I==null)return!1;
if(this.id==E.Ll)return I.f!=null;var n=I.X0(!0,null,null,!0);if(this.id==E.To&&I.R[n[0]].rect.KH()){alert("Layer is empty.");
return!1}for(var Y=0;Y<n.length;Y++){var s=I.R[n[Y]];if(s.hY(2)||s.hY(31)){alert(hJ.get([6,57,0]));return!1}if(s.add.artb){alert("You can not transform the whole artboard");
return!1}if(s.add.TySh)if(!jW.SJ(s.add.TySh,k.IE))return!1;if(s.add.SoLd){if(n.length==1&&(a&&a.Ex==-1)&&(s.IO()&&s.IO().n2||s.add.vmsk&&s.add.vmsk.n2)){alert("Unlink masks before transforming Smart Object");
return!1}if(!I.agb(s.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+I.SR(s.add.SoLd.Idnt.v).f3+")");
return!1}}}if(I.f==null)return!0;if(!I.rb())return!1;return I.aEB()};E.nF.prototype.Vr=function(I,k,a,n,s){var C=this.aH(s,I),T=C[0],S=C[1],D=this.$C==0?this.OL:this.SU;
I.w.F*=S;this.p0=D.Vr(I,a,n,T,null,null,s);if(!this.p0&&ht==1){this.hU(I,k,null,!0);return}this.LH(I,T);
I.w.F/=S;if(this.p0&&D.sR(T)){if(Date.now()-this.azz<250)this.hU(I,k,null,!0);this.azz=Date.now()}};
E.nF.prototype.es=function(I){var k=new d2(M.E.b,!0);k.data={q:M.p.Zk,s3:this.cursor};I.a(k)};E.nF.prototype.aH=function(I,k){var a=1;
I=k.w.m_(I.x,I.y);if(this.$C==1){var n=j.t.UX(this.OL.d6(),this.ZD);a=j.t.Nr(n).Ha();var s=j.t.Us(n);
I=j.t.aq2(s,I)}return[I,a]};E.nF.prototype.Fr=function(I,k,a,n,s){var C=this.aH(s,I),T=C[0],S=C[1],D=this.$C==0?this.OL:this.SU;
if(!s.ZT){var o="default";if(D){var v=D.Fx(T,I.w.F*S,null,s);if(v)o=v}if(o!=this.cursor){this.cursor=o;
this.es(k)}if(this.SU){this.LH(I,T)}}if(!this.p0)return;I.w.F*=S;var g=this.tG=D.Fr(I,a,n,T,this.O1);
I.w.F/=S;this.GN(I,a,0,!0);this.LH(I,T);this.qX(k)};E.nF.prototype.pE=function(I,k,a,n,s){var C=this.aH(s,I),T=C[0],S=C[1];
this.OL.pE(I,a,n,T);if(this.SU){var D=this.SU.pE(I,a,n,T);if(D){this.qX(k,!0);this.LH(I)}}if(this.tG){var o=this.jP(),v=j.X.Eu(this.ZD).s;
j.t.h(o,v);this.OL.u9(v);this.tG=null}this.p0=!1};E.nF.prototype.Bf=function(I,k,a,n){if(n.W(as.da))this.hU(I,k,null,!0);
else if(n.W(as._a))this.dR(I,k);else{var s=this.OL.Bf(I,a,n);if(s){this.GN(I,a,0,!0);this.qX(k)}}};E.nF.prototype.Un=function(I,k,a,n){if(I.Ln=="commit")this.hU(a,k,null,!0);
else if(I.Ln=="cancel")this.dR(a,k);else if(I.Ln=="switchWarp"){this.$C=1-this.$C;this.a0E();this.LH(a);
this.qX(k)}else if(I.Ln=="wrp"){this.SU.a3X(I.dh);this.LH(a);this.GN(a,this.tb,0,!0)}else if(I.Ln=="splt")this.SU.anh(I.P);
else if(I.Ln=="ctyp"){this.OL.ana(I.T7);this.LH(a);this.qX(k)}else if(I.Ln=="cen"){this.OL.aDP(I.gk);
this.LH(a);this.GN(a,this.tb,0,!0)}else if(I.Ln=="trn"){var s=j.t.HE(I.HF),C=this.ZD,T=j.t.UX(this.OL.d6(),this.ZD);
s[6]=T[6],s[7]=T[7];var S=[C.x,C.y,C.x+C.Q,C.y,C.x+C.Q,C.y+C._,C.x,C.y+C._];j.t.h(s,S);this.Dc=I.Dc;
if(I.JC!=this.JC){this.JC=I.JC;this.azd(a)}this.O1=I.O1;this.OL.u9(S);this.LH(a);this.GN(a,this.tb,0,!0)}};
E.nF.prototype.LH=function(I,k){if(this.$C==0)this.OL.LW(I,this.tb);else{this.SU.LW(I,k);var a=this.jP();
j.t.h(a,I.D.YF.s);j.t.h(a,I.D.Wv);j.t.h(a,I.D._r)}};E.nF.prototype.hU=function(I,k,a,n){this.GN(I,this.tb,this.Dc);
var s=new g7(a?a:this.name,this),H="";if(this.KE==0)s.data={type:this.KE,R:this.R,oM:this.yQ,Rk:E.nF.IU(I,this.R)};
else if(this.KE==1){var C=I.R[this.R[0]],T;if(C.pO.YY<=0){T=j.U(C.pO.kE.c());j.Ez(C.pO.am,T,3)}else T=I.f.channel;
var S={rect:C.pO.kE.clone(),channel:T};s.data={type:this.KE,o:this.R[0],Mr:this.Mr,iy:S,_u:this._u,ea:this.ea,pO:C.pO,oM:this.oM,Rk:{Sq:C.pO.kE,b6:C.pO.am}}}else if(this.KE==2){s.data={type:this.KE,Mr:this.Mr,iy:{rect:I.f.rect.clone(),channel:I.f.channel.slice(0)}}}I.RB(s);
var D=this.ZD,o=j.t.UX(this.OL.d6(),D),v=this.yQ,g=v?v[0]:null;if(v&&v.length==1&&g[4]){var d=E.nF.QX(g[4].nonAffineTransform),D=j.X.TO(j.O8.ck(g[4].quiltWarp.v)[3]),R=j.t.UX(d,D);
o=j.t.Rc(o,j.t.Us(R))}var c=j.t.Nr(o),e=this.OL.Hq(),O=new dc;O.translate(e.x,e.y);O.concat(c);O.translate(-e.x,-e.y);
c=O.clone();var U=-Math.atan2(-c.J,c.M),K=new dc;K.rotate(U);c.concat(K);function _(p,V){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][V],val:p}}}var Z=hW.Pg("Lyr",!0);
if(this.id==E.Ll)Z.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};var G=E.nF.a33;for(var N in G)if(G[N]==this.OL.Qf)H=N;
if(H==""){H="Qcsi";O.Dw=O.rk=0}var z={classID:"null",null:Z,FTcs:{t:"enum",v:{QCSt:H}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:_(O.Dw,0),Vrtc:_(O.rk,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:_(Math.atan(c.mL/c.Jo)*180/Math.PI,2),Vrtc:_(0,2)}},Usng:{t:"Objc",v:{classID:"Pnt",Hrzn:_(100*0,1),Vrtc:_(100*0,1)}},Wdth:_(c.M*100,1),Hght:_(c.Jo*100,1),Angl:_(U*180/Math.PI,2)};
if(H=="Qcsi")z.Pstn={t:"Objc",v:{Hrzn:_(e.x,0),Vrtc:_(e.y,0)}};var L=this.SU?this.SU.rc():null;if(L&&!j.O8.K2(L)){z.quiltWarp={t:"Objc",v:L}}this.k3=k;
this.track({pi:"transform",zf:z});this.escape(I,k,n)};E.nF.a33={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3};
E.nF.prototype.dR=function(I,k){if(this.KE==0)E.nF.b3(I,this.R,this.yQ);else if(this.KE==1){var a=I.R[this.R[0]];
I.f=this.Mr;if(!this.ea){a.pO.kE=this.oM.Sq;a.pO.am=this.oM.b6;a.V8(I,0,0,I.f)}else{a.Ib(I,this._u)}I.V();
I.LQ=!0}else if(this.KE==2){I.f=this.Mr;I.LQ=!0}this.escape(I,k,!0)};E.nF.prototype.escape=function(I,k,a){this.OL.clear(I);
if(this.SU)this.SU.clear(I);this.OL=null;this.SU=null;this.Et=null;this.$C=0;if(a)this.OS(k,M.E.b,{q:M.p.Zj})};
E.nF.prototype.KY=function(I,k){if(I.type==0)E.nF.b3(k,I.R,I.Rk);else{if(I.type==1){var a=k.R[I.o];if(I.ea){a.pO=I.pO}else{a.pO.kE=I.Rk.Sq;
a.pO.am=I.Rk.b6}a.V8(k,0,0,k.f);k.V()}k.f={rect:I.iy.rect.clone(),channel:I.iy.channel.slice(0)};k.LQ=!0}};
E.nF.prototype.PP=function(I,k){if(I.type==0)E.nF.b3(k,I.R,I.oM);else{if(I.type==1){var a=k.R[I.o];if(I.ea){a.Ib(k,I._u)}else{a.pO.kE=I.oM.Sq;
a.pO.am=I.oM.b6;a.V8(k,0,0,k.f)}k.V()}k.f=I.Mr;k.LQ=!0}};E.nF.prototype.aj$=function(I,k,a){I.iQ();var n=[];
if(a==null)for(var Y=0;Y<I.dz.length;Y++)if(I.DD[I.dz[Y]].add.vmsk.d.length>2)n.push(-1-I.dz[Y]);var s=[],C=I.w.N;
if(C[0]+C[1]+C[2]==3)if(a!=null||n.length==0||I.L0!=null&&I.L0.length!=0){if(I.T.length==1){var T=I.R[I.T[0]];
if(T.hd()&&T.fv)s=[I.T[0]]}if(s.length==0)s=I.X0(k,a,null,!0)}s=s.concat(n);for(var Y=0;Y<I.Ap.length;
Y++)s.push(-1e3-I.Ap[Y]);this.R=s};E.nF.prototype.enable=function(I,k,a,n,s,C){if(this.cursor==null)this.cursor="default";
this.es(k);if(this.OL)return;this.tb=a;this.aj$(I,!0);this.a4D(I,C&&C.Ex!=null&&C.Ex!=-1?C.Ex:null);
this.qX(k,null,I);this.LH(I);if(C&&C.Ex==-1)this.Un({Ln:"switchWarp"},k,I,n)};E.nF.prototype.Hj=function(){return[this.O1?1:0]};
E.nF.prototype.j9=function(I,k,a){if(I&&I[0]!=null)this.O1=I[0]==1};E.nF.prototype.qX=function(I,k,a){var n={q:M.p.at,S:this.id};
if(this.$C==0){var s=j.t.UX(this.OL.d6(),this.ZD),C=j.t.Nr(s);n.HF={Ce:C,T7:this.OL.aF4(),gk:this.OL.Hq(),Sq:this.ZD.clone(),O1:this.O1}}else{n.azY=k;
n.dh=this.SU.rc()}if(a){n.TL=["---"];for(var Y=0;Y<a.TL.length;Y++)n.TL.push(a.TL[Y].name)}n.atr=this.SU!=null;
this.OS(I,M.E.b,n)};E.nF.prototype.a4D=function(I,k){var a=this.id==E.Ll,n=!0,s=this.R[0],C=I.R[s],S=null,D=null,o=null,d=null;
if(a){this.KE=2;this.Mr=I.f}else if(I.f&&this.R.length==1&&s>=0&&!C.rect.KH()){this.KE=1;this.Mr=I.f;
this._u=C.pO;this.ea=!1;if(!C.Mk(I,I.f)){this.ea=!0;C.SL(I,I.f,!1)}this.oM={b6:C.pO.am,Sq:C.pO.kE}}else{this.KE=0;
this.yQ=E.nF.IU(I,this.R,null);for(var Y=0;Y<this.yQ.length;Y++)if(this.yQ[Y][3]!=null)n=!1}var T=this.KE==1;
if(this.yQ&&this.yQ.length==1){var v=this.yQ[0];if(v[2]!=null)D=v[2].nW;if(v[3]==null)T=!0;if(v[3]!=null)o=v[3];
if(v[4]!=null){S=I.R[this.R[0]].add.SoLd;if(v[1]||v[2])T=!1}}var g=a?I.f.rect.clone():E.nF.GT(I,this.R);
this.ZD=g;if(!a&&D&&ht==1){d=D.sv();this.Df=j.t.UX(d,this.ZD)}else if(!a&&o&&ht==1){var R=I.R[this.R[0]],o=R.add.TySh;
d=j.X.Eu(R.qj.xu).s;j.X.h(d,o.h,d);this.Df=j.t.UX(d,this.ZD)}else if(!a&&S){d=E.nF.QX(S.nonAffineTransform);
this.ZD=j.X.TO(j.O8.ck(S.quiltWarp.v)[3]);if(T)this.SU=new i2(S.quiltWarp.v);this.Df=j.t.UX(d,this.ZD)}else{if(T||a)this.SU=new i2(j.O8.U(this.ZD));
this.Df=[1,0,0,0,1,0,0,0];if(this.id==E.To)k=3;d=[g.x,g.y,g.x+g.Q,g.y,g.x+g.Q,g.y+g._,g.x,g.y+g._]}this.OL=new hZ(d,!0,!0,n,!1,!1,k);
this.au9=[1,0,0,0,1,0,0,0];this.azd(I)};E.nF.prototype.azd=function(I){if(this.id==E.To){var k,a,C=null;
if(this.yQ&&I.f==null){var n=this.yQ[0][0],s=n.Fg;k=s[0];a=s[1]}else if(this.oM){k=this.oM.b6;a=this.oM.Sq}if(this.JC!=0)C=I.TL[this.JC-1].tf(a);
this.Et=j.NN.avo(k,a.Q,a._,C)}};E.nF.GT=function(I,k){if(k==null)k=I.X0(!0,null,null,!0);var a=new eZ,n=new eZ;
if(I.f&&k.length==1&&k[0]>=0)a=I.f.rect.clone();else for(var Y=0;Y<k.length;Y++){var s=k[Y],C=0<=s?I.R[s]:-1e3<s?I.DD[-1-s]:I.TL[-1e3-s],T=C.add?C.add.vmsk:null,S=0<=s?C.mQ(I,k.length==1,!1,!0):-1e3<s?j.n.oz(T.d,k.length==1&&T.T.length!=0?T.T:null):C.rect.clone();
a=a.oL(S);if(s>0&&C.add.artb)n=n.oL(C.OR())}return!n.KH()?n:a};E.nF.prototype.OS=function(I,k,a,n){var s=new d2(k,!0);
s.data=a;if(n)s.S=n;I.a(s)};E.nF.IU=function(I,k,a){var n=[];for(var Y=0;Y<k.length;Y++){var s=k[Y],C,T;
if(s>=0){C=I.R[s];T=C.Jf(I,a,!0)}else if(s>-1e3){C=I.DD[-1-s];T=[2]}else{n.push([null,null,null,null,null,null,null,I.TL[-1e3-s].clone()]);
continue}var S=[],D=T.indexOf(0)!=-1;if(D){var o={Fg:C.add.SoLd?null:[C.buffer.slice(0),C.rect.clone()]};
S.push(o);if(C.st()){var v=C.kx(I);o.atR=v.buffer.slice(0);o.ao0=v.rect.clone()}}else S.push(null);if(T.indexOf(1)!=-1)S.push(C.IO().clone());
else S.push(null);if(T.indexOf(2)!=-1)S.push({nW:C.add.vmsk.clone(),Lg:C.add.vstk?JSON.parse(JSON.stringify(C.add.vstk)):null,aG:C.add.vstk?fY.bZ(I.R[s].add):null,qm:C.add.vstl?JSON.stringify(C.add.vstl):null,Z_:C.add.vogk?JSON.parse(JSON.stringify(C.add.vogk)):null});
else S.push(null);if(C.add.TySh&&D){f4.kj(C.add.TySh);S.push(C.add.TySh.h.clone())}else S.push(null);
if(C.add.SoLd&&D)S.push(JSON.parse(JSON.stringify(C.add.SoLd)));else S.push(null);if(T.indexOf(3)!=-1)S.push(C.kx(I).u.clone());
else S.push(null);if(C.add.lmfx)S.push(JSON.stringify(C.add.lmfx));else S.push(null);n.push(S)}return n};
E.nF.b3=function(I,k,a){for(var Y=0;Y<k.length;Y++){var n=k[Y],s=0<=n?I.R[n]:-1e3<n?I.DD[-1-n]:I.TL[-1e3-n],C=a[Y];
if(C[0]){if(C[0].Fg){s.rect=C[0].Fg[1].clone();s.buffer=C[0].Fg[0].slice(0)}if(s.st()){var T=s.kx(I);
T.buffer=C[0].atR.slice(0);T.rect=C[0].ao0.clone()}}if(C[1]){s.IO().channel=C[1].channel.slice(0);s.IO().rect=C[1].rect.clone();
s.IO().WB=!0}if(C[2]){s.add.vmsk=C[2].nW.clone();if(C[2].aG)fY.$O(s.add,C[2].aG);if(C[2].Lg)s.add.vstk=JSON.parse(JSON.stringify(C[2].Lg));
if(C[2].Z_)s.add.vogk=JSON.parse(JSON.stringify(C[2].Z_));if(C[2].qm)s.add.vstl=JSON.parse(C[2].qm)}if(C[3]){s.add.TySh.h=C[3].clone();
f4.xX(s.add.TySh)}if(C[4]){s.add.SoLd=JSON.parse(JSON.stringify(C[4]))}if(C[5]){var S=s.kx(I).u;S.channel=C[5].channel.slice(0);
S.rect=C[5].rect.clone()}if(C[6]){s.add.lmfx=JSON.parse(C[6])}if(C[7]){s.channel=C[7].channel.slice(0);
s.rect=C[7].rect.clone();s.WB=!0}if(0<=n){s.Wr(I);s.V();if(C[4])s.Bi(I,!1)}}I.V()};E.nF.ff=function(I,k,a,n,s,C,T,S,D,o){if(typeof C[0]=="number"){var v=[];
for(var Y=0;Y<a.length;Y++)v[Y]=C;C=v}for(var Y=0;Y<a.length;Y++){var g=C[Y],d=j.t.Nr(g),R=d.Ha(),c=a[Y],e=0<=c?I.R[c]:-1e3<c?I.DD[-1-c]:I.TL[-1e3-c],O=n[Y];
if(e.add&&e.add.lmfx&&S)hB.ax(e.add.lmfx,R);if(O[0]&&!O[3]&&!O[4]&&!O[5]){var U=O[0].Fg;if(D){var K=D.LU(U[1]),_=j.U(K.c()*4);
j.ao(U[0],U[1],_,K);U=[_,K]}var Z=E.nF.dq(U,s,g,T,s==0?e.buffer.buffer:null,null,null,o);if(Z){e.rect=Z.rect;
e.buffer=Z.buffer}}if(O[1]){var H=e.IO();E.nF.YA(I,O[1],H,s,g,T,H.n2&&T&&!j.O8.K2(T)&&O[0]?O[0].Fg[1]:null);
if(D){var K=H.rect.LU(D),G=j.U(K.c());j.O0(H.channel,H.rect,G,K);H.channel=G;H.rect=K}}if(O[2]){var N=T&&!j.O8.K2(T),z=O[2].nW.clone(),L=a.length==1&&z.T.length!=0,p=a.length==1&&z.Ut.length>1;
if(p)L=!1;var V=L?z.T:null,r=p?z.Ut:null;if(N){var y=j.O8.ck(T);j.t.h(g,y[3]);j.n.aAa(z.d,y,V,r)}else j.n.alg(z.d,g,V,r);
if(e.add.vstk&&S){e.add.vstk.strokeStyleLineWidth.v.val=O[2].Lg.strokeStyleLineWidth.v.val*R;var W=O[2].aG;
if(W&&W.nE==3){W=JSON.parse(JSON.stringify(W));var m=W.aG.phase.v;W.aG.Scl.v.val=Math.round(W.aG.Scl.v.val*R);
m.Hrzn.v=Math.round(m.Hrzn.v*R);m.Vrtc.v=Math.round(m.Vrtc.v*R);fY.$O(e.add,W)}}if(e.add.vogk){e.add.vogk=JSON.parse(JSON.stringify(O[2].Z_));
if(N||p)j.Z_.atw(e.add.vogk);else j.Z_.h(e.add.vogk,g,a.length>1?[]:z.T,S)}if(e.add.vstl){var f=e.add.vstl=JSON.parse(O[2].qm);
for(var h=0;h<2;h++){var b=h==0?f.Bv:f.mx;if(b==null||b[3]==null)continue;var i=b[3],w=new dc(i[0],i[1],i[2],i[3],i[4],i[5]);
w.concat(d);b[3]=[w.M,w.J,w.mL,w.Jo,w.Dw,w.rk]}}z.K4*=R;var J=new dc;J.rotate(z.eh);J.concat(d);z.eh=Math.atan2(-J.J,J.M);
e.add.vmsk=z;if(e.add.vogk)j.Z_.ra(e.add.vogk,e.add.vmsk)}if(O[3]){var w=O[3].clone();w.concat(d);e.add.TySh.h=w;
f4.xX(e.add.TySh);jW.Rm(e,k.IE)}if(O[4]){var q=e.add.SoLd,x=E.nF.QX(O[4].nonAffineTransform);j.t.h(g,x);
var A=j.X.qP(x);if(hZ.Xx(x)){if(T){var Q=j.X.TO(j.O8.ck(O[4].quiltWarp.v)[3]),G=j.t.UX(x,Q),B=j.X.TO(j.O8.ck(T)[3]);
x=[B.x,B.y,B.x+B.Q,B.y,B.x+B.Q,B.y+B._,B.x,B.y+B._];j.t.h(G,x);q.quiltWarp.v=T}var l=j.t.UX(x),P=x;if(!j.t.$m(l)){l[6]=l[7]=0;
P=[0,0,1,0,1,1,0,1];j.t.h(l,P)}q.Trnf=E.nF.D1(P);q.nonAffineTransform=E.nF.D1(x);if(q.filterFX)q.filterFX=JSON.parse(JSON.stringify(O[4].filterFX));
E.nF.a8_(q,d);e.Bi(I,s==0,k.IE)}}if(O[5])E.nF.YA(I,O[5],e.kx(I).u,s,g,T);if(O[7])E.nF.YA(I,O[7],e,s,g,T);
if(0<=c){if(!o)e.Jk();e.Wr(I);e.V()}}I.V()};E.nF.e6=function(I,k){var a=k.Ha(),n=0;j.dI(I);var s=j.aaZ(I,k,.3,4);
n=s[0];k=s[1];var C=I[n],T=I[n+1],S=T.Q,D=T._,o=j.X.Eu(T).s;j.X.h(o,k,o);var v=j.X.qP(o),g=j.U(v.c()),d=v.x,R=v.y,c=v.Q,e=v._,O=k.clone();
O.Us();var U=O.yt(new kK(0,0)),K=O.yt(new kK(1,0)),_=K.x-U.x,Z=K.y-U.y;for(var H=0;H<e;H++){var G=O.M*(d+.5)+O.mL*(H+R+.5)+O.Dw,N=O.J*(d+.5)+O.Jo*(H+R+.5)+O.rk;
for(var z=0;z<c;z++){g[H*c+z]=Math.floor(.5+j.t.ab0(G,N,C,S,D));G+=_;N+=Z}}return{rect:v,channel:g}};
E.nF.on=function(I,k,a,n,s,C){if(a==null)a=!1;return E.nF.dq(I,a?0:1,j.t.HE(k),null,n,s,C,a)};E.nF.dq=function(I,k,a,n,s,C,T,S){if(S==null)S=!1;
if(S&&T)throw"e";var D={},v=0;if(n&&!j.O8.K2(n)){var o=j.O8.ck(n);j.t.h(a,o[3]);D.rect=j.X.qP(o[3]);
D.buffer=j.U(D.rect.c()*4);j.QT.drawImage(o,I[0],I[1].Q,I[1]._,D.buffer,D.rect,k==0);return D}if(j.t.$m(a)){j.iz(I);
var g=.3,v=0,d=j.t.Nr(a),R=I[1],c=R.c()*d.Ha();if(S&&c>4e6)g=c>8e6?2.2:1.2;var e=j.aaZ(I,d,g,16);v=e[0];
a=j.t.HE(e[1])}var O=I[v],R=I[v+1],U=j.t.Rc(a,j.t.HE(new dc(R.Q,0,0,R._,R.x,R.y))),K=[0,0,1,0,1,1,0,1];
j.t.h(U,K);D.rect=j.X.qP(K);if(T)D.rect=D.rect.LU(T);if(S){while((D.rect.Q&3)!=0)D.rect.Q++;while((D.rect._&3)!=0)D.rect._++}if(!hZ.Xx(K)||D.rect.Q>1e5||D.rect._>1e5||D.rect.c()>3e4*3e4)return null;
var _=D.rect.c()*4;if(s&&s.byteLength>=_&&_>=s.byteLength>>2){D.buffer=new Uint8Array(s)}else{D.buffer=j.U(_)}j.t.drawImage(U,O,R.Q,R._,D.buffer,D.rect,k==0,C,S);
if(k==2&&D.buffer){var Z=D.rect.Q,H=D.rect._,G;G=[0,-1,0,-1,16,-1,0,-1,0];G=j.Qz.TT(G);var N=D.buffer.slice(0);
j.Qz.Lp(N,D.buffer,Z,H,G,255,!1,!0)}if(D.buffer)return D};E.nF.YA=function(I,k,a,n,s,C,T){var S=k.rect,D=k.channel;
if(T){S=T;D=k.tf(S)}if(k.color==255)j.Us(D);var o=j.U(S.c()*4);j.yv(D,o,3);var v=E.nF.dq([o,S],n,s,C);
if(v){a.rect=v.rect;a.channel=j.U(v.rect.c());j.Ez(v.buffer,a.channel,3);a.WB=!0}if(k.color==255){j.Us(D);
if(v)j.Us(a.channel)}};E.nF.a8_=function(I,k){var a=I.filterFX;if(a)a=a.v.filterFXList;if(a)a=a.v;if(a)for(var n=0;
n<a.length;n++){var s=a[n].v.Fltr;if(s==null||s.v.classID!="rigidTransform")continue;s=s.v;console.log(s);
var C=[];for(var T=0;T<4;T++)C.push(s["PuX"+T].v,s["PuY"+T].v);j.X.h(C,k,C);for(var T=0;T<4;T++){s["PuX"+T].v=C[T*2];
s["PuY"+T].v=C[T*2+1]}var S=["PinP","posFinalPins"],D=["originalVertexArray","deformedVertexArray"],o=s.puppetShapeList.v;
for(var v=0;v<o.length;v++){var g=o[v].v;for(var d=0;d<S.length;d++){var R=E.nF.QX(g[S[d]]);j.X.h(R,k,R);
g[S[d]]=E.nF.D1(R);var c=new Uint8Array(g[D[d]].v),e=new Float32Array(c.buffer);j.X.h(e,k,e);var O=[];
for(var U=0;U<c.length;U++)O[U]=c[U];g[D[d]].v=O}}}};E.nF.QX=function(I){var k=[],a=I.v.length;for(var Y=0;
Y<a;Y++)k.push(I.v[Y].v);return k};E.nF.D1=function(I){var k={t:"VlLs",v:[]},a=I.length;for(var Y=0;
Y<a;Y++)k.v.push({t:"doub",v:I[Y]});return k};E.nF.prototype.a0E=function(){var I=j.X.TO(j.O8.ck(this.SU.rc())[3]),k=j.t.UX(this.OL.d6(),this.ZD),a=[I.x,I.y,I.x+I.Q,I.y,I.x+I.Q,I.y+I._,I.x,I.y+I._];
j.t.h(k,a);this.OL.u9(a);this.ZD=I};E.nF.prototype.jP=function(){var I=j.t.UX(this.OL.d6(),this.ZD);
if(this.tG)I=j.t.Rc(I,j.t.HE(this.tG));return I};E.nF.prototype.GN=function(I,k,a,n){var s=this.jP();
s=j.t.Rc(s,j.t.Us(this.Df));var C=this.SU?this.SU.rc():null;if(this.KE==0){var T=this.uk=j.t.Nr(s);if(this.id==E.To){var S=this.yQ[0][0],D=S.Fg,o=D[1],v=~~(o.Q*Math.max(0,T.M)),g=~~(o._*Math.max(0,T.Jo)),d=new eZ(Math.round(T.M*o.x+T.Dw),Math.round(T.Jo*o.y+T.rk),v,g),R=j.NN.h(this.Et,d),c=I.R[this.R[0]];
c.buffer=R;c.rect=d;c.V();I.V()}else E.nF.ff(I,k,this.R,this.yQ,a,s,C,null,null,n)}else if(this.KE==1){var e=I.R[this.R[0]],o=this.oM.Sq;
if(e.YY<=0){var O=this.oM.b6,U=this.Mr,K=null;if(C&&!j.O8.K2(C)&&!U.rect.a$(o)){var R=j.U(U.rect.c()*4);
j.ao(O,o,R,U.rect);O=R;o=U.rect}if(this.id==E.To){var T=this.uk=j.t.Nr(s),v=~~(o.Q*Math.max(0,T.M)),g=~~(o._*Math.max(0,T.Jo)),d=new eZ(Math.round(T.M*o.x+T.Dw),Math.round(T.Jo*o.y+T.rk),v,g),R=j.NN.h(this.Et,d);
K={buffer:R,rect:d}}else K=E.nF.dq([O,o],a,s,C);if(K){e.pO.am=K.buffer;e.pO.kE=K.rect;var _=j.U(K.rect.c());
j.Ez(e.pO.am,_,3);I.f={channel:_,rect:e.pO.kE.clone()}}}else{var Z=j.U(o.c()*4);j.yv(this.oM.b6,Z,3);
var K=E.nF.dq([Z,o],a,s,C);if(K){e.pO.am=j.U(K.rect.c());j.Ez(K.buffer,e.pO.am,3);e.pO.kE=K.rect}this.aaO(I,a,s,C)}e.V8(I,0,0,I.f);
if(a!=0){e.Jk();j.Jk(I.f)}I.LQ=!0;I.V()}else if(this.KE==2)this.aaO(I,a,s,C)};E.nF.prototype.aaO=function(I,k,a,n){var s=this.Mr.rect,C=j.U(s.c()*4);
j.yv(this.Mr.channel,C,3);var T=E.nF.dq([C,s],k,a,n),S=j.U(T.rect.c());j.Ez(T.buffer,S,3);I.f={channel:S,rect:T.rect};
I.LQ=!0};E.nF.prototype.disable=function(I,k,a,n){if(this.OL)this.hU(I,k,null,!0)};E.acu=function(){E.nF.call(this,[10,16],E.Yo,"tools/transform")};
E.acu.prototype=new E.nF;E.aof=function(){E.nF.call(this,[7,10],E.Ll,"tools/transform")};E.aof.prototype=new E.nF;
E.ajT=function(){E.nF.call(this,[10,48],E.To,"tools/transform")};E.ajT.prototype=new E.nF;E.lU=function(I,k,a){E.mu.call(this,[10,46],E.DV,"tools/transform");
this.qT=[1,1,2,!0];this.R_="rigidTransform";this.Ix=null;this.ax$=null;this.vS=null;this.Nx=null;this.cI=null;
this.uj=null;this.A$=[]};E.lU.prototype=new E.mu;E.lU.prototype.UC=function(){return!0};E.lU.uf=function(I){if(I==null)return!1;
if(I.T.length!=1)return!1;var k=I.R[I.T[0]];return k.add.SoLd||I.rb(!1)};E.lU.prototype.eE=function(I,k){return E.lU.uf(I)};
E.lU.prototype.enable=function(I,k,a,n,s,C,T){this.ax$=C.uh;var S=C.uh,D,e=null;if(S){var o=I.R[S.o];
if(o.add.SoLd.filterFX!=null){var v=o.add.SoLd.filterFX.v.filterFXList.v;if(v[S.index])D=JSON.parse(JSON.stringify(v[S.index].v.Fltr.v))}}var g=D==null,o=I.R[I.T[0]],d=o.buffer,R=o.rect,c=o.add.SoLd;
if(c){var O=c.nonAffineTransform.v;e=[];for(var Y=0;Y<4;Y++)e.push(O[Y*2].v,O[Y*2+1].v);if(g)this.v8("edit",k);
var U=o.kx(I);d=U.buffer;R=U.rect}this.Ix={buffer:d.slice(0),rect:R.clone(),a9U:e};if(g)D=E.lU.$R(this.Ix,this.qT);
this.vS=D;this.Nx=E.lU.Qy(this.vS,this.qT);this.aq();this.vB(I);if(g)this.lX(k);var K=new d2(M.E.b,!0);
K.data={q:M.p.at,S:this.id,CU:this.qT};k.a(K);K.data={q:M.p.Zk,s3:"default"};k.a(K)};E.lU.prototype.disable=function(I,k,a,n){if(this.Nx)this.hU(I,k,!0)};
E.lU.prototype.aq=function(I){var k=this.Nx;this.A$=[];for(var Y=0;Y<k.length;Y++){var a=k[Y];for(var n=0;
n<a.T.length;n++)this.A$.push([Y,a.T[Y]]);a.GH=j.IQ.a6a(a);if(I)j.IQ.az4(a)}};E.lU.prototype.Un=function(I,k,a,n){if(I.Ln=="commit")this.hU(a,k,!0);
else if(I.Ln=="cancel")this.dR(a,k,!0);else if(I.Ln=="prm"){var s=!1;for(var Y=0;Y<3;Y++)if(this.qT[Y]!=I.CU[Y])s=!0;
this.qT=I.CU;if(s){this.vS=E.lU.$R(this.Ix,this.qT,this.vS);this.Nx=E.lU.Qy(this.vS,this.qT);this.aq(!0);
this.lX(k)}this.vB(a)}else if(I.Ln=="moveDepth"){var C=this.Nx;for(var T=0;T<C.length;T++){var S=C[T];
for(var Y=0;Y<S.T.length;Y++){var D=S.T[Y];S.bE[D]+=I.a0b?1:-1}}this.lX(k)}};E.lU.prototype.rI=function(I,k){return I==as.Zf||I==as.QE};
E.lU.prototype.Bf=function(I,k,a,n){var s=n.m4();if(n.W(as.da))this.hU(I,k,!0);else if(n.W(as._a))this.dR(I,k,!0);
else if(n.W(as.Zf)||n.W(as.QE)){var C=this.Nx;for(var T=0;T<C.length;T++){var S=C[T];S.T.sort(function(v,g){return g-v});
for(var Y=0;Y<S.T.length;Y++){var D=S.T[Y],o=D*2;S.bE.splice(D,1);S.Uu.splice(D,1);S.r2.splice(D,1);
S.Kt.splice(D,1);S.TI.splice(o,2);S.Ht.splice(o,2)}S.T=[];if(S.Kt.length==0){S.Ps=S.wv.slice(0);S.jz=S.wv.slice(0)}}this.aq(!0);
this.lX(k);this.vB(I)}else if(s.x!=0||s.y!=0){this.asW(I,s.x,s.y,k);this.JQ=null}};E.lU.prototype.hU=function(I,k,a){this.v8("confirm",k);
this.escape(I,k,a)};E.lU.prototype.dR=function(I,k,a){this.v8("cancel",k);this.escape(I,k,a)};E.lU.prototype.escape=function(I,k,a){I.D.sV=null;
I.D.tK=[];I.D.SV=[];I.Xi=!0;this.Nx=null;var n=new d2(M.E.b,!0);n.data={q:M.p.Zj};if(a)k.a(n)};E.lU.prototype.Vr=function(I,k,a,n,s){var C=I.w.m_(s.x,s.y),T=C.x,S=C.y,D=this.Nx,o=null,v=[0,2,4,1.2,1.2,1.2],g=-1,d=E.kY(I,s);
for(var Y=0;Y<D.length;Y++){var R=D[Y],c=j.X.w_(R.Ht,T,S,d);if(c!=-1)o=[Y,c];if(g==-1&&j.IQ.aeX.av7(R.jz,R.y9,T,S))g=Y}if(o==null&&g!=-1){var R=D[g];
E.lU.a16(R,T,S,T,S,0);o=[g,R.Kt.length-1];R.GH=j.IQ.a6a(R)}this.cI=C;if(o){var e=D[o[0]].T.indexOf(o[1])!=-1;
if(n.W(as.bJ)&&!e){D[o[0]].T.push(o[1]);this.A$.push(o)}else if(!e){D[o[0]].T=[o[1]];this.A$=[o]}}this.vB(I)};
E.lU.a16=function(I,k,a,n,s,C){var T=j.X.w_(I.jz,k,a);I.Kt.push(T);I.Ht.push(n,s);I.TI.push(I.jz[T*2]-k,I.jz[T*2+1]-a);
I.r2.push(0);I.Uu.push(!1);I.bE.push(C)};E.lU.prototype.Fr=function(I,k,a,n,s){var C=I.w.m_(s.x,s.y),T=this.cI;
if(T)this.asW(I,C.x-T.x,C.y-T.y,k)};E.lU.prototype.asW=function(I,k,a,n){var s={},C=this.A$,T=this.Nx;
if(this.JQ==null){this.JQ=[];for(var Y=0;Y<T.length;Y++)this.JQ.push(T[Y].Ht.slice(0))}for(var Y=0;Y<C.length;
Y++){var S=this.A$[Y],D=S[0],o=T[S[0]],v=S[1]*2;o.Ht[v+0]=this.JQ[D][v+0]+k;o.Ht[v+1]=this.JQ[D][v+1]+a;
s[D]=D}for(var D in s)j.IQ.az4(this.Nx[s[D]]);this.vB(I);this.lX(n)};E.lU.prototype.v8=function(I,k){var a=new d2(M.E.r,!0);
a.S=E.OJ;a.data={q:I,uh:this.ax$,R_:this.R_,B9:this.vS};k.a(a)};E.lU.prototype.pE=function(I,k,a,n,s){this.cI=null;
this.JQ=null};E.lU.prototype.lX=function(I){E.lU.ayP(this.Nx,this.qT,this.vS);this.v8("edit",I)};E.lU.prototype.vB=function(I){var k=this.Nx,a=this.vS;
I.D.sV={s:[],m:[]};I.D.tK=[];I.D.SV=[];for(var Y=0;Y<k.length;Y++){var n=k[Y];for(var s=0;s<n.Ht.length;
s+=2){var C=I.D.SV;if(n.T.indexOf(s>>>1)!=-1)C=I.D.tK;C.push(n.Ht[s],n.Ht[s+1])}if(this.qT[3])j.X.concat(I.D.sV,j.X.aDl(n.jz,n.y9))}I.Xi=!0};
E.lU.$R=function(I,k,a){var n=I.buffer,s=I.rect,C=I.a9U,T=gJ.nI("rigidTransform");if(C)for(var Y=0;Y<4;
Y++){T["PuX"+Y].v=C[Y*2];T["PuY"+Y].v=C[Y*2+1]}var S=T.puppetShapeList.v,D=j.IQ.acb(n,s.Q,s._,k[1],k[2]),o=[];
for(var v=0;v<D.length;v++){var g={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
g.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var d=D[v];S.push({t:"Objc",v:g});var R=d.wv.slice(0);j.X.h(R,new dc(1,0,0,1,s.x,s.y),R);var c=d.y9;
for(var Y=0;Y<c.length;Y+=3){var e=c[Y+1];c[Y+1]=c[Y+2];c[Y+2]=e}o.push({y9:c,wv:R,Ps:R,jz:R,Kt:[],TI:[],Ht:[],GH:null,T:[],r2:[],Uu:[],bE:[]})}if(a){var O=E.lU.Qy(a,[]),U=o[0];
for(var Y=0;Y<O.length;Y++){var K=O[Y];for(var _=0;_<K.T.length;_++)U.T.push((U.Ht.length>>>1)+K.T[_]);
for(var _=0;_<K.Kt.length;_++){var Z=K.Kt[_]*2,H=K.wv[Z]-K.TI[_*2],G=K.wv[Z+1]-K.TI[_*2+1];E.lU.a16(U,H,G,K.Ht[_*2],K.Ht[_*2+1],K.bE[_])}}}E.lU.ayP(o,k,T);
return T};E.lU.Qy=function(I,k){var a=E.nF.QX,n=I.puppetShapeList.v,s=[];for(var C=0;C<n.length;C++){var T=n[C].v;
k[0]=T.meshRigidity.v-1;k[1]=T.meshQuality.v-1;k[2]=T.meshExpansion.v;var S=T.pinVertexIndices.v.length,D=T.meshBoundaryPath.v.pathComponents.v;
if(D.length!=0){var o=D[0].v.SbpL.v[0].v.Pts;o.v=[]}var v=new Uint32Array(new Uint8Array(T.indexArray.v).buffer),g=new Float32Array(new Uint8Array(T.originalVertexArray.v).buffer),d=new Float32Array(new Uint8Array(T.deformedVertexArray.v).buffer),R=[],c=[],e=[];
for(var Y=0;Y<v.length;Y++)R.push(v[Y]);for(var Y=0;Y<g.length;Y++){c.push(g[Y]);e.push(d[Y])}var O=a(T.pinVertexIndices),U=a(T.pinOffsets),K=a(T.posFinalPins),_=a(T.PnRt),Z=a(T.PnOv),H=a(T.PnDp),G=a(T.selectedPin);
s.push({y9:R,wv:c,Ps:e.slice(0),jz:e,Kt:O,TI:U,Ht:K,GH:null,r2:_,Uu:Z,bE:H,T:G})}return s};E.lU.ayP=function(I,k,a){function n(d,R){var c=[];
for(var Y=0;Y<d.length;Y++)c.push({t:R,v:d[Y]});return c}function s(d,R,c){var e=new(c?Uint32Array:Float32Array)(d),O=new Uint8Array(e.buffer);
for(var Y=0;Y<O.length;Y++)R[Y]=O[Y]}var C=a.puppetShapeList.v;for(var T=0;T<C.length;T++){var S=I[T],D=C[T].v;
D.meshRigidity.v=k[0]+1;D.meshQuality.v=k[1]+1;D.meshExpansion.v=k[2];s(S.y9,D.indexArray.v,!0);s(S.wv,D.originalVertexArray.v);
s(S.jz,D.deformedVertexArray.v);var o=[];for(var Y=0;Y<S.Kt.length;Y++){var v=S.Kt[Y]*2,g=Y*2;o[g]=S.wv[v]-S.TI[g];
o[g+1]=S.wv[v+1]-S.TI[g+1]}D.PinP.v=n(o,"doub");D.pinVertexIndices.v=n(S.Kt,"long");D.pinOffsets.v=n(S.TI,"doub");
D.posFinalPins.v=n(S.Ht,"doub");D.PnRt.v=n(S.r2,"long");D.PnOv.v=n(S.Uu,"bool");D.PnDp.v=n(S.bE,"doub");
D.selectedPin.v=n(S.T,"long")}};E.xG=function(I,k,a){E.mu.call(this,I?I:[10,40],k?k:E.s4,a?a:"tools/slice");
this.Tt=null;this.k3=null;this.vP=null;this.aEn=null;this.D5=null;this.TV=null};E.xG.prototype=new E.mu;
E.xG.oJ=function(I,k){var a=-1;for(var Y=0;Y<I.length;Y++){var n=E.xG.mj(I,Y);if(n[0]<=k.x&&k.x<=n[2]&&n[1]<=k.y&&k.y<=n[3]){a=Y;
break}}return a};E.xG.prototype.CP=function(I,k,a,n,s){if(a==null)return;this._A(a);if(I.q=="fromAction"){var C=I._f,T=C.pi,S=C.zf,D=a.Ru(),o=a.ev(),v=o==-1?new eZ(0,0,a.Q,a._):a.R[o].OR();
if(T=="divide"){if(a.Fl.length!=0){var g=a.Fl[0],d=E.xG.mj(a.IZ,g);v=new eZ(d[0],d[1],d[2]-d[0],d[3]-d[1]);
a.IZ.splice(g,1);a.Fl=[]}D=[[],[]];for(var R=0;R<2;R++){var c=["Across","Down"][R],e=S["pixels"+c]?0:1,O=S[["pixels","slices"][e]+c];
if(O==null)continue;O=O.v;var U=R==0?v.x:v.y,K=R==0?v.Q:v._;if(e==0)for(var Y=1;Y*O<K;Y++){D[0].push([R,U+Y*O]);
D[1].push(o)}else{var _=Math.floor(K/O);for(var Y=1;Y<O;Y++){D[0].push([R,U+Y*_]);D[1].push(o)}}}}var Z=[v.x,v.x+v.Q],H=[v.y,v.y+v._];
for(var Y=0;Y<D[0].length;Y++){var G=D[0][Y],N=Math.round(G[1]),z=D[1][Y];if(z!=-1&&z!=o)continue;if(G[0]==0&&Z.indexOf(N)==-1)Z.push(N);
if(G[0]==1&&H.indexOf(N)==-1)H.push(N)}Z.sort(function(b,i){return b-i});H.sort(function(b,i){return b-i});
for(var L=1;L<H.length;L++)for(var p=1;p<Z.length;p++){a.IZ.push(E.xG.fu());E.xG.yA(a.IZ,a.IZ.length-1,[Z[p-1],H[L-1],Z[p],H[L]]);
a.Xi=!0}}else if(I.q=="reorder"){if(a.Fl.length==0)return;var V=a.IZ,r=a.Fl;r.sort(function(b,i){return b-i});
console.log(r);var y=V.slice(0),W=[],m=[];for(var Y=0;Y<r.length;Y++){var g=r[Y],f=V[g];m.push(f);y.splice(y.indexOf(f),1)}var h=Math.max(0,Math.min(y.length,r[0]-I.dir));
for(var Y=0;Y<m.length;Y++){y.splice(h+Y,0,m[Y]);W.push(h+Y)}a.IZ=y;a.Fl=W}else if(I.q=="delete"){var V=a.IZ.slice(0);
for(var Y=0;Y<a.Fl.length;Y++)a.IZ.splice(a.IZ.indexOf(V[a.Fl[Y]]),1);a.Fl=[]}else if(I.q=="deleteAll"){a.IZ=[];
a.Fl=[]}else{a.IZ[a.Fl[0]].v=I;a.Xi=!0}this.QY(a)};E.xG.prototype.enable=function(I,k,a,n,s,C){E.mu.prototype.enable.call(this,I,k,a,n,s,C);
if(!a.M6.IZ){var T=new d2(M.E.b,!0);T.data={q:M.p.iv,CU:f9.MO};k.a(T)}};E.xG.prototype.disable=function(){this.Tt=null;
this.k3=null};E.xG.prototype.pC=function(I,k,a,n,s){var C=I.w.m_(s.x,s.y),T=E.xG.oJ(I.IZ,C);if(T==-1)return;
this.Tt=I;this.k3=k;I.Fl=[T];I.Xi=!0;if(this.TV==null){this.TV=new io([{name:[5,4]},{name:[8,11,1],LC:!0}]);
this.TV.O("select",this.gi,this)}var S=this.TV;S.parent=k;S.k();S.update(I,a);var D=new d2(M.E.b,!0);
D.data={q:M.p.ut,zM:S,x:s.E1+2,y:s.uI+1};k.a(D)};E.xG.prototype.gi=function(I){var k=this.TV.Ke()[0],a=this.Tt;
if(k==0){this._A(a);a.IZ.splice(a.Fl[0],1);a.Fl=[];a.Xi=!0;this.QY(a)}if(k==1){var n=new d2(M.E.b,!0);
n.data={q:M.p.Fu,aw:"soptions",P:a.IZ[a.Fl[0]].v};this.k3.a(n)}};E.xG.prototype.Vr=function(I,k,a,n,s){if(I==null)return;
this._A(I);var C=I.w.m_(s.x,s.y);C=E.R0.a5(I,C,a,[!0,null,!1]);C.x=Math.round(C.x);C.y=Math.round(C.y);
this.D5=C;I.IZ.unshift(E.xG.fu());I.Fl=[0];E.xG.yA(I.IZ,0,[C.x,C.y,C.x+20,C.y+20]);I.Xi=!0};E.xG.prototype.Fr=function(I,k,a,n,s){if(this.vP==null)return;
var C=I.w.m_(s.x,s.y),T=this.D5;C=E.R0.a5(I,C,a,[!0,null,!1]);C.x=Math.round(C.x);C.y=Math.round(C.y);
var S=[T.x,T.y,C.x,C.y];E.xG.ajW(S);E.xG.yA(I.IZ,0,S);I.Xi=!0};E.xG.prototype.pE=function(I,k,a,n,s){this.QY(I);
this.D5=null};E.xG.prototype._A=function(I){this.vP=JSON.stringify(I.IZ);this.aEn=JSON.stringify(I.Fl)};
E.xG.prototype.QY=function(I){var k=JSON.stringify(I.IZ);if(k!=this.vP){var a=new g7(this.name,this);
a.data={oM:this.vP,Rk:k,asM:this.aEn,a9D:JSON.stringify(I.Fl)};I.RB(a)}this.vP=null};E.xG.prototype.PP=function(I,k){k.IZ=JSON.parse(I.oM);
k.Fl=JSON.parse(I.asM);k.Xi=!0};E.xG.prototype.KY=function(I,k){k.IZ=JSON.parse(I.Rk);k.Fl=JSON.parse(I.a9D);
k.Xi=!0};E.xG.prototype.rI=function(I,k){return k!=null&&k.Fl.length!=0&&(I==as.Zf||I==as.QE)};E.xG.prototype.Bf=function(I,k,a,n){if(I==null)return;
if(n.W(as.Zf)||n.W(as.QE))this.CP({q:"delete"},k,I,n,a);var s=n.m4();if(s.x!=0||s.y!=0){this._A(I);E.xG.pR(I,s);
this.QY(I)}};E.xG.prototype.Un=function(I,k,a,n,s){};E.xG.aDs=function(I,k,a,n){var s=new kK(-k.x,-k.y),C=k.Q/a.Q,T=k._/a._,S=[0,0,k.Q,k._];
for(var Y=0;Y<I.length;Y++){var D=E.xG.mj(I,Y);if(n){D[0]=Math.round(D[0]*C);D[1]=Math.round(D[1]*T);
D[2]=Math.round(D[2]*C);D[3]=Math.round(D[3]*T)}else{E.xG.UY(D,s);E.xG.ap9(D,S)}if(D[0]>=D[2]||D[1]>=D[3]){I.splice(Y,1);
Y--;continue}E.xG.yA(I,Y,D)}};E.xG.pR=function(I,k){var a=I.IZ;for(var Y=0;Y<I.Fl.length;Y++){var n=E.xG.mj(a,I.Fl[Y]);
E.xG.UY(n,k);E.xG.yA(a,I.Fl[Y],n)}};E.xG.ap9=function(I,k){if(I[0]<k[0])I[0]=k[0];if(I[1]<k[1])I[1]=k[1];
if(k[2]<I[2])I[2]=k[2];if(k[3]<I[3])I[3]=k[3]};E.xG.UY=function(I,k){I[0]=Math.round(I[0]+k.x);I[2]=Math.round(I[2]+k.x);
I[1]=Math.round(I[1]+k.y);I[3]=Math.round(I[3]+k.y)};E.xG.yA=function(I,Y,k){var a=I[Y].v.bounds.v;a.Left.v=k[0];
a.Top.v=k[1];a.Rght.v=k[2];a.Btom.v=k[3]};E.xG.mj=function(I,Y){var k=I[Y].v.bounds.v;return[k.Left.v,k.Top.v,k.Rght.v,k.Btom.v,Y]};
E.xG.ajW=function(I){if(I[2]<I[0]){var k=I[0];I[0]=I[2];I[2]=k}if(I[2]==I[0])I[2]++;if(I[3]<I[1]){var k=I[1];
I[1]=I[3];I[3]=k}if(I[3]==I[1])I[3]++};E.xG.TO=function(I,k){var a=1e9,n=-1e9,s=1e9,C=-1e9;for(var Y=0;
Y<k.length;Y++){var T=E.xG.mj(I,k[Y]);a=Math.min(a,T[0]);s=Math.min(s,T[1]);n=Math.max(n,T[2]);C=Math.max(C,T[3])}return[a,s,n,C]};
E.xG.fu=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
E.wW=function(){E.xG.call(this,[10,41],E._q,"tools/sselect");this.D5=null;this.j3=null;this.Zs=null;
this.uj=null;this.ZU=!1};E.wW.prototype=new E.xG;E.wW.prototype.Vr=function(I,k,a,n,s){if(I==null)return;
var C=I.w.m_(s.x,s.y),T=E.wW.a6k(C,4/I.w.F,I.IZ,I.Fl);T.pop();if(T.length!=0){this.D5=C;this.Zs=T;this._A(I);
return}var S=I.IZ,D=E.xG.oJ(S,C);if(D==-1)I.Fl=[];else{var o=I.Fl.indexOf(D);if(n.W(as.bJ)){if(o==-1)I.Fl.push(D);
else I.Fl.splice(o,1)}else{I.Fl.sort(function(e,O){return e-O});if(o==-1)I.Fl=[D];this.D5=C;this._A(I);
this.j3=E.xG.TO(S,I.Fl);this.uj=[];for(var Y=0;Y<I.Fl.length;Y++)this.uj.push(E.xG.mj(S,I.Fl[Y]));if(n.W(as.dE)){var v=S.slice(0),g=I.Fl,d=[];
for(var Y=0;Y<g.length;Y++){var D=g[Y],R=v[D],c=S.indexOf(R);d.push(c);S.splice(c,0,JSON.parse(JSON.stringify(R)))}I.Fl=d}}}I.Xi=!0};
E.wW.prototype.Fr=function(I,k,a,n,s){var C=I.w.m_(s.x,s.y);if(this.D5==null){var T=E.wW.a6k(C,4/I.w.F,I.IZ,I.Fl),S=T.pop(),D=T.length==0?"default":["ew","nwse","ns","nesw"][S]+"-resize",o=new d2(M.E.b,!0);
o.data={q:M.p.Zk,s3:D};k.a(o);return}if(!this.ZU&&C.a$(this.D5))return;this.ZU=!0;var v=I.IZ,T=this.Zs;
if(T){C=E.R0.a5(I,C,a,[!0,null,!1]);var g=Math.round(C.x),d=Math.round(C.y);for(var Y=0;Y<T.length;Y+=2){var R=E.xG.mj(v,T[Y]),c=T[Y+1];
R[c]=(c&1)==0?g:d;E.xG.ajW(R);E.xG.yA(v,T[Y],R)}}else{var e=C.Sm(this.D5),O=this.j3.slice(0);E.xG.UY(O,e);
var U=new eZ(O[0],O[1],O[2]-O[0],O[3]-O[1]),K=E.R0.v3(I,U,a,[!0,null,!1],!0);E.R0.bH(I,U,K);e.x+=K[0];
e.y+=K[1];for(var Y=0;Y<I.Fl.length;Y++)E.xG.yA(v,I.Fl[Y],this.uj[Y]);E.xG.pR(I,e)}I.Xi=!0};E.wW.prototype.pE=function(I,k,a,n,s){if(this.D5==null)return;
this.QY(I);I.D.PT=null;I.Xi=!0;this.D5=null;this.Zs=null;this.uj=null;this.ZU=!1};E.wW.a6k=function(I,k,a,n){var s=I.x,C=I.y,T=[],S=-1,D=[];
for(var Y=0;Y<n.length;Y++){var o=n[Y],v=E.xG.mj(a,o),g=v[0],d=v[1],R=v[2],c=v[3];if(s<g-k||R+k<s||C<d-k||c+k<C)continue;
var e=[s<g+k,C<d+k,R-k<s,c-k<C],O=-1;for(var U=0;U<4;U++){if(e[U]&&e[U+1&3])O=1+2*(U&1);if(e[U])T.push(o,U)}if(O==-1){if(e[0]||e[2])O=0;
if(e[1]||e[3])O=2}if(O!=-1){S=O;D.push(o)}}var K=T.length;for(var Y=0;Y<K;Y+=2){var o=T[Y],_=T[Y+1],Z=E.xG.mj(a,o)[_];
for(var U=0;U<n.length;U++){var H=n[U];if(D.indexOf(H)!=-1)continue;var v=E.xG.mj(a,H);if(v[_&1]==Z)T.push(H,_&1);
if(v[2+(_&1)]==Z)T.push(H,2+(_&1))}}T.push(S);return T};E.NB=function(){E.BN.call(this,[10,44],E.anS,"tools/oselect");
this.ht="crosshair";this.a0d=0};E.NB.prototype=new E.BN;E.NB.prototype.e_=function(I,k,a,n){if(Math.random()<1/(1+this.a0d)){alert("The cross should be fully inside the object.",3500);
this.a0d++}};E.NB.prototype.vC=function(I,k,a,n){E.sl.xH(I,E.BN.QD,this.k3);if(!n.ZT||!this.Go)return;
var s=this.GT(I,a,!1),C=s.Q,T=s._,S=s.x,D=s.y,o=s.x+C,v=s.y+T,g=S+C/2,d=D+T/2,R=E.NB.agP;I.D.sV={s:[S,D,o,D,o,v,S,v,g-C*R,d,g+C*R,d,g,d-T*R,g,d+T*R],m:"M L L L Z M L M L".split(" ")};
I.Xi=!0};E.NB.agP=.12;E.NB.prototype.RG=function(I,k,a,n){I.D.sV=null;I.Xi=!0;this.finish(I,k,a,n)};
E.NB.prototype.getSelection=function(I,k,a,n){if(this.k7.a$(this.gc)||!this.Go)return null;var s=this.GT(I,a,!1),C=I.R[I.T[0]];
if(s.KH()||!s._s(C.rect))return null;return E.BN.v2("ObSl",s)};E.sl=function(){E.dX.call(this,[10,37],E.FY,"tools/qselect");
this.ho="qselect"};E.sl.prototype=new E.dX;E.sl.prototype.Vr=function(I,k,a,n,s){E.sl.xH(I,E.BN.QD,k,!0);
this.m5(I,a,n,s,1);if(this.Fp==null)return;this.hs(I)};E.sl.prototype.Fr=function(I,k,a,n,s){this.N6(I,k,a);
E.sl.xH(I,E.BN.QD,k);if(this.$a)this.CA(I,a,s);if(this.Fp==null)return;if(!s.ZT)return;var C=this.$_(I,a,n,s);
if(C!=1)this.hs(I)};E.sl.xH=function(I,k,a,n){if(I&&k.key!=E.sl.tO(I)){k.key=E.sl.tO(I);var s=I.R[I.T[0]].rect.c(),T="Image Analysis ...";
if(s==0)return;var C=s>1e6&&n!=!0,S=new d2(M.E.b,!0);S.data={q:M.p.bm,cJ:T};if(C)a.a(S);var D=function(){var o=E.sl.azI(I);
for(var v in o)k[v]=o[v];var S=new d2(M.E.b,!0);S.data={q:M.p.ki,cJ:T};if(C)a.a(S)};if(n)D();else setTimeout(D,30)}};
E.sl.tO=function(I){var k=I.T[0],a=I.R[k],n=a.rect,s=n.Q,C=n._,T=s*C,S=a.buffer;return[k,n.x,n.y,s,C,S[0],S[1],S[2],S[3]].join(",")};
E.sl.azI=function(I){var k=I.T[0],a=I.R[k],n=a.rect,s=n.Q,C=n._,T=s*C,S=a.buffer,D=Date.now(),o=j.U(T);
o.fill(128);var v=j.Wi.nJ(S,s,C);console.log(Date.now()-D);var g={key:E.sl.tO(I),K3:S,rect:n.clone(),Qq:s,L4:C,wE:12,Qn:o,OY:v,f:j.U(T),RJ:null,im:null,mB:null};
E.sl.Ox(g,null,I);return g};E.sl.Ox=function(I,k,a){var n=I.Qq,s=I.L4,C=0,T=0,S=Date.now(),D=I.RJ!=null&&j.Wi.hk(I.RJ.y9,I.RJ.RA,I.Qn)==-1;
C=Date.now()-S;S=Date.now();if(!D){var o=j.Wi.hk(I.OY.y9,I.OY.RA,I.Qn),v=0;while(o!=-1){var g=[],d=[],R=I.OY.y9;
for(var c=0;c<s;c++)for(var e=0;e<n;e++){var Y=c*n+e;if(R[Y]==o){var O=I.Qn[Y];if(O==0)g.push(e,c);if(O==255)d.push(e,c)}}var U=a.R[a.T[0]],K=U.buffer;
j.Wi.nJ.rA(K,n,s,I.OY,g,d);o=j.Wi.hk(I.OY.y9,I.OY.RA,I.Qn);v++;if(v>=10){console.log("too many subdivisions");
break}}I.RJ=j.Wi.xP(I.OY,n,s,I.Qn,I.wE);I.im=j.Wi.aqS(I.K3,n,s,I.RJ.y9,I.RJ.RA);I.mB=[I.im[0].slice(0),[]];
T=Date.now()-S;S=Date.now()}var S=Date.now();if(k){I.mB[0].set(I.im[0]);var _=I.im[1],Z=I.mB[1];for(var H=0;
H<_.length;H++)Z[H]=_[H].slice(0);j.Wi.a3J(I.RJ.y9,n,s,I.RJ.RA,I.Qn,I.f,I.mB)}};E.Ou=function(){E.mu.call(this,[10,50],E.PZ,"tools/artb");
this.t_=null;this.Gu=!1;this.OL=null;this.B0=!1;this.al_=null;this._0=100;this.I2=null;this.SQ=0};E.Ou.prototype=new E.mu;
E.Ou.prototype.CP=function(I,k,a,n,s){this.XV(a,I.aq6,k,I.Ex)};E.Ou.aeP=function(I,k){var a=I[0],n=0,s=0;
if(a==0)s=-1;else if(a==1)n=1;else if(a==2)s=1;else n=-1;return[20/k.v0,I[1]+n*60/k.v0,I[2]+s*60/k.v0]};
E.Ou.prototype.Un=function(I,k,a,n,s){this.t_=I.CU;this.SQ=Date.now()};E.Ou.prototype.Iw=function(I,k,a,n){if(a.P$!=this.id)return;
if(I==null||I.T.length!=1){this.fF(I);return}var s=I.T[0],C=I.R[s],T=C.add.artb;if(T==null){this.fF(I);
return}if(this.B0)return;if(Date.now()-this.SQ>50){this.t_={};var S=["artboardBackgroundType","Clr"];
for(var Y=0;Y<S.length;Y++)if(T[S[Y]])this.t_[S[Y]]=JSON.parse(JSON.stringify(T[S[Y]]));var D=new d2(M.E.b,!0);
D.data={q:M.p.at,S:this.id,sw:this.t_};k.a(D)}var o=C.OR(),v=j.X.Eu(o).s,g=this.OL=new hZ(v,!0,!1,!1,!0,!1,3,!1);
g.LW(I,a,!1);var d={s:[1,0],m:["M"]};for(var Y=1;Y<30;Y++){var R=Math.PI*2*Y/30;d.s.push(Math.cos(R),Math.sin(R));
d.m.push("L")}d.m.push("Z","M","L","M","L");d.s.push(-.5,0,.5,0,0,-.5,0,.5);var c=o.x+o.Q/2,e=o.y+o._/2,O=this._0*1.1,U=this.al_=[c,o.y,o.x+o.Q,e,c,o.y+o._,o.x,e],K=[0,-O,O,0,0,O,-O,0],_=I.root.children;
I.D.Pu=[];for(var Y=0;Y<4;Y++){var Z=new kK(U[Y*2]+K[Y*2],U[Y*2+1]+K[Y*2+1]),H=!1;for(var G=0;G<_.length;
G++){var C=_[G].o;if(C.add.artb==null)continue;var o=C.OR();if(o.oi(Z))H=!0}if(H){U[Y*2]=1e9;continue}I.D.Pu.push([Y,U[Y*2],U[Y*2+1]])}};
E.Ou.prototype.disable=function(I,k,a,n,s){this.fF(I)};E.Ou.prototype.fF=function(I){if(this.OL){this.OL.clear(I);
this.OL=null;I.D.Pu=null}};E.Ou.prototype.Vr=function(I,k,a,n,s){this.SQ=Date.now();var C=I.w.m_(s.x,s.y),T=this.OL;
if(T){var S=new d2(M.E.r),D=T.qY(null,C,I,s);if(D<9){this.B0=T.Vr(I,a,n,C,null,!0,s);return}else if(T.sR(C)){S.S=E.Mt;
S.data={q:"disabAuto"};k.a(S);var o=new d2(M.E.b);o.data={q:M.p.$g,S:E.Mt,azA:!0};k.a(o);return}else{var v=-1,g=I.D.Pu;
for(var Y=0;Y<g.length;Y++){var d=E.Ou.aeP(g[Y],I.w);if(kK.f0(C,new kK(d[1],d[2]))<d[0])v=g[Y][0]}if(v!=-1){var R=I.R[I.T[0]].OR(),c=R.clone(),e=(v==0||v==2?R._:R.Q)+this._0;
if(v==0||v==3)e=-e;if(v==0||v==2)R.y+=e;else R.x+=e;if(n.W(as.dE)){var O=new eZ(0,0,I.Q,I._);S.S=E.xf;
S.data={q:X.T0};k.a(S);E.R0.IL(I,I.X0(null,I.T[0],null,!0),null,R.x-c.x,R.y-c.y);I.T=I.T.slice(I.T.length-1);
var U=E.Zo.Hi(I);if(U){var K=I.HS();K.data.ZD=O;K.data.T6=U;K.data.dT=I.T}}else this.XV(I,R,k);return}}}this.I2=E.R0.a5(I,C,a)};
E.Ou.prototype.XV=function(I,k,a,n){if(n==null)n=0;var s=I.R.slice(0),C=[I.R.length+1],T=I.ux();T.GF(hJ.get([1,16,0])+" "+(I.add.artd==null?1:I.root.children.length+1));
T.add.lsct=gA.rW;T.IA(k);if(this.t_){var S=T.add.artb,D=this.t_;for(var o in D)S[o]=D[o]}T.pu="pass";
T.HA=24;if(n==0){if(I.add.artd||k.LU(new eZ(0,0,I.Q,I._)).KH())s.push(I.KM());else s.unshift(I.KM())}else{var v=I.X0();
v.sort(function(e,O){return e-O});var g=E.c$.Cl(I,v,s.length-1,!1,null,!1),d=g.pop(),R=g.pop();s=g.pop();
s.splice(I.R.length-v.length,0,I.KM())}s.push(T);var c=new d2(M.E.r);c.S=E.xf;c.data={q:X.J5,xj:s,iy:C,xn:[1,16,2]};
a.a(c)};E.Ou.prototype.Fr=function(I,k,a,n,s){var C=I.w.m_(s.x,s.y),T=this.OL,S=this.I2;if(T){if(this.B0){T.Fr(I,a,n,C)}else{var D=T.Fx(C,I.w.F,null,s);
if(D==null)D="default";var o=new d2(M.E.b,!0);o.data={q:M.p.Zk,s3:D};k.a(o)}}if(S){var v=this.mj(I,C,n,a);
I.D.sV=j.X.Eu(v);I.Xi=!0;E.mu.Q9(s,v,I,a)}};E.Ou.prototype.pE=function(I,k,a,n,s){var C=I.w.m_(s.x,s.y),T=this.I2;
if(this.B0){this.OL.pE(I,a,n,C);this.B0=!1;var S=j.X.qP(this.OL.d6()),D=X.ZZ(S),o=I.R[I.T[0]],v=JSON.parse(JSON.stringify(o.add.artb));
v.artboardRect.v=D;var g=new d2(M.E.r,!0);g.S=E.xf;g.data={q:X.wX,h6:v};k.a(g)}if(T){var d=this.mj(I,C,n,a);
if(d.c()>20)this.XV(I,d,k);I.D.sV=null;I.Xi=!0;this.I2=null;I.D.OT=[]}};E.Ou.prototype.mj=function(I,k,a,n){var s=this.I2,C=E.R0.a5(I,k,n),T=E.WX.sS(s,C,a,!0);
s=T[0];C=T[1];return j.X.qP([s.x,s.y,C.x,C.y])};E.oo=function(){E.mu.call(this,[10,50],E.ka,"tools/artb");
this.OL=null;this.Fe=!1;this.wY=null;this.Rj=null;this.Zr=null;this.a4=null;this.a6X=null;this.eX=null;
this.BT=null};E.oo.prototype=new E.mu;E.oo.prototype.rI=function(I,k){return I==as.Zf||I==as.QE};E.oo.prototype.Bf=function(I,k,a,n){if(n.W(as.Zf)||n.W(as.QE))this.CP({q:"del"},k,I,n,a)};
E.oo.prototype.CP=function(I,k,a,n,s){var C=a.add.arts;this.Rj=JSON.stringify(C);if(I.q=="del"){for(var Y=0;
Y<C.length;Y++)if(C[Y].T){C.splice(Y,1);Y--}}if(I.q=="new"){for(var Y=0;Y<C.length;Y++)C[Y].T=!1;var T=a.W_(),S=T.x+T.Q+20;
C.push({h2:"Artboard "+(C.length+1),UL:[S,T.y,S+100,T.y+100],T:!0})}if(I.q=="rpl"){var D=0;for(var Y=0;
Y<C.length;Y++)if(C[Y].T)D=Y;C[D]=I.P}this.amz(a);this.CC(a)};E.oo.prototype.disable=function(I,k,a,n,s){this.Fe=!1};
E.oo.prototype.enable=function(I,k,a,n,s){this.Fe=!0;this.wY=a;this.CC(I)};E.oo.prototype.fF=function(I){};
E.oo.prototype.Vr=function(I,k,a,n,s){var C=this.BT=I.w.m_(s.x,s.y),T=I.add.arts;this.Rj=JSON.stringify(T);
var S=this.OL,D=S?S.Fx(C,I.w.F,null,s):null,o=n.W(as.nU)||n.W(as.bJ);if(S&&!o&&(j.X.TO(S.d6()).oi(C)||D)){}else{var v=-1;
for(var Y=0;Y<T.length;Y++)if(j.X.TO(T[Y].UL).oi(C))v=Y;if(v==-1)this.xm(I,-1);else if(o)T[v].T=!T[v].T;
else this.xm(I,v);this.CC(I)}if(this.OL){this.OL.Vr(I,a,n,C,null,!0,s)}I.Xi=!0};E.oo.prototype.Fr=function(I,k,a,n,s){var C=I.w.m_(s.x,s.y),T=I.add.arts,S=JSON.parse(this.Zr);
if(this.OL){this.OL.Fr(I,a,n,C);if(s.ZT){var D=j.X.TO(this.OL.d6()),o=this.a6X,v=new dc;v.translate(-o.x,-o.y);
v.scale(D.Q/o.Q,D._/o._);v.translate(D.x,D.y);var g=this.OL.qY(n,C,I,s);for(var Y=0;Y<T.length;Y++){var d=T[Y];
if(!d.T)continue;if(j.X.TO(S[Y].UL).KH())d.UL=[D.x,D.y,D.x+D.Q,D.y+D._];else{d.UL=S[Y].UL.slice(0);j.X.h(d.UL,v,d.UL)}}if(g==10){E.R0.IL(I,this.a4,null,D.x-this.eX.x,D.y-this.eX.y);
this.eX=D}I.V()}var R="default",c=this.OL.Fx(C,I.w.F,null,s);if(c)R=c;var e=new d2(M.E.b,!0);e.data={q:M.p.Zk,s3:R};
k.a(e)}else if(s.ZT&&kK.f0(C,this.BT)>=6/I.w.F){T.push({h2:"Artboard "+(T.length+1),UL:[0,0,0,0],T:!0});
this.CC(I);this.OL.Vr(I,a,n,this.BT,null,!0,s)}};E.oo.prototype.pE=function(I,k,a,n,s){var C=I.w.m_(s.x,s.y),T=I.add.arts,S=JSON.parse(this.Zr),D=n.W(as.nU)||n.W(as.bJ);
if(!D&&kK.f0(this.BT,C)<6/I.w.F){var o=-1;for(var Y=0;Y<T.length;Y++)if(j.X.TO(T[Y].UL).oi(C))o=Y;if(o!=-1){this.xm(I,o);
this.CC(I)}if(j.X.TO(S[S.length-1].UL).KH()){this.OL.clear(I);T.pop()}}if(this.OL){var v=this.OL.qY(n,C,I,s);
this.OL.pE(I,a,n,C);if(!C.a$(this.BT))this.amz(I,v==10?C.Sm(this.BT):null)}};E.oo.prototype.amz=function(I,k){var a=new g7([10,50],this);
a.data={P6:this.Rj,WM:JSON.stringify(I.add.arts)};if(k){a.data.T=this.a4;a.data.iY=k}I.RB(a)};E.oo.prototype.CC=function(I){var k=I.add.arts,a=new eZ,n=0,s=[];
for(var Y=0;Y<k.length;Y++)if(k[Y].T){var C=j.X.TO(k[Y].UL);a=a.oL(C);I.root.Wc(C,s);n++}if(n==0){if(this.OL)this.OL.clear(I);
I.Xi=!0;this.OL=null;return}this.Zr=JSON.stringify(k);this.a4=s;this.a6X=this.eX=a;var T=j.X.Eu(a).s;
this.OL=new hZ(a.KH()?null:T,!0,!1,!1,!1,!1,3);if(!a.KH())this.OL.LW(I,this.wY)};E.oo.prototype.xm=function(I,k){var a=I.add.arts;
for(var Y=0;Y<a.length;Y++)a[Y].T=k==Y};E.oo.prototype.KY=function(I,k){k.add.arts=JSON.parse(I.WM);
if(I.T)E.R0.IL(k,I.T,null,I.iY.x,I.iY.y);if(this.Fe)this.CC(k);k.Xi};E.oo.prototype.PP=function(I,k){k.add.arts=JSON.parse(I.P6);
if(I.T)E.R0.IL(k,I.T,null,-I.iY.x,-I.iY.y);if(this.Fe)this.CC(k);k.Xi};function hZ(I,k,a,n,s,C,T,S){this.V4=null;
this.Ma=I?I.slice(0):null;this.AG=1;this.Qf=4;this.gc=null;this.xY=null;this.qK=null;this.Dh=-1;this.fy=null;
this.aaV=!1;this.aA9=[];for(var Y=0;Y<8;Y++)this.aA9.push(kk.aeA(0,PIMG.rotate,-.5,-.5,-45-Y*45));this.a26=k;
this.aw8=a;this.agf=n;this.a4k=s;this.asS=C;this.Ex=T;this.a2M=S==null?1:S}hZ.prototype.a4t=function(){return this.Dh!=-1};
hZ.prototype.d6=function(){return this.Ma.slice(0)};hZ.prototype.u9=function(I){this.Ma=I};hZ.prototype.a75=function(){return this.Vi(this.Ma)};
hZ.prototype.aF4=function(){return this.Qf};hZ.prototype.ana=function(I){this.Qf=I};hZ.prototype.Hq=function(I){if(I==null)I=this.Ma;
if(this.Qf==9)return this.gc;else return this.Vi(I)[this.Qf]};hZ.prototype.aDP=function(I){if(this.Qf==9)this.gc=I.clone();
else{var k=this.Hq(),a=new dc(1,0,0,1,I.x-k.x,I.y-k.y);j.X.h(this.Ma,a,this.Ma)}};hZ.prototype.c1=function(I){this.AG=I};
hZ.prototype.Fx=function(I,k,a,n,s){var C=this.pg(null,I,k,n),T;if(C==9)return"default";if(C==10){if(a)return null;
return!this.a26?"move":null}if(C==-1||C==4)return null;if(C==11){var S=this.Hq().Sm(I);if(s==null)s=Math.atan2(S.y,S.x);
T=90-s*180/Math.PI;var D=Math.round(8*(T/360));D=(D+8)%8;return this.aA9[D]}else{var o=this.Ek(I,this.Ma);
T=[135,90,45,180,0,0,225,270,315][C]*Math.PI/180;var v=j.t.UX(this.Ma);return hZ.a22(v[0],v[3],T)}};
hZ.a22=function(I,k,a){var n=Math.atan2(-k,I);if(a)n+=a;var s="ew nesw ns nwse ew nesw ns nwse".split(" "),C=Math.round(8*(n/(2*Math.PI)));
C=(C+8)%8;return s[C]+"-resize"};hZ.prototype.Ek=function(I,k){var a=j.t.Us(j.t.UX(k)),n=new Float64Array(2);
j.t.ij(I.x,I.y,a,n);return new kK(n[0],n[1])};hZ.prototype.sR=function(I){var k=this.Ek(I,this.Ma);return 0<=k.x&&k.x<=1&&0<=k.y&&k.y<=1};
hZ.prototype.Vr=function(I,k,a,n,s,C,T,S){this.aaV=C;this.fy=n;var D=I.w.F,o;if(this.Ma==null)n=E.R0.a5(I,n,k);
this.qK=n.clone();if(this.Ma==null){if(S==null)S=0;var v=new dc;v.rotate(S);var g=v.yt(new kK(1,1));
this.qK.offset(g.x,g.y);var d=s==null?1:1/s,R=this.Ma=[0,0,1,0,1,d,0,d];v.translate(n.x,n.y);j.X.h(this.Ma,v,this.Ma);
o=8}else{o=this.pg(a,n,D,T);if(0<=o&&o<=8)this.qK=this.Vi(this.Ma)[o];if(o==9){this.Qf=9;this.gc=n.clone()}}this.V4=this.Ma.slice(0);
this.Dh=o;this.LW(I,k);this.xY=this.Hq();return o!=-1};hZ.prototype.qY=function(I,k,a,n){return this.pg(I,k,a.w.F,n)};
hZ.prototype.pg=function(I,k,a,n){var s=-1,C=this.Vi(),T=[0,2,6,8,1,3,5,7],S=n?E.kY({w:{F:a}},n):8*E.Y()/a,D=kK.f0(C[0],C[2]),o=kK.f0(C[0],C[6]),v=this.Ek(k,this.Ma);
v.x*=D;v.y*=o;var g=new eZ(0,0,D,o);g.CJ(S,S);if(s==-1)if(kK.f0(this.Hq(),k)<S)s=9;if(s==-1)for(var Y=0;
Y<T.length;Y++)if(kK.f0(C[T[Y]],k)<S)s=T[Y];if(s==-1&&g.oi(v)){if(Math.abs(v.y-0)<S)s=1;if(Math.abs(v.x-0)<S)s=3;
if(Math.abs(v.y-o)<S)s=7;if(Math.abs(v.x-D)<S)s=5}if(s==-1&&I&&I.W(as.dE))s=9;if(s==-1||this.Ex==4){if(this.sR(k)){if(this.a26)s=10}else{var d=[3,.85][ht];
g.CJ(d*S,d*S);s=g.oi(v)&&this.Ex!=3?11:10;if(s==10&&ht==1)s=-1}}return s};hZ.prototype.Fr=function(I,k,a,n,s){if(this.Dh==-1)return;
this.fy=n;var C=a&&a.W(as.bJ),T=a&&a.W(as.dE),S=a&&a.W(as.nU),D=I.w.F,o=this.qK,v=this.Dh,g=this.Vi(),d=E.R0.a5(I,o,k),R=E.R0.a5(I,n,k),c,e;
if(v==9){var g=this.Vi(),O=-1;for(var Y=0;Y<g.length;Y++)if(kK.f0(g[Y],R)*D<10)O=Y;this.Qf=O==-1?9:O;
this.gc=C?E.hJ.Gi(d,R):R.clone()}else if(v==10){e=j.X.TO(this.V4);var U=e.x,K=e.y;e.offset(n.x-o.x,n.y-o.y);
if(this.azL()){e.x=Math.round(e.x);e.y=Math.round(e.y)}c=E.R0.v3(I,e,k);var _=new dc(1,0,0,1,e.x-U+c[0],e.y-K+c[1]);
j.X.h(this.V4,_,this.Ma)}else if(v==11){var Z=this.Hq(this.V4),H=Z.Sm(n),G=Z.Sm(o),N=Math.atan2(H.y,H.x),z=Math.atan2(G.y,G.x),_=new dc(1,0,0,1,-Z.x,-Z.y),L=Math.PI/12;
if(C)_.rotate(Math.round((z-N)/L)*L);else _.rotate(z-N);_.translate(Z.x,Z.y);j.X.h(this.V4,_,this.Ma)}else{var p=C,V;
if(s&&!S)p=!p;if(this.asS)p=!0;var r=this.V4,y=v==0||v==2||v==6||v==8;if(this.Ex==1){if(y)C=T=S=!0}else if(this.Ex==2&&y&&this.aaV!=!0)S=!0;
if(this.Ex==3)S=!1;else if(this.Ex==5){C=S=!0}if(this.agf&&y&&S){var Y=[0,0,2,0,0,0,6,0,4,0][v],W=-1,m=R.x,f=R.y;
if(C){var h=Y+6&7,b=Y+10&7,i=hZ.apP(r[Y],r[Y+1],r[h],r[h+1],R.x,R.y),w=hZ.apP(r[Y],r[Y+1],r[b],r[b+1],R.x,R.y),J=i[2]<w[2]?i:w;
m=J[0];f=J[1];if(T)W=i[2]<w[2]?h:b}else if(T)W=Y+4&7;V=r.slice(0);if(W!=-1){var q=r[W],x=r[W+1],A=(r[Y]+q)/2,Q=(r[Y+1]+x)/2;
V[W]=A-(m-A);V[W+1]=Q-(f-Q)}V[Y]=m;V[Y+1]=f}else if(y&&T){var Z=this.xY,B=Z.x,l=Z.y,P=d.x-B,F=d.y-l,t=1,b$=1;
if(Math.abs(P)>=1)t=(R.x-B)/P;if(Math.abs(F)>=1)b$=(R.y-l)/F;if(p)t=b$=(t+b$)/2;var _=new dc;_.translate(-B,-l);
_.scale(t,b$);_.translate(B,l);V=r.slice(0);j.X.h(V,_,V)}else{if(this.azL()){R.x=Math.round(R.x);R.y=Math.round(R.y)}var hd=[0,1,2,5,8,7,6,3],di=hd[(hd.indexOf(v)+4)%8],hD=[];
for(var Y=0;Y<3;Y++)for(var W=0;W<3;W++)hD.push(new kK(W/2,Y/2));var Z=this.xY,a$=T&&(this.Qf==4||this.Qf==9)?this.Ek(Z,r):hD[di],eJ=T&&(this.Qf==4||this.Qf==9)?Z:g[di];
if(y&&p){function hY(b3,hL,gS){var jF=hL[0]-b3[0],kB=hL[1]-b3[1],jw=j.X.ZO(gS[0],gS[1],-kB,jF,b3[0],b3[1],jF,kB);
return[gS[0]-kB*jw,gS[1]+jF*jw]}while(!0){var ik=hY([eJ.x,eJ.y],[o.x,o.y],[R.x,R.y]);ik=new kK(ik[0],ik[1]);
ik=E.R0.a5(I,ik,k);if(kK.f0(ik,R)<1e-6)break;R=ik}}var fw=this.Ek(R,r),jb=this.Ek(o,r),cd=new dc,dN=new dc,t=(fw.x-a$.x)/(jb.x-a$.x);
if(t==0)t=1e-4;var b$=(fw.y-a$.y)/(jb.y-a$.y);if(b$==0)b$=1e-4;if(this.a4k){t=Math.max(t,0);b$=Math.max(b$,0)}if(y){if(p)cd.scale(t,t);
else cd.scale(t,b$)}else if(v!=4){var kc=p,ck=S&&C;if(ck)kc=!1;if(v==1||v==7)cd.scale(kc?b$:1,ck?1:b$);
else cd.scale(ck?1:t,kc?t:1);if(this.aw8&&S){if(v==1||v==7)dN.mL=(fw.x-a$.x)/(fw.y-a$.y);else dN.J=(fw.y-a$.y)/(fw.x-a$.x)}}var _=new dc;
_.translate(-a$.x,-a$.y);_.concat(cd);_.concat(dN);_.translate(a$.x,a$.y);V=[0,0,1,0,1,1,0,1];j.X.h(V,_,V);
var J=j.t.UX(r);j.t.h(J,V)}if(hZ.Xx(V))this.Ma=V}this.LW(I,k);if(c)E.R0.bH(I,e,c)};hZ.apP=function(I,k,a,n,s,C){var T=a-I,S=n-k,D=s-I,o=C-k,v=T*T+S*S,g=D*T+o*S,d=g/v,R=I+d*T,c=k+d*S,e=s-R,O=C-c;
return[R,c,Math.sqrt(e*e+O*O)]};hZ.prototype.azL=function(){var I=this.Ma;return Math.abs(I[1]-I[3])<1e-6&&Math.abs(I[2]-I[4])<1e-6||Math.abs(I[0]-I[2])<1e-6&&Math.abs(I[3]-I[5])<1e-6};
hZ.Xx=function(I){return j.X.a9W(I)||j.X.a9W([I[6],I[7],I[4],I[5],I[2],I[3],I[0],I[1]])};hZ.prototype.pE=function(I,k,a,n){this.Dh=-1;
this.fy=null;I.D.PT=null;I.D.OT=[];I.Xi=!0};hZ.prototype.Bf=function(I,k,a){var n=a.m4(I?I.w.AE:0);if(n.x||n.y){var s=new dc(1,0,0,1,n.x,n.y);
j.X.h(this.Ma,s,this.Ma);this.LW(I,k);return!0}return!1};hZ.prototype.Vi=function(I){if(I==null)I=this.Ma;
var k=I[6]-I[0],a=I[7]-I[1],n=I[4]-I[2],s=I[5]-I[3],C=[I[0],I[1],I[2],I[3],I[0]+k/2,I[1]+a/2,I[2]+n/2,I[3]+s/2,I[6],I[7],I[4],I[5]],T=[];
for(var Y=0;Y<3;Y++){var S=Y*4,D=C[S+0],o=C[S+1],v=C[S+2],g=C[S+3];T.push(new kK(D,o));T.push(new kK(D+(v-D)/2,o+(g-o)/2));
T.push(new kK(v,g))}return T};hZ.prototype.LW=function(I,k,a){if(I.D==null)return;if(a==null)a=!1;var n=this.AG,s=this.Vi(),C=s[0],T=s[2],S=s[6],D=s[8],o={m:[],s:[]};
if(n==0)I.D.sV=o;else I.D.YF=o;o.m.push("M","L","L","L","Z");o.s.push(C.x,C.y,T.x,T.y,D.x,D.y,S.x,S.y);
var v=this.a2M;if(v>1){I.D.xo=JSON.parse(JSON.stringify(o));var g=T.Sm(C),d=S.Sm(C),R=D.Sm(T),c=D.Sm(S);
for(var Y=1;Y<v;Y++){o.m.push("M","L","M","L");var e=Y/v;o.s.push(C.x+g.x*e,C.y+g.y*e,S.x+c.x*e,S.y+c.y*e);
o.s.push(C.x+d.x*e,C.y+d.y*e,T.x+R.x*e,T.y+R.y*e)}}I.w.uR=new eZ(0,0,kK.f0(s[0],s[2]),kK.f0(s[0],s[6]));
if(this.Dh!=-1&&this.Dh<9&&this.fy){var O=I.w.kF(this.fy.x,this.fy.y);E.mu.Q9(O,I.w.uR,I,k)}if(!a){var U=[];
if(n==0)I.D.t6=U;else I.D.Wv=U;for(var Y=0;Y<s.length;Y++)if(Y!=4)U.push(s[Y].x,s[Y].y);var K=this.Hq();
U.push(K.x,K.y)}I.Xi=!0};hZ.prototype.clear=function(I){I.w.uR=null;I.D.PT=null;I.D.sV=null;I.D.YF=null;
I.D.xo=null;I.D.t6=[];I.D.Wv=[];I.Xi=!0};function i2(I){this.O8=null;this.Dh=-1;this.tC=null;this.a6f=null;
this.oA=null;this.z6=-1;this.aov=null;this.a3X(I)}i2.prototype.rc=function(){return JSON.parse(JSON.stringify(this.O8))};
i2.prototype.a3X=function(I){this.O8=JSON.parse(JSON.stringify(I))};i2.prototype.anh=function(I){this.z6=I};
i2.prototype.sR=function(I){return!0};i2.prototype.Fx=function(I,k,a,n){var s=this.pg(I,k,n);if(s==-1)return"default";
return"pointer"};i2.prototype.Vr=function(I,k,a,n,s,C,T){if(this.z6!=-1)return!0;this.Dh=this.pg(n,I.w.F,T);
var S=j.O8.ck(this.O8),D=j.QT.J4(S,n),o=0<D[0]&&D[0]<1&&0<D[1]&&D[1]<1;this.tC=o?D:null;this.a6f=JSON.stringify(S);
this.aov=JSON.stringify(this.O8);this.oA=n;return this.Dh!=-1||o};i2.prototype.pg=function(I,k,a){var n=a?E.kY({w:{F:k}},a)*2:20*E.Y()/k,s=this.O8,C=i2.aiM(s),T=-1;
if(C){T=j.X.w_(C,I.x,I.y,n);if(T!=-1)T+=1e6}else{var S=j.O8.ck(s);T=j.X.w_(S[3],I.x,I.y,n);if(T!=-1&&this.Tw(S,T)==null)T=-1}return T};
i2.prototype.Fr=function(I,k,a,n){if(this.z6!=-1)return;var s=this.O8,C=this.Dh,T=this.tC,S=JSON.parse(this.a6f),D=S[0],o=S[1],v=S[3];
if(C>=1e6){var g=s.warpStyle.v.warpStyle,d=j.O8.GT(s);if(g=="warpCylinder"){this.O8=s=JSON.parse(this.aov);
var R=E.nF.QX(s.warpValues),c=(R[2]-R[0])/(R[1]-R[3]),e=R[4]*c*d._,O=R[5]*c*d._,U=n.x-this.oA.x,K=n.y-this.oA.y;
R[0]=d.x;R[1]=d.y+d._;R[2]=d.x+d.Q;R[3]=d.y;C-=1e6;if(C==0){R[0]+=U;R[1]+=K}if(C==1){R[2]+=U;R[3]+=K}if(C==2){e+=2*K;
O+=2*K}if(C==3){O+=2*K}if(C==4){R[6]=Math.max(0,Math.min(1,R[6]-2*U/d.Q))}var _=j.X.TO(R.slice(0,4)),Z=_.Q/d.Q,H=_._/d._;
R[4]=e/_.Q;R[5]=O/_.Q;s.warpValues=E.nF.D1(R);var G=new dc;G.translate(-d.x,-d.y);G.scale(Z,H);G.translate(_.x,_.y);
if(C<4)return G}else{var N=s.warpRotate.v.Ornt,z=N=="Vrtc",L=j.O8.a5p[g],p=z?-n.x/d.Q:-n.y/d._;p+=L[1];
if(L[1]>.5)p=-p;p/=L[2];var Z=d.Q/d._;if(z)Z=1/Z;if(L[3])p/=Z;s.warpValue.v=100*Math.max(-1,Math.min(1,p))}}else if(C!=-1){var V=[C],U=n.x-v[C*2],K=n.y-v[C*2+1];
if(D*o>16){var r=this.Tw(S,C);if(r[0]==0){var y=Math.floor(C/D),W=C-y*D;if(W>0)V.push(C-1);if(W<D-1)V.push(C+1);
if(y>0)V.push(C-D);if(y<o-1)V.push(C+D)}}for(var Y=0;Y<V.length;Y++){v[V[Y]*2]+=U;v[V[Y]*2+1]+=K}j.O8.sK(s,S)}else if(T){j.QT.ak6(S,T[0],T[1],n.x-this.oA.x,n.y-this.oA.y);
j.O8.sK(s,S)}};i2.prototype.pE=function(I,k,a,n){var s=this.z6;this.tC=null;this.z6=-1;if(s!=-1){var C=j.O8.ck(this.O8),T=j.QT.J4(C,n);
if(s==0||s==1)j.QT.split(C,0,T[0]);if(s==0||s==2)j.QT.split(C,1,T[1]);j.O8.sK(this.O8,C)}I.Xi=!0;return s!=-1};
i2.prototype.Bf=function(I,k,a){var n=a.m4();if(n.x||n.y){var s=new dc(1,0,0,1,n.x,n.y);j.X.h(this.Ma,s,this.Ma);
this.LW(I)}};i2.prototype.Tw=function(I,Y){var k=I[0],a=I[1],n=this.Dh,s=Math.floor(n/k),C=n-s*k,T=n%3,S=n%3,D=T==0&&S==0,s=Math.floor(Y/k),C=Y-s*k,T=C%3,S=s%3;
if(T!=0&&S!=0)return null;if(T==0&&S==0)return[0];else{var o=0;if(S==0)o=T==1?Y-1:Y+1;if(T==0)o=S==1?Y-k:Y+k;
if(k*a>16){var v=n==Y||n==Y+1||n==Y-1||n==Y+k||n==Y-k;if(D&&(v||n==Y+2||n==Y-2||n==Y+2*k||n==Y-2*k)){}else if(!D&&v){}else return null}return[1,o]}};
i2.aiM=function(I,k){var k=I.warpStyle.v.warpStyle,n;if(k=="warpCustom"||k=="warpNone")return null;var a=j.O8.ck(I);
if(k=="warpCylinder"){var s=I.warpValues.v;n=[0,1,1,0,.5,0,.5,1,.75-.25*s[6].v,.5]}else{var C=I.warpRotate.v.Ornt,T=j.O8.a5p[k];
n=C=="Hrzn"?[T[0],T[1]]:[T[1],T[0]]}j.QT.h(a,n,new eZ(0,0,1,1));return n};i2.prototype.LW=function(I,k){var a=this.O8,n=a.warpStyle.v.warpStyle,s=j.O8.ck(a),C=s[0],T=s[1],S=s[3],D=I.D.YF={m:[],s:[]},o=I.D.Wv=[],v=I.D._r=[],g=this.Dh;
if(n=="warpCustom")for(var d=0;d<T;d++)for(var R=0;R<C;R++){var Y=d*C+R,c=this.Tw(s,Y);if(c==null)continue;
var e=S[2*Y],O=S[2*Y+1],U=v;if(c[0]==0)U=Y==g&&C*T>16?v:o;else{var K=c[1];D.m.push("M","L");D.s.push(e,O,S[2*K],S[2*K+1])}U.push(e,O)}else{var _=i2.aiM(a);
if(_)for(var Y=0;Y<_.length;Y++)o.push(_[Y])}for(var d=0;d+1<T;d+=3)for(var R=0;R+1<C;R+=3){D.m.push("M","C","C","C","C");
var Y=d*C+R,Z=Y+C+C,H=[Y,Y+1,Y+2,Y+3,Y+C+3,Z+3,Z+C+3,Z+C+2,Z+C+1,Z+C,Z,Y+C,Y];for(var Y=0;Y<H.length;
Y++){var e=S[H[Y]*2],O=S[H[Y]*2+1];D.s.push(e,O)}}var G=[],N=[];function z(L,R,r){for(var H=0;H<=r;H++){N.push(H==0?"M":"L");
if(L==0)G.push(R,H/r);else G.push(H/r,R)}}if(k)k=j.QT.J4(s,k);for(var L=0;L<2;L++){var p=s[2][L],V=L==0?C:T,r=V*5;
for(var y=1;y<V;y++){var W=Math.floor((y-1)/3),m=y-(1+W*3);if(m==0)continue;var R=p[W]+m/3*(p[W+1]-p[W]);
z(L,R,r)}var f=this.z6;if(k&&f!=-1&&(f==0||f-1==L))z(L,k[L],r)}j.QT.h(s,G,new eZ(0,0,1,1));j.X.concat(D,{s:G,m:N});
I.Xi=!0};i2.prototype.clear=function(I){I.D.YF=null;I.D.Wv=[];I.D._r=[];I.Xi=!0};function bI(){this.jQ=!1;
this.aV=!1;this.afD=!1;this.amf=!1;this.JF=!1;this.Lc=!1;this.xt=0;this.vb=0}bI.prototype.Vr=function(I){this.jQ=!0;
this.aV=!1;this.JF=I.W(as.bJ);this.Lc=I.W(as.dE);this.xt=this.JF?0:1;this.vb=this.Lc?0:1};bI.prototype.Bf=function(I){var k=this.amf=I.W(as.bJ),a=this.afD=I.W(as.dE);
if(this.aV){if(this.xt==0&&!k)this.xt++;if(this.xt==1&&k)this.xt++;if(this.vb==0&&!a)this.vb++;if(this.vb==1&&a)this.vb++}};
bI.prototype.Fr=function(){this.aV=!0};bI.prototype.pE=function(){this.jQ=!1};bI.prototype.VA=function(Y){if(Y==0)return this.jQ?this.Lc:this.afD;
if(Y==1)return this.aV?this.vb==2:!1};bI.prototype.Nd=function(Y){if(Y==0)return this.jQ?this.JF:this.amf;
if(Y==1)return this.aV?this.xt==2:!1};E.History=function(){E.mu.call(this,"History",E.ca);this.Nz=!0;
this.aE5=0};E.History.prototype=new E.mu;E.History.prototype.CP=function(I,k,a,n){a.cd=!0;if(I.q=="h_itemchange"){if(I.index<a.R3)for(var Y=a.R3;
Y>I.index;Y--)this.Rw(a);if(I.index>a.R3)for(var Y=a.R3;Y<I.index;Y++)this.yb(a)}if(I.q=="h_stepfwd")this.yb(a);
if(I.q=="h_stepbck")this.Rw(a);if(I.q=="h_undoredo"){var s=this.Nz||this.aE5!=a.R3;if(s){this.Rw(a);
s=!1}else{this.yb(a);s=!0}this.Nz=s;this.aE5=a.R3}if(I.q=="h_clear"){if(I.force==null)if(!window.confirm("Do you really want to clear all states in History? You won't be able to undo it."))return;
a.history=[new g7([1,0],null)];a.R3=0}else this.Nz=!0};E.History.prototype.Rw=function(I){if(I.R3==0)return;
var k=I.history[I.R3];k.S.PP(k.data,I);I.R3--};E.History.prototype.yb=function(I){if(I.R3==I.history.length-1)return;
var k=I.history[I.R3+1];k.S.KY(k.data,I);I.R3++};E.c$=function(){E.mu.call(this,"Layers",E.xf);this.k3=null};
E.c$.prototype=new E.mu;E.c$.prototype.CP=function(I,k,a,n,s){this.k3=k;var C=I.q,T=I.o!=null?I.o:a.T.length!=0?a.T[0]:a.R.length-1,S=a.R[T];
a.q_=!0;var D=n.W(as.dE),o=n.W(as.bJ),v=n.W(as.nU);if(C==X.Ve&&a.f==null&&(a.T.length>1||!a.rb(!1)||a.R[a.T[0]].hd()))C=X.T0;
if(C==X.zO){var g=new g7([6,33],this),d=S.hd()?["pass"].concat(aU._B):aU._B,R=d[I.WM],c=I.o!=null?[I.o]:a.T,e=JSON.stringify(c),O=[];
for(var Y=0;Y<c.length;Y++)O.push(a.R[c[Y]].pu);g.data={q:C,l6:e,Je:O,WM:R};a.RB(g);this.KY(g.data,a);
this.track(hW.Wg("Md",{t:"enum",v:{BlnM:aU.Vu(R)}}))}if(C==X.jT){var g,U=a.HS(),c=I.o!=null?[I.o]:a.T,e=JSON.stringify(c);
if(U&&U.data&&U.data.q==C&&U.data.l6==e)g=U;else{var K=hW.Wg("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(K);var O=[];for(var Y=0;Y<c.length;Y++)O.push(a.R[c[Y]].opacity);g=new g7([6,32],this);g.data={q:C,l6:e,Je:O,WM:I.WM,va:K.zf};
a.RB(g)}g.data.WM=I.WM;g.data.va.T.v.Opct.v.val=Math.round(I.WM*100/255);this.KY(g.data,a)}if(C==X.Ik){if(S.add.iOpa==null)S.add.iOpa=255;
var g,U=a.HS();if(U&&U.data&&U.data.q==C&&U.data.o==T)g=U;else{g=new g7("Fill Opacity Change",this);
g.data={q:C,o:T,Je:S.add.iOpa,WM:I.WM};a.RB(g)}g.data.WM=I.WM;this.KY(g.data,a)}if(C==X.gs){var _=I.WM,Z=I.o!=null?[I.o]:a.T.slice(0),H=[],G=[],g;
for(var N=0;N<Z.length;N++){var z=a.R[Z[N]];if(z.add.lspf==null)z.add.lspf=0;var O=z.add.lspf,R=O;for(var Y=0;
Y<_[0].length;Y++){var L=_[1][Y],p=1<<L;if((R&p)==0&&_[0][Y])R^=p;else if((R&p)!=0&&!_[0][Y])R^=p}H.push(O);
G.push(R)}var U=a.HS(),c=JSON.stringify(Z);if(U&&U.data&&U.data.q==C&&JSON.stringify(U.data.l6)==c){g=U;
g.data.WM=G}else{var g=new g7([6,57,1],this);g.data={q:C,l6:c,Je:H,WM:G};a.RB(g)}this.KY(g.data,a)}if(C==X.Mu){var V="----",r=I.$S,R=null;
for(var Y=0;Y<bg.NP.q4.length;Y++)if(S.add[bg.NP.q4[Y]])V=bg.NP.q4[Y];var y=S.add[V];if(r=="TySh")R=f4.MU(50,50,s.kd);
var g=new g7("Layer Type",this);g.data={q:C,o:T,aoJ:[V,y],$S:[r,R]};a.RB(g);this.KY(g.data,a)}if(C==X.Jn){var Z=[];
if(D){var W=a.HS(),m=W?W.data:null;if(W!=null&&W.S==this&&m.q==X.Jn&&m.l6.length!=1){var f=new d2(M.E.r);
f.S=E.ca;f.data={q:"h_stepbck"};k.a(f);if(m.o==T)return}var h=a.root.lR(T),b=h,i=[I.o];while(b.parent!=a.root){i.push(b.parent.index);
b=b.parent}for(var Y=0;Y<a.R.length;Y++){var w=a.R[Y],b=a.root.lR(Y),J=i.indexOf(Y)!=-1?!0:w.K7()&&h.depth<b.depth;
if(J!=w.K7())Z.push(Y)}}else if(I.l6)Z=I.l6;else{Z.push(T);var q=a.R[T].K7(),K={pi:q?"hide":"show",zf:{classID:q?"Hd":"Shw",null:{t:"VlLs",v:[hW.Pg("Lyr",!0)]}}};
this.track(K)}var g=new g7("Layer visibility",this,!0);g.data={q:C,l6:Z,o:T};a.RB(g);this.KY(g.data,a)}if(C==X.u5){if(s.P$==E.PZ){var x=new d2(M.E.b);
x.data={q:M.p.$g,S:E.Mt};k.a(x)}var A=I.ax5,Q=I.h7,P,escape=!1,F=!1;if(I.a0){if(v&&(Q==0||Q==1||Q==2)){var B=0;
if(o)B++;if(D)B+=2;var l=new d2(M.E.r,!0);l.S=E.FQ;l.data={q:"fromlayer",ri:[I.o,Q,B]};k.a(l);return}}var K={pi:"select",zf:{classID:"null",MkVs:{t:"bool",v:!1}}};
a.aae();if(n.W(as.nU)||I.My==0){var t=a.T.indexOf(T);if(t==-1)a.T.push(T);else if(a.T.length>1){if(I.My!=0)a.T.splice(t,1)}a.T.sort(function(g,cj){return g-cj});
K.zf.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};P=T}else if(o&&!D&&Q>0){C=Q==1?X.AZ:Q==2?X.EF:X.oV;
escape=!0}else if((o||I.My==1)&&a.T.length>0){var b$=Math.min(T,a.T[0]),hd=Math.max(T,a.T[a.T.length-1]);
a.T=[];for(var Y=b$;Y<=hd;Y++)if(a.R[Y].add.lsct!=gA.EB)a.T.push(Y);K.zf.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
P=T}else{P=T;if(T>=a.R.length)return;var w=a.R[T];if(w&&w.hd()&&I.apJ)w.add.lsct=gA.rW;else if(a.T.length==1&&a.T[0]==T&&Math.max(0,Q)==w.YY){F=!0;
a.q_=!1}if(!F){a.T=[T];a.fs()}}if(!F){if(P!=null&&P<a.R.length){K.zf.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:a.R[P].getName()}}]},this.track(K)}if(!escape){console.log("no escape");
if(a.T.length==1){var di=a.T[0];for(var Y=0;Y<a.R.length;Y++){if(Y==di)continue;var z=a.R[Y];z.YY=0;
z.fv=!1}var S=a.R[di];if(Q==2){S.fv=!S.fv;a.dz=[]}else if(S){S.YY=Q<=0?0:Q}}else for(var Y=0;Y<a.R.length;
Y++){var z=a.R[Y];z.YY=0;z.fv=!1}a.L0=null;a.cd=!0}}if(I.a0&&D){if((Q==1||Q==3)&&A!=null){var l=new d2(M.E.r,!0);
l.S=E.VX;l.data={q:"mskView",P:A!=0?0:o?1:2};k.a(l)}else{this.CP({q:X.oH,o:I.o},k,a,n,s)}}}if(C==X.AZ||C==X.oV){var hD=C==X.AZ,a$=hD?S.IO():S.kx(a).u;
if(a$==null)return;var g=new g7(a$.isEnabled?hD?[6,15]:[6,42]:hD?[6,14]:[6,41],this);g.data={q:C,o:T};
a.RB(g);this.KY(g.data,a)}if(C==X.EF){var a$=S.add.vmsk;if(a$==null)return;var g=new g7(a$.isEnabled?[6,17]:[6,16],this);
g.data={q:C,o:T};a.RB(g);this.KY(g.data,a)}if(C==X.agd){var eJ=S.add.lsct==gA.rW?gA.DG:gA.rW,b=a.root.lR(a.R.indexOf(S)),fw=!1;
if(n.W(as.nU)){var hY=b.parent;for(var Y=0;Y<hY.children.length;Y++){var ik=hY.children[Y].o;if(ik.hd())ik.add.lsct=eJ}}else S.add.lsct=eJ;
for(var Y=0;Y<a.T.length;Y++){var jb=a.T[Y];if(b.AM<jb&&jb<b.index)fw=!0}if(fw)a.T=[b.index];a.cd=!0}if(C==X.oH){if(!a.Py(T))return;
var g=new g7(S.Pi?[6,19]:[6,18],this);g.data={q:C,o:T};a.RB(g);if(I.WM==null||I.WM!=S.Pi)this.KY(g.data,a)}if(C==X.ayH){if(S.V0())S.HA-=32;
else S.HA+=32;a.cd=!0}if(C==X.eB||C==X.K$){var g;if(C==X.eB)g=new g7(S.add.lmfx.masterFXSwitch.v?[6,30,0]:[6,29],this);
if(C==X.K$)g=new g7(S.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);g.data={q:C,o:T};a.RB(g);this.KY(g.data,a)}if(C==X.Op||C==X.CK){var di=I.index,g;
if(C==X.Op)g=new g7(S.add.lmfx[fY.zQ[di[0]]].v[di[1]].v.enab.v?[6,30,0]:[6,29],this);if(C==X.CK)g=new g7(S.add.SoLd.filterFX.v.filterFXList.v[di].v.enab.v?[6,44]:[6,43],this);
g.data={q:C,o:T,index:I.index};a.RB(g);this.KY(g.data,a)}if(C==X.qk){if(I.src==I.DR)return;var cd=a.R[I.src],dN=a.R[I.DR],kc=cd.add.lmfx?JSON.stringify(cd.add.lmfx):"",ck=dN.add.lmfx?JSON.stringify(dN.add.lmfx):"";
if(dN.add.lmfx==null){dN.add.lmfx=JSON.parse(fY.default);for(var Y=0;Y<fY.order.length;Y++)dN.add.lmfx[fY.zQ[Y]]={t:"VlLs",v:[]}}if(I.Rv==null){dN.add.lmfx=JSON.parse(kc);
if(!D)delete cd.add.lmfx}else{var b3=I.Rv[0],hL=fY.zQ[b3];if(fY.av$.indexOf(fY.order[b3])==-1)dN.add.lmfx[hL].v=[];
dN.add.lmfx[hL].v.push(cd.add.lmfx[hL].v[I.Rv[1]]);if(!D)cd.add.lmfx[hL].v.splice(I.Rv[1],1)}var gS=cd.add.lmfx?JSON.stringify(cd.add.lmfx):"",jF=dN.add.lmfx?JSON.stringify(dN.add.lmfx):"";
if(!dN.V0())dN.HA+=32;var g=new g7("Move Layer Styles",this);g.data={q:C,lE:I.src,l4:I.DR,aCI:kc,a1T:ck,a19:gS,aaq:jF};
a.RB(g);this.KY(g.data,a)}if(C==X.ph){if(I.src!=null)T=I.src;var z=a.R[T],kB=JSON.stringify(z.add.SoLd),jw=JSON.parse(kB),iT=jw.filterFX.v.filterFXList.v;
iT.splice(I.Rv,1);var g=new g7([6,53],this);g.data={q:X.Za,wG:[{dQ:T,dg:[kB,JSON.stringify(jw)]}]};a.RB(g);
this.KY(g.data,a)}if(C==X.a3m){var gY=D,cd=a.R[I.src],dN=a.R[I.DR],aL=[];if(cd!=dN&&dN.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(cd==dN&&!gY&&I.Rv==I.Xn)return;if(cd==dN&&I.Rv==-1)return;var dw=cd.kx(a),kB=JSON.stringify(cd.add.SoLd),jw=JSON.parse(kB),iT=jw.filterFX.v.filterFXList.v;
if(cd==dN){iT.splice(I.Xn,0,iT[I.Rv]);if(!gY)iT.splice(I.Rv+(I.Rv<I.Xn?0:1),1);aL.push({dQ:I.src,dg:[kB,JSON.stringify(jw)]})}else if(I.Rv==-1){var ka=jw.filterFX;
if(!gY){delete jw.filterFX;aL.push({dQ:I.src,dg:[kB,JSON.stringify(jw)],XG:[dw,null]})}var cy=dN.st()?dN.kx(a):null,jP=iJ.aqr(dw),aA=JSON.stringify(dN.add.SoLd),d1=JSON.parse(aA);
d1.placed.v=jP.id;d1.filterFX=ka;aL.push({dQ:I.DR,dg:[aA,JSON.stringify(d1)],XG:[cy,jP]})}else{var ag=iT[I.Rv];
if(!gY){iT.splice(I.Rv,1);aL.push({dQ:I.src,dg:[kB,JSON.stringify(jw)]})}var aA=JSON.stringify(dN.add.SoLd),d1=JSON.parse(aA);
if(d1.filterFX==null)d1.filterFX=gJ.mA();var b0=d1.filterFX.v.filterFXList.v;b0.splice(I.Xn,0,ag);var kx={dQ:I.DR,dg:[aA,JSON.stringify(d1)]};
if(!dN.st()){var jP=iJ.akY(dN.add.SoLd.placed.v);kx.XG=[null,jP]}aL.push(kx)}var g=new g7([6,52],this);
g.data={q:X.Za,wG:aL};a.RB(g);this.KY(g.data,a)}if(C==X.$M){var a$=S.IO(),g=new g7(a$.n2?[6,26]:[6,25],this);
g.data={q:C,o:T};a.RB(g);this.KY(g.data,a);this.track({pi:"set",zf:{classID:"setd",null:{t:"obj ",v:[hW.Pg("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:a$.n2}}}}})}if(C==X.Jx){var a$=S.add.vmsk,g=new g7(a$.n2?[6,28]:[6,27],this);
g.data={q:C,o:T};a.RB(g);this.KY(g.data,a)}if(C==X.tV){var g=new g7("Variables / Datasets",this),br=JSON.stringify([a.pn,a.VJ]);
if(br==I.P)return;g.data={q:C,aEg:br,ayZ:I.P};a.RB(g);this.KY(g.data,a)}if(C==X.Rn){var ft=[],g;for(var Y=0;
Y<a.T.length;Y++){var N=a.T[Y],w=a.R[N];if(w.add.vogk)ft.push(N,JSON.stringify(w.add.vogk))}for(var Y=0;
Y<a.dz.length;Y++){var N=a.dz[Y],w=a.DD[N];if(w.add.vogk)ft.push(-1-N,JSON.stringify(w.add.vogk))}j.Z_.aCh(a,I.P,I.a8j);
var iv=[];for(var Y=0;Y<a.T.length;Y++){var N=a.T[Y],w=a.R[N];if(w.add.vogk)iv.push(N,JSON.stringify(w.add.vogk))}for(var Y=0;
Y<a.dz.length;Y++){var N=a.dz[Y],w=a.DD[N];if(w.add.vogk)iv.push(-1-N,JSON.stringify(w.add.vogk))}var U=a.HS();
if(U&&U.data&&U.data.q==C){var k6=!0;for(var Y=0;Y<ft.length;Y+=2)if(ft[Y]!=U.data.rg[Y])k6=!1;if(k6){g=U;
g.data.j8=iv}}if(g==null){var g=new g7([12,91,1],this);g.data={q:C,rg:ft,j8:iv};a.RB(g)}this.KY(g.data,a)}if(C==X.wX){var ay=JSON.stringify(S.add.artb),eT=JSON.stringify(I.h6),g;
a.R[T].add.artb=JSON.parse(eT);var kD=new eZ(0,0,a.Q,a._),cP=E.Zo.pd(a),U=a.HS();if(U&&U.data&&U.data.q==C&&U.data.o==T){g=U;
g.data.h6=eT}if(g==null){var g=new g7("Editing Artboard",this);g.data={q:C,o:T,aaz:ay,h6:eT,ZD:kD};a.RB(g)}g.data.T6=cP;
this.KY(g.data,a)}if(C==X.QJ){var iv=a.TL.slice(0),cU=a.Ap.slice(0),gu=a.f,jd=a.f,J=a.w.N.slice(0);if(I.ar=="seltochannel"){var i$=I.ri[0],hT=iv[i$]=iv[i$].clone(),b=j._R.hB(a.f,hT,I.ri[1]);
hT.channel=b.channel;hT.rect=b.rect}if(I.ar=="fromAction"){var jk=I.P.pi,i1=I.P.zf;if(jk=="make"||jk=="duplicate"){var aZ=iv.length,hM=!1,ku=!1;
if(a.Bo())aZ--;var az=new X.uC;az.name="Alpha "+(aZ+1);if(jk=="make"){var dM=i1.Nw.v;az.color=0;cU=[aZ];
az.zh=!0;az.Zu=dM.Opct.v;if(dM.Nm)az.name=dM.Nm.v;if(dM.classID=="SCch"){hM=!0;jd=null;az._W=1}for(var Y=0;
Y<a.TL.length;Y++)a.TL[Y].zh=!1;J=[0,0,0]}else{var w=a.R[a.T[0]],fb=w.YY==1?w.IO():w.YY==3?w.kx(a).u:null,j$=i1.null.v[0].v;
if(i1.Nm)az.name=i1.Nm.v;if(j$.keyID=="fsel")hM=!0;else if(fb){az.channel=fb.channel.slice(0);az.rect=fb.rect.clone();
az.color=fb.color}else{var e0=E.BN.a0I(a);jd=E.BN.aE0(a,e0);az.color=0;az.rect=jd.rect;az.channel=jd.channel}}if(hM){az.color=0;
if(a.f){az.rect=a.f.rect.clone();az.channel=a.f.channel.slice(0)}if(ku){az.color=255-az.color;j.Us(az.channel)}}iv.splice(aZ,0,az)}else if(jk=="delete"){if(S&&S.IO()&&S.YY==1){this.CP({q:X.Ro},k,a,n,s);
return}var ff=a.Ap;ff.sort(function(g,cj){return cj-g});if(ff.length==0)return;for(var Y=0;Y<ff.length;
Y++)iv.splice(ff[Y],1);cU=[];J=[1,1,1]}else if(jk=="show"||jk=="hide"){var dm=i1.null.v,dX=null,il=!1;
for(var Y=0;Y<dm.length;Y++){var j1=dm[Y].v[0].v,c5=j1.enum;if(c5=="Trgt"){if(iv[cU[0]]==null)continue;
iv[cU[0]]=iv[cU[0]].clone();iv[cU[0]].zh=jk=="show";il=!0}else{var i$=["Rd","Grn","Bl"].indexOf(c5);
if(dX==null)dX=a.w.N.slice(0);dX[i$]=jk=="show"?1:0}}if(dX){var f=new d2(M.E.r,!0);f.S=E._F;f.data={q:"setcls",N:dX};
k.a(f);if(!il)return}}}if(I.ar=="rnm"){iv[I.Gq]=iv[I.Gq].clone();iv[I.Gq].name=I.name}var g=new g7("Channel Edit",this);
g.data={q:C,rg:a.TL.slice(0),eq:a.Ap.slice(0),j8:iv,L5:cU,Mr:gu,iy:jd,a3v:a.w.N.slice(0),aDb:J};this.KY(g.data,a);
a.RB(g)}if(C==X.J5){var iE=new eZ(0,0,a.Q,a._),g=new g7(I.xn,this);g.data={q:X.J5,OZ:a.R.slice(0),xj:I.xj,gM:a.T.slice(0),dT:I.iy};
a.RB(g);this.KY(g.data,a);var f6=E.Zo.Hi(a);if(f6){g.data.ZD=iE;g.data.T6=f6}}if(C==X.Va){var fP=a.X0(null,I.o),iQ=1e10;
if(fP.length==0)return;if(a.R.length==fP.length){alert("Project must have at least 1 layer");return}var jE=[];
for(var Y=0;Y<a.R.length;Y++)if(fP.indexOf(Y)==-1)jE.push(a.R[Y]);for(var Y=0;Y<fP.length;Y++)iQ=Math.min(iQ,fP[Y]);
while(iQ>jE.length-1)iQ--;iQ=Math.max(iQ,0);while(jE[iQ].name=="</Layer group>")iQ++;this.track({pi:"delete",zf:{classID:"Dlt",null:hW.Pg("Lyr",!0)}});
var kD=new eZ(0,0,a.Q,a._),g=new g7([6,31],this);g.data={q:X.J5,OZ:a.R.slice(0),xj:jE,gM:a.T.slice(0),dT:[iQ]};
a.RB(g);this.KY(g.data,a);var cP=E.Zo.pd(a);if(cP){g.data.T6=cP;g.data.ZD=kD;E.Zo.Hi(a)}}if(C==X.H$){if(!n.W(as.bJ))return;
var g=new g7("Switch Layer Link",this);g.data={q:C,o:I.o};a.RB(g);this.KY(g.data,a)}if(C==X.w2){var ff=I.ai5?I.ai5:a.T,j8=0,c$=!1;
if(ff.length==0)return;if(ff.length==1&&a.R[ff[0]].sk==0){alert(hJ.get([15,7,5]));return}var bs=[];for(var Y=0;
Y<a.R.length;Y++){var e6=a.R[Y].sk;bs.push(e6);j8=Math.max(j8,e6)}var ba=-1,jc=-1;for(var Y=0;Y<ff.length;
Y++){var e6=a.R[ff[Y]].sk;if(e6==0)c$=!0;else if(ba==-1||ba==e6)ba=e6;else jc=e6}if(!c$)for(var Y=0;
Y<ff.length;Y++)a.R[ff[Y]].sk=0;else if(ba!=-1&&jc==-1)for(var Y=0;Y<ff.length;Y++)a.R[ff[Y]].sk=ba;
else for(var Y=0;Y<ff.length;Y++)a.R[ff[Y]].sk=j8+1;var aC=[];for(var Y=0;Y<a.R.length;Y++){var e6=a.R[Y].sk;
if(aC[e6]==null)aC[e6]=0;aC[e6]++}for(var Y=0;Y<a.R.length;Y++){var e6=a.R[Y].sk;if(aC[e6]==1)a.R[Y].sk=0}var eQ=bs;
bs=[];for(var Y=0;Y<a.R.length;Y++){var e6=a.R[Y].sk;bs.push(e6);j8=Math.max(j8,e6)}var g=new g7(c$?[6,54,0]:[6,54,1],this);
g.data={q:X.w2,asA:eQ,anj:bs};a.RB(g);this.KY(g.data,a)}if(C==X.T0&&(I.o!=null||a.T.length!=0)||C==X.o4){var aR=a.hu(C==X.T0?I.o:T,null,I.akL),b2;
if(C==X.o4){var z=aR[0],jk=z.add.SoLd.Idnt.v,dH=a.SR(jk).clone();z.add.SoLd.Idnt.v=dH.DZ=iJ.I8()+jk.slice(8);
a.add.lnk2.push(dH)}if(C==X.T0){var gZ={pi:"duplicate",zf:{classID:"null",null:hW.Pg("Lyr",!0)}};if(I.rN){aR[aR.length-1].GF(I.rN);
gZ.Nm={t:"TEXT",v:I.rN}}this.track(gZ);I.av0=I.o}C=X.Qr;I.R=aR;I.DJ=a;I.aR=a}if(C==X.Qr){var fq,fp,cM=I.DJ,kL=I.aR,cQ=0,fv=0,bR=cM.ev(),bk=!1,d8,cx=0,hn=0;
if(cM!=kL){console.log("ADDLAYERS different projs");var fq=new eZ(0,0,cM.Q,cM._),fp=new eZ(0,0,kL.Q,kL._),cI=[],dn=[],bM=new eZ;
for(var Y=0;Y<I.R.length;Y++){var z=I.R[Y];bM=bM.oL(z.rect);if(z.add.SoLd==null)continue;var jk=z.add.SoLd.Idnt.v;
if(cI.indexOf(jk)==-1){cI.push(jk);dn.push(iJ.I8()+jk.slice(8))}z.add.SoLd.Idnt.v=dn[cI.indexOf(jk)];
var dw=z.kx(cM);if(dw){cM.xJ(dw);kL.eD(dw)}}if(bR==-1&&!I.OG&&I.a6m&&!fp._s(bM)){cQ=-bM.x;fv=-bM.y}if(cI.length>0){if(kL.add.lnk2==null)kL.add.lnk2=[];
for(var Y=0;Y<cI.length;Y++){var aK=cM.SR(cI[Y]),dH=aK.clone();dH.DZ=dn[Y];kL.add.lnk2.push(dH)}}}var gu=kL.T.slice(0);
gu.sort(function(g,cj){return g-cj});var jE=kL.R.slice(0),jd=[],ju=-1;for(var Y=0;Y<gu.length;Y++)ju=Math.max(ju,gu[Y]);
if(I.av0!=null)ju=I.av0;if(I.OG){ju=I.OG-1;var fD=kL.R[I.OG].OR();cQ+=fD.x;fv+=fD.y}if(bR!=-1&&(cM!=kL||I.OG)){var bD=cM.R[bR].OR();
cQ-=bD.x;fv-=bD.y}var aN=kL.Ru();for(var Y=0;Y<aN[0].length;Y++){var bc=aN[1][Y];if(bc!=-1)aN[1][Y]=jE[bc]}ju++;
for(var Y=0;Y<I.R.length;Y++){var w=I.R[Y],bE=w.add.artb;jE.splice(ju,0,w);jd.push(ju);ju++;if(bE){d8=!0;
var du=bE.guideIndeces;if(du){du=du.v;for(var kv=0;kv<du.length;kv++){aN[0].push(cM.Fq[du[kv].v].slice(0));
aN[1].push(w);bk=!0}}}}for(var Y=0;Y<aN[0].length;Y++){var bc=aN[1][Y];if(bc!=-1)aN[1][Y]=jE.indexOf(bc)}for(var Y=0;
Y<I.R.length;Y++){var w=I.R[Y];if(w.add.lsct==gA.EB){if(cx==0)hn++;cx++}else if(w.hd())cx--}if(hn==1)jd=[ju-1];
var g=new g7([6,0],this);g.data={q:X.J5,OZ:kL.R.slice(0),xj:jE,gM:gu,dT:jd};if(bk){g.data.Jj=[kL.Ru(),aN]}kL.RB(g);
this.KY(g.data,kL);if(cQ!=0||fv!=0)E.R0.IL(kL,kL.X0(),null,cQ,fv);if(d8){g.data.ZD=new eZ(0,0,kL.Q,kL._);
g.data.T6=E.Zo.pd(kL);E.Zo.Hi(kL)}}if(C==X.t1){var hy=I.o!=null?[I.o]:a.X0(),jE=a.R.slice(0);for(var Y=0;
Y<hy.length;Y++){var w=a.R[hy[Y]].clone();w.kn(a);jE.splice(hy[Y],1,w)}var g=new g7([6,8],this);g.data={q:X.J5,OZ:a.R.slice(0),xj:jE,gM:a.T.slice(0),dT:a.T.slice(0)};
a.RB(g);this.KY(g.data,a)}if(C==X.ajS){var jE=a.R.slice(0),w=jE[a.T[0]]=jE[a.T[0]].clone(),dD=w.add.lmfx,cV,fD;
delete w.add.lmfx;var eA=a.T[0],a5=eA+1;if(w.hd()){var gd=a.R[a.T[0]].qj;fD=gd.amA;cV=gd.he;var b=a.root.lR(eA);
eA=b.AM}else{fD=w.rect;cV=j.U(fD.c());j.Ez(w.buffer,cV,3)}var a4=hB.q8(dD,w.add.fxrp,cV,fD,a,fD).type;
for(var Y=0;Y<fY.order.length;Y++){var c4=fY.order[Y],fX=a4[c4];fX.reverse();for(var kv=0;kv<fX.length;
kv++){var iw=fX[kv],c=a.ux(),cJ=Y>7;if(c4=="ebbl"){if(iw.KU||iw.cn){var aV=iw.KU?iw.KU:iw.cn;if(iw.KU)delete iw.KU;
else delete iw.cn;if(iw.cn||iw.w5)kv--}else if(iw.w5||iw.bK){var aV=iw.bK?iw.bK:iw.w5;if(iw.bK){delete iw.bK;
if(iw.w5)kv--}cJ=!0}iw=aV}c.pu=iw.nY;c.opacity=Math.round(255*iw.bf);c.buffer=iw.GG;c.rect=iw.bF.clone();
c.rect.offset(fD.x,fD.y);if(c4=="FrFX"){c.buffer=c.buffer.slice(0);j.yv(iw.po?iw.po:iw.HX,c.buffer,3);
if(iw.po){cJ=!0;delete iw.po;if(iw.HX)kv--}}c.Pi=!cJ;c.GF(w.getName()+"'s "+hJ.get(fY.names[Y]));jE.splice(cJ?eA:a5,0,c);
if(cJ)a5++}}var g=new g7("Styles to Layers",this);g.data={q:X.J5,OZ:a.R.slice(0),xj:jE,gM:a.T.slice(0),dT:[a5-1]};
a.RB(g);this.KY(g.data,a)}if(C==X.auD){var hy=a.X0(),jE=a.R.slice(0),kO=new eZ(0,0,a.Q,a._);for(var Y=0;
Y<hy.length;Y++){var fa=a.R[hy[Y]],fO=fa.K7();fa.ol(!0);var f3=a.root.lR(hy[Y]);if(fa.hd())continue;
if(f3==null)continue;var w=fa.clone();w.kn(a);var e5=f3.GT(a,!0),d6=a.R;a._g([fa]);a.V();a.pa();w.buffer=j.U(e5.c()*4);
j.ao(a.TB(),kO,w.buffer,e5);w.rect=e5;w.opacity=255;w.add.iOpa=255;w.pu="norm";w.V();w.qj.J3=!0;a._g(d6);
if(w.add.lmfx)delete w.add.lmfx;w.u=w.fm=null;jE.splice(hy[Y],1,w);w.ol(fO);fa.ol(fO)}var g=new g7([6,34],this);
g.data={q:X.J5,OZ:a.R.slice(0),xj:jE,gM:a.T.slice(0),dT:a.T.slice(0)};a.RB(g);this.KY(g.data,a)}if(C==X.asP){var hy=a.X0(),jE=a.R.slice(0);
for(var Y=0;Y<hy.length;Y++){var w=a.R[hy[Y]],bl=w.add.TySh;if(bl==null)continue;var z=new d_(bl.RW,s.IE,bl.Mz),ci=j.X.aZ(jW.sE(z,bl,!0));
for(var ho in ci){var aD=ci[ho],ik=w.clone();delete ik.add.TySh;ik.HA=ik.HA|1<<4;ik.add.SoCo=JSON.parse(JSON.stringify(fY.T8[0]));
var gT=ik.add.SoCo.Clr.v;gT.Rd.v=parseInt(ho.slice(1,3),16);gT.Grn.v=parseInt(ho.slice(3,5),16);gT.Bl.v=parseInt(ho.slice(5,7),16);
var gz=new X.JB;gz.d=j.X.ep(aD,!1);if(ik.add.vmsk!=null){ik.add.vmsk.aDB();gz.concat(ik.add.vmsk)}ik.add.vmsk=gz;
ik.add.vstk=fY.Lg.nI(!0);ik.Bb();ik.Wr(a);jE.splice(jE.indexOf(w),0,ik)}jE.splice(jE.indexOf(w),1)}var jd=a.T.slice(0);
for(var Y=jd.length-1;Y>=0;Y--)if(jd[Y]>=jE.length)jd.splice(Y,1);var g=new g7([6,40],this);g.data={q:X.J5,OZ:a.R.slice(0),xj:jE,gM:a.T.slice(0),dT:jd};
a.RB(g);this.KY(g.data,a)}if(C==X.a9$){var fN=a.T.length,ax,jH;if(fN<2){alert("Select two or more layers.");
return}for(var Y=0;Y<fN;Y++){var bD=a.R[a.T[Y]].rect;ax=Y==0?bD:ax.LU(bD);jH=Y==0?bD:jH.oL(bD)}if(ax.c()*1.2>jH.c()){alert("stacking images");
var cs=[],ec=[];for(var Y=0;Y<fN;Y++){var w=a.R[a.T[Y]];cs.push(w.buffer);ec.push(w.rect)}var jp=j.acj.CH(cs,ec),fV=jp[0],g6=jp[1],h7=[];
for(var Y=0;Y<fN;Y++){var a$=new X.uC;a$.color=255;a$.rect=g6;a$.channel=fV[Y];h7.push(a.T[Y],null,a$)}var g=new g7("Focus-Stack",this);
g.data={q:X.wI,G$:h7};a.RB(g);this.KY(g.data,a);return}if(!a.XW())return;var ik=a.R[a.T[0]].clone(),jE=[];
for(var Y=0;Y<a.R.length;Y++)if(a.T.indexOf(Y)==-1)jE.push(a.R[Y]);jE.splice(a.T[0],0,ik);for(var Y=1;
Y<fN;Y++)if(a.R[a.T[Y]].rect.c()>2e6){alert("Blended areas are too large.");return}for(var Y=1;Y<fN;
Y++){var w=a.R[a.T[Y]],g6=w.rect.clone();g6.CJ(1,1);var cj=j.U(g6.c()*4);j.ao(w.buffer,w.rect,cj,g6);
ik.extend(g6);var h2=j.U(g6.c()*4);j.ao(ik.buffer,ik.rect,h2,g6);var g=j.U(g6.c());j.Ez(cj,g,3);j.round(g,200);
j.yv(g,cj,3);j.z.Pf("norm",cj,g6,h2,g6,g6,1);j.eb.ZY(h2,g,g6);j.ao(h2,g6,ik.buffer,ik.rect)}var g=new g7([2,10,0],this);
g.data={q:X.J5,OZ:a.R.slice(0),xj:jE,gM:a.T.slice(0),dT:[a.T[0]]};a.RB(g);this.KY(g.data,a)}if(C==X.kT){var jE=a.R.slice(0),cU=a.T.slice(0);
for(var Y=0;Y<jE.length;Y++){var w=jE[Y],eM=w.add.vmsk;if(w.wc()&&eM&&w.add.vstk.strokeEnabled.v&&!w.add.vstk.fillEnabled.v){var eG=eM.d,jT=0,kb=-1;
for(var kv=0;kv<eG.length;kv++){if((eG[kv].type==0||eG[kv].type==3)&&eG[kv].Np!=-1){jT++;if(eG[kv].type==3&&kb==-1){eG[kv].RO=eG[kv].Np=1;
kb=kv}}}if(jT>1&&kb!=-1&&jT<10){console.log("separating an open path into a new layer");w=w.clone();
eM=w.add.vmsk;eG=eM.d;var c=eG[kb].length,ev=w.clone();ev.add.lyid=a.Kb();eM.d=eG.slice(0,2).concat(eG.slice(kb,kb+c+1));
eM.T=[];w.Wr(a);w.V();var cL=ev.add.vmsk.d;ev.add.vmsk.d=cL.slice(0,kb).concat(cL.slice(kb+c+1,cL.length));
ev.add.vmsk.T=[];ev.Wr(a);jE[Y]=w;jE.splice(Y+1,0,ev);for(var kv=0;kv<cU.length;kv++)if(cU[kv]>Y)cU[kv]++;
var jN=cU.indexOf(Y);if(jN!=-1){cU.splice(jN+1,0,Y+1)}}}}if(jE.length!=a.R.length){var g=new g7("Splitting open paths",this);
g.data={q:X.J5,OZ:a.R.slice(0),xj:jE,gM:a.T.slice(0),dT:cU};a.RB(g);this.KY(g.data,a)}}if(C==X.P1){this.CP({q:X.kT},k,a,n,s);
var gu=a.T.slice(0),d6=a.R.slice(0),hy=a.X0();if(hy.length==0)return;a.a5s(hy,!1,I.Uy);var g=new g7([6,36,0],this);
g.data={q:X.J5,OZ:d6,xj:a.R.slice(),gM:gu,dT:a.T.slice(0)};a.RB(g);this.KY(g.data,a)}if(C==X.asQ){var kB=S.add.SoLd;
if(kB==null)return;var jk=kB.Idnt.v,gq=a.SR(jk);gq.TB(!1);var eC=gq.IV[0],g6=gq.IV[1];if(j.zA(eC)){alert("The smart object contains transparency.");
return}var ij=kk.wV("jpg").G0([[eC.buffer]],g6.Q,g6._,[90]);this.CP({q:X.hR,data:new Uint8Array(ij),f3:"image.jpg"},k,a,n,s);
console.log(a.add);return}if(C==X.hR){var kO=I.Z9,jk=I.id;if(kO==null)kO=a;if(jk==null)jk=S.add.SoLd.Idnt.v;
var aK=kO.SR(jk),dH=aK.clone();dH.raw=I.data;dH.f3=I.f3;var g8=kk.V1(I.data.buffer);if(g8=="psd"){dH.e8="8BIM";
dH.nE="8BPB"}else{dH.e8="    ";dH.nE="    "}dH.TB(!1);aK.TB(!1);var g=new g7([6,36,1],this);g.data={q:X.hR,id:jk,Oc:aK,DC:dH};
kO.RB(g);this.KY(g.data,kO)}if(C==X.EO){var g=new g7([6,36,4],this);g.data={q:C,o:T,P6:S.add.SoLd.Impr.v.classID,WM:I.WM};
a.RB(g);this.KY(g.data,a)}if(C==X.a3n){var fm,bJ;if(I.Ip){fm=I.Z9;bJ=I.Ip}else{I.Z9.N_();I.Z9.B2();I.Z9.V();
I.Z9.pa();I.Z9.TB();fm=kk.wV("PSD").G0(I.Z9,0,0,[!0,!0]);bJ=I.Z9.name}if(!(fm instanceof ArrayBuffer))throw"e";
fm=new Uint8Array(fm);var t=I.qb;if(t==null){if(a.T.length==0)t=a.T.length;else{var jb=a.T[a.T.length-1],c=a.R[jb];
t=c.hd()?jb:jb+1}}var bW=new eZ(0,0,a.Q,a._),gE=a.ev();if(gE!=-1)bW=a.R[gE].OR();var fs=a.MA(fm,bJ,null,null,bW,s.IE,k),jE=a.R.slice(0);
jE.splice(t,0,fs);var g=new g7([6,36,2],this);g.data={q:X.J5,OZ:a.R.slice(),xj:jE,gM:a.T.slice(0),dT:[jE.indexOf(fs)]};
a.RB(g);this.KY(g.data,a)}if(C==X.x6&&I.ar=="merge"){var ad=[],ch=a.root.children,fE=0;for(var Y=0;Y<ch.length;
Y++){var b=ch[Y],w=b.o,iL=b.children,hU=!0;if(!w.hd()||iL.length==0)continue;for(var kv=0;kv<iL.length;
kv++)if(!iL[kv].o.getName().startsWith("_a_")){hU=!1;break}if(hU)ad.push(a.R.indexOf(w))}var aE=[];for(var Y=0;
Y<ad.length;Y++)if(a.T.indexOf(ad[Y])!=-1)aE.push(ad[Y]);if(aE.length>=2)ad=aE;if(ad.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var f$=[];for(var Y=0;Y<ad.length;Y++)f$.push(a.R[ad[Y]].getName());var fX=[];for(var a0=0;a0<ad.length;
a0++){var b=a.root.lR(ad[a0]),kx=[[],[],0,a0];fX.push(kx);for(var Y=0;Y<b.children.length;Y++){var N=b.children[Y].index,w=b.children[Y].o,az=w.getName(),jA=20,ap=az.split(",");
if(ap.length>1){var c_=parseInt(ap.pop());if(!isNaN(c_)&&c_!=0)jA=c_}if(jA<17)jA=17;kx[0].push(w);kx[1].push(jA);
kx[2]+=jA}}fX.sort(function(g,cj){return cj[2]-g[2]});if(fX[0][2]>2e3){var fK=0,iV=0;for(var Y=0;Y<fX.length;
Y++){var cN=fX[Y][1].length/fX[Y][2];if(cN>iV){iV=cN;fK=Y}}var hQ=(fX[0][2]/1e3).toFixed(1),em=window.confirm("- \""+f$[fX[0][3]]+"\" is "+hQ+" seconds long\n"+"- \""+f$[fX[fK][3]]+"\" is playing at "+Math.round(iV*1e3)+" frames per second\n"+"A merged animation must be "+hQ+" sec, up to "+Math.round(fX[0][2]*iV)+" frames. Proceed?");
if(!em)return}var ct=fX[0],km=ct[2];for(var bc=1;bc<fX.length;bc++){var kx=fX[bc],dS=1,ix=kx[1].slice(0),aw=0;
while((dS+1)*kx[2]<=ct[2]){dS++;ix=ix.concat(kx[1])}kx[1]=ix;kx[2]*=dS;var gN=ct[2]/kx[2];for(var Y=0;
Y<kx[1].length;Y++){var cE=Math.floor(kx[1][Y]*gN);kx[1][Y]=cE;aw+=cE}while(aw<km){aw++;kx[1][kx[1].length-1]++}kx[2]=aw}var jg=[],jv=[],cE=[];
for(var Y=0;Y<fX.length;Y++){jg.push(0);jv.push(0)}while(fE<km){var i8=1e9,aZ=-1;for(var Y=0;Y<fX.length;
Y++){var cl=fX[Y][1],eA=jg[Y];if(eA!=cl.length&&jv[Y]+cl[eA]<fE+i8){aZ=Y;i8=jv[Y]+cl[eA]-fE}}jv[aZ]+=fX[aZ][1][jg[aZ]];
jg[aZ]++;if(i8!=0){cE.push(i8);fE+=i8}}for(var Y=1;Y<cE.length;Y++){var h8=cE[Y];if(h8<16&&(cE[Y-1]<16||Y<cE.length-1&&16<=cE[Y+1])){cE[Y-1]+=h8;
cE.splice(Y,1);Y--}}var fO=[],kO=new eZ(0,0,a.Q,a._);for(var Y=0;Y<a.R.length;Y++){fO[Y]=a.R[Y].K7();
a.R[Y].ol(!1)}var gy=a.T.slice(0);a.T=ad;var fP=a.X0();fP.sort(function(g,cj){return g-cj});var jE=[];
for(var Y=0;Y<a.R.length;Y++){if(fP.indexOf(Y)==-1)jE.push(a.R[Y])}fX.sort(function(g,cj){return g[3]-cj[3]});
function gR(cl,kP){var Y=0,c7=0;while(c7+cl[Y]<=kP){c7+=cl[Y];Y++}return Y}fE=0;jE.splice(fP[0],0,a.KM());
for(var cm=0;cm<cE.length;cm++){var Z=[];for(var Y=0;Y<fX.length;Y++){var eA=gR(fX[Y][1],fE)%fX[Y][0].length,w=fX[Y][0][eA];
Z.push(w)}var w=a.ux();for(var Y=0;Y<fX.length;Y++){var dL=Z[Y],hY=a.R[ad[Y]];dL.ol(!0);hY.ol(!0)}a.V();
a.pa();var eC=a.TB();w.rect=j.h0(eC,kO,2);w.buffer=j.U(w.rect.c()*4);j.ao(eC,kO,w.buffer,w.rect);for(var Y=0;
Y<fX.length;Y++){var dL=Z[Y],hY=a.R[ad[Y]];dL.ol(!1);hY.ol(!1)}w.ol(cm==0);w.GF("_a_frm"+cm+","+cE[cm]);
jE.splice(fP[0]+1+cm,0,w);fE+=cE[cm]}var w=a.ux();w.GF(f$.join(" + "));w.pu="pass";w.add.lsct=gA.DG;
w.HA=24;jE.splice(fP[0]+1+cE.length,0,w);for(var Y=0;Y<a.R.length;Y++)a.R[Y].ol(fO[Y]);var g=new g7([6,12,0],this);
g.data={q:X.J5,OZ:a.R,xj:jE,gM:gy,dT:[fP[0]+1+cE.length]};a.RB(g);this.KY(g.data,a)}if(C==X.Zg||C==X.od){var is=a.T.length==1&&!a.R[a.T[0]].hd(),eN=!0,fs=null,jd;
if(is&&a.T[0]==0)return;var d6=a.R.slice(0),gu=a.T.slice(0);if(is)a.T=[T,T-1];if(C==X.od){a.T=[];for(var Y=0;
Y<a.R.length;Y++)if(a.R[Y].K7())a.T.push(Y)}var hy=a.X0();hy.sort(function(g,cj){return g-cj});var gw=new eZ,kO=new eZ(0,0,a.Q,a._);
for(var Y=0;Y<hy.length;Y++){var N=hy[Y],w=a.R[N];if(w.hd()||w.getName()=="</Layer group>")continue;
eN=eN&&w.wc()&&w.add.vmsk!=null;gw=gw.oL(a.root.lR(N).GT(a,!0))}if(I._R!=null&&!eN){alert("Select shape layers only.");
return}if(eN){var eM=null,fQ=I._R;for(var Y=0;Y<hy.length;Y++){var c=a.R[hy[Y]];if(c.rect.c()==0)continue;
if(fs==null){fs=c.clone();eM=fs.add.vmsk}else{var c=a.R[hy[Y]],cL=X.JB.xa(c.add.vmsk.d);if(fQ!=null)for(var kv=0;
kv<cL.length;kv++)if(cL[kv].Np!=null&&cL[kv].Np!=-1)cL[kv].Np=[1,2,3,0][fQ];eM.d=eM.d.concat(cL.slice(2));
fs.add.vogk=fs.add.vogk.concat(JSON.parse(JSON.stringify(c.add.vogk)))}}fs.add.vmsk.WB=!0;fs.Wr(a)}else if(kO.j1(gw)){fs=a.ux();
fs.GF(a.R[hy[hy.length-1]].getName());fs.rect=gw;fs.buffer=j.U(gw.c()*4);var bY=a.add.artd;delete a.add.artd;
var iK=a.TB(hy);if(bY)a.add.artd=bY;j.ao(iK,kO,fs.buffer,gw);fs.Jk();fs.V()}else{a.a5s(hy,!0);fs=a.R[a.T[0]];
a.R.splice(a.T[0],1);var ac=a.SR(fs.add.SoLd.Idnt.v);a.add.lnk2.splice(a.add.lnk2.indexOf(ac),1);delete fs.add.SoLd}var iI=D,eR=-1;
if(I.zf&&I.zf.Dplc&&I.zf.Dplc.v)iI=!0;if(iI&&C==X.od&&gu.length!=0&&a.R[gu[0]].Lk()&&a.R[gu[0]].rect.KH()){eR=gu[0]}if(eR!=-1||is){var dP=a.R[eR!=-1?eR:T-1];
fs.GF(dP.getName());fs.add.lclr=dP.add.lclr}var jE=[];for(var Y=0;Y<a.R.length;Y++)if(iI||hy.indexOf(Y)==-1)if(Y!=eR)jE.push(a.R[Y]);
var dE=hy[hy.length-1],dp=dE==a.R.length-1?null:a.R[dE+1],aj=dp?jE.indexOf(dp):jE.length;jE.splice(aj,0,fs);
jd=[aj];var g=new g7([6,12,0],this);g.data={q:X.J5,OZ:d6,xj:jE,gM:gu,dT:jd};a.RB(g);this.KY(g.data,a)}if(C==X.aqB){var ik=a.ux();
ik.rect=new eZ(0,0,a.Q,a._);ik.buffer=j.U(ik.rect.c()*4);j.IP(ik.buffer,4294967295);j.z.Pf("norm",a.TB(),ik.rect,ik.buffer,ik.rect,ik.rect,1);
ik.GF("Background");ik.add.lspf=1<<2;var g=new g7([6,12,1],this);g.data={q:X.J5,OZ:a.R.slice(),xj:[ik],gM:a.T.slice(0),dT:[0]};
a.RB(g);this.KY(g.data,a)}var ex=C==X.Ve||C==X.E4;if(C==X.mT||C==X.bi||C==X._6||C==X.Ab||ex){var w=ex?a.hu()[0]:a.ux(),jO=hJ.get([0,3]),j5=I.rN,jM=!1,ga,gl;
if(C==X._6)jO=hJ.get([12,76,1]);if(ex){if(a.f){var fa=a.R[a.T[0]],eP=fa.Fk(a,a.f);if(eP==null){alert("Copied area is empty");
return}w.rect=eP.rect;w.buffer=eP.b6;w.kn(a);w.ol(!0)}else j5=w.getName();w.add.lspf=0;w.Pi=!1;if((w.HA&1)!=0)w.HA--}if(C==X.Ab){w.rect=E.c$.aja(I.uZ,a);
w.buffer=I.uZ.buffer.slice(0);if(I.ay_&&a.f){w.u=new X.uC;w.u.rect=a.f.rect;w.u.color=0;w.u.channel=a.f.channel.slice(0)}}if(C==X.mT){this.track({pi:"make",zf:{classID:"Mk",null:hW.Pg("Lyr")}})}if(C==X.bi){w.HA|=16;
var gj=I.zf.Usng.v,fl=gj.Type.v,hz=fo.Uw[fl.classID];jO=hJ.get(fo.names[hz]);if(gj.Nm)j5=gj.Nm.v;w.add[hz]=gJ.nI(hz);
if(w.add[hz]==null)w.add[hz]={};for(var cg in fl)w.add[hz][cg]=JSON.parse(JSON.stringify(fl[cg]));w.u=E.c$.afk(a);
w.YY=1}if(C==X._6){w.HA|=16;var i1=I.zf,gj=i1.Usng.v,kE=gj.Type.v,df=gj.Shp;if(gj.Nm)j5=gj.Nm.v;if(df==null){var bT=a.iQ(),ci=bT[0],hq=bT[1];
if(hq.length!=0&&ci[hq[0]].Gq<0){var iy=ci[hq[0]].add;w.add.vmsk=iy.vmsk.clone();w.add.vstk=fY.Lg.nI(!0);
w.add.vogk=JSON.parse(JSON.stringify(iy.vogk));a.dz=[]}else w.u=E.c$.afk(a)}else{w.add.vmsk=new X.JB;
w.add.vstk=JSON.parse(JSON.stringify(gj.strokeStyle?gj.strokeStyle.v:fY.Lg.nI(!0)));w.add.vogk=[];if(df){var co=j.Z_.nM(df);
if(co){w.add.vogk=[co];w.add.vmsk.d.push({type:0,Np:1,length:0});j.Z_.ra(w.add.vogk,w.add.vmsk)}else{df=df.v;
var hP=df.classID;if(hP=="Plgn"){var j1=df.Cntr.v,bD=df.corner.v;j1=new kK(j1.Hrzn.v.val,j1.Vrtc.v.val);
bD=new kK(bD.Hrzn.v.val,bD.Vrtc.v.val);w.add.vmsk.d=j.n.uQ.Sl(j1.x,j1.y,Math.sqrt(bD.x*bD.x+bD.y*bD.y),Math.atan2(bD.y,bD.x),df.sides.v,0)}else if(hP=="customShape"){var dA=j.Z_.GP(df),cq=dA[2]-dA[0],a8=dA[3]-dA[1],i3=s.lo,ao,cZ;
for(var Y=0;Y<i3.length;Y++)if(i3[Y].z2==df.Nm.v)ao=i3[Y];if(ao){cZ=X.JB.xa(ao.d);j.n.de(cZ,new dc(cq,0,0,a8,dA[0],dA[1]))}else cZ=j.n.uQ.Rect(dA[0],dA[1],cq,a8,0);
w.add.vmsk.d=cZ}w.Bb()}}}if(ht==0){var h1={solidColorLayer:0,gradientLayer:1,patternLayer:2}[kE.classID],d9=["SoCo","GdFl","PtFl"][h1];
w.add[d9]=JSON.parse(JSON.stringify(fY.T8[h1]));if(h1==0)w.add[d9].Clr.v=j.G.pI(j.uU(s.MW));E.c$.nk(kE,w.add[d9],h1);
if(df==null)jO=hJ.get([6,48,0,h1]);if(d9=="PtFl"){var be=w.add[d9].Ptrn.v,ap=hB.HP(be,s.Vh);if(ap==null)ap=hB.HP(be,a.add.Patt);
be.Idnt.v=ap.id;a.r4(ap)}w.Wr(a)}else{w.add.vstl=JSON.parse(JSON.stringify(s.amG))}}var fN=E.c$.OO(a,jO+" ");
w.GF(jO+" "+(fN+1));if(j5)w.GF(j5);var kF=a.T.length==0?a.R.length-1:a.T[a.T.length-1],kf=a.R[kF];if(ht==0&&C==X._6&&kf.Lk()&&kf.rect.KH()){jM=!0;
w.GF(kf.getName());ga=kF}else{ga=kF+(C==X.mT&&v&&!o?0:1);if(kf&&kf.add.lsct==gA.rW)ga--}if(I.a69)ga=Math.max(0,ga-1);
var jE=a.R.slice(0);if(C==X.E4){var bf=jE[a.T[0]]=jE[a.T[0]].clone(),ed=a.f.channel.slice(0);j.Us(ed);
j.zV(ed,a.f.rect,bf.buffer,bf.rect)}jE.splice(ga,jM?1:0,w);var fx=[5,2];if(C==X.mT)fx=[6,13];if(C==X.bi)fx=[6,1];
if(C==X._6){fx=[6,48,1];var df=I.zf.Usng.v.Shp;if(df){var dj={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[df.v.classID];
if(dj)fx=dj}}if(ex){fx=[6,49,C==X.Ve?0:1]}if(ex||C==X._6||C==X.Ab||C==X.bi)if(a.f)gl=[a.f,null];var g=new g7(fx,this);
g.data={q:X.J5,OZ:a.R.slice(0),xj:jE,gM:a.T.slice(0),dT:[ga],zp:gl};a.RB(g);this.KY(g.data,a);if(C==X._6&&df==null&&h1!=0||C==X.bi){var x=new d2(M.E.b);
x.data={q:M.p.N7,aw:aX.Hg.XS};k.a(x)}}if(C==X.azG){var jE=a.R.slice(0),w=a.R[a.T[0]],h$=w.rect.c(),e4=h$*4,di=jE.indexOf(w),dP=a.ux();
dP.GF("Decomposition");dP.add.lsct=gA.rW;dP.pu="pass";dP.HA=24;jE.splice(di+1,0,dP);jE.splice(di+1,0,a.KM());
var ef=w.clone();ef.GF("Residual");jE.splice(di+2,0,ef);function i8(g,cj,Y){cj[Y]+=128-g[Y];cj[Y+1]+=128-g[Y+1];
cj[Y+2]+=128-g[Y+2];cj[Y+4]+=128-g[Y+4];cj[Y+5]+=128-g[Y+5];cj[Y+6]+=128-g[Y+6]}jE.splice(di,0);var fy=Date.now();
for(var db=0;db<5;db++){var ev=ef.clone();jE.splice(di+3,0,ev);ev.opacity=128;ev.pu="lLit";ev.GF("Scale "+(db+1));
gJ.iW(1<<db,j.ox.PB,ef.buffer,w.rect);var dA=ef.buffer,hN=new Uint8ClampedArray(ev.buffer.buffer);for(var Y=0;
Y<e4;Y+=8)i8(dA,hN,Y)}var g=new g7("Wavelet Decompose",this);g.data={q:X.J5,OZ:a.R.slice(0),xj:jE,gM:a.T.slice(0),dT:[di+2]};
a.RB(g);this.KY(g.data,a)}if(C==X.ce){var w=a.ux(),jO=hJ.get([0,4]),fN=E.c$.OO(a,jO+" ");w.GF(jO+" "+(fN+1));
w.pu="pass";w.add.lsct=gA.rW;w.HA=24;if(I.rN)w.GF(I.rN);if(I.O2!=null)w.add.lclr=I.O2;var d4=a.KM(),kF=T,ga=kF+(v?0:1),jE=a.R.slice(0);
jE.splice(ga,0,d4,w);var g=new g7([6,20],this);g.data={q:X.J5,OZ:a.R.slice(0),xj:jE,gM:a.T.slice(0),dT:[ga+1]};
a.RB(g);this.KY(g.data,a)}if(C==X._k||C==X.CN){var i9=C==X._k?I.source:a.T[0],cX,b8,gf=a.T.indexOf(i9)!=-1,dU=D|I.aiZ,bm,i8=null;
if(gf)bm=a.X0();else bm=a.pj(i9);bm.sort(function(g,cj){return g-cj});if(C==X._k){cX=I.target;b8=I.p1>.5}else if(I.target!=null){cX=Math.min(I.target,a.R.length-1);
b8=I.target<a.R.length;a.Me=!0}else{var el=I.ar;b8=el>1;if(el==0){cX=a.R.length-1}if(el==1){cX=bm[bm.length-1]+1;
var c=a.pj(cX);if(c.indexOf(i9)==-1)cX+=c.length-1}if(el==2){cX=bm[0]-1;var c=a.pj(cX);if(c.indexOf(i9)==-1)cX-=c.length-1}if(el==3){cX=0;
if(a.R[0].add.lnsr=="bgnd")cX++}if(cX<0||cX>a.R.length-1)return;a.Me=!0}if(bm.indexOf(cX)!=-1&&!dU)return;
var cn=E.c$.Cl(a,bm,cX,b8,dU?a.hu(gf?null:i9):null,C==X._k&&I.p1>.8),gW=cn.pop(),cU=cn.pop(),jE=cn.pop(),ky=a.T;
a.T=[i9];var bR=a.ev();a.T=[cX];var kR=a.ev();if(kR==cX&&!b8)kR=-1;a.T=ky;if(i9==bR){}else if(bR!=kR){var i8=new kK(0,0);
if(bR!=-1){var g6=a.R[bR].OR();i8.x-=g6.x;i8.y-=g6.y}if(kR!=-1){var g6=a.R[kR].OR();i8.x+=g6.x;i8.y+=g6.y}}var g=new g7(dU?[6,0]:[6,35],this);
g.data={q:X.J5,OZ:a.R.slice(0),xj:jE,gM:a.T.slice(0),dT:cU,Rr:i8};a.RB(g);this.KY(g.data,a);var i1={classID:"move",null:hW.Pg("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:gW+(b8?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:dU}};
this.track({pi:"move",zf:i1})}if(C==X.L7){var kf=I.kb;if(I.hA){if(S==null||!S.hd())return;var b=a.root.lR(T),cY=a.R.indexOf(b.fh),jE=a.R.slice(0);
jE.splice(T,1);jE.splice(cY,1);var cU=[];for(var Y=cY;Y<T-1;Y++)cU.push(Y);if(kf){var b$=T-2;jE[b$]=jE[b$].clone();
jE[b$].kb=!1}var g=new g7(kf?[6,6,0]:"Ungroup Layers",this);g.data={q:X.J5,OZ:a.R.slice(0),xj:jE,gM:a.T.slice(0),dT:cU};
a.RB(g);this.KY(g.data,a)}else{var w=a.ux(),ep=hJ.get([0,4])+" ";w.GF(ep+(E.c$.OO(a,ep)+1));w.pu="pass";
if(kf){if(a.T.length==1){alert("Select more than one layer for a clipping group.");return}w.GF("<Clip Group>")}if(I.rN)w.GF(I.rN);
if(I.O2!=null)w.add.lclr=I.O2;w.add.lsct=a.T.length==1?gA.rW:gA.DG;w.HA=24;var d4=a.KM(),bm=a.X0();if(bm.length==0)return;
bm.sort(function(g,cj){return g-cj});var jE=[];for(var Y=0;Y<a.R.length;Y++)if(bm.indexOf(Y)==-1)jE.push(a.R[Y]);
var kF=a.T[a.T.length-1]-bm.length;jE.splice(kF+1,0,d4);for(var Y=0;Y<bm.length;Y++)jE.splice(kF+2+Y,0,a.R[bm[Y]]);
jE.splice(kF+2+bm.length,0,w);if(kf){var b$=kF+bm.length+1;jE[b$]=jE[b$].clone();jE[b$].kb=!0}var g=new g7(kf?[6,6,0]:[6,9],this);
g.data={q:X.J5,OZ:a.R.slice(0),xj:jE,gM:a.T.slice(0),dT:[jE.indexOf(w)]};a.RB(g);this.KY(g.data,a);var K={pi:"make",Ay:!0};
K.zf={classID:"Mk",null:hW.Pg("layerSection"),From:hW.Pg("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:w.getName()}}}};
this.track(K)}}if(C==X.az2){if(a.T.length!=1)return;var t=a.T[0],i6=D;if(a.R[t].IO()==null&&!n.W(as.nU)){C=X.IW;
I.Ex=a.f?!i6?"RvlS":"HdSl":!i6?"RvlA":"HdAl"}else{C=X.h5;I.awv=!0}}if(C==X.IW){if(a.T.length!=1)return;
var t=a.T[0],w=a.R[t];if(w.add.vmsk&&w.u==null)w.Wr(a);var jR=w.IO();if(jR==null||I.af2){var g=new g7(I.rN?I.rN:[6,21],this),aQ=new X.uC,kg=I.Ex,e7=kg=="RvlS"||kg=="HdSl";
if(kg=="RvlS"||kg=="HdAl"||kg=="Trns")aQ.color=0;if(e7){aQ.channel=a.f.channel.slice(0);aQ.rect=a.f.rect.clone();
if(kg=="HdSl")j.Us(aQ.channel)}if(kg=="Trns"){aQ.rect=w.rect.clone();aQ.channel=j.U(w.rect.c());j.Ez(w.buffer,aQ.channel,3)}g.data={q:X.wI,G$:[t,jR,aQ],zp:e7?[a.f,null]:null,aeQ:kg=="Trns"};
a.RB(g);this.KY(g.data,a);a.R[t].YY=1;this.track({pi:"make",zf:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:kg}}}})}}else if(C==X.apD){var cd=a.R[I.src],dN=a.R[I.DR],g=new g7([6,21],this),bP=cd.IO(),js=dN.IO(),a$=[I.src,bP,null,I.DR,js,bP];
if(D||o){var az=bP.clone();if(D)a$=[I.DR,js,az];else a$[5]=az;if(o){j.Us(az.channel);az.color=255-az.color}}g.data={q:X.wI,G$:a$};
a.RB(g);this.KY(g.data,a)}if(C==X.Ro){if(a.T.length!=1)return;var t=T,it=a.R[t].IO();if(it!=null){var g=new g7([6,22],this);
g.data={q:X.wI,G$:[T,it,null]};a.RB(g);this.KY(g.data,a)}}if(C==X.iR){var d6=a.R.slice(0),ik=S.clone(),fb=ik.IO();
j.zV(fb.tf(ik.rect),ik.rect,ik.buffer,ik.rect);E.c$.mo(a,ik);ik.Jk();a.R[a.T[0]]=ik;var g=new g7([5,8],this);
g.data={q:X.J5,OZ:d6,xj:a.R.slice(),gM:a.T.slice(0),dT:a.T.slice(0)};a.RB(g);this.KY(g.data,a)}if(C==X.lP){if(a.T.length!=1)return;
var t=a.T[0];if(a.R[t].kx(a).u==null){var g=new g7([6,45],this);g.data={q:C,o:t,u:new X.uC};a.RB(g);
this.KY(g.data,a)}}if(C==X.hw){if(a.T.length!=1)return;var t=a.T[0];if(a.R[t].kx(a).u!=null){var g=new g7([6,46],this);
g.data={q:C,o:t,u:a.R[t].kx(a).u};a.RB(g);this.KY(g.data,a)}}if(C==X.YS){if(I.src==null&&a.T.length!=1)return;
if(I.src!=null)T=I.src;if(a.R[T].st()){var g=new g7([6,47],this),kB=JSON.stringify(a.R[T].add.SoLd),jw=JSON.parse(kB);
delete jw.filterFX;g.data={q:X.Za,wG:[{dQ:T,dg:[kB,JSON.stringify(jw)],XG:[a.R[T].kx(a),null]}]};a.RB(g);
this.KY(g.data,a)}}if(C==X.h5){if(a.T.length!=1)return;if(S.add.vmsk==null){var g=new g7([6,23],this),eG=a.iQ(),ff=eG[1],eG=eG[0],aQ,co;
if(I.awv&&ff.length!=0){var iy=eG[ff[0]].add;aQ=iy.vmsk.clone();co=iy.vogk}else{aQ=new X.JB;co=[];aQ.d[1].all=I.nr?0:1}g.data={q:C,o:T,En:!0,u:aQ,Z_:JSON.stringify(co),Lg:null};
if(S.wc()){g.data.Lg=Stroke.Lg.nI(!0)}a.RB(g);this.KY(g.data,a)}}if(C==X.zY){var cd=a.R[I.src],dN=a.R[I.DR];
if(dN.add.vmsk)return;var g=new g7([6,23],this),eM=cd.add.vmsk;g.data={o:I.DR,En:cd.fv,u:eM.clone(),Z_:JSON.stringify(cd.add.vogk),Lg:cd.add.vstk?JSON.stringify(cd.add.vstk):null};
if(D){g.data.q=X.h5}else{g.data.q=C;g.data.src=I.src;g.data.DR=I.DR}a.RB(g);this.KY(g.data,a)}if(C==X.UN||C==X.mR){if(a.T.length!=1)return;
var w=a.R[T],eM=w.add.vmsk;if(eM!=null){var ip=C==X.mR,g=new g7(ip?[6,8]:[6,24],this);g.data={q:X.UN,o:T,En:w.fv,u:eM,Z_:JSON.stringify(w.add.vogk),Lg:w.add.vstk?JSON.stringify(w.add.vstk):null};
if(ip){g.data.fm=eM.IO(w.add.vstk);g.data.fm.yj=!1}a.RB(g);this.KY(g.data,a)}}if(C==X.R6){var g=new g7("Metadata",this);
g.data={q:C,oM:JSON.stringify(a.Qd),Rk:JSON.stringify(I.Rk)};a.RB(g);this.KY(g.data,a)}if(C==X.eA){var iY=I.DR?I.DR:a,kr=iY.name,j5=I.P+".psd";
if(kr==j5)return;var g=new g7([6,37],this);g.data={q:C,a3E:kr,rN:j5};if(I.alH!=!0)iY.RB(g);this.KY(g.data,iY)}if(C==X.x6&&I.ar.endsWith("makeframes")){var gi=[],ar=I.ar.startsWith("make");
for(var Y=0;Y<a.T.length;Y++){var N=a.T[Y],w=a.R[N],iW=w.getName(),b4=iW.startsWith("_a_");if(ar==b4||w.add.lsct==gA.EB)continue;
var hX=ar?"_a_"+iW:iW.slice(3);gi.push([N,iW,hX,w.add.lnsr,null])}var g=new g7([6,37],this);g.data={q:X.kg,CU:gi};
a.RB(g);this.KY(g.data,a)}if(C==X.kg){var kr=S.getName(),j5=I.name.substring(0,255);if(kr==j5)return;
var g=new g7([6,37],this);g.data={q:C,CU:[[T,kr,j5,S.add.lnsr,null]]};a.RB(g);this.KY(g.data,a);this.track(hW.Wg("Nm",{t:"TEXT",v:j5}))}if(C==X.MR){var gb=a.X0(),b1=[],eh=[];
for(var Y=0;Y<gb.length;Y++){b1.push(a.R[gb[Y]].add.lclr);eh.push(I.a5z)}var g=new g7([6,38],this);g.data={q:C,R:gb,avU:b1,O2:eh};
a.RB(g);this.KY(g.data,a)}if(C==X.Gt){var g=a.history[a.R3];if(g!=null&&g.S==this&&g.data.q==C&&g.data.o==I.Tu&&g.data.WM.d9==I.M4.d9)g.data.WM=I.M4;
else{g=new g7("Mask Density / Feather",this);g.data={q:C,o:I.Tu,P6:a.R[I.Tu].je(I.M4.d9),WM:I.M4};a.RB(g)}this.KY(g.data,a)}if(C==X.AU){var d$=JSON.stringify(I.P),bV=JSON.parse(d$),g=a.history[a.R3];
if(g!=null&&g.S==this&&g.data.q==C&&g.data.M2==I.M2&&g.data.l6.join(",")==I.l6.join(",")){for(var Y=0;
Y<I.l6.length;Y++)g.data.i4[Y]=bV;if(g.data.zf&&bV.nE!=0)E.c$.nk(bV.aG,g.data.zf.T.v,bV.nE-1)}else{g=new g7([11,6],this);
g.data={q:C,l6:I.l6,M2:I.M2,a4a:[],i4:[]};var gH=!1;for(var Y=0;Y<I.l6.length;Y++){var N=I.l6[Y],w=a.R[N],jB=I.M2?fY.bZ(w.add):JSON.parse(JSON.stringify(w.add.vstk));
g.data.a4a.push(jB);g.data.i4.push(bV);if(JSON.stringify(jB)!=d$)gH=!0}if(!gH)return;a.RB(g);if(I.M2&&bV.nE>0){var i1=g.data.zf={classID:"setd",null:hW.Pg("contentLayer",!0),T:{t:"Objc",v:{}}};
E.c$.nk(bV.aG,i1.T.v,bV.nE-1);this.track({pi:"set",zf:i1})}}if(I.M2&&bV.nE==3)a.r4(hB.HP(bV.aG.Ptrn.v,s.Vh));
if(!I.M2){var k8=bV.strokeStyleContent.v;if(k8.classID==fY.Lg.qo[2])a.r4(hB.HP(k8.Ptrn.v,s.Vh))}this.KY(g.data,a)}if(C==X.Hb){var fg=s.qm,am=[];
for(var Y=0;Y<a.T.length;Y++){var N=a.T[Y],w=a.R[N],hj=w.add.vstl;if(hj==null)continue;var jB=JSON.stringify(hj);
for(var kO in fg)hj[kO]=fg[kO];var bV=JSON.stringify(hj);if(jB==bV)continue;am.push([N,jB,bV])}if(am.length!=0){var W=a.HS();
if(W&&W.S==this&&W.data.q==C&&W.data.kR.length==am.length){var k6=!0;for(var Y=0;Y<am.length;Y++)if(am[Y][0]!=W.data.kR[Y][0])k6=!1;
if(k6){for(var Y=0;Y<am.length;Y++)W.data.kR[Y][2]=am[Y][2];a.V();return}}var g=new g7("Style Change",this);
g.data={q:C,kR:am};a.RB(g);a.V()}}};E.c$.Cl=function(I,k,a,n,s,C){var T=I.R[a],S=[];if(s)S=I.R.slice(0);
else for(var Y=0;Y<I.R.length;Y++)if(k.indexOf(Y)==-1)S.push(I.R[Y]);var D=S.indexOf(T);if(C&&T.hd()&&T.add.lsct==gA.DG)D-=I.pj(a).length-1;
var o=[];for(var Y=0;Y<k.length;Y++){var v=D+(n?0:1)+Y,g=s?s[Y]:I.R[k[Y]];S.splice(v,0,g);o.push(v)}return[S,o,D]};
E.c$.nk=function(I,k,a){var n=[fY.$w,fY.Ym,fY.o3][a];if(k.classID==null)k.classID=["solidColorLayer","gradientLayer","patternLayer"][a];
for(var Y=0;Y<n.length;Y++)if(I[n[Y]])k[n[Y]]=JSON.parse(JSON.stringify(I[n[Y]]))};E.c$.afk=function(I){var k=new X.uC;
if(I.f!=null){k.color=0;k.channel=I.f.channel.slice(0);k.rect=I.f.rect.clone()}return k};E.c$.cR=function(I,k,a,n,s){var C=n.Q/a.Q,T=n._/a._,S=n.Q/2,D=n._/2,o=j.X.Eu(n).s;
for(var Y=0;Y<I.R.length;Y++){var v=I.R[Y],g=v.add.SoLd;if(g==null||g.Idnt.v!=k)continue;var d=C!=1||T!=1;
if(d){var R=E.nF.QX(g.nonAffineTransform),c=j.t.UX(R,n),e=new dc;e.translate(-S,-D);e.scale(C,T);e.translate(S,D);
var O=j.t.Rc(c,j.t.HE(e)),U=o.slice(0);j.t.h(O,U);g.Trnf=E.nF.D1(U);g.nonAffineTransform=E.nF.D1(U);
if(j.O8.K2(g.quiltWarp.v)){var K=g.quiltWarp.v.bounds.v;K.Rght.v.val=n.Q;K.Btom.v.val=n._}}v.Bi(I,null,s,!d)}I.V()};
E.c$.ae2=function(I,k,a){k.color=255-k.color;j.Us(k.channel);k.WB=!0;I.Wr(a);a.V()};E.c$.prototype.PP=function(I,k){var a=I.q,n=k.R[I.o];
k.q_=!0;if(a==X.hR){k.add.lnk2.splice(k.add.lnk2.indexOf(I.DC),1,I.Oc);E.c$.cR(k,I.id,I.DC.IV[1],I.Oc.IV[1])}if(a==X.EO){n.add.SoLd.Impr.v.classID=I.P6;
n.Bi(k)}if(a==X.zO){var s=JSON.parse(I.l6);for(var Y=0;Y<s.length;Y++)k.R[s[Y]].pu=I.Je[Y];k.V()}if(a==X.jT){var s=JSON.parse(I.l6);
for(var Y=0;Y<s.length;Y++)k.R[s[Y]].opacity=I.Je[Y];k.V()}if(a==X.gs){var s=JSON.parse(I.l6);for(var Y=0;
Y<s.length;Y++)if(k.R[s[Y]].add.lsct!=gA.EB)k.R[s[Y]].add.lspf=I.Je[Y]}if(a==X.Mu){var C=I.$S,T=I.aoJ;
delete n.add[C[0]];if(T[0]!="----")n.add[T[0]]=T[1]}if(a==X.Ik){n.add.iOpa=I.Je;k.V()}if(a==X.Jn){for(var Y=0;
Y<I.l6.length;Y++){var S=k.R[I.l6[Y]];S.ol(!S.K7())}k.V()}if(a==X.AZ){var D=n.IO();D.isEnabled=!D.isEnabled;
n.Wr(k);k.V()}if(a==X.oV){var D=n.kx(k).u;D.isEnabled=!D.isEnabled;n.V();k.V()}if(a==X.EF){var D=n.add.vmsk;
D.isEnabled=!D.isEnabled;if(!D.isEnabled){if(n.fm){n.u=n.fm;n.fm=null}else n.u=null}else if(n.u){n.fm=n.u;
n.u=null}n.Wr(k);k.V()}if(a==X.oH){n.Pi=!n.Pi;k.V()}if(a==X.eB){n.add.lmfx.masterFXSwitch.v=!n.add.lmfx.masterFXSwitch.v;
n.qj.J3=!0;k.V()}if(a==X.K$){n.add.SoLd.filterFX.v.enab.v=!n.add.SoLd.filterFX.v.enab.v;n.qB(k);k.V()}if(a==X.Op){var o=I.index,v=n.add.lmfx[fY.zQ[o[0]]].v[o[1]].v;
v.enab.v=!v.enab.v;n.qj.J3=!0;k.V()}if(a==X.qk){var g=k.R[I.lE],d=k.R[I.l4],R=I.aCI,c=I.a1T;if(R=="")delete g.add.lmfx;
else g.add.lmfx=JSON.parse(R);if(c=="")delete d.add.lmfx;else d.add.lmfx=JSON.parse(c);g.qj.J3=!0;d.qj.J3=!0;
k.V()}if(a==X.CK){var e=n.add.SoLd.filterFX.v.filterFXList.v[I.index].v;e.enab.v=!e.enab.v;n.qB(k);k.V()}if(a==X.axM){n.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(I.anb));
n.qB(k);k.V()}if(a==X.$M){var D=n.IO();D.n2=!D.n2}if(a==X.Jx){var D=n.add.vmsk;D.n2=!D.n2}if(a==X.tV){var O=JSON.parse(I.aEg);
k.pn=O[0];k.VJ=O[1]}if(a==X.Rn){var O=I.rg;for(var Y=0;Y<O.length;Y+=2){var U=O[Y],S=U>=0?k.R[U]:k.DD[-1-U];
S.add.vogk=JSON.parse(O[Y+1]);j.Z_.ra(S.add.vogk,S.add.vmsk);if(U>=0)S.Wr(k)}k.V()}if(a==X.wX){n.add.artb=JSON.parse(I.aaz);
k.V();E.Zo.w3(k,I)}if(a==X.QJ){k.f=I.Mr;if(I.a3v)k.w.N=I.a3v.slice(0);k.TL=I.rg.slice(0);k.Ap=I.eq.slice(0);
k.Xi=k.cd=!0}if(a==X.H$){n.Fz=!n.Fz}if(a==X.w2){var K=I.asA;for(var Y=0;Y<K.length;Y++)k.R[Y].sk=K[Y]}if(a==X.J5){if(I.Rr)E.R0.IL(k,k.T,null,-I.Rr.x,-I.Rr.y);
if(I.gM)k.T=I.gM;if(I.zp)k.f=I.zp[0];k.L0=null;k.V();E.Zo.w3(k,I);k._g(I.OZ);if(I.Jj)k.U_(I.Jj[0])}if(a==X.wI){for(var Y=0;
Y<I.G$.length;Y+=3)E.c$.mo(k,k.R[I.G$[Y]],I.G$[Y+1]);if(I.zp){var _=I.zp[0];if(_==null)delete k.f;else k.f=_}if(I.aeQ){var S=k.R[I.G$[0]];
j.yv(I.G$[2].channel,S.buffer,3)}}if(a==X.lP){n.kx(k).u=null;n.V();k.V()}if(a==X.hw){n.kx(k).u=I.u;n.V();
k.V()}if(a==X.Za){E.c$.ayV(k,I.wG,0)}if(a==X.h5){E.c$.Uc(k,n,!0)}if(a==X.zY){E.c$.Uc(k,k.R[I.DR],I.u.isEnabled);
E.c$.y6(k,k.R[I.src],I)}if(a==X.UN){if(I.fm)E.c$.mo(k,n,null);E.c$.y6(k,n,I)}if(a==X.R6){k.Qd=JSON.parse(I.oM)}if(a==X.eA){k.name=I.a3E}if(a==X.kg){for(var Y=0;
Y<I.CU.length;Y++){var Z=I.CU[Y],S=k.R[Z[0]];S.GF(Z[1]);if(Z[3])S.add.lnsr=Z[3];else delete S.add.lnsr}}if(a==X.MR){for(var Y=0;
Y<I.R.length;Y++)k.R[I.R[Y]].add.lclr=I.avU[Y]}if(a==X.AU){var H=I.a4a;for(var Y=0;Y<I.l6.length;Y++){var S=k.R[I.l6[Y]],G=H[Y];
if(!I.M2)S.add.vstk=JSON.parse(JSON.stringify(G));else fY.$O(S.add,JSON.parse(JSON.stringify(G)));S.ad(k)}k.V()}if(a==X.Hb){for(var Y=0;
Y<I.kR.length;Y++){var N=I.kR[Y];k.R[N[0]].add.vstl=JSON.parse(N[1])}k.V()}if(a==X.Gt){n.aaT(I.P6);n.Wr(k);
k.V()}k.cd=!0};E.c$.prototype.KY=function(I,k){var a=I.q,n=k.R[I.o];k.q_=!0;if(a==X.hR){k.add.lnk2.splice(k.add.lnk2.indexOf(I.Oc),1,I.DC);
E.c$.cR(k,I.id,I.Oc.IV[1],I.DC.IV[1])}if(a==X.EO){n.add.SoLd.Impr.v.classID=I.WM;n.Bi(k)}if(a==X.zO){var s=JSON.parse(I.l6);
for(var Y=0;Y<s.length;Y++)k.R[s[Y]].pu=I.WM;k.V()}if(a==X.jT){var s=JSON.parse(I.l6);for(var Y=0;Y<s.length;
Y++)k.R[s[Y]].opacity=I.WM;k.V()}if(a==X.gs){var s=JSON.parse(I.l6);for(var Y=0;Y<s.length;Y++)if(k.R[s[Y]].add.lsct!=gA.EB)k.R[s[Y]].add.lspf=I.WM[Y]}if(a==X.Mu){var C=I.aoJ,T=I.$S;
delete n.add[C[0]];if(T[0]!="----")n.add[T[0]]=T[1]}if(a==X.Ik){n.add.iOpa=I.WM;k.V()}if(a==X.Jn){for(var Y=0;
Y<I.l6.length;Y++){var S=k.R[I.l6[Y]];S.ol(!S.K7())}k.V()}if(a==X.AZ){var D=n.IO();D.isEnabled=!D.isEnabled;
n.Wr(k);k.V()}if(a==X.oV){var D=n.kx(k).u;D.isEnabled=!D.isEnabled;n.V();k.V()}if(a==X.EF){var D=n.add.vmsk;
D.isEnabled=!D.isEnabled;if(!D.isEnabled){if(n.fm){n.u=n.fm;n.fm=null}else n.u=null}else if(n.u){n.fm=n.u;
n.u=null}n.Wr(k);k.V()}if(a==X.oH){n.Pi=!n.Pi;k.V()}if(a==X.eB){n.add.lmfx.masterFXSwitch.v=!n.add.lmfx.masterFXSwitch.v;
n.qj.J3=!0;k.V()}if(a==X.K$){n.add.SoLd.filterFX.v.enab.v=!n.add.SoLd.filterFX.v.enab.v;n.qB(k);k.V()}if(a==X.Op){var o=I.index,v=n.add.lmfx[fY.zQ[o[0]]].v[o[1]].v;
v.enab.v=!v.enab.v;n.qj.J3=!0;k.V()}if(a==X.qk){var g=k.R[I.lE],d=k.R[I.l4],R=I.a19,c=I.aaq;if(R=="")delete g.add.lmfx;
else g.add.lmfx=JSON.parse(R);if(c=="")delete d.add.lmfx;else d.add.lmfx=JSON.parse(c);g.qj.J3=!0;d.qj.J3=!0;
k.V()}if(a==X.CK){var e=n.add.SoLd.filterFX.v.filterFXList.v[I.index].v;e.enab.v=!e.enab.v;n.qB(k);k.V()}if(a==X.axM){n.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(I.apr));
n.qB(k);k.V()}if(a==X.$M){var D=n.IO();D.n2=!D.n2}if(a==X.Jx){var D=n.add.vmsk;D.n2=!D.n2}if(a==X.tV){var O=JSON.parse(I.ayZ);
k.pn=O[0];k.VJ=O[1]}if(a==X.Rn){var O=I.j8;for(var Y=0;Y<O.length;Y+=2){var U=O[Y],S=U>=0?k.R[U]:k.DD[-1-U];
S.add.vogk=JSON.parse(O[Y+1]);j.Z_.ra(S.add.vogk,S.add.vmsk);if(U>=0)S.Wr(k)}k.V()}if(a==X.wX){n.add.artb=JSON.parse(I.h6);
k.V();E.Zo.w4(k,I)}if(a==X.QJ){k.f=I.iy;if(I.aDb)k.w.N=I.aDb.slice(0);k.TL=I.j8.slice(0);k.Ap=I.L5.slice(0);
k.Xi=k.cd=!0}if(a==X.H$){n.Fz=!n.Fz}if(a==X.w2){var K=I.anj;for(var Y=0;Y<K.length;Y++)k.R[Y].sk=K[Y]}if(a==X.J5){k.aae();
var _=I.xj,Z=0,H;for(var Y=0;Y<_.length;Y++){var S=_[Y],G=S.add.lsct;if(G==gA.EB)Z++;else if(G==gA.rW||G==gA.DG)Z--;
if(S.add.artb&&Z!=0)H="Artboards can not be inside folders."}if(H){k.history.pop();k.R3--;alert(H);return}if(I.dT)k.T=I.dT;
if(I.zp)k.f=I.zp[1];k.L0=null;k.V();k._g(I.xj);E.Zo.w4(k,I);if(I.Rr)E.R0.IL(k,k.T,null,I.Rr.x,I.Rr.y);
if(I.Jj)k.U_(I.Jj[1])}if(a==X.wI){for(var Y=0;Y<I.G$.length;Y+=3)E.c$.mo(k,k.R[I.G$[Y]],I.G$[Y+2]);if(I.zp){var N=I.zp[1];
if(N==null)delete k.f;else k.f=N}if(I.aeQ){var S=k.R[I.G$[0]],z=S.buffer;for(var Y=0;Y<z.length;Y+=4)z[Y+3]=255}}if(a==X.lP){n.kx(k).u=I.u;
n.YY=0;n.V();k.V()}if(a==X.hw){n.kx(k).u=null;n.YY=0;n.V();k.V()}if(a==X.Za){E.c$.ayV(k,I.wG,1)}if(a==X.h5){E.c$.y6(k,n,I)}if(a==X.zY){E.c$.Uc(k,k.R[I.src],I.u.isEnabled);
E.c$.y6(k,k.R[I.DR],I)}if(a==X.UN){E.c$.Uc(k,n,I.u.isEnabled);if(I.fm)E.c$.mo(k,n,I.fm)}if(a==X.R6){k.Qd=JSON.parse(I.Rk)}if(a==X.eA){k.name=I.rN}if(a==X.kg){for(var Y=0;
Y<I.CU.length;Y++){var L=I.CU[Y],S=k.R[L[0]];S.GF(L[2]);if(L[4])S.add.lnsr=L[4];else delete S.add.lnsr}}if(a==X.MR){for(var Y=0;
Y<I.R.length;Y++)k.R[I.R[Y]].add.lclr=I.O2[Y]}if(a==X.AU){var p=I.i4;for(var Y=0;Y<I.l6.length;Y++){var S=k.R[I.l6[Y]],V=p[Y];
if(!I.M2)S.add.vstk=JSON.parse(JSON.stringify(V));else fY.$O(S.add,JSON.parse(JSON.stringify(V)));S.ad(k)}k.V()}if(a==X.Hb){for(var Y=0;
Y<I.kR.length;Y++){var r=I.kR[Y];k.R[r[0]].add.vstl=JSON.parse(r[2])}k.V()}if(a==X.Gt){n.aaT(I.WM);n.Wr(k);
k.V()}k.cd=!0};E.c$.OO=function(I,k){var a=0;for(var Y=0;Y<I.R.length;Y++){var n=I.R[Y].getName();if(n.startsWith(k)){var s=n.slice(k.length).trim(),C=parseInt(s);
if(!isNaN(C)&&C+""==s&&C>a)a=C}}return a};E.c$.ayV=function(I,k,a){for(var Y=0;Y<k.length;Y++){var n=k[Y],s=I.R[n.dQ];
if(n.dg){s.add.SoLd=JSON.parse(n.dg[a])}if(n.XG){if(n.XG[1-a]!=null)I.xJ(n.XG[1-a]);if(n.XG[a]!=null)I.eD(n.XG[a]);
else s.YY=0}s.Bi(I)}};E.c$.aja=function(I,k){var a=I.UW,n=I.rect.clone();if(a!=null&&(a.x!=k.Q||a.y!=k._)){n.x=Math.floor((k.Q-n.Q)/2);
n.y=Math.floor((k._-n._)/2)}else if(a==null){var s=new eZ(0,0,k.Q,k._),C=k.ev();if(C!=-1)s=k.R[C].OR();
n.x+=s.x;n.y+=s.y}return n};E.c$.aj4=function(I,k){if(k.fm)k.fm=null;else k.u=null;k.Wr(I);I.V();k.YY=0};
E.c$.mo=function(I,k,a){var n=k.IO();if(n==null&&a==null)return;if(n)E.c$.aj4(I,k);if(a==null)return;
if(k.u)k.fm=a;else k.u=a;k.Wr(I);I.V()};E.c$.Uc=function(I,k,a){if(k.fm&&a){k.u=k.fm;k.fm=null}else if(k.u&&a){k.u=null}delete k.add.vogk;
delete k.add.vstk;delete k.add.vmsk;k.Wr(I);k.fv=!1;I.L0=[];I.V()};E.c$.y6=function(I,k,a){k.add.vogk=JSON.parse(a.Z_);
if(a.Lg)k.add.vstk=JSON.parse(a.Lg);else delete k.add.vstk;k.add.vmsk=a.u.clone();if(k.u&&k.add.vmsk.isEnabled)k.fm=k.u;
k.Wr(I);k.fv=a.En;I.L0=[I.R.indexOf(k)];I.dz=[];I.V()};E.vu=function(){E.mu.call(this,"Layer Styles",E.rV);
this.Xg=null;this.NC=null;this.j$=null;this.iH=[];this.Gd=null};E.vu.prototype=new E.mu;E.vu.prototype.CP=function(I,k,a,n,s){var C=I.o;
if(C==null)C=a.T[0];var T=a.R[C],S=I.Gq;if(this.Xg==null){this.j$=E.vu.os(a,T);this.Xg=JSON.stringify(this.j$);
if(T.add.lmfx)this.NC=JSON.stringify(T.add.lmfx)}if(T.add.lmfx==null){T.add.lmfx=JSON.parse(fY.default);
for(var Y=0;Y<fY.order.length;Y++)T.add.lmfx[fY.zQ[Y]]={t:"VlLs",v:[]}}if(I.q=="scaleeffects"){if(I.P=="confirm"||I.P=="cancel"){this.CP({q:I.P},k,a,n,s);
return}T.add.lmfx=JSON.parse(this.NC);hB.ax(T.add.lmfx,I.P/100)}else if(I.q=="changeprop"){var D=null;
if(S!=0){var o=this.iH[S[0]];if(o==null)o=fY.iH[S[0]];o=JSON.parse(o);var v=T.add.lmfx[fY.zQ[S[0]]].v;
if(v[S[1]]==null)v[S[1]]={t:"Objc",v:o};D=v[S[1]].v;for(var g in o)if(D[g]==null)D[g]=o[g]}if(I.q=="changeprop"){if(S==0){this.j$[I.QB].v=I.P;
E.vu.Gx(a,T,this.j$)}else if(I.QB=="lagl"){if(D.uglg&&D.uglg.v){a.Lz(I.P.val);this.j$.gagl.v.val=a.hh()}else D[I.QB].v=I.P}else if(I.QB=="Lald"){if(D.uglg.v){a.zu(I.P.val);
this.j$.ar3=a.X$()}else D[I.QB].v=I.P}else if((S[0]==3||S[0]==8)&&(I.QB=="Clr"||I.QB=="Grad")){if(I.QB=="Clr"){D.Clr={t:"Objc",v:I.P};
delete D.Grad}if(I.QB=="Grad"){D.Grad={t:"Objc",v:I.P};delete D.Clr}}else{D[I.QB].v=I.P}if(S!=0)this.iH[S[0]]=JSON.stringify(D)}if(S!=0)if(D.Ptrn)a.r4(hB.HP(D.Ptrn.v,s.Vh))}else if(I.q=="setstl"){var d=I.P.Lefx;
if(d)hB.amZ(d,a,s.Vh);hB.aA7(I.P,T,null,a);this.j$=E.vu.os(a,T)}else if(I.q=="st_dupsingle"){var R=T.add.lmfx[fY.zQ[I.BO[0]]].v;
if(R[I.BO[1]]==null)return;var c=JSON.parse(JSON.stringify(R[I.BO[1]]));R.splice(I.BO[1],0,c)}else if(I.q=="st_movsingle"){var e=I.BO[1],R=T.add.lmfx[fY.zQ[I.BO[0]]].v;
if(R[I.BO[1]]==null)return;var O=Math.max(0,Math.min(R.length-1,e+I.agD)),U=R[O];R[O]=R[e];R[e]=U}else if(I.q=="cancel"){if(this.NC==null)delete T.add.lmfx;
else T.add.lmfx=JSON.parse(this.NC);E.vu.Gx(a,T,JSON.parse(this.Xg));this.Xg=null;this.NC=null}else if(I.q=="confirm"){var K=JSON.stringify(T.add.lmfx),_=new g7([11,6],this);
_.data={R:[C],zF:[this.NC],It:[K],Tv:[this.Xg],$E:[JSON.stringify(this.j$)]};a.RB(_);this.Xg=null;this.NC=null;
if(K!=null){var Z=JSON.parse(K);fe.ZF(Z);Z.classID="Lefx";delete Z.masterFXSwitch;var H=new d2(M.E.rd);
H.tQ=!0;H.data={pi:"set",Ay:!0};var G=hW.Pg("Lyr",!0);G.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
H.data.zf={__name:"Set",classID:"setd",null:G,T:{t:"Objc",v:Z}};k.a(H)}}else if(I.q=="st_copy"){this.Gd=[this.Xg,this.NC];
this.Xg=null;this.NC=null}else if(I.q=="st_paste"||I.q=="st_clear"){if(I.q=="st_paste"&&this.Gd==null)return;
var N=I.o!=null?[I.o]:a.T.slice(0),z=[],L=[],p=[],V=[];for(var Y=0;Y<N.length;Y++){var T=a.R[N[Y]],r=E.vu.os(a,T);
z.push(T.add.lmfx?JSON.stringify(T.add.lmfx):null);p.push(JSON.stringify(r));if(I.q=="st_paste"){L.push(this.Gd[1]);
V.push(this.Gd[0])}else{L.push(null);r.lrMd.v=0;r.Opct.v.val=100;r.iOpa.v.val=100;r.blIf={v:[]};for(var y=0;
y<10;y++)r.blIf.v.push(0,0,255,255);V.push(JSON.stringify(r))}}var _=new g7([11,6],this);_.data={R:N,zF:z,It:L,Tv:p,$E:V};
this.KY(_.data,a);a.RB(_);this.Xg=null;this.NC=null}else{var W=this.j$,Z=null;if(I.q=="st_delsingle"){Z=JSON.parse(this.NC);
Z[fY.zQ[I.BO[0]]].v.splice(I.BO[1],1);Z=JSON.stringify(Z)}if(Z==null)delete T.add.lmfx;else T.add.lmfx=JSON.parse(Z);
if(W!=null)E.vu.Gx(a,T,W);var _=new g7([11,6],this);_.data={R:[I.o],zF:[this.NC],It:[Z],Tv:[this.Xg],$E:[JSON.stringify(W)]};
a.RB(_);this.Xg=null;this.NC=null}T.qj.J3=!0;a.q_=!0;a.V()};E.vu.os=function(I,k){if(k.add.iOpa==null)k.add.iOpa=255;
if(k.add.brst==null)k.add.brst=[1,1,1];var a=k.hd()?["pass"].concat(aU._B):aU._B;return{lrMd:{v:a.indexOf(k.pu)},Opct:{v:{type:"#Prc",val:Math.round(k.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(k.add.iOpa*100/255)},t:"UntF"},blIf:{v:k.z4.slice(0)},brst:{v:k.add.brst},gagl:{t:"UntF",v:{type:"#Ang",val:I.hh()}},ar3:I.X$(),hd:k.hd()}};
E.vu.Gx=function(I,k,a){var n=k.hd()?["pass"].concat(aU._B):aU._B;k.pu=n[a.lrMd.v];k.opacity=Math.round(a.Opct.v.val*255/100);
k.add.iOpa=Math.round(a.iOpa.v.val*255/100);k.z4=a.blIf.v.slice(0);k.add.brst=a.brst.v.slice(0);I.Lz(a.gagl.v.val);
I.zu(a.ar3)};E.vu.prototype.PP=function(I,k){for(var Y=0;Y<I.R.length;Y++){var a=k.R[I.R[Y]],n=I.zF[Y];
if(n==null)delete a.add.lmfx;else a.add.lmfx=JSON.parse(n);E.vu.Gx(k,a,JSON.parse(I.Tv[Y]));a.qj.J3=!0}k.q_=!0;
k.V()};E.vu.prototype.KY=function(I,k){for(var Y=0;Y<I.R.length;Y++){var a=k.R[I.R[Y]],n=I.It[Y];if(n==null)delete a.add.lmfx;
else a.add.lmfx=JSON.parse(n);E.vu.Gx(k,a,JSON.parse(I.$E[Y]));a.qj.J3=!0}k.q_=!0;k.V()};E.oC=function(){E.mu.call(this,"Layer Comps",E.bI)};
E.oC.prototype=new E.mu;E.oC.prototype.CP=function(I,k,a,n){var s=JSON.parse(JSON.stringify(a._y)),C=JSON.parse(JSON.stringify(a._y)),T=null,S=null,D=null,o=-1,v=!1;
if(I.q=="delLC"){var g=E.oC.Ep(a._y,I.Gq),d=a._y.lastAppliedComp?a._y.lastAppliedComp.v:0;C.list.v.splice(g,1);
if(d==I.Gq)delete C.lastAppliedComp;T="Delete Layer Comp"}if(I.q=="editLC"){var g=E.oC.Ep(a._y,I.Gq),R=C.list.v[g].v;
if(I.rN!=null)R.Nm.v=I.rN;if(I.awK!=null){var c=I.awK,e=R.capturedInfo.v,O=e&(1<<c)-1;e=e>>c;if((e&1)==1)e--;
else e++;R.capturedInfo.v=(e<<c)+O}T="Layer Comp properties"}if(I.q=="setLC"){E.oC.AH(a);if(I.Gq==0)delete C.lastAppliedComp;
else C.lastAppliedComp={t:"long",v:I.Gq};T="Switch Layer Comp";v=!0}if(I.q=="updLC"){E.oC.AH(a);S=E.oC.aqq(a,I.Gq);
D=E.oC.Vx(a,I.Gq);C.lastAppliedComp={t:"long",v:I.Gq};T="Update Layer Comp";o=I.Gq;v=!0}if(I.q=="addLC"){E.oC.AH(a);
var U=1;for(var Y=0;Y<C.list.v.length;Y++)U=Math.max(U,C.list.v[Y].v.compID.v)+1;U+=Math.floor(Math.random()*1e4);
var K={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(C.list.v.length+1)},compID:{t:"long",v:U},capturedInfo:{t:"long",v:7}}};
C.list.v.push(K);C.lastAppliedComp={t:"long",v:U};T="New Layer Comp";var _=E.oC.Vx(a,U);E.oC.cP(a,_,U)}var Z=new g7(T,this);
Z.data={anJ:s,aDK:C,apc:S,a9d:D,Gq:o,LI:v};this.KY(Z.data,a);a.RB(Z)};E.oC.prototype.KY=function(I,k){k._y=I.aDK;
k.q_=!0;if(I.a9d)E.oC.cP(k,I.a9d,I.Gq);if(I.LI){var a=k._y.lastAppliedComp?k._y.lastAppliedComp.v:0,n=E.oC.Ep(k._y,a),s=n==-1?null:k._y.list.v[n].v,C=s?s.capturedInfo.v:7;
E.oC.QZ(k,a,C);k.V()}};E.oC.prototype.PP=function(I,k){k._y=I.anJ;k.q_=!0;if(I.apc)E.oC.cP(k,I.apc,I.Gq);
if(I.LI){var a=k._y.lastAppliedComp?k._y.lastAppliedComp.v:0,n=E.oC.Ep(k._y,a),s=n==-1?null:k._y.list.v[n].v,C=s?s.capturedInfo.v:7;
E.oC.QZ(k,a,C);k.V()}};E.oC.AH=function(I){if(I._y.lastAppliedComp!=null||!I.$L)return;var k=E.oC.Vx(I,0);
E.oC.cP(I,k,0);I.$L=!1};E.oC.e1=function(I,k,a){I.v.Hrzn.v+=k;I.v.Vrtc.v+=a};E.oC.Ep=function(I,k){var a=I.list.v;
for(var Y=0;Y<a.length;Y++)if(a[Y].v.compID.v==k)return Y;return-1};E.oC.anP=function(I){var k=I.layerSettings.v,s=null;
if(k.length==0)return;var a="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),n=k[0].v;
if(n.enab==null)n.enab={t:"bool",v:!0};if(n.Ofst==null)n.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var Y=0;Y<k.length;Y++){var C=k[Y].v;if(s==null)s=JSON.parse(JSON.stringify(C));else for(var T=0;
T<a.length;T++){var S=a[T];if(C[S])s[S]=JSON.parse(JSON.stringify(C[S]))}k[Y].v=JSON.parse(JSON.stringify(s))}};
E.oC.ak5=function(I,k){var a=I.add.shmd.cmls,n=a.layerSettings.v;for(var s=0;s<n.length;s++){var C=n[s].v,T=C.compList.v[0].v;
if(T==k)return s}return-1};E.oC.a4N=function(I,k){var a=E.oC.ak5(I,k);return a==-1?null:I.add.shmd.cmls.layerSettings.v[a].v};
E.oC.QZ=function(I,k,a){for(var Y=0;Y<I.R.length;Y++){var n=I.R[Y],s=n.add.shmd.cmls;if(s==null)continue;
var C=s.layerSettings.v,T=E.oC.a4N(n,k);if(T==null){n.ol(!1);continue}if((a&1)!=0){if(T.enab)n.ol(T.enab.v);
else n.ol(!0)}if((a&2)!=0){if(T.Ofst){var S=T.Ofst.v,D=n.mQ(I),o=Math.round(S.Hrzn.v-D.x),v=Math.round(S.Vrtc.v-D.y);
if(o!=0||v!=0)E.R0.IL(I,[Y],null,o,v)}}if((a&4)!=0){if(T.Lefx){var g=JSON.parse(JSON.stringify(T.Lefx.v));
fe.Js(g);if(JSON.stringify(g)!=JSON.stringify(n.add.lmfx)){n.add.lmfx=g;n.qj.J3=!0}}else delete n.add.lmfx;
if(T.blendOptions){var d=T.blendOptions.v;if(d.Opct)n.opacity=Math.round(255*d.Opct.v.val/100);if(d.fillOpacity)n.add.iOpa=Math.round(255*d.fillOpacity.v.val/100);
if(d.Md)n.pu=n.add.lsct==gA.EB?"norm":aU.W$(d.Md.v.BlnM)}else{n.opacity=255;n.pu=n.hd()?"pass":"norm";
n.add.iOpa=255}}}};E.oC.aqq=function(I,k){var a={};for(var Y=0;Y<I.R.length;Y++){var n=I.R[Y];if(n.add.shmd==null||n.add.shmd.cmls==null)continue;
a["l"+n.add.lyid]=JSON.parse(JSON.stringify(E.oC.a4N(n,k)))}return a};E.oC.Vx=function(I,k){var a={};
for(var Y=0;Y<I.R.length;Y++){var n=I.R[Y],s=n.add.lyid;a["l"+s]=E.oC.atM(I,n,k)}return a};E.oC.atM=function(I,k,a){var n=k.add.shmd?k.add.shmd.cmls:null,s={classID:"null"},C=k.mQ(I),T={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:C.x},Vrtc:{t:"long",v:C.y}}};
s.compList={t:"VlLs",v:[{t:"long",v:a}]};s.enab={t:"bool",v:k.K7()};s.Ofst=JSON.parse(JSON.stringify(T));
s.FXRefPoint=JSON.parse(JSON.stringify(n&&n.origFXRefPoint?n.origFXRefPoint:T));s.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:aU.Vu(k.pu)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*k.opacity/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:k.add.iOpa!=null?100*k.add.iOpa/255:100}}}};
if(k.add.vmsk){s.vectorMask={t:"Objc",v:{classID:"null"}};s.vectorMask.v.Ofst=JSON.parse(JSON.stringify(T))}if(k.add.lmfx){s.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(k.add.lmfx))};
fe.ZF(s.Lefx.v)}return s};E.oC.amk=function(I,k){var a=k.add.lyid;if(k.add.shmd==null)k.add.shmd={};
if(k.add.shmd.cmls==null){k.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:a},layerSettings:{t:"VlLs",v:[{t:"Objc",v:E.oC.atM(I,k,0)}]}}}};
E.oC.cP=function(I,k,a){for(var Y=0;Y<I.R.length;Y++){var n=I.R[Y],s=n.add.lyid;E.oC.amk(I,n);var C=n.add.shmd.cmls,T=C.layerSettings.v,S=k["l"+s];
if(S!=null)S={t:"Objc",v:JSON.parse(JSON.stringify(S))};var D=E.oC.ak5(n,a);if(D==-1){if(S==null)continue;
else T.push(S)}else{if(S==null)T.splice(D,1);else T[D]=S}}};E.oC.h3=function(I,k){for(var Y=0;Y<I.R.length;
Y++){var a=I.R[Y],n=a.add.lyid;if(a.add.shmd==null||a.add.shmd.cmls==null)continue;var s=a.mQ(I),C=Math.round(s.x),T=Math.round(s.y);
if(!k){C=-C;T=-T}var S=a.add.shmd.cmls,D=S.layerSettings.v;if(S.origFXRefPoint)E.oC.e1(S.origFXRefPoint,-C,-T);
for(var o=0;o<D.length;o++){var v=D[o].v;E.oC.e1(v.Ofst,C,T);var g=v.imageMask,d=v.vectorMask;if(g&&g.v.Ofst)E.oC.e1(g.v.Ofst,C,T);
if(d&&d.v.Ofst)E.oC.e1(d.v.Ofst,C,T)}}};E.zw=function(){E.mu.call(this,"Adjust Edit",E.N1);this.Rk=null;
this.bC=null};E.zw.prototype=new E.mu;E.zw.Zl=function(I,k,a,n){if(n)k/=4;var s=0,C=0,T=255,S=0,D=0,o=255;
while(C+I[s]<k){C+=I[s];s++}while(S+I[T]<k){S+=I[T];T--}if(n){s-=Math.round(I[s]/(a/32));T+=Math.round(I[T]/(a/32));
if(s<0)D=Math.round(-s*255/(T-s));if(T>255)o=255-Math.round((T-255)*255/(T-s))}return[Math.max(s,0),Math.min(T,255),D,o,100]};
E.zw.prototype.CP=function(I,k,a,n,s){var C=I.q;if(C=="auto"){var T=I.Vf,S=E.zw.getData(a);for(var Y=0;
Y<S.length;Y++){var D=S[Y],o;if(T<3){}else{var v=gJ.nI("hue2");eu.qh(v,0,[0,-100,0]);o=fo.Zh("hue2",v)}fo.uq(o,D.b6,D.aB,D.Sq)}E.zw.kt(a,S);
E.zw.ye(a,S,T<3?[4,16,T]:[19,7,0],this);a.V()}if(C=="edit_layer")this.afn(I,k,a,n);if(C=="edit"||C=="confirm"||C=="cancel")this.Sy(I,k,a,s,!0);
if(C=="start"){if(a.T.length==0)return;var g=a.R[a.T[0]];if(g.add.SoLd&&g.YY<=0&&a.Ap.length==0){var d=new d2(M.E.r,!0);
d.S=E.OJ;d.data={q:"start",R_:I.g5,B9:I.B9};k.a(d);return}if(!a.XW(k,null,!0))return;if(ke[I.g5]&&I.B9==null){if(a.T.length!=1)alert("Will be applied to "+a.T.length+" layers.");
var d=new d2(M.E.b,!0);d.data={q:M.p.Fu,aw:"afw_"+I.g5};k.a(d)}else{this.Sy({q:"edit",B9:I.B9,R_:I.g5},k,a,s);
this.Sy({q:"confirm",R_:I.g5},k,a,s)}}};E.zw.prototype.afn=function(I,k,a,n){var s=I.q,C=a.T[0],T=a.R[C],S=fo.get(T.add),d;
if(T.add[S]==null)return;var D=JSON.parse(JSON.stringify(T.add[S]));for(var o in I.P)D[o]=I.P[o];var v=JSON.parse(JSON.stringify(D));
for(var o in fo.Uw)if(fo.Uw[o]==S)v.classID=o;var g=a.history[a.R3];if(g&&g.S==this&&g.data.P6!=null&&g.data.o==C)d=g;
else{var R=new d2(M.E.rd,!0),c={classID:"setd",null:hW.Pg("AdjL",!0),T:{t:"Objc",v:v}};R.data={Ay:!0,pi:"set",zf:c};
k.a(R);var d=new g7([6,39],this);d.data={o:C,P6:T.add[S],WM:D,va:c};a.RB(d)}d.data.WM=D;d.data.va.T.v=v;
this.KY(d.data,a)};E.zw.getData=function(I,k,a){var n=[],s=new eZ(0,0,I.Q,I._),C=I.Ap.length!=0?[-1-I.Ap[0]]:I.T;
for(var Y=0;Y<C.length;Y++){var T=C[Y],S=T<0?null:I.R[T],D={o:T,wr:T<0?1:S.YY};n.push(D);var o=I.TL[-1-T];
if(0<=T)o=S.YY<=0?null:S.YY==1?S.IO():S.kx(I).u;var v=o?o.rect:S.rect;if(I.f){D.Sq=I.f.rect.LU(k||o!=null?s:v)}else D.Sq=k||o!=null?v.oL(s):v.clone();
if(a)D.Sq=a[Y].Sq.clone();var g=D.Sq.c();D.b6=j.U(g*4);if(o)E.dX.it(o.channel,o.rect,o.color,D.b6,D.Sq);
else j.ao(S.buffer,v,D.b6,D.Sq);D.aB=D.b6.slice(0);if(I.f){D.G$=j.U(g);j.O0(I.f.channel,I.f.rect,D.G$,D.Sq)}}return n};
E.zw.awi=function(I,k,a){if(k==null)return k;var n=fo.X5(I,k),C;if(n==-1)return k;var s=a.length>>>2,T=j.I3(a),S=.001*s;
if(n==0||n==2)C=[[0,255,0,255,100],E.zw.Zl(T[1],S,s,n==2),E.zw.Zl(T[2],S,s,n==2),E.zw.Zl(T[3],S,s,n==2)];
if(n==1)C=[E.zw.Zl(T[0],S*.33,s,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var D=gJ.nI("levl");
for(var Y=0;Y<4;Y++)kA.qh(D,Y,C[Y]);return D};E.zw.aow=function(I,k,a,n){var s,C;if(a.t=="name"){var T=0;
for(var S=0;S<I.R.length;S++)if(I.R[S].getName()==a.v.val)T=S;if(I==k&&T==n.o){s=n.b6;C=n.Sq}else{var D=I.R[T];
s=D.buffer;C=D.rect}}else{C=new eZ(0,0,I.Q,I._);s=I==k?n.eY:I.TB()}return[s,C]};E.zw.prototype.Sy=function(I,k,a,n){if(this.Rk==null){if(I.R_=="aply")a.R[a.T[0]].extend(new eZ(0,0,a.Q,a._));
this.Rk=E.zw.getData(a,null,I.R_=="fade"?a.HS().data:null);if(I.R_=="aply"||I.R_=="matc")this.Rk[0].eY=a.TB()}if(I.q=="edit"){this.bC=[I.R_,I.B9];
var s=this.Rk[0],C=E.zw.awi(I.R_,I.B9,s.b6),T=fo.Zh(I.R_,C);if(I.R_=="fade"||I.R_=="matc"||I.R_=="aply")T=I.B9;
if(T!=null){for(var S=0;S<this.Rk.length;S++){var D=this.Rk[S];if(I.RZ)j.ed(D.b6,D.aB);else if(I.R_=="fade"){var o=aU.W$(I.B9.Md.v.BlnM),v=I.B9.Opct.v.val/100,g=a.HS().data[S];
j.ed(g.b6,D.aB);if(o=="norm")j.z.Pw(D.b6,D.Sq,D.aB,D.Sq,null,null,null,D.Sq,v);else{var d=hB.LJ();d.Vj=!0;
for(var Y=0;Y<g.b6.length;Y+=4)if(g.b6[Y+3]!=D.b6[Y+3]){d=null;break}j.z.Pf(o,D.b6,D.Sq,D.aB,D.Sq,D.Sq,v,d)}}else if(I.R_=="matc"){var R;
if(T.noReference&&T.noReference.v)R=D.b6;else{var c=T.Srce.v,e=c[1].v.val,O=k.HU,U=a;for(var Y=0;Y<O.length;
Y++)if(O[Y].name==e)U=O[Y];var K=E.zw.aow(U,a,c[0],D);R=K[0]}j_(D.b6,D.Sq.Q,D.Sq._,R,D.aB,[T.Lght.v,T.ClrR.v,T.Fade.v,T.neutralizeColor?T.neutralizeColor.v:!1])}else if(I.R_=="aply"){T=T.With.v;
var _=T.T.v,K=E.zw.aow(a,a,_[1],D),R=K[0],Z=K[1],H=T.Clcl?T.Clcl.v.Clcn:null,o=H?aU.W$(H):"norm",v=T.Opct?T.Opct.v.val/100:1,G=["RGB","Rd","Grn","Bl","Trsp"].indexOf(_[0].v.enum),C=T.Invr&&T.Invr.v;
if(C||G!=0){R=R.slice(0);if(C)j.an7(R);if(G!=0){var N=j.U(Z.c());j.Ez(R,N,G-1);if(G==4)j.Us(N);for(var z=0;
z<3;z++)j.yv(N,R,z)}}if(H=="Add"||H=="Sbtr"){var L=1/T.Scl.v,p=T.Ofst.v,V=H=="Add"?1:-1,r=new Uint8ClampedArray(D.aB.buffer);
for(var Y=0;Y<R.length;Y+=4){r[Y]=(D.b6[Y]+V*R[Y])*L+p;r[Y+1]=(D.b6[Y+1]+V*R[Y+1])*L+p;r[Y+2]=(D.b6[Y+2]+V*R[Y+2])*L+p}}else{var d=hB.LJ();
d.Vj=T.PrsT&&T.PrsT.v;D.aB.fill(0);D.aB.set(D.b6);j.z.Pf(o,R,Z,D.aB,D.Sq,D.Sq,v,d)}}else fo.uq(T,D.b6,D.aB,D.Sq)}E.zw.kt(a,this.Rk)}}if(I.q=="cancel"){E.zw.aoq(a,this.Rk);
this.Rk=null}if(I.q=="confirm"){var y={fade:[2,11],aply:[2,12],matc:[4,18]},W=y[I.R_];if(W==null)W=fo.names[I.R_];
var m=fo.X5(I.R_,this.bC[1]);if(m!=-1)W=[4,16,m];E.zw.ye(a,this.Rk,W,this);this.Rk=null;if(m==-1)E.zw.ou(k,this.bC)}a.V()};
E.zw.ou=function(I,k){var a=k[0],n=k[1],s,C;if(fo.MC[a]){s=fo.MC[a];if(ke[a])C=n}if(gJ.MC[a]){s=gJ.MC[a];
if(ke[a])C=n}if(a=="fade"){s="fade";C=n}if(a=="matc"){s="matchColor";C=n}if(a=="aply"){s="applyImageEvent";
C=n}if(a=="GEfc"){if(C.GEfs)C=C.GEfs.v[0].v}if(s==null)return;var T=new d2(M.E.rd,!0);T.data={Ay:!0,pi:s};
if(C){C=JSON.parse(JSON.stringify(C));T.data.zf=C}I.a(T)};E.zw.aoq=function(I,k){E.zw.Lj(I,k)};E.zw.ye=function(I,k,a,n){for(var Y=0;
Y<k.length;Y++){var s=k[Y],C=I.R[s.o],T=s.o<0?I.TL[-1-s.o]:s.wr<=0?null:s.wr==1?C.IO():C.kx(I).u;if(T){T.Jk();
T.WB=!0;if(C)C.Wr(I)}else{C.Jk();C.V()}delete s.aB;delete s.G$}var S=new g7(a,n);S.data=k;I.RB(S);I.q_=!0};
E.zw.kt=function(I,k,a){for(var Y=0;Y<k.length;Y++){var n=k[Y],s=I.R[n.o],C=a?n.b6:n.aB,T=n.Sq;if(n.wr==0){s.extend(T);
if(n.G$){j.ao(n.b6,T,s.buffer,s.rect);j.z.Pw(C,T,s.buffer,s.rect,n.G$,T,0,T,1)}else j.ao(C,T,s.buffer,s.rect)}else{var S=n.o<0?I.TL[-1-n.o]:n.wr==1?s.IO():s.kx(I).u;
S.extend(T);if(n.G$){var D=j.U(T.c()*4);j.ed(n.b6,D);j.z.Pw(C,T,D,T,n.G$,T,0,T,1);E.dX.eF(D,T,S)}else E.dX.eF(C,T,S);
S.WB=!0;if(s)s.Wr(I)}if(s)s.V()}if(!a)E.zw.aAw(I,k)};E.zw.Lj=function(I,k){for(var Y=0;Y<k.length;Y++){var a=k[Y],n=I.R[a.o],s=a.Sq,C=j.U(s.c()*4);
if(a.wr==0){j.ao(n.buffer,n.rect,C,s);n.extend(s);j.ao(a.b6,s,n.buffer,n.rect);n.Jk()}else{var T=a.o<0?I.TL[-1-a.o]:a.wr==1?n.IO():n.kx(I).u;
E.dX.it(T.channel,T.rect,T.color,C,s);T.extend(s);E.dX.eF(a.b6,s,T);T.Jk();T.WB=!0;if(n)n.Wr(I)}a.b6=C;
if(n)n.V()}I.q_=!0};E.zw.d2=function(I){var k=0;for(var Y=0;Y<I.length;Y++)k+=I[Y].b6.length;return k};
E.zw.aAw=function(I,k){var a=E.zw.a4C(I),n=~a;if(a==16777215)return;for(var Y=0;Y<k.length;Y++){var s=k[Y],C=I.R[s.o],T=s.Sq;
if(s.wr!=0)continue;C.extend(T);var S=T.x-C.rect.x,D=T.y-C.rect.y,o=C.rect.Q,v=new Uint32Array(s.b6.buffer),g=new Uint32Array(C.buffer.buffer);
for(var d=0;d<T._;d++)for(var R=0;R<T.Q;R++){var c=d*T.Q+R,e=(d+D)*o+(R+S);g[e]=g[e]&a|v[c]&n}C.Jk();
C.V()}I.V()};E.zw.a4C=function(I){var k=I.w.N;return k[2]*16711680|k[1]*65280|k[0]*255};E.zw.prototype.PP=function(I,k){var a=k.R[I.o];
if(I.P6!=null)a.add[fo.get(a.add)]=I.P6;else E.zw.Lj(k,I);k.V()};E.zw.prototype.KY=function(I,k){var a=k.R[I.o];
if(I.P6!=null)a.add[fo.get(a.add)]=I.WM;else E.zw.Lj(k,I);k.V()};E.zw.prototype.d2=function(I){return I.P6==null?E.zw.d2(I):0};
E.S0=function(){E.mu.call(this,"Filter Edit",E.OJ);this.Rk=null;this.CE=null;this.q=null;this.bC=null};
E.S0.prototype=new E.mu;E.S0.prototype.CP=function(I,k,a,n,s){if(I.q=="start"){if(a.T.length==0)return;
var C=a.R[a.T[0]];if(C.add.SoLd&&C.YY<=0&&a.Ap.length==0){}else if(!a.XW(k,null,!0))return;var T=I.R_;
if((ke[T]||gJ.L[T])&&I.B9==null){if(a.T.length!=1)alert("Will be applied to "+a.T.length+" layers.");
var S=new d2(M.E.b,!0);S.data=E.S0.aos(T,this.gW(a,T));k.a(S)}else{var D={q:"edit",R_:T,B9:I.B9,uh:this.gW(a)};
this.CP(D,k,a,n,s);D.q="confirm";delete D.B9;this.CP(D,k,a,n,s)}}if(I.q=="edit"||I.q=="cancel"||I.q=="confirm"){if(I.q=="edit")this.bC=[I.R_,I.B9];
if(I.uh)this.arL(I,k,a,s);else this.ayN(I,k,a,s)}if(I.q=="applylast"&&this.bC!=null){var D={q:"edit",R_:this.bC[0],B9:this.bC[1],uh:this.gW(a)};
this.CP(D,k,a,n,s);D.q="confirm";delete D.B9;this.CP(D,k,a,n,s)}};E.S0.aos=function(I,k){var a=gJ.L[I];
if(a)return{q:M.p.$g,S:a,sw:{uh:k}};else return{q:M.p.Fu,aw:"afw_"+I,uh:k}};E.S0.prototype.gW=function(I,k){var a=I.R[I.T[0]],n;
if(a.add.SoLd&&a.YY<=0&&I.Ap.length==0){n={o:I.T[0],index:0};if(a.add.SoLd.filterFX!=null){var s=a.add.SoLd.filterFX.v.filterFXList.v;
n.index=s.length;for(var Y=0;Y<s.length;Y++)if(gJ.Qa(s[Y].v)==k&&gJ.L[k])n.index=Y}}return n};E.S0.prototype.arL=function(I,k,a,n){var s=a.R[I.uh.o],C=I.R_;
if(I.q=="edit"){if(this.q==null){var T=gJ.names[C];if(T==null)T=fo.names[C];if(C=="blendOptions")T=[14,10];
this.q=new g7(T,this);this.q.data={uh:I.uh,a23:JSON.parse(JSON.stringify(s.add.SoLd))}}if(!s.st()){s.add.SoLd.filterFX=gJ.mA();
var S=this.q.data.XG=iJ.akY(s.add.SoLd.placed.v);a.eD(S);if(a.f){S.u.channel=a.f.channel.slice(0);S.u.rect=a.f.rect.clone();
S.u.color=0;this.q.data.Mr=a.f;a.f=null}s.Bi(a)}var D=s.add.SoLd.filterFX.v.filterFXList.v;if(D[I.uh.index]==null){D.push(gJ._b(C,n))}if(I.B9){D[I.uh.index].v.enab.v=I.RZ!=!0;
if(C=="blendOptions")D[I.uh.index].v.blendOptions.v=I.B9;else D[I.uh.index].v.Fltr.v=I.B9}this.q.data.arj=JSON.parse(JSON.stringify(s.add.SoLd));
this.KY(this.q.data,a)}if(I.q=="cancel"){if(this.q)this.PP(this.q.data,a);this.q=null}if(I.q=="confirm"){if(this.q)a.RB(this.q);
E.zw.ou(k,this.bC);this.q=null}};E.S0.prototype.E5=function(I){return{$:I>>>16,H:I>>>8&255,J:I&255}};
E.S0.prototype.ayN=function(I,k,a,n){if(this.Rk==null){var s=gJ.iw(I.R_,I.B9);this.Rk=E.zw.getData(a,s.x!=0||s.y!=0,I.R_=="VaPo"?[{Sq:I.eY[1]}]:null)}if(I.q=="edit"){var C=JSON.stringify(I.B9);
if((I.B9==null||C!=this.CE)&&I.RZ!=!0)for(var Y=0;Y<this.Rk.length;Y++){var T=this.Rk[Y],S={rect:T.Sq,buffer:T.b6},D={rect:T.Sq,buffer:T.aB};
if(I.R_=="Avrg"&&T.G$){S.buffer=T.b6.slice(0);j.Bj(T.G$,S.buffer)}gJ.uq(I.R_,S,I.B9,this.E5(n.MW),this.E5(n.U2),D,[a.add.lnk2?a.add.lnk2:[],a.R[a.T[0]].IO(),a.TL,a.iQ()]);
if(I.R_=="VaPo"){j.ao(I.eY[0],I.eY[1],D.buffer,D.rect)}if(I.R_=="Avrg"&&T.G$){var o=T.b6.length;for(var Y=0;
Y<o;Y+=4)T.aB[Y+3]=T.b6[Y+3]}this.CE=C}E.zw.kt(a,this.Rk,I.RZ)}if(I.q=="cancel"){E.zw.aoq(a,this.Rk);
this.Rk=null;this.CE=null}if(I.q=="confirm"){if(I.R_=="VaPo"){this.Rk.as1=JSON.stringify(a.cy);this.Rk.N0=JSON.stringify(I.P);
a.cy=I.P}E.zw.ye(a,this.Rk,gJ.names[I.R_],this);this.Rk=null;this.CE=null;E.zw.ou(k,this.bC)}a.V();a.q_=!0};
E.S0.prototype.PP=function(I,k){if(I.N0)k.cy=JSON.parse(I.as1);if(I.uh){var a=k.R[I.uh.o];if(I.XG)k.xJ(I.XG);
if(I.Mr)k.f=I.Mr;a.add.SoLd=JSON.parse(JSON.stringify(I.a23));if(a.st())a.qB(k);else{a.Bi(k);a.YY=0}}else E.zw.Lj(k,I);
k.V();k.q_=!0};E.S0.prototype.KY=function(I,k){if(I.N0)k.cy=JSON.parse(I.N0);if(I.uh){var a=k.R[I.uh.o];
if(I.XG)k.eD(I.XG);if(I.Mr)k.f=null;a.add.SoLd=JSON.parse(JSON.stringify(I.arj));if(a.st())a.qB(k);else a.Bi(k);
if(!a.V0())a.HA+=32}else E.zw.Lj(k,I);k.V();k.q_=!0};E.S0.prototype.d2=function(I){return I.uh==null?E.zw.d2(I):0};
var f9={_7:"0",yO:"1",RN:"2",H1:"3",OU:"3.5",EW:"4",Al:"5",DX:"6",$G:"7",r:"8",Cd:"8.5",gh:"8.8",Zp:"9",xr:"10",ug:"11",l2:"12",pf:"13",Q2:"14",fr:"15",yy:"16",YC:"17",to:"18",S8:"21",W2:"22",Ux:"23",nt:"23.0",WD:"23.1",IX:"23.2",Nl:"23.3",ej:"23.4",MO:"23.5",y5:"23.6",auv:"30",V3:"31",ah:"40",hq:"41",aN:"42"};
f9.Pm={};f9.Pm[f9.yO]=["abr","brushes",g5,[9,3],3];f9.Pm[f9.RN]=["grd","gradients",eb,[12,37],4];f9.Pm[f9.H1]=["shc","contours",cT,[12,21],0];
f9.Pm[f9.OU]=["acv","curves",aH,[4,2],0];f9.Pm[f9.EW]=["asl","styles",k5,[12,22],5];f9.Pm[f9.Al]=["pat","patterns",gK,[12,62],6];
f9.Pm[f9.DX]=["csh","shapes",jx,[12,77],7];f9.Pm[f9.$G]=["aco","swatches",g_,[9,8],0];f9.Pm[f9.r]=["atn","actions",jf,[9,9],2];
f9.Pm[f9.Cd]=["tpl","tpresets",hR,[9,12],0];f9.Pm[f9.gh]=["icc","profiles",aa,"LUTs",8];function g7(I,k,a){if(a==null)a=!1;
this.name=I;this.S=k;this.LK=a;this.data=null;this.aoG=Date.now()}g7.prototype.d2=function(){return this.S?this.S.d2(this.data):0};
var hW={};hW.Pg=function(I,k){var a={t:"Clss",v:{classID:I}};if(k)a={t:"Enmr",v:{classID:I,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[a]}};hW.Wg=function(I,k){var a={classID:"Lyr"};a[I]=k;return{pi:"set",zf:{classID:"null",null:hW.Pg("Lyr",!0),T:{t:"Objc",v:a}}}};
hW.awy=function(I,k,a,n,s){var C=new d2(M.E.rd,!0),T=[],Y=0,S=hW.g0(k,a,n,T);while(T.length!=0){var D=T.pop();
Y++;if(!D.e)continue;console.log(Y-1);if(D.pi=="conditional"){var o=I.R[I.T[0]],v=D.zf.null.v.Cndt,g=!1;
if(v=="Bckg")g=!1;else if(v=="Pxel"&&I.rb(!1))g=!0;else if(v=="Adjs"&&fo.get(o.add))g=!0;else if(v=="Shp"&&o.add.vogk)g=!0;
else if(v=="Grup"&&o.hd())g=!0;else if(v=="Opn"&&I!=null)g=!0;else if(v=="32Bt")g=!1;else if(v=="RGB")g=!0;
var d=D.zf.then,R=D.zf.else;if(g&&d)hW.g0(k,d.v[0].v.val,d.v[1].v.val,T);if(!g&&R)hW.g0(k,R.v[0].v.val,R.v[1].v.val,T)}else if(D.pi=="stop"){if(D.zf.Cntn&&D.zf.Cntn.v==!0)window.confirm(D.zf.Msge.v);
else{alert(D.zf.Msge.v);break}}else if(D.pi=="play"){var c=D.zf.null.v,e=new d2(M.E.b,!0);e.data={q:M.p.cb,ri:[c[0].v.val,c[1].v.val]};
s.a(e)}else{C.data={pi:D.pi,zf:D.zf};s.a(C)}}};hW.il=function(I,k,a){var n;for(var Y=0;Y<I.length;Y++){if(I[Y].xn!=a)continue;
var s=I[Y].PJ;for(var C=0;C<s.length;C++){if(s[C].xn!=k)continue;n=s[C]}}return n};hW.g0=function(I,k,a,n){var s=hW.il(I,k,a).PJ,C=s.length;
for(var Y=0;Y<C;Y++)n.push(s[C-1-Y])};hW.aqV=function(I){var k=I.pi,a=I.zf,n,T,S,D,o;if(a&&a.null)n=a.null.v[0];
if(a&&n==null&&a.At)n=a.At.v[0];if(n&&n.t=="obj ")n=n.v[0];var s=n&&n.v?n.v.classID:null,C=["purge"];
if(C.indexOf(k)!=-1)return k[0].toUpperCase()+k.slice(1);if(k=="GEfc"||k=="paintDaubs")return gr.names[a.GEfk.v.GEft][1];
o=fo.MC;for(T in o)if(o[T]==k)S=T;o=gJ.MC;for(T in o)if(o[T]==k)D=T;o=gJ.MC;for(T in o)if(T==k)D=T;if(S){var v=fo.X5(S,a);
if(v!=-1)return[4,16,v];return fo.names[S]}if(D)return gJ.names[D];var g=hW.ar4;if(k=="make"){if(n){if(s=="AdjL")return[6,1];
else if(s=="layerSection")return a.From?[6,9]:[6,20];else if(s=="Lyr")return[6,13];else if(s=="Chnl"&&n.v.enum=="Msk")return[6,2];
else if(s=="contentLayer")return[6,48,1];else if(s=="BckL")return"Make Background Layer";else if(s=="Path")return"Make Path";
else if(s=="TxLr")return"Make Text Layer";else if(s=="slice")return"Make Slices";else if(s=="Dcmn")return[11,7];
else if(s=="Gd")return[23,4]}if(a.Nw){s=a.Nw.v.classID;if(s=="Dcmn")return[11,7];else if(s=="Chnl"||s=="SCch")return"New Channel"}}else if(k=="deselect"){if(s=="Path")return"Deselect current path";
else throw s}else if(k=="draw"){return"Draw"}else if(k=="select"){if(s=="Chnl"){var d={Msk:"Mask",Grn:"Green",Rd:"Red",Bl:"Blue",RGB:"RGB"}[n.v.enum];
if(d==null)d="";return"Select "+d+" Channel"}else if(s=="Mn")return"Select Panel \""+n.v.enum+"\"";else if(s=="Lyr"){if(n.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward",Back:"Back",Frnt:"Front"}[n.v.enum]+" Layer";
return"Select Layer \""+n.v.val+"\""}else if(s=="Path")return"Select Path";else if(s=="Brsh")return"Select Brush";
else if(s=="Dcmn")return"Select Document"}else if(g[k]&&s=="Chnl"){var R=n.v.keyID=="fsel";return g[k]+" "+(R?"Selection":"Channel")}else if(k=="set"){if(s=="Lyr")return"Set Current Layer";
else if(s=="AdjL")return[6,39];else if(s=="contentLayer")return[6,48,2];else if(s=="Prpr"){var c=n.v.keyID;
if(c=="TxtS")return"Set Text Style";else if(c=="paragraphStyle")return"Set Paragraph Style";else if(c=="Lefx")return[11,6];
else console.log(c)}else if(s=="Clr")return"Set "+(n.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else if(s=="Brsh")return"Set Brush";else if(s=="Path")return"Set Work Path";else console.log(s)}else if(k=="move"){if(s=="Lyr")return"Move Layer";
else if(s=="Chnl"&&n.v.keyID=="fsel")return[7,7];else console.log(s)}else if(k=="show"||k=="hide"){var e="";
if(s=="Lyr")e="Layer";if(s=="Chnl")e="Channel";if(s=="filterFX")e="Filter Effect";return(k=="show"?"Show":"Hide")+" "+e}else if(k=="reset"){if(s=="Clr")return"Reset Colors"}else if(k=="exchange"){if(s=="Clr")return[22,7,0]}else if(k=="rotateEventEnum")return[2,5];
else if(k=="flip"){var O=a.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,O?2:3]]}if(k=="duplicate"&&s=="Dcmn")return"Duplicate first document";
if(s=="Chnl"){if(k=="duplicate"){if(n.v.keyID=="fsel")return"Selection to Channel";else return"Duplicate Channel"}if(k=="delete")return"Delete Channel"}if(k=="transform")return n&&n.v.keyID=="fsel"?[7,10]:[10,16];
var U={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49,0],cutToLayer:[6,49,1],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],matchColor:[4,18],fill:[2,3],stroke:[14,9],colorRange:[7,8],desaturate:[19,7,0],Dstt:[19,7,0],delete:a?s=="Lyr"?[6,31]:s=="ASet"?"Delete Action Set":"Delete Path":[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerEditContents:"Edit Contents",placedLayerExportContents:"Export Contents",placedLayerReplaceContents:"Replace Contents",convertMode:"Convert Mode",grow:"Grow Selection",similar:"Similar Selection",newPlacedLayer:[6,7,0],selectNoLayers:"Deselect Layers",selectAllLayers:"Select All Layers",canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],divide:"Divide Current Slice",collapseAllGroupsEvent:"Collapse All Groups",conditional:"If"},K=U[k];
if(K==null)K=hW.agH[k];if(K)return K;return k};hW.agH={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
hW.ar4={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
hW.a4L=function(I,k,a,n){var s=I.pi,C=I.zf,T=!1,S=new d2(M.E.r,!0),g,d,R,c;S.S=E.xf;var D=new d2(M.E.b,!0),o=["purge","updatePlacedLayer","convertMode","convertToProfile"];
if(o.indexOf(s)!=-1)return;var v=s;while(v.length<4)v+=" ";c=fo.MC;for(g in c)if(c[g]==v)d=g;c=gJ.MC;
for(g in c)if(c[g]==v)R=g;c=gJ.MC;for(g in c)if(g==v)R=g;if(s=="fade")d=s;if(s=="matchColor")d="matc";
if(s=="applyImageEvent")d="aply";if(d){S.S=E.N1;S.data={q:"start",g5:d,B9:C}}else if(R){S.S=E.OJ;S.data={q:"start",R_:R,B9:C}}else if(s=="GEfc"||s=="paintDaubs"){S.S=E.OJ;
S.data={q:"start",R_:"GEfc",B9:C}}else if(s=="imageSize"||s=="canvasSize"||s=="revealAll"||s=="trim"||s=="crop"){S.S=E.Ao;
S.data={q:"fromAction",_f:I}}else if(s=="fill"||s=="stroke"||s=="delete"&&C==null){var e=null;if(n.T.length!=0)e=n.R[n.T[0]];
var O=j.uU(a.MW);if(e!=null&&s=="fill"&&e.add.TySh){var U="var c = new SolidColor();  c.rgb.red="+O.$+";  c.rgb.green="+O.H+";  c.rgb.blue="+O.J+";  app.activeDocument.activeLayer.textItem.color = c;";
D.data={q:M.p.XI,a2:U}}else if(e!=null&&s=="delete"&&e.add.TySh){S.S=E.N$;S.data={q:"insertText",P:""}}else if(e!=null&&s=="fill"&&e.wc()){var S=new d2(M.E.rd,!0),C={classID:"setd",null:hW.Pg("contentLayer",!0),T:{t:"Objc",v:{}}};
E.c$.nk({Clr:{t:"Objc",v:j.G.pI(j.uU(a.MW))}},C.T.v,0);S.data={pi:"set",zf:C};k.a(S);return}else if(s=="stroke"&&C&&C.null==null){S.S=E.vV;
S.data={q:"stroke",azm:C}}else{if(s=="stroke"&&C&&C.Usng)S.S=E.MC[C.Usng.v.classID];else S.S=a.P$==E.LD?E.LD:E.yO;
S.data={q:"fromAction",_f:I}}}else if(s=="colorRange"||s=="grow"||s=="similar"){S.S=E.E9;S.data={q:"fromAction",_f:I}}else if(s=="set"&&C&&C.T&&C.T.v.Ordn=="Al"&&a.P$==E.N$&&k.zj().UC()){S.S=E.N$;
S.data={q:"selectAll"}}else if(hW.agH[s]||hW.ar4[s]&&(!1||C.With&&C.With.v[0].v.keyID=="fsel"||C.From&&C.From.v[0].v.keyID=="fsel"||C.null&&C.null.v[0].v.keyID=="fsel"||C.T.v[0]&&C.T.v[0].v.keyID=="fsel")){S.S=E.FQ;
S.data={q:"fromAction",_f:I}}else if(s=="rasterizeLayer"){S.data={q:C.What?X.auD:X.t1}}var K={copyToLayer:X.Ve,cutToLayer:X.E4,mergeLayersNew:X.Zg,mergeVisible:X.od,flattenImage:X.aqB,newPlacedLayer:X.P1};
if(K[s])S.data={q:K[s],zf:C};if(S.data){k.a(S);return}if(s=="collapseAllGroupsEvent"){for(var Y=0;Y<n.R.length;
Y++){var e=n.R[Y];if(e.hd())e.add.lsct=gA.DG}n.cd=!0;return}if(s=="desaturate"||s=="Dstt"){S.S=E.N1;
S.data={q:"auto",Vf:3};if(n&&n.R[n.T[0]].add.SoLd==null)k.a(S);return}if(s=="close"){if(C&&C.Svng.v.YsN=="Ys"){D.data={q:M.p.Vd};
k.a(D)}D.data={q:M.p.kZ,Yx:n};k.a(D);return}if(s=="save"){D.data={q:M.p.Vd};k.a(D);return}if(s=="copyMerged"){D.data={q:M.p.eM,JR:!0,jb:!0};
k.a(D);return}if(s=="placedLayerReplaceContents")D.data={q:M.p.Av,n5:!0};var K={placedLayerEditContents:M.p.ae_,placedLayerExportContents:M.p.aqG,copyEvent:M.p.eM,paste:M.p.ZJ};
if(K[s])D.data={q:K[s],jb:!0};if(D.data){k.a(D);return}var _=C.null?C.null.v:null,Z=_?_[0].v.classID:"";
if(s=="make"){if(C.null==null&&C.Nw)Z=C.Nw.v.classID;if(Z=="AdjL"){S.data={q:X.bi,zf:C}}else if(Z=="layerSection"){S.data=C.From?{q:X.L7}:{q:X.ce};
if(C.Usng){var H=C.Usng.v;if(H.Nm)S.data.rN=H.Nm.v;if(H.Clr)S.data.O2=hW._S(H)}}else if(Z=="Lyr"){if(C.Usng&&C.Usng.v.length==2)S.data={q:X.ajS};
else{S.data={q:X.mT};if(C.Usng)S.data.rN=C.Usng.v.Nm.v;if(C.below&&C.below.v)S.data.a69=!0}}else if(Z=="Chnl"&&C.At&&C.At.v[0].v.enum=="Msk"){S.data={q:X.IW,Ex:C.Usng.v.UsrM}}else if(Z=="Chnl"||Z=="SCch"){S.data={q:X.QJ,ar:"fromAction",P:I}}else if(Z=="contentLayer"){S.data={q:X._6,zf:C}}else if(Z=="BckL"){n.R[n.T[0]].avt();
return}else if(Z=="Dcmn"){if(C.Nw==null)return;var G=C.Nw.v;D.data={q:M.p.kz,Z9:iJ.ad9(G,a)}}else if(Z=="Ptrn")D.data={q:M.p.lV,CU:0};
else if(Z=="Path"){var N=C.At;if(N&&N.v&&N.v[0]&&N.v[0].v&&N.v[0].v.enum=="vectorMask"){S.S=E.xf;var z=C&&C.Usng&&C.Usng.v.vectorMaskEnabled=="RvlA";
S.data={q:X.h5,nr:!z}}else{S.S=E.N4;S.data={q:"pathedit",ar:"fromsel"}}}else if(Z=="TxLr"){S.S=E.N$;
S.data={q:"fromAction",_f:I}}else if(Z=="slice"){S.S=E.s4;S.data={q:"fromAction",_f:I}}else if(Z=="Gd"){var L=[[],[]],G=C.Nw.v;
L[G.Ornt.v.Ornt=="Vrtc"?0:1].push(G.Pstn.v.val);var p=cO.iN(L);E.R0.VE(p,n.Ru());S.S=E.Mt;S.data={q:"gids",qJ:p}}else{console.log(s,Z,C);
throw"e"}}else if(s=="divide"){S.S=E.s4;S.data={q:"fromAction",_f:I}}else if(s=="deselect"){if(Z=="Path"){n.dz=[];
n.L0=[];n.cd=n.Xi=!0;return}else throw Z}else if(s=="selectNoLayers"){n.T=[];n.q_=!0}else if(s=="selectAllLayers"){n.T=[];
for(var Y=0;Y<n.R.length;Y++)n.T.push(Y);n.q_=!0;return}else if(s=="select"){var V=E.MC;if(Z=="Lyr"){var r=C.selectionModifier,y=r?r.v.selectionModifierType:null,W=hW.T3(n,_[0]),m=0;
if(W==-1){alert("Layer "+_[0].v.val+" does not exist.");return}var e=n.R[W];if(e.hd()&&e.IO()&&r==null)m=1;
S.data={q:X.u5,o:W,My:y?["addToSelection","addToSelectionContinuous"].indexOf(y):null,h7:m}}else if(Z=="Path"){if(_[0].v.keyID=="WrPt"){n.dz=[0];
n.cd=n.Xi=!0;return}else throw _[0]}else if(Z=="Chnl"){var f=_?_[0].v.enum:"",h=["Rd","Grn","Bl"].indexOf(f);
if(h!=-1){var b=C.Extd&&C.Extd.v?n.w.N.slice(0):[0,0,0];b[h]=1;S.S=E._F;S.data={q:"setcls",N:b}}else S.data={q:X.u5,o:W,h7:f=="RGB"?0:1}}else if(Z=="Dcmn"){if(k.HU.length<2)return;
D.data={q:M.p.a97,dir:C.null.v[0].v.val}}else if(Z=="Brsh"){var i=a.Yg.list,w;for(var Y=0;Y<i.length;
Y++){if(i[Y].v.Nm.v.split("/").pop()==_[0].v.val)w=i[Y].v}if(a.P$==E.Mt){D.data={q:M.p.$g,S:E.yO};k.a(D)}D.data={q:M.p.iv,CU:f9.Q2,ZA:w}}else if(Z=="Mn"){if(_[0].v.enum=="Scl")D.data={q:M.p.$g,S:E.Yo,sw:{Ex:3}};
if(_[0].v.enum=="Plce")D.data={q:M.p.Av,a6P:!0};if(_[0].v.enum=="ZmIn"){S.S=E.VX;S.data={q:"zoom",KJ:!0}}if(_[0].v.enum=="ZmOt"){S.S=E.VX;
S.data={q:"zoom",KJ:!1}}if(_[0].v.enum=="FtOn"){S.S=E.VX;S.data={q:"adapt",P:"fitscr"}}}else if(V[Z]){D.data={q:M.p.$g,S:V[Z]}}else throw Z}else if(s=="draw"){S.S=E.N4;
S.data={q:"fromAction",_f:I}}else if(s=="gradientClassEvent"){S.S=E.VG;S.data={q:"fromAction",_f:I}}else if((s=="set"||s=="reset"||s=="exchange")&&Z=="Clr"){D.data={q:M.p.iv,CU:f9.S8,ar:s=="reset"?3:2};
if(s=="set"){D.data.ar=_[0].v.keyID=="FrgC"?0:1;var J=j.G.GW(C.T.v);D.data.P=J.$<<16|J.H<<8|J.J}}else if(s=="set"){if(Z=="AdjL"){var q=C.T.v.classID;
q=fo.Uw[q];S.S=E.N1;if(q)S.data={q:"edit_layer",P:C.T.v}}else if(Z=="Lyr"){var x=C.T.v,W=hW.T3(n,_[0]);
for(var A in x){if(A=="classID")continue;S.S=E.xf;if(A=="Nm")S.data={q:X.kg,name:x.Nm.v};else if(A=="Opct")S.data={q:X.jT,WM:Math.round(x.Opct.v.val*255/100)};
else if(A=="fillOpacity")S.data={q:X.Ik,WM:Math.round(x.fillOpacity.v.val*255/100)};else if(A=="Md")S.data={q:X.zO,WM:aU.$k.indexOf(x.Md.v.BlnM)+(n.R[W].hd()?1:0)};
else if(A=="Usrs")S.data={q:X.$M,o:W};else if(A=="Blnd"){S.S=E.rV;S.data={q:"setstl",o:W,P:{blendOptions:{t:"objc",v:x}}};
k.a(S);S.data={q:"confirm",o:W}}else if(A=="userMaskFeather"||A=="userMaskDensity"){var Q=x.userMaskFeather,B=x.userMaskDensity,W=n.T[0],l=n.R[W].je(0);
if(Q)l.u_=Q.v.val;if(B)l.GZ=B.v.val;S.data={q:X.Gt,Tu:W,M4:l}}else if(A=="Clr"){var O=hW._S(x);S.data={q:X.MR,a5z:O}}else if(A=="Lefx")hW.aks(k,W,x.Lefx.v,a);
else{console.log(C);throw A}if(S.data){k.a(S);delete S.data}}S.data={};var e=n.R[W];e.aoT()}else if(Z=="Prpr"){var x=JSON.parse(JSON.stringify(C.T.v)),W=hW.T3(n,C.null.v[1]),e=n.R[W],P=_[0].v.keyID;
if(P=="TxtS"||P=="paragraphStyle"){var F=e.add.TySh,t=JSON.parse(JSON.stringify(F.RW)),b$=f4.iZ(t),hd=f4.dm(t,0,b$.length-2);
if(P=="TxtS")f4.a2t(x,hd);else f4.aqZ(x,hd);f4.Xy(t,0,b$.length-1,hd);S.S=E.N$;S.data={q:"newED",KV:W,ku:t}}else if(P=="Lefx"){for(var hD in x)if(x[hD].v){if(hD=="Scl")x[hD].v.val=100}hW.aks(k,W,x,a);
S.data={}}else throw P}else if(Z=="contentLayer"){var W=hW.T3(n,_[0]),x=C.T.v,a$=!0;if(x.classID=="shapeStyle"){if(x.strokeStyle){x=x.strokeStyle.v;
a$=!1}else x=x.FlCn.v}if(a$){var eJ={solidColorLayer:0,gradientLayer:1,patternLayer:2}[x.classID],hY=fY.bZ(n.R[W].add),R=hY.nE==eJ+1?hY.aG:fY.T8[eJ];
R=JSON.parse(JSON.stringify(R));E.c$.nk(x,R,eJ);S.data={q:X.AU,l6:[W],M2:!0,P:{nE:eJ+1,aG:R}}}else{var ik=JSON.parse(JSON.stringify(n.R[W].add.vstk));
for(var hD in x)ik[hD]=x[hD];S.data={q:X.AU,l6:[W],M2:!1,P:ik}}}else if(Z=="Brsh"){var w=JSON.parse(JSON.stringify(a.Yg.Cj)),fw=C.T.v;
if(fw.masterDiameter)w.Brsh.v.Dmtr.v.val=fw.masterDiameter.v.val;else console.log("unknown brush parameters");
D.data={q:M.p.iv,CU:f9.Q2,ZA:w}}else if(Z=="Path"){S.S=E.N4;S.data={q:"fromAction",_f:I}}else{console.log(_[0],C);
throw Z}}else if(s=="move"){if(Z=="Lyr"){var x=C.T.v;if(x.classID=="Ofst"){S.data={q:"trsl",YM:x.Hrzn.v.val,qG:x.Vrtc.v.val};
S.S=E.Mt}else{var jb,cd;if(x[0].t=="Enmr"){if(x[0].v.enum=="Frnt")cd=0;else if(x[0].v.enum=="Nxt")cd=1;
else if(x[0].v.enum=="Prvs")cd=2;else if(x[0].v.enum=="Back")cd=3;else throw"e"}else jb=x[0].v.val;S.data={q:X.CN,target:jb,ar:cd,aiZ:C.Dplc?C.Dplc.v:!1}}}else if(Z=="Chnl"&&_[0].v.keyID=="fsel"){S.S=E.FQ;
S.data={q:"fromAction",_f:I}}}else if(s=="groupEvent"||s=="ungroup")S.data={q:X.oH};else if(s=="show"||s=="hide"){var dN=C.null.t;
if(dN=="obj "){if(_[0].v.val!=null)S.data={q:X.CK,index:_[0].v.val-1};else S.data={q:X.K$}}else if(dN=="VlLs"){var Z=_[0].v[0].v.classID;
if(Z=="Chnl")S.data={q:X.QJ,ar:"fromAction",P:I};else{var kc=Z=="filterFX"?_:_[0].v;for(var Y=0;Y<kc.length;
Y++){if(Z=="filterFX")S.data={q:X.CK,index:kc[Y].v[0].v.val-1};else{var W=hW.T3(n,kc[Y]),ck=n.R[W].K7();
if(s=="show"&&ck||s=="hide"&&!ck)continue;S.data={q:X.Jn,l6:[W]}}k.a(S)}return}}else throw dN}else if(s=="rotateEventEnum"){S.S=Z=="Lyr"?E.Yo:E.Ao;
var b3=C.Angl.v.val;S.data={q:"rot",xn:[2,5],P:-b3*Math.PI/180}}else if(s=="flip"){S.S=Z=="Lyr"?E.Yo:E.Ao;
var hL=C.Axis.v.Ornt=="Hrzn",gS=hL?new kK(-1,1):new kK(1,-1);S.data={q:"scl",xn:[[2,6],[22,4,hL?2:3]],P:gS}}else if(s=="transform"){var jF=1,kB=1,jw=0,iT=0,gY=0,aL=0,dw=0,d1=null,ag=null;
if(C.Wdth)jF=C.Wdth.v.val/100;if(C.Hght)kB=C.Hght.v.val/100;if(C.Skew){var ka=C.Skew.v;jw=ka.Hrzn.v.val;
iT=ka.Vrtc.v.val}if(C.Ofst){var cy=C.Ofst.v;aL=cy.Hrzn.v.val;dw=cy.Vrtc.v.val}if(C.Angl)gY=C.Angl.v.val;
var jP=new dc;jP.concat(new dc(jF,jF*Math.tan(iT*Math.PI/180),kB*Math.tan(jw*Math.PI/180),kB,0,0));jP.rotate(-gY*Math.PI/180);
jP.translate(aL,dw);var aA=j.t.HE(jP);if(C.Usng){var cy=C.Usng.v;aA[6]=cy.Hrzn.v.val/100;aA[7]=cy.Vrtc.v.val/100}var b0=C.FTcs.v.QCSt;
if(b0=="Qcsi"){var kx=C.Pstn.v;d1=new kK(kx.Hrzn.v.val,kx.Vrtc.v.val)}else ag=E.nF.a33[b0];var _=C.null;
if(_&&_.v instanceof Array)_=_.v[0];var W=_?hW.T3(n,_):null;if(W==-1)W=null;S.S=_&&_.v.keyID=="fsel"?E.Ll:E.Yo;
S.data={q:"dtr",GJ:ag,P:aA,dh:C.warp,a7_:d1}}else if(s=="duplicate"){if(Z=="Chnl")S.data={q:X.QJ,ar:"fromAction",P:I};
else if(Z=="Dcmn"){var br=kk.wV("PSD").G0(n);ji.Td({url:n.name},br,k);return}else if(Z=="Actn"){var ft=a.Jb,iv=_[1].v.val,k6=null;
for(var Y=0;Y<ft.length;Y++)if(ft[Y].xn==iv)k6=ft[Y];var ay=hW.il(ft,_[0].v.val,iv);ay=JSON.parse(JSON.stringify(ay));
ay.xn+=" copy";k6.PJ.push(ay);return}else S.data={q:X.T0,rN:C.Nm?C.Nm.v:null}}else if(s=="delete"){if(Z=="filterFX"){if(_[0].v.val!=null)S.data={q:X.ph,Rv:_[0].v.val-1};
else S.data={q:X.YS}}else if(Z=="Path"){S.S=E.N4;S.data={q:"pathedit",ar:"del"}}else if(Z=="Lyr")S.data={q:X.Va};
else if(Z=="Chnl"&&_[0].v.enum=="Msk")S.data={q:X.Ro};else if(Z=="Chnl")S.data={q:X.QJ,ar:"fromAction",P:I};
else if(Z=="Cmnd"){var ft=a.Jb,iv=_[2].v.val,ay=hW.il(ft,_[1].v.val,iv);ay.PJ.splice(_[0].v.val-1,1);
return}else if(Z=="Actn"){var ft=a.Jb,iv=_[1].v.val,k6=null;for(var Y=0;Y<ft.length;Y++)if(ft[Y].xn==iv)k6=ft[Y];
var ay=hW.il(ft,_[0].v.val,iv);k6.PJ.splice(k6.PJ.indexOf(ay),1);return}else if(Z=="ASet"){var ft=a.Jb,iv=_[0].v.val,k6=null;
for(var Y=0;Y<ft.length;Y++)if(ft[Y].xn==iv)k6=ft[Y];if(k6==null)return;ft.splice(ft.indexOf(k6),1);
n.q_=!0;return}else throw Z}else if(s=="align"){if(C.Aply&&C.Aply.v.projection=="Auto"){S.S=E.Ao;S.data={q:"auto-align"}}else{S.S=E.Mt;
var eT=C.Usng.v.ADSt,d={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[eT];if(d==null)throw eT;S.data={q:"algn",P:d}}}else if(s=="applyLocking"){var kD=C.layerLocking.v,cP;
if(kD.protectTransparency)cP=[[kD.protectTransparency.v],[0]];else if(kD.protectNone)cP=[[!1,!1,!1,!1],[0,1,2,31]];
else{console.log(kD);throw"e"}S.data={q:X.gs,WM:cP}}if(S.data)k.a(S);else if(D.data)k.a(D);else{console.log(I);
alert("Unknown action \""+s+"\"");throw"e"}};hW.aks=function(I,k,a,n){a=JSON.parse(JSON.stringify(a));
fe.Js(a);if(a.masterFXSwitch==null)a.masterFXSwitch={t:"bool",v:!0};console.log(a);var s=fY.zQ;for(var C=0;
C<s.length;C++)if(a[s[C]]){for(var Y=0;Y<a[s[C]].v.length;Y++){var T=a[s[C]].v[Y].v;for(var S=0;S<2;
S++){var D=T[S==0?"TrnS":"MpgS"];if(D&&D.v.Crv==null){var o=D.v,v=o.Nm.v.split("=").pop(),g=n.jf;for(var d=0;
d<g.length;d++){var R=g[d].Nm.v.split("=").pop();if(R==v)o.Crv=JSON.parse(JSON.stringify(g[d].Crv))}if(D.v.Crv==null){console.log(D);
throw"e"}}}}}var c=new d2(M.E.r,!0);c.S=E.rV;c.data={q:"setstl",o:k,P:{Lefx:{t:"objc",v:a}}};I.a(c);
c.data={q:"confirm",o:k};I.a(c)};hW._S=function(I){var k={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[I.Clr.v.Clr];
if(k==null)throw I.Clr.v.Clr;return k};hW.T3=function(I,k){var a=1e6,n=0,s=I.R.length;for(var Y=0;Y<I.T.length;
Y++){a=Math.min(a,I.T[Y]);n=Math.max(n,I.T[Y])}var C=k.t,T=-1;if(C=="name"){var S=k.v.val,T=-1;for(var Y=0;
Y<s;Y++)if(I.R[Y].getName()==S){T=Y;break}}else if(C=="Enmr"){if(I.T.length!=0)T=I.T[0];if(k.v.enum=="Frwr")T=n+1;
if(k.v.enum=="Bckw")T=a-1;if(k.v.enum=="Back")T=0;if(k.v.enum=="Frnt")T=s-1;T=(T+s)%s}else if(C=="prop"){if(k.v.keyID=="Bckg")T=0}else if(C=="indx")T=k.v.val-1;
return T};var fo={};fo.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
fo.aBB=["expA","clrL","selc"];fo.Di=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];fo.afm=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
fo.fd=[[13,1,1],[13,1,4],[13,1,5]];fo.ke={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
fo.Uw=function(){var I=JSON.parse(JSON.stringify(fo.ke));delete I.GrMp;I.GdMp="grdm";return I}();fo.MC={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
fo.keys={levl:[as.nU,as.eI],curv:[as.nU,as.U$],hue2:[as.nU,as.Qt],nvrt:[as.nU,as.rx],blnc:[as.nU,as.eW]};
fo.qE=function(I){var k=gJ.nI("mixr");k.Mnch={t:"bool",v:I.mC};function a(n,Y){var s={classID:"ChMx"},C={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var T in C)s[T]={t:"UntF",v:{type:"#Prc",val:n[Y+C[T]]}};return{t:"Objc",v:s}}if(I.mC)k.Gry=a(I.P,0);
else{k.Rd=a(I.P,0);k.Grn=a(I.P,5);k.Bl=a(I.P,10)}return k};fo.Am=function(I){function k(n,s,Y){var C={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var T in C)if(n[T])s[Y+C[T]]=n[T].v.val}var a={mC:!1,P:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(I.Mnch&&I.Mnch.v)a.mC=!0;if(a.mC)k(I.Gry.v,a.P,0);else{k(I.Rd.v,a.P,0);k(I.Grn.v,a.P,5);k(I.Bl.v,a.P,10)}return a};
fo.get=function(I){for(var k in fo.names)if(I[k]!=null)return k;return null};fo.Zh=function(I,k){var a=fo.iI,n;
if(I=="brit"){var s=k.Brgh?k.Brgh.v:0,C=k.Cntr?k.Cntr.v:0,T=k.useLegacy?k.useLegacy.v:!1;if(T){var S=s/255,D=1+C/100;
if(D>1)D=1+Math.tan(Math.PI/2*C/101);var o=(1-D)/2,v=j.LT.av(S,S,S),g=[D,0,0,o,0,D,0,o,0,0,D,o,0,0,0,1],d=j.LT.multiply(g,v),R=new j.$n(256);
for(var Y=0;Y<256;Y++)R.$[Y]=Y;j.LT.transform(R,R,d);n={type:a.sc,gG:R.$,NQ:R.$,nY:R.$,cX:!1,NI:!1}}else{var c=1024,e=-30+60*(C+100)/200,O=[];
for(var Y=0;Y<4;Y++)O.push(j.IJ.bj(Y/3*255,Y/3*255,!0));O[1].v.Hrzn.v=64;O[1].v.Vrtc.v=64-e;O[2].v.Hrzn.v=128+64;
O[2].v.Vrtc.v=128+64+e;O.sort(function(cM,kL){return cM.v.Hrzn.v-kL.v.Hrzn.v});var U=j.IJ.ot(O,c);function K(cM,c){var O=[],bQ=3;
for(var Y=0;Y<bQ+1;Y++)O.push(j.IJ.bj(Y/bQ*255,Y/bQ*255,!0));O[1].v.Hrzn.v=130-cM*26;O[1].v.Vrtc.v=130+cM*51;
O[2].v.Hrzn.v=233-cM*48;O[2].v.Vrtc.v=233+cM*10;return j.IJ.ot(O,c)}var _=K(Math.abs(s)/100,c);if(s<0){var Z=[],H=1/c;
for(var Y=0;Y<c;Y++){var G=Y*H,N=Y;while(_[N]>G&&N>1)N--;Z[Y]=N*H}_=Z}var z=new Uint8Array(c);for(var Y=0;
Y<c;Y++){var L=Math.round((c-1)*_[Y]);z[Y]=Math.round(255*U[L])}n={type:a.sc,gG:z,NQ:z,nY:z,cX:!1,NI:!1}}}if(I=="levl"){var p=[],V,r,v,y,W,m;
for(var Y=0;Y<4;Y++)p.push(kA.MY(k,Y));V=-p[0][0]/255;r=1/(p[0][1]/255-p[0][0]/255);v=j.LT.multiply(j.LT.L_(r,r,r),j.LT.av(V,V,V));
y=j.LT.L_(1/(p[1][1]/255-p[1][0]/255),1/(p[2][1]/255-p[2][0]/255),1/(p[3][1]/255-p[3][0]/255));W=j.LT.av(-p[1][0]/255,-p[2][0]/255,-p[3][0]/255);
m=j.LT.multiply(y,W);var z=new j.$n(256);for(var Y=0;Y<256;Y++)z.$[Y]=z.H[Y]=z.J[Y]=Y;var f=1/(p[0][4]/100),h=1/(p[1][4]/100),b=1/(p[2][4]/100),i=1/(p[3][4]/100);
j.LT.transform(z,z,m);for(var Y=0;Y<256;Y++){z.$[Y]=Math.round(Math.max(0,Math.min(255,255*Math.pow(z.$[Y]/255,h))));
z.H[Y]=Math.round(Math.max(0,Math.min(255,255*Math.pow(z.H[Y]/255,b))));z.J[Y]=Math.round(Math.max(0,Math.min(255,255*Math.pow(z.J[Y]/255,i))))}j.LT.transform(z,z,v);
for(var Y=0;Y<256;Y++){z.$[Y]=Math.round(Math.max(0,Math.min(255,255*Math.pow(z.$[Y]/255,f))));z.H[Y]=Math.round(Math.max(0,Math.min(255,255*Math.pow(z.H[Y]/255,f))));
z.J[Y]=Math.round(Math.max(0,Math.min(255,255*Math.pow(z.J[Y]/255,f))))}V=p[0][2]/255;r=p[0][3]/255-p[0][2]/255;
v=j.LT.multiply(j.LT.av(V,V,V),j.LT.L_(r,r,r));y=j.LT.L_(p[1][3]/255-p[1][2]/255,p[2][3]/255-p[2][2]/255,p[3][3]/255-p[3][2]/255);
W=j.LT.av(p[1][2]/255,p[2][2]/255,p[3][2]/255);m=j.LT.multiply(W,y);j.LT.transform(z,z,j.LT.multiply(v,m));
n={type:a.sc,gG:z.$,NQ:z.H,nY:z.J,cX:!1,NI:!1}}if(I=="curv"){var w=aH.MY(k,0).length==256?1:0,J=[];if(w==0){var q=j.IJ.pH(aH.MY(k,0),256);
for(var Y=1;Y<4;Y++){var x=j.IJ.pH(aH.MY(k,Y),256);J.push(j.IJ.a8t(x,q))}}else{var A=[];for(var Y=0;
Y<4;Y++){var Q=new Uint8Array(256);A.push(Q);var B=aH.MY(k,Y);for(var N=0;N<256;N++)Q[N]=B[N]}for(var Y=1;
Y<4;Y++)J.push(j.IJ.a8t(A[Y],A[0]))}n={type:a.sc,gG:J[0],NQ:J[1],nY:J[2],cX:!1,NI:!1}}if(I=="expA"){var l=k.Exps,P=k.Ofst,F=k.gammaCorrection,t=l?l.v:0,b$=P?P.v:0,hd=F?F.v:1,z=new Uint8Array(256);
for(var Y=0;Y<256;Y++){var k=Y/255,di=Math.pow(Math.abs(b$),1/(Math.PI/2));if(b$>0){k=Math.max(b$/Math.E,k);
k=k*Math.exp(b$/1.75+t/Math.PI);k=(1-di)*k+di*1}else{k=k*Math.exp(-b$*1.75+t/Math.PI);k=k+-di*1.14}k=Math.pow(k,1/hd);
k=Math.max(0,Math.min(1,k));z[Y]=Math.round(k*255)}n={type:a.sc,gG:z,NQ:z,nY:z,cX:!1,NI:!1}}if(I=="vibA"){var hD=(k.vibrance?k.vibrance.v:0)/100,a$=(k.Strt?k.Strt.v:0)/100,di=1+hD*(hD>0?.25:.5),eJ=.8+.2/di;
n={type:a.OH,CU:[hD,a$,eJ,di]}}if(I=="hue2"){var hY=[],ik=[],fw=[],jb=k.Clrz?k.Clrz.v:!1;for(var Y=0;
Y<256;Y++){hY[Y]=Y/255;ik[Y]=0;fw[Y]=0}var cd=eu.MY(k,0),dN=fo.$Q(cd[1]/100);if(jb){var kc=cd[0]/360;
for(var Y=0;Y<256;Y++){hY[Y]=kc;ik[Y]=dN}}else{for(var Y=0;Y<256;Y++){var ck=hY[Y],b3=ik[Y];hY[Y]+=cd[0]/360;
for(var N=0;N<6;N++){var hL=eu.MY(k,N+1),gS=hL.iM,jF=hL.Cv,di=0;for(var kB=1;kB<4;kB++)if(jF[kB]<jF[0])jF[kB]+=360;
var jw=jF[0],iT=jF[1],gY=jF[2],aL=jF[3],dw=ck*360;if(dw<jF[0])dw+=360;var ka=(dw-jw)/(iT-jw),cy=(dw-gY)/(aL-gY);
if(ka<0)di=0;else if(ka<1)di=ka;else if(cy<0)di=1;else if(cy<1)di=1-cy;else di=0;var D=fo.$Q(gS[1]/100);
hY[Y]+=di*gS[0]/360;ik[Y]+=di*D;fw[Y]+=di*gS[2]/100}}for(var Y=0;Y<256;Y++){ik[Y]=(1+ik[Y])*(1+dN)-1;
fw[Y]=Math.max(-1,Math.min(1,fw[Y]))}}var jP=new Uint8Array(256),aA=new Uint8Array(256),d1=new Uint8Array(256);
for(var Y=0;Y<256;Y++){var ag=hY[Y],a$=ik[Y],b0=fw[Y];if(ag>1)ag--;if(ag<0)ag++;a$=fo.ac3(a$);a$=(1+a$)*.5;
b0=(1+b0)*.5;jP[Y]=Math.round(255*ag);aA[Y]=Math.round(255*a$);d1[Y]=Math.round(255*b0)}var kx=cd[2]/100,br=kx<0?-kx:kx,ft=kx<0?0:1;
n={type:a.vk,acJ:jP,iU:aA,awh:d1,ak2:br*ft,Cs:1-br,aar:cd[2]/100,aku:jb?1:0}}if(I=="nvrt"){var z=new Uint8Array(256);
for(var Y=0;Y<256;Y++)z[Y]=255-Y;n={type:a.sc,gG:z,NQ:z,nY:z,cX:!1,NI:!1}}if(I=="post"){var iv=k.Lvls.v,z=new Uint8Array(256),di=iv/255.001,k6=255/(iv-1);
for(var Y=0;Y<256;Y++)z[Y]=Math.floor(Y*di)*k6;n={type:a.sc,gG:z,NQ:z,nY:z,cX:!1,NI:!1}}if(I=="grdm"){var ay=k.Grad.v,eT=k.Rvrs,c=1024,kD;
if(ay.Clrs){var cP=j.G.px(ay,0,0);kD=j.G.atY(ay,cP,c,eT?eT.v:!1)}else{kD=j.G.awX(ay,c,eT?eT.v:!1)}var cU=j.U(c),gu=j.U(c),jd=j.U(c);
j.Ez(kD,cU,0);j.Ez(kD,gu,1);j.Ez(kD,jd,2);n={type:a.sc,gG:cU,NQ:gu,nY:jd,cX:!0,NI:!1}}if(I=="selc"){var i$=new Float32Array(9*3*2),hT=k.VK,jk=k.Mthd?k.Mthd.v.CrcM=="Absl":!1;
for(var N=0;N<9;N++){var i1=N*6,aZ=gs.MY(k,N),az=aZ[0]/100,hM=aZ[1]/100,ku=aZ[2]/100,dM=aZ[3]/100;if(jk){i$[i1]=i$[i1+1]=i$[i1+2]=1;
i$[i1+3]=az*(1+dM)+dM;i$[i1+4]=hM*(1+dM)+dM;i$[i1+5]=ku*(1+dM)+dM}else{i$[i1+0]=(1+az)*(1+dM);i$[i1+1]=(1+hM)*(1+dM);
i$[i1+2]=(1+ku)*(1+dM)}}n={type:a.sJ,akf:i$}}if(I=="blwh"){var fb="Rd Yllw Grn Cyn Bl Mgnt".split(" "),n=[],dX=0,il=0;
for(var Y=0;Y<6;Y++)n.push(k[fb[Y]].v);n.push(k.useTint.v,k.tintColor.v);var j$=[];for(var Y=0;Y<6;Y++)j$.push((n[Y]-50)/50);
var e0=j.G.GW(n[7]);e0.$/=255;e0.H/=255;e0.J/=255;var ff=j.zH(e0.$,e0.H,e0.J),b0=j.BZ(j.No(ff.L4,1,.5)),dm=ff.Yl*ff.B9;
if(b0==.5)dX=il=.5;else{dX=dm*(.5-b0)/(.5/b0-1);il=1-dm*(.5-b0)-1/(2*(1-b0));il/=1-1/(2*(1-b0))}n={type:a.TF,awI:j$,C0:n[6]?1:0,ani:ff.L4,BZ:b0,ajQ:dm,dM:dX,amM:il}}if(I=="blnc"){var p=[],j1=["ShdL","MdtL","HghL"];
for(var Y=0;Y<3;Y++){if(k[j1[Y]]==null){p[Y]=[0,0,0];continue}var iv=k[j1[Y]].v,c5=iv[0].v/100,iE=iv[1].v/100,f6=iv[2].v/100,fP=k.PrsL==null||k.PrsL.v?(Math.min(c5,iE,f6)+Math.max(c5,iE,f6))/2:0;
p[Y]=[c5-fP,iE-fP,f6-fP]}var J=[j.U(256),j.U(256),j.U(256)];for(var N=0;N<3;N++)for(var Y=0;Y<256;Y++){var G=Y*(1/255),iQ=0,e=0,j8=0;
e=p[2][N];j8=Math.abs(e);if(e<0)iQ=Math.pow(G,Math.SQRT2);else iQ=1.63*(Math.pow(G+.04,.5)-.2);G=j8*iQ+(1-j8)*G;
e=p[1][N];j8=Math.abs(e);if(e<0)iQ=Math.pow(G,2);else iQ=Math.min(2.35*(Math.pow(G+.09,.5)-.3),Math.pow(G,1/2));
G=j8*iQ+(1-j8)*G;e=p[0][N];j8=Math.abs(e);if(e<0)iQ=G<.4?0:Math.pow((G-.4)/.6,Math.SQRT2);else iQ=Math.pow(G,Math.SQRT2/2);
G=j8*iQ+(1-j8)*G;G=Math.max(0,Math.min(1,G));J[N][Y]=Math.round(G*255)}n={type:a.sc,gG:J[0],NQ:J[1],nY:J[2],cX:!1,NI:!1}}if(I=="phfl"){var bs=j.G.GW(k.Clr.v),e6=[bs.$/255,bs.H/255,bs.J/255],c$=k.Dnst.v/100,J=[j.U(256),j.U(256),j.U(256)];
for(var N=0;N<3;N++)for(var Y=0;Y<256;Y++){var G=Y*(1/255),ba=G*e6[N];ba=Math.max(0,Math.min(1,ba));
G=c$*ba+(1-c$)*G;J[N][Y]=Math.round(G*255)}n={type:a.sc,gG:J[0],NQ:J[1],nY:J[2],cX:!1,NI:k.PrsL.v}}if(I=="thrs"){var z=j.U(256);
for(var Y=k.Lvl.v;Y<256;Y++)z[Y]=255;n={type:a.sc,gG:z,NQ:z,nY:z,cX:!0,NI:!1}}if(I=="mixr"){var jc=fo.Am(k),d=[];
for(var Y=0;Y<jc.P.length;Y++)if(Y%5!=3)d.push(jc.P[Y]/100);if(jc.mC){for(var aC=1;aC<3;aC++)for(var G=0;
G<4;G++)d[aC*4+G]=d[G]}n={type:a.RY,Ce:d}}if(I=="rplc"){var eQ=k.Mnm.v,b2=k.Mxm.v;n={type:a.Vq,T1:[eQ.Lmnc.v,eQ.A.v,eQ.B.v],Ad:[b2.Lmnc.v,b2.A.v,b2.B.v],shift:[k.H.v/360,k.Strt.v/100,k.Lght.v/100],wE:k.Fzns.v/150}}if(I=="clrL"&&k.profile){var dH=new Uint8Array(k.profile.v),gZ=ICC.R(dH.buffer),fq=[],fp=17,fq=ICC.U.sampleLUT(gZ,fp);
n={type:a.nT,b6:ICC.U.lutToRGBA8(fq,fp),a0c:fq,kO:fp}}return n};fo.X5=function(I,k){var a=-1;if(I!="levl"||k==null)a=-1;
else if(k.Auto)a=0;else if(k.AuCo)a=1;else if(k.autoBlackWhite)a=2;return a};fo.iI={sc:0,vk:1,OH:2,sJ:3,TF:4,RY:5,Vq:6,nT:7};
fo.$Q=function(I){if(I<0)return I;return Math.pow(Math.tan(Math.PI/2*I),1.3)};fo.ac3=function(I){if(I<0)return I;
I=Math.pow(I,1/1.3);return Math.atan2(I,1)/(Math.PI/2)};fo.uq=function(I,k,a,n){var s=fo.iI,C=Date.now();
if(dZ.QV&&n.c()>300*300&&I.type!=s.sc&&I.type!=s.nT){n=n.clone();n.x=n.y=0;var T=dZ.Ec(0,n.Q,n._);T.set(k);
dZ.FL(T,n);T.kv(n);fo.bl(I,T.kC,n);T.get(a);return}if(I.type==s.nT){var S=I.a0c,D=I.kO;ICC.U.applyLUT(S,D,k,a);
var o=k.length;for(var Y=0;Y<o;Y+=4)a[Y+3]=k[Y+3]}if(I.type==s.RY)j.LT.asX(k,a,I.Ce);if(I.type==s.TF){var v=I.ajQ,g=I.BZ,d=I.dM,R=I.amM,o=k.length;
for(var Y=0;Y<o;Y+=4){var n=k[Y]*(1/255),c=k[Y+1]*(1/255),e=k[Y+2]*(1/255),O=j.LG(n,c,e),U=0;for(var K=0;
K<6;K++)U+=Math.min(1,1.7*(1-O.El))*O.Yl*I.awI[K]*fo.a0N(O.L4,K*(1/6));var _=Math.max(0,Math.min(1,O.El*(1+U)));
if(I.C0==1){var Z=0;if(_<d)Z=_*(.5/g);else if(_<R)Z=_+v*(.5-g);else Z=1-(1-_)*.5/(1-g);O.L4=I.ani;O.Yl=Math.min(1,v+3*v*Math.abs(_-.5*(d+R)));
O.El=Z}else{O.L4=0;O.Yl=0;O.El=_}var H=j.No(O.L4,O.Yl,O.El);a[Y]=Math.round(H.$*255);a[Y+1]=Math.round(H.H*255);
a[Y+2]=Math.round(H.J*255)}}if(I.type==s.sJ){var G=I.akf,o=k.length,N=1/255;for(var Y=0;Y<o;Y+=4){var n=k[Y]*N,c=k[Y+1]*N,e=k[Y+2]*N,O=j.LG(n,c,e),z=Math.max(n,Math.max(c,e)),L=Math.min(n,Math.min(c,e)),p=1-n,V=1-c,r=1-e,y=0,W=0,m=0;
for(var K=0;K<9;K++){var f=K*6,w=0;if(G[f]==1&&G[f+1]==1&&G[f+2]==1&&G[f+3]==0&&G[f+4]==0&&G[f+5]==0)continue;
var h=p*G[f]+G[f+3],b=V*G[f+1]+G[f+4],i=r*G[f+2]+G[f+5];if(K<6)w=fo.a0N(O.L4,K*(1/6))*O.Yl*2*Math.min(O.El,1-O.El);
else if(K==6)w=Math.max(0,L-.5)*2;else if(K==7)w=1-(Math.abs(z-.5)+Math.abs(L-.5));else w=Math.max(0,.5-z)*2;
y+=(Math.max(0,Math.min(1,h))-p)*w;W+=(Math.max(0,Math.min(1,b))-V)*w;m+=(Math.max(0,Math.min(1,i))-r)*w}p=Math.max(0,Math.min(1,p+y));
V=Math.max(0,Math.min(1,V+W));r=Math.max(0,Math.min(1,r+m));n=1-p;c=1-V;e=1-r;a[Y]=Math.round(n*255);
a[Y+1]=Math.round(c*255);a[Y+2]=Math.round(e*255)}}if(I.type==s.sc){j.a7C(k,a,I.gG,I.NQ,I.nY,I.cX,I.NI)}if(I.type==s.vk){var J=new Uint32Array(k.buffer),q=new Uint32Array(a.buffer),o=J.length;
if(fo._o==null){fo._o=new Float64Array(256);for(var Y=0;Y<256;Y++)fo._o[Y]=fo.$Q(-1+2*Y/255)}var x=fo._o;
for(var Y=0;Y<o;Y++){var A=J[Y],n=(A&255)*(1/255),c=(A>>>8&255)*(1/255),e=(A>>>16&255)*(1/255),Q=A>>>24,B=Math.min(n,c,e),l=Math.max(n,c,e),P=0,F=0,t=0;
P=j.LG(n,c,e).L4;var b$=~~(P*255+.5),hd=I.acJ[b$]*(1/255),di=I.iU[b$]*(1/255)*2-1,hD=I.awh[b$]*(1/255)*2-1,U=-hD,a$=B;
if(0<hD){U=hD;a$=l}var eJ=I.ak2+I.Cs*U*a$,hY=I.Cs*(1-U);n=eJ+hY*n;c=eJ+hY*c;e=eJ+hY*e;l=Math.max(n,c,e);
B=Math.min(n,c,e);t=(l+B)*.5;if(l!=B){var ik=l-B;F=t>.5?ik/(2-(l+B)):ik/(l+B)}var fw=di;if(I.aku==0){di=x[Math.floor((1+di)*127.5)];
fw=Math.min(F*(1+di),1)}var H=j.No(hd,fw,t);n=H.$;c=H.H;e=H.J;q[Y]=Q<<24|e*255<<16|c*255<<8|n*255}}if(I.type==s.Vq){j.ed(k,a);
var J=new Uint32Array(k.buffer),q=new Uint32Array(a.buffer),o=J.length,jb=I.wE,cd=1/jb,dN={eI:I.T1[0],M:I.T1[1],J:I.T1[2]},kc={eI:I.Ad[0],M:I.Ad[1],J:I.Ad[2]};
for(var Y=0;Y<o;Y++){var A=J[Y],ck=A&255,b3=A>>>8&255,hL=A>>>16&255,n=ck*(1/255),c=b3*(1/255),e=hL*(1/255),Q=A>>>24,gS=j.r1(ck,b3,hL),jF=j.a3D(gS,dN,kc,jb,cd);
if(jF==0)continue;var O=j.LG(n,c,e),hd=2+O.L4+I.shift[0];O.L4=hd-~~hd;O.Yl=Math.max(0,Math.min(1,O.Yl+I.shift[1]));
O.El=Math.max(0,Math.min(1,O.El+I.shift[2]));var H=j.No(O.L4,O.Yl,O.El);n=(1-jF)*n+jF*H.$;c=(1-jF)*c+jF*H.H;
e=(1-jF)*e+jF*H.J;q[Y]=Q<<24|e*255<<16|c*255<<8|n*255}}if(I.type==s.OH){var J=new Uint32Array(k.buffer),q=new Uint32Array(a.buffer),o=J.length,kB=I.CU[0],jw=I.CU[1],iT=I.CU[2],U=I.CU[3],gY=j.LT.kM([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),aL=j.LT.Us(gY),dw=2.4;
function D(d1){return Math.max(0,Math.min(1,d1))}function ka(d1){return Math.pow(d1,dw)}function cy(d1){return Math.pow(d1,1/dw)}function jP(n,c,e,d1){n=ka(n);
c=ka(c);e=ka(e);var ag=j.LT.DW(gY,[n,c,e,1]);ag[0]*=iT;ag[1]*=U;ag[2]*=U;var H=j.LT.DW(aL,ag);H[0]=cy(D(H[0]));
H[1]=cy(D(H[1]));H[2]=cy(D(H[2]));return H}for(var Y=0;Y<o;Y++){var A=J[Y],n=(A&255)*(1/255),c=(A>>>8&255)*(1/255),e=(A>>>16&255)*(1/255),Q=A>>>24,H=jP(n,c,e,kB);
n=H[0];c=H[1];e=H[2];var aA=j.LG(n,c,e);aA.Yl=Math.max(0,Math.min(1,aA.Yl*(1+jw)));H=j.No(aA.L4,aA.Yl,aA.El);
n=H.$;c=H.H;e=H.J;q[Y]=Q<<24|e*255<<16|c*255<<8|n*255}}};fo.bl=function(I,k,a){dZ.g5.bl(I,k)};fo.a0N=function(I,k){var a=j.VR(k,I)*6;
return Math.max(0,Math.min(1,a<0?1+a:1-a))};var gJ={};gJ.Qa=function(I){var k=I.filterID.v;return k>16777215?u.afK(k):I.Fltr.v.classID};
gJ.jv=[{aG:"GEfc"},{aG:"LnCr"},{aG:"Adobe Camera Raw Filter"},{aG:"LqFy"},{aG:"VaPo",g6:!0},{Nt:"3D",rF:["lightFilterGradient","Dila"]},{Nt:[24,2],rF:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{Nt:[24,4],rF:"Dspl,Kale,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{Nt:[24,6],rF:["AdNs","Dspc","DstS","Mdn ","denoise"]},{Nt:[24,8],rF:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{Nt:[24,10],rF:["Flam","Clds","DfrC","Fbrs","LnsF"]},{Nt:[24,12],rF:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{Nt:[24,14],rF:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{Nt:[24,16],rF:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr,Part".split(",")},{Nt:"Fourier",rF:["dDFT","iDFT"]}];
gJ.MC={LqFy:"LqFy",LnCr:"LnCr",GEfc:"GEfc","Adobe Camera Raw Filter":"Adobe Camera Raw Filter",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",Bokh:"Bokh",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Dspl:"displace",Kale:"Kale",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",ZgZg:"zigZag",AdNs:"addNoise",Dspc:"despeckle",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"crystallize",Frgm:"fragment",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"pointillize",Flam:"",Clds:"clouds",DfrC:"differenceClouds",Fbrs:"Fbrs",LnsF:"LnsF",Shrp:"sharpen",ShrE:"sharpenEdges",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask","Dfs ":"diffuse",Embs:"emboss",FndE:"findEdges",oilPaint:"oilPaint",Slrz:"solarize",TrcC:"traceContour","Wnd ":"wind",HghP:"highPass",HsbP:"HsbP","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset",Rept:"Rept",Ctoa:"Ctoa",Dthr:"Dthr",Part:"Part",dDFT:"dDFT",iDFT:"iDFT"};
gJ.xz={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM",Wave:"Wave",Displace:"Dspl",BrightnessContrast:"brit"};
gJ.L={rigidTransform:E.DV};gJ.names={lightFilterGradient:[24,17,8],rigidTransform:[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:[24,5,7],Kale:[24,5,8],AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:[24,7,4],ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Flam:[24,11,3],Fbrs:[24,11,4],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:[24,15,5],TrcC:[24,15,6],"Wnd ":[24,15,7],HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Ctoa:[24,17,6],Dthr:[12,23,3],Part:[24,17,7],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",defr:[2,13],Dila:"Texture Dilation",VaPo:"Vanishing Point",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]],"Adobe Camera Raw Filter":"Camera Raw"};
gJ.nI=function(I){var k=null;if(I=="GEfc")k={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:gr.nI("GlwE")}]}};
if(I=="LqFy"){var a={Qq:5,L4:5,map:new Float32Array(5*5*2)},n=new Uint8Array(fc.OM(a)),s=[];for(var Y=0;
Y<n.length;Y++)s.push(n[Y]);k={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:s}}}if(I=="rigidTransform"){k={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(I=="LnCr")k={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(I=="adaptCorrect")k={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(I=="Dfs ")k={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(I=="Fbrs")k={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(I=="Embs")k={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(I=="oilPaint")k={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(I=="TrcC")k={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(I=="Wnd ")k={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(I=="lightFilterGradient")k={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(I=="boxblur")k={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(I=="GsnB")k={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(I=="Bokh")k={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(I=="MtnB")k={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(I=="RdlB")k={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(I=="surfaceBlur")k={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(I=="denoise")k={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(I=="Dspl")k={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(I=="Pnch")k={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(I=="Plr ")k={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(I=="Rple")k={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(I=="Shr ")k={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(I=="Sphr")k={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(I=="Twrl")k={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(I=="Wave")k={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(I=="ZgZg")k={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(I=="AdNs")k={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(I=="DstS")k={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(I=="Mdn ")k={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(I=="ClrH")k={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(I=="Crst")k={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(I=="Mztn")k={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(I=="Msc ")k={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(I=="Pntl")k={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(I=="LnsF")k={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(I=="Dthr")k={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0},Mthd:{t:"long",v:1}};if(I=="Part")k={__name:"Dither",classID:"Part",Cont:{t:"long",v:10},Size:{t:"long",v:8},Dpth:{t:"long",v:100},Brgh:{t:"long",v:800},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:255,t:"doub"},Bl:{v:255,t:"doub"}}},Time:{t:"doub",v:0},Turb:{t:"long",v:0},Blnk:{t:"bool",v:!0},Fall:{t:"bool",v:!1},RndS:{t:"long",v:8438429}};
if(I=="Adobe Camera Raw Filter")k={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(I=="smartSharpen")k={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(I=="UnsM")k={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(I=="HghP")k={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(I=="HsbP")k={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(I=="Mxm ")k={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(I=="Mnm ")k={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(I=="Ofst")k={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(I=="Kale")k={__name:"Kaleidoscope",classID:"Kale",Mirr:{t:"long",v:6},MRot:{t:"long",v:0}};if(I=="Rept")k={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(I=="Flam")k={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(I=="Ctoa")k={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(I=="brit")k={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(I=="levl")k={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(I=="curv")k={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(I=="expA")k={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(I=="vibA")k={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(I=="hue2")k={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(I=="blnc")k={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(I=="blwh")k={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(I=="phfl")k={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(I=="grdm")k={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(fY.iH[6]).Grad};
if(I=="selc")k={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(I=="thrs")k={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(I=="mixr")k={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Mnch:{t:"bool",v:!1},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(I=="clrL")k={__name:"Color Lookup",classID:"colorLookup"};if(I=="post")k={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(I=="rplc")k={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(I=="fade")k={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(I=="aply")k={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(I=="matc"){k={__name:"Match Color",classID:"matchColor",Lght:{t:"long",v:100},ClrR:{t:"long",v:100},Fade:{t:"long",v:0},fsel:{t:"bool",v:!0},neutralizeColor:{t:"bool",v:!1},noReference:{t:"bool",v:!0}}}if(I=="Dila")k={__name:"Texture Dilation",classID:"Dila",Crop:{t:"UntF",v:{type:"#Pxl",val:0}},Rds:{t:"UntF",v:{type:"#Pxl",val:10}}};
if(I=="blendOptions")k={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return k};gJ.P7={sFlam:function(I,k){k[0]=I.Type.v;k[1]=I.Leng.v;k[2]=I.RndL.v;k[3]=I.Widt.v;k[4]=I.Angl.v;
k[5]=I.Intr.v;k[6]=I.Adpt.v;k[7]=I.Clr.v;k[8]=I.Qual.v;k[9]=I.Turb.v;k[10]=I.Jag.v;k[11]=I.Opct.v.val;
k[12]=I.Lins.v;k[13]=I.Botm.v;k[14]=I.Styl.v;k[15]=I.Shap.v;k[16]=I.RnSh.v;k[17]=I.Arng.v},gFlam:function(I,k){I.Type.v=k[0];
I.Leng.v=k[1];I.RndL.v=k[2];I.Widt.v=k[3];I.Angl.v=k[4];I.Intr.v=k[5];I.Adpt.v=k[6];I.Clr.v=k[7];I.Qual.v=k[8];
I.Turb.v=k[9];I.Jag.v=k[10];I.Opct.v.val=k[11];I.Lins.v=k[12];I.Botm.v=k[13];I.Styl.v=k[14];I.Shap.v=k[15];
I.RnSh.v=k[16];I.Arng.v=k[17]},sAdNs:function(I,k){k[0]=I.Nose.v.val;k[1]=["Gsn","Unfr"].indexOf(I.Dstr.v.Dstr);
k[2]=I.Mnch.v},gAdNs:function(I,k){I.Nose.v.val=k[0];I.Dstr.v.Dstr=["Gsn","Unfr"][k[1]];I.Mnch.v=k[2]},sDstS:function(I,k){k[0]=I.Rds.v;
k[1]=I.Thsh.v},gDstS:function(I,k){I.Rds.v=k[0];I.Thsh.v=k[1]},sGsnB:function(I,k){k[0]=I.Rds.v.val},gGsnB:function(I,k){I.Rds.v.val=k[0]},sDila:function(I,k){k[0]=I.Crop.v.val;
k[1]=I.Rds.v.val},gDila:function(I,k){I.Crop.v.val=k[0];I.Rds.v.val=k[1]},sHghP:function(I,k){k[0]=I.Rds.v.val},gHghP:function(I,k){I.Rds.v.val=k[0]},sHsbP:function(I,k){var a=["RGBC","HSBl","HSLC"];
k[0]=a.indexOf(I.Inpt.v.ClrS);k[1]=a.indexOf(I.Otpt.v.ClrS)},gHsbP:function(I,k){var a=["RGBC","HSBl","HSLC"];
I.Inpt.v.ClrS=a[k[0]];I.Otpt.v.ClrS=a[k[1]]},"sMxm ":function(I,k){var a="preserveShape";k[0]=I.Rds.v.val;
k[1]=I[a]?["squareness","Rndn"].indexOf(I[a].v[a]):0},"gMxm ":function(I,k){var a="preserveShape";I.Rds.v.val=k[0];
I[a]={t:"enum",v:{preserveShape:["squareness","Rndn"][k[1]]}}},"sMnm ":function(I,k){var a="preserveShape";
k[0]=I.Rds.v.val;k[1]=I[a]?["squareness","Rndn"].indexOf(I[a].v[a]):0},"gMnm ":function(I,k){var a="preserveShape";
I.Rds.v.val=k[0];I[a]={t:"enum",v:{preserveShape:["squareness","Rndn"][k[1]]}}},sMtnB:function(I,k){k[0]=[I.Angl.v];
k[1]=I.Dstn.v.val;console.log(k)},gMtnB:function(I,k){I.Angl.v=typeof k[0]=="number"?k[0]:k[0][0];I.Dstn.v.val=k[1]},sOfst:function(I,k){k[0]=I.Hrzn.v;
k[1]=I.Vrtc.v;k[2]=["Rpt","Bckg","Wrp"].indexOf(I.Fl.v.FlMd)},gOfst:function(I,k){I.Hrzn.v=k[0];I.Vrtc.v=k[1];
I.Fl.v.FlMd=["Rpt","Bckg","Wrp"][k[2]]},sPnch:function(I,k){k[0]=I.Amnt.v},gPnch:function(I,k){I.Amnt.v=k[0]},"sPlr ":function(I,k){k[0]=["RctP","PlrR"].indexOf(I.Cnvr.v.Cnvr)},"gPlr ":function(I,k){I.Cnvr.v.Cnvr=["RctP","PlrR"][k[0]]},sRple:function(I,k){k[0]=I.Amnt.v;
k[1]=["Sml","Mdm","Lrg"].indexOf(I.RplS.v.RplS)},gRple:function(I,k){I.Amnt.v=k[0];I.RplS.v.RplS=["Sml","Mdm","Lrg"][k[1]]},sTwrl:function(I,k){k[0]=I.Angl.v},gTwrl:function(I,k){I.Angl.v=k[0]},sZgZg:function(I,k){k[0]=I.Amnt.v;
k[1]=I.NmbR.v;k[2]=["ArnC","OtFr","PndR"].indexOf(I.ZZTy.v.ZZTy)},gZgZg:function(I,k){I.Amnt.v=k[0];
I.NmbR.v=k[1];I.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][k[2]]},sUnsM:function(I,k){k[0]=I.Amnt.v.val;k[1]=I.Rds.v.val;
k[2]=I.Thsh.v},gUnsM:function(I,k){I.Amnt.v.val=k[0];I.Rds.v.val=k[1];I.Thsh.v=k[2]},sWave:function(I,k){k[0]=I.NmbG.v;
k[1]=I.WLMn.v;k[2]=I.WLMx.v;k[3]=I.AmMn.v;k[4]=I.AmMx.v;k[5]=I.SclH.v;k[6]=I.SclV.v;k[7]=["WvSn","WvTr","WvSq"].indexOf(I.Wvtp.v.Wvtp);
k[8]=["WrpA","RptE"].indexOf(I.UndA.v.UndA);k[9]=I.RndS.v},gWave:function(I,k){I.NmbG.v=k[0];I.WLMn.v=k[1];
I.WLMx.v=k[2];I.AmMn.v=k[3];I.AmMx.v=k[4];I.SclH.v=k[5];I.SclV.v=k[6];I.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][k[7]];
I.UndA.v.UndA=["WrpA","RptE"][k[8]];if(k[9]!=null){var a=parseInt(k[9]);if(isNaN(a))a=248325464;a=Math.max(0,Math.min(268435455,a));
I.RndS.v=a}},sDspl:function(I,k){k[0]=I.HrzS.v;k[1]=I.VrtS.v;k[2]=0;k[3]=["WrpA","RptE"].indexOf(I.UndA.v.UndA)},gDspl:function(I,k){I.HrzS.v=k[0];
I.VrtS.v=k[1];I.UndA.v.UndA=["WrpA","RptE"][k[3]];I.DspF.v.pth=k[4]},sbrit:function(I,k){k[0]=I.Brgh?I.Brgh.v:0;
k[1]=I.Cntr?I.Cntr.v:0;k[2]=I.useLegacy?I.useLegacy.v:!1},gbrit:function(I,k){I.Brgh.v=k[0];I.Cntr.v=k[1];
if(k[2]!=null)I.useLegacy.v=k[2]}};gJ.apS=function(I){var k=new kK(0,0);if(I.enab.v==!1)return k;var a=I.filterFXList.v;
for(var Y=0;Y<a.length;Y++){var n=a[Y].v;if(n.enab.v==!1)continue;var s=gJ.Qa(n),C=gJ.iw(s,n.Fltr?n.Fltr.v:null);
if(C.x>k.x)k.x=C.x;if(C.y>k.y)k.y=C.y}return k};gJ.iw=function(I,k){var a=0,n=0;if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(I)!=-1){var s=k.Rds?k.Rds.v.val:1;
a=n=s*2.57}if(I=="MtnB")a=n=k.Dstn.v.val;if("Dila,Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,Frgm,Flam".split(",").indexOf(I)!=-1){a=n=1e4}if(I=="GEfc")return gr.iw(k);
return new kK(Math.ceil(a),Math.ceil(n))};gJ.mA=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
gJ._b=function(I,k){var a={$:k.MW>>16,H:k.MW>>8&255,J:k.MW&255},n={$:k.U2>>16,H:k.U2>>8&255,J:k.U2&255},s=gJ.names[I];
if(s==null)s=fo.names[I];var C=I;for(var T in fo.ke)if(fo.ke[T]==I)C=T;var S={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:hJ.get(s)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:j.G.pI(a)},BckC:{t:"Objc",v:j.G.pI(n)},filterID:{t:"long",v:C.length==4?u.a8q(C):777}}},D=gJ.nI(I);
if(D)S.v.Fltr={t:"Objc",v:D};return S};gJ.iW=function(I,k,a,n){var s=Date.now(),C=dZ.QV&&Math.max(n.Q,n._)<=dZ.hp.getParameter(dZ.hp.MAX_TEXTURE_SIZE);
if(I<1){var T=Math.round(I*5),S=[1,2,1,2,[40,26,13,6,4,2][T],2,1,2,1];S=j.Qz.TT(S);if(!C){j.A7(a);var D=a.slice(0);
j.Qz.Lp(D,a,n.Q,n._,S,255);j.tZ(a)}else{var o=n.Q,v=n._,g=dZ.Ec(0,o,v);g.set(a);var d=dZ.Ec(1,o,v),R=new Float32Array([1/o,1/v]);
dZ.FL(d);dZ.filter.bl({type:dZ.filter.a2H,JL:R,a8U:new Float32Array(S)},g.e9);d.get(a)}}else{var c=k==j.ox.Dl?0:k==j.ox.PB?1:2,e=[];
while(c!=2&&I*[1,2.4][c]>20&&e.length<4){var O=j.tR(a,n);e.push(a,n);a=O.GG;n=O.rect;I/=2}var o=n.Q,v=n._;
if(!C||c==2&&I>15){j.A7(a);k(a,n,I);j.tZ(a)}else{var g=dZ.Ec(0,o,v);g.set(a);var d=dZ.Ec(1,o,v),R=new Float32Array([1/o,1/v]);
if(c==0){var U=1;while(U<I)U<<=1;dZ.FL(d);dZ.filter.bl({type:dZ.filter.ex,JL:R,xN:I,sw:[0,0,U]},g.e9);
dZ.FL(g);dZ.filter.bl({type:dZ.filter.ex,JL:R,xN:I,sw:[0,1,U]},d.e9);g.get(a)}else if(c==1){var K=3,_=j.ox.x_(I,K);
for(var Y=0;Y<K;Y++){var Z=_[Y]>>>1,H=1;while(H<Z)H<<=1;if(Z==0)continue;dZ.FL(d);dZ.filter.bl({type:dZ.filter.ex,JL:R,xN:Z,sw:[0,0,H]},g.e9);
dZ.FL(g);dZ.filter.bl({type:dZ.filter.ex,JL:R,xN:Z,sw:[0,1,H]},d.e9)}g.get(a)}else{var U=1;while(U<I)U<<=1;
dZ.FL(d);dZ.filter.bl({type:dZ.filter.ex,JL:R,xN:I,sw:[0,0,U]},g.e9);d.get(a)}}var G=Date.now();while(e.length!=0){var N=e.pop(),z=e.pop();
j.scale.a84(a,n.Q,n._,z,N.Q,N._);a=z;n=N}}};gJ.aDn=function(I,k,a,n){for(var Y=0;Y<I.length;Y++){a[Y]=I[Y]*(1/255);
n[Y]=0}FFT.fft2d(a,n);var s=k>>>1,C=16384,T=128,D=100;while(T<k){T<<=1;C<<=2}var S=255/Math.log(C),o=-100;
for(var v=0;v<k;v++)for(var g=0;g<s;g++){var d=k+s+v&k-1,R=a[d*k+g],c=n[d*k+g],e=Math.sqrt(R*R+c*c),O=Math.atan2(c,R);
I[v*k+g]=Math.round(S*Math.log(e+1));I[v*k+s+g]=Math.round((Math.PI+O)*(255*.5/Math.PI))}};gJ.ass=function(I,k,a,n){a.fill(0);
n.fill(0);var s=k>>>1,C=16384,T=128;while(T<k){T<<=1;C<<=2}var S=255/Math.log(C),D=[],o=[],v=[];for(var Y=0;
Y<256;Y++){D[Y]=Math.exp(Y/S)-1;var g=Y*(2*Math.PI/255)-Math.PI;o[Y]=Math.sin(g);v[Y]=Math.cos(g)}for(var d=0;
d<k;d++)for(var R=0;R<s;R++){var c=k+s+d&k-1,e=D[I[d*k+R]],g=I[d*k+s+R],O=e*v[g],U=e*o[g];a[c*k+R]=O;
n[c*k+R]=U;if(R!=0){var K=c==0?c*k+k-R:(k-c)*k+(k-R);a[K]=O;n[K]=-U}}FFT.ifft2d(a,n);for(var Y=0;Y<I.length;
Y++){I[Y]=Math.max(0,Math.min(255,~~(.5+255*a[Y])))}};gJ.alO=new ArrayBuffer(512);gJ.adD=function(I){var k=gJ.alO,a=I.length;
if(k.byteLength<a)gJ.alO=k=new ArrayBuffer(a);var n=new Uint8Array(k);for(var Y=0;Y<a;Y+=4){n[Y]=I[Y];
n[Y+1]=I[Y+1];n[Y+2]=I[Y+2];n[Y+3]=I[Y+3]}return k};gJ.uq=function(I,k,a,n,s,C,T){if(C==null)C={buffer:j.U(k.buffer.length),rect:k.rect.clone()};
C.buffer.set(k.buffer);var S=a&&a.RndS?a.RndS.v>>>1:0;if(I=="GEfc"){var D=[];if(a.GEfs){var o=a.GEfs.v;
for(var Y=0;Y<o.length;Y++){var v=o[Y].v;if(v.GELv&&v.GELv.v==!1)continue;D.push(v)}}else D=[a];for(var Y=0;
Y<D.length;Y++){var g;if(Y==0)gr.uq(I,k,D[Y],n,s,C,T);else{if(g==null)g={buffer:j.U(k.buffer.length),rect:k.rect.clone()};
j.ed(C.buffer,g.buffer);gr.uq(I,g,D[Y],n,s,C,T)}}}if(I=="Dila"){var d=a.Crop.v.val,R=a.Rds.v.val+d;R=R*R;
if(R==0)return;var c=k.rect,e=c.Q,O=c._,U=e*O,K=k.buffer,g=C.buffer,_=j.U(U);j.Ez(K,_,3);if(d!=0){var Z=c.clone();
Z.CJ(1,1);var H=j.U(Z.c());j.O0(_,c,H,Z);j.Us(H);j.style.stroke(H,H,Z,d);j.Us(H);j.O0(H,Z,_,c)}var G=j.style.Xv(_,e,O);
g.fill(0);for(var N=0;N<O;N++)for(var z=0;z<e;z++){var Y=N*e+z,L=Y<<1,p=Y<<2,V=G[L],r=G[L+1];if(V*V+r*r<R){var y=(N+r)*e+(z+V)<<2;
g[p]=K[y];g[p+1]=K[y+1];g[p+2]=K[y+2];g[p+3]=255}}}if(I=="Adobe Camera Raw Filter"){var c=k.rect,e=c.Q,O=c._,U=e*O,W=U*4,m=U*3,f=new Float32Array(e*O*3),h=k.buffer;
for(var Y=0;Y<U;Y++){var b=Y*3,p=Y*4;f[b]=h[p]*(1/255);f[b+1]=h[p+1]*(1/255);f[b+2]=h[p+2]*(1/255)}var i=JSON.parse(JSON.stringify(a));
delete i.Upri;delete i.GuUr;var w=f.slice(0);gU(f,e,O,w,i);f=w;h=C.buffer;for(var Y=0;Y<U;Y++){var b=Y*3,p=Y*4;
h[p]=255*Math.max(0,Math.min(1,f[b]));h[p+1]=255*Math.max(0,Math.min(1,f[b+1]));h[p+2]=255*Math.max(0,Math.min(1,f[b+2]))}}if(I=="Fct "){var c=k.rect,e=c.Q,O=c._,U=e*O,W=U*4;
function J(i3){var aL=i3.slice(0);for(var N=0;N<3;N++)for(var z=0;z<3;z++)aL[N*3+z]=i3[(2-z)*3+N];return aL}function q(gw,al,dj,h$){var ec=0;
for(var N=0;N<3;N++)for(var z=0;z<3;z++)ec+=al[N*3+z]*gw[(h$-1+N)*e+dj-1+z];return ec}var x=[8,5,2,5,2,-1,2,-1,-4],A=[5,5,5,2,2,2,-1,-1,-1],Q=[2,2,2,2,2,2,2,2,2],B=[];
B.push(x);for(var Y=0;Y<3;Y++)B.push(J(B[B.length-1]));B.push(A);for(var Y=0;Y<3;Y++)B.push(J(B[B.length-1]));
B.push(Q);for(var Y=0;Y<9;Y++)B[Y]=j.Qz.TT(B[Y]);var l=[-e-1,-e,-e+1,-1,0,1,e-1,e,e+1],P=[-1,-1,0,-1,1,-1,-1,0,0,0,1,0,-1,1,0,1,1,1],F=j.U(U),t=new Float32Array(U),w=j.U(U);
for(var hd=0;hd<3;hd++){j.Ez(k.buffer,F,hd);for(var di=0;di<1;di++){for(var N=1;N<O-1;N++)for(var z=1;
z<e-1;z++){var hD=N*e+z,a$=F[hD];t[hD]=1e9;for(var Y=0;Y<9;Y++){var eJ=q(F,B[Y],z,N),hY=(eJ-a$)*(eJ-a$);
if(hY<t[hD])t[hD]=hY}}for(var N=1;N<O-1;N++)for(var z=1;z<e-1;z++){var ik=0,fw=1e9;for(var Y=0;Y<9;Y++){var jb=N*e+z+l[Y],hY=t[jb];
if(hY<fw){fw=hY;ik=F[jb]}}w[N*e+z]=ik}F.set(w)}j.yv(w,C.buffer,hd)}}if(I=="adaptCorrect"){var c=k.rect,e=c.Q,O=c._,U=e*O,W=U*4,cd=a.sdwM.v,dN=cd.Amnt.v.val/100,kc=cd.Wdth.v.val/100,ck=cd.Rds.v,b3=a.hglM.v,hL=b3.Amnt.v.val/100,gS=b3.Wdth.v.val/100,jF=b3.Rds.v;
j.a1H.CH(k.buffer,C.buffer,e,O,dN,kc,ck,hL,gS,jF,a.ClrC.v/100,a.Cntr.v/100)}if(I=="denoise"){var c=k.rect,e=c.Q,O=c._,kB=a.channelDenoise.v[0].v;
j.auX.aot(k.buffer,e,O,C.buffer,kB.Amnt.v/10,kB.EdgF.v/100)}if(I=="HsbP"){var jw=a.Inpt.v.ClrS,iT=a.Otpt.v.ClrS,c=k.rect,e=c.Q,O=c._,U=e*O;
for(var Y=0;Y<U;Y++){var p=Y*4,di=k.buffer[p]*(1/255),gY=k.buffer[p+1]*(1/255),aL=k.buffer[p+2]*(1/255);
if(jw=="RGBC"){}else if(jw=="HSLC"){var w=j.No(di,gY,aL);di=w.$;gY=w.H;aL=w.J}else if(jw=="HSBl"){var w=j.a7V(di,gY,aL);
di=w.$;gY=w.H;aL=w.J}var dw=di,ka=gY,cy=aL;if(iT=="RGBC"){}else if(iT=="HSLC"){var w=j.LG(di,gY,aL);
dw=w.L4;ka=w.Yl;cy=w.El}else if(iT=="HSBl"){var w=j.arb(di,gY,aL);dw=w.L4;ka=w.Yl;cy=w.J}C.buffer[p]=~~(255*dw);
C.buffer[p+1]=~~(255*ka);C.buffer[p+2]=~~(255*cy)}}if(I=="Fbrs"){var c=k.rect,e=c.Q,O=c._;j.g.ai_(k.buffer,e,O,C.buffer,[a.Vrnc.v,a.Strg.v,S]);
var jP=j.U(e*O);j.Ez(C.buffer,jP,0);j.Us(jP);gr.wR(jP,C.buffer,n,s)}if(I=="Frgm"){var c=k.rect,e=c.Q,O=c._,aA=k.buffer.slice(0);
j.A7(aA);j.g.a06(aA,e,O,C.buffer);j.tZ(C.buffer)}if(I=="Flam"){var c=k.rect,e=c.Q,O=c._,d1=a.Clr.v,ag={type:a.Type.v+1,length:a.Leng.v,ase:a.RndL.v,KR:a.Widt.v,azB:a.Angl.v,av3:a.Intr.v,aEP:a.Adpt.v,color:{$:d1.Rd.v,H:d1.Grn.v,J:d1.Bl.v},ZH:a.Qual.v+1,i8:a.Turb.v,Yu:a.Jag.v,opacity:a.Opct.v.val,Pk:a.Lins.v,a8z:a.Botm.v,style:a.Styl.v+1,shape:a.Shap.v+1,asT:a.RnSh.v,aaj:a.Arng.v,aBD:!1},b0=T[3],kx=b0[0],br=b0[1],ft=kx[br.length!=0?br[0]:0];
if(ft==null){alert("Make a path first");return}var iv=ft.add.vmsk.d,k6=j.n.gZ(iv),ay=[];for(var y=0;
y<k6;y++){var eT=j.n.XN(iv,y),kD=iv[eT];if(kD.length<2)continue;var cP=[];ay.push(cP);var cU=kD.length-(kD.type==3?1:0);
for(var hD=0;hD<cU;hD++){var gu=iv[eT+1+hD],jd=hD==kD.length-1?iv[eT+1]:iv[eT+1+hD+1],i$=gu.A,hT=gu.zK,x=jd.VW,jk=jd.A,i1=Math.round(kK.f0(i$,jk)/5);
for(var aZ=0;aZ<i1;aZ++){var az=aZ/i1,hM=1-az,z=hM*hM*hM*i$.x+3*hM*hM*az*hT.x+3*hM*az*az*x.x+az*az*az*jk.x,N=hM*hM*hM*i$.y+3*hM*hM*az*hT.y+3*hM*az*az*x.y+az*az*az*jk.y;
cP.push(z,N)}}}var ku=[ay,ag],dM=Date.now(),fb=cK(ku);gc(k.buffer,e,O,C.buffer,fb,ku)}if(I=="Dfs "){var c=k.rect,e=c.Q,O=c._,j$=["Nrml","DrkO","LghO","anisotropic"].indexOf(a.Md.v.DfsM);
if(j$<3)j.g.alE(k.buffer,e,O,C.buffer,[j$]);else{var ku=[1.4,1.6,1,4,!1,2,[0,0,.001]],c=k.rect.clone();
c.x=c.y=0;j.M_.filter(k.buffer,c,C.buffer,ku)}}if(I=="TrcC"){var c=k.rect,e=c.Q,e0=e<<2,O=c._,ff=a.Lvl.v,dm=a.Edg.v.CntE=="Lwr",dX=k.buffer,il=C.buffer;
j.IP(il,16777215,4278190080);function j1(ee,gj){iE(ee,gj);iE(ee+1,gj+1);iE(ee+2,gj+2)}function c5(ee,gj){f6(ee,gj);
f6(ee+1,gj+1);f6(ee+2,gj+2)}function iE(ee,gj){var dw=dX[ee],ka=dX[gj];if(dw>=ff&&ka<ff)il[ee]=0;if(dw<ff&&ka>=ff)il[gj]=0}function f6(ee,gj){var dw=dX[ee],ka=dX[gj];
if(dw>ff&&ka<=ff)il[gj]=0;if(dw<=ff&&ka>ff)il[ee]=0}if(dm)for(var N=1;N<O;N++)for(var z=1;z<e;z++){var p=N*e+z<<2;
j1(p,p-4);j1(p,p-e0)}else for(var N=1;N<O;N++)for(var z=1;z<e;z++){var p=N*e+z<<2;c5(p,p-4);c5(p,p-e0)}}if(I=="Embs"){var c=k.rect,e=c.Q,O=c._,fP=-a.Angl.v*Math.PI/180,jE=a.Hght.v,iQ=a.Amnt.v/100;
jE/=2;var V=Math.cos(fP)*jE,r=Math.sin(fP)*jE,dX=k.buffer,il=C.buffer;il.fill(0);var j8=new Uint32Array(dX.buffer),w=new Uint8Array(4),bs=new Uint32Array(w.buffer);
for(var N=0;N<O;N++)for(var z=0;z<e;z++){var e6=0,c$=0,ba=0;if(0<=z+V&&z+V<e&&0<=N+r&&N+r<O){j.t.AR(z+V+.5,N+r+.5,j8,e,O,bs,0,0);
e6+=w[0]-128;c$+=w[1]-128;ba+=w[2]-128}if(0<=z-V&&z-V<e&&0<=N-r&&N-r<O){j.t.AR(z-V+.5,N-r+.5,j8,e,O,bs,0,0);
e6-=w[0]-128;c$-=w[1]-128;ba-=w[2]-128}var p=N*e+z<<2;il[p]=Math.max(0,Math.min(255,e6*iQ+128));il[p+1]=Math.max(0,Math.min(255,c$*iQ+128));
il[p+2]=Math.max(0,Math.min(255,ba*iQ+128));il[p+3]=dX[p+3]}}if(I=="ShrE"){var c=k.rect,e=c.Q,O=c._;
j.g.aoS(k.buffer,e,O,C.buffer)}if(I=="Dspc"){var c=k.rect,e=c.Q,O=c._;j.g.aoB(k.buffer,e,O,C.buffer)}if(I=="Slrz"){var jc=C.buffer,aC=128;
for(var Y=0;Y<jc.length;Y+=4){if(jc[Y]>aC)jc[Y]=255-jc[Y];if(jc[Y+1]>aC)jc[Y+1]=255-jc[Y+1];if(jc[Y+2]>aC)jc[Y+2]=255-jc[Y+2]}}if(I=="Wnd "){var c=k.rect,e=c.Q,O=c._,eQ=["Wnd","Blst","Stgr"],aR=a.WndM.v.WndM;
j.g.aw(k.buffer,e,O,C.buffer,[eQ.indexOf(aR),a.Drct.v.Drct!="Left"])}if(I=="Bokh"){var c=k.rect,e=c.Q,O=c._,U=e*O,W=U*4,b2=k.buffer.slice(0),dH=a.BkDi.v.BtDi,gZ=a.BkDc,fq=a.BkDs.v,e8=a.BkDp.v/255;
if(dH=="BeIn")e8=0;var fp=57*(.3+.7*((e+O)/2)/1750)*(a.BkIb.v/100)*(1+.2*Math.pow(e8,.1)),bQ=parseInt(a.BkIs.v.BtIs.slice(3)),cM=-a.BkIr.v*Math.PI/180,kL=[];
for(var Y=0;Y<8;Y++){var cQ=cM+Y*(Math.PI*2/bQ),fv=cM+(Y+1)*(Math.PI*2/bQ),bR=Math.cos(cQ),cI=Math.sin(cQ),dn=Math.cos(fv),bM=Math.sin(fv),aK=[0,0,0];
j.Ce.zI([[bR,cI,1,0],[dn,bM,1,0],[1,1,1,1]],aK);if(aK[2]>0){aK[0]*=-1;aK[1]*=-1;aK[2]*=-1}kL.push(aK[0],aK[1],aK[2],0)}if(dH=="BeIn"){j.IP(b2,0,16777215);
e8=1}else if(dH=="BeIt"&&gZ.v.BtDc=="BeCt"){}else{var ju;if(dH=="BeIt"&&gZ.v.BtDc=="BeCm")ju=T[1];else if(dH=="BeIa")ju=T[2][gZ.v];
if(ju==null){j.IP(b2,0,16777215)}else{var F;if(ju.rect.a$(c))F=ju.channel;else F=ju.tf(c);j.yv(F,b2,3)}}if(fq)for(var Y=0;
Y<W;Y+=4)b2[Y+3]=255-b2[Y+3];if(dZ.QV){var fD=b2,bD=e,aN=O,bk=1,d8=(a.BkSb.v==0||a.BkSt.v==255)&&dH=="BeIn";
if(!d8){var bc=0;for(var Y=0;Y<W;Y+=4)bc+=Math.abs(e8-b2[Y+3]*(1/255));bc=bc/U*fp;var bE=3.14*bc*bc*e*O/3e6;
if(bE>2e3){alert("too large radius");return}}while(d8&&3*(fp/bk)*(fp/bk)*e*O>500*2e3*2e3){var du=j.a7n(b2,new eZ(0,0,bD,aN));
b2=du.GG;bD=du.rect.Q;aN=du.rect._;bk*=2}var dM=Date.now(),K=dZ.Ec(0,bD,aN);K.set(b2);var kv=dZ.Ec(1,e,O);
dZ.FL(kv);dZ.filter.bl({type:dZ.filter.aiS,JL:new Float32Array([1/bD,1/aN]),aE4:e8,M0:fp/bk,a5T:new Float32Array([a.BkSb.v/100,a.BkSt.v/255]),aug:new Float32Array([a.BkNa.v/100,a.BkNt.v.BtNt=="BeNu"?0:1,a.BkNm.v?1:0]),am5:new Float32Array(kL.slice(0,16)),asx:new Float32Array(kL.slice(16))},K.e9);
kv.get(C.buffer);var cx=C.buffer;for(var Y=0;Y<W;Y+=4)cx[Y+3]=k.buffer[Y+3]}}if(I=="rigidTransform"){var dM=Date.now(),hn=gJ.adD,K=k.buffer.slice(0),gd=0,a4=0;
j.A7(K);var e=k.rect.Q,O=k.rect._,hy=a.puppetShapeList.v,dD=[],cV=[],eA=[],a5=[];for(var hD=0;hD<hy.length;
hD++){var c4=hy[hD].v,L=gd*2,b=a4*3,fX=c4.originalVertexArray.v.length>>>2,iw=c4.indexArray.v.length>>>2,cJ=new Float32Array(hn(c4.originalVertexArray.v));
for(var Y=0;Y<fX;Y++)dD[L+Y]=cJ[Y];var aV=new Float32Array(hn(c4.deformedVertexArray.v));for(var Y=0;
Y<fX;Y++)cV[L+Y]=aV[Y];var kO=new Uint32Array(hn(c4.indexArray.v));for(var Y=0;Y<iw;Y++)eA[b+Y]=gd+kO[Y];
var fa=[],fO=[],f3=c4.PnDp.v;for(var Y=0;Y<f3.length;Y++){fa.push(c4.pinVertexIndices.v[Y].v);fO.push(f3[Y].v)}var e5=j.IQ.a6v(cJ,kO,fa,fO);
for(var Y=0;Y<e5.length;Y++)a5[gd+Y]=e5[Y];gd+=fX>>>1;a4+=~~(iw/3)}var d6=new dc(1,0,0,1,-k.rect.x,-k.rect.y);
j.X.h(dD,d6,dD);j.X.h(cV,d6,cV);C.buffer.fill(0);j.IQ.Pz(K,e,O,C.buffer,e,O,dD,cV,a5,eA);j.tZ(C.buffer)}if(I=="lightFilterGradient"){function bl(i$){var al=1/Math.sqrt(i$[0]*i$[0]+i$[1]*i$[1]+i$[2]*i$[2]);
i$[0]*=al;i$[1]*=al;i$[2]*=al}var e=k.rect.Q,O=k.rect._,U=e*O,dM=Date.now(),ci=j.U(U),ka=.3,cy=.7;j.xD(C.buffer,ci);
var ho=j.U(U);j.ox.Xh(ci,ho,C.rect,16);var aD=j.U(U);j.ox.Xh(ci,aD,C.rect,8);var gT=ci,gz=new Float32Array(U),fN=a.Dtl.v,ax=fN[2].v,jH=fN[1].v,cs=fN[0].v,ec=a.Scl.v*40*a.textureScale.v/(ax+jH+cs);
ax*=ec;jH*=ec;cs*=ec;for(var Y=0;Y<U;Y++){var jp=ho[Y]*(1/255),fV=aD[Y]*(1/255),g6=gT[Y]*(1/255);g6=g6*g6;
gz[Y]=ax*jp+jH*fV+cs*g6}var h7=a.blur.v;if(h7!=0){j.ox.ZP(gz,C.rect,h7)}var cj=e-1,h2=O-1;for(var N=0;
N<O;N++)for(var z=0;z<e;z++){var Y=N*e+z,p=Y*4,eM=gz[Y],V=ka*(gz[Y+(z==cj?0:1)]-eM)+cy*(eM-gz[Y-(z==0?0:1)]),r=ka*(gz[Y+(N==h2?0:e)]-eM)+cy*(eM-gz[Y-(N==0?0:e)]),i$=[1,0,V],hT=[0,1,r];
bl(i$);bl(hT);var fv=i$[0],eG=i$[2],jT=hT[1],kb=hT[2],ev=-eG*jT,cL=-fv*kb,jN=fv*jT;C.buffer[p]=~~(127.5+ev*127.5);
C.buffer[p+1]=~~(127.5+cL*127.5);C.buffer[p+2]=~~(127.5+jN*127.5)}}if(I=="defr"){var e=k.rect.Q,O=k.rect._;
c9(k.buffer,e,O,C.buffer)}if(I=="dDFT"||I=="iDFT"){function gq(bQ){if(bQ==0)return 1;bQ--;bQ|=bQ>>1;
bQ|=bQ>>2;bQ|=bQ>>4;bQ|=bQ>>8;bQ|=bQ>>16;return bQ+1}var e=k.rect.Q,O=k.rect._,eC=gq(Math.max(e,O)),ij=eC>>>1,g8=new eZ(0,0,eC,eC),fm=new eZ(0,0,e,O);
fm.y=eC-O>>>1;var bJ=e>>>1,bW=new eZ(0,fm.y,bJ,O),gE=new j.$n(e*O);j.A0(k.buffer,gE);var fs=new Float64Array(eC*eC),ad=new Float64Array(eC*eC),F=j.U(eC*eC);
FFT.init(eC);var ch=[gE.$,gE.H,gE.J];for(var Y=0;Y<3;Y++){var iL=ch[Y];F.fill(0);if(I=="dDFT"){j.O0(iL,fm,F,g8);
gJ.aDn(F,eC,fs,ad);j.O0(F,g8,iL,fm,bW);bW.x+=bJ;g8.x-=ij-bJ;j.O0(F,g8,iL,fm,bW);bW.x-=bJ;g8.x+=ij-bJ}else{j.O0(iL,fm,F,g8,bW);
bW.x+=ij;fm.x+=ij-bJ;j.O0(iL,fm,F,g8,bW);bW.x-=ij;fm.x-=ij-bJ;gJ.ass(F,eC,fs,ad);j.O0(F,g8,iL,fm)}}j.we(gE,C.buffer)}if(I=="Avrg"){var hU=0,aE=0,f$=0,a0=0,jA=1;
for(var Y=0;Y<k.buffer.length;Y+=4){var _=k.buffer[Y+3];f$+=k.buffer[Y]*_;aE+=k.buffer[Y+1]*_;hU+=k.buffer[Y+2]*_;
a0+=_}var ap=1/a0;hU=Math.round(jA*(hU*ap)+(1-jA)*255);aE=Math.round(jA*(aE*ap)+(1-jA)*255);f$=Math.round(jA*(f$*ap)+(1-jA)*255);
j.IP(C.buffer,hU<<16|aE<<8|f$,4278190080)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(I)!=-1){var c_=a.Rds?a.Rds.v.val:1,fK=I=="boxblur"?j.ox.Dl:j.ox.PB;
gJ.iW(c_,fK,C.buffer,C.rect);if(I=="UnsM"||I=="smartSharpen"){var iQ=(a.Amnt?a.Amnt.v.val:200)/100,iV=0;
if(I=="UnsM")iV=a.Thsh.v;else iQ*=.75;for(var Y=0;Y<k.buffer.length;Y++){if((Y&3)==3){C.buffer[Y]=k.buffer[Y];
continue}var a$=k.buffer[Y],eJ=C.buffer[Y],cN=iQ*(a$-eJ);if(cN>0)cN=Math.max(0,cN-iV);else cN=Math.min(0,cN+iV);
C.buffer[Y]=Math.max(0,Math.min(255,a$+cN))}}if(I=="HghP")for(var Y=0;Y<k.buffer.length;Y++){if((Y&3)==3){C.buffer[Y]=k.buffer[Y];
continue}var a$=k.buffer[Y],eJ=C.buffer[Y];C.buffer[Y]=Math.max(0,Math.min(255,128+a$-eJ))}}if(I=="AdNs"){var hQ=new Uint8ClampedArray(C.buffer.buffer),em=255*a.Nose.v.val/100,ct;
if(a.Dstr.v.Dstr=="Gsn")ct=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else ct=function(){return Math.random()*2-1};for(var Y=0;Y<hQ.length;Y+=4){var di=hQ[Y],gY=hQ[Y+1],aL=hQ[Y+2],dS,gN,aw;
if(a.Mnch.v){dS=gN=aw=ct()}else{dS=ct();gN=ct();aw=ct()}di+=em*dS;gY+=em*gN;aL+=em*aw;hQ[Y]=di;hQ[Y+1]=gY;
hQ[Y+2]=aL}}var dM=Date.now();if(I=="Mdn "||I=="DstS"||I=="Mxm "||I=="Mnm "||I=="surfaceBlur"){var di=0,cE=a.Thsh,c4=0;
if(cE)cE=cE.v;else cE=0;if(I=="Mdn "||I=="Mxm "||I=="Mnm "||I=="surfaceBlur")di=a.Rds.v.val;else di=a.Rds.v;
var fE=10*Math.ceil(di/10),e=k.rect.Q,O=k.rect._,jg=["Mnm ","Mxm ","surfaceBlur"].indexOf(I),jv=(c4==0?1:.75)*[.73,.73,1.2][jg]*(e*O*Math.pow(fE*fE,1.05))/6022387,i8=.6*(e*O*Math.pow(di,1/2.6))/6500;
if(I=="Mxm "||I=="Mnm ")i8=e*O/13e3;var cl=a.preserveShape;if(cl&&cl.v.preserveShape=="Rndn")c4=1;if(dZ.QV&&jg!=-1&&(jv<i8||c4==1)&&jv<500){var K=dZ.Ec(0,e,O);
K.set(k.buffer);var g=dZ.Ec(1,e,O);dZ.FL(g);dZ.filter.bl({type:dZ.filter.agV,JL:new Float32Array([1/e,1/O]),M0:di,aqL:cE/255,sw:[c4,jg,fE]},K.e9);
g.get(C.buffer)}else if(I=="Mxm "||I=="Mnm "){var e=k.rect.Q,O=k.rect._;j.lb.ale(k.buffer,C.buffer,e,O,1+Math.floor(a.Rds.v.val)*2,I=="Mxm ")}else{di=Math.round(di);
j.yh.MB=.5;j.yh.ZE=cE;var fK=I=="surfaceBlur"?1:0;j.yh.ml(k.buffer,C.buffer,e,O,di,fK);if(I=="DstS")for(var Y=0;
Y<e*O*4;Y++){var c3=Math.abs(k.buffer[Y]-C.buffer[Y]);if(c3<=cE)C.buffer[Y]=k.buffer[Y]}}}if(I=="ClrH"){var bW=k.rect.clone(),is=0;
bW.x=bW.y=0;var di=a.Rds.v;di=di*Math.sqrt(2);var e=bW.Q,O=bW._,er=j.$P(e,O),h8=new Float32Array(256);
for(var Y=0;Y<256;Y++){var d1=Y/255,c_=Math.sqrt(d1*(1/Math.PI));if(c_>.5)c_=.5+Math.pow((c_-.5)/(.564-.5),1.35)*.2;
h8[Y]=di*c_}var gy=Math.floor(2*e/di),gR=Math.floor(2*O/di),cm=10-(di-54*Math.sqrt(2))*1.5,dL=[k.buffer,bW];
j.iz(dL);while(dL[is*2+1].Q>1.5*e/di)is++;var e6=dL[is*2+1],ba=dL[is*2],eN=j.U(e6.c()),bk=1/(1<<is),bD=e6.Q,aN=e6._,F=j.U(e*O);
for(var gw=0;gw<3;gw++){j.Ez(ba,eN,gw);j.Us(eN);var fP=Math.PI*a["Ang"+(gw+1)].v/180,iK=new dc;iK.translate(-e/2,-O/2);
iK.rotate(-fP);iK.translate(e/2,O/2);er.clearRect(0,0,e,O);for(var N=-(gR>>>2);N<gR;N++)for(var z=-(gy>>>2);
z<gy;z++){var he=iK.yt(new kK((z+.5)*di-cm,(N+.5)*di-cm)),ac=Math.max(0,Math.min(he.x*bk,bD-.51)),iI=Math.max(0,Math.min(he.y*bk,aN-.51)),U=~~j.t.F0(ac,iI,eN,bD,aN);
er.beginPath();er.arc(he.x,he.y,h8[U],0,2*Math.PI);er.fill()}var eR=er.getImageData(0,0,e,O);j.Ez(eR.data,F,3);
j.Us(F);j.yv(F,C.buffer,gw)}}if(I=="Crst"||I=="Pntl"){var e=k.rect.Q,O=k.rect._,fK=I=="Crst"?j.kc.aBk:j.kc.a86;
fK(k.buffer,e,O,C.buffer,a.ClSz.v,[Math.round(s.$),Math.round(s.H),Math.round(s.J)])}if(I=="Mztn"){var e=k.rect.Q,O=k.rect._,U=e*O,gE=new j.$n(U),dP=[gE.$,gE.H,gE.J];
j.A0(k.buffer,gE);var aR=a.MztT.v.MztT,dE={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[aR],dM=Date.now(),dp=[];
for(var Y=0;Y<U;Y++){dp[Y]=Math.random()}var U=e*O,aj=Math.round(U*dE[0]),jO=U-e-1;for(var Y=0;Y<aj;
Y++){var j5=Math.random(),eP=1;if(j5<.5){eP=e;j5*=2}else j5=2*(j5-.5);var ee=Math.floor(j5*jO),gj=ee+eP;
dp[ee]=dp[gj]}var hz=Math.round(e*dE[1]);for(var N=0;N<O;N++)for(var Y=0;Y<hz;Y++){var j5=j.z.dC(N*U+Y),ee=N*e+Math.floor(j5*(e-1));
dp[ee]=dp[ee+1]}var cg=new Float64Array(256);for(var Y=0;Y<256;Y++){var kE=Y/255,hq=2*(kE<.5?kE:1-kE);
hq=dE[2]+Math.pow(hq,dE[3])*(1-dE[2]);kE=kE<.5?hq*.5:1-hq*.5;cg[Y]=kE}for(var hd=0;hd<3;hd++){var F=dP[hd];
for(var N=0;N<O;N++){for(var z=0;z<e;z++){var Y=N*e+z,iy=F[Y],kE=cg[iy],j5=dp[Y];F[Y]=j5>kE?0:255}}}j.we(gE,C.buffer)}if(I=="Msc "){var k6=a.ClSz.v.val,e=k.rect.Q,O=k.rect._,co=Math.ceil(e/k6),hP=Math.ceil(O/k6),dA=j.U(co*hP*4);
j.scale.jj(k.buffer,e,O,dA,co,hP,1/k6);j.scale.jj(dA,co,hP,C.buffer,e,O,k6)}if(I=="Clds"||I=="DfrC"){var e=C.rect.Q,O=C.rect._,U=e*O,cq=j.U(U);
if(I=="Clds")j.IP(C.buffer,4278190080);var a8=j.U(256*4);for(var Y=0;Y<256;Y++){var p=Y<<2,i3=Y/255,kO=1-i3;
a8[p]=Math.round(i3*n.$+kO*s.$);a8[p+1]=Math.round(i3*n.H+kO*s.H);a8[p+2]=Math.round(i3*n.J+kO*s.J)}j.g.aCr(k.buffer,e,O,cq);
var ao=C.buffer;for(var Y=0;Y<U;Y++){var p=Y<<2,hd=cq[Y]<<2,di=a8[hd],gY=a8[hd+1],aL=a8[hd+2];if(I=="Clds"){ao[p]=di;
ao[p+1]=gY;ao[p+2]=aL}else{ao[p]=Math.abs(ao[4*Y]-di);ao[p+1]=Math.abs(ao[4*Y+1]-gY);ao[p+2]=Math.abs(ao[4*Y+2]-aL)}}}if(I=="LnsF"){var e=k.rect.Q,O=k.rect._,aR=["Zm","Nkn","Nkn1","PnVs"].indexOf(a.Lns.v.Lns),cZ=a.FlrC.v,h1=[Math.min(aR,2),a.Brgh.v/100,cZ.Hrzn.v,cZ.Vrtc.v],dM=Date.now();
j.aD6(k.buffer,e,O,C.buffer,h1)}var d9=["Blr ","BlrM","Shrp","ShrM"].indexOf(I);if(d9!=-1){var be=d9>1,e=k.rect.Q,O=k.rect._,kF=j.Qz.I$[d9],kf=k.buffer.slice(0);
if(!be)j.A7(kf);j.Qz.Lp(kf,C.buffer,e,O,kF,255,!1,be);if(!be)j.tZ(C.buffer)}if(I=="MtnB"){var jM=-a.Angl.v*Math.PI/180,ga=a.Dstn.v.val/2,dM=Date.now(),e=k.rect.Q,O=k.rect._,c=k.rect.clone();
c.x=c.y=0;if(dZ.QV){var dM=Date.now(),bf=C.buffer;bf.set(k.buffer);j.A7(bf);var ed=dZ.Ec(0,e,O);ed.set(bf);
var dX=j.U(4);dX[0]=Math.round(128+127*Math.cos(jM));dX[1]=Math.round(128+127*Math.sin(jM));new Uint32Array(bf.buffer).fill(new Uint32Array(dX.buffer)[0]);
var fx=dZ.Ec(1,e,O);fx.set(bf);dZ.FL(ed,c);ed.kv(c);dZ.filter.bl({type:dZ.filter.W0,v9:fx.e9,JL:new Float32Array([1/e,1/O]),a7e:ga/2,avy:1},ed.kC);
ed.get(bf);j.tZ(bf)}else{var d6=new dc;d6.rotate(jM);var w=E.nF.on([k.buffer,k.rect],d6,!1,null,!0);
gJ.iW(ga,j.ox.a63,w.buffer,w.rect);d6.Us();w=E.nF.on([w.buffer,w.rect],d6,!1,C.buffer.buffer,!0,C.rect)}console.log(Date.now()-dM)}if(I=="RdlB"){var e=k.rect.Q,O=k.rect._,iQ=a.Amnt.v,gl=a.BlrM.v.BlrM=="Zm",gw=a.Cntr.v,dj=gw.Hrzn.v,h$=gw.Vrtc.v,V=Math.max(dj,1-dj)*e,r=Math.max(h$,1-h$)*O,c_=Math.sqrt(V*V+r*r),e4=2*Math.PI*c_*1.5,ef=Math.round(e4),fy=Math.round(c_),bW=new eZ(0,0,ef,fy),db=j.U(ef*fy*4),hN=gl?4:1,d4=gl?.6:8*((e+O)/2)/1400,i9=.1,bk=1,gy=1;
j.t.a0j(k.buffer,e,O,db,ef,fy,dj,h$,hN,i9,bk,gy);var cX=gl?j.U(ef*fy*4):null;if(gl){j.t.wZ(db,cX,ef,fy);
var az=cX;cX=db;db=az;bW.Q=fy;bW._=ef}gJ.iW(d4*iQ,j.ox.a63,db,bW);if(gl){j.t.wZ(db,cX,fy,ef);var az=cX;
cX=db;db=az;bW.Q=ef;bW._=fy}j.t.an2(db,ef,fy,C.buffer,e,O,dj,h$,hN,i9,bk,gy)}if(I=="Plr "){var e=k.rect.Q,O=k.rect._;
if(a.Cnvr.v.Cnvr=="RctP")j.t.an2(k.buffer,e,O,C.buffer,e,O,.5,.5,1,0,2,e/O);else j.t.a0j(k.buffer,e,O,C.buffer,e,O,.5,.5,1,0,2,e/O)}if(I=="FndE"){var e=k.rect.Q,O=k.rect._;
j.Qz.a9u(k.buffer,C.buffer,e,O)}if(I=="oilPaint"){var fP=a.LghD.v*Math.PI/180,b8=[Math.cos(fP),Math.sin(fP),.001],ku=[a.stylization.v,a.cleanliness.v,a.brushScale.v,a.microBrush.v,a.lightingOn.v,a.specularity.v,b8],c=k.rect.clone();
c.x=c.y=0;j.M_.filter(k.buffer,c,C.buffer,ku)}if(I=="Ofst"){var e=k.rect.Q,O=k.rect._,gf=new Uint32Array(k.buffer.buffer),dU=new Uint32Array(C.buffer.buffer),bm=a.Hrzn.v,el=a.Vrtc.v,cn=a.Fl.v.FlMd;
j.IP(dU,0);if(cn=="Bckg"||cn=="Rpt"){var bW=k.rect.clone();bW.offset(bm,el);j.ao(gf,bW,dU,C.rect)}if(cn=="Rpt"){var bR,cI,dn,bM,gW;
bm=Math.max(-e,Math.min(e,bm));el=Math.max(-O,Math.min(O,el));bR=bm>0?bm:0;dn=bm>0?e:e+bm;cI=el>0?0:el+O;
bM=el>0?el:O;gW=el>0?0:e*(O-1);for(var N=cI;N<bM;N++)for(var z=bR;z<dn;z++)dU[N*e+z]=gf[gW+z-bm];bR=bm>0?0:e+bm;
dn=bm>0?bm:e;cI=el>0?el:0;bM=el>0?O:O+el;gW=bm>0?0:e-1;for(var N=cI;N<bM;N++)for(var z=bR;z<dn;z++)dU[N*e+z]=gf[gW+e*(N-el)];
if(bm>=0&&el>=0){bR=0;dn=bm;cI=0;bM=el;gW=0}if(bm>=0&&el<0){bR=0;dn=bm;cI=O+el;bM=O;gW=e*(O-1)}if(bm<0&&el>=0){bR=e+bm;
dn=e;cI=0;bM=el;gW=e-1}if(bm<0&&el<0){bR=e+bm;dn=e;cI=O+el;bM=O;gW=e*O-1}for(var N=cI;N<bM;N++)for(var z=bR;
z<dn;z++)dU[N*e+z]=gf[gW]}if(cn=="Wrp"){bm=(bm+100*e)%e;el=(el+100*O)%O;var bW=new eZ(bm-e,el-O,e,O);
j.ao(gf,bW,dU,C.rect);bW.offset(e,0);j.ao(gf,bW,dU,C.rect);bW.offset(0,O);j.ao(gf,bW,dU,C.rect);bW.offset(-e,0);
j.ao(gf,bW,dU,C.rect)}}if(I=="Rept"){var ky=a.Rsft.v.val/100,kR=a.SpcX.v.val/100;kR=Math.max(kR,-.99);
var cY=a.SpcY.v.val/100;cY=Math.max(cY,-.99);var bk=a.Scl.v.val/100,d6=new dc;d6.rotate(a.Angl.v*Math.PI/180);
d6.scale(bk,bk);var ep={buffer:k.buffer,rect:k.rect};j.KK(ep);if(ep.rect.KH()){ep.buffer=k.buffer;ep.rect=k.rect}var ao=ep.buffer,bW=ep.rect,i6=j.h0(ao,bW,0),jR=new Uint32Array(ao.buffer)[0];
if(!i6.KH()&&!i6.a$(bW)){var aQ=j.U(i6.c()*4);j.ao(ao,bW,aQ,i6);ao=aQ;bW=i6}bW.x=bW.y=0;jR=kR==0&&cY==0&&!j.zA(k.buffer)||a.SpcC.v?jR:0;
function kg(z){return z<0?Math.ceil(z):Math.floor(z)}var e7=d6.yt(new kK(bW.Q,0));e7.x=kg(e7.x);e7.y=kg(e7.y);
var bP=d6.yt(new kK(0,bW._));bP.x=kg(bP.x);bP.y=kg(bP.y);var w=E.nF.on([ao,bW],d6,!1),fm=w.rect,il=w.buffer,js=Math.round(fm.x),it=Math.round(fm.y),ip=Math.max(C.rect.Q,C.rect._)/Math.min(bW.Q*bk*(1+kR),bW._*bk*(1+cY));
ip=Math.ceil(ip*1.7);j.IP(C.buffer,jR);for(var N=-ip;N<ip;N++){for(var z=-ip;z<ip;z++){var iY=(z+N*ky)*(1+kR),kr=N*(1+cY);
fm.x=js+Math.round(iY*e7.x+kr*bP.x);fm.y=it+Math.round(iY*e7.y+kr*bP.y);if(fm._s(C.rect))j.z.Pf("norm",il,fm,C.buffer,C.rect,fm,1)}}}if(I=="Ctoa"){var s=j.G.GW(a.Clr.v),cE=a.Trsp.v.val/100,gi=a.Opct.v.val/100;
cE=gi==0?0:cE/gi;var e=k.rect.Q,O=k.rect._,ar=~~s.$,iW=~~s.H,b4=~~s.J,gW=k.buffer,jb=C.buffer;for(var N=0;
N<O;N++)for(var z=0;z<e;z++){var Y=N*e+z,p=Y<<2,bW=gW[p],hX=gW[p+1],ao=gW[p+2],gb=Math.abs(ar-bW),b1=Math.abs(iW-hX),eh=Math.abs(b4-ao),d$=Math.max(gb,b1,eh)*(1/255);
d$=Math.max(0,Math.min(1,d$/gi));var bV=d$==0?0:1/d$,gH=cE==1?1:Math.max(0,Math.min(1,(d$-cE)/(1-cE)));
jb[p]=Math.max(0,Math.min(255,(bW-ar*(1-d$))*bV));jb[p+1]=Math.max(0,Math.min(255,(hX-iW*(1-d$))*bV));
jb[p+2]=Math.max(0,Math.min(255,(ao-b4*(1-d$))*bV));jb[p+3]=Math.min(jb[p+3],~~(.5+gH*255))}}if(I=="Dthr"){function jB(z){return~~(.5+255*j.M1(z/255))}var hD=a.Plte.v,k8;
if(hD==0)k8=[4278190080,4294967295];else{var fg=[[1,1,1],[2,2,2],[3,3,2]][hD-1],am=[1<<fg[0],1<<fg[1],1<<fg[2]],hj=[~~(255/(am[0]-1)),~~(255/(am[1]-1)),~~(255/(am[2]-1))];
k8=[];for(var di=0;di<am[0];di++)for(var gY=0;gY<am[1];gY++)for(var aL=0;aL<am[2];aL++)k8.push(255<<24|jB(aL*hj[2])<<16|jB(gY*hj[1])<<8|jB(di*hj[0]))}var e=k.rect.Q,O=k.rect._,U=e*O,kP=U*4,ba=k.buffer.slice(0),c7=C.buffer;
for(var Y=0;Y<kP;Y++)ba[Y]=~~(.5+255*j.M1(ba[Y]/255));var fA=j.U(e*O);UPNG.encode.dither(ba,e,O,k8,c7,fA,a.Mthd?a.Mthd.v:1);
for(var Y=0;Y<kP;Y++)c7[Y]=~~(.5+255*j.lD(c7[Y]/255))}if(I=="Part"){var bz=[a.RndS.v,a.Cont.v/100,a.Size.v,a.Dpth.v/100,a.Brgh.v/100,j.G.GW(a.Clr.v),a.Time.v,a.Blnk.v,a.Fall.v,a.Turb.v/100];
j.Ql.yC(C.buffer,k.rect.Q,k.rect._,bz)}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg,Kale".split(",").indexOf(I)!=-1){var h5=T[0],e=k.rect.Q,O=k.rect._,cg,ib=0;
if(I=="LqFy")cg=fc.SF(new Uint8Array(a.LqMe.v).buffer);else{var c6=3;if(I=="Wave")c6=Math.min(3,a.WLMn.v);
cg={Qq:Math.floor(e/c6),L4:Math.floor(O/c6)};cg.map=new Float32Array(cg.Qq*cg.L4*2);if(I=="LnCr"){var dj=.5*(cg.Qq-1),h$=.5*(cg.L4-1),jV=Math.max(Math.abs(0-dj),Math.abs(1-dj)),aS=Math.max(Math.abs(0-h$),Math.abs(1-h$)),iK=Math.sqrt(jV*jV+aS*aS),ce=0,kj=0,hu=-1,gD=2,bk=a.LnSi.v/100,gl=1/bk,a6=a.LnIa.v/100,jy=a6==0?1e-6:a6*4.6,bK=gl/iK;
for(var N=0;N<cg.L4;N++){for(var z=0;z<cg.Qq;z++){var V=(z-dj)*bK,r=(N-h$)*bK,di=Math.sqrt(V*V+r*r)*jy,fF=Math.atan(di),ab=a6>0?fF/di:di/fF,gy=dj+iK*ab*V,gR=h$+iK*ab*r,Y=N*cg.Qq+z<<1;
cg.map[Y]=gy-z;cg.map[Y+1]=gR-N}}}else if(I=="Kale"){var co=cg.Qq,hP=cg.L4,aO=(co-1)*.5,h2=(hP-1)*.5,b_=a.MRot.v*Math.PI/180+Math.PI/2+4*Math.PI,cz=a.Mirr.v,fu=Math.PI*2/cz,aT=.5*fu;
for(var N=0;N<hP;N++)for(var z=0;z<co;z++){var V=z-aO,r=N-h2,gg=Math.sqrt(V*V+r*r),fP=Math.atan2(r,V)+b_;
fP=fP%fu;if(fP>aT)fP=fu-fP;var gy=aO+Math.cos(fP-b_)*gg,gR=h2+Math.sin(fP-b_)*gg,Y=(N*co+z)*2;cg.map[Y]=gy-z;
cg.map[Y+1]=gR-N}}else if(I=="Dspl"&&h5.length!=0){ib=a.UndA.v.UndA=="WrpA"?2:1;var iM=a.DspF.v.pth,ey,fi=a.DspD,e_,f_,kS;
if(fi){var hU=fi.v;f_=hU[1]*256+hU[0];e_=hU[5]*256+hU[4];kS=new Uint8Array(hU.slice(10,10+e_*f_))}else{for(var Y=0;
Y<h5.length;Y++)if(h5[Y].DZ==iM)ey=h5[Y];if(ey==null)ey=h5[0];ey.TB();var gb=ey.IV[1],kS=j.U(gb.c());
j.xD(ey.IV[0],kS);e_=gb.Q;f_=gb._}cg={Qq:e_,L4:f_};cg.map=new Float32Array(cg.Qq*cg.L4*2);var hm=2.54*a.HrzS.v*e_/e,jt=2.54*a.VrtS.v*f_/O;
for(var N=0;N<cg.L4;N++){for(var z=0;z<cg.Qq;z++){var c3=-.5+kS[N*e_+z]*(1/255),Y=N*cg.Qq+z<<1;cg.map[Y]=c3*hm;
cg.map[Y+1]=c3*jt}}}else if(I=="Pnch"||I=="Twrl"||I=="Sphr"||I=="ZgZg"){var iQ=1,jM=Math.PI,an=0,jK=1,bZ=0,gw=3,k6=1.53,ab=1;
if(I=="Pnch"||I=="Sphr"||I=="ZgZg")iQ=a.Amnt.v/100;if(I=="ZgZg"){jK=a.NmbR.v;bZ=["ArnC","OtFr","PndR"].indexOf(a.ZZTy.v.ZZTy)}if(I=="Twrl")jM=a.Angl.v*Math.PI/180;
if(I=="Sphr")an=["Nrml","HrzO","VrtO"].indexOf(a.SphM.v.SphM);function fK(z){z=Math.pow(z,1-z*.3-z*z*(z*z)*.5);
return-.225*Math.sin(z*Math.PI)}function e2(O,al,di,bR,cI,dn,bM,ab){var V=dn-bR,r=bM-cI,h0=bR-O,kH=cI-al,i3=V*V+r*r,aL=2*(V*h0+r*kH),gw=h0*h0+kH*kH-di*di,dx=Math.sqrt(aL*aL-4*i3*gw),iS=ab/(2*i3),kI=(-aL+dx)*iS,im=(-aL-dx)*iS;
return ab*Math.min(kI,im)}var co=cg.Qq,hP=cg.L4,aO=cg.Qq/2,h2=cg.L4/2,cS=1/aO,di=Math.sqrt(gw*gw+1)/gw,iL=gw+Math.sqrt(1/(gw*gw));
if(iQ<0){gw=1.72;di=1;iL=gw;k6=-1;ab=-1}for(var N=0;N<hP;N++){var r=(N-h2)/h2;for(var z=0;z<co;z++){var V=(z-aO)*cS;
if(an==1)r=0;else if(an==2)V=0;var eY=Math.sqrt(V*V+r*r);if(eY<1&&eY!=0){var Y=N*cg.Qq+z<<1;if(I=="Pnch"){var fH=-iQ*fK(eY)/eY;
cg.map[Y]=V*fH*aO;cg.map[Y+1]=r*fH*h2}else if(I=="Sphr"){var az=e2(0,iL,di,0,0,eY,gw,ab),cm=k6*iQ*(az-1);
cg.map[Y]=V*cm*aO;cg.map[Y+1]=r*cm*h2}else if(I=="Twrl"){var fP=Math.atan2(r,V)-jM*(1-eY)*(1-eY),kl=Math.cos(fP),bO=Math.sin(fP);
cg.map[Y]=(eY*kl-V)*aO;cg.map[Y+1]=(eY*bO-r)*h2}else if(I=="ZgZg"){var kl=0,bO=0,b7=iQ*(.5-.5*Math.cos(eY*jK*2*Math.PI))*(1-eY);
if(bZ==0){var fP=Math.atan2(r,V)-3.5*b7;kl=eY*Math.cos(fP);bO=eY*Math.sin(fP)}if(bZ==1){b7=100/e*b7/eY;
kl=(1-b7)*V;bO=(1-b7)*r}if(bZ==2){var Q=512/e*b7*Math.PI/4;kl=Q+V;bO=Q+r}cg.map[Y]=(kl-V)*aO;cg.map[Y+1]=(bO-r)*h2}}}}}else if(I=="Shr "){var iv=JSON.parse(JSON.stringify(a.ShrP.v));
j.IJ.h(iv,new dc(0,255/127,255/127,0,-2,0));var fZ=j.IJ.ot(iv,cg.L4,!0);ib=a.UndA.v.UndA=="WrpA"?2:1;
for(var N=0;N<cg.L4;N++){var V=-fZ[N]*cg.Qq;for(var z=0;z<cg.Qq;z++){var Y=N*cg.Qq+z<<1;cg.map[Y]=V}}}else if(I=="Wave"){var cc=a.NmbG.v,cR=a.WLMn.v,jS=a.WLMx.v,hi=a.AmMn.v*(Math.PI/4),kq=a.AmMx.v*(Math.PI/4),bH=a.SclH.v/100,cb=a.SclV.v/100,aR=a.Wvtp.v.Wvtp,b7=Math.sin;
if(aR=="WvTr")b7=function(z){z*=2/Math.PI;return-.5+Math.abs(z%2-1)};if(aR=="WvSq")b7=function(z){z*=2/Math.PI;
return 1+2*Math.floor(z%2-1)};var bn=[],bS=new j.z.GS(a.RndS.v);for(var Y=0;Y<cc;Y++){bn.push(bS.get()*10);
bn.push(Math.PI*c6/(cR+bS.get()*(jS-cR)));bn.push(bH*(hi+bS.get()*(kq-hi))/c6);bn.push(bS.get()*10);
bn.push(Math.PI*c6/(cR+bS.get()*(jS-cR)));bn.push(cb*(hi+bS.get()*(kq-hi))/c6)}var gt=[],fJ=[],aI=Math.max(cg.Qq,cg.L4);
for(var Y=0;Y<aI;Y++){var V=0,r=0;for(var aZ=0;aZ<cc;aZ++){var jQ=aZ*6;V+=bn[jQ+2]*b7(bn[jQ]+Y*bn[jQ+1]);
r+=bn[jQ+5]*b7(bn[jQ+3]+Y*bn[jQ+4])}gt[Y]=r;fJ[Y]=V}for(var N=0;N<cg.L4;N++){for(var z=0;z<cg.Qq;z++){var Y=N*cg.Qq+z<<1;
cg.map[Y]=fJ[N];cg.map[Y+1]=gt[z]}}ib=a.UndA.v.UndA=="WrpA"?2:1}else if(I=="Rple"){ib=1;var iQ=a.Amnt.v/100,cu=4,cH=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],bh=1,gV=1,h0=0,i4=["Sml","Mdm","Lrg"].indexOf(a.RplS.v.RplS);
if(i4==0){bh=1;gV=.2;h0=3}if(i4==2){bh=1;gV=2;h0=-1;cH=cH.reverse()}var fG=function(z,N){var gw=Math.cos,ec=0;
for(var Y=0;Y<cu;Y++)for(var aZ=0;aZ<cu;aZ++)ec+=cH[Y*cu+aZ]*gw(z*(Y+h0)-N*(aZ+h0));return ec},h3=Math.floor(50/c6),jG=new Float32Array(h3*h3*2),f1=gV*iQ*.5/c6;
for(var N=0;N<h3;N++)for(var z=0;z<h3;z++){var dj=bh*z*2*Math.PI/h3,h$=bh*N*2*Math.PI/h3,fr=fG(dj,h$),V=(fG(dj+.01,h$)-fr)*100,r=(fG(dj,h$+.01)-fr)*100,Y=(N*h3+z)*2;
jG[Y]=V*f1;jG[Y+1]=r*f1}for(var N=0;N<cg.L4;N++)for(var z=0;z<cg.Qq;z++){var bO=N%h3,kl=z%h3,Y=N*cg.Qq+z<<1,cF=bO*h3+kl<<1;
cg.map[Y]=jG[cF];cg.map[Y+1]=jG[cF+1]}}}j.GI.cL(k.buffer,C.buffer,e,O,null,cg.map,cg.Qq,cg.L4,ib)}return C};
var gr={};gr.axw="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");gr.Nb="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
gr.Qo=["ScrC","ScrD","ScrL"];gr.UK=["SDRD","SDHz","SDLD","SDVt"];gr.qA="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
gr.Y4="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");gr.Qb="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
gr.jv=[[24,19,0],[24,19,1],[24,4],[24,19,2],[24,14],[12,67]];gr.names={ClrP:[0,[24,20,0]],Ct:[0,[24,20,1]],DryB:[0,[24,20,2]],FlmG:[0,[24,20,3]],Frsc:[0,[24,20,4]],NGlw:[0,[24,20,5]],PntD:[0,[24,20,6]],PltK:[0,[24,20,7]],PlsW:[0,[24,20,8]],PstE:[0,[24,20,9]],RghP:[0,[24,20,10]],SmdS:[0,[24,20,11]],Spng:[0,[24,20,12]],Undr:[0,[24,20,13]],Wtrc:[0,[24,20,14]],AccE:[1,[24,20,15]],AngS:[1,[24,20,16]],Crsh:[1,[24,20,17]],DrkS:[1,[24,20,18]],InkO:[1,[24,20,19]],Spt:[1,[24,20,20]],SprS:[1,[24,20,21]],Smie:[1,[24,20,22]],DfsG:[2,[24,20,23]],Gls:[2,[24,20,24]],OcnR:[2,[24,20,25]],BsRl:[3,[24,20,26]],ChlC:[3,[24,20,27]],Chrc:[3,[24,20,28]],Chrm:[3,[24,20,29]],CntC:[3,[24,20,30]],GraP:[3,[24,20,31]],HlfS:[3,[24,20,32]],NtPr:[3,[24,20,33]],Phtc:[3,[24,20,34]],Plst:[3,[24,20,35]],Rtcl:[3,[24,20,36]],Stmp:[3,[24,20,37]],TrnE:[3,[24,20,38]],WtrP:[3,[24,20,39]],GlwE:[4,[24,20,40]],Crql:[5,[24,20,41]],Grn:[5,[24,20,42]],MscT:[5,[24,20,43]],Ptch:[5,[24,20,44]],StnG:[5,[24,20,45]],Txtz:[5,[24,20,46]]};
gr.nI=function(I){var k;if(I=="ClrP")k={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(I=="Ct")k={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(I=="DryB")k={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(I=="FlmG")k={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(I=="Frsc")k={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(I=="NGlw")k={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(I=="PntD")k={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(I=="PltK")k={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(I=="PlsW")k={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(I=="PstE")k={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(I=="RghP")k={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(I=="SmdS")k={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(I=="Spng")k={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(I=="Undr")k={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(I=="Wtrc")k={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(I=="AccE")k={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(I=="AngS")k={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(I=="Crsh")k={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(I=="DrkS")k={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(I=="InkO")k={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(I=="Smie")k={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(I=="Spt")k={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(I=="SprS")k={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(I=="DfsG")k={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(I=="Gls")k={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(I=="OcnR")k={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(I=="BsRl")k={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(I=="ChlC")k={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(I=="Chrc")k={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(I=="Chrm")k={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(I=="CntC")k={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(I=="GraP")k={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(I=="HlfS")k={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(I=="NtPr")k={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(I=="Phtc")k={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(I=="Plst")k={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(I=="Rtcl")k={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(I=="Stmp")k={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(I=="TrnE")k={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(I=="WtrP")k={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(I=="GlwE")k={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(I=="Crql")k={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(I=="Grn")k={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(I=="MscT")k={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(I=="Ptch")k={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(I=="StnG")k={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(I=="Txtz")k={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
k.__name="Filter Gallery";k.classID="GEfc";k.GEfk={t:"enum",v:{GEft:I}};k.GELv={t:"bool",v:!0};return k};
gr.cX=function(I,k){for(var Y=0;Y<k.length;Y++)~~(k[Y]=(I[4*Y]+I[4*Y+1]+I[4*Y+2])*(1/3))};gr.aaS=function(I,k,a,n,s,C){var T=UPNG.quantize(I,k);
T={y9:T.inds,RJ:T.plte};if(C){var S=new Uint32Array(T.RJ.length);for(var Y=0;Y<S.length;Y++)S[Y]=T.RJ[Y].est.rgba;
T.y9=j.aB_(new Uint8Array(I),a,n,new Uint8Array(S.buffer))}var D=Math.floor((a+n)*.015);if(D!=0&&s)j.Wi.aeH(T.y9,a,n,D);
return T};gr.uq=function(I,k,a,n,s,C,T){I=a.GEfk.v.GEft;var S=k.rect,D=S.Q,o=S._,v=D*o,g=a.FlRs?a.FlRs.v>>>1:0;
function d(H){return H.$<<24|H.H<<16|H.J<<8|255}if(I=="ClrP")j.g.aum(k.buffer,D,o,C.buffer,[a.Pncl.v,a.StrP.v,a.PprB.v]);
if(I=="Ct"){var R=a.NmbL.v,c=a.EdgS.v,e=gr.aaS(k.buffer.buffer,R*2,D,o,!0);for(var Y=0;Y<e.y9.length;
Y++)e.y9[Y]++;var O=new Uint8Array((D+2)*(o+2));j.O0(e.y9,new eZ(1,1,D,o),O,new eZ(0,0,D+2,o+2));var U=j.X.ds(O,D+2,o+2,c,!1),K=new dc(1,0,0,1,-1,-1);
for(var Y=0;Y<U.length;Y++)j.X.h(U[Y].path.s,K,U[Y].path.s);var _=[],Z=e.RJ;for(var Y=0;Y<Z.length;Y++){var H=Z[Y].est.q;
_.push({$:Math.round(255*H[0]),H:Math.round(255*H[1]),J:Math.round(255*H[2]),M:Math.round(255*H[3])})}var G=j.$P(D,o);
for(var Y=0;Y<U.length;Y++){var N=U[Y],H=_[N.color-1];if(H.M==0)continue;G.fillStyle="rgba("+H.$+","+H.H+","+H.J+","+H.M/255+")";
G.beginPath();Typr.U.pathToContext({crds:N.path.s,cmds:N.path.m},G);G.fill()}if(!S.KH()){var z=G.getImageData(0,0,D,o);
j.ed(z.data,C.buffer)}}if(I=="DryB")j.g.aEK(k.buffer,D,o,C.buffer,[a.BrsS.v,a.BrsD.v,a.Txtr.v]);if(I=="FlmG")j.g.a61(k.buffer,D,o,C.buffer,[a.Grn.v,a.HghA.v,a.Intn.v,g]);
if(I=="Frsc")j.g.a8v(k.buffer,D,o,C.buffer,[a.BrsS.v,a.BrsD.v,a.Txtr.v]);if(I=="NGlw")j.g.ate(k.buffer,D,o,C.buffer,[a.Sz.v,a.Brgh.v,d(j.G.GW(a.Clr.v)),d(n),d(s)]);
if(I=="PltK")j.g.aDk(k.buffer,D,o,C.buffer,[a.StrS.v,a.StDt.v,a.Sftn.v]);if(I=="PstE")j.g.ayW(k.buffer,D,o,C.buffer,[a.EdgT.v,a.EdgI.v,a.Pstr.v]);
if(I=="RghP")j.g.as2(k.buffer,D,o,C.buffer,[a.StrL.v,a.StDt.v,gr.qA.indexOf(a.TxtT.v.TxtT),a.Scln.v,a.Rlf.v,gr.Nb.indexOf(a.LghD.v.LghD),a.InvT.v]);
if(I=="SmdS")j.g.an4(k.buffer,D,o,C.buffer,[a.StrL.v,a.HghA.v,a.Intn.v,a.FlRs?a.FlRs.v:0,g]);if(I=="Spng")j.g.amT(k.buffer,D,o,C.buffer,[a.BrsS.v,a.Dfnt.v,a.Smth.v,a.FlRs?a.FlRs.v:0,g]);
if(I=="Undr")j.g.akp(k.buffer,D,o,C.buffer,[a.BrsS.v,a.TxtC.v,gr.qA.indexOf(a.TxtT.v.TxtT),a.Scln.v,a.Rlf.v,gr.Nb.indexOf(a.LghD.v.LghD),a.InvT.v]);
if(I=="Wtrc")j.g.auZ(k.buffer,D,o,C.buffer,[a.BrsD.v,a.ShdI.v,a.Txtr.v]);if(I=="AccE")j.g.ark(k.buffer,D,o,C.buffer,[a.EdgW.v,a.EdgB.v,a.Smth.v]);
if(I=="AngS")j.g.a0g(k.buffer,D,o,C.buffer,[a.DrcB.v,a.StrL.v,a.Shrp.v]);if(I=="Crsh")j.g.a4b(k.buffer,D,o,C.buffer,[a.StrL.v,a.Shrp.v,a.Strg.v]);
if(I=="DrkS")j.g.ahK(k.buffer,D,o,C.buffer,[a.Blnc.v,a.BlcI.v,a.WhtI.v]);if(I=="InkO")j.g.aod(k.buffer,D,o,C.buffer,[a.StrL.v,a.DrkI.v,a.LghI.v]);
if(I=="Smie")j.g.a5I(k.buffer,D,o,C.buffer,[a.StrW.v,a.StrP.v,a.Cntr.v]);if(I=="DfsG")j.g.aez(k.buffer,D,o,C.buffer,[a.Grns.v,a.GlwA.v,a.ClrA.v,d(s),g]);
if(I=="CntC")j.g.aAb(k.buffer,D,o,C.buffer,[a.FrgL.v,a.BckL.v,gr.qA.indexOf(a.TxtT.v.TxtT),a.Scln.v,a.Rlf.v,gr.Nb.indexOf(a.LghD.v.LghD),a.InvT.v,d(s),d(n)]);
if(I=="ChlC")j.g.amL(k.buffer,D,o,C.buffer,[a.ChrA.v,a.ChlA.v,a.StrP.v,g,d(s),d(n)]);var L=I=="GraP"||I=="Chrc"||I=="Plst"||I=="Rtcl"||I=="Stmp"||I=="TrnE";
if(L){var p=j.U(D*o);if(I=="GraP")j.g.acM(k.buffer,D,o,C.buffer,[a.StrL.v,a.LgDr.v,gr.UK.indexOf(a.SDir.v.StrD),g]);
if(I=="Chrc")j.g.att(k.buffer,D,o,C.buffer,[a.ChAm.v,a.Dtl.v,a.LgDr.v]);if(I=="Plst")j.g.aaQ(k.buffer,D,o,C.buffer,[a.ImgB.v,gr.Y4.indexOf(a.LghP.v.LghP),a.Smth.v]);
if(I=="Rtcl")j.g.aBl(k.buffer,D,o,C.buffer,[a.Dnst.v,a.BlcL.v,a.WhtL.v,g]);if(I=="Stmp")j.g.aza(k.buffer,D,o,C.buffer,[a.LgDr.v,a.Smth.v]);
if(I=="TrnE")j.g.a43(k.buffer,D,o,C.buffer,[a.ImgB.v,a.Smth.v,a.Cntr.v,g]);j.Ez(C.buffer,p,0);gr.wR(p,C.buffer,n,s)}if(I=="NtPr")j.g.aj2(k.buffer,D,o,C.buffer,[a.ImgB.v,a.Grns.v,a.Rlf.v,d(n),d(s),g]);
if(I=="WtrP")j.g.akk(k.buffer,D,o,C.buffer,[a.FbrL.v,a.Brgh.v,a.Cntr.v,g>>>1]);if(I=="Crql")j.g.a5C(k.buffer,D,o,C.buffer,[a.CrcS.v,a.CrcD.v,a.CrcB.v,g]);
if(I=="Grn")j.g.aAu(k.buffer,D,o,C.buffer,[a.Intn.v,gr.Qb.indexOf(a.Grnt.v.Grnt),a.Cntr.v,d(n),d(s),g]);
if(I=="MscT")j.g.awS(k.buffer,D,o,C.buffer,[a.TlSz.v,a.GrtW.v,a.LghG.v,g]);if(I=="Ptch")j.g.aBd(k.buffer,D,o,C.buffer,[a.SqrS.v,a.Rlf.v,g]);
if(I=="Phtc"){function V(iv,k6,S,fP){j.ox.IT(iv,k6,S,fP);for(var Y=0;Y<v;Y++)k6[Y]=Math.max(0,Math.min(255,128+iv[Y]-k6[Y]))}var r=a.Dtl.v,y=a.Drkn.v,W=j.U(v);
j.xD(k.buffer,W);var m=j.U(v);V(W,m,S,1);if(r==1){r=2;y=Math.round(y/4)}var f=j.U(v);V(W,f,S,r);for(var Y=0;
Y<v;Y++)W[Y]=Math.max(0,Math.min(255,255-(m[Y]-f[Y])*y));gr.wR(W,C.buffer,n,s)}if(I=="Spt"||I=="SprS"){var h,b=1,i=1;
h={Qq:Math.floor(D/i),L4:Math.floor(o/i)};h.map=new Float32Array(h.Qq*h.L4*2);var w=new j.z.GS(g),J=new Float32Array(8192),q=a.SprR.v,x=q<20?.018*q:.36+(q-20)*.128;
if(I=="SprS"){x=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][q]}for(var Y=0;
Y<8192;Y++)J[Y]=(-1+2*w.get())*x*70;for(var A=0;A<o;A++)for(var Q=0;Q<D;Q++){var B=A*D+Q<<1;h.map[B]=J[B%7919];
h.map[B+1]=J[(B+1)%7919]}var l=h.map.slice(0),P=I=="Spt"?a.Smth.v-1:1;if(I=="Spt"&&P!=0){gr.akb(h.map,l,D,o,P);
gr.a7N(l,h.map,D,o,P)}if(I=="SprS"){var F=a.StrL.v>>>1,t=F==0?2:1;gr.akb(h.map,l,D,o,t);gr.a7N(l,h.map,D,o,t);
if(F!=0){var hd=gr.UK.indexOf(a.SDir.v.StrD),di=[1,1,1,0][hd],hD=[-1,0,1,1][hd],a$=2*F+1,eJ=1/a$;for(var A=0;
A<o;A++)for(var Q=0;Q<D;Q++){var B=A*D+Q<<1,hY=0,ik=0;for(var Y=0;Y<a$;Y++){var fw=Math.max(0,Math.min(D-1,Q-(F+Y)*di)),jb=Math.max(0,Math.min(o-1,A-(F+Y)*hD)),cd=jb*D+fw<<1;
hY+=h.map[cd];ik+=h.map[cd+1]}l[B]=hY*eJ;l[B+1]=ik*eJ}h.map=l}}j.GI.cL(k.buffer,C.buffer,D,o,null,h.map,h.Qq,h.L4,b)}if(I=="BsRl"||I=="PlsW"||I=="Chrm"){var dN=Date.now(),kc=j.U(v),ck=kc.slice(0);
j.xD(k.buffer,kc);var r=a.Dtl.v,b3=a.Smth.v;if(r!=15){j.ox.Xh(kc,ck,S,Math.round((15-r)*.5));j.ed(ck,kc)}var hL=1.4/D,gS=1.4/o,jF=new Float32Array(v),kB=new Float32Array(v),jw=new Float32Array(C.buffer.buffer);
for(var A=0;A<o;A++)for(var Q=0;Q<D;Q++){var Y=A*D+Q,di=Q==D-1?kc[Y]-kc[Y-1]:kc[Y+1]-kc[Y],hD=A==o-1?kc[Y]-kc[Y-D]:kc[Y+D]-kc[Y],iT=Q*hL-.7,gY=A*gS-.7;
jF[Y]=di==0?iT:di*.4;kB[Y]=hD==0?gY:hD*.4}if(I=="BsRl"){var aL=(2+gr.Nb.indexOf(a.LghD.v.LghD))*Math.PI*.25,hY=Math.cos(aL);
if(Math.abs(hY)<.1)hY=0;hY=Math.sign(hY);var ik=Math.sin(aL);if(Math.abs(ik)<.1)ik=0;ik=Math.sign(ik);
var dw=1/(hY*hY+ik*ik);for(var A=0;A<o;A++)for(var Q=0;Q<D;Q++){var Y=A*D+Q,ka=Math.max(-1,Math.min(1,hY*jF[Y])),cy=Math.max(-1,Math.min(1,ik*kB[Y]));
ck[Y]=128+127*(ka+cy)*dw}if(b3!=1){j.ox.Xh(ck,kc,S,Math.round((b3-1)*.5));j.ed(kc,ck)}gr.wR(ck,C.buffer,n,s)}else{if(I=="Chrm")b3=5+b3;
if(b3>1)gr.iW(jF,kB,jw,S,b3-1);if(I=="PlsW"){var jP=new Uint8Array(jF.buffer);for(var Y=0;Y<v;Y++){var aA=Y<<2,di=jF[Y],hD=kB[Y],d1=1/(Math.sqrt(1+di*di)*Math.sqrt(1+hD*hD)),ag=d1*d1,b0=ag*ag,H=~~(255*(b0*b0*ag));
jP[aA+0]=H;jP[aA+1]=H;jP[aA+2]=H;jP[aA+3]=H}C.buffer.set(k.buffer);j.z.Pf("norm",jP,S,C.buffer,S,S,a.HghS.v/20)}else if(I=="Chrm"){var kx=C.buffer,br=D>>>1,ft=o>>>1;
for(var Y=0;Y<v;Y++){var aA=Y<<2,di=jF[Y],hD=kB[Y],iv={x:1,y:0,aP:di};hB.y4(iv);var k6={x:0,y:1,aP:hD};
hB.y4(k6);var ay=hB.aDQ(iv,k6),eT=1/ay.aP,kD=~~Math.max(0,Math.min(D-1,br-ay.x*eT*br)),cP=~~Math.max(0,Math.min(o-1,ft-ay.y*eT*ft)),H=kc[cP*D+kD];
kx[aA+0]=H;kx[aA+1]=H;kx[aA+2]=H}}}}if(I=="Gls"||I=="OcnR"||I=="Txtz"){var cU=I=="OcnR"?2:gr.qA.indexOf(a.TxtT.v.TxtT),gu=gr.me(cU),jd=gu[0],kc=gu[1],i$=jd.Q,hT=jd._,a$=24,j$=0,e0,ff;
function jk(ju,fD,bD){return~~(i1*(ju+fD)+8192)&127}var jF=new Float32Array(v),kB=new Float32Array(v),jw=new Float32Array(C.buffer.buffer),i1=I=="OcnR"?1/(1+(a.RplS.v-1)*.1):100/a.Scln.v;
if(cU==3)i1*=32/22.2;var dN=Date.now(),aZ=i1,hL=1.4/D,gS=1.4/o;if(I=="Txtz"){aZ*=1/255;a$=256}for(var A=0;
A<o;A++){var az=jk(A,S.y,hT),jb=az+1&127;for(var Q=0;Q<D;Q++){var Y=A*D+Q,hM=jk(Q,S.x,i$),fw=hM+1&127,ku=0,dM=0,fb=0;
if(I=="Txtz"){ku=j.t.F0(i1*Q,i1*A,kc,128,128);dM=j.t.F0(i1*Q,i1*A+1,kc,128,128);fb=j.t.F0(i1*Q+1,i1*A,kc,128,128)}else{ku=kc[az*i$+hM];
dM=kc[jb*i$+hM];fb=kc[az*i$+fw]}jF[Y]=Math.max(-a$,Math.min((fb-ku)*aZ,a$));kB[Y]=Math.max(-a$,Math.min((dM-ku)*aZ,a$))}}if(I=="Txtz")gr.aj3(jF,kB,jw,S,6);
else gr.iW(jF,kB,jw,S,I=="Txtz"?1:I=="OcnR"?3.5/i1:a.Smth.v);if(I=="Txtz")j$=a.InvT.v?-1:1;else if(I=="Gls"){j$=[1,.4,.5,.5,.5,.5,.5][cU]*(Math.exp(a.Dstr.v*.155)-1);
if(a.InvT.v)j$=-j$}else{j$=.5*(Math.exp(a.RplM.v*.155)-1)}var kx=C.buffer;if(I=="Txtz"){var aL=(2+gr.Nb.indexOf(a.LghD.v.LghD))*Math.PI*.25,hY=Math.cos(aL),ik=Math.sin(aL);
e0={x:hY,y:ik,aP:0};hB.y4(e0);ff=a.Rlf.v;ff=ff/4+Math.max(0,(ff-35)*2)}function dm(iv,k6,il){var c$=j.z.overF(k6,iv,1),ju=(1-il)*iv+il*(il*k6+(1-il)*c$);
return ju*255}for(var A=0;A<o;A++)for(var Q=0;Q<D;Q++){var Y=A*D+Q,aA=Y<<2,di=jF[Y],hD=kB[Y],iv={x:1,y:0,aP:di};
hB.y4(iv);var k6={x:0,y:1,aP:hD};hB.y4(k6);var ay=hB.aDQ(iv,k6);if(I=="Txtz"){var dX=hB.a5R(ay,e0)*j$,il=1,H=1;
if(dX<0){H=0;dX=-dX}il=Math.min(1,dX*ff);kx[aA+0]=~~dm(k.buffer[aA]*(1/255),H,il);kx[aA+1]=~~dm(k.buffer[aA+1]*(1/255),H,il);
kx[aA+2]=~~dm(k.buffer[aA+2]*(1/255),H,il)}else{var eT=j$/ay.aP,kD=~~Math.max(0,Math.min(D-1,Q-ay.x*eT)),cP=~~Math.max(0,Math.min(o-1,A-ay.y*eT)),j1=cP*D+kD<<2;
kx[aA+0]=k.buffer[j1];kx[aA+1]=k.buffer[j1+1];kx[aA+2]=k.buffer[j1+2]}}}if(I=="PntD"){var c5=a.Shrp.v*.4,iE=a.BrsT.v.BrsT,f6={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[iE],fP=Math.round(a.Sz.v*.5);
j.yh.MB=f6[0];j.yh.ml(k.buffer,C.buffer,D,o,fP,0,[]);var jE=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];jE=j.Qz.TT(jE);
var iQ=C.buffer.slice(0);j.Qz.Lp(iQ,C.buffer,D,o,jE,0);for(var Y=0;Y<k.buffer.length;Y++){var j8=C.buffer[Y]-iQ[Y];
C.buffer[Y]=Math.max(0,Math.min(255,iQ[Y]+c5*j8))}}if(I=="GlwE"){var bs=C.buffer.slice(0);j.yh.MB=.5;
j.yh.ml(k.buffer,bs,D,o,a.Smth.v>>>1,0,[]);j.Qz.a9u(bs,C.buffer,D,o);j.ed(C.buffer,bs);j.Us(bs);j.IP(bs,4278190080,16777215);
j.lb.ale(bs,C.buffer,D,o,(a.EdgW.v>>>1)*2+1,!0);var e6=a.EdgB.v/10;for(var Y=0;Y<bs.length;Y++){if((Y&3)==3)continue;
var c$=C.buffer[Y];C.buffer[Y]=Math.max(0,Math.min(255,c$*e6))}}if(I=="StnG"){j.kc.auF(k.buffer,D,o,C.buffer,a.ClSz.v,[Math.round(n.$),Math.round(n.H),Math.round(n.J)],a.BrdT.v)}if(I=="HlfS"){var ba=a.HlSz.v,jc=ba*2+1,aC=a.Cntr.v,eQ=gr.Qo.indexOf(a.ScrT.v.ScrT),v=D*o,aR=v*4,b2=j.U(v),dH=k.buffer,kL=0,cQ=0;
gr.cX(dH,b2);var gZ=b2.slice(0);j.ox.aF0(gZ,b2,S,ba);var fq=Math.PI/jc,fp=new Float64Array(D),hY=new Float64Array(D),cM=new Float64Array(2*D);
for(var Q=0;Q<D;Q++){var hM=(Q-(D>>>1))*fq;fp[Q]=hM*hM;hY[Q]=Math.cos(hM);var di=Q<<1;cM[di]=Math.sin(di*(1/4.5));
cM[di+1]=Math.sin((di+1)*(1/4.5))}for(var A=0;A<o;A++){var az=(A-(o>>>1))*fq,ik=Math.cos(az),fv=az*az;
for(var Q=0;Q<D;Q++){var H=ik;if(eQ==0){var bR=.5+Math.sqrt(fp[Q]+fv)*4.5;H=cM[~~bR]}else if(eQ==1){H=hY[Q]*ik}var Y=A*D+Q,cI=b2[Y]*(.75+.25*H),il=dH[(Y<<2)+3]*(1/255),dn=Math.max(0,Math.min(255,~~cI));
kL+=dn*il,cQ+=il;b2[Y]=dn}}kL/=cQ;var bM=128+1.26*(kL-128),e6=.08+.25*Math.abs((128-kL)/128),aK=1+e6*aC;
for(var Y=0;Y<v;Y++){var cI=bM+(b2[Y]-bM)*aK;b2[Y]=Math.max(0,Math.min(255,~~cI))}if(aC>46)j.round(b2);
gr.wR(b2,C.buffer,n,s)}for(var Y=0;Y<k.buffer.length;Y+=4)C.buffer[Y+3]=k.buffer[Y+3]};gr.wR=function(I,k,a,n){var s=I.length,C=a.$,T=a.H,S=a.J,D=n.$,o=n.H,v=n.J;
for(var Y=0;Y<s;Y++){var g=I[Y]*(1/255),d=1-g,R=Y<<2;k[R]=~~(C*d+D*g);k[R+1]=~~(T*d+o*g);k[R+2]=~~(S*d+v*g)}};
gr.me=function(I){if(I==6)I=2;var k="blocks canvas frosted tinylens brick burlap".split(" ")[I];if(gr.K9==null)gr.K9=[];
if(gr.K9[I]==null){var a,n;if(I==2){n=new eZ(0,0,128,128);var s=gJ.nI("AdNs");s.Mnch.v=!0;s.Dstr.v.Dstr="Gsn";
s.Nose.v.val=50;var a=j.U(n.c()*4),C=a.slice(0);new Uint32Array(C.buffer).fill(4286611584);gJ.uq("AdNs",{buffer:C,rect:n},s,0,0,{buffer:a,rect:n})}else{var T=kk.B5.get("tex/"+k,!0)[0];
n=T.e3;a=new Uint8Array(T.data)}var S=j.U(n.c());j.Ez(a,S,0);gr.K9[I]=[n,S]}return gr.K9[I]};gr.iW=function(I,k,a,n,s){if(s<=1){s=Math.round(s);
gr.aj3(I,k,a,n,[1,16,4][s]);return}var C=s*.42;if(I){j.ox.ZP(I,n,C,3)}if(k){j.ox.ZP(k,n,C,3)}};gr.aj3=function(I,k,a,n,s){var C=j.Qz.TT([1,2,1,2,s,2,1,2,1]);
if(I){a.set(I);j.Qz.ayl(I,a,n.Q,n._,C);I.set(a)}if(k){a.set(k);j.Qz.ayl(k,a,n.Q,n._,C);k.set(a)}};gr.iw=function(I){if(I==null)return new kK(0,0);
var k=0,a=I.GEfs?I.GEfs.v:[{v:I}];for(var Y=0;Y<a.length;Y++){var n=a[Y].v,C=1e4;if(n.GELv&&!n.GELv.v)continue;
var s=n.GEfk.v.GEft;if(s=="GlwE"||s=="Phtc"||s=="BsRl"||s=="PlsW"||s=="Chrm"||s=="Gls"||s=="OcnR"||s=="InkO")C=0;
k=Math.max(k,C)}return new kK(k,k)};gr.al$=function(I){var k=[0,0,0,0,0,0,0,0,0,0,0,0,0],a=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][I];
for(var Y=0;Y<13;Y++){var n=Y-6;k[Y]=1/(a*Math.sqrt(2*Math.PI))*Math.exp(-.5*(n/a)*(n/a))}return k};
gr.akb=function(I,k,a,n,s){var C=gr.al$(s),T=6,S=13;for(var D=0;D<n;D++)for(var o=0;o<a;o++){var v=D*a+o<<1,g=0,d=0;
for(var Y=0;Y<S;Y++){var R=o+Y-T,c=R<0?0:R>=a?a-1:R,e=(D*a+c)*2,O=C[Y];g+=O*I[e];d+=O*I[e+1]}k[v]=g;
k[v+1]=d}};gr.a7N=function(I,k,a,n,s){var C=gr.al$(s),T=6,S=13;for(var D=0;D<n;D++)for(var o=0;o<a;o++){var v=D*a+o<<1,g=0,d=0;
for(var Y=0;Y<S;Y++){var R=D+Y-T,c=R<0?0:R>=n?n-1:R,e=(c*a+o)*2,O=C[Y];g+=O*I[e];d+=O*I[e+1]}k[v]=g;
k[v+1]=d}};function aU(){}aU.e2=[2,5,5,7,4,4];aU._B="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
aU.$k="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
aU.L6=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
aU.BS=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
aU.W$=function(I){if(I=="passThrough")return"pass";return aU._B[aU.$k.indexOf(I)]};aU.Vu=function(I){if(I=="pass")return"passThrough";
return aU.$k[aU._B.indexOf(I)]};aU.getName=function(I){return aU.L6[aU._B.indexOf(I)]};function X(){this.rect=null;
this.buffer=null;this.pu="norm";this.opacity=255;this.Pi=!1;this.kb=!1;this.HA=0;this.sk=0;this.Fz=!0;
this.z4=[];for(var Y=0;Y<10;Y++)this.z4.push(0,0,255,255);this.name=null;this.add={};this.dO=null;this.w6=null;
this.u=null;this.fm=null;this.ae8=30;this.w8=null;this.n4=null;this.Gl=null;this.lT=null;this.YY=0;this.fv=!1;
this.pO=null;this.qj=new X.Jp}X.Jp=function(){this.zL=!0;this.J3=!0;this.he=j.U(0);this.alf=j.U(0);this.Cq=null;
this.JP={};this.a0o=null;this.oR=null;this.f5=null;this.In=null;this.mY=null;this.AN=null;this.tk=null;
this.a1=null;this.tp=null;this._z=null;this.SG=null;this.HG=null;this.WR=!1};X.Jp.prototype.aqm=function(){this.zL=null;
this.J3=!1;this.Cq=null;this.WR=dZ.QV};X.Jp.prototype.aC2=function(){hB.avs(this.JP);this.he=j.U(0);
this.alf=j.U(0);if(this.In)this.In.delete();if(this.mY)this.mY.delete();this.In=null;this.mY=null;var I=[this.AN,this.tk,this.a1,this.tp,this._z,this.SG];
for(var Y=0;Y<6;Y++)if(I[Y]!=null&&I[Y]instanceof dZ.$n)I[Y].delete();this.AN=null;this.tk=null;this.a1=null;
this.tp=null;this._z=null;this.SG=null};X.prototype.V=function(I){if(I==null)I=this.rect.clone();if(this.qj.Cq==null)this.qj.Cq=I;
else this.qj.Cq=this.qj.Cq.oL(I)};X.prototype.hd=function(){return this.add.lsct==gA.rW||this.add.lsct==gA.DG};
X.prototype.wc=function(){var I=this.add;return I.SoCo!=null||I.GdFl!=null||I.PtFl!=null||I.vstl!=null};
X.prototype.a5t=function(){var I=this.add.lmfx;if(I==null)return;var k=["GrFl","patternFill"];for(var Y=0;
Y<k.length;Y++){var a=fY.zQ[fY.order.indexOf(k[Y])],n=I[a].v;if(n.length==0)continue;for(var s=0;s<n.length;
s++){var C=n[s].v;if(C.enab.v&&(C.Algn==null||!C.Algn.v))this.qj.J3=!0}}};X.prototype.ayg=function(){var I=this.u,k=this.qj.zL;
if(this.wc())I=this.IO();if(!dZ.QV)return I.xA();if(this.qj.mY==null||k||dZ.QV!=this.qj.WR){var a=I.GT(),n=this.qj.mY,s=null;
if(k!=!0&&k!=null){s=k.clone();s.offset(-a.x,-a.y)}if(n==null||n.Q!=a.Q||n._!=a._){n=this.qj.mY=new dZ.SH(a.Q,a._);
s=null}n.set(I.xA(),s)}return this.qj.mY};X.prototype.azR=function(I){var k=this.rect,a=this.buffer;
if(!dZ.QV){var n=this.Wk(I,a,k);if(n){a=n.GG;k=n.rect}return a}if(this.qj.Cq!=null||dZ.QV!=this.qj.WR){var n=this.Wk(I,a,k);
if(n){a=n.GG;k=n.rect}var s=k;if(dZ.QV!=this.qj.WR||this.qj.In==null||this.qj.In.Q!=s.Q||this.qj.In._!=s._){if(this.qj.In)this.qj.In.delete();
this.qj.In=new dZ.$n(s.Q,s._);this.qj.In.set(a)}else{var C=this.qj.Cq.clone();C.offset(-k.x,-k.y);this.qj.In.set(a,C)}}return this.qj.In};
X.prototype.AY=function(){var I=this.u;if(this.wc())I=this.IO();return I!=null&&I.isEnabled&&(!I.rect.KH()||I.GW()!=255)};
X.prototype.Wk=function(I,k,a){if(this.st()){var n=this.kx(I);if(n.u&&n.u.isEnabled&&(!n.u.rect.KH()||n.u.color==0)){var s=this.add.SoLd.filterFX.v;
n.u.Au=s.filterMaskDensity?s.filterMaskDensity.v:255;n.u.K4=s.filterMaskFeather?s.filterMaskFeather.v:0;
var C=n.buffer,T=n.rect;if(T.c()<a.c()){T=a;C=j.U(T.c()*4);j.ao(n.buffer,n.rect,C,T)}var S=n.u.tf(a);
j.Us(S);k=k.slice(0);j.z.Pw(C,T,k,a,S,a,0,a,1);return{GG:k,rect:a}}}};X.prototype.a07=function(){var I={el:!1,mz:!1,ma:0,HD:0};
if(this.add.vmsk&&this.add.vmsk.isEnabled)I.mz=!0;if(this.IO()&&this.IO().isEnabled)I.el=!0;if(I.el&&I.mz){I.ma=this.IO().rect.x-this.add.vmsk.IO().rect.x;
I.HD=this.IO().rect.y-this.add.vmsk.IO().rect.y}return I};X.prototype.Wr=function(I,k){if(ht!=0)return;
if(k&&this.IO().K4!=0){k=k.clone();var a=Math.round(this.IO().K4*2.4);k.CJ(a,a)}var n=!1;if(this.add.lsct==gA.EB)return;
var s=this,C=this.IO()!=null&&this.IO().WB,T=this.add.vmsk!=null&&this.add.vmsk.WB,S=this.a07(),D=JSON.stringify(S)!=this.qj.a0o||S.el&&C||S.mz&&T;
if(D){if(S.mz){var o=this.add.vmsk.IO();if(S.el){this.u=this.IO().Rc(o);this.qj.oR=new kK(this.u.rect.x-this.IO().rect.x,this.u.rect.y-this.IO().rect.y)}else this.u=o}if(this.u)n=!0;
if(this.u)this.qj.f5=new kK(this.rect.x-this.u.rect.x,this.rect.y-this.u.rect.y);if(S.el)this.IO().WB=!1;
if(S.mz)this.add.vmsk.WB=!1;this.V(k)}else{if(S.el&&S.mz){this.u.rect.x=this.IO().rect.x+this.qj.oR.x;
this.u.rect.y=this.IO().rect.y+this.qj.oR.y}}if(s.wc()){this.ad(I)}if(s.Lk()){var v;if(this.u)v=new kK(this.rect.x-this.u.rect.x,this.rect.y-this.u.rect.y);
if(this.u&&this.u.isEnabled&&(this.qj.f5==null||!v.a$(this.qj.f5))){this.qj.f5=v;this.V(k);n=!0}}if(fo.get(s.add)!=null)n=!0;
if(n){var g=this.qj.zL;if(k&&g&&g!=!0)g=g.oL(k);else g=k?k:!0;this.qj.zL=g}this.qj.a0o=JSON.stringify(S)};
X.prototype.ad=function(I){if(ht!=0)return;var k=this,a=k.add.vstk,n=new eZ(0,0,I.Q,I._),s,C=k.add.vmsk?this.add.vmsk.IO():null,D=!0,g;
if(C&&C.isEnabled&&C.GW()==0)s=C.GT().clone();else s=n;var T=k.IO();if(T&&T.isEnabled&&T.GW()==0)s=s.LU(k.u.GT());
var S=C&&a;if(a&&(!a.strokeEnabled.v||a.strokeStyleLineWidth.v.val==0))S=!1;if(a&&!a.fillEnabled.v&&S)D=!1;
var o=j.U(s.c()*4);if(D){if(k.add.SoCo)hB.AT(o,k.add.SoCo.Clr.v);if(k.add.GdFl){var v=C&&C.color==0?j.n.oz(k.add.vmsk.d,null,!0):null;
hB.Q0(k.add.GdFl,o,s,I,null,v)}if(k.add.PtFl)hB.pt(k.add.PtFl,o,s,I.add.Patt,k.add.fxrp)}if(S)g=fY.Lg.Gv.indexOf(a.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(C){var d=C.Au;if(S)C.Au=255;var R=j.U(s.c());if(C.GW()!=0)R.fill(Math.round(C.GW()));if(C&&C.isEnabled){var c=C.GT(),e=C.xA();
if(c.a$(s))j.ed(e,R);else j.O0(e,c,R,s)}if(S&&g==2){}else{if(k.add.SoCo&&D){j.yv(R,o,3)}else j.zV(R,s,o,s)}if(S)C.Au=d}k.buffer=o;
k.rect=s;if(S){var O=a.strokeStyleContent.v,U=fY.Lg.qo.indexOf(O.classID),K=this.add.vmsk.IO(a);if(g!=0&&!k.rect.a$(n))k.extend(k.rect.oL(K.GT()));
var d=K.Au;K.Au=255;var _=K.tf(k.rect);K.Au=d;if(K.color==255)j.Us(_);var Z=j.U(k.rect.c()*4);if(U==0)hB.AT(Z,O.Clr.v);
if(U==1)hB.Q0(O,Z,k.rect,I,null,C.color==0?C.rect:null);if(U==2)hB.pt(O,Z,k.rect,I.add.Patt,k.add.fxrp);
var H=a.strokeStyleOpacity.v.val/100;if(H!=1)j.ub(_,H);if(K.color==255)g=2-g;if(g<2){j.z.Pw(Z,k.rect,k.buffer,k.rect,_,k.rect,255,k.rect,1,!1);
if(g==0)j.Bj(R,k.buffer)}if(g==2){j.Bj(_,Z);j.Us(R);j.z.Pw(Z,k.rect,k.buffer,k.rect,R,s,255,k.rect,1,!1);
j.Us(R)}if(K.Au!=255){var G=Z.slice(0);j.IP(G,4278190080,16777215);j.z.Pf("norm",G,k.rect,k.buffer,k.rect,k.rect,1-K.Au/255)}d=C.Au;
C.Au=255;this.alf=C.tf(k.rect);C.Au=d}this.V()};X.prototype.Bi=function(I,k,a,n){var s=this,C=s.add.SoLd.Idnt.v,T=s.add.SoLd,S=E.nF.QX(T.nonAffineTransform),D=j.X.TO(S),o=I.pK(C,T.Crop?T.Crop.v:null,[D.Q,D._],T.Impr.v.classID,a),K=null;
if(o==null)return;var v=o.IV;T.Sz.v.Wdth.v=v[1].Q;T.Sz.v.Hght.v=v[1]._;if(ht!=0)return;var g=o.oE==null?T.Rslt.v.val:o.oE,d=T.quiltWarp.v;
if(j.O8.K2(d))d=null;var R=j.t.UX(S,v[1]);if(d){var D=j.X.TO(j.O8.ck(d)[3]),c=D.x,e=D.y,O=1/D.Q,U=1/D._;
R=j.t.UX(S);R=j.t.Rc(R,[O,0,-c*O,0,U,-e*U,0,0])}if(!k&&!s.st()&&d==null){var _=I.R.indexOf(s),Z=X.yZ(s);
for(var Y=0;Y<_;Y++){var H=I.R[Y];if(H.add.SoLd&&!H.st()&&X.yZ(H)[0]==Z[0]){var G=X.yZ(H);K={buffer:H.buffer.slice(0),rect:H.rect.clone()};
K.rect.offset(Math.round(Z[1]-G[1]),Math.round(Z[2]-G[2]));break}}}if(K==null)K=E.nF.dq(v,k?0:1,R,d,null,null,null,k);
if(K==null){s.buffer=j.U();s.rect=new eZ}else if(s.st()){var N=s.kx(I);if(n){N.buffer.fill(0);j.ao(K.buffer,K.rect,N.buffer,N.rect)}else{N.buffer=K.buffer;
N.rect=K.rect.clone()}this.qB(I,k)}else{s.buffer=K.buffer;s.rect=K.rect}s.Wr(I);s.V();I.V()};X.yZ=function(I){var k=I.add.SoLd,a=k.Idnt.v,n=E.nF.QX(k.nonAffineTransform),s=j.t.UX(n,new eZ(0,0,1e3,1e3)),C=k.quiltWarp.v;
if(j.O8.K2(C))C=null;return[[a,s[0],s[1],s[3],s[4],s[6],s[7],C==null].join(":"),s[2],s[5]]};X.prototype.qB=function(I,k){if(k==null)k=!1;
var a=this.kx(I),n=this.add.SoLd.filterFX.v,s=gJ.apS(n),C=new eZ(0,0,I.Q,I._),T=a.rect.oL(C),S=a.rect.clone();
S.CJ(s.x,s.y);var D={buffer:null,rect:T.LU(S)};D.buffer=j.U(D.rect.c()*4);j.ao(a.buffer,a.rect,D.buffer,D.rect);
if(n.enab.v&&k==!1){var o=n.filterFXList.v;for(var Y=0;Y<o.length;Y++){var v=o[Y].v;if(v.enab.v==!1)continue;
var g=v.blendOptions.v,d=aU.W$(g.Md.v.BlnM),R=g.Opct.v.val/100,c=j.G.GW(v.FrgC.v),e=j.G.GW(v.BckC.v),O=gJ.Qa(v),U={buffer:j.U(D.buffer.length),rect:D.rect.clone()},K=v.Fltr?v.Fltr.v:null;
if(fo.ke[O]!=null){var _=fo.ke[O],Z=fo.Zh(_,K);if(Z)fo.uq(Z,D.buffer,U.buffer,D.rect)}else gJ.uq(O,D,K,c,e,U,[I.add.lnk2?I.add.lnk2:[],this.IO(),I.TL]);
if(d=="norm"&&R==1)D=U;else if(d=="norm"){j.z.Pw(U.buffer,U.rect,D.buffer,D.rect,null,null,null,D.rect,R)}else{j.z.Pf(d,U.buffer,U.rect,D.buffer,D.rect,D.rect,R)}}}this.rect=D.rect;
this.buffer=D.buffer;this.Jk();this.V();I.V()};X.prototype.SL=function(I,k,a){this.pO=this.am1(I,k,a)};
X.prototype.Fk=function(I,k){var a=this.am1(I,k,!0);if(a==null)return null;var n={h7:a.YY,b6:a.am,rect:a.kE};
if(n.h7==1||n.h7==3){var s=n.rect,C=j.U(s.Q*s._*4);j.yv(n.b6,C,0);j.yv(n.b6,C,1);j.yv(n.b6,C,2);j.ak9(I.f.channel,I.f.rect,C,s);
n.b6=C}return n};X.prototype.am1=function(I,k,a){var n,s,C,T,S,D,o;if(this.YY<=0){var v=j.U(this.rect.c());
j.Ez(this.buffer,v,3);n=j._R.hB(k,{channel:v,rect:this.rect},3);if(n==null)return null;var g=j.PD(n.channel,n.rect);
T=n.rect.clone();S=this.rect.clone();s=j.U(T.c()*4);j.ao(this.buffer,S,s,T);j.yv(n.channel,s,3);C=this.buffer.slice(0);
if(!a){var d=k.channel.slice(0);j.Us(d);j.zV(d,k.rect,C,S)}D=this.buffer.slice(0);o=this.rect.clone()}if(this.YY==1||this.YY==3){var R=this.YY==1?this.IO():this.kx(I).u;
T=k.rect.clone();S=R.rect.clone();s=R.vg(T);var C=R.channel.slice(0);if(!a)j.z.X6(R.color==255?j.ft(T.c()):j.k5(T.c()),T,C,S,k.channel,T,1);
D=R.channel.slice(0);o=R.rect.clone()}return{YY:this.YY,am:s,kE:T,UL:C,W3:S,hj:D,Ov:o}};X.prototype.Ib=function(I,k){var a=this.pO;
if(a.YY==0){this.rect=a.Ov;this.buffer=a.hj;this.V()}if(a.YY==1||a.YY==3){var n=a.YY==1?this.IO():this.kx(I).u;
n.channel=a.hj;n.rect=a.Ov;if(this.YY==1){n.WB=!0;this.Wr(I)}if(this.YY==3)this.V()}this.pO=k};X.prototype.Mk=function(I,k){if(this.YY<=0&&k.rect.a$(this.rect)){var a=j.U(this.rect.c());
j.Ez(this.buffer,a,3);if(j.a$(I.f.channel,a)){var n=this.rect,s=this.buffer;this.pO={YY:this.YY,am:s.slice(0),kE:n.clone(),UL:j.U(0),W3:new eZ,hj:j.U(0),Ov:new eZ};
return!0}}var C=this.pO;if(C==null)return!1;if(C.YY!=this.YY)return!1;if(!k.rect.a$(C.kE))return!1;var T=C.W3.oL(C.kE);
if(C.YY<=0){if(!T.a$(this.rect))return!1;var S=j.U(C.am.length>>2);j.Ez(C.am,S,3);if(!j.a$(k.channel,S))return!1;
var D=j.U(T.Q*T._*4);j.ao(C.UL,C.W3,D,T);j.z.Pf("norm",C.am,C.kE,D,T,T,1);return j.a$(D,this.buffer)}if(C.YY==1||C.YY==3){var o=C.YY==1?this.IO():this.kx(I).u;
if(!T.a$(o.rect))return!1;var v=j.U(T.c());v.fill(o.color);j.O0(C.UL,C.W3,v,T);j.z.X6(C.am,C.kE,v,T,k.channel,T,1);
return j.a$(v,o.channel)}};X.prototype.V8=function(I,k,a,n){var s=this.pO;s.kE.offset(k,a);var C=s.W3.oL(s.kE);
if(s.YY<=0){var T=j.U(C.c()*4);j.ao(s.UL,s.W3,T,C);j.z.Pf("norm",s.am,s.kE,T,C,C,1);this.buffer=T;this.rect=C;
this.V()}else{var S=this.YY==1?this.IO():this.kx(I).u,D=j.U(C.c());D.fill(S.color);j.O0(s.UL,s.W3,D,C);
j.z.X6(s.am,s.kE,D,C,n.channel,C,1);S.channel=D;S.rect=C.clone();if(this.YY==1){S.WB=!0;this.Wr(I)}if(this.YY==3)this.V()}};
X.prototype.abg=function(I){var k=[-1,0,1,2];if(I)k.push(3);if(this.u)k.push(-2);if(this.fm)k.push(-3);
return k};X.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};X.prototype.GF=function(bQ){this.add.luni=this.name=bQ};
X.prototype.N5=function(I){var k=this.add.lnsr,a=this.add.TySh;if(k=="rend"&&a){var n=f4.iZ(a.RW);this.GF(n.slice(0,n.length-1).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))}};
X.prototype.K7=function(){return(this.HA&1<<1)==0};X.prototype.Lk=function(){return(this.HA&1<<4)==0};
X.prototype.V0=function(){return(this.HA&1<<5)!=0};X.prototype.avt=function(){var I=this;if(I.add.lnsr!="bgnd"){I.add.lnsr="bgnd";
I.GF("Background");I.add.lspf=1<<2}};X.prototype.aoT=function(){var I=this;if(I.add.lnsr=="bgnd"){delete I.add.lnsr;
I.GF("Layer 0");I.add.lspf=0}};X.prototype.hY=function(I){var k=this.add.lspf;return k==null?!1:(k>>I&1)!=0};
X.prototype.ol=function(I){if(I&&!this.K7())this.HA-=2;if(!I&&this.K7())this.HA+=2};X.prototype.ez=function(){var I=this.add.lmfx;
if(I==null)return!1;for(var k in I){if(k=="masterFXSwitch")continue;if(k=="Scl")continue;if(k=="classID")continue;
if(I[k].v.length>0)return!0}return!1};X.prototype.st=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
X.prototype.IM=function(){var I=this.add.lmfx;if(I==null)return!1;if(!I.masterFXSwitch.v)return!1;for(var k in I){if(k=="masterFXSwitch")continue;
if(k=="Scl")continue;if(k=="classID")continue;var a=I[k].v;for(var Y=0;Y<a.length;Y++)if(a[Y].v.enab.v)return!0}return!1};
X.prototype.JV=function(){var I=this,k=I.add.SoLd,a=I.add.TySh,n=I.add.vmsk,s=[];if(k)s=E.nF.QX(k.nonAffineTransform);
if(a&&this.qj.xu){s=j.X.Eu(I.qj.xu).s;j.X.h(s,a.h,s)}if(n)s=j.X.Eu(n.aqW()).s;return s};X.prototype.mQ=function(I,k,a,n){if(ht==1)return j.X.TO(this.JV());
var s=new eZ,C=this.Jf(I,a,n);if(C.indexOf(0)!=-1)s=s.oL(this.rect);if(C.indexOf(1)!=-1){var T=this.IO(),S=T.GT();
s=a&&T.GW()==0?s.KH()?S:s.LU(S):s.oL(S)}if(C.indexOf(2)!=-1){var D=this.add.vmsk,o=this.add.vstk,v;if(k){if(D.Ut.length>1){var g=j.n.ji(D.d,null,D.Ut);
v=j.X.TO(g);if(v.KH())v=null}if(v==null)v=j.n.oz(D.d,D.T.length!=0?D.T:null)}else v=j.n.oz(D.d);if(!n&&o&&o.strokeEnabled.v){var d=o.strokeStyleLineAlignment.v.strokeStyleLineAlignment,R=o.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if(d!="strokeStyleAlignInside"){var c=o.strokeStyleLineWidth.v.val;if(R=="strokeStyleMiterJoin")v=new eZ(0,0,I.Q,I._);
else v.CJ(c,c)}}s=s.oL(v)}if(C.indexOf(3)!=-1)s=s.oL(this.kx(I).u.GT());if(C.length==0&&this.wc())s=n?new eZ(0,0,0,0):new eZ(0,0,I.Q,I._);
return s};X.prototype.Iv=function(){var I=this.add.artb,k=I.artboardBackgroundType.v,a=0;if(k==1)a=4294967295;
else if(k==2)a=4278190080;else if(k==3)a=0;else if(k==4){a=I.Clr.v;a=255<<24|a.Bl.v<<16|a.Grn.v<<8|a.Rd.v}else throw k;
return a};X.prototype.OR=function(){var I=this.add.artb.artboardRect.v,k=I.Btom.v,a=I.Left.v,n=I.Rght.v,top=I.Top.v;
return new eZ(a,top,n-a,k-top)};X.prototype.IA=function(I){var k=X.ZZ(I);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=k};X.ZZ=function(I){var k={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
k.Btom.v=I.y+I._;k.Left.v=I.x;k.Rght.v=I.x+I.Q;k.Top.v=I.y;return k};X.prototype.Jf=function(I,k,a){var n=[],s=this;
if(!k&&s.fv&&a){n.push(2)}else if(s.YY<=0||k){if(s.Lk()){if(ht==1&&s.add.TySh)n.push(0);if(ht==1&&s.add.SoLd)n.push(0);
else if(!this.rect.KH()||s.add.SoLd)n.push(0)}if(s.IO()&&!s.IO().rect.KH())if(s.IO().n2||k)n.push(1);
if(s.add.vmsk)if(s.add.vmsk.n2||k)n.push(2);if(s.st()&&s.kx(I).u&&!s.kx(I).u.rect.KH())n.push(3)}else if(s.YY==1){n.push(1);
if(s.IO().n2&&!s.IO().rect.KH()){if(s.Lk())if(!this.rect.KH())n.push(0);if(s.add.vmsk)if(s.add.vmsk.n2)n.push(2)}}else if(s.YY==3&&!s.kx(I).u.rect.KH())n.push(3);
if(s.add.artb&&n.indexOf(0)==-1)n.push(0);n.sort();return n};X.prototype.IO=function(){var I=this;return I.fm?I.fm:I.add.vmsk&&I.add.vmsk.isEnabled?null:I.u};
X.prototype.kx=function(I){var k=this.add.SoLd.placed.v,a=I.add.FEid;if(a==null)return null;for(var Y=0;
Y<a.length;Y++)if(a[Y].id==k)return a[Y];return null};X.prototype.extend=function(I){j.aDO(this,I)};
X.prototype.awB=function(I,k,a){var n=I.clone();if(this.IM()){var s=this.add.lmfx,C=k.root.lR(k.R.indexOf(this)),T=s.gradientFillMulti.v,S=!1;
for(var Y=0;Y<T.length;Y++)if(T[Y].v.enab.v&&T[Y].v.Algn.v)S=!0;if(S)n=n.oL(C.GT(k,!1));var D=hB.aqy(this.add.lmfx,k,a);
n.offset(D.x,D.y);n.Q+=D.Q;n._+=D._}return n};X.prototype.Jk=function(){if(this.Lk())j.KK(this);var I=this.IO();
if(I)I.Jk()};X.prototype.clone=function(){var I=new X;I.rect=this.rect.clone();I.buffer=this.buffer.slice(0);
I.pu=this.pu;I.opacity=this.opacity;I.Pi=this.Pi;I.HA=this.HA;I.name=this.name;I.z4=this.z4.slice(0);
if(this.u)I.u=this.u.clone();if(this.fm)I.fm=this.fm.clone();for(var k in this.add)I.add[k]=fe.clone(k,this.add[k]);
return I};X.prototype.kn=function(I){var k=this;if(k.add.TySh)delete k.add.TySh;if(k.add.SoLd){var a=this.Wk(I,this.buffer,this.rect);
if(a){this.buffer=a.GG;this.rect=a.rect;this.V()}delete k.add.SoLd}if(k.add.SoCo||k.add.GdFl||k.add.PtFl){if(k.add.vogk)delete k.add.vogk;
if(k.add.SoCo)delete k.add.SoCo;if(k.add.GdFl)delete k.add.GdFl;if(k.add.PtFl)delete k.add.PtFl;if(k.add.vmsk){console.log(k.fm,k.u);
delete k.add.vmsk;if(k.fm==null&&k.u)delete k.u;else if(k.fm!=null&&k.u!=null){k.u=k.fm;delete k.fm}}}if(!k.hd()&&fo.get(k.add)==null&&!this.Lk())this.HA-=16};
X.prototype.je=function(I){var k=255,a=0;if(I==2){var n=this.add.SoLd.filterFX.v;if(n.filterMaskDensity)k=n.filterMaskDensity.v;
if(n.filterMaskFeather)a=n.filterMaskFeather.v}else{var s=I==0?this.IO():this.add.vmsk;k=s.Au;a=s.K4}return{d9:I,GZ:k,u_:a}};
X.prototype.aaT=function(I){if(I.d9==2){var k=this.add.SoLd.filterFX.v;if(I.GZ==255)delete k.filterMaskDensity;
else k.filterMaskDensity={t:"long",v:I.GZ};if(I.u_==0)delete k.filterMaskFeather;else k.filterMaskFeather={t:"doub",v:I.u_};
this.V()}else{var a=I.d9==0?this.IO():this.add.vmsk;a.Au=I.GZ;a.K4=I.u_;a.WB=!0}};X.prototype.Bb=function(){var I=this,k=I.add.vmsk;
if(k==null)return;I.add.vogk=j.Z_.aDY(k.d)};X.Bb=function(I){var k=[],a=j.n.gZ(I);for(var n=0;n<a;n++)k.push(j.Z_.k5());
return k};var gA={M8:0,rW:1,DG:2,EB:3};X.uC=function(){this.name="Mask";this.zh=!1;this.Ej={$:255,H:0,J:0};
this.Zu=50;this._W=0;this.color=255;this.n2=!0;this.isEnabled=!0;this.yj=!1;this.Au=255;this.K4=0;this.rect=new eZ;
this.channel=j.U(0);this.Yq=null;this.a0M=null;this.WB=!0};X.uC.prototype.Rc=function(I){if(!this.isEnabled)return I;
var k=new X.uC;k.color=Math.round(this.GW()*I.GW()/255);if(this.GW()==0&&I.GW()==0)k.rect=this.GT().LU(I.GT());
else if(I.GW()==0)k.rect=I.GT().clone();else if(this.GW()==0)k.rect=this.GT().clone();else k.rect=this.GT().oL(I.GT());
k.channel=this.tf(k.rect);k.Au=255;k.K4=0;var a=I.tf(k.rect);j.axG(a,k.rect,k.channel,k.rect);return k};
X.uC.prototype.GT=function(){if(this.K4==0)return this.rect;var I=Math.ceil(this.K4*2.2),k=this.rect.clone();
if(k.y==0){if(k.x==0)k.Q+=I;else k.CJ(I,0);k._+=I}else k.CJ(I,I);return k};X.uC.prototype.xA=function(){if(this.K4==0&&this.Au==255)return this.channel;
if(this.K4==0){var I=this.channel.slice(0);j.Us(I);j.ub(I,this.Au/255);j.Us(I);return I}var k=this.GT(),a=this.vg(k),I=j.U(k.c());
j.ox.Xh(a,I,k,this.K4);if(this.Au!=255){j.Us(I);j.ub(I,this.Au/255);j.Us(I)}return I};X.uC.prototype.GW=function(){return Math.round(255-(255-this.color)*(this.Au/255))};
X.uC.prototype.extend=function(I){j.extend(this,I,this.color)};X.uC.prototype.Jk=function(){if(this.color==255)j.Us(this.channel);
j.Jk(this);if(this.color==255)j.Us(this.channel)};X.uC.prototype.clone=function(){var I=new X.uC;I.name=this.name;
I.zh=this.zh;I.Ej=this.Ej;I.Zu=this.Zu;I._W=this._W;I.color=this.color;I.n2=this.n2;I.isEnabled=this.isEnabled;
I.yj=this.yj;I.Au=this.Au;I.K4=this.K4;I.rect=this.rect.clone();I.channel=this.channel.slice(0);return I};
X.uC.prototype.vg=function(I,k){if(k==null)k=j.U(I.c());k.fill(this.color);j.O0(this.channel,this.rect,k,I);
return k};X.uC.prototype.tf=function(I,k){var a=this.GT(),n=this.xA();if(k==null)k=j.U(I.c());k.fill(this.GW());
j.O0(n,a,k,I);return k};X.JB=function(){this.n2=!0;this.isEnabled=!0;this.Au=255;this.K4=0;this.eh=0;
this.Np=1;this.d=[{type:6},{type:8,all:0}];this.Ma=[-3,-3];this.u8=!1;this.fm=null;this.WB=!0;this.T=[];
this.Ut=[]};X.JB.prototype.aqW=function(I){var k=X.JB.xa(this.d),a=new dc;if(I)a.rotate(-this.eh);j.n.de(k,a);
return j.n.oz(k)};X.JB.prototype.sv=function(){var I=this.aqW(!0),k=j.X.Eu(I).s,a=new dc;a.rotate(this.eh);
j.X.h(k,a,k);return k};X.JB.prototype.offset=function(I,k){this.fm=this.IO();j.n.de(this.d,new dc(1,0,0,1,I,k));
this.fm.rect.offset(I,k)};X.JB.prototype.IO=function(I){if(!this.WB&&this.fm&&I==null){this.fm.isEnabled=this.isEnabled;
return this.fm}var k=j.n.oz(this.d),a="strokeStyleLineAlignment",n="strokeStyleLineJoinType";if(k.c()>2e4*2e4)k=new eZ(0,0,100,100);
if(I&&I[a].v[a]!="strokeStyleAlignInside"){var s=1;if(I[n].v[n]=="strokeStyleMiterJoin"){var C=j.n.axB(this.d),T=C/2,S=Math.sin(T),D=Math.cos(T);
D/=S;S=1;var s=Math.sqrt(D*D+S*S);if(isNaN(s)||s<1)s=1}s*=I[a].v[a]=="strokeStyleAlignOutside"?1:.5;
var o=Math.ceil(I.strokeStyleLineWidth.v.val*s);o=Math.min(o,600);k.CJ(o,o)}k=j.X.aj(k);var v=new X.uC;
v.color=j.n.i7(this.d)?0:255;v.n2=this.n2;v.isEnabled=this.isEnabled;v.yj=!0;v.rect=k;v.Au=this.Au;v.K4=this.K4;
v.channel=j.U(v.rect.c());if(!k.KH())j.n.abc(this.d,v.channel,v.rect,I);if(I==null){this.fm=v;this.WB=!1}return v};
X.JB.prototype.clone=function(){var I=new X.JB;I.n2=this.n2;I.isEnabled=this.isEnabled;I.Au=this.Au;
I.K4=this.K4;I.eh=this.eh;I.d=X.JB.xa(this.d);I.Ma=this.Ma.slice(0);I.u8=this.u8;I.T=this.T.slice(0);
I.Ut=this.Ut.slice(0);return I};X.JB.prototype.concat=function(I){var k=I.d.slice(2);if(k.length==0)return;
k[0].Np=3;this.d=this.d.concat(k)};X.JB.xa=function(I){var k=[];for(var Y=0;Y<I.length;Y++){var a=I[Y];
if(a.type>5||a.type==0||a.type==3)k.push(JSON.parse(JSON.stringify(a)));else k.push({type:a.type,VW:a.VW.clone(),A:a.A.clone(),zK:a.zK.clone()})}return k};
X.JB.ad$=function(I,k,a){if(I.length!=k.length)return!1;for(var Y=2;Y<I.length;Y++){var n=I[Y],s=k[Y];
if(n.type!=s.type)return!1;if(n.type==0||n.type==3){if(n.length!=s.length||!a&&n.Np!=s.Np)return!1}else if(!n.VW.a$(s.VW)||!n.A.a$(s.A)||!n.zK.a$(s.zK))return!1}return!0};
X.JB.prototype.aDB=function(){var I=this.d;for(var Y=3;Y<I.length;Y++)if(I[Y].type==0||I[Y].type==3)I[Y].Np=-1};
X.h4=function(){this.type=null;this.CL=2;this.DZ=null;this.f3="";this.nE="";this.e8="";this.open=0;this.raw=null;
this.IV=null;this.a3B="";this.P5=!1};X.h4.prototype.clone=function(){var I=new X.h4;I.type=this.type;
I.CL=this.CL;I.DZ=this.DZ;I.f3=this.f3;I.nE=this.nE;I.e8=this.e8;I.open=this.open;I.raw=new Uint8Array(this.raw.buffer.slice(0));
return I};X.h4.prototype.TB=function(I,k,a,n,s){if(a==null)a="none";var C=this,T=kk.V1(C.raw.buffer),S=T=="svg"||T=="pdf"||T=="ai";
if(C.IV){var D=k&&S&&Math.max(C.IV[1].Q,C.IV[1]._)<Math.max(k[0],k[1]);if(!D&&a==this.a3B&&!C.P5)return}this.a3B=a;
if(!S)I=0;if(T==null){alert("Unsupported format: "+u.x8(C.raw,0,4));return null}var o=kk.wV(T);if(T=="psd"&&ht==1){var v=eF.avR(C.raw)[0],g=new Uint8Array(v.data);
C.IV=[g,v.e3]}else if(o.di){var d=new iJ(name+(T=="psd"?"":"-"+T)+".psd"),g;o.Zn(C.raw.buffer,d,k);var R=new eZ(0,0,d.Q,d._);
if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(a)!=-1){var c=[];for(var Y=0;Y<d.R.length;
Y++){var e=d.R[Y],O=e.buffer;if(!e.rect.a$(R)){O=j.U(R.c()*4);j.ao(e.buffer,e.rect,O,R);console.log("resizing")}c.push(O)}g=j.U(R.c()*4);
j.stack.stack(c,g,a)}else{for(var Y=0;Y<d.R.length;Y++)if(d.R[Y].wc())d.R[Y].Wr(d);if(n&&d.P5){var U=jW.PX(d,n,s);
C.P5=!U;if(U)jW.tY(d,n,s)}d.N_();d.V();d.pa();g=d.TB()}C.IV=[g,R];C.oE=d.oE!=null&&d.oE!=0?d.oE:72}else if(o){var K=o.Zn(C.raw.buffer)[0];
C.IV=[new Uint8Array(K.data),K.e3];C.oE=K.oE!=null&&K.oE!=0?K.oE:72}if(C.IV){if(I==1){var O=C.IV[0],_=C.IV[1],Z=j.U(_.c());
j.Ez(O,Z,3);var H=j.PD(Z,_),G=j.U(H.c()*4);j.ao(O,_,G,H);H.x=H.y=0;C.IV=[G,H]}j.iz(C.IV)}};X.T0="0";
X.Va="2";X.w2="2.5";X.H$="2.6";X.P1="3";X.hR="4";X.EO="4.5";X.asQ="4.6";X.a3n="5";X.o4="5.5";X.t1="6";
X.auD="7";X.ajS="8";X.Zg="9";X.od="9.3";X.aqB="9.5";X.x6="9.6";X.AZ="10";X.EF="11";X.oV="12";X.IW="13";
X.Ro="13.1";X.apD="13.2";X.iR="13.3";X.wI="13.4";X.h5="14";X.UN="14.1";X.zY="14.2";X.mR="14.3";X.$M="17";
X.Jx="18";X.az2="19";X.Rn="19.5";X.QJ="19.6";X.wX="19.7";X.tV="19.8";X.zO="20";X.jT="21";X.gs="21.5";
X.Ik="22";X.Mu="22.5";X.Jn="23";X.at8="24";X.u5="25";X.agd="26";X.ayH="27";X.eB="28";X.Op="29";X.Qr="30";
X.oH="31";X.mT="32";X.azG="32.5";X.ce="33";X.bi="34";X.Ab="35";X._k="36";X.qk="36.5";X.L7="37";X.CN="37.5";
X.aAz="37.6";X.kg="38";X.eA="38.5";X.R6="38.6";X.J5="39";X.MR="40";X.asP="41";X.a9$="42";X.K$="50";X.CK="51";
X.lP="52";X.hw="53";X.YS="54";X.a3m="54.5";X.ph="54.6";X.axM="54.7";X.Za="54.8";X.AU="55";X.Hb="55.5";
X._6="56";X.Ve="57";X.E4="58";X.Gt="59";X.kT="60";function bA(){this.depth=0;this.index=-1;this.o=null;
this.fh=null;this.AM=-1;this.children=null;this.parent=null;this.l0=null}bA.prototype.arU=function(I,k){if(this.depth!=0)I.push(this.o.getName());
if(this.children)for(var Y=0;Y<this.children.length;Y++)this.children[Y].arU(I,k);if(I.length>k.B9.length)k.B9=I.slice(0);
if(this.depth!=0)I.pop()};bA.prototype.a0w=function(){var I=0;if(this.o.hd()){for(var Y=0;Y<this.children.length;
Y++)I+=this.children[Y].a0w()}else if(this.o.buffer)I+=this.o.buffer.length;return I};bA.prototype.lR=function(I){var k=this.l0[I];
return this.l0[I]};bA.prototype.Wc=function(I,k){var a=this.o;if(!a.K7()||a.hY(2)||a.hY(31))return null;
if(a.AY()){var n=a.u.rect._s(I);if(!n&&a.u.color==0)return}if(a.hd()){for(var Y=0;Y<this.children.length;
Y++){var bQ=this.children[Y];bQ.Wc(I,k)}}else if(ht==1){var s=a.JV();if(I._s(j.X.TO(s))&&k.indexOf(this.index)==-1)k.push(this.index)}else if(a.rect._s(I))k.push(this.index)};
bA.prototype.oJ=function(I,k){var a=this.o;if(!a.K7()||a.hY(2)||a.hY(31))return null;if(a.AY()){if(a.u.rect.oi(I)){if(!j.oJ(I,a.u.channel,a.u.rect))return null}else if(a.u.color==0)return null}if(a.hd()){if(a.add.artb&&!a.OR().oi(I))return null;
for(var Y=this.children.length-1;Y>=0;Y--){var bQ=this.children[Y],n=bQ.oJ(I,k);if(n&&k==null)return n}return null}else if(ht==1){if(a.add.vmsk){var s=a.add.vstk,C=!s.fillEnabled.v&&!a.kb,T=s.strokeStyleLineWidth.v.val*.5,S=j.n.oJ(a.add.vmsk.d,I,C,T);
return S.Gq==-1?null:this}var D=a.JV();if(id.lr(D,I.x,I.y))return this}else if(a.add.TySh&&a.rect.oi(I)||j.aCT(I,a.buffer,a.rect)){if(k==null)return this;
else k.push(this.index)}return null};bA.prototype.ar6=function(I){var k=this.o;if(!k.K7()||k.hY(2)||k.hY(31))return null;
var a=k.add.vmsk;if(a&&a.isEnabled){var n=j.n.oJ(a.d,I).Gq;if(n!=-1)return{akQ:this,aa_:n}}if(k.hd()){if(k.add.artb&&!k.OR().oi(I))return null;
for(var Y=this.children.length-1;Y>=0;Y--){var bQ=this.children[Y],s=bQ.ar6(I);if(s)return s}return null}return null};
bA.prototype.Ga=function(I,k){I.push(this.index);if(this.o.hd()){I.push(this.AM);if(k)if(this.o.YY==1&&this.o.IO().n2==!1)return;
for(var Y=0;Y<this.children.length;Y++)this.children[Y].Ga(I)}};bA.l_=function(){var I=document.createElement("canvas");
return I.getContext("2d")};bA.aCM=function(I,k){var a,n;if(I.Q>I._){a=k;n=Math.floor(k*(I._/I.Q))}else{a=Math.floor(k*(I.Q/I._));
n=k}return new kK(a,n)};bA.Ob=32;bA.cr=1;bA.prototype.cO=function(I,k,a){var n=bA.cr,s=this.o;if(s.hd()&&s.add.artb!=null)k=s.OR();
var C=n==0?s.rect:k;if(C.KH()||s.add.TySh)C=k;var T=bA.Ob*E.Y(),S=bA.aCM(C,T),D=S.x,o=S.y,v=bA.aCM(k,T),g=fo.get(s.add)!=null;
if(s.wc()&&s.add.vmsk==null||s.add.TySh||g)D=o=Math.max(o,16);else if(s.hd()){D=o=Math.round(18*E.Y())}else{D=Math.max(D,6);
o=Math.max(o,6)}if(a&&s.w8==null){s.w8=bA.l_();if(ht==0){s.n4=bA.l_();s.Gl=bA.l_();s.lT=bA.l_()}}var d=s.wc()&&s.add.vmsk;
if(ht==1&&!s.hd()){if(a)j.yd.aln(s.w8,D,o,I,this)}else if(d){if(a&&s.add.vstk)j.yd.b_(s.w8,D,o,C,s.buffer,s.rect,!1,null,!s.add.vstk.fillEnabled.v&&!s.add.vstk.strokeEnabled.v);
if(a)j.yd.aAO(s.w8,D,o)}else if(s.add.TySh){if(a)j.yd.asR(s.w8,o,o,s.add.TySh)}else if(s.add.SoCo){if(a)j.yd.atb(s.w8,o,o,s.add.SoCo)}else if(s.add.GdFl){if(a)j.yd.akE(s.w8,o,o,s.add.GdFl)}else if(s.add.PtFl){if(a)j.yd.ajd(s.w8,o,o,s.add.PtFl,I)}else if(g){if(a)j.yd.aEC(s.w8,o,o,s.add)}else if(s.add.SoLd){if(a)j.yd.b_(s.w8,D,o,C,s.buffer,s.rect,!1);
if(a)j.yd.a1I(s.w8,D,o,s.add.SoLd)}else if(s.hd()){}else{if(a){if(s.Lk())j.yd.b_(s.w8,D,o,C,s.buffer,s.rect,!1);
else{j.yd.aqa(s.w8,o,o)}}}var R=s.IO();if(a){if(R)j.yd._3(s.n4,v.x,v.y,k,R);if(s.st()&&s.kx(I)&&s.kx(I).u){var c=s.kx(I).u;
j.yd._3(s.lT,v.x,v.y,k,c)}if(!d&&s.add.vmsk){j.yd._3(s.Gl,v.x,v.y,k,s.add.vmsk.IO(),!0)}}if(R||s.add.vmsk)o=Math.max(o,v.y);
s.ae8=Math.max(o,16);if(a!=!0&&s.hd()&&(s.add.lsct==gA.rW||I.R.length<4e3))for(var Y=0;Y<this.children.length;
Y++)this.children[Y].cO(I,k)};bA.prototype.a59=function(I,k,a,n){this.depth=a;var s=I[k];if(n==null)n=[];
this.l0=n;if(s.add.lsct==gA.EB){this.fh=s;this.AM=k-1;this.children=[];var Y=k+1;while(!0){var C=I[Y];
if(C==null)console.log(Y,I.length);if(C.add.lsct==gA.rW||C.add.lsct==gA.DG){if(s.add.lyid==C.add.lyid)s.add.lyid+=16777215;
this.o=C;this.index=Y-1;n[this.index]=this;n[k-1]=this;break}var T=new bA;T.parent=this;Y=T.a59(I,Y,a+1,n);
this.children.push(T)}return Y+1}else{this.o=s;this.index=k-1;n[this.index]=this;return k+1}};bA.prototype.U5=function(I,k,a,n){var s=this.lR(a),C=I;
while(s.parent!=null){C=s.o.awB(C,k,n);s=s.parent}return C};bA.prototype.GT=function(I,k){var a=this.o,n=new eZ;
if(!a.K7())return n;var s=a.IO();if(a.hd())for(var Y=0;Y<this.children.length;Y++){var C=this.children[Y].GT(I,!0);
n=n.oL(C)}else if(fo.get(a.add)!=null)n=a.AY()&&a.u.color==0?a.u.GT().clone():new eZ(0,0,I.Q,I._);else if(a.wc()&&a.add.vmsk&&a.add.vmsk.isEnabled&&a.add.vstk){n=a.rect.clone()}else if(a.wc()&&s&&s.isEnabled&&s.GW()!=0)n=new eZ(0,0,I.Q,I._);
else{n=a.mQ(I,!1,!0);if(a.add.vmsk)n=j.X.aj(n)}return k?a.awB(n,I):n};bA.Qt={delete:function(I){if(I&&I.Q)I.delete()},U:function(I,k){return dZ.QV?new dZ.$n(I,k):j.U(I*k*4)},Zt:function(I,k,a){if(dZ.QV){if(I==null||I.Q!=k||I._!=a){bA.Qt.delete(I);
return new dZ.$n(k,a)}}else{if(I==null||!(I instanceof Uint8Array)||I.length!=k*a*4){bA.Qt.delete(I);
return j.U(k*a*4)}}return I},O0:function(I,k,a,n,s){(dZ.QV?dZ.zq:j.ao)(I,k,a,n,s)},Pw:function(I,k,a,n,s,C,T,S,Y,D,o){(dZ.QV?dZ.z.sT:j.z.Pw)(I,k,a,n,s,C,T,S,Y,D,o)},adn:function(I,k,a,n,s,C,T,S){var D=a.clone(),o=s.Q,v=s._,g=D.x,d=D.y,R=D.x+D.Q>o?-1:0,c=D.x<0?2:1,e=D.y+D._>v?-1:0,O=D.y<0?2:1;
for(var U=e;U<O;U++)for(var K=R;K<c;K++){D.x=g+K*o;D.y=d+U*v;bA.Qt.Pf(I,k,D,n,s,C,T,S)}},Pf:function(I,k,a,n,s,C,T,S){if(dZ.QV)dZ.z.atd(I,k,a,n,s,C,T,S);
else j.z.Pf(I,k,a,n,s,C,T,S)},IP:function(I,k,a){if(dZ.QV){dZ.FL(I);dZ.g_(k,a)}else j.IP(I,k,a)},a51:function(I,k,a,n,s){if(dZ.QV){dZ.z.sT(null,null,n,s,I,k,a,s,1,!1)}else{if(a==255)j.zV(I,k,n,s);
else{var C=j.U(k.c());j.rj(n,s,C,k);j.r_(I,C);j.IP(n,0,16777215);j.ak9(C,k,n,s)}}},gR:function(I,k,a,n){if(dZ.QV)dZ.z.sT(null,null,a,n,I,k,0,n,1,!1);
else j.gR(I,k,a,n)}};bA.prototype.nH=function(I,k,a,n,s,C){var T=typeof C=="number";if(!this.o.hd()&&(T&&this.index>C||!T&&C.indexOf(this.index)==-1)){return}var S=this.o,D=hB.os(S),o=bA.Qt,v=S.wc()?S.IO():S.u;
if(!S.K7())return;if(S.AY()&&v.rect.KH()&&v.GW()==0){return}if(S.add.vstk==null&&this.GT(n,!1).KH()){return}if(S.wc()&&S.rect.KH())return;
var g=this.GT(n,!0).LU(a);if(!k.a$(a)&&!a._s(g))return;if(S.hd()&&S.add.artb){var d=S.OR();a=a.LU(d)}var R=bA.aBM(S,s,D);
if(!R){this.a8R(I,k,a,n,s,C);return}S.qj.AN=o.Zt(S.qj.AN,g.Q,g._);o.O0(I,k,S.qj.AN,g,a);this.a8R(S.qj.AN,g,a,n,s,C);
o.Pw(S.qj.AN,g,I,k,null,null,0,a,S.opacity/255,S.pu=="diss",D.h_)};bA.aBM=function(I,k,a){if(a.h_[0]*a.h_[1]*a.h_[2]==0)return!0;
return I.opacity!=255&&(k.length!=0||I.hd()||I.IM())};bA.a2p={qj:{}};bA.prototype.a8R=function(I,k,a,n,s,C){var T=this.o,S=hB.os(T),D=fo.get(T.add)!=null,o=bA.Qt,v=bA.aBM(T,s,S),g=v?1:T.opacity/255,d=T.wc()?T.IO():T.u,R=T.hd()&&S.qV==null&&(T.pu=="pass"||T.add.artb)&&!(s.length>0||S.fill!=1||T.IM()),c=!T.hd()&&!D&&!T.IM()&&s.length==0,e=D&&!T.IM()&&s.length==0,H=null,G=null,N=null,r;
if(R||c||e){var O=I,U=k;if(T.AY()){U=this.GT(n,!1);O=T.qj.tp=o.Zt(T.qj.tp,U.Q,U._);o.O0(I,k,T.qj.tp,U)}if(R)this.SK(O,U,a,n,C);
if(c)o.Pf(T.pu,T.azR(n),T.rect,O,U,a,g,S);if(e){var K=T.AY()&&d.GW()==0?d.GT().clone():U.clone(),_=T.qj;
if(K.a$(new eZ(0,0,n.Q,n._)))_=bA.a2p;_.a1=this.anX(O,U,_.a1,K,T.add);S.Vj=!0;o.Pf(T.pu,_.a1,K,O,U,a,g,S)}if(T.AY())o.Pw(O,U,I,k,T.ayg(),d.GT(),d.GW(),a,1,T.pu=="diss");
T.qj.aqm();return}var Z=T.hd()&&T.pu=="pass"&&(s.length>0||S.fill!=1||T.IM()),K=T.rect;if(T.hd()){K=this.GT(n,!1);
N=T.qj.a1=o.Zt(T.qj.a1,K.Q,K._);o.IP(N,0);this.SK(N,K,K,n,C);G=o.Zt(T.qj.tk,K.Q,K._);o.O0(N,K,G,K)}else if(D){K=T.AY()&&d.GW()==0?d.GT().clone():k.clone();
G=o.Zt(T.qj.tk,K.Q,K._);o.IP(G,4294967295)}else{K=T.rect;H=T.azR(n);G=o.Zt(T.qj.tk,K.Q,K._);o.O0(H,K,G,K)}T.qj.tk=G;
if(T.AY())o.a51(T.ayg(),d.GT(),d.GW(),G,K);if(T.IM())if(T.qj.Cq||T.qj.J3||T.qj.WR!=dZ.QV||T.qj.zL||T.hd()){var z=T.add.vmsk,L=j.U(K.c());
if(hB.au1(T.add.lmfx)){if(dZ.QV){if(!T.hd()&&T.IO()==null&&T.rect.a$(K)&&z==null)j.Ez(T.buffer,L,3);
else{var p=j.U(K.c()*4);G.get(p);j.Ez(p,L,3)}}else j.Ez(G,L,3)}if(T.qj.J3||T.qj.WR!=dZ.QV||!j.a$(L,T.qj.he)){var V=null;
if(T.wc()&&z&&z.isEnabled&&z.IO().color==0)V=z.IO().rect;hB.avs(T.qj.JP);T.qj.JP=hB.aE_(L,K,T.add.lmfx,T.add.fxrp,n,V);
T.qj.he=L;T.qj.amA=K}}if(T.IM())hB.a95(T.add.lmfx,T.qj.JP,K,I,k,a);if(T.hd()){H=o.Zt(T.qj.tp,K.Q,K._);
o.IP(H,0);if(T.pu=="pass")o.O0(I,k,H,K);if(Z)o.gR(N,K,H,K);this.SK(H,K,a,n,C);T.qj.tp=H}if(D){H=T.qj.tp=this.anX(I,k,T.qj.tp,K,T.add)}if(T.hd()||D)r=H;
else{r=o.Zt(T.qj.tp,K.Q,K._);o.O0(H,K,r,K,a);T.qj.tp=r}o.IP(r,4278190080,16777215);for(var Y=0;Y<s.length;
Y++)s[Y].nH(r,K,a,n,[],C);var y=T.qj._z=o.Zt(T.qj._z,K.Q,K._);o.O0(I,k,y,K,a);if(D)S.Vj=!0;o.Pf(T.pu=="pass"?"norm":T.pu,r,K,y,K,a,1,S);
if(T.IM()){var W=T.qj.JP.type.FrFX,m=null;if(W.length!=0){m=W[0];for(var Y=0;Y<W.length;Y++)if(W[Y].jV.Q>m.jV.Q)m=W[Y];
T.qj.SG=o.Zt(T.qj.SG,m.jV.Q,m.jV._);o.O0(I,k,T.qj.SG,m.jV,a);T.qj.HG=o.Zt(T.qj.HG,m.jV.Q,m.jV._)}hB.a77(T.add.lmfx,T.qj.JP,K,I,k,a,y,T.qj.SG,T.qj.HG,m?m.jV:null)}if(!dZ.QV){var f=j.U(K.c());
j.Ez(G,f,3);G=f}o.Pw(y,K,I,k,G,K,0,a,1,T.pu=="diss");T.qj.aqm()};bA.prototype.anX=function(I,k,a,n,s){var C=fo.get(s),T;
if(C)T=fo.Zh(C,s[C]);var S=bA.Qt;a=S.Zt(a,n.Q,n._);if(!(dZ.QV&&k.a$(n)))S.O0(I,k,a,n);if(T){if(dZ.QV){var D=n.clone();
D.x=D.y=0;if(k.a$(n)){dZ.FL(a,D);fo.bl(T,I.e9,D)}else{dZ.FL(a,n);a.kv(n);fo.bl(T,a.kC,D)}}else fo.uq(T,a,a,n)}return a};
bA.prototype.SK=function(I,k,a,n,s){var C=k.Q,T=k._,S=k.x,D=k.y,bQ=a,o=bQ.x,v=bQ.y,g=-1,d=-1,R=2,c=2;
if(!n.ym){g=d=0;R=c=1}var e=this.children;for(var Y=0;Y<e.length;Y++){var O=fo.get(e[Y].o.add)!=null,U=[];
for(var K=Y+1;K<e.length;K++)if(e[K].o.Pi)U.push(e[K]);else break;for(var _=d;_<c;_++)for(var Z=g;Z<R;
Z++){k.x=S+Z*C;k.y=D+_*T;bQ.x=o+Z*C;bQ.y=v+_*T;if((Z!=0||_!=0)&&O)continue;e[Y].nH(I,k,bQ,n,U,s)}Y+=U.length}k.x=S;
k.y=D;bQ.x=o;bQ.y=v};(function(){bA.prototype.W9=function(s,C,T,S){var D=this.o,o=D.add.lmfx,v=D.add.TySh,g=D.add.SoLd,R=null;
if(!D.K7())return;C.save();var d=D.opacity/255*(D.add.iOpa?D.add.iOpa/255:1);C.globalAlpha*=d;C.globalCompositeOperation=aU.BS[aU._B.indexOf(D.pu)];
var c=s.add.prvw==0;if(c){C.lineWidth=1/s.w.F;C.fillStyle="black"}var e=hB.aB3(D,!1);if(e){R=C;var O=document.createElement("canvas");
O.width=C.canvas.width;O.height=C.canvas.height;var U=C.getTransform();C=O.getContext("2d");C.setTransform(U.a,U.b,U.c,U.d,U.e,U.f)}if(D.hd()){var K=this.children,_=null;
for(var Y=0;Y<K.length;Y++)if(K[Y].o.kb&&K[Y].o.K7())_=K[Y].o;if(_&&!c){C.beginPath();k(_,C);C.clip()}for(var Y=0;
Y<K.length;Y++)K[Y].W9(s,C,T,S)}else if(v){var Z=!0;if(D.qj.path==null){Z=jW.SJ(v,T.IE);if(Z)jW.Rm(D,T.IE,!1)}if(Z){{var H=v.h;
C.save();I(C,H);var G=D.qj.path;if(c){var N=G.m.slice(0);for(var Y=0;Y<N.length;Y++)if(N[Y][0]=="#")N[Y]="#000000";
G={m:N,s:G.s}}jW.a3H(G,C);C.restore()}}}else if(D.wc()&&D.add.vmsk&&(!D.kb||c)){var z=D.add.vmsk;C.beginPath();
k(D,C);if(c){C.stroke()}else{var L=D.add.vstl;if(L.Bv.length!=0){var p=a(L.Bv,z.d,s,C);if(p[1]){C.save();
I(C,p[1])}C.fillStyle=p[0];C.fill(["nonzero","evenodd"][z.Np]);if(p[1]){C.restore()}}if(L.mx.length!=0){j.n.Mf(L,C);
C.strokeStyle=a(L.mx,z.d,s,C,!0)[0];C.stroke()}}}else if(g){var V=g.filterFX;if(V){var p=V.v.filterFXList.v;
for(var Y=0;Y<p.length;Y++){var r=p[Y].v;if(!r.enab.v)continue;var y=gJ.Qa(r);if(y=="GsnB"){C.filter="blur("+r.Fltr.v.Rds.v.val*s.w.F+"px)"}}}var W=g.Idnt.v,m=s.pK(W,g.Crop?g.Crop.v:null),H=j.t.HJ(g),f=m.IV;
if(c){var h=E.nF.QX(g.Trnf);C.moveTo(h[0],h[1]);for(var Y=2;Y<8;Y+=2)C.lineTo(h[Y],h[Y+1]);C.closePath();
C.stroke()}else n(s,D,C,H,f)}if(e){R.save();R.setTransform(1,0,0,1,0,0);R.drawImage(C.canvas,0,0);R.restore();
C=R}C.globalAlpha/=d;C.globalCompositeOperation="source-over";C.restore()};function I(s,C){s.transform(C.M,C.J,C.mL,C.Jo,C.Dw,C.rk)}function k(s,C){var T=s.add.vmsk.d;
for(var Y=0;Y<T.length;Y++){if(T[Y].type>5)continue;var S=T[Y].length;if(S==0)continue;var D=T[Y].type==3;
j.n.azX(C,T,Y+1,S,0,0,D);if(!D)C.closePath();Y+=S}}function a(s,C,T,S,D){if(s.length==3)return[CSS.anL(s),null];
else if(s.length==2){var o=T.MI[s[0]],v=1,g=o.yU;if(g==null){var d=document.createElement("canvas"),R=d.getContext("2d");
d.width=Math.round(o.Q*v);d.height=Math.round(o._*v);R.scale(v,v);o.root.W9(o,R,{},null);g=o.yU=S.createPattern(d,"repeat")}var c=new dc(1/v,0,0,1/v,0,0),e=T.oE/72,O=new dc;
O.concat(c);var U=s[1][1];O.concat(new dc(U[0],U[1],U[2],U[3],e*U[4],e*U[5]));O.scale(1,-1);return[g,O]}else{var K=s[0],_=s[1],Z=s[2],H=-Z[5]*Math.PI/180,G=cp.EL(s,C),N,c;
if(K==0){var z=[0,0,1,0];j.X.h(z,G,z);N=S.createLinearGradient(z[0],z[1],z[2],z[3])}else{var z=[Math.cos(H)*Z[6],Math.sin(H)*Z[6],0,0,1,0],L=Math.abs(G.M*G.J+G.mL*G.Jo)<1e-9,p=Math.abs(G.M*G.M+G.J*G.J-G.mL*G.mL-G.Jo*G.Jo)<1e-9,V=L&&p;
if(V||D){j.X.h(z,G,z);var r=z[4]-z[2],y=z[5]-z[3];N=S.createRadialGradient(z[0],z[1],0,z[2],z[3],Math.sqrt(r*r+y*y))}else{N=S.createRadialGradient(z[0],z[1],0,0,0,1);
c=G}}j.G.AL(N,_);return[N,c]}}function n(s,C,T,S,D){if(S==null)S=new dc;var o=C.buffer,v=C.rect;if(D){var g=S.Ha()*s.w.F,d=0;
while(1<<d/2<.5/g&&d+2<D.length)d+=2;o=D[d];v=D[d+1];v=v.clone();v.x=v.y=0;var g=1<<d/2,R=new dc;R.scale(g,g);
R.concat(S);S=R}if(v.KH())return;var c=document.createElement("canvas");c.width=v.Q;c.height=v._;var e=c.getContext("2d");
e.putImageData(new ImageData(new Uint8ClampedArray(o.buffer),v.Q,v._),0,0);T.transform(S.M,S.J,S.mL,S.Jo,S.Dw,S.rk);
T.drawImage(c,v.x,v.y);S.Us();T.transform(S.M,S.J,S.mL,S.Jo,S.Dw,S.rk)}}());function iJ(I){this.eS="psd";
this.fY=!1;this.name=I;this.LZ=-1;this.ym=!1;this.S9=null;this.qe=null;this.Uj=null;this.cw=null;this.Q=0;
this._=0;this.buffer=null;this.R=[];this.ju={};this.add={};this.wQ=[];this.MI={};this.RJ=[];this.yU=null;
this.aA=4;this.pF=null;this.oE=72;this.Qd={};this.T=[];this.Fq=[];this.fW=!1;this.IZ=[];this.Fl=[];this.DD=[iJ.jy("Work Path")];
this.dz=[];this.L0=null;this._y={classID:"CompList",list:{t:"VlLs",v:[]}};this.cy=[];this.pn=[];this.VJ=[];
this.root=null;this.cU=null;this.P5=!1;this.awN=!1;this.a2F=!1;this.$L=!1;this.LQ=!1;this.Xi=!1;this.cd=!1;
this.q_=!1;this.Sc=!1;this.Me=!1;this.Cq=null;this.Ky=null;this.f=null;this.TL=[];this.Ap=[];this.D={QS:{},t6:[],Wv:[],_r:[],tK:[],SV:[],sV:null,YF:null,Jt:null,$Z:null,PT:null,xo:null,eQ:null,q1:[],OT:[],Pu:null};
this.history=[new g7([1,0],null)];this.R3=0;this.be=0;this.om=0;this.QG=0;this.w=new eV(this);this.ZC=null;
this.qI=null}iJ.prototype.a7W=function(){var I=this,k=I.add.artd;return k!=null&&k.Cnt.v>1||I.add.arts&&I.add.arts.length>1};
iJ.prototype.eC=function(I){if(I){if(I.length==30240){this.eC(null);return}this.ju.r1039=I;var k=ICC.R(I.buffer),s=null,C=17,D,o;
if(k==null){this.eC(null);return}var a=k.header.spaceIn.toLowerCase(),n=JSON.stringify(k.tags.desc).toLowerCase();
try{s=ICC.U.profileName(k)}catch(jL){}if(a!="rgb "||s==null||a=="rgb "&&this.add.fcmy==1){this.eC(null);
return}console.log("We got an ICC profile!",k,s);try{var T=ICC.U.sampleLUT(k,C)}catch(jL){this.eC(null);
return}var S=T.slice(0),v=j.U(4),g=j.Qw("rgbToRgbC"),d=g[2],R=g[3];for(var Y=0;Y<T.length;Y+=3){v[0]=T[Y]*255;
v[1]=T[Y+1]*255;v[2]=T[Y+2]*255;ICC.U.applyLUT(R,d,v,v);S[Y]=v[0]/255;S[Y+1]=v[1]/255;S[Y+2]=v[2]/255}if(dZ.QV){D=new dZ.$n(C,C*C);
D.set(ICC.U.lutToRGBA8(T,C));o=new dZ.$n(C,C*C);o.set(ICC.U.lutToRGBA8(S,C))}this.ZC=[I,k,C,T,D,S,o]}else{delete this.ju.r1039;
this.ZC=null}};iJ.prototype.ib=function(){return this.ZC};iJ.prototype.nh=function(){if(this.ZC)return this.ZC;
if(this.add.fcmy==1){if(this.qI==null){var I=j.Qw("rgbToRgbC"),k=I[2],a=I[3],n;if(dZ.QV){n=new dZ.$n(k,k*k);
n.set(ICC.U.lutToRGBA8(a,k))}this.qI=[null,null,k,null,null,a,n]}return this.qI}};iJ.prototype.aae=function(){var I=this;
if(I.w.N.join("")!="111"){I.w.N=[1,1,1];I.Xi=!0}for(var Y=0;Y<I.R.length;Y++){var k=I.R[Y],a=k.add.vmsk;
if(k.st()){var n=k.kx(I);if(n&&n.u&&n.u.zh){n.u.zh=!1;I.Xi=!0}}var s=k.IO();if(s&&s.zh){s.zh=!1;I.Xi=!0}if(a){if(a.T.length!=0)a.T=[];
if(a.Ut.length!=0)a.Ut=[]}}};iJ.prototype.ayj=function(){var I=this;return I.f!=null||I.iQ()[1].length!=0||I.T.length>1};
iJ.prototype.Ru=function(){var I=this.Fq,k=[];for(var Y=0;Y<I.length;Y++)k[Y]=-1;var a=this.root.children;
for(var Y=0;Y<a.length;Y++){var n=a[Y],s=n.o.add.artb;if(s==null)continue;var C=s.guideIndeces;C=C?C.v:[];
for(var T=0;T<C.length;T++)k[C[T].v]=n.index}return[JSON.parse(JSON.stringify(I)),k]};iJ.prototype.U_=function(I){this.Fq=JSON.parse(JSON.stringify(I[0]));
var k=I[1],a=this.root.children;for(var Y=0;Y<a.length;Y++){var n=a[Y],s=n.o.add.artb;if(s==null)continue;
s.guideIndeces={t:"VlLs",v:[]}}for(var Y=0;Y<k.length;Y++)if(k[Y]!=-1)this.R[k[Y]].add.artb.guideIndeces.v.push({t:"long",v:Y})};
iJ.prototype.aud=function(I){var k=this;if(I[0])k.add.lnk2=I[0];else delete k.add.lnk2;if(I[1])k.add.FEid=I[1];
else delete k.add.FEid;if(I[2])k.add.Patt=I[2];else delete k.add.Patt};iJ.prototype.aAX=function(I){var k=this,a=[],n=[],s=[],c=null,e=null,O=null;
for(var Y=0;Y<I.length;Y++){var C=I[Y];if(C.add.SoLd){a.push(C.add.SoLd.Idnt.v);n.push(C.add.SoLd.placed.v)}if(C.add.PtFl)s.push(C.add.PtFl.Ptrn.v.Idnt.v);
if(C.add.lmfx){for(var T=0;T<fY.zQ.length;T++){var S=C.add.lmfx[fY.zQ[T]].v;for(var D=0;D<S.length;D++)if(S[D].v.Ptrn){var o=S[D].v;
if(o.classID=="FrFX"&&o.PntT.v.FrFl!="Ptrn")continue;s.push(o.Ptrn.v.Idnt.v)}}}var v=C.add.vstk;if(v&&v.strokeStyleContent.v.classID=="patternLayer"){s.push(v.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var g=k.add.lnk2,d=k.add.FEid,R=k.add.Patt;
if(g){c=[];for(var Y=0;Y<g.length;Y++)if(a.indexOf(g[Y].DZ)!=-1)c.push(g[Y]);if(c.length==0)c=null}if(d){e=[];
for(var Y=0;Y<d.length;Y++)if(n.indexOf(d[Y].id)!=-1)e.push(d[Y]);if(e.length==0)e=null}if(R){O=[];for(var Y=0;
Y<R.length;Y++)if(s.indexOf(R[Y].id)!=-1)O.push(R[Y]);if(O.length==0)O=null}return[c,e,O]};iJ.prototype.BY=function(I){var k=this,a=k.root.lR(I==null?k.T[0]:I),n=!1;
while(a.parent!=null){n=n||a.o.hY(31);a=a.parent}return n};iJ.prototype.Bo=function(){var I=this.TL,k=this.TL.length;
if(k!=0&&I[k-1].name=="Quick Mask")return I[k-1]};iJ.prototype.uK=function(){return this.eS==dz.R8("% |/!)")||this.eS==dz.Iy("gP")};
iJ.prototype.vW=function(I){var k=this.add.artd;if(I!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:I},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};iJ.prototype.eD=function(I){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(I)==-1)this.add.FEid.push(I)};
iJ.prototype.xJ=function(I){var k=this.add.FEid.indexOf(I);this.add.FEid.splice(k,1);if(this.add.FEid.length==0)delete this.add.FEid};
iJ.prototype.V=function(I){if(I==null)I=new eZ(0,0,this.Q,this._);if(this.Cq==null)this.Cq=I;else this.Cq=this.Cq.oL(I)};
iJ.prototype.a1E=function(I){return this.Cq!=null};iJ.prototype.Py=function(I){var k=this.R[I],a=this.root.lR(I);
if(a==null)return!1;if(k.hd()||a.parent.children.indexOf(a)==0)return!1;return!0};iJ.a08=function(I){if(I.add.lnk2)for(var Y=0;
Y<I.add.lnk2.length;Y++){var k=I.add.lnk2[Y].DZ;I.add.lnk2[Y].DZ=iJ.I8()+k.slice(8);for(var a=0;a<I.R.length;
a++){var n=I.R[a].add.SoLd;if(n&&n.Idnt.v==k)n.Idnt.v=I.add.lnk2[Y].DZ}}};iJ.prototype.jR=function(I,k,a){I.sort(function(g,d){return g-d});
var top=I[I.length-1],n=this.R.slice(0),s=this.T.slice(0),C=[],T=[];for(var Y=0;Y<this.R.length;Y++){if(I.indexOf(Y)!=-1)T.push(this.R[Y]);
else C.push(this.R[Y])}this._g(T);this.T=[];var S=this.root.GT(this,!0);if(k)S=S.LU(k);if(a)S=S.oL(a);
if(S.KH())S=new eZ(0,0,100,100);var D=new eZ(-S.x,-S.y,this.Q,this._),o=new Uint8Array(kk.wV("PSD").G0(this,0,0,[!0,!1]));
this._g(n);this.T=s;var v=new iJ(this.R[top].getName());kk.wV("PSD").Zn(o.buffer,v);delete v.add.artd;
v.IZ=[];v._g(v.R);v.U_([[],[]]);iJ.a08(v);E.Zo.OX(v,S);v.V();v.pa();v.TB();return[v,S,C,top]};iJ.prototype.a5s=function(I,k,a){var n=this.jR(I),s=n[0],C=n[1],T=n[2],top=n[3],S;
if(a=="jpg")S=new Uint8Array(kk.wV("JPG").G0([[s.TB().buffer]],s.Q,s._,[80]));else S=new Uint8Array(kk.wV("PSD").G0(s,null,null,[!0,!1]));
if(k)T=this.R.slice(0);var D=this.MA(S,s.name,C.x,C.y);if(top==this.R.length-1)T.push(D);else T.splice(k?top+1:top-I.length+1,0,D);
this._g(T);this.T=[T.indexOf(D)]};iJ.I8=function(I){if(I==null)I="";var k="";while(k==""||k==I){k="";
for(var Y=0;Y<8;Y++)k+=Math.floor(Math.random()*16).toString(16)}return k};iJ.prototype.r4=function(I){if(I==null)return;
if(this.add.Patt==null)this.add.Patt=[];var k=this.add.Patt;for(var Y=0;Y<k.length;Y++)if(k[Y].id==I.id)return;
k.push(I)};iJ.prototype.MA=function(I,k,a,n,s,C,T){if(this.add.lnk2==null)this.add.lnk2=[];var S=null;
for(var Y=0;Y<this.add.lnk2.length;Y++)if(j.a$(I,this.add.lnk2[Y].raw)){S=this.add.lnk2[Y].DZ;break}if(S==null){var D=kk.V1(I.buffer);
S=iJ.I8()+"-d71c-11e5-b1ae-a548a96e5f9f";var o=new X.h4;o.DZ=S;o.e8=D=="psd"?"8BIM":"    ";o.f3=k+"."+D;
o.nE=D=="psd"?"8BPB":"    ";o.open=0;o.raw=I;o.type="liFD";o.CL=2;this.add.lnk2.push(o)}var v=this.pK(S,null,null,null,C,T),g=iJ.I8()+"-d71c-11e5-b1ae-a548a96e5f9f",d=this.ux(),R=v?v.IV[1]:new eZ;
d.GF(k);d.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:S},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:g},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,quiltWarp:{t:"Objc",v:j.O8.U(R)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:R.Q},Hght:{t:"doub",v:R._}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:v?v.oE:72}}};
var c=R.clone();if(a!=null)c.offset(a,n);if(v!=null&&s){var D=kk.V1(I.buffer),e=s.x,O=s.y,U=s.Q,K=s._;
c=v.IV[1].clone();c.offset(e+a,O+n);var _=_=this.oE/(D=="pdf"?144:v.oE?v.oE:this.oE);c.Q=c.Q*_;c._=c._*_;
var Z=Math.max(c.Q/U,c._/K);if(Z>1.0001){c.Q=c.Q/Z;c._=c._/Z}c.x=Math.round(e+(U-c.Q)/2);c.y=Math.round(O+(K-c._)/2)}var H=j.X.Eu(c).s;
d.add.SoLd.Trnf=E.nF.D1(H);d.add.SoLd.nonAffineTransform=E.nF.D1(H);if(v){if(s)d.Bi(this,!1);else if(ht==0){d.rect=c;
d.buffer=v.IV[0].slice(0)}}return d};iJ.prototype.W_=function(){var I=this.add.arts,k=new eZ;for(var Y=0;
Y<I.length;Y++)k=k.oL(j.X.qP(I[Y].UL));return k};iJ.prototype.aai=function(I,k,a){var n=this.W_();if(k==null){k=n.Q;
a=n._}var s=j.$P(k,a);s.save();s.translate(-n.x,-n.y);s.scale(k/n.Q,a/n._);this.root.W9(this,s,I,new eZ(0,0,k,a));
s.restore();return s.getImageData(0,0,k,a).data.buffer};iJ.prototype.TB=function(I){if(I!=null){this.V();
this.pa(I);var k=this.buffer;if(dZ.QV)this.cU.get(k);else k=k.slice(0);this.V();this.pa();return k}if(this.Cq){this.pa();
this.Cq=null}if(dZ.QV&&this.Ky){this.cU.get(this.buffer);this.Ky=null;this.cd=!0}return this.buffer};
iJ.prototype.akD=function(){for(var Y=0;Y<this.R.length;Y++)this.R[Y].a5t();this.V()};iJ.prototype.ab1=function(){for(var Y=0;
Y<this.R.length;Y++)if(this.R[Y].add.lmfx)this.R[Y].qj.J3=!0};iJ.prototype.Kb=function(){var I=this.ju.r1044;
if(I==null){I=this.ju.r1044=new Uint8Array(4);var k=0;for(var Y=0;Y<this.R.length;Y++)k=Math.max(k,this.R[Y].add.lyid);
u.kK(I,0,k)}var a=u.C(I,0);u.kK(I,0,a+1);return a+1};iJ.prototype.rb=function(I,k,a){if(I==null)I=!0;
var n=this;if(n.Ap.length!=0)return!0;if(n.T.length!=1){if(I)alert(n.T.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.XW(I,k,a)};iJ.prototype.XW=function(I,k,a){if(I==null)I=!0;if(k==null)k=!1;var n=this;
if(n.Ap.length!=0)return!0;for(var Y=0;Y<n.T.length;Y++){var s=n.R[n.T[Y]],C=k||s.YY<=0;if(s.add.lsct!=null&&s.add.lsct!=gA.M8&&s.YY!=1){if(I)alert(hJ.get([15,7,2]));
return!1}if(C&&!s.Lk()){if(I)alert(hJ.get([15,7,2]));return!1}if(C&&s.add.TySh){return this.abC(I,[15,7,3],a)}if(C&&s.add.SoLd){return this.abC(I,[15,7,4],a)}if(s.hY(1)||n.BY(n.T[Y])){if(I)alert(hJ.get([6,57,0]));
return!1}}return!0};iJ.prototype.abC=function(I,k,a){if(I&&typeof I=="object"){var n=new d2(M.E.b);n.data={q:M.p.Fu,aw:"confirm"};
n.data.P=hJ.get(k)+". "+hJ.get([6,8])+"?";var s=I;n.data.h1=function(){var C=new d2(M.E.rd,!0);C.data={pi:"rasterizeLayer",zf:{classID:"rasterizeLayer",null:hW.Pg("Lyr",!0)}};
s.a(C)};I.a(n);return!1}if(I)alert(hJ.get(k));return!1};iJ.prototype.ab8=function(I){var k=this.root.lR(I);
if(k.parent)return k.o.K7()&&this.ab8(k.parent.index);else return k.o.K7()};iJ.prototype.ev=function(I){var k=this;
if(I){var a=0;for(var Y=0;Y<k.T.length;Y++)if(k.R[k.T[Y]].add.artb)a++;if(a>1)return-1}if(k.add.artd&&k.T.length!=0){var n=k.root.lR(k.T[0]);
while(n.parent.parent)n=n.parent;if(n.o.add.artb)return n.index}return-1};iJ.prototype.eu=function(){var I=this.ev();
if(I!=-1){var k=this.R[I].OR();return new kK(k.x,k.y)}return new kK(0,0)};iJ.prototype.aEB=function(){var I=this.R[this.T[0]];
if(I.YY<=0&&!I.rect._s(this.f.rect)){alert("Selected area is empty.");return!1}if(this.T.length==1&&this.f){var k=j.U(this.f.channel.length);
j.rj(I.buffer,I.rect,k,this.f.rect);j.r_(this.f.channel,k);if(j.RS(k,0)){alert("Selected area is empty.");
return!1}}return!0};iJ.prototype.hh=function(){if(this.ju["r"+1037]==null)this.Lz(30);return u.bL(this.ju["r"+1037],0)};
iJ.prototype.Lz=function(I){if(this.ju["r"+1037]==null)this.ju["r"+1037]=new Uint8Array(4);if(u.bL(this.ju["r"+1037],0)==I)return;
u.mM(this.ju["r"+1037],0,I);this.ab1()};iJ.prototype.X$=function(){if(this.ju["r"+1049]==null)this.zu(30);
return u.bL(this.ju["r"+1049],0)};iJ.prototype.zu=function(I){if(this.ju["r"+1049]==null)this.ju["r"+1049]=new Uint8Array(4);
if(u.bL(this.ju["r"+1049],0)==I)return;u.mM(this.ju["r"+1049],0,I);this.ab1()};iJ.prototype.SR=function(I){if(this.add.lnk2==null)return null;
for(var Y=0;Y<this.add.lnk2.length;Y++)if(this.add.lnk2[Y].DZ==I)return this.add.lnk2[Y];return null};
iJ.prototype.agb=function(I){var k=this.SR(I);if(k==null)return!1;var a=kk.V1(k.raw.buffer);if(a==null)return!1;
if(kk.wV(a)!=null||a=="psd")return!0;return!1};iJ.prototype.pK=function(I,k,a,n,s,C){var T=this.SR(I);
if(T==null)return null;T.TB(k,a,n,s,C);if(T.IV)return T};iJ.prototype.abm=function(){var I=this.Q,k=this._;
if(dZ.QV&&this.cU==null)this.cU=new dZ.$n(I,k,!0);if(this.buffer==null||this.buffer.length!=I*k*4||dZ.QV&&(this.cU.Q!=I||this.cU._!=k)){this.buffer=j.U(I*k*4);
if(this.cU)this.cU.delete();if(dZ.QV)this.cU=new dZ.$n(I,k,!0)}};iJ.prototype.axj=function(){this.abm();
if(dZ.QV){this.cU.set(this.buffer)}};iJ.prototype.pa=function(I){if(ht!=0)throw"redrawing in vector mode";
var k=this.Q,a=this._,n=new eZ(0,0,k,a),s=this.ym?n:n.LU(this.Cq);this.abm();if(s.KH())return;if(!s.a$(n)){if(!dZ.QV){var C=j.k5(s.c()*4);
j.ao(C,s,this.buffer,n)}if(dZ.QV){dZ.FL(this.cU,s);dZ.g_(0)}}else{if(dZ.QV){this.cU.set(null)}else{this.buffer.fill(0)}}var T=Date.now(),S=dZ.QV?this.cU:this.buffer;
if(I==null)I=1e9;var D=this.root.children;for(var Y=0;Y<D.length;Y++){var o=D[Y].o;if(o.K7()&&o.add.artb&&this.add.artd){var v=o.OR(),g=s.LU(v),d=o.Iv();
if(d!=0){if(dZ.QV){dZ.FL(S,g);dZ.g_(d);dZ.g_(d)}else j.a2a(S,n,g,d)}}}this.root.nH(S,n,s,this,[],I);
this.Ky=this.Cq.clone()};iJ.prototype.ux=function(I){var k=new X;k.rect=new eZ(0,0,0,0);k.buffer=j.U(1);
k.add.luni=new kK(0,0);if(I!=!0)k.add.lyid=this.Kb();k.add.lsct=gA.M8;k.add.lclr=0;k.add.fxrp=new kK(0,0);
return k};iJ.prototype.KM=function(I){var k=this.ux(I);k.GF("</Layer group>");k.add.lsct=gA.EB;k.HA=24;
return k};iJ.prototype.qg=function(){return this.R3!=this.be};iJ.prototype.RB=function(I){while(this.history.length>this.R3+1)this.history.pop();
if(this.be>this.R3)this.be=-1;if(I.S.id!=E.bI){this.$L=!0;if(this._y.lastAppliedComp){delete this._y.lastAppliedComp;
this.cd=!0}}this.history.push(I);this.R3++;this.cd=!0;var k=bU.Oa()?60:30,a=0;for(var Y=this.history.length-1;
Y>=0;Y--){var n=this.history[Y];if(n.LK)continue;a++;if(a==k){this.R3-=Y;this.history=this.history.slice(Y);
break}}};iJ.prototype.HS=function(){if(this.R3!=this.history.length-1)return null;return this.history[this.history.length-1]};
iJ.prototype.X0=function(I,k,a,n){if(I==null)I=!1;var s=k!=null?[k]:this.T.slice(0);if(n){var C=[];for(var Y=0;
Y<s.length;Y++){var T=this.R[s[Y]],S=T.sk;if(T.Fz&&S!=0&&C.indexOf(S)==-1)C.push(S)}if(C.length!=0)for(var Y=0;
Y<this.R.length;Y++){var T=this.R[Y],S=T.sk;if(T.Fz&&S!=0&&C.indexOf(S)!=-1&&s.indexOf(Y)==-1)s.push(Y)}}var D=[];
for(var Y=0;Y<s.length;Y++){var o=this.pj(s[Y],I);for(var v=0;v<o.length;v++)if(D.indexOf(o[v])==-1)D.push(o[v]);
if(a){var bQ=this.root.lR(s[Y]);while(bQ.parent!=null&&bQ.parent.parent!=null){bQ=bQ.parent;if(D.indexOf(bQ.index)==-1){D.push(bQ.index,bQ.AM)}}}}return D};
iJ.prototype.hu=function(I,k,a){var n=this,s=n.X0(!1,I,null,a);s.sort(function(_,Z){return _-Z});var C={};
for(var T=0;T<n.R.length;T++){var S=n.R[T].getName();C[S]=!0}var D=[];for(var Y=0;Y<s.length;Y++){var o=n.R[s[Y]].clone(),O,U;
o.add.lyid=n.Kb();o.add.lspf=0;if(o.st()){var v=o.kx(n),g=iJ.aqr(v);n.eD(g);o.add.SoLd.placed.v=g.id}else if(o.add.SoLd){var d=o.add.SoLd.placed.v;
o.add.SoLd.placed.v=iJ.I8(d.slice(0,8))+d.slice(8)}o.Wr(n);var R=o.getName(),c=R.length;while(48<=R.charCodeAt(c-1)&&R.charCodeAt(c-1)<=57)c--;
var e=parseInt(R.slice(c));if(isNaN(e)){if(R.endsWith(" copy")){e=1;O=R.slice(0,R.length-5)}else{e=0;
O=R}}else if(R.slice(0,c).endsWith(" copy ")){e=e;O=R.slice(0,c-6)}else{e=0;O=R}e++;while(!0){U=O+" copy"+(e==1?"":" "+e);
if(C[U]==null)break;e++}var K=s.indexOf(this.root.lR(s[Y]).parent.index)!=-1;if(R=="Background"&&n.R.length==1)U="Layer 1";
if(k!=!0&&!K)o.GF(U);C[U]=!0;D.push(o)}return D};iJ.aqr=function(I){return{id:iJ.I8(I.id.slice(0,8))+I.id.slice(8),buffer:I.buffer.slice(0),rect:I.rect.clone(),u:I.u?I.u.clone():null}};
iJ.akY=function(I){return{id:I,rect:new eZ,buffer:j.U(1),u:new X.uC}};iJ.jy=function(I,k){if(k==null)k={vmsk:new X.JB};
if(k.vogk==null){k.vogk=[];var a=j.n.gZ(k.vmsk.d);for(var n=0;n<a;n++)k.vogk.push(j.Z_.k5())}return{name:I,Gq:0,add:k}};
iJ.prototype.iQ=function(I){var k=[],a=[],n=this;for(var Y=1;Y<n.DD.length;Y++){var s=n.DD[Y];s.Gq=-1-Y;
k.push(s);if(n.dz.indexOf(Y)!=-1)a.push(k.length-1)}if(n.DD[0].add.vmsk.d.length>2){var s=n.DD[0];s.Gq=-1;
k.push(s);if(n.dz.indexOf(0)!=-1)a.push(k.length-1)}var C=n.L0==null;if(C)n.L0=[];for(var Y=n.T.length-1;
Y>=0;Y--){var T=n.T[Y],S=n.R[T],D=S.add.TySh;if(S.add.vmsk!=null){var s=iJ.jy("\""+S.getName()+"\" Shape Path",S.add);
s.Gq=T;k.push(s);if(C&&(S.fv||S.wc()))n.L0.push(T);if(n.L0.indexOf(T)!=-1)a.push(k.length-1)}if(I!=!0&&D&&D.add&&j.O8.K2(D.At)){var s=iJ.jy("\""+S.getName().slice(0,10)+"..\" Text Path",D.add);
s.Gq=1e6+n.T[Y];k.push(s);a.push(k.length-1)}}if(a.length==0&&I){n.DD[0].Gq=-1;n.dz=[0];a.push(k.length);
k.push(n.DD[0])}return[k,a]};iJ.prototype.pj=function(Y,I){var k=[],bQ=this.root.lR(Y);if(bQ)bQ.Ga(k,I);
return k};iJ.prototype.B2=function(){this.root.cO(this,new eZ(0,0,this.Q,this._))};iJ.prototype._g=function(I){for(var Y=0;
Y<this.R.length;Y++){var k=this.R[Y];if(I.indexOf(k)==-1){k.qj.aC2();k.V()}}var a=0;for(var Y=0;Y<I.length;
Y++)if(I[Y].add.artb)a++;this.vW(a);this.R=I.slice(0);this.N_()};iJ.prototype.N_=function(){var I=this.R,k=I.length;
this.root=new bA;var a=this.ux(!0);a.pu="pass";a.add.lsct=gA.rW;a.GF("");var n=this.KM(!0),s=[n];for(var Y=0;
Y<k;Y++)s.push(I[Y]);s.push(a);this.root.a59(s,0,0);if(this.T.length==0)this.T=[k-1]};iJ.prototype.fs=function(){if(this.T.length!=1)return;
var I=this.root.lR(this.T[0]);while(I.parent!=null){var k=I.parent.o;k.add.lsct=gA.rW;I=I.parent}this.Xi=this.ak_=!0};
iJ.prototype.a9J=function(){this.N_();var I=[this.root],hE=0;while(I.length!=0){var top=I.pop();hE++;
if(top.o.add.lsct==gA.rW)for(var Y=0;Y<top.children.length;Y++)I.push(top.children[Y])}if(hE>1e3){var k=this.root.children;
for(var Y=0;Y<k.length;Y++)if(k[Y].o.add.lsct==gA.rW)k[Y].o.add.lsct=gA.DG}};iJ.Dv=function(I,k,a,n,s,C,T,S){if(S==null)S="sRGB IEC61966-2.1";
var D={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:n},artboard:{t:"bool",v:C},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:I*72/a}},Hght:{t:"UntF",v:{type:"#Rlt",val:k*72/a}},Rslt:{t:"UntF",v:{type:"#Rsl",val:a}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:s}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:S}}}};
if(s=="Clr")D.Nw.v.FlCl={t:"Objc",v:T};return{pi:"make",zf:D}};iJ.ad9=function(I,k){var a=0,n=0,s=72,C=k.aBc,T=I.preset&&I.preset.v=="Clipboard";
if(T){a=C.Q;n=C._}else{a=I.Wdth.v.val;n=I.Hght.v.val;s=I.Rslt.v.val;a=Math.round(a*s/72);n=Math.round(n*s/72)}var S=new iJ((I.Nm?I.Nm.v:hJ.get([11,7]))+".psd");
S.Q=a;S._=n;S.oE=s;var D=I.Fl?I.Fl.v.Fl:"Wht";if(I.artboard&&I.artboard.v){var o=S.ux();o.GF(hJ.get([1,16,0])+" 1");
o.add.lsct=gA.rW;o.IA(new eZ(0,0,a,n));o.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[D]};
if(D=="Clr")o.add.artb.Clr={t:"Objc",v:j.G.pI(j.G.GW(I.FlCl.v))};o.pu="pass";o.HA=24;var v=S.ux();v.GF("Layer 1");
S._g([S.KM(),v,o]);S.vW(1);S.T=[1]}else if(ht==0){var g=S.ux(),d=0;g.GF("Background");S._g([g]);g.add.lspf=1<<2;
if(D=="Clr"){d=j.G.GW(I.FlCl.v);d=255<<24|Math.round(d.J)<<16|Math.round(d.H)<<8|Math.round(d.$)}else{var R=k.U2;
R=(R&255)<<16|(R>>>8&255)<<8|R>>>16;d={Trns:0,Wht:4294967295,Blck:4278190080,BckC:255<<24|R}[D]}g.rect=new eZ(0,0,a,n);
g.buffer=j.U(a*n*4);j.IP(g.buffer,d);g.Jk()}if(ht==0)S.buffer=j.U(a*n*4);var c=I.profile;if(c){var e={"Adobe RGB (1998)":"icc/adobe","ProPhoto RGB":"icc/prophoto","image P3":"icc/displayp3"}[c.v];
if(e)S.eC(kk.B5.get(e))}return S};iJ.prototype.a6E=function(){var I=this,k=I.add.arts=[],a=!0;I.add.prvw=1;
I.N_();var n=I.root.children;for(var Y=0;Y<n.length;Y++)if(!n[Y].o.hd())a=!1;if(!a||I.R.length==0){I.R.unshift(I.KM());
var s=I.ux();s.GF("Layer 1");s.add.lsct=gA.rW;s.pu="pass";s.HA=24;I.R.push(s);for(var Y=0;Y<I.T.length;
Y++)I.T[Y]++;I.q_=!0}if(I.add.artd){delete I.add.artd;var C=[];for(var Y=0;Y<I.R.length;Y++){var s=I.R[Y],T=s.add.artb;
if(T==null)continue;var S=s.OR();delete s.add.artb;k.push({h2:s.getName(),UL:[S.x,S.y,S.x+S.Q,S.y+S._],T:!1});
var D=T.artboardBackgroundType.v;if(D!=1&&D!=3){var o=I.root.lR(Y).fh;C.push([o,D,S,j.G.GW(T.Clr.v)])}}for(var Y=0;
Y<C.length;Y++){var o=C[Y][0],D=C[Y][1],S=C[Y][2],v=C[Y][3],s=I.ux();s.GF("Background");s.add.vmsk=new X.JB;
s.add.vmsk.d=j.n.uQ.Rect(S.x,S.y,S.Q,S._);s.add.vstk=fY.Lg.nI(!0);s.add.vstl=fY.qm.nI();s.add.vstl.Bv=[null,[1,1,1],[0,0,0],[],[v.$/255,v.H/255,v.J/255],[1,1,1]][D];
s.Bb();I.R.splice(I.R.indexOf(o)+1,0,s);I.N_()}console.log(C)}else k.push({h2:"Artboard",UL:[0,0,I.Q,I._],T:!1});
if(I.name.endsWith(".psd"))I.name=I.name.slice(0,-4)+".ai";if(I.buffer)I.buffer=null;for(var Y=0;Y<I.R.length;
Y++){var s=I.R[Y],S=s.rect;if(s.hd()&&s.add.vmsk){var g=I.ux();I.R.splice(Y,0,g);g.GF("<Clipping Path>");
g.kb=!0;g.add.vogk=s.add.vogk;delete s.add.vogk;g.add.vmsk=s.add.vmsk;delete s.add.vmsk;g.add.vstk=fY.Lg.nI();
g.add.SoCo=JSON.parse(fY.iH[fY.order.indexOf("SoFi")]);g.add.vstl={};console.log("mask here!")}else if(s.wc()&&s.add.vstl==null){if(s.add.vmsk==null){s.add.vmsk=new X.JB;
s.add.vmsk.d=j.n.uQ.Rect(0,0,I.Q,I._);s.add.vstk=fY.Lg.nI(!0);s.Bb()}var d=s.add.vstl=iJ.qM(s.add)}delete s.add.lmfx;
if(s.add.SoLd||s.add.TySh||s.add.vmsk||S.KH())continue;var R=S.Q,c=S._,e=j.yD(s.buffer,R,c)?"JPG":"PNG";
if(R*c<700*700)e="PNG";var O=kk.wV(e).G0([[s.buffer.buffer]],R,c),U=I.R[Y]=I.MA(new Uint8Array(O),s.getName(),S.x,S.y);
U.ol(s.K7())}};iJ.qM=function(I,k){var a=I.vstk,D=null,o=null;if(a==null)a=fY.Lg.nI(!0);var n=fY.Lg.CM(a),s=fY.bZ(I),C=fY.NU(a);
function T(D){var e=j.G.GW(D.Clr.v);return[e.$/255,e.H/255,e.J/255]}var S=I.lmfx;if(S)D=S.solidFillMulti.v[0];
if(D)D=D.v;if(D&&(!D.enab.v||D.Opct.v.val<50))D=null;if(S)o=S.frameFXMulti.v[0];if(o)o=o.v;if(o&&(!o.enab.v||o.Opct.v.val<50))o=null;
var v=I.vmsk,g=v?v.d:j.n.uQ.Rect(0,0,k.Q,k._);for(var d=0;d<2;d++){var R=d==0?s:C,c=[];if(R.nE==1)c=hx.aF(R.aG.Clr.v);
if(R.nE==2){c=I[d==0?"_fstl":"_sstl"];if(c==null||ht==0)c=cp.Ey(R.aG,g)}if(d==0&&D)c=T(D);if(d==1&&o){c=T(o);
n.YX=o.Sz.v.val;n.x9=fY.stroke.types.indexOf(o.Styl.v.FStl);n.P_=1}if(d==0)n.Bv=c;else n.mx=c}return n};
function eV(I){this.Z9=I;this.F=0;this.v0=1;this.i=new kK(0,0);this.GL=new kK(0,0);this.AE=0;this.N=[1,1,1];
this.f4=0;this.PJ=new eZ(0,0,1,1);this.at7=new eZ(0,0,I.Q,I._);this.uR=null;this.xv=null;this.LS=new Uint32Array(0);
this.SZ=null;this.zd=null;this.XJ=j.U(0);this.gT=null;this.lx=null}eV.prototype.Q8=function(I){var k=new dc,a=this.PJ,n=this.Z9,s=I?this.v0:this.F,C=I?this.GL:this.i,T=Math.round((a.Q-n.Q*s)/2+C.x),S=Math.round((a._-n._*s)/2+C.y);
k.translate(-T,-S);k.scale(1/s,1/s);var D=n.Q/2,o=n._/2;k.translate(-D,-o);k.rotate(this.AE);k.translate(D,o);
return k};eV.prototype.az6=function(I){var k=this.PJ,a=this.Z9,n=Math.atan2(-I.J,I.M),s=a.Q/2,C=a._/2;
I.translate(-s,-C);I.rotate(-n);I.translate(s,C);var T=1/I.Ha();I.scale(T,T);var S=-I.Dw,D=-I.rk,o=Math.round(S-(k.Q-a.Q*T)/2),v=Math.round(D-(k._-a._*T)/2);
if(Math.abs(T-Math.round(T))<1e-6)T=Math.round(T);this.AE=n;this.F=T;this.i=new kK(o,v)};eV.prototype.m_=function(I,k,a){var n=this.Q8(),s=n.yt(new kK(I,k));
if(a){s.x=Math.round(s.x);s.y=Math.round(s.y)}return s};eV.prototype.kF=function(I,k){var a=this.Q8();
a.Us();return a.yt(new kK(I,k))};function fY(){}fY.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh St3D".split(" ");
fY.zQ="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti St3DMulti".split(" ");
fY.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0],"3D"];fY.av$=["DrSh","IrSh","SoFi","GrFl","FrFX"];
fY.$w=["Clr"];fY.Ym="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");fY.o3=["Ptrn","Angl","Scl","Algn","phase"];
fY.vq={Ta:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",ab$:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",a9B:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",aac:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",H9:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"Default/orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\",\"t\":\"TEXT\"}}}"};
fY.vq.Ta="\"Clr\": "+fY.vq.Ta;fY.vq.G="\"Grad\":"+fY.vq.ab$+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
fY.vq.H9="\"Ptrn\":"+fY.vq.H9+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
fY.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
fY.iH=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"overprint\":{\"t\":\"bool\",\"v\":false},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+fY.vq.Ta+","+fY.vq.G+","+fY.vq.H9+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+fY.vq.Ta+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+fY.vq.G+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+fY.vq.H9+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true ,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Lineární\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"},\"Cntn\":{\"v\":false,\"t\":\"bool\"}}","{\"classID\":\"St3D\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":false,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 90},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Srnk\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},  \"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Drkn\":{\"v\":{\"type\":\"#Prc\",\"val\":25},\"t\":\"UntF\"} }"];
fY.G={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
fY.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],Ra:["SClr","GrFl","Ptrn"],avY:[[13,0],[12,37],[12,62]]};
fY.ny={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],a5y:["SrcC","SrcE"],afp:[[19,5,1],[12,69]]};fY.pX={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],awm:["SfBL","PrBL","Slmt"],a9C:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
fY.Lg={IB:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],Gv:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],qo:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!1},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pxl",val:1}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+fY.vq.Ta+"}")},strokeStyleResolution:{t:"doub",v:72}},nI:function(I,k){var a=JSON.parse(fY.Lg.ahB);
if(I)a.fillEnabled.v=!0;if(k)a.strokeEnabled.v=!0;return a},CM:function(I,k,a){if(k==null)k={};if(a==null)a=1;
var n=I.strokeStyleLineDashSet.v,s=k.YX=I.strokeStyleLineWidth.v.val*a;k.Ti=I.strokeStyleMiterLimit.v;
k.yE=I.strokeStyleLineDashOffset.v.val;k.P_=fY.Lg.join.indexOf(I.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
k.A6=fY.Lg.IB.indexOf(I.strokeStyleLineCapType.v.strokeStyleLineCapType);k.x9=fY.Lg.Gv.indexOf(I.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
k.zZ=[];for(var Y=0;Y<n.length;Y++)k.zZ.push(n[Y].v.val*s);if(k.zZ.length==1&&k.zZ[0]==0)k.zZ=[];return k},write:function(I,k,a){if(a==null)a=1;
var n=k.YX,s=k.Ti,C=k.zZ,T=k.yE,S=k.P_,D=k.A6,o=k.x9;if(n!=null)n=I.strokeStyleLineWidth.v.val=Math.max(.4,n*a);
else n=I.strokeStyleLineWidth.v.val;if(o!=null)I.strokeStyleLineAlignment.v.strokeStyleLineAlignment=fY.Lg.Gv[o];
if(s!=null)I.strokeStyleMiterLimit.v=s;if(C!=null)I.strokeStyleLineDashSet.v=hB.HT(C,a/n);if(T!=null)I.strokeStyleLineDashOffset.v.val=T;
if(S!=null)I.strokeStyleLineJoinType.v.strokeStyleLineJoinType=fY.Lg.join[S];if(D!=null)I.strokeStyleLineCapType.v.strokeStyleLineCapType=fY.Lg.IB[D]}};
fY.Lg.ahB=JSON.stringify(fY.Lg.default);fY.qm={nI:function(){return{Bv:[1,1,1],mx:[0,0,0],YX:1,Ti:0,zZ:[],yE:0,P_:0,A6:0,x9:1}},afT:function(I){var k=f4.GW(I.StrokeColor),a=fY.qm.nI();
a.x9=I.FillFirst?1:2;var n=I._LineCap,s=I._LineJoin,C=I._MiterLimit,T=I._LineDashOffset,S=I._LineDashArray,D=I.OutlineWidth;
if(n)a.A6=n;if(s)a.P_=s;if(C)a.Ti=C;if(S)a.zZ=S;if(D!=null)a.YX=D;a.mx=[k.$/255,k.H/255,k.J/255];return a},al6:function(I,k){k.FillFirst=I.x9==1;
k._LineCap=I.A6;k._LineJoin=I.P_;k._MiterLimit=I.Ti;k._LineDashArray=I.zZ}};fY.NU=function(I){var k=I.strokeEnabled.v,a=I.strokeStyleContent.v;
return k?{nE:1+fY.Lg.qo.indexOf(a.classID),aG:a}:{nE:0}};fY.Mf=function(I,k){var a=k.nE;I.strokeEnabled.v=a!=0;
if(a!=0){I.strokeStyleContent.v=k.aG;k.aG.classID=fY.Lg.qo[a-1]}};fY.bZ=function(I){var k=I.vstk,a=null;
if(k&&!k.fillEnabled.v)a={nE:0};else if(I.SoCo)a={nE:1,aG:I.SoCo};else if(I.GdFl)a={nE:2,aG:I.GdFl};
else if(I.PtFl)a={nE:3,aG:I.PtFl};return a};fY.$O=function(I,k){var a=I.vmsk,n=I.vstk,s=k.nE;if(n)n.fillEnabled.v=s!=0;
if(s>0){var C=["SoCo","GdFl","PtFl"][s-1];for(var Y=0;Y<3;Y++)delete I[["SoCo","GdFl","PtFl"][Y]];I[C]=k.aG}};
fY.T8=[{classID:"null",Clr:JSON.parse(fY.iH[5]).Clr},{classID:"null",Grad:JSON.parse(fY.iH[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(fY.iH[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var hB={};hB.au7=function(I,k){function a(I,d){if(I==null||!I.masterFXSwitch.v)return null;var R=I[d].v,c;
if(R.length!=0){c=R[0].v;if(!c.enab.v)c=null}return c}var n=k.SoCo,s=k.GdFl,C=a(I,"solidFillMulti"),T=a(I,"gradientFillMulti");
if(C==null&&T==null)return[n,s];var S=hB.akg;if(n&&C&&T==null){var D=JSON.parse(JSON.stringify(n));D.Clr.v=S(C.Clr.v,n.Clr.v,C);
return[D,null]}if(s&&C&&T==null){var o=JSON.parse(JSON.stringify(s)),v=o.Grad.v.Clrs.v;for(var Y=0;Y<v.length;
Y++){var g=v[Y].v.Clr;g.v=S(C.Clr.v,g.v,C)}return[null,o]}if(n&&T){var o=JSON.parse(JSON.stringify(T)),v=o.Grad.v.Clrs.v;
for(var Y=0;Y<v.length;Y++){var g=v[Y].v.Clr;g.v=S(g.v,n.Clr.v,T)}return[null,o]}return[C,T]};hB.y$={PN:j.U(4),s8:j.U(4),$:new eZ(0,0,1,1)};
hB.akg=function(I,k,a){var n=aU.W$(a.Md.v.BlnM),s=a.Opct.v.val/100,C=hB.y$;I=j.G.GW(I);k=j.G.GW(k);C.PN[0]=I.$;
C.PN[1]=I.H;C.PN[2]=I.J;C.PN[3]=255;C.s8[0]=k.$;C.s8[1]=k.H;C.s8[2]=k.J;C.s8[3]=255;j.z.Pf(n,C.PN,C.$,C.s8,C.$,C.$,s);
return{classID:"RGBC",Rd:{t:"doub",v:C.s8[0]},Grn:{t:"doub",v:C.s8[1]},Bl:{t:"doub",v:C.s8[2]}}};hB.apn=function(I,k,a){var n=I;
I=I.slice(0);var s=aU._B[aU.$k.indexOf(k.Md.v.BlnM)],C=j.G.GW(k.Clr.v),T=4278190080|Math.round(C.J)<<16|Math.round(C.H)<<8|Math.round(C.$),S=j.U(a.c()*4);
j.IP(S,T);j.z.Pf(s,S,a,I,a,a,k.Opct.v.val/100);for(var Y=0;Y<I.length;Y+=4)I[Y+3]=n[Y+3];return I};hB.ax=function(I,k){var a=["Sz","blur","Sftn","Dstn"];
for(var Y=0;Y<fY.order.length;Y++){var n=fY.order[Y],s=I[fY.zQ[Y]].v;for(var C=0;C<s.length;C++){var T=s[C].v;
for(var S=0;S<a.length;S++){var D=T[a[S]];if(D){var o=D.v.val,v=o;v=Math.max(o==0?0:1,v*k);if(n=="ChFX")v=Math.min(v,250);
if(n=="ebbl"){if(a[S]=="blur")v=Math.min(v,250);if(a[S]=="Sftn")v=Math.min(v,16)}D.v.val=Math.round(v)}}if(n=="ebbl"||n=="patternFill"||n=="FrFX")if(T.Ptrn&&T.Scl)T.Scl.v.val=Math.max(1,Math.min(1e3,T.Scl.v.val*k))}}};
hB.aqy=function(I,k,a){var n=new eZ(-.5,-.5,1,1);for(var Y=0;Y<fY.order.length;Y++){var s=fY.order[Y],C=I[fY.zQ[Y]].v;
for(var T=0;T<C.length;T++){var S=C[T].v,g;if(!S.enab.v)continue;var D=S.blur?S.blur.v.val+1:0,o=S.Ckmt?S.Ckmt.v.val/100:0,v=Math.round(D*o);
if(s=="DrSh"||s=="IrSh"&&a){g=new eZ(-.5,-.5,1,1);g.CJ(D,D);hB.Lo(g,S,k,0)}if(s=="St3D"){g=new eZ(-.5,-.5,1,1);
hB.Lo(g,S,k,Math.PI,"Angl")}if(s=="OrGl"||s=="IrGl"&&a){g=new eZ(-.5,-.5,1,1);g.CJ(D,D)}if(s=="FrFX"){var d=hB.zX(S),R=d[1];
if(a)R=Math.max(d[0],R);g=new eZ(-.5,-.5,1,1);g.CJ(Math.ceil(R),Math.ceil(R))}if(s=="ebbl"){var D=S.blur.v.val,c=S.bvlS.v.BESl;
if(c=="Embs"||c=="PlEb")D/=2;var e=["OtrB","InrB","Embs","PlEb","strokeEmboss"],O=["SfBL","PrBL","Slmt"],U=["In","Out"],K=S.bvlT.v.bvlT!="SfBL"?D:D*.43,_=Math.round(D);
g=new eZ(-_-1,-_-1,2*_+2,2*_+2)}if(a&&s=="ChFX"){g=new eZ(-.5,-.5,1,1);g.CJ(D,D);var Z=g.clone();hB.Lo(g,S,k,0);
hB.Lo(Z,S,k,Math.PI);g=g.oL(Z)}if(g)n=n.oL(g)}}if(n.x!=Math.ceil(n.x)){n.x=Math.ceil(n.x);n.Q-=1}if(n.y!=Math.ceil(n.y)){n.y=Math.ceil(n.y);
n._-=1}n.Q=Math.floor(n.Q);n._=Math.floor(n._);return n};hB.zX=function(I){var k,a,n=0,s=0;if(I.Sz){k=I.Sz.v.val;
a=fY.stroke.types.indexOf(I.Styl.v.FStl)}else{k=I.Wdth.v;a=["Insd","Cntr","Otsd"].indexOf(I.Lctn.v.StrL)}if(a==0)n=k;
if(a==1)n=s=k/2;if(a==2)s=k;return[n,s]};hB.a5E=function(I){if(dZ.QV&&I.sP==null){I.sP=new dZ.$n(I.bF.Q,I.bF._);
I.sP.set(I.GG);delete I.GG;if(I.HX){I.qF=new dZ.SH(I.bF.Q,I.bF._);I.qF.set(I.HX);delete I.HX}if(I.po){I.Gm=new dZ.SH(I.bF.Q,I.bF._);
I.Gm.set(I.po);delete I.po}}};hB.axc=function(I){if(I.sP)I.sP.delete();if(I.qF)I.qF.delete();if(I.Gm)I.Gm.delete()};
hB.avs=function(I){if(I.all==null)return;for(var Y=0;Y<I.all.length;Y++){hB.axc(I.all[Y])}};hB.aE_=function(I,k,a,n,s,C){var T=hB.q8(a,n,I,k,s,C);
for(var Y=0;Y<T.all.length;Y++)hB.a5E(T.all[Y]);return T};hB.au1=function(I){for(var Y=0;Y<fY.order.length;
Y++){var k=fY.order[Y],a=fY.zQ[Y],n=I[a].v;for(var s=0;s<n.length;s++){var C=n[s].v;if(C.enab.v&&["patternFill","GrFl","SoFi"].indexOf(k)==-1)return!0}}return!1};
hB.q8=function(I,k,a,n,s,C){if(C==null)C=n;var T=0,S=0;for(var Y=0;Y<fY.order.length;Y++){var D=fY.order[Y],o=fY.zQ[Y],v=I[o].v;
for(var g=0;g<v.length;g++){var d=v[g].v;if(D=="DrSh"&&d.enab.v&&d.Ckmt.v.val>0&&d.blur.v.val>0)T=Math.max(T,Math.ceil(d.Ckmt.v.val*d.blur.v.val/100));
if(D=="OrGl"&&d.enab.v&&d.Ckmt.v.val>0&&d.blur.v.val>0&&d.GlwT.v.BETE=="SfBL")T=Math.max(T,Math.ceil(d.Ckmt.v.val*d.blur.v.val/100));
if(D=="OrGl"&&d.enab.v&&d.blur.v.val>0&&d.GlwT.v.BETE=="PrBL")T=Math.max(T,d.blur.v.val);if(D=="FrFX"&&d.enab.v&&d.Sz.v.val>0){if(d.Styl.v.FStl=="OutF")T=Math.max(T,d.Sz.v.val);
if(d.Styl.v.FStl=="CtrF")T=Math.max(T,Math.ceil(d.Sz.v.val/2));S=Math.max(S,hB.zX(d)[1])}}}var R=new hB.kJ(a,n,T,hB.au1(I)),c=-n.x,e=-n.y,O={type:{},all:[]};
for(var U=0;U<fY.order.length;U++){var D=fY.order[U],o=fY.zQ[U];O.type[D]=[];for(var K=I[o].v.length-1;
K>=0;K--){var _=I[o].v[K].v,N;if(!_.enab.v)continue;var Z=_.blur?_.blur.v.val:0,H=_.Ckmt?_.Ckmt.v.val/100:0,G=Z*H;
if(D=="St3D"){var z=Math.max(1e-4,1-_.Srnk.v.val/100),W=2,hY=0;function L(p,dN,_){var aC=_.Angl.v.val;
aC*=Math.PI/180;var q=_.Dstn.v.val,gq=Math.cos(aC)*q,eC=-Math.sin(aC)*q,ij=z+dN*(1-z),ck=new dc;ck.translate(-p.Q/2,-p._/2);
ck.scale(ij,ij);ck.translate(p.Q/2,p._/2);ck.translate((1-dN)*gq,(1-dN)*eC);return ck}var p=n.clone(),V=a;
p.x=p.y=0;var r=Date.now(),y=p.clone();y.CJ(W,W);var m=j.U(y.c());j.O0(V,p,m,y);y.x=y.y=0;j.ox.Xh(m,m,y,2);
var f=j.U(y.c()*4);f.fill(255);j.bS(m,f);var h=j.U(p.c()),b=p.Q,i=p._,w=y.Q,J=hB.aDj(_,s),q=Math.cos(J[1]),x=-Math.cos(J[0])*q,A=Math.sin(J[0])*q;
if(Math.abs(x)<.001&&Math.abs(A)<.001)x=A=0;for(var Q=0;Q<i;Q++)for(var B=0;B<b;B++){var Y=(Q+W)*w+B+W,l=m[Y+1]-m[Y-1],P=m[Y+w]-m[Y-w],F=l*l+P*P;
if(F>10){var t=1/Math.sqrt(F);h[Q*b+B]=Math.max(0,Math.min(255,128+127*(x*t*l+A*t*P)))}}var b$=[V,p],hd=L(p,0,_),di=j.X.Eu(p).s,hD=di.slice(0);
j.X.h(di,hd,hD);var a$=p.oL(j.X.qP(hD)),eJ=j.U(a$.c()*4);for(var Y=0;Y<8;Y+=2){var l=di[Y]-hD[Y],P=di[Y+1]-hD[Y+1];
hY=Math.max(hY,Math.sqrt(l*l+P*P))}var ik=Math.round(hY/2),fw=j.G.GW(_.Clr.v);fw.$/=255;fw.H/=255;fw.J/=255;
var jb=_.Drkn.v.val/100;for(var cd=0;cd<ik;cd++){var dN=cd/ik,kc=1-jb+dN*jb,ck=L(p,dN,_),b3=p.clone(),hL=V;
if(z!=1){var gS=E.nF.e6(b$,ck);b3=gS.rect;hL=gS.channel}else{var jF=ck.yt(new kK(0,0));b3.x+=Math.round(jF.x);
b3.y+=Math.round(jF.y)}var kB=j.U(b3.c()*4);if(x!=0||A!=0){var jw=b3.Q,iT=b3._,gY=fw.$,aL=fw.H,dw=fw.J,ka=ck.clone();
ka.Us();var cy=ka.yt(new kK(.5,.5)),jP=ka.yt(new kK(1.5,1.5)),l=jP.x-cy.x,P=jP.y-cy.y;for(var Q=0;Q<iT;
Q++){for(var B=0;B<jw;B++){var Y=Q*jw+B,aA=Y*4,d1=Math.max(0,Math.min(b-1,~~(.5+l*B))),ag=Math.max(0,Math.min(i-1,~~(.5+P*Q))),b0=h[ag*b+d1],kx=-1+2*b0*(1/255),br=-kx,ft=0;
if(kx>0){br=0;ft=kx}kB[aA]=255*(1-br)*(ft+(1-ft)*gY)*kc;kB[aA+1]=255*(1-br)*(ft+(1-ft)*aL)*kc;kB[aA+2]=255*(1-br)*(ft+(1-ft)*dw)*kc}}}else hB.AT(kB,_.Clr.v,null,kc);
j.yv(hL,kB,3);j.z.Pf("norm",kB,b3,eJ,a$,b3,1)}N={GG:eJ,bF:a$}}else if(D=="DrSh"){var iv=R.bc(G,Z-G,!0),k6=iv.YR,ay=iv.Sq.clone();
hB.Xw(k6,_,!1);if(_.Cntn&&_.Cntn.v){var eT=new eZ;hB.Lo(eT,_,s,0);var kD=ay.clone();kD.offset(-eT.x,-eT.y);
kD=kD.oL(ay);var cP=j.U(kD.c());j.O0(k6,ay,cP,kD);var cU=Math.sqrt(eT.x*eT.x+eT.y*eT.y),gu=k6.slice(0);
for(var Y=0;Y<cU-1;Y++){var l=Math.round(-eT.x*Y/cU),P=Math.round(-eT.y*Y/cU),jd=iv.Sq.clone();jd.offset(l,P);
j.aoO(gu,jd,cP,kD)}k6=cP;ay=kD}ay.offset(c,e);hB.Lo(ay,_,s,0);var eJ=j.U(ay.c()*4);hB.AT(eJ,_.Clr.v);
j.yv(k6,eJ,3);N={GG:eJ,bF:ay,azt:_.layerConceals.v}}else if(D=="IrSh"){var iv=R.bc(G,Z-G,!1);hB.Lo(iv.Sq,_,s,0);
var ay=R.rect().clone(),k6=j.U(ay.c());k6.fill(255);j.O0(iv.YR,iv.Sq,k6,ay);hB.Xw(k6,_,!0,!0);var eJ=j.U(ay.c()*4);
hB.AT(eJ,_.Clr.v);j.yv(k6,eJ,3);ay.offset(c,e);N={GG:eJ,bF:ay}}else if(D=="GrFl"){var eJ=j.U(R.rect().c()*4);
hB.Q0(_,eJ,R.rect(),s,null,C);var ay=R.rect().clone();ay.offset(c,e);N={GG:eJ,bF:ay}}else if(D=="SoFi"){var eJ=j.U(R.YR().length*4);
hB.AT(eJ,_.Clr.v);var ay=R.rect().clone();ay.offset(c,e);N={GG:eJ,bF:ay}}else if(D=="ebbl"){var i$=!1;
if(i$)console.log(_);var r=Date.now(),hT=r,jk=_.bvlS.v.BESl,i1=_.bvlT.v.bvlT;if(jk=="strokeEmboss"){var aZ=I.frameFXMulti.v;
if(aZ.length==0)continue;aZ=aZ[0].v;if(!aZ.enab.v)continue;var az=aZ.Styl.v.FStl;if(az=="OutF")jk="OtrB";
if(az=="CtrF")jk="Embs";if(az=="InsF")jk="InrB"}var Z=_.blur.v.val;if(Z==0)Z=.7;if(jk=="Embs"||jk=="PlEb")Z/=2;
var hM=["OtrB","InrB","Embs","PlEb","strokeEmboss"],ku=["SfBL","PrBL","Slmt"],dM=["In","Out"],fb=i1!="SfBL"?Z:Z*.45,j$=Math.round(Z),e0=R.rect().clone(),ff=e0.clone();
ff.CJ(j$,j$);var b=ff.Q,i=ff._,dm=b*i,dX=j.U(dm);j.O0(R.YR(),e0,dX,ff);var il=j.style.Cf(dX,b,i);j.Us(dX);
var j1=j.style.Cf(dX,b,i);if(i$)console.log("distTransform computed",Date.now()-r);r=Date.now();for(var Y=0;
Y<dm;Y++){var c5=j1[Y]-il[Y];j1[Y]=c5}for(var Y=0;Y<dm;Y++){var c5=j1[Y];if(c5<-fb)j1[Y]=-fb;else if(c5>fb)j1[Y]=fb}if(i$)console.log("summing + cropping",Date.now()-r);
r=Date.now();if(i1=="SfBL"){var iE=Math.pow(Z*.21,1.22);if(!0)iE=Math.max(iE,2);j.ox.ZP(j1,ff,iE,2);
console.log(iE)}if(i$)console.log("blurring",Date.now()-r);r=Date.now();var f6=j1,fP=il;fP.set(f6);if(_.useShape.v){var jE=Math.min(100,_.Inpr.v.val+1)/100;
if(jk!="OtrB"&&jk!="InrB")jE=1;var iQ=j.IJ.ot(_.MpgS.v.Crv.v,2e3),j8=Math.round(2e3/jE);iQ=j.IJ.amC(iQ,j8,jk=="InrB");
var bs=.5/fb;for(var Y=0;Y<dm;Y++){var e6=f6[Y],c$=.99999*(e6+fb)*bs;f6[Y]=-fb+2*fb*iQ[~~(c$*(j8-1))]}if(i$)console.log("applying shape",Date.now()-r);
r=Date.now()}if(_.useTexture.v){var kB=j.U(b*i*4);hB.pt(_,kB,ff,s.add.Patt,k);var ba=j.U(b*i);j.xD(kB,ba);
j.ox.aF0(ba,ba,ff,1);var jc=Z*_.textureDepth.v.val*(1/100)*(1/255);if(_.InvT.v)jc=-jc;for(var Y=0;Y<dm;
Y++)f6[Y]+=-jc*ba[Y];if(i$)console.log("applying texture",Date.now()-r);r=Date.now()}var J=hB.aDj(_,s),aC=J[0],eQ=J[1],x=Math.cos(aC)*Math.cos(eQ),A=-Math.sin(aC)*Math.cos(eQ),aR=Math.sin(eQ),b2=jk=="PlEb",dH=new Float32Array(dm),gZ=dH;
dH.fill(aR);if(b2){gZ=new Float32Array(dm);gZ.fill(aR)}var fq=(_.bvlT.v.bvlT=="SfBL"?1:.5)*(_.bvlD.v.BESs=="In"?1:-1)*_.srgR.v.val/100,e8=-.125*fq;
for(var Q=0;Q<i;Q++){var fp=Q==0?0:-b,cM=Q==i-1?0:b,Y=Q*b;for(var B=0;B<b;B++,Y++){var kL=B==0?Y:Y-1,cQ=B==b-1?Y:Y+1,l=f6[cQ]-f6[kL],P=f6[Y+cM]-f6[Y+fp],ju=1;
if(l==0&&P==0)continue;var fv=f6[kL+fp],bR=f6[cQ+fp],cI=f6[kL+cM],dn=f6[cQ+cM],bM=e8*(bR+2*l+dn-fv-cI),aK=e8*(cI+2*P+dn-fv-bR),fD=1/Math.sqrt(bM*bM+aK*aK+1);
bM*=fD;aK*=fD;ju*=fD;var bD=bM*x+aK*A+ju*aR;dH[Y]=Math.max(0,bD);if(!b2)continue;var aN=-bM*x-aK*A+ju*aR;
gZ[Y]=Math.max(0,aN)}}if(i$)console.log("raycasting",Date.now()-r);r=Date.now();if(_.Sftn.v.val!=0){j.ox.ZP(dH,ff,_.Sftn.v.val*.43,2);
if(b2)j.ox.ZP(gZ,ff,_.Sftn.v.val*.43,2)}if(i$)console.log("softening",Date.now()-r);r=Date.now();var bk=hB.sG(_.hglC.v,0),d8=hB.sG(_.sdwC.v,0),bc=new Uint8Array(dH.buffer),bE=new Uint32Array(bc.buffer),du=new Uint8Array(f6.buffer),kv=new Uint32Array(du.buffer),cx=bc,hn=du,hy=bE,dD=kv;
if(b2){cx=new Uint8Array(gZ.buffer);hy=new Uint32Array(cx.buffer);hn=new Uint8Array(fP.buffer);dD=new Uint32Array(hn.buffer)}var cV=1/aR,eA=1/(1-aR),bs=1/fb,iQ=j.IJ.ot(_.TrnS.v.Crv.v,1024),a5=new Float32Array(2500);
for(var Y=0;Y<2500;Y++){var B=Math.max(0,Math.min(1,(Y-500)*.001));a5[Y]=Math.pow(B,.2)}for(var Q=0;
Q<i;Q++)for(var B=0;B<b;B++){var Y=Q*b+B,gd=4*Y+3,a4=~~(dH[Y]*1023),c4=iQ[a4],fX=(fP[Y]+fb*.993)*bs,iw=a5[~~(500+fX*1e3)],cJ=iw*(1-Math.min(1,c4*cV)),aV=iw*(1-Math.min(1,(1-c4)*eA));
kv[Y]=~~(.5+255*cJ)<<24|d8;bE[Y]=~~(.5+255*aV)<<24|bk;if(!b2)continue;var kO=iQ[~~(gZ[Y]*1023)],fa=iw*(1-Math.min(1,kO*cV)),iT=iw*(1-Math.min(1,(1-kO)*eA));
dD[Y]=~~(.5+255*fa)<<24|d8;hy[Y]=~~(.5+255*iT)<<24|bk}if(i$)console.log("baking textures",Date.now()-r);
r=Date.now();ff=R.rect().clone();ff.CJ(j$,j$);ff.offset(c,e);N={aBj:_.bvlS.v.BESl=="strokeEmboss"};var fO=aU.W$(_.hglM.v.BlnM),f3=_.hglO.v.val/100,e5=aU.W$(_.sdwM.v.BlnM),d6=_.sdwO.v.val/100;
if(["InrB","Embs","PlEb"].indexOf(jk)!=-1){N.cn={GG:bc,bF:ff,nY:fO,bf:f3};N.KU={GG:du,bF:ff,nY:e5,bf:d6}}if(["OtrB","Embs","PlEb"].indexOf(jk)!=-1){N.w5={GG:cx,bF:ff,nY:fO,bf:f3};
N.bK={GG:hn,bF:ff,nY:e5,bf:d6}}if(i$)console.log(Date.now()-hT)}else if(D=="patternFill"){var bl=R.rect(),eJ=j.U(bl.c()*4);
hB.pt(_,eJ,bl,s.add.Patt,k);var ay=bl.clone();ay.offset(c,e);N={GG:eJ,bF:ay}}else if(D=="ChFX"){var eJ=j.U(R.YR().length*4);
hB.AT(eJ,_.Clr.v);var Z=_.blur.v.val,ci=R.rect().clone();ci.CJ(Z,Z);var ho=j.U(ci.c()),aD=j.U(ci.c());
j.O0(R.YR(),R.rect(),aD,ci);j.ox.Xh(aD,ho,ci,Z*.43);var gT=j.IJ.pH(_.MpgS.v.Crv.v,256,!0);j.ajJ(ho,gT);
var gz=j.U(R.YR().length),fN=j.U(R.YR().length),ax=R.rect().clone();hB.Lo(ax,_,s,0);j.O0(ho,ci,gz,ax);
ax=R.rect().clone();hB.Lo(ax,_,s,Math.PI);j.O0(ho,ci,fN,ax);var jH=gz.length;for(var Y=0;Y<jH;Y++)eJ[4*Y+3]=Math.abs(gz[Y]-fN[Y]);
if(_.Invr.v)for(var Y=0;Y<jH;Y++)eJ[4*Y+3]=255-eJ[4*Y+3];var ay=R.rect().clone();ay.offset(c,e);N={GG:eJ,bF:ay}}else if(D=="OrGl"){var iv;
if(_.GlwT.v.BETE=="SfBL")iv=R.bc(G,Z-G,!0);else iv=R.axT(Z,H,!0);var k6=iv.YR,ay=iv.Sq,cs=k6.slice(0);
hB.aga(k6,_);var eJ=j.U(ay.c()*4);if(_.Grad==null){hB.AT(eJ,_.Clr.v);hB.Xw(k6,_,!1)}else{hB.Xw(k6,_,null);
var ec={_0:k6,X4:255,Xa:0,dU:ay};hB.Q0(_,eJ,ay,s,ec);var jp=_.Nose.v.val/100,fV=ay.Q;for(var Y=0;Y<cs.length;
Y++){var g6=255,h7=cs[Y];if(h7<32){var fX=(h7+cs[Y-1]+cs[Y+1]+cs[Y-fV]+cs[Y+fV])*.2-1;g6=Math.min(255,Math.round(Math.max(0,fX)*8))}k6[Y]=g6}hB.a3g(k6,_)}j.yv(k6,eJ,3);
ay.offset(c,e);N={GG:eJ,bF:ay}}else if(D=="IrGl"){var iv;if(_.GlwT.v.BETE=="SfBL")iv=R.bc(G,Z-G,!1);
else iv=R.axT(Z,H,!1);var k6=iv.YR,ay=iv.Sq;hB.aga(k6,_);if(_.glwS.v.IGSr=="SrcC")j.Us(k6);var eJ=j.U(ay.c()*4);
if(_.Grad==null){hB.AT(eJ,_.Clr.v);hB.Xw(k6,_,!0)}else{hB.Xw(k6,_,null);var ec={_0:k6,X4:255,Xa:0,dU:ay};
hB.Q0(_,eJ,ay,s,ec);k6.fill(255);hB.a3g(k6,_)}j.yv(k6,eJ,3);ay.offset(c,e);N={GG:eJ,bF:ay}}else if(D=="FrFX"){var cj=hB.zX(_),h2=cj[0],eM=cj[1],ay=R.rect().clone(),eG=null,jT=null;
ay.CJ(Math.ceil(S),Math.ceil(S));if(eM>0){var iv=R.bc(eM,0,!0);jT=iv.YR;if(jT.length<ay.c()){jT=j.U(ay.c());
j.O0(iv.YR,iv.Sq,jT,ay)}}if(h2>0){var iv=R.bc(h2,0,!1);eG=j.U(ay.c());eG.fill(255);j.O0(iv.YR,iv.Sq,eG,ay)}ay.offset(c,e);
var eJ=j.U(ay.c()*4),kb=_.PntT.v.FrFl;if(kb=="SClr")hB.AT(eJ,_.Clr.v);if(kb=="GrFl")hB.Q0(_,eJ,ay,s,R.ahk(h2,eM));
if(kb=="Ptrn")hB.pt(_,eJ,ay,s.add.Patt,k);var ev=_.overprint,cL=ev?ev.v:!1;if(cL){var jN=eG?eG:jT;if(eG&&jT)j._R.LU(eG,jT,jN);
j.yv(jN,eJ,3)}N={GG:eJ,bF:ay,po:jT,HX:eG,a4A:cL}}O.type[D].push(N);if(D=="ebbl"){if(N.cn)O.all.push(N.cn,N.KU);
if(N.w5)O.all.push(N.w5,N.bK)}else{N.nY=aU.W$(_.Md.v.BlnM);N.bf=_.Opct.v.val/100,O.all.push(N)}}}return O};
hB.y4=function(I){var k=1/Math.sqrt(I.x*I.x+I.y*I.y+I.aP*I.aP);I.x*=k;I.y*=k;I.aP*=k};hB.aDQ=function(I,k){return{x:I.y*k.aP-I.aP*k.y,y:I.aP*k.x-I.x*k.aP,aP:I.x*k.y-I.y*k.x}};
hB.a5R=function(I,k){return I.x*k.x+I.y*k.y+I.aP*k.aP};hB.a3g=function(I,k){var a=k.Nose.v.val/100;if(a>0)for(var Y=0;
Y<I.length;Y++){var n=I[Y];n=Math.min(510-(1+a)*j.style.dC(Y),n);I[Y]=n}};hB.os=function(I){var k=hB.LJ(),a=I.z4,n=!1;
for(var Y=0;Y<32;Y+=8)if(a[Y]+a[Y+1]+a[Y+4]+a[Y+5]!=0||a[Y+2]+a[Y+3]+a[Y+6]+a[Y+7]!=1020)n=!0;if(n){a=a.slice(0);
for(var Y=0;Y<40;Y+=4){var s=a[Y]/255,C=a[Y+1]/255,T=a[Y+2]/255,S=a[Y+3]/255;a[Y]=s-.001;a[Y+1]=s==C?1e6:1/(C-s);
a[Y+2]=T==S?-1e6:1/(T-S);a[Y+3]=S+.001}}var D=I.add.iOpa!=null?I.add.iOpa/255:k.fill,o=I.add.vstk;if(o&&!o.fillEnabled.v&&(!o.strokeEnabled.v||o.strokeStyleLineWidth.v.val==0))D=0;
return{fill:D,qV:n?a:null,h_:I.add.brst!=null?I.add.brst:k.h_,aut:I.add.knko!=null?I.add.knko:k.aut,style:!1,Vj:!1}};
hB.LJ=function(){return{fill:1,qV:null,h_:[1,1,1],aut:0,style:!1,Vj:!1}};hB.aop=function(I,k,a,n,s,C,T,S){if(S==null)S=1;
if(T==null)T=new dc;var D=I.ZS[1].Q,o=I.ZS[1]._,v=new dc,g=s<2;if(g)v.translate(-D/2,-o/2);if(s==0){S*=Math.max(a/D,n/o)}else if(s==1){S*=Math.min(a/D,n/o)}else if(s==2){v.scale(1/D,1/o);
v.concat(T);v.scale(a,n)}else if(s==3){S=S}v.scale(S,S);if(g)v.translate(a/2,n/2);v.concat(C);k.Ptrn.v.Idnt.v=I.id;
k.Scl.v.val=Math.round(100*v.Ha());k.Angl.v.val=Math.round(180*Math.atan2(-v.J,v.M)/Math.PI);k.Algn.v=!0;
var d=k.phase.v;d.Hrzn.v=Math.round(v.Dw);d.Vrtc.v=Math.round(v.rk)};hB.HP=function(I,k){if(k==null)return null;
var a=I.Idnt.v,n=I.Nm.v;for(var Y=0;Y<k.length;Y++)if(k[Y].id==a)return k[Y];for(var Y=0;Y<k.length;
Y++)if(k[Y].name==n)return k[Y];return null};hB.amZ=function(I,k,a){var n=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var Y=0;Y<n.length;Y++){var s=I.v[n[Y]].v;for(var C=0;C<s.length;C++)if(s[C].v.Ptrn)k.r4(hB.HP(s[C].v.Ptrn.v,a))}};
hB.abo=function(I,k,a){var n=["patternFillMulti","ebblMulti","frameFXMulti"];for(var Y=0;Y<n.length;
Y++){var s=I.v[n[Y]].v;for(var C=0;C<s.length;C++)if(s[C].v.Ptrn){var T=s[C].v.Ptrn.v,S=hB.HP(T,a),D=hB.HP(T,k.add.Patt);
if(S==null&&D)a.push(D)}}};hB.pt=function(I,k,a,n,s){var C=hB.HP(I.Ptrn.v,n);if(C!=null&&!a.KH()){var T=C.ZS,S=T[0],D=T[1],o=0;
j.iz(T);var v=(I.Scl?I.Scl.v.val:100)/100;while((v<.3||v==.5)&&T[o+2]){v*=D.Q/T[o+3].Q;o+=2;S=T[o];D=T[o+1]}var g=j.scale.pt(S,D.Q,D._),d=I.phase?I.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},R=I.Angl?I.Angl.v.val:0,c=-a.x+d.Hrzn.v-1,e=-a.y+d.Vrtc.v-1;
if(I.Algn!=null&&!I.Algn.v){}else{c+=s.x;e+=s.y}if(k)j.scale.aB0(g,k,a.Q,a._,v,v,c+1,e+1,R*Math.PI/180);
else return[g,v,c+1,e+1,R*Math.PI/180]}};hB.Q0=function(I,k,a,n,s,C,T,S){if(C==null)C=a;var D=I.Type?I.Type.v.GrdT:"shapeburst",o=I.Algn&&I.Algn.v?C:new eZ(0,0,n.Q,n._),v=I.Angl?j.G.azf(I,o):[new kK(0,0),new kK(100,0)],g=v[0].x,d=v[0].y,R=v[1].x-g,c=v[1].y-d,e=Math.sqrt(R*R+c*c);
e=1/(2*e*e);var O=[R*e,c*e,-c*e,R*e],U=I.Rvrs?I.Rvrs.v:!1,K=I.Dthr?I.Dthr.v:!1;j.G.tj(I.Grad.v,k,a,O,g,d,U,fY.G.types.indexOf(D),T==null?0:T,S==null?0:S,s,K)};
hB.ar9=function(I,k,a){for(var Y=0;Y<I.all.length;Y++){var n=I.all[Y];n.jV=n.bF.clone();n.jV.offset(k,a)}};
hB.a95=function(I,k,a,n,s,C){var T=dZ.QV?hB.adU:hB.atQ;hB.ar9(k,a.x,a.y);var S=k.type.DrSh;for(var Y=0;
Y<S.length;Y++)if(!S[Y].azt)T(S[Y],n,s,C)};hB.a77=function(I,k,a,n,s,C,T,S,D,o){var v=a,g=dZ.QV?hB.adU:hB.atQ,d=dZ.QV?dZ.z.sT:j.z.Pw,R;
R=k.type.DrSh;for(var Y=0;Y<R.length;Y++)if(R[Y].azt)g(R[Y],n,s,C);R=k.type.St3D;for(var Y=0;Y<R.length;
Y++)g(R[Y],n,s,C);R=k.type.OrGl;for(var Y=0;Y<R.length;Y++)g(R[Y],n,s,C);var c="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");
for(var e=0;e<c.length;e++){var R=k.type[c[e]];for(var Y=0;Y<R.length;Y++)g(R[Y],T,v,C)}var O=k.type.ebbl[0],U=O!=null&&O.aBj;
R=k.type.FrFX;for(var Y=0;Y<R.length;Y++){var K=R[Y];bA.Qt.O0(S,o,D,o,C);g(K,D,o,C);if(U&&Y==R.length-1){if(O.bK)g(O.bK,D,o,C);
if(O.w5)g(O.w5,D,o,C);if(O.KU)g(O.KU,D,o,C);if(O.cn)g(O.cn,D,o,C)}if(K.a4A){if(K.HX||K.qF){g(K,T,v,C)}if(K.po||K.Gm){g(K,n,s,C)}}else{if(K.HX||K.qF)d(D,o,T,v,dZ.QV?K.qF:K.HX,K.jV,0,C,1);
if(K.po||K.Gm)d(D,o,n,s,dZ.QV?K.Gm:K.po,K.jV,0,C,1)}}if(!U&&O!=null){if(O.bK)g(O.bK,n,s,C);if(O.w5)g(O.w5,n,s,C);
if(O.KU)g(O.KU,T,v,C);if(O.cn)g(O.cn,T,v,C)}};hB.atQ=function(I,k,a,n){var s=hB.LJ();s.fill=I.bf;s.style=!0;
j.z.Pf(I.nY,I.GG,I.jV,k,a,n,1,s)};hB.adU=function(I,k,a,n){var s=hB.LJ();s.fill=I.bf;s.style=!0;dZ.z.atd(I.nY,I.sP,I.jV,k,a,n,1,s)};
hB.aga=function(I,k){var a=1-k.Inpr.v.val/100,n=1+Math.tan(a*(Math.PI/2)),s=I.length;for(var Y=0;Y<s;
Y++)I[Y]=Math.min(255,Math.round(I[Y]*n))};hB.Xw=function(I,k,a,n){var s=k.blur.v.val,C=Math.round(s*(k.Ckmt.v.val/100));
if(s>C){var T=j.IJ.pH(k.TrnS.v.Crv.v,256,n!=!0);j.ajJ(I,T)}if(a!=null&&k.Nose.v.val>0)j.style.bv(I,k.Nose.v.val/100,a)};
hB.sG=function(I,k,a){if(k==null)k=255;var n=j.G.GW(I);if(a!=null){n.$=Math.round(n.$*a);n.H=Math.round(n.H*a);
n.J=Math.round(n.J*a)}return k<<24|n.J<<16|n.H<<8|n.$};hB.AT=function(I,k,a,n){var s=new Uint32Array(I.buffer);
s.fill(hB.sG(k,a,n))};hB.Lo=function(I,k,a,n,s){var C=k.uglg&&k.uglg.v?a.hh():k[s?s:"lagl"].v.val;C=C*Math.PI/180+n;
var T=Math.cos(C)*k.Dstn.v.val,S=Math.sin(C)*k.Dstn.v.val;I.x-=Math.round(T);I.y+=Math.round(S)};hB.aDj=function(I,k){var a=I.uglg&&I.uglg.v?k.hh():I.lagl.v.val;
a=a*(Math.PI/180);var n=I.uglg&&I.uglg.v?k.X$():I.Lald.v.val;n=n*(Math.PI/180);return[a,n]};hB.a12=function(I){if(I==null||!I.masterFXSwitch.v)return null;
var k=I.frameFXMulti.v,a=null;for(var Y=0;Y<k.length;Y++)if(k[Y].v.enab.v)a=k[Y].v;if(a==null)return null;
var n=fY.Lg.nI();hB.agj(a,n);return n};hB.agj=function(I,k){var a=fY.stroke.Ra.indexOf(I.PntT.v.FrFl),n=[fY.$w,fY.Ym,fY.o3][a],s=k.strokeStyleContent.v={classID:fY.Lg.qo[a]};
for(var Y=0;Y<n.length;Y++)s[n[Y]]=I[n[Y]];k.strokeEnabled=I.enab;k.strokeStyleLineWidth=I.Sz;k.strokeStyleLineAlignment.v.strokeStyleLineAlignment=fY.Lg.Gv[fY.stroke.types.indexOf(I.Styl.v.FStl)];
k.strokeStyleOpacity=I.Opct;k.strokeStyleBlendMode=I.Md;k.strokeStyleLineJoinType.v.strokeStyleLineJoinType="strokeStyleRoundJoin"};
hB.HT=function(I,k){var a=[];for(var Y=0;Y<I.length;Y++)a.push({t:"UntF",v:{type:"#Nne",val:I[Y]*k}});
return a};hB.aB3=function(I,k){var a=I.opacity/255*(I.add.iOpa?I.add.iOpa/255:1),n=I.add.TySh,s=I.hd()||I.wc()&&I.add.vmsk&&I.add.vstk.fillEnabled.v&&I.add.vstk.strokeEnabled.v;
if(n){var C=n.RW.EngineDict.StyleRun.RunArray,T=C[0].StyleSheet.StyleSheetData,S=0;if(T.FillFlag)S++;
if(T.StrokeFlag)S++;if(T._FillBackgroundFlag)S++;if(S>1)s=!0}return s&&(k||a!=1||I.pu!="pass"&&I.pu!="norm")};
hB.kJ=function(I,k,a,n){this.Yv=k.clone();this.a3T=k.clone();this.a3T.CJ(a,a);if(n){this.Yv.CJ(1,1);
this.Mo=j.U(this.Yv.c());j.O0(I,k,this.Mo,this.Yv)}else this.Mo=I;this.TN=null;this.MS=null;this.Y8=null};
hB.kJ.prototype.YR=function(){return this.Mo};hB.kJ.prototype.rect=function(){return this.Yv};hB.kJ.prototype._e=function(){return this.a3T};
hB.kJ.prototype.hA=function(){if(this.TN)return this.TN;this.TN=this.YR().slice(0);j.Us(this.TN);return this.TN};
hB.kJ.prototype.ef=function(){if(this.MS)return this.MS;this.MS=j.style.Cf(this.hA(),this.rect().Q,this.rect()._);
return this.MS};hB.kJ.prototype.ab=function(){if(this.Y8)return this.Y8;var I=this._e(),k=j.U(I.c());
j.O0(this.YR(),this.rect(),k,I);var a=Date.now();this.Y8=j.style.Cf(k,I.Q,I._);return this.Y8};hB.kJ.prototype.ahk=function(I,k){var a={X4:-k,Xa:I,dU:null,_0:null};
if(k==0){a.dU=this.rect();a._0=this.ef();return a}var n=this.ab().slice(0),s=this._e();a.dU=s;a._0=n;
for(var Y=0;Y<n.length;Y++)n[Y]=-n[Y];if(I==0)return a;var C=this.ef(),T=this.rect();for(var S=0;S<T._;
S++)for(var D=0;D<T.Q;D++){var o=S*T.Q+D,v=(S+T.y-s.y)*s.Q+D+T.x-s.x;n[v]+=C[o]}return a};hB.kJ.prototype.bc=function(I,k,a){var n=Math.ceil(I+k),s={Sq:this.rect().clone(),YR:null};
s.Sq.CJ(n,n);s.YR=j.U(s.Sq.c());if(I==0&&k==0)j.ed(a?this.YR():this.hA(),s.YR);else{var C=j.U(s.Sq.c());
j.O0(this.YR(),this.rect(),C,s.Sq);if(!a)j.Us(C);if(I!=0){if(a)j.style.q$(C,s.Sq,this.ab(),this._e(),I);
else j.style.q$(C,s.Sq,this.ef(),this.rect(),I)}if(k!=0)j.ox.Xh(C,s.YR,s.Sq,Math.max(1,k*.43));else s.YR=C}return s};
hB.kJ.prototype.axT=function(I,k,a){var n=I*(k-.5),s={Sq:this.rect().clone(),YR:null};if(a)s.Sq.CJ(I,I);
s.YR=j.U(s.Sq.c());var C=s.Sq.Q,T=s.Sq._,S=a?this.ab():this.ef(),D=a?this._e():this.rect(),o=s.Sq,v=o.LU(D),C=v.Q,T=v._,g=v.x-o.x,d=v.y-o.y,R=v.x-D.x,c=v.y-D.y,e=1-k*2;
for(var O=0;O<T;O++)for(var U=0;U<C;U++){var K=S[(O+c)*D.Q+U+R],_=K/I;s.YR[(O+d)*o.Q+U+g]=Math.max(0,Math.min(255,255-255*((_+e)/(1+e))))}return s};
hB.aA7=function(I,k,a,n){var s=I.Lefx,C=I.blendOptions;if(s){var T=k.add.lmfx;if(a==null)a=T?T.Scl.v.val:100;
k.add.lmfx=JSON.parse(JSON.stringify(s.v));if(k.add.lmfx.Scl==null)k.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};
hB.ax(k.add.lmfx,a/k.add.lmfx.Scl.v.val);if(T)k.add.lmfx.Scl.v.val=T.Scl.v.val;var S=s.v.gagl;if(S&&n)n.Lz(S.v.val)}else delete k.add.lmfx;
if(C){C=C.v;if(C.Md)k.pu=aU.W$(C.Md.v.BlnM);if(C.Opct)k.opacity=Math.round(C.Opct.v.val*255/100);if(C.fillOpacity)k.add.iOpa=Math.round(C.fillOpacity.v.val*255/100);
if(C.Blnd){var D=[];for(var Y=0;Y<10;Y++)D.push(0,0,255,255);var o=C.Blnd.v,v="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var Y=0;Y<o.length;Y++){var g=o[Y].v,d=8*["Gry","Rd","Grn","Bl"].indexOf(g.Chnl.v[0].v.enum);for(var R=0;
R<8;R++){D[d+R]=g[v[R]].v}}k.z4=D}}};hB.a7c=function(I){var k="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),a=[],n=I.z4;
for(var Y=0;Y<4;Y++){var s=Y*8;if(n[s]+n[s+1]+n[s+4]+n[s+5]==0&&n[s+2]+n[s+3]+n[s+6]+n[s+7]==4*255)continue;
var C={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][Y]}}]}}};
a.push(C);for(var T=0;T<8;T++)C.v[k[T]]={t:"long",v:n[Y*8+T]}}var S={classID:"blendOptions"};if(I.pu!="norm")S.Md={t:"enum",v:{BlnM:aU.Vu(I.pu)}};
if(I.opacity!=255)S.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(I.opacity*100/255)}};if(I.add.iOpa!=null)S.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(I.add.iOpa*100/255)}};
if(a.length!=0)S.Blnd={t:"VlLs",v:a};var D={Nu:{classID:"null",Idnt:{t:"TEXT",v:iJ.I8()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Default/Custom Style"}},ov:{classID:"Styl",blendOptions:{t:"Objc",v:S}}},o=I.add.lmfx;
if(o)D.ov.Lefx={t:"Objc",v:o};return D};function kJ(){}kJ._X=function(I){return JSON.parse(JSON.stringify(I))};
kJ.Nf=function(I){var k=kJ._X(kJ.aEY),a=k.Brsh.v;if(I!=null){delete a.Hrdn;a.classID="sampledBrush";
a.sampledData={t:"TEXT",v:I}}return k};kJ.aEY={classID:"brushPreset",Nm:{t:"TEXT",v:"Default/My Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
kJ.al3=function(I,k){var a=["opVr","szVr"],n=["usePaintDynamics","useTipDynamics"];for(var Y=0;Y<2;Y++){var s=a[Y];
if(I[s]==null)I[s]=JSON.parse(kJ.y4.yw[s]);I[s].v.bVTy.v=k[Y]?2:0;if(k[Y])I[n[Y]].v=!0}kJ.y4.ab3(I)};
kJ.y4={};kJ.y4.check=function(I){var k=kJ.y4.U1;for(var Y=0;Y<k.length;Y++)if(I[k[Y]]==null)I[k[Y]]=JSON.parse(kJ.y4.yw[k[Y]]);
var a=[];for(var Y=0;Y<k.length;Y++)a.push(k[Y]);var n=kJ.y4.aaB;for(var Y=0;Y<n.length;Y++){var s=n[Y][0],C=n[Y][1],T=!0;
for(var S=0;S<s.length;S++)T=T&&I[s[S]].v==!0;if(T)for(var S=0;S<C.length;S++){if(I[C[S]]==null)console.log("Missing conditional parameter "+C[S]);
else a.push(C[S])}}for(var D in I)if(a.indexOf(D)==-1&&D!="toolOptions")console.log("Extra parameter "+D);
I=I.Brsh.v;k=kJ.y4.ZA.U1;for(var Y=0;Y<k.length;Y++)if(I[k[Y]]==null)I[k[Y]]=JSON.parse(kJ.y4.ZA.yw[k[Y]]);
a=[];for(var Y=0;Y<k.length;Y++)if(I[k[Y]])a.push(k[Y]);else console.log("Missing default parameter "+k[Y]);
n=kJ.y4.ZA.ayn[I.classID];for(var Y=0;Y<n.length;Y++)if(I[n[Y]]==null&&n[Y]!="dtipsGridSize"&&n[Y]!="dtipsErodibleTipHeightMap"&&I.aaR!=1)console.log("Missing conditional parameter "+n[Y]);
else a.push(n[Y]);for(var D in I)if(a.indexOf(D)==-1)console.log("Extra parameter "+D)};kJ.y4.ab3=function(I){var k=kJ.y4.aaB;
for(var Y=0;Y<k.length;Y++){var a=k[Y][0],n=k[Y][1],s=!0;for(var C=0;C<a.length;C++)s=s&&I[a[C]]&&I[a[C]].v==!0;
if(s){for(var C=0;C<n.length;C++)if(I[n[C]]==null){I[n[C]]=JSON.parse(kJ.y4.yw[n[C]])}}else for(var C=0;
C<n.length;C++)if(I[n[C]]!=null){delete I[n[C]]}}};kJ.y4.ZA={};kJ.y4.ZA.U1="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
kJ.y4.ZA.yw={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};kJ.y4.ZA.ayn={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
kJ.y4.aaB=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
kJ.y4.U1="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
kJ.y4.yw={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function g$(I,k){this.ac7=I;this.AE=k==null?0:k;this.dir=0}g$.prototype.se=function(I,k){var a=this.ac7,n=new kK(I.x-a.x,I.y-a.y),s=new dc;
s.rotate(-this.AE);n=s.yt(n);if(this.dir==0&&!a.a$(I))this.dir=Math.abs(n.x)<Math.abs(n.y)?1:2;if(k.W(as.bJ)){if(this.dir==1)n.x=0;
if(this.dir==2)n.y=0}s.Us();n=s.yt(n);var C=new kK(a.x+n.x,a.y+n.y);return C};g$.prototype.atT=function(I){if(I.W(as.bJ))return this.dir;
return 0};var aY=function(){function I(){this.ahY={}}I.awR=function(k,a){var n=k.clone();n.Dw-=Math.floor(n.Dw);
n.rk-=Math.floor(n.rk);var s=new kK(a,0),C=new kK(0,a),T=n.yt(s),S=n.yt(C),D=new kK(n.Dw,n.rk);return[T,S,D]};
I.a89=function(k,a){var n=kK.f0;return n(k[0],a[0])+n(k[1],a[1])+n(k[2],a[2]);return dsum};I.prototype.aq3=function(k){var a=this.ahY,n=a[k];
if(n==null)n=a[k]={zD:[],Hd:0,c:0,apI:0,a3u:0};n.Hd=Date.now();while(Object.keys(a).length>3){var s="",C=Date.now();
for(var T in a){var S=a[T].Hd;if(S<C){C=S;s=T}}delete a[s]}return n};I.prototype.a18=function(k,a){var n=k.zD,s,C=1e6;
for(var Y=0;Y<n.length;Y++){var T=n[Y],S=I.a89(T.K4,a);if(S<C){s=T;C=S}}return s};I.prototype.a3p=function(k,a){var n=k.zD;
n.push(a);k.c+=a.rect.c();if(n.length>1e3||k.c>100*100*1600){console.log("pruning",k.c,n.length);n.sort(function(C,T){return T.Hd-C.Hd});
while(n.length>500||k.c>100*100*800){var s=n.pop();k.c-=s.rect.c()}}};return I}();function kN(I,k,a,n,s,C,T,S,D){this.HR=k;
this.GR=a;this.U2=C;this.ri=n;this.L8=null;this.WL=null;this.j6=0;this.auK=0;this.aeu=0;this.Y6=0;this.kl=0;
this.uN=D==null?Math.floor(Math.random()*16777215):D;this.Mp=D==null?Math.floor(Math.random()*16777215):D;
this.e3=new eZ;this.pM=new eZ;if(S!=null){this.GG=S}else{var o=kN.am3;if(o.length!=T.c()*4)o=j.U(T.c()*4);
else o.fill(0);this.GG=kN.am3=o}this.rect=T.clone();this.XR=[];this.hb=[];this.gc=null;this.MW=0;this.J=null;
this.a9p="";this.wN=null;this.a1g(I,s)}kN.am3=j.U(16);kN.prototype.a1g=function(I,k){this.MW=k;this.J=I;
this.a9p=JSON.stringify(I)+JSON.stringify(this.ri.oc);this.wN=kN.a5g(this.J,this.HR,this.GR)};kN.prototype.moveTo=function(I,k,a){a=this.a8h(a);
this.j6=a;var n=new kK(I,k),s=this.J.Brsh.v.Dmtr.v.val;this.L8=n.clone();this.WL=n.clone();this.gc=n.clone();
this.XR=[I,k];this.hb=[a];if(this.ri.tg!=kN.dA){var C=this.J.angleDynamics,T=C?C.v.bVTy.v==6:!1;this.fi(T?new eZ:this.aEV(n,this.aDV(a),a,new kK(0,0)))}this.Y6=n.clone()};
kN.prototype.lineTo=function(I,k,a){a=this.a8h(a);var n=this.XR,s=n.length,C=n[s-2],T=n[s-1];if(I==C&&k==T)return;
var S=this.J.Brsh.v.Dmtr.v.val,D=Math.ceil(S)+1,o=new eZ(Math.round(C),Math.round(T),0,0);o.CJ(D,D);
var v=new eZ(Math.round(I),Math.round(k),0,0);v.CJ(D,D);this.XR.push(I,k);this.hb.push(a);s+=2;if(s>=6)this.fi(this.anx(s))};
kN.prototype.a8h=function(I){if(I==null)I=1;I=Math.max(.05,Math.min(5,I));if(isNaN(I)){alert("Pressure is not a number");
throw"e"}return I};kN.prototype.fi=function(I){this.e3=I;this.pM=this.pM.oL(I)};kN.prototype.finish=function(){var I=this.XR,k=I.length,a;
if(k==4)a=this.Ae(I[k-2],I[k-1],this.hb[(k>>1)-1],!0);if(k>4)a=this.anx(k+2);if(a)this.fi(a)};kN.prototype.GT=function(){return this.rect.clone()};
kN.prototype.kU=function(){return this.e3.LU(this.rect)};kN.prototype.Gp=function(){return this.pM.LU(this.rect)};
kN.prototype.SW=function(){return this.GG};kN.prototype.anx=function(I){var k=this.XR,a=this.hb,n=k[I-6],s=k[I-5],C=k[I-4],T=k[I-3],S=a[(I>>1)-3],D=a[(I>>1)-2],o=new kK(0,0),v=new kK(0,0);
if(8<=I)o=kN.ar5(k[I-8],k[I-7],n,s,C,T);if(I<=k.length)v=kN.ar5(k[I-2],k[I-1],C,T,n,s);var g=n+o.x,d=s+o.y,R=C+v.x,c=T+v.y,e=new eZ,O=this.a1s()?1:10;
for(var Y=0;Y<O;Y++){var U=(Y+1)/O,K=1-U,_=K*K*K*n+3*U*K*K*g+3*U*U*K*R+U*U*U*C,Z=K*K*K*s+3*U*K*K*d+3*U*U*K*c+U*U*U*T,H=this.Ae(_,Z,S+U*(D-S));
e=e.oL(H)}return e};kN.ar5=function(I,k,a,n,s,C){var T=I-a,S=k-n,D=s-a,o=C-n,v=Math.sqrt(T*T+S*S),g=Math.sqrt(D*D+o*o),d=Math.acos((T*D+S*o)/(v*g))/Math.PI,R=.35,c=.1;
d=c+d*(R-c);var e=s-I,O=C-k,U=Math.sqrt(e*e+O*O),K=d*g/U;return new kK(e*K,O*K)};kN.prototype.Ae=function(I,k,a,n){var s=new eZ,C=this.ri.abu;
if(C==null)C=0;if(C==0||n){s=this.aEA(I,k,a);return s}var T=this.gc,S=I-T.x,D=k-T.y,o=Math.sqrt(S*S+D*D);
S/=o;D/=o;if(o>C){var v=T.x+S*(o-C),g=T.y+D*(o-C);s=this.aEA(v,g,a);this.gc.dZ(v,g)}return s};kN.prototype.a1s=function(){var I=this.J,k=I.Brsh.v.Dmtr.v.val;
return this.ri.oc&&k==1};kN.prototype.aEA=function(I,k,a){var n=new eZ,s=new kK(I,k),C=this.ri.tg,T=s.Sm(this.WL);
T.normalize(1);var S=kK.f0(this.WL,s),D=-this.auK,o=this.WL.clone();if(this.a1s()){if(S>.99){var v=this.WL;
kN.aDp(v,s,this.GG,this.rect,this._S(this.J));n=j.X.qP([v.x,v.y,s.x,s.y]);D=S}else s=this.WL}else while(!0){var g=this.j6+(a-this.j6)*(Math.max(0,D)/S),d=this.aDV(g),R=this.ams()*(d+this.aeu)/2*this.wN.aCn;
if(C==kN.dA)R=1;R=Math.max(R,.5);if(D+R<S){D+=R;this.kl+=R;var c=new kK(this.WL.x+T.x*D,this.WL.y+T.y*D),U=1;
if(C==kN.dA){var e=o.clone();e.x+=T.x>0?1:-1;var O=o.clone();O.y+=T.y>0?1:-1;if(kK.f0(e,c)<kK.f0(O,c))c=e;
else c=O;D=kK.f0(c,this.WL)}if(this.J.useScatter.v==!0){U=this.J.Cnt.v;var K=this.J.countDynamics.v.jitter.v.val/100,_=K*(-1+2*this.y8());
U+=Math.round(U*_)}for(var Y=0;Y<U;Y++){var Z=this.aEV(c,d,a,T);n=n.oL(Z)}o=c}else break}this.auK=S-D;
this.WL=s;this.j6=a;return n};kN.prototype.ams=function(){var I=this.J.Brsh.v,k=I.Spcn.v.val,a=Math.max(5,I.Rndn.v.val);
return a/100*(k/100)};kN.prototype.aDV=function(I){var k=this.J,a=k.Brsh.v.Dmtr.v.val;if(k.useTipDynamics.v){var n=a*(k.minimumDiameter.v.val/100);
a=n+(a-n)*(1-this.y8(this.Mp)*(k.szVr.v.jitter.v.val/100));a*=kN.O$(k,"szVr",I,this.kl)}return a};kN.O$=function(I,k,a,n){var s=1,C=I[k].v,T=C.bVTy.v,S=C.fStp.v;
if(T==1)s*=Math.max(0,(S-n)/S);if(T==2)s*=a;return s};kN.prototype.aEV=function(I,k,a,n){var s=this.ri.UA,e=0;
s=Math.min(1,s);var C=this.J,T=this.J.Brsh.v,S=T.Dmtr.v.val,D=this.ri,o=D.tg,v=D.apk,g=this.wN.ZS[1],d=new dc;
d.translate(-g.Q/2,-g._/2);d.scale(1/this.wN.ajp,1/this.wN.ajp);d.scale(k/S,k/S);d.scale(1,Math.max(5,T.Rndn.v.val)/100);
if(C.usePaintDynamics&&C.usePaintDynamics.v){var R=C.opVr.v.jitter.v.val/100,c=C.prVr.v.jitter.v.val/100;
s*=1-this.y8()*R;s*=1-this.y8()*c;s*=kN.O$(C,"opVr",a,this.kl)*kN.O$(C,"prVr",a,this.kl)}if(C.useTipDynamics.v){var O=C.angleDynamics.v,U=C.minimumRoundness.v.val/100;
d.scale(1,U+(1-U)*Math.round(100-this.y8()*C.roundnessDynamics.v.jitter.v.val)/100);e+=(-.5+this.y8())*4*Math.PI*(O.jitter.v.val/100);
e+=kN.O$(C,"angleDynamics",a,this.kl)*2*Math.PI;if(O.bVTy.v==6)e+=Math.atan2(-n.y,n.x)}e+=T.Angl.v.val*(Math.PI/180);
d.rotate(e);if(C.useScatter.v){var K=(-1+2*this.y8())*C.scatterDynamics.v.jitter.v.val/100;d.translate(-K*k*n.y,K*k*n.x)}d.translate(I.x,I.y);
var _=this.aA3(d,I,k),Z=_.rect.clone();if(o==null){var H=this._S(C);j.IP(_.Ri,Math.round(H.J*255)<<16|Math.round(H.H*255)<<8|Math.round(H.$*255)<<0,4278190080);
if(this.pM.KH()&&this.rect.a$(_.rect)&&s==1)this.GG=_.Ri.slice(0);else{var G=-1,N=2,z=-1,L=2;if(!D.ym){G=z=0;
N=L=1}for(var p=z;p<L;p++)for(var V=G;V<N;V++){var r=_.rect.clone();r.x+=V*this.rect.Q;r.y+=p*this.rect._;
if(r._s(this.rect)){Z=Z.oL(r);j.z.a0T(_.Ri,r,this.GG,this.rect,r,s)}}}}if(o==kN.dA){var y=new kK(_.rect.x+_.rect.Q/2,_.rect.y+_.rect._/2),W=Math.round(y.x-this.Y6.x),m=Math.round(y.y-this.Y6.y),f=_.rect.clone();
f.offset(-W,-m);var h=f.LU(this.rect);h.offset(W,m);j.ao(this.GG,this.rect,_.Ri,f);j.z.abt(_.Ri,_.rect,this.GG,this.rect,_.Qn,_.rect,s)}if(o==kN.ex||o==kN.tW||o==kN.wt){var b=_.rect.LU(this.rect),i;
if(b.a$(_.rect))i=_.Qn;else{i=j.U(b.c());j.O0(_.Qn,_.rect,i,b)}var w=j.U(b.c()*4);j.ao(this.GG,this.rect,w,b);
if(o==kN.tW){var J=w.slice(0),q=j.Qz.TT([-1,-1,-1,-1,25,-1,-1,-1,-1]);j.Qz.Lp(w,J,b.Q,b._,q,0);j.ed(J,w)}else if(o==kN.wt){var x=gJ.nI("UnsM");
x.Amnt.v.val=15;x.Thsh.v=0;x.Rds.v.val=5;var J=j.U(w.length);gJ.uq("UnsM",{buffer:w,rect:b},x,0,0,{buffer:J,rect:b});
j.ed(J,w)}else{gJ.iW(1,j.ox.Dl,w,b)}j.z.abt(w,b,this.GG,this.rect,i,b,s)}this.aeu=k;this.Y6=y;this.Mp++;
return Z};kN.prototype._S=function(I){var k=kN.a5L(this.MW);if(I.useColorDynamics&&I.useColorDynamics.v){var a=1-this.y8()*I.clVr.v.jitter.v.val/100,n=kN.a5L(this.U2);
k.$=a*k.$+(1-a)*n.$;k.H=a*k.H+(1-a)*n.H;k.J=a*k.J+(1-a)*n.J;var s=(-.5+this.y8())*I.H.v.val/100,C=(-1+2*this.y8())*I.Strt.v.val/100,T=(-1+2*this.y8())*I.Brgh.v.val/100,S=j.zH(k.$,k.H,k.J);
S.L4=(S.L4+s+1)%1;S.Yl=S.Yl+C;if(S.Yl<0)S.Yl=-S.Yl;if(S.Yl>1)S.Yl=1-(S.Yl-1);S.B9=S.B9+T;if(S.B9<0)S.B9=-S.B9;
if(S.B9>1)S.B9=1-(S.B9-1);k=j.ps(S.L4,S.Yl,S.B9)}return k};kN.prototype.y4=function(I){return Math.max(0,Math.min(1,I))};
kN.prototype.y8=function(I){if(I==null){I=this.uN++}return kN.hash(I)};kN.a5L=function(I){return{$:(I>>16&255)/255,H:(I>>8&255)/255,J:(I>>0&255)/255}};
kN.hash=function(I){I=I^61^I>>16;I=I+(I<<3);I=I^I>>4;I=I*668265261;I=I^I>>15;return(I&16777215)/16777215};
kN.aAn=new aY;kN.prototype.aA3=function(I,k,a){var n=Math.sqrt(this.wN.ZS[1].c()),s=n*I.Ha(),C=s<10?1:s<50?1.5:s<200?3:8;
if(s<30)C=0;var T=kN.aAn,S=T.aq3(this.a9p),D=this.ri.oc,o=aY.awR(I,n),v=T.a18(S,o);if(v&&aY.a89(v.K4,o)>C)v=null;
if(v){v.rect.x=Math.round(v.avD.x+I.Dw);v.rect.y=Math.round(v.avD.y+I.rk);v.Hd=Date.now()}else{var g=Math.round(this.J.Brsh.v.Dmtr.v.val),d;
if(D&&g<=3){d={channel:j.U(g*g),rect:new eZ(Math.round(k.x-g/2),Math.round(k.y-g/2),g,g)};d.channel.fill(255)}else if(I.M==1&&I.J==0&&I.mL==0&&I.Jo==1){d={channel:this.wN.ZS[0],rect:this.wN.ZS[1].clone()};
d.rect.x=Math.round(I.Dw);d.rect.y=Math.round(I.rk)}else{if(I.Ha()>1e-4)d=E.nF.e6(this.wN.ZS,I)}if(D){for(var Y=0;
Y<d.channel.length;Y++)d.channel[Y]=d.channel[Y]>127?255:0}if(d==null)d={channel:j.U(0),rect:new eZ};
v={Ri:j.U(d.rect.c()*4),Qn:d.channel,rect:d.rect,avD:new kK(d.rect.x-I.Dw,d.rect.y-I.rk),K4:o,Hd:Date.now()};
j.yv(v.Qn,v.Ri,3);if(S)T.a3p(S,v)}return v};kN.a5g=function(I,k,a){var n,s,C,T=I.Brsh.v.Dmtr.v.val,S=I.Brsh.v.classID;
if(S=="computedBrush"){var D=I.Brsh.v.Hrdn.v.val/100;s=T<100?1.4:1;C=1;n=j.aon.a9V(T,D,s)}if(S=="sampledBrush"){var o;
for(var Y=0;Y<k.length;Y++)if(k[Y].id==I.Brsh.v.sampledData.v)o=k[Y];n=o.ZS;var v=n[1];s=Math.max(v.Q,v._)/T;
C=Math.min(v.Q,v._)/Math.max(v.Q,v._)}return{ajp:s,aCn:C,ZS:n}};kN.g8=null;kN.hp=null;kN.cO=function(I,k,a,n,s,C){var T=kN.g8,S=kN.hp;
if(T==null){kN.g8=T=document.createElement("canvas");kN.hp=S=T.getContext("2d")}if(C==null)C=n;if(T.width!=C||T.height!=s){T.width=C;
T.height=s}else S.clearRect(0,0,C,s);S.fillStyle="#000000";S.font=Math.floor(10*E.Y())+"px sans-serif";
var D=I.Brsh.v.Dmtr.v.val,o=""+D,v=I.useBrushSize;if(v&&v.v)o="---";var g=S.measureText(o);S.fillText(o,(n-g.width)/2,s-2);
var d=n,R=s-10*E.Y(),c=Math.min(d,R),e=I.Brsh.v.classID;if(e=="computedBrush"){S.translate(d/2,R/2);
S.rotate(-I.Brsh.v.Angl.v.val*Math.PI/180);S.scale(1,.1+.9*I.Brsh.v.Rndn.v.val/100);var O=Math.min(.95*c/2,D/2)+.5,U=.9*I.Brsh.v.Hrdn.v.val/100,K=S.createRadialGradient(0,0,0,0,0,O);
K.addColorStop(U,"rgba(0,0,0,1)");K.addColorStop((.5+U)/1.5,"rgba(0,0,0,.5)");K.addColorStop(1,"rgba(0,0,0,0)");
S.fillStyle=K;S.fillRect(-O,-O,2*O,2*O);S.setTransform(1,0,0,1,0,0)}else if(e=="sampledBrush"){var _,z=0;
for(var Y=0;Y<k.length;Y++)if(k[Y].id==I.Brsh.v.sampledData.v)_=k[Y];var Z=_.ZS;j.dI(Z);var H=Z[0],G=Z[1].Q,N=Z[1]._;
while((G>d||N>R)&&Z[z+2]){z+=2;H=Z[z];G=Z[z+1].Q;N=Z[z+1]._}if(G*N!=0){var L=j.U(G*N*4);j.yv(H,L,3);
var p=new ImageData(new Uint8ClampedArray(L.buffer),G,N);S.putImageData(p,Math.round((d-G)/2),Math.round((R-N)/2))}}else{}return T.toDataURL()};
kN.ne=function(I,k,a,n){if(a==0)a=1;var s=I.Brsh.v,C=s.Dmtr.v.val,T=s.Dmtr.v.val=Math.min(n!=null?Math.round(n*2.6):3e3,C*a),S=s.Hrdn?s.Hrdn.v.val/100:1,D=n!=null?n:Math.round(T*(1+.55*(1-S)))+4,g;
D=Math.max(15,Math.min(D,3e3));var o=new eZ(0,0,D,D),v=new kN(I,k,null,{UA:1},16711712,0,o);s.Dmtr.v.val=C;
v.moveTo(o.Q/2,o._/2);var d=v.SW(),R=v.GT();if(o.a$(R))g=d;else{g=j.U(o.c()*4);j.ao(d,R,g,o)}return[g,o,T]};
kN.alB=function(I,k,a,n){var s=k.Q,C=s>>>1;for(var Y=0;Y<4;Y++){var T=6-Y;I[s*(C-T)+C-1]=n;I[s*(C-T)+C]=a;
I[s*(C-T)+C+1]=n;I[s*(C+T)+C-1]=n;I[s*(C+T)+C]=a;I[s*(C+T)+C+1]=n;I[s*(C-1)+C-T]=n;I[s*C+C-T]=a;I[s*(C+1)+C-T]=n;
I[s*(C-1)+C+T]=n;I[s*C+C+T]=a;I[s*(C+1)+C+T]=n}};kN.fL=function(I,k,a,n){var s=kN.ne(I,k,a),C=s[0].slice(0),T=s[1],S=s[2],D=T.c(),o=j.U(D);
j.Ez(C,o,3);var v=j.U(D);j.f.aEe(o,v,T,E.Y()>1.9);if(S<3||j.RS(v,0)||n&&S>12){kN.alB(v,T,255,0)}var g=[3,5,3,4,8,4,3,5,3];
g=j.Qz.TT(g);j.Qz.xi(v,o,T.Q,T._,g);j.IP(C,4294967295);j.yv(o,C,3);for(var Y=0;Y<D;Y++)if(v[Y]==255){C[Y<<2]=C[(Y<<2)+1]=C[(Y<<2)+2]=0;
C[(Y<<2)+3]=255}return{eY:C,Sq:T,gk:new kK(T.Q/2,T._/2)}};kN.aDp=function(I,k,a,n,s){var C=4278190080|Math.round(s.J*255)<<16|Math.round(s.H*255)<<8|Math.round(s.$*255)<<0;
a=new Uint32Array(a.buffer);var T=Math.floor(I.x),S=Math.floor(I.y),D=Math.floor(k.x),o=Math.floor(k.y),v=Math.abs(D-T),g=Math.abs(o-S),d=T<D?1:-1,R=S<o?1:-1,c=v-g;
while(!0){a[S*n.Q+T]=C;if(T==D&&S==o)break;var e=2*c;if(e>-g){c-=g;T+=d}if(e<v){c+=v;S+=R}}};kN.dA="0";
kN.ex="1";kN.tW="2";kN.wt="3";var jW={};jW.Rm=function(I,k,a){if(a==null)a=!0;var n=I.add.TySh,s=n.RW,C=new d_(s,k,n.Mz);
I.qj.xu=C.Yd();var T=I.qj.path=jW.sE(C,n);if(ht!=0)return[T,C,null];var S=jW.Pz(T,n.h,f4.fV(n));if(a){I.rect=S.Sq;
I.buffer=S.GG;I.V()}return[T,C,S]};jW.Pz=function(I,k,a){I={m:I.m,s:I.s.slice(0)};j.X.h(I.s,k,I.s);var n=j.X.qP(I.s),s=0;
if(n.KH())return{GG:j.U(0),Sq:new eZ};for(var Y=0;Y<I.m.length;Y++){var C=I.m[Y];if(C[0]=="O"&&C[1]=="-")s=Math.max(s,parseFloat(C.split("-")[2]))}s=Math.ceil(s*k.Ha()/2);
n.CJ(s,s);var T=j.$P(n.Q,n._);T.translate(-n.x,-n.y);jW.a3H(I,T);var S=T.getImageData(0,0,n.Q,n._),D=new Uint8Array(S.data.buffer);
if(a==0)for(var Y=0;Y<D.length;Y+=4)D[Y+3]=D[Y+3]>80?255:0;if(a==3)for(var Y=0;Y<D.length;Y+=4)D[Y+3]=Math.min(255,D[Y+3]*1.5);
T.resetTransform();T.beginPath();return{GG:D,Sq:n}};jW.sE=function(I,k,a){var n=k.h,s=k.RW;jW.ky=n.Ha();
var C=f4.fV(k),T=Math.max(n.J*n.J,n.mL*n.mL)<1e-9?n:null;if(C==3||C==4)T=null;var S={m:[],s:[]};jW.avw(I,S,T,!0);
jW.avw(I,S,T,!1);S=jW.Z6(S,k,I,a);return S};jW.ky=1;jW.Z6=function(I,k,a,n){if(I==null)return I;if(a&&a.gG)j.X.h(I.s,a.gG,I.s);
if(a&&!j.O8.K2(k.At)){var s=f4.GT(k,a);if(!s.KH()){if(I.m){I=j.X.C5(I);var C=Math.min(s.Q,s._)/8;if(C<1)C=1;
I=j.X.rA(I,C)}var T=j.O8.ck(k.At,s);j.QT.h(T,I.s,s)}}var S=k.h;if(n)j.X.h(I.s,S,I.s);return I};jW.a3H=function(I,k){k.save();
k.miterLimit=2;Typr.U.pathToContext({crds:I.s,cmds:I.m},k);k.restore()};jW.SJ=function(I,k,a){var n=d_.aht(a),s=I.RW,C=s.ResourceDict.FontSet,T=s.ResourceDict.StyleSheetSet[0].StyleSheetData,S=s.EngineDict.StyleRun.RunLengthArray,D=s.EngineDict.StyleRun.RunArray,o=f4.iZ(s),v=!0,g={},d=0;
for(var Y=0;Y<D.length;Y++){var R=D[Y].StyleSheet.StyleSheetData.Font;if(R==null)R=T.Font;for(var c=0;
c<S[Y];c++){var e=o.charCodeAt(d+c),O=R+","+(e>128?e:-1);if(g[O]==null){g[O]=1;if(k.B3(C[R].Name,e)==null)v=!1}}d+=S[Y]}return v&&n};
jW.PX=function(I,k,a){var n=!0;for(var s=0;s<I.R.length;s++){var C=I.R[s],T=C.add.TySh;if(T!=null&&!jW.SJ(T,k,a))n=!1}return n};
jW.tY=function(I,k,a){for(var n=0;n<I.R.length;n++){var s=I.R[n],C=s.add.TySh;if(C!=null&&jW.SJ(C,k,a)){jW.Rm(s,k);
I.V()}}};jW.avw=function(I,k,a,n){var s=new dc;for(var Y=0;Y<I.i9.length;Y++)jW.ais(I.CX,I.i9[Y],k,s,a,n)};
jW.ais=function(I,k,a,n,s,C){n.translate(k.Of.x,k.Of.y);for(var Y=0;Y<k.Mn.length;Y++){var T={},S=k.Mn[Y];
if(!S.U6)break;var D=n.clone();D.translate(S.Of.x,S.Of.y);if(s){var o=s.rk+D.rk*s.Jo;D.rk=(Math.round(o)-s.rk)/s.Jo}for(var v=S.start;
v<S.end;v++)jW.auL(I,k.ZQ[v],k,T,a,D,C)}n.translate(-k.Of.x,-k.Of.y)};jW.auL=function(I,k,a,n,s,C,T){C.translate(k.Of.x,k.Of.y);
for(var S=k.U9;S<=k.jS;S++){var D=a.Tr[S],o=D.Sq.Q,v=I[a.aBa+D.LA],g=v.a6._FillBackgroundFlag;if(v.tD=="\n"||T&&!g)continue;
var d=v.a6.FontSize/v.US.head.unitsPerEm,R=C.clone();R.translate(D.Of.x+D.ma*d,D.Of.y-D.HD*d);var c=new dc;
c.scale(d,-d);if(v.a6.FauxItalic)c.concat(new dc(1,0,-Math.tan(.18),1,0,0));c.translate(0,v.NJ);c.scale(v.scale.x,v.scale.y);
if(v.a6.BaselineShift!=null)c.translate(0,-v.a6.BaselineShift);if(D.AE!=0){c.rotate(-D.AE)}c.concat(R);
var e=(v.a6.OutlineWidth?v.a6.OutlineWidth:1)*jW.ky;if(T){s.m.push(jW._S(v.a6._FillBackgroundColor));
var O=1.005*D.Sq._/d,U=new eZ(-D.ma,-O*.27,1.03*D.Sq.Q/(d*v.scale.x),O);if(v.a6.StrokeFlag)U.CJ(e/d,e/d);
j.X.concat(s,j.X.Eu(U),c);s.m.push("X");continue}if(v.a6.FillFlag)s.m.push(jW._S(v.a6.FillColor));if(v.a6.StrokeFlag){var K=fY.qm.afT(v.a6);
s.m.push(jW.agK(K))}if(D.path.m.length!=0&&v.tD!="\t"){if(v.a6.FauxBold){var _=v.a6.FontSize/2048*27*v.scale.x,Z=Math.cos(D.AE)*_,H=Math.sin(D.AE)*_;
c.Dw+=Z;c.rk+=H;j.X.concat(s,D.path,c);c.Dw-=Z+Z;c.rk-=H+H;j.X.concat(s,D.path,c)}else j.X.concat(s,D.path,c)}if(v.tD!="\n"){var G=D.Sq.Q/d;
if(v.a6.Underline){if(n.E$==null)n.E$=v.US.post.underlineThickness;if(n.a6n==null)n.a6n=v.US.post.underlinePosition;
var N=0,z=n.a6n-n.E$/2,L=-n.E$;j.X.concat(s,{m:["M","L","L","L","Z"],s:[N,z,N+G,z,N+G,z+L,N,z+L]},c)}if(v.a6.Strikethrough){var p=v.US["OS/2"].yStrikeoutSize,V=v.US["OS/2"].yStrikeoutPosition,N=0,z=V+p/2,L=-p;
j.X.concat(s,{m:["M","L","L","L","Z"],s:[N,z,N+G,z,N+G,z+L,N,z+L]},c)}}var r=v.a6.FillFlag,y=v.a6.FillFirst;
if(y==null)y=!0;if(r&&y)s.m.push("X");if(v.a6.StrokeFlag)s.m.push("OX");if(r&&!y)s.m.push("X")}C.translate(-k.Of.x,-k.Of.y)};
jW.agK=function(I){var k=I.mx,a=["O","#"+j.pB(j.EQ({$:k[0],H:k[1],J:k[2]},1)),I.YX];a.push(I.A6,I.P_,I.Ti,I.yE,I.zZ.join(","));
return a.join("-")};jW.axt=function(I){var k=parseFloat,a=I.split("-"),n=j.uU(parseInt(a[1].slice(1),16));
return{mx:[n.$/255,n.H/255,n.J/255],YX:k(a[2]),A6:k(a[3]),P_:k(a[4]),Ti:k(a[5]),yE:k(a[6]),zZ:a[7].split(",").map(k),x9:a[8]=="1"?2:0}};
jW._S=function(I){return"#"+j.pB(j.EQ(f4.GW(I)))};function d_(I,k,a){var n=f4.Dd(I),s,C,T=f4.nO(I),S=I._LineOrientation==2?new dc:null,g,R;
if(I.Curve)C=d_.Nn(I.Curve);if(n!=0){s=new eZ(T[0],T[1],T[2],T[3]);if(S){var D=s.Q;s.Q=s._;s._=D;S.translate(0,-T[2])}if(n==2){s.Q=C[5]-C[4];
s._=9999}}this.i9=[];this.CX=[];this._W=n;this.gG=S;var o=this.axU=f4.iZ(I),v=-1,d=-1;for(var Y=0;Y<o.length;
Y++){var c=g,e=f4.axv(I,Y);if(e!=v){v=e;c=g=f4.ay4(I,e)}var O=R,e=f4.alA(I,Y);if(e!=d){d=e;O=R=f4.aDT(I,e)}var U={tD:o.charAt(Y),a6:c,US:null,BV:-1,tl:f4.aa0(I,Y),NJ:0,scale:new kK(0,0),Ow:0,lineHeight:0,DE:0},K=I.ResourceDict.FontSet[c.Font].Name,_=U.US=k.B3(K,o.charCodeAt(Y));
U.scale.x=c.HorizontalScale==null?1:c.HorizontalScale;U.scale.y=c.VerticalScale==null?1:c.VerticalScale;
var Z=_["OS/2"],H=_.hhea;if(c.FontCaps==1&&U.tD!=U.tD.toUpperCase()){var G=Z.sxHeight?Z.sxHeight/Z.sTypoAscender:.76;
U.scale.x*=G;U.scale.y*=G}var N=1/_.head.unitsPerEm*c.FontSize;if(c.FontBaseline==1){var G=I.ResourceDict.SuperscriptSize;
U.scale.x*=G;U.scale.y*=G;U.NJ-=I.ResourceDict.SuperscriptPosition*c.FontSize}if(c.FontBaseline==2){var G=I.ResourceDict.SubscriptSize;
U.scale.x*=G;U.scale.y*=G;U.NJ+=I.ResourceDict.SubscriptPosition*c.FontSize}U.Ow=d_.Ow(_)*c.FontSize;
var z=O.AutoLeading;U.lineHeight=c.FontSize*(z==null?1.2:z);if(c.AutoLeading==!1)U.lineHeight=c.Leading;
if(U.tD=="\n"&&o[Y-1]!="\n")U.lineHeight=0;if(U.lineHeight==0)U.lineHeight=.01;this.CX.push(U)}var L=this.i9,p=[0];
for(var Y=0;Y<I.EngineDict.ParagraphRun.RunLengthArray.length;Y++){var V=new d_.Dz(I,k,this.CX,Y,s,p,n==1?C:null);
L.push(V)}if(S){if(n==0)S.translate(0,L[0].ZQ[0].Ow/2);S.rotate(-Math.PI/2)}if(n==2){var r=I.Curve.Points,y=C[0],W=C[1],m=C[2],f=C[3],h=C[4],b=C[5];
for(var Y=0;Y<L.length;Y++)for(var i=0;i<L[Y].Mn.length;i++)if(!(Y==0&&i==0))L[Y].Mn[i].U6=!1;var V=L[0],w=V.Mn[0];
V.Of.dZ(0,0);w.Of.dZ(0,0);for(var i=w.start;i<w.end;i++){var J=V.ZQ[i],q=J.Of.x;J.Of.x=0;for(var x=J.U9;
x<=J.jS;x++){var A=V.Tr[x],Q=A.Sq.Q/2;A.Of.x+=q;var B=d_.az0(y,(h+A.Of.x+Q)%f);A.Of.x=B[0]-Q*B[2];A.Of.y=B[1]-Q*B[3];
A.AE=Math.atan2(B[3],B[2])}}}if(a){var l=a.VAlign.v;if(l!=0&&f4.Dd(I)==1){var P=f4.nO(I)[3],F=this.Yd()._,t=0;
if(l==1)t=P-F;if(l==2)t=(P-F)/2;for(var Y=0;Y<this.i9.length;Y++)this.i9[Y].Of.y+=t}}}d_.Ow=function(I){var k=I._hhhh;
if(k==null){var a=Typr.U,n=a.codeToGlyph(I,104),s=j.X.TO(Typr.U.glyphToPath(I,n).crds)._;k=I._hhhh=s*(1/I.head.unitsPerEm)}return k};
d_.prototype.aCk=function(){return!this.a7$(0)};d_.prototype.arB=function(){return this.a7$(1)};d_.prototype.a7$=function(I){var k=this.i9,a=!0,n=0;
for(var Y=0;Y<k.length;Y++){var s=k[Y].Mn,C=s.length;n+=C;for(var T=0;T<C;T++)a&=s[T].U6}return[a,n][I]};
d_.Nn=function(I,k,a){if(k==null)k=.25;var n=I.Points,s=n.length,C=s>>>3,T=I.TextOnPathTRange,S=I.Reversed,d=0,R=0;
if(S){var D=n.slice(0);for(var Y=0;Y<s;Y+=2){D[Y]=n[s-2-Y];D[Y+1]=n[s-1-Y]}n=D;T=[C-T[1]%C,C-T[0]%C]}var o=[],v=[0],g=[0];
for(var Y=0;Y<s;Y+=8){var c=n[Y+6]-n[Y+0],e=n[Y+7]-n[Y+1],O=Math.round(Math.sqrt(c*c+e*e)/k),U=a&&Y==s-8?O+1:O;
for(var K=0;K<U;K++){var _=K/O,Z=1-_,H=Z*Z*Z*n[Y+0]+3*Z*Z*_*n[Y+2]+3*Z*_*_*n[Y+4]+_*_*_*n[Y+6],G=Z*Z*Z*n[Y+1]+3*Z*Z*_*n[Y+3]+3*Z*_*_*n[Y+5]+_*_*_*n[Y+7];
o.push(H,G);if(Y+K!=0){var c=H-d,e=G-R;g.push(g[g.length-1]+Math.sqrt(c*c+e*e));v.push((Y>>>3)+_)}d=H;
R=G}}var k=g.length,N=g[k-1],z=d_.cp(T[0]%C,v),L=d_.cp(T[1]%C,v),p=g[z%k],V=g[L%k];if(p>=V)V+=N;return[o,v,g,N,p,V]};
d_.cp=function(I,k){var Y=0;while(k[Y]<I)Y++;return Y};d_.az0=function(I,k){var a=0,Y=0,n,s,C;while(a<k){n=I[Y+2]-I[Y];
s=I[Y+3]-I[Y+1];C=Math.sqrt(n*n+s*s);a+=C;Y+=2}return[I[Y],I[Y+1],n/C,s/C]};d_.prototype.aCp=function(I){return this.CX[I]};
d_.prototype.aal=function(I){for(var k=0;k<this.i9.length;k++){var a=this.i9[k];for(var n=0;n<a.Mn.length;
n++){var s=a.Mn[n],C=a.ZQ[s.start].start,T=a.ZQ[s.end-1].end;if(C<I&&I<T)return[C,T-1]}}return[0,1]};
d_.prototype.a4s=function(I,k){var a=-1,n=this.i9;if(this._W==2){var s=1e9,C=0,T=n[0],S=T.Mn[0];for(var D=S.start;
D<S.end;D++){var o=T.ZQ[D];for(var v=o.U9;v<=o.jS;v++){var g=T.Tr[v],d=g.Sq.Q,R=I.x-g.Of.x,c=I.y-g.Of.y,e=R*R+c*c;
if(e<s){s=e;C=g.LA}}}if(C!=0&&this.axU.codePointAt(C-1)>65535)C--;return C}for(var O=0;O<n.length;O++){var T=n[O];
for(var U=0;U<T.Mn.length;U++){a++;var S=T.Mn[U],K=T.Mn[U+1];if(K==null&&O<n.length-1)K=n[O+1].Mn[0];
if(k!=null){if(a!=k)continue}else{if(K!=null&&T.Of.y+S.Of.y<I.y)continue}for(var D=S.start;D<S.end;D++){var o=T.ZQ[D];
for(var v=o.U9;v<=o.jS;v++){var g=T.Tr[v],d=g.Sq.Q,_=T.Of.x+S.Of.x+o.Of.x,Z=_+g.Of.x,H=_+(v<o.jS?T.Tr[v+1].Of.x:g.Of.x+d);
if(I.x<=H||D+1==S.end&&v==o.jS){var G=T.aBa+g.LA,N=this.CX[G],z=N.DE&1;if(N.tD!="\n"&&(z==0&&I.x>Z+d/2||z==1&&I.x<Z+d/2))G+=this.axU.codePointAt(G)>65535?2:1;
return G}}}}}};d_.prototype.b4=function(I){var k={Sq:new eZ,Nh:0},a=0;for(var n=0;n<this.i9.length;n++){var s=this.i9[n];
for(var C=0;C<s.Mn.length;C++){var T=s.Mn[C];k.Nh=a;a++;for(var S=T.start;S<T.end;S++){var D=s.ZQ[S];
for(var o=D.start;o<D.end;o++){if(o==I){var v=this.CX[o],g=v.BV,d=s.Tr[g].LA,R=1;while(s.Tr[g]!=null&&s.Tr[g].LA==d){var c=s.Tr[g],e=s.Of.x+T.Of.x+D.Of.x+c.Of.x,O=s.Of.y+T.Of.y+D.Of.y+c.Of.y;
k.Sq=k.Sq.oL(new eZ(e,O-v.lineHeight,c.Sq.Q,v.lineHeight));k.AE=c.AE;g+=R}return k}}}}}};d_.prototype.Yd=function(){var I=Infinity,k=Infinity,a=-Infinity,n=-Infinity;
for(var Y=0;Y<this.i9.length;Y++){var s=this.i9[Y];for(var C=0;C<s.Mn.length;C++){var T=s.Mn[C];if(!T.U6)break;
for(var S=T.start;S<T.end;S++){var D=s.ZQ[S];for(var o=D.U9;o<=D.jS;o++){var v=s.Tr[o],g=v.Sq,d=s.Of.x+T.Of.x+D.Of.x+v.Of.x,R=s.Of.y+T.Of.y+D.Of.y+v.Of.y;
I=Math.min(I,d+g.x);k=Math.min(k,R+g.y);a=Math.max(a,d+g.x+g.Q);n=Math.max(n,R+g.y+g._)}}}}return new eZ(I,k,a-I,n-k)};
d_.ED=function(I){return 19968<=I&&I<=40959||12288<=I&&I<=12543};d_.z6=function(I,k,a,n,s,C,T){var S=[C],D=0;
for(var Y=C;Y<T;Y++){if(a[Y]==null)console.log(Y,C,T,a);var o=a[Y].tD,v=o.charCodeAt(0);if(v==32||v==9){S.push(D,Y,1,Y+1);
D=0}else if(v==3851){S.push(D+1,Y+1);D=0}else if(d_.ED(v)){S.push(D,Y);D=1}else if(Y!=C&&a[Y].DE!=a[Y-1].DE){S.push(D,Y);
D=1}else D++}S.push(D);var g=[];for(var Y=0;Y<S.length;Y+=2){var d=S[Y],R=S[Y+1];if(R==0)continue;g.push(new d_.am$(I,k,a,n,s,d,R))}return g};
d_.asd=function(I,k,a,n,s,C,T){var S=[0,k?k.Q:1e9],D=[];if(n){var o=I[C].Ow,v=s+(s==0?o:I[C].lineHeight),g=v-o*.9,d=j.X.ah8(n[0],g),R=d.length,c=j.X.ah8(n[0],v),e=c.length;
if(R!=0&&e!=0){var O=0,U=0,K=[];while(O<R&&U<e){var _=Math.max(d[O],c[U]),Z=d[O+1],H=c[U+1],G=Math.min(Z,H);
if(_<G)K.push(_,G);if(Z<H)O+=2;else U+=2}if(K.length!=0)S=K}}for(var N=0;N<S.length;N+=2){var z=0,L=C,p=k?S[N+1]-S[N]-a.StartIndent-a.EndIndent-(C==0?a.FirstLineIndent:0):Infinity;
while(C!=I.length){var V=I[C],r=z==0||(V.VZ||V.TK)||z+V.Sq.Q<p;if(!r)break;z+=V.Sq.Q;C++}D.push(C-L)}T[0]=D;
T[1]=S;T[2]=C};d_.aec=function(I,k){var a=I.length,n=new Uint32Array(a),s=new Uint8Array(a),C=0;for(var Y=0;
Y<a;Y++){s[Y]=0;var T=I.charCodeAt(Y);n[Y]=T;if(T>C)C=T}if(C>1424)s=d_.amg(n,k);return s};d_.aps=function(I){return I=="ß"?I:I.toUpperCase()};
d_.Dz=function(I,k,a,n,s,C,T){this.ZQ=[];this.Mn=[];this.Of=new kK(0,0);this.Tr=null;this.ZQ=null;this.a6=f4.aDT(I,n);
var S=this.a6,g=0,c="",_=0,Z=1,x=0;if(n!=0){var D=S.SpaceBefore;if(D!=null)C[0]+=D}var o=I.EngineDict.ParagraphRun.RunLengthArray,v=o[n];
for(var Y=0;Y<n;Y++)g+=o[Y];var d=S._Direction?S._Direction:0;this.aBa=g;var R=f4.iZ(I).slice(g,g+v);
for(var e=0;e<R.length;e++){var O=R.charAt(e);c+=a[g+e].a6.FontCaps==0?O:d_.aps(O)}R=c;var U=d_.aec(R,d),K=[],H=U[0]&1,G=a[g].US;
a[g].DE=U[0];for(var Y=1;Y<R.length;Y++){var O=a[g+Y],N=U[Y];O.DE=N;if(N!=H||O.US!=G){K.push(_,Z);_=Y;
Z=1;H=N;G=O.US}else Z++}K.push(_,Z);var z=this.Tr=[];for(var Y=0;Y<K.length;Y+=2){var L=K[Y],p=K[Y+1],V=(a[g+L].DE&1)==0,r=R.slice(L,L+p),y=Typr.U.shapeHB(a[g+L].US,r,V),W=[],h=0;
for(var e=0;e<y.length;e++){var m=y[e];W.push({H:m.g,LA:m.cl,E1:m.ax,uI:m.ay,ma:m.dx,HD:m.dy})}y=W;var f=y.slice(0);
if(!V)f.reverse();for(var e=0;e<r.length;e++){while(h+1<f.length&&f[h+1].LA<=e){h++}while(h>0&&f[h-1].LA==e)h--;
a[g+L+e].BV=z.length+(V?h:f.length-h-1)}for(var e=0;e<y.length;e++){z.push(y[e]);y[e].LA+=L;var O=a[g+y[e].LA];
if(O.tl!=-1&&O.tl<O.US.maxp.numGlyphs){y[e].H=O.tl;var b=O.US.hmtx;if(b){var i=Object.keys(b)[0];y[e].E1=b[i][O.tl]}}if(O.tD=="\n")y[e].E1=0;
if(O.tD=="\t")y[e].E1=O.US.head.unitsPerEm*36/O.a6.FontSize}}var w=f4.lq(S),J=this.ZQ=d_.z6(I,k,a,g,z,g,g+v),q=this.Mn,A=-1,c=[null,null,0];
while(x<J.length){d_.asd(J,s,S,T,C[0],x,c);A++;var Q={start:x,end:0,Sq:new eZ,Of:new kK(0,0),U6:!0},cd=0,dN=0;
q.push(Q);Q.end=c[2];if(Q.start==Q.end)throw"e";var B=Q.end==J.length;function l(f,L,b3){var hL=b3-L>>>1;
for(var Y=0;Y<hL;Y++){var gS=f[L+Y];f[L+Y]=f[b3-1-Y];f[b3-1-Y]=gS}}for(var P=1;P<5;P++){var F=-1;for(var Y=Q.start;
Y<Q.end;Y++){var N=a[J[Y].start].DE;if(F==-1&&N>=P)F=Y;else if(F!=-1&&N<P){l(J,F,Y);F=-1}}var t=Q.end;
if(d==0&&J[t-1].VZ)t--;if(F!=-1)l(J,F,t)}var b$=c[0],hd=c[1],F=x,di=x;for(var hD=0;hD<hd.length;hD+=2){var a$=s?hd[hD+1]-hd[hD]-S.StartIndent-S.EndIndent-(x==0?S.FirstLineIndent:0):Infinity,eJ=0;
F=di;di+=b$[hD>>>1];var hY=this.aEs(F,di,J,d,s!=null);if(s){if(w==1||B&&w==4)eJ=hY[1]+(a$-hY[0]);if(w==2||B&&w==5)eJ=hY[1]+(a$-hY[0])/2;
if(di-F==1&&J[F].Sq.Q>a$)eJ=0;if(A==0)eJ+=S.FirstLineIndent;eJ+=S.StartIndent}else{if(w==0)eJ=S.StartIndent+S.FirstLineIndent;
if(w==1)eJ=-hY[0]-S.EndIndent;if(w==2)eJ=-hY[0]/2}eJ+=hd[hD];if(s&&w>2&&(w==6||!B))this.aEd(F,di,J,a$,d,eJ);
else{var ik=eJ;for(var Y=F;Y<di;Y++){var fw=J[Y],jb=fw.Sq.Q;fw.Of.x=ik;if(fw.lm=="\t")jb=Math.ceil((ik+4)/36)*36-ik;
ik+=jb}}}x=Q.end;for(var Y=Q.start;Y<Q.end;Y++){var kc=J[Y].Sq.clone();kc.ag3(J[Y].Of);Q.Sq=Q.Sq.oL(kc);
cd=Math.max(cd,J[Y].Ow);dN=Math.max(dN,J[Y].lineHeight)}Q.Of.y=A==0?0:q[A-1].Of.y+dN;if(A==0){if(n==0&&s)C[0]+=cd;
if(n!=0)C[0]+=dN;this.Of.y=C[0]}else C[0]+=dN;if(s)Q.U6=this.Of.y+Q.Of.y<s.y+s._||n==0&&A==0}var ck=S.SpaceAfter;
if(ck!=null)C[0]+=ck};d_.Dz.prototype.aEs=function(I,k,a,n,s){var C=0,T=0;for(var Y=I;Y<k;Y++)C+=a[Y].Sq.Q;
if(s){if(n==0)for(var Y=k-1;Y>=I;Y--)if(a[Y].VZ||a[Y].TK)C-=a[Y].Sq.Q;else break;if(n==1)for(var Y=I;
Y<k;Y++)if(a[Y].VZ||a[Y].TK){var S=a[Y].Sq.Q;C-=S;T-=S}else break}return[C,T]};d_.Dz.prototype.aEd=function(I,k,a,n,s,C){var T=0,S=0,D=0,o=0;
for(var Y=I;Y<k;Y++)if(a[Y].VZ)D++;else{T+=a[Y].Sq.Q;S++}if(s==0)for(var Y=k-1;Y>=I;Y--)if(a[Y].VZ||a[Y].TK){if(a[Y].VZ){D--}}else break;
if(s==1)for(var Y=I;Y<k;Y++)if(a[Y].VZ||a[Y].TK){if(a[Y].VZ){D--;o++}}else break;if(S<=1||D==0){if(S==1)a[I].Of.x=C;
return}var v=(n-T)/D,g=-o*v;for(var Y=I;Y<k;Y++){if(a[Y].VZ)this.Tr[a[Y].U9].Sq.Q=a[Y].Sq.Q=v;a[Y].Of.x=C+g;
g+=a[Y].Sq.Q}};d_.am$=function(I,k,a,n,s,C,T){this.lm="";for(var Y=0;Y<T;Y++)this.lm+=a[C+Y].tD;this.VZ=T==1&&(a[C].tD==" "||a[C].tD=="\t");
this.TK=T==1&&a[C].tD=="\n";this.start=C;this.end=C+T;this.Sq=new eZ;this.Of=new kK(0,0);this.Ow=0;this.lineHeight=0;
var S=0,D=0;if(T==0){this.lineHeight=a[C].lineHeight;this.Ow=a[C].Ow;this.Sq=new eZ(0,-a[C].lineHeight,0,a[C].lineHeight)}var o=a[C].BV,v=a[C+T-1].BV;
if(v<o){var g=o;o=v;v=g}while(v+1<s.length&&s[v].LA==s[v+1].LA){v++}this.U9=o;this.jS=v;for(var d=o;
d<=v;d++){var R=s[d],c=a[n+R.LA],e=I._LineOrientation==2&&(c.a6.BaselineDirection!=2||d_.ED(c.tD.charCodeAt(0))),O=Typr.U.glyphToPath(c.US,R.H),H=0;
R.path={m:O.cmds,s:O.crds};var U=c.a6.FontSize,K=1/c.US.head.unitsPerEm*U;if(!c.a6.AutoKerning)S+=c.a6.Kerning*2*K*c.scale.x;
R.Of=new kK(S,0);R.AE=0;if(e&&R.path.s.length>0){R.AE=-Math.PI/2;R.Of.x+=U*.83;R.Of.y=-U*.3+R.E1*K/2;
R.E1=U/K}var _=R.E1*K*c.scale.x;R.Sq=new eZ(0,-c.lineHeight,_,c.lineHeight);var Z=R.Sq.clone();Z.ag3(R.Of);
if(c.a6.Tracking!=null)H=c.a6.Tracking*.001*U;if(c.a6.FauxBold==!0)H+=.027*U;S+=_+H;if(d<s.length-2)R.Sq.Q+=H;
if(T==1&&c.tD==" "){Z.Q+=2*H;R.Of.x+=H}else if(T==1&&c.tD!=null&&d_.ED(c.tD.charCodeAt(0)))Z.Q+=H;this.Sq=this.Sq.oL(Z);
this.Ow=Math.max(this.Ow,c.Ow);this.lineHeight=Math.max(this.lineHeight,c.lineHeight)}};d_._P=0;d_.aht=function(I){if(d_._P==2)return!0;
if(d_._P==1)return!1;d_._P=1;function k(){fetch(bU.Wn("code/ext/fribidi.wasm")).then(function(a){return a.arrayBuffer()}).then(function(a){return WebAssembly.instantiate(a)}).then(function(a){var n=a.instance.exports,s=n.memory,C=16,T=256,S=1,D=C|T,o=C|T|S;
d_.amg=function(g,d){var R=g.length,c=R*4+4+R*4+R*4+R;kk.xq(n,c+R+1e7);var e=new Uint8Array(s.buffer),O=new Uint32Array(s.buffer),U=n.calloc(c,1),K=U+R*4,_=K+4,Z=_+R*4,H=Z+R*4;
O.set(g,U>>>2);O[K>>>2]=d==0?D:o;n.fribidi_get_bidi_types(U,R,_);n.fribidi_get_bracket_types(U,R,_,Z);
n.fribidi_get_par_embedding_levels_ex(_,Z,R,K,H);var G=e.slice(H,H+R);n.free(U);return G};d_._P=2;var v=new d2(M.E.b,!0);
v.data={q:M.p.iv,S9:"add",CU:f9.xr,Q$:null};I.a(v)})}Typr.U.initHB(bU.Wn("code/ext/hb.wasm"),k);return!1};
function f4(){}f4._X=function(I){return JSON.parse(JSON.stringify(I))};f4.hZ=function(I,k){for(var a in k)I[a]=k[a]};
f4.MU=function(I,k,a,n){var s=f4.ai6();if(a)f4.Xy(s,0,0,a);var C=new dc;if(n!=null)C.rotate(n);C.translate(Math.round(I),Math.round(k));
var T={h:C,RW:s};T.Mz=f4.aem();T.At=j.O8.U();T.uT=new eZ;return T};f4.aqv=function(I){var k=["CharacterDirection",0];
for(var Y=0;Y<k.length;Y+=2){if(I[k[Y]]!=null&&I[k[Y]]!=k[Y+1]){throw"e";console.log(k[Y],I[k[Y]])}}if(I instanceof Array)for(var Y=0;
Y<I.length;Y++)f4.aqv(I[Y]);else if(I instanceof Object)for(var a in I)f4.aqv(I[a])};f4.lq=function(I,k){if(k==null)k=I.Justification;
var a=I._Direction?I._Direction:0;if(a==1){if(k==0||k==3)k++;else if(k==1||k==4)k--}return k};f4.kj=function(I){if(I.add==null)return;
var k=I.RW,a=k.Curve,n=I.add.vmsk,s=n.d,C=j.X.wb(s,2).s,T=I.h.clone();T.Us();j.X.h(C,T,C);var S=C.slice(0,8);
for(var D=8;D<C.length;D+=6)S.push(C[D-2],C[D-1],C[D],C[D+1],C[D+2],C[D+3],C[D+4],C[D+5]);a.Points=S;
a.TextOnPathTRange=n.Ma.slice(0);a.Reversed=n.u8;if(f4.Dd(k)==1){var a=d_.Nn(k.Curve),o=j.X.TO(a[0]);
f4.s7(k,[0,0,o.Q,o._].map(Math.round));for(var Y=0;Y<S.length;Y+=2){S[Y]-=o.x;S[Y+1]-=o.y}var v=new dc(1,0,0,1,o.x,o.y);
v.concat(I.h);I.h=v}};f4.xX=function(I){if(I.add==null)return;var k=I.add.vmsk,a=I.RW.Curve,n=a.Points,s={m:["M"],s:[n[0],n[1]]};
for(var Y=0;Y<n.length;Y+=8){s.m.push("C");s.s.push(n[Y+2],n[Y+3],n[Y+4],n[Y+5],n[Y+6],n[Y+7])}j.X.h(s.s,I.h,s.s);
var C=j.X.ep(s,!0);k.d=C;k.u8=a.Reversed;k.Ma=a.TextOnPathTRange.slice(0);I.add.vogk=X.Bb(C)};f4.GW=function(I){var k={$:0,H:0,J:0};
if(I){var a=I.Values;if(I.Type==1)k={$:a[1]*255,H:a[2]*255,J:a[3]*255};else if(I.Type==2){var n={classID:"CMYC",Cyn:{t:"doub",v:a[1]*100},Mgnt:{t:"doub",v:a[2]*100},Ylw:{t:"doub",v:a[3]*100},Blck:{t:"doub",v:a[4]*100}};
k=j.G.GW(n)}else console.log("Unknown color type")}return k};f4.azP=function(I){for(var Y=0;Y<I.length;
Y++){var k=I[Y].StyleSheet.StyleSheetData,a=k.FillColor;if(a&&a.Type==2){var n=f4.GW(a);a.Type=1;a.Values=[1,n.$/255,n.H/255,n.J/255]}}};
f4.GT=function(I,k){var a;if(f4.Dd(I.RW)==1){var n=f4.nO(I.RW);a=new eZ(0,0,n[2]-n[0],n[3]-n[1])}else{a=k.Yd();
if(k.gG){var s=k.gG.clone(),C=j.X.Eu(a);j.X.h(C.s,s,C.s);a=j.X.TO(C.s)}}return a};f4.Rc=function(I){var k=I[0];
for(var Y=0;Y<I.length;Y++)k=f4.a1e(k,I[Y]);return k};f4.a1e=function(I,k){var a={};for(var n in I)if(JSON.stringify(I[n])==JSON.stringify(k[n]))a[n]=I[n];
return a};f4.YW=function(I,k){var a=I.JN,n=-1;for(var Y=0;Y<a.length;Y++)if(a[Y].Name==k)n=Y;if(n==-1){n=a.length;
a.push({FontType:1,Name:k,Script:0,Synthetic:0})}I.CX.Font=n};f4.iZ=function(I){return I.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
f4.wP=function(I,k){I.EngineDict.Editor.Text=k.replace(/\n/g,"\r")};f4.Dd=function(I){return I.Curve&&I.Curve.TextOnPathTRange[0]>=0?2:I.EngineDict.Rendered.Shapes.Children[0].ShapeType};
f4.IC=function(I,k){var a=I.EngineDict.Rendered.Shapes.Children[0];a.ShapeType=k;var n=a.Cookie.Photoshop;
n.ShapeType=k;n.Base.ShapeType=k;if(k==0){delete n.BoxBounds;n.PointBase=[0,0]}if(k==1){delete n.PointBase;
n.BoxBounds=[0,0,1,1]}};f4.nO=function(I){return I.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
f4.s7=function(I,k){I.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=k};f4.aa0=function(I,k){var a=I.EngineDict.AlternateGlyphRun;
if(a==null)return-1;var n=f4.kf(a.RunLengthArray,k).hg;if(a.RunArray[n]==null)return-1;var s=a.RunArray[n].Glyph;
return s==null?-1:s};f4.a1n=function(I,k,a){var n=I.EngineDict.AlternateGlyphRun;if(n==null){n=I.EngineDict.AlternateGlyphRun=f4.aoY();
n.RunArray.push({});n.RunLengthArray.push(f4.iZ(I).length)}var s=f4.kf(n.RunLengthArray,k),C=s.hg,T=k-s.SI,S=n.RunArray[C],D=JSON.stringify(S),o=n.RunLengthArray[C];
if(T!=0){n.RunArray.splice(C,0,JSON.parse(D));n.RunLengthArray.splice(C,0,T);n.RunLengthArray[C+1]-=T;
C++;o-=T;T=0}if(o!=1){n.RunArray.splice(C+1,0,JSON.parse(D));n.RunLengthArray.splice(C+1,0,o-1);n.RunLengthArray[C]=1;
o=1}S.Glyph=a};f4.axv=function(I,k){var a=I.EngineDict.StyleRun.RunLengthArray;return f4.kf(a,k).hg};
f4.ay4=function(I,k){var a=I.ResourceDict.StyleSheetSet[0].StyleSheetData,n={};for(var s in a)n[s]=a[s];
var C=I.EngineDict.StyleRun.RunArray[k].StyleSheet.StyleSheetData;f4.hZ(n,C);return n};f4.alA=function(I,k){var a=I.EngineDict.ParagraphRun.RunLengthArray;
return f4.kf(a,k).hg};f4.aDT=function(I,k){var a=I.ResourceDict.ParagraphSheetSet[0].Properties,n={};
for(var s in a)n[s]=a[s];var C=I.EngineDict.ParagraphRun.RunArray[k].ParagraphSheet.Properties;f4.hZ(n,C);
var T=["StartIndent","EndIndent","FirstLineIndent"];for(var Y=0;Y<3;Y++)if(n[T[Y]]==null)n[T[Y]]=0;return n};
f4.lL=function(I,k,a){if(a=="")return;var n=f4.iZ(I);f4.wP(I,n.substring(0,k)+a+n.substring(k,n.length));
var s=I.EngineDict.StyleRun,C=s.RunLengthArray,T=f4.kf(C,k-1);C[T.hg]+=a.length;var S=I.EngineDict.AlternateGlyphRun;
if(S){var C=S.RunLengthArray,T=f4.kf(C,k-1);C[T.hg]+=a.length}var D=I.EngineDict.ParagraphRun,C=D.RunLengthArray,o=f4.kf(C,k),v=a.split("\n");
if(v.length==1){C[o.hg]+=a.length;return}C.splice(o.hg+1,0,C[o.hg]-(k-o.SI));D.RunArray.splice(o.hg+1,0,f4._X(D.RunArray[o.hg]));
C[o.hg]-=C[o.hg+1];C[o.hg]+=v[0].length+1;for(var Y=1;Y<v.length-1;Y++){D.RunArray.splice(o.hg+Y,0,f4._X(D.RunArray[o.hg+Y-1]));
D.RunLengthArray.splice(o.hg+Y,0,v[Y].length+1)}C[o.hg+v.length-1]+=v[v.length-1].length};f4.Mw=function(I,k,a){var n=f4.iZ(I);
f4.wP(I,n.substring(0,k)+n.substring(a,n.length));f4.nG(I.EngineDict.ParagraphRun,k,a,!0);f4.nG(I.EngineDict.StyleRun,k,a,!1);
var s=I.EngineDict.AlternateGlyphRun;if(s)f4.nG(s,k,a,!1)};f4.nG=function(I,k,a,n){var s=I.RunLengthArray,C=f4.kf(s,k),T=f4.kf(s,a),S=[];
for(var Y=0;Y<s.length;Y++)for(var D=0;D<s[Y];D++)S.push(Y);S.splice(k,a-k);var o=[];for(var Y=0;Y<s.length;
Y++)o.push(0);for(var Y=0;Y<S.length;Y++)o[S[Y]]++;for(var Y=0;Y<s.length;Y++){if(o[Y]==0){o.splice(Y,1);
s.splice(Y,1);I.RunArray.splice(Y,1);Y--}else if(o[Y]<s[Y])s[Y]=o[Y]}if(n&&C.hg!=T.hg&&C.SI!=k){s[C.hg]+=s[C.hg+1];
s.splice(C.hg+1,1);I.RunArray.splice(C.hg+1,1)}};f4.Xy=function(I,k,a,n){var s=I.EngineDict.Editor.Text.length;
if(a==s-2)a++;if(n.CX.Font!=null)I.ResourceDict.FontSet=n.JN.slice(0);if(k<=a)f4.a0J(I.EngineDict.StyleRun,n.CX,k,a,!0);
f4.a0J(I.EngineDict.ParagraphRun,n.i9,k,a,!1)};f4.dm=function(I,k,a){var n={JN:I.ResourceDict.FontSet.slice(0),CX:[],i9:[]},s=I.EngineDict.StyleRun.RunLengthArray,C=f4.kf(s,k).hg,T=f4.kf(s,a).hg;
for(var Y=C;Y<=T;Y++){var S=f4._X(I.ResourceDict.StyleSheetSet[0].StyleSheetData),D=I.EngineDict.StyleRun.RunArray;
if(D.length==0)continue;var o=D[Y].StyleSheet.StyleSheetData;f4.hZ(S,o);n.CX.push(S)}var v=I.EngineDict.ParagraphRun.RunLengthArray,g=f4.kf(v,k).hg,d=f4.kf(v,a).hg;
for(var Y=g;Y<=d;Y++){var R=I.EngineDict.ParagraphRun.RunArray;if(R.length==0)continue;n.i9.push(f4._X(R[Y].ParagraphSheet.Properties))}n.CX=n.CX.length==0?{}:f4.Rc(n.CX);
n.i9=n.i9.length==0?{}:f4.Rc(n.i9);return n};f4.a0J=function(I,k,a,n,s){var C=I.RunLengthArray;if(s){var T=f4.kf(C,a);
if(T.SI!=a){var S=C[T.hg];C.splice(T.hg,0,a-T.SI);C[T.hg+1]=S-C[T.hg];I.RunArray.splice(T.hg+1,0,f4._X(I.RunArray[T.hg]))}var D=f4.kf(C,n);
if(D.SI+C[D.hg]-1!=n){var S=C[D.hg];C.splice(D.hg,0,n-D.SI+1);C[D.hg+1]=S-C[D.hg];I.RunArray.splice(D.hg+1,0,f4._X(I.RunArray[D.hg]))}}var T=f4.kf(C,a),D=f4.kf(C,n);
if(s)for(var Y=T.hg;Y<=D.hg;Y++)f4.hZ(I.RunArray[Y].StyleSheet.StyleSheetData,k);else for(var Y=T.hg;
Y<=D.hg;Y++)f4.hZ(I.RunArray[Y].ParagraphSheet.Properties,k)};f4.a2$=function(I,k,a){var n=I.EngineDict.StyleRun.RunLengthArray,s=[],C=0;
for(var Y=0;Y<n.length;Y++){var T=n[Y];for(var S=0;S<T;S++)if(k<=C+S&&C+S<a)s.push(Y);C+=T}var D=s[0],o=[];
for(var Y=0;Y<s.length;Y++){var v=s[Y]-D;if(v==o.length)o.push(0);o[v]++}return o};f4.ai7=function(I){var k=I.EngineDict.StyleRun,a=k.RunArray,n=k.RunLengthArray;
for(var Y=0;Y<n.length-1;Y++){var s=a[Y].StyleSheet.StyleSheetData,C=a[Y+1].StyleSheet.StyleSheetData;
if(JSON.stringify(s)==JSON.stringify(C)){a.splice(Y+1,1);n[Y]+=n[Y+1];n.splice(Y+1,1);Y--}}};f4.fV=function(I){var k=I.Mz.AntA.v.Annt;
k=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(k);if(k==-1)k=1;return k};f4.ns=function(I,k){I.Mz.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][k]};
f4.qL=function(I,k){var a,n;a=["FontSize","Leading","BaselineShift","OutlineWidth"];n=I.CX;for(var Y=0;
Y<a.length;Y++)if(n[a[Y]]!=null)n[a[Y]]*=k;a=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
n=I.i9;for(var Y=0;Y<a.length;Y++)if(n[a[Y]]!=null)n[a[Y]]*=k};f4.apw=function(){return f4.dm(f4._X(f4.amB),0,0)};
f4.aem=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0},VAlign:{t:"long",v:0}}};
f4.kf=function(I,k){var a=0,Y=0;while(a+I[Y]<=k){a+=I[Y];Y++}return{hg:Y,SI:a}};f4.ai6=function(){var I=f4._X(this.amB);
return I};f4.aqZ=function(I,k){var a=k.i9};f4.a2t=function(I,k){var a=k.CX,n;n=I.Undl;if(n&&n.v.Undl=="underlineOnLeftInVertical")a.Underline=!0;
n=I.syntheticItalic;if(n)a.FauxItalic=n.v};f4.a6x={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
f4.aCH={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundFlag:!1,_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
f4.aoY=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};f4.amB={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(f4.a6x))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01ー\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ヽヾゝゞ々ぁぃぅぇぉっゃゅょゎァィゥェォッャュョヮヵヶ\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ヽヾゝゞ々",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(f4.a6x))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(f4.aCH))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var j7={};j7.as$=function(I){var k=j7.aiB(I._0,I._1);j7.a2N(k,I._0);return k};j7.aCs=function(I,k,a){var n={};
n._98={_0:"i7"};n._0=j7.a7d(I,k,a?a._0:null);n._1=j7.aEq(I,k,n._0,a?a._1:null);return n};j7.a7d=function(I,k,a){var n={};
n._1=j7.as9(I,a?a._1:null);n._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};n._3=JSON.parse(JSON.stringify(j7.auw));
n._4=JSON.parse(JSON.stringify(j7.avK));n._5=j7.ahD(I,n._1._0,a?a._5:null);n._6=j7.aqT(I,a?a._6:null);
n._8=j7.a4G(I,k,a?a._8:null);n._9=j7.adk;return n};j7.a2N=function(I,k){j7.aso(I,k._5,k._1._0)};j7.as9=function(I,k){var a=[],n=[];
for(var Y=0;Y<I.length;Y++){var s=I[Y].ResourceDict.FontSet;for(var C=0;C<s.length;C++){var T=s[C];if(n.indexOf(T.Name)!=-1)continue;
a.push(T);n.push(T.Name)}}var S={_0:[]};for(var Y=0;Y<a.length;Y++){var D=a[Y],o={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+D.Name,_1:"i"+D.Script,_2:"i"+D.FontType}}};
if(D.Script==0)delete o._0._0._1;S._0.push(o)}return S};j7.ahD=function(I,k,a){var n={_0:[],_1:[]},s={_0:JSON.parse(JSON.stringify(j7.a39))};
j7.an1(s._0,I[0].ResourceDict.StyleSheetSet[0],k,I[0].ResourceDict.FontSet);n._0.push(s);n._1.push({_0:"i0"});
n._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});n._1.push({_0:"i1"});return n};j7.aso=function(I,k,a){var n=k._0[0];
for(var Y=0;Y<I.length;Y++)j7.a6V(n._0,I[Y].ResourceDict.StyleSheetSet[0],a,I[Y].ResourceDict.FontSet)};
j7.aqT=function(I,k){var a={_0:[],_1:[]},n={_0:JSON.parse(JSON.stringify(j7.ok))};j7.UQ(n._0,I[0].ResourceDict.ParagraphSheetSet[0]);
a._0.push(n);a._1.push({_0:"i0"});n={_0:JSON.parse(JSON.stringify(j7.ok))};j7.UQ(n._0,I[0].ResourceDict.ParagraphSheetSet[0]);
n._0._0="sBasic Paragraph";n._0._6="i0";a._0.push(n);a._1.push({_0:"i1"});return a};j7.a4G=function(I,k,a){var n={_0:[]};
for(var Y=0;Y<I.length;Y++){var s=I[Y].Curve,C={};n._0.push({_0:C});var T=f4.Dd(I[Y]);C._1={};C._2={};
C._2._0="i"+T;if(I[Y]._LineOrientation==2)C._2._1="i2";if(T==0){delete C._1;C._2._6=["f-1","f-1"];C._2._11={_4:"i-1",_7:!1}}else if(T==1&&s==null){var S=f4.nO(I[Y]),D=S[2],o=S[3];
C._1._0=j7.Yn("f",[0,0,0,0,D,0,D,0,D,0,D,0,D,o,D,o,D,o,D,o,0,o,0,o,0,o,0,o,0,0,0,0]);C._2._6=["f-2","f-2"];
C._2._11={_4:"i-2",_7:!1}}else if(T==1){var S=f4.nO(I[Y]),D=S[2],o=S[3];C._1._0=j7.Yn("f",s.Points);
C._2._6=["f-3","f-3"];C._2._11={_4:"i-3",_7:!1}}else if(T==2){C._1._0=j7.Yn("f",s.Points);C._2._6=j7.Yn("f",s.TextOnPathTRange);
C._2._11={_0:s.Reversed,_3:"i0",_5:"f0",_7:!1}}}return n};j7.aEq=function(I,k,a,n){var s={};s._0=JSON.parse(JSON.stringify(j7.ad4));
s._1=j7.a7z(I,k,a,n?n._1:null);s._2=JSON.parse(JSON.stringify(j7.a39._6));s._3=JSON.parse(JSON.stringify(j7.ok._5));
return s};j7.aiB=function(I,k){return j7.akP(I,k._1)};j7.a7z=function(I,k,a,n){var s=[],C=a._1._0;for(var Y=0;
Y<I.length;Y++){var T=I[Y],S={_0:{}};s.push(S);S._0._0="s"+T.EngineDict.Editor.Text;S._0._0=S._0._0;
var D=S._0._5={_0:[]},o=T.EngineDict.ParagraphRun;for(var v=0;v<o.RunArray.length;v++){var g={_0:{}};
D._0.push(g);g._0._0={_0:"s",_5:{},_6:"i1"};j7.UQ(g._0._0,o.RunArray[v].ParagraphSheet);g._1="i"+o.RunLengthArray[v]}var d=S._0._6={_0:[]};
o=T.EngineDict.StyleRun;for(var v=0;v<o.RunArray.length;v++){var R={_0:{}};d._0.push(R);R._0._0={_0:"s",_5:"i1",_6:{}};
j7.an1(R._0._0,o.RunArray[v].StyleSheet,C,T.ResourceDict.FontSet);R._1="i"+o.RunLengthArray[v]}o=T.EngineDict.AlternateGlyphRun;
if(o){var c=S._0._9={_0:[]};for(var v=0;v<o.RunArray.length;v++){var e={_0:{}};c._0.push(e);var O=o.RunArray[v];
if(O.Glyph!=null){e._0._0={_0:"i"+O.Glyph,_1:"e"}}e._1="i"+o.RunLengthArray[v]}}S._0._10={_0:"i4",_2:!0};
S._1=j7.view.a2r(T,null,Y,null)}return s};j7.akP=function(I,k){var a=[],n=I._1._0;if(k)for(var Y=0;Y<k.length;
Y++){var s=f4.ai6();a.push(s);var C=k[Y];s.EngineDict.Editor.Text=C._0._0.slice(1);var T=s.EngineDict.ParagraphRun.RunArray[0],S=s.EngineDict.ParagraphRun,D=C._0._5;
if(D)for(var o=0;o<D._0.length;o++){var v=D._0[o];S.RunLengthArray[o]=parseInt(v._1.slice(1));S.RunArray[o]=JSON.parse(JSON.stringify(T));
j7.aEN(v._0._0,S.RunArray[o].ParagraphSheet)}else{S.RunLengthArray[0]=f4.iZ(s).length}var g=C._0._6;
S=s.EngineDict.StyleRun;if(g)for(var o=0;o<g._0.length;o++){var d=g._0[o];S.RunLengthArray[o]=parseInt(d._1.slice(1));
S.RunArray[o]={StyleSheet:{StyleSheetData:{}}};j7.a6V(d._0._0,S.RunArray[o].StyleSheet,n,s.ResourceDict.FontSet)}else{S.RunLengthArray[0]=f4.iZ(s).length;
S.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return a};j7.an1=function(I,k,a,n,s){I._0="s"+(k.Name?k.Name:"");
var C=I._6,T=s?s._6:null,S=k.StyleSheetData;if(S.Font!=null){var D=n[S.Font].Name,o=-1;for(var Y=0;Y<a.length;
Y++)if("s"+D==a[Y]._0._0._0){o=Y;break}C._0="i"+o}if(S.FontSize!=null)C._1="f"+S.FontSize;if(S.FauxBold!=null)C._2=S.FauxBold;
if(S.FauxItalic!=null)C._3=S.FauxItalic;if(S.AutoLeading!=null)C._4=S.AutoLeading;if(S.Leading!=null)C._5="f"+S.Leading;
if(S.HorizontalScale!=null)C._6="f"+S.HorizontalScale;if(S.VerticalScale!=null)C._7="f"+S.VerticalScale;
if(S.Tracking!=null)C._8="i"+S.Tracking;if(S.BaselineShift!=null)C._9="f"+S.BaselineShift;if(S.AutoKerning!=null)C._11="i"+(S.AutoKerning?1:0);
if(S.FontCaps!=null)C._12="i"+S.FontCaps;if(S.FontBaseline!=null)C._13="i"+S.FontBaseline;if(S.Strikethrough!=null)C._15="i"+(S.Strikethrough?1:0);
if(S.Underline!=null)C._16="i"+(S.Underline?2:0);if(S.Ligatures!=null)C._18=S.Ligatures;if(S.DLigatures!=null)C._19=S.DLigatures;
if(S.BaselineDirection!=null)C._35="i"+S.BaselineDirection;if(S.Language!=null)C._38="i"+S.Language;
if(S.FillColor!=null)C._53=j7._S(S.FillColor);if(S.StrokeColor!=null)C._54=j7._S(S.StrokeColor);if(S.FillFlag!=null)C._56=S.FillFlag;
if(S.StrokeFlag!=null)C._57=S.StrokeFlag;if(S.FillFirst!=null)C._58=S.FillFirst;if(S.OutlineWidth!=null)C._63="f"+S.OutlineWidth;
if(S._FillBackgroundColor!=null)C._79=j7._S(S._FillBackgroundColor);if(S._FillBackgroundFlag!=null)C._80=S._FillBackgroundFlag;
if(S._LineCap!=null)C._61="i"+S._LineCap;if(S._LineJoin!=null)C._62="i"+S._LineJoin;if(S._MiterLimit!=null)C._64="f"+S._MiterLimit;
if(S._LineDashOffset!=null)C._65="f"+S._LineDashOffset;if(S._LineDashArray!=null)C._66=j7.Yn("f",S._LineDashArray)};
j7._S=function(I){return{_99:"/SimplePaint",_0:{_0:"i1",_1:j7.Yn("f",I.Values)}}};j7.a6V=function(I,k,a,n){var s=I._6;
if(s==null)return;var C=k.StyleSheetData;if(s._0){var T=parseInt(s._0.slice(1)),S=a[T]._0._0._0.slice(1);
f4.YW({CX:C,JN:n},S)}if(s._1!=null)C.FontSize=parseFloat(s._1.slice(1));if(s._2!=null)C.FauxBold=s._2;
if(s._3!=null)C.FauxItalic=s._3;if(s._4!=null)C.AutoLeading=s._4;if(s._5!=null)C.Leading=parseFloat(s._5.slice(1));
if(s._6!=null)C.HorizontalScale=parseFloat(s._6.slice(1));if(s._7!=null)C.VerticalScale=parseFloat(s._7.slice(1));
if(s._8!=null)C.Tracking=parseFloat(s._8.slice(1));if(s._9!=null)C.BaselineShift=parseFloat(s._9.slice(1));
if(s._11!=null)C.AutoKerning=parseFloat(s._11.slice(1))==1;if(s._12!=null)C.FontCaps=parseFloat(s._12.slice(1));
if(s._13!=null)C.FontBaseline=parseFloat(s._13.slice(1));if(s._15!=null)C.Strikethrough=parseFloat(s._15.slice(1))==1;
if(s._16!=null)C.Underline=parseFloat(s._16.slice(1))==1;if(s._18!=null)C.Ligatures=s._18;if(s._19!=null)C.DLigatures=s._19;
if(s._35!=null)C.BaselineDirection=parseFloat(s._35.slice(1));if(s._38!=null)C.Language=parseFloat(s._38.slice(1));
if(s._53!=null)C.FillColor=j7.Ji(s._53);if(s._54!=null)C.StrokeColor=j7.Ji(s._54);if(s._56!=null)C.FillFlag=s._56;
if(s._57!=null)C.StrokeFlag=s._57;if(s._63!=null)C.OutlineWidth=parseFloat(s._63.slice(1));if(s._79!=null)C._FillBackgroundColor=j7.Ji(s._79);
if(s._80!=null)C._FillBackgroundFlag=s._80;if(s._61!=null)C._LineCap=parseFloat(s._61.slice(1));if(s._62!=null)C._LineJoin=parseFloat(s._62.slice(1));
if(s._64!=null)C._MiterLimit=parseFloat(s._64.slice(1));if(s._65!=null)C._LineDashOffset=parseFloat(s._65.slice(1));
if(s._66!=null)C._LineDashArray=j7.N3(s._66)};j7.Ji=function(I){var k=I._0._0,a=[1,0,0,0],n=j7.N3(I._0._1);
if(k=="i0")a[1]=a[2]=a[3]=n[1];else if(k=="i1")a=n;else if(k=="i2")a=[1].concat(UDOC.C.cmykToRgb(n.slice(1)));
else console.log("unknown color type",k,n);return{Type:1,Values:a}};j7.UQ=function(I,k){I._0="s"+(k.Name?k.Name:"");
var a=I._5,n=k.Properties;if(n.Justification!=null)a._0="i"+n.Justification;if(n.FirstLineIndent!=null)a._1="f"+n.FirstLineIndent;
if(n.StartIndent!=null)a._2="f"+n.StartIndent;if(n.EndIndent!=null)a._3="f"+n.EndIndent;if(n.SpaceBefore!=null)a._4="f"+n.SpaceBefore;
if(n.SpaceAfter!=null)a._5="f"+n.SpaceAfter;if(n.AutoLeading!=null)a._7="f"+n.AutoLeading;if(n.AutoHyphenate!=null)a._9=n.AutoHyphenate;
if(n._Direction!=null)a._33="i"+n._Direction;if(n._ComposerEngine!=null)a._35="i"+n._ComposerEngine};
j7.aEN=function(I,k){var a=I._5;if(a==null)return;var n=k.Properties;if(a._0)n.Justification=parseInt(a._0.slice(1))};
j7.Yn=function(I,k){var a=[];for(var Y=0;Y<k.length;Y++)a.push(I+k[Y]);return a};j7.N3=function(I){var k=[];
for(var Y=0;Y<I.length;Y++)k.push(parseFloat(I[Y].slice(1)));return k};j7.auw={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
j7.avK={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ぁぃぅぇぉっゃゅょゎ\u309B\u309Cゝゞァィゥェォッャュョヮヵヶ\u30FBーヽヾ\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ゝゞ\u30FBヽヾ\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ぁぃぅぇぉっゃゅょゎ\u309B\u309Cゝゞァィゥェォッャュョヮヵヶ\u30FBーヽヾ\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ゝゞ\u30FBヽヾ\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
j7.a39={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
j7.ok={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
j7.adk={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
j7.ad4={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var eO={};eO.auq=function(I){return eO.lw(I,eO.q6,0)};eO.abV=function(I){return eO.R$(I,eO.q6)};eO.lw=function(I,k,a){var n;
if(typeof I=="string")return I;if(I instanceof Array){n=[];for(var Y=0;Y<I.length;Y++)n[Y]=eO.lw(I[Y],k,a+1)}else{n={};
var s={};for(var C in k){var T=k[C],S="_"+T[0];if(I[S]!=null){n[C]=T[1]?eO.lw(I[S],T[1],a+1):I[S];s[S]=!0}}for(var C in I){if(s[C]==null){if(C.length>3)continue;
console.log(k,s);console.log(C,I);throw"e"}}}return n};eO.R$=function(I,k){var a;if(typeof I=="string")return I;
else if(I instanceof Array){a=[];for(var Y=0;Y<I.length;Y++)a[Y]=eO.R$(I[Y],k)}else{a={};var n={};for(var s in k){var C=k[s],T="_"+C[0];
if(I[s]!=null){a[T]=C[1]?eO.R$(I[s],C[1]):I[s];n[s]=!0}}for(var s in I){if(n[s]==null){console.log(k,n);
console.log(s,I);throw"e"}}}return a};eO.AG={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
eO.$k={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,eO.AG],_StrokeColor:[54,eO.AG],_Blend:[55,{_1:[1],_2:[2],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,eO.AG],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_RefFontSize:[89],_FontSizeRefType:[90],_92:[92],_93:[93]};
eO.afa={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,eO.$k],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40]};
eO.a04={_Name:[0],_Features:[5,eO.afa],_Parent:[6],_UUID:[97]};eO.aik={_Name:[0],_Parent:[5],_Features:[6,eO.$k],_UUID:[97]};
eO.q6={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4],_MMAxis:[5]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,eO.aik]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,eO.a04]}],_DisplayList:[1,{_Resource:[0]}]}],_7:[7,{_Resources:[0,{_Resource:[0,{_0:[0,{_0:[0],_1:[1,{_0:[0]}]}],_1:[1]}]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_3:[3],_4:[4],_5:[5],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18],_22:[22]}],_12:[12],_13:[13]}],_3:[3,{_0:[0]}],_UUID:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_MinDigits:[2],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6],_UseOriginalFont:[7]}],_PredefinedTag:[6],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,eO.a04]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,eO.aik]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}],_AlternateGlyph:[1]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2],_4:[4]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,eO.$k],_OriginalNormalParagraphFeatures:[3,eO.afa],_4:[4]}]};
j7.view={};j7.view.a2r=function(I,k,a,n){var s={},C=f4.Dd(I);s._0=[{_0:"i"+a}];return s};function CSS(){}CSS.aea=function(I,k){var a=I.add,n=a.vmsk,s=a.vstk,C=a.lmfx,T=a.TySh,S=[],D=CSS.bZ(C,a),o=I.opacity/255*(I.add.iOpa!=null?I.add.iOpa/255:1);
if(o!=1)S.push("opacity: "+o.toFixed(3));if(I.wc()&&n){var v=j.n.oz(n.d);if(!v.KH()){S.push("width: "+Math.round(v.Q)+"px");
S.push("height: "+Math.round(v._)+"px")}var g=j.n.arf(n.d);if(g>0)S.push("border-radius: "+Math.round(g)+"px")}else if(T){var d=T.RW;
if(f4.Dd(d)==1){var v=f4.nO(d);S.push("width: "+Math.round(v[2])+"px");S.push("height: "+Math.round(v[3])+"px")}CSS.aF7(S,f4.dm(d,0,0),T.h,!1,!1,D[0])}CSS.apd(k,C,S);
if(T==null)CSS.azq(D,S);if(s==null||!s.strokeEnabled.v)s=hB.a12(C);if(s&&s.strokeEnabled.v){var R=s.strokeStyleContent.v,c=R.classID,e=s.strokeStyleOpacity.v.val/100,O=s.strokeStyleLineWidth.v.val,U="";
if(c=="solidColorLayer")U=CSS.np(R.Clr.v,e);S.push("border: "+O+"px solid "+U)}return S};CSS.apd=function(I,k,a){if(k==null||!k.masterFXSwitch.v)return;
var n=k.dropShadowMulti.v.concat(k.innerShadowMulti.v);for(var Y=0;Y<n.length;Y++){var s=n[Y].v;if(s.enab.v){var C=s.classID=="IrSh",T=s.Dstn.v.val,S=s.lagl.v.val*Math.PI/180;
if(s.uglg&&s.uglg.v)S=I.hh()*Math.PI/180;var D=T*Math.cos(S),o=T*Math.sin(S),v=(D==0?"0 ":CSS.a5V(-D)+"px ")+(o==0?"0 ":CSS.a5V(o)+"px ")+s.blur.v.val/2+"px "+CSS.np(s.Clr.v,s.Opct.v.val/100);
if(C)a.push("box-shadow: inset "+v);else a.push("filter: drop-shadow("+v+")")}}};CSS.bZ=function(I,k){var a=hB.au7(I,k),n=a[0],s=a[1],C,T;
if(n){C=CSS.np(n.Clr.v,k.iOpa!=null?k.iOpa/255:1)}else if(s){T=CSS.Ey(s)}return[C,T]};CSS.azq=function(I,k){if(I[0])k.push("background-color: "+I[0]);
if(I[1])k.push("background-image: "+I[1])};CSS.$h={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.a5V=function(bQ){return""+parseFloat(bQ.toFixed(3))};CSS.rh=function(I){if(I==null)return{$:0,H:0,J:0};
var k=I.indexOf("(");if(k!=-1){var a=I.slice(k+1,I.length-1).split(",");for(var Y=0;Y<a.length;Y++){var n=a[Y].trim();
a[Y]=parseFloat(n)*(n.endsWith("%")?255/100:1)}if(I.startsWith("hsl")){var s=j.No(a[0]/360,a[1]/255,a[2]/255);
s.$*=255;s.H*=255;s.J*=255;return s}return{$:a[0],H:a[1],J:a[2]}}if(I.charAt(0)!="#"){var C=CSS.$h;if(C[I])I=C[I];
else console.log("unknown color "+I)}I=I.slice(1);if(I.length==4)I=I[0]+I[0]+I[1]+I[1]+I[2]+I[2]+I[3]+I[3];
if(I.length==3)I=I[0]+I[0]+I[1]+I[1]+I[2]+I[2];var T=-1;if(I.length==8){T=parseInt(I.slice(6),16);I=I.slice(0,6)}I=parseInt(I,16);
var S={$:I>>16&255,H:I>>8&255,J:I&255};if(T!=-1)S.M=T;return S};CSS.np=function(I,k){return CSS.zB(j.G.GW(I),k)};
CSS.zB=function(I,k){if(k==null)k=1;var a=Math.round(I.$),n=Math.round(I.H),s=Math.round(I.J),C=a<<16|n<<8|s;
return k==1?"#"+j.pB(C):"rgba("+a+","+n+","+s+","+k+")"};CSS.anL=function(I,k){return CSS.zB({$:I[0]*255,H:I[1]*255,J:I[2]*255},k)};
CSS.Ey=function(I){var k=I.Grad.v;if(k.Clrs==null)return"";var a=k.Clrs.v.slice(0),n=k.Trns.v.slice(0),s=I.Ofst.v,C=I.Type.v.GrdT=="Rdl"?1:0,T=(C==1?"radial":"linear")+"-gradient",S=C==0?Math.round(-I.Angl.v.val+90)+"deg":"circle at center",D=I.Rvrs.v,o=j.G.avP(k,D);
for(var Y=0;Y<o.length;Y++){var v=o[Y],g=v[1];S+=", "+CSS.zB({$:g[0]*255,H:g[1]*255,J:g[2]*255},v[2])+" "+Math.round(v[0]*100)+"%"}return T+"("+S+")"};
CSS.aF7=function(I,k,a,n,s,C){var T=k.CX,S=n?1:a.Ha(),D=Math.round(T.FontSize*S);I.push("font-size: "+D+"px");
var o=T.Tracking;if(!n&&o!=null&&o!=0)I.push("letter-spacing: "+Math.round(o*D/1e3)+"px");if(!T.AutoLeading)I.push("line-height: "+Math.round(T.Leading*S)+"px");
if(T.Strikethrough)I.push("text-decoration: line-through");if(T.Underline)I.push("text-decoration: underline");
if(T.FontCaps==2)I.push("text-transform: uppercase");var v=f4.GW(T.FillColor);v=[v.$,v.H,v.J].map(Math.round);
I.push((n?"fill: ":"color: ")+(C?C:"#"+j.pB(v[0]<<16|v[1]<<8|v[2])));var g=k.JN[T.Font].Name;if(g){var d=jL.$e.B3(g),R="",c=null,e=null;
if(d!=null&&g!=jL.Oq(d))d=null;if(s&&d)R+="\""+g+"\", ";var O=g.toLowerCase();if(d){c=jL.aeT(d)[0];if(d["OS/2"])e=d["OS/2"].usWeightClass}else{c=CSS.a15(g);
if(O.indexOf("light")!=-1)e=300;else if(O.indexOf("medium")!=-1)e=500;else if(O.indexOf("black")!=-1||O.indexOf("extrabold")!=-1)e=800;
else if(O.indexOf("bold")!=-1)e="bold"}if(c!=null)R+="\""+c+"\"";if(e!=null)I.push("font-weight: "+e);
if(O.indexOf("italic")!=-1||O.indexOf("oblique")!=-1)I.push("font-style: italic");if(R)I.push("font-family: "+R)}var U=k.i9.Justification;
if(U!=null&&U!=0)if(n){}else I.push("text-align: "+["left","right","center"][U%3])};CSS.a15=function(I){I=I.split("-")[0];
while(I.endsWith("MT")||I.endsWith("PS"))I=I.slice(0,I.length-2);var k=!0;for(var Y=0;Y<I.length;Y++){var a=I.charAt(Y);
if(!k&&a.toLowerCase()!=a){I=I.slice(0,Y)+" "+I.slice(Y);Y++;k=!0}else k=!1}return I};function bg(){}bg.R7={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0};
bg._K=function(I,k){var a=Date.now(),n=I.split("\n"),s;if(n.length==1)n=I.split("\r");for(var Y=0;Y<n.length;
Y++)if(n[Y].trim()[0]=="#"){n[Y]=""}I=n.join("\n");try{s=acorn.parse(I)}catch(jL){console.log(jL);return}var C=JSON.parse(JSON.stringify(bg.NP.sQ));
C.__return=!1;C.__continue=!1;C.__break=!1;C.__throw=!1;C.__fs={};C.__window={};bg.eval(s,k,C);var T=C.__fs;
if(Object.keys(T).length!=0){var S=UZIP.encode(T);ji.save(S,"output.zip")}};bg.eval=function(I,k,a){var n=I.type;
if(!1){}else if(n=="Program"||n=="BlockStatement"){var s=I.body;for(var Y=0;Y<s.length;Y++){var C=s[Y].type;
if(C=="FunctionDeclaration")a[s[Y].id.name]=s[Y]}for(var Y=0;Y<s.length;Y++){var C=s[Y].type,T=bg.eval(s[Y],k,a);
if(a.__continue&&a.__pif==null){a.__continue=!1;return T}if(a.__return||a.__break||a.__throw)return T}}else if(n=="ReturnStatement"){a.__return=!0;
return I.argument?bg.Rq(I.argument,k,a):null}else if(n=="BreakStatement"){a.__break=!0}else if(n=="ContinueStatement"){a.__continue=!0}else if(n=="VariableDeclaration"){var S=I.declarations;
for(var Y=0;Y<S.length;Y++)bg.eval(S[Y],k,a)}else if(n=="VariableDeclarator"){a[I.id.name]=I.init?bg.Rq(I.init,k,a):null}else if(n=="FunctionDeclaration"){a[I.id.name]=I}else if(n=="MemberExpression"){var D=bg.Rq(I.object,k,a),T;
if(a.__throw)return;var o=I.computed?bg.Rq(I.property,k,a):bg.eval(I.property,k,a);if(D.N!=null)T=bg.NP.QB(D,o,k,a);
else if(D==window&&bg.R7[o]){}else T=D[o];return T}else if(n=="ArrayExpression"){var v=[],g=I.elements;
for(var Y=0;Y<g.length;Y++)v.push(bg.Rq(g[Y],k,a));return v}else if(n=="ObjectExpression"){var v={},g=I.properties;
for(var Y=0;Y<g.length;Y++){var d=g[Y],R=g[Y].key.name?g[Y].key.name:g[Y].key.value;v[R]=bg.Rq(g[Y].value,k,a)}return v}else if(n=="ExpressionStatement"){return bg.eval(I.expression,k,a)}else if(n=="NewExpression"){var c=I.arguments,e=I.callee,O=e.type,U=e.name,K=[],v=null;
for(var Y=0;Y<c.length;Y++)K.push(bg.Rq(c[Y],k,a));if(U=="Array")v=new window[U];else if(O=="Identifier")v=bg.NP.apQ(U,K,k,a);
else throw"e";if(v==null)throw"new "+U;return v}else if(n=="CallExpression"){var c=I.arguments,e=I.callee,O=e.type,_={};
for(var Z in a)_[Z]=a[Z];var K=[];for(var Y=0;Y<c.length;Y++)K.push(bg.Rq(c[Y],k,a));if(O=="Identifier"){var H=e.name,G=a[H];
if(G&&G.N=="AppFunc"){H=G.h2;G=null}if(G){if(G.params){var N=G.params;for(var Y=0;Y<N.length;Y++)_[N[Y].name]=K[Y];
return bg.eval(G.body,k,_)}else{return G.apply(null,K)}}else if(bg.NP.akV.indexOf(H)!=-1)return bg.NP.iJ({N:"Application"},H,K,k,a);
else if(window[H]==null)console.log("Unknown function "+H);else if(bg.R7[H])alert(H+"() not available");
else{var z=window[H].apply(window,K);return z}}else if(O=="MemberExpression"){var D=bg.Rq(e.object,k,a),o=e.computed?bg.Rq(e.property,k,a):bg.eval(e.property,k,a);
if(D==window&&bg.R7[o])return;if(D.N!=null)return bg.NP.iJ(D,o,K,k,a);else if(o=="sort"&&D[0]&&D[0].N=="Layer"){return D.sort(function(B,l){return B.P.getName()>l.P.getName()?1:-1})}else if(o=="toSource")return JSON.stringify(D);
else return D[o].apply(D,K)}else if(O=="FunctionExpression"){return bg.eval(e.body,k,a)}else console.log(I)}else if(n=="AssignmentExpression"){var L=I.operator,p=I.left,V=p.type,r=bg.Rq(p,k,a),y=bg.Rq(I.right,k,a),T=null;
if(!1){}else if(L=="=")T=y;else if(L=="+=")T=r+y;else if(L=="-=")T=r-y;else if(L=="*=")T=r*y;else if(L=="/=")T=r/y;
else if(L=="%=")T=r%y;else if(L=="&=")T=r&y;else if(L=="|=")T=r|y;else if(L=="&&=")T=r&&y;else if(L=="||=")T=r||y;
else console.log(I);if(V=="Identifier"){var W=p.name;if(a.hasOwnProperty(W))a[W]=T;else a.__window[W]=T}else if(V=="MemberExpression"){var m=bg.eval(p.property,k,a),f=bg.Rq(p.object,k,a);
if(f.N!=null)bg.NP.aib(f,m,T,k,a);else f[m]=T}else console.log(I);return T}else if(n=="Identifier")return I.name;
else if(n=="Literal")return I.value;else if(n=="UpdateExpression"){var L=I.operator,h=I.argument.name,v=bg.Rq(I.argument,k,a),b=a;
if(b[h]==null)b=a.__window;if(!1){}else if(L=="++"){b[h]++;return I.prefix?b[h]:b[h]-1}else if(L=="--"){b[h]--;
return I.prefix?b[h]:b[h]+1}else console.log(I)}else if(n=="UnaryExpression"){var L=I.operator,i=bg.Rq(I.argument,k,a);
if(i&&i.N=="UnitValue"){if(L=="-")return-i.P;else return bg.a1r(i.P,L)}else return bg.a1r(i,L)}else if(n=="BinaryExpression"||n=="LogicalExpression"){var L=I.operator,p=bg.Rq(I.left,k,a);
if(n=="LogicalExpression"&&L=="&&"&&!p)return p;var i=bg.Rq(I.right,k,a);if(p==null||i==null)return bg.XZ(p,i,L);
else if(p.N=="UnitValue"&&i.N=="UnitValue")return bg.XZ(p.P,i.P,L);else if(p.N=="UnitValue")return bg.XZ(p.P,i,L);
else if(i.N=="UnitValue"){if(L=="-")return-(p-i.P);else return bg.XZ(p,i.P,L)}else return bg.XZ(p,i,L)}else if(n=="IfStatement"){var w=bg.Rq(I.test,k,a),J=a.__pif,T=null;
a.__pif=!0;if(w)T=bg.eval(I.consequent,k,a);else if(I.alternate)T=bg.eval(I.alternate,k,a);a.__pif=J;
return T}else if(n=="ConditionalExpression"){var w=bg.Rq(I.test,k,a);if(w)return bg.Rq(I.consequent,k,a);
else if(I.alternate)return bg.Rq(I.alternate,k,a)}else if(n=="ForInStatement"){bg.eval(I.left,k,a);var q=I.left.declarations[0].id.name,x=bg.Rq(I.right,k,a);
for(var Z in x){a[q]=Z;var A=bg.eval(I.body,k,a);if(a.__break)break;if(a.__return)return A}a.__break=!1}else if(n=="ForStatement"){bg.eval(I.init,k,a);
while(bg.eval(I.test,k,a)){var A=bg.eval(I.body,k,a);if(a.__break)break;if(a.__return)return A;bg.eval(I.update,k,a)}a.__break=!1}else if(n=="WhileStatement"){while(bg.eval(I.test,k,a)){var A=bg.eval(I.body,k,a);
if(a.__break)break;if(a.__return)return A}a.__break=!1}else if(n=="DoWhileStatement"){do{var A=bg.eval(I.body,k,a);
if(a.__break)break;if(a.__return)return A}while(bg.eval(I.test,k,a));a.__break=!1}else if(n=="TryStatement"){bg.eval(I.block,k,a);
if(a.__throw){var Q=I.handler;a[Q.param.name]=a.__throw;a.__throw=!1;bg.eval(Q.body,k,a);delete a[Q.param.name]}}else if(n=="EmptyStatement"){}else console.log(I)};
bg.XZ=function(I,k,a){if(a=="+")return I+k;else if(a=="-")return I-k;else if(a=="*")return I*k;else if(a=="/")return I/k;
else if(a=="%")return I%k;else if(a=="^")return I^k;else if(a=="&")return I&k;else if(a=="&&")return I&&k;
else if(a=="|")return I|k;else if(a=="||")return I||k;else if(a=="<")return I<k;else if(a==">")return I>k;
else if(a=="=="){if(I!=null&&k!=null&&I.N&&k.N)return I.P==k.P;return I==k}else if(a=="===")return I===k;
else if(a=="<=")return I<=k;else if(a==">=")return I>=k;else if(a=="!=")return I!=k;else if(a=="!==")return I!==k;
else if(a=="<<")return I<<k;else if(a==">>")return I>>k;else console.log(a)};bg.a1r=function(I,k){if(k=="-")return-I;
else if(k=="!")return!I;else if(k=="~")return~I;else if(k=="+")return I;else if(k=="typeof")return typeof I;
else console.log(k,I)};bg.Rq=function(I,k,a){var n=I.type;if(n=="Identifier")return bg.adr(I.name,k,a);
else return bg.eval(I,k,a)};bg.adr=function(I,k,a){if(I=="undefined")return undefined;else if(a.hasOwnProperty(I))return a[I];
else if(I=="app")return{N:"Application"};else if(I=="Folder")return{N:"Folder"};else if(I=="File")return{N:"File"};
else if(I=="$")return{N:"$"};else if(bg.NP.aCW.indexOf(I)!=-1)return bg.NP.QB({N:"Application"},I,k,a);
else if(bg.NP.akV.indexOf(I)!=-1)return{N:"AppFunc",h2:I};else if(a.__window.hasOwnProperty(I))return a.__window[I];
else if(window[I]&&!bg.R7[I])return window[I];else{a[I]=null;return null}};bg.NP={};bg.NP.apQ=function(I,k,a,n){var s;
if(I=="SolidColor")s={N:I,P:[1,0,0,0]};if(I=="RGBColor")s={N:I,P:[1,0,0,0]};if(I=="Window")s={N:I,P:new fz(k[0],k[1],k[2])};
if(I=="ExportOptionsSaveForWeb")s={N:I,P:{Uy:"png",gF:100}};if(I=="PhotoshopSaveOptions")s={N:I,P:{Uy:"psd"}};
if(I=="PNGSaveOptions")s={N:I,P:{Uy:"png",gF:100}};if(I=="JPEGSaveOptions")s={N:I,P:{Uy:"jpg",gF:100}};
if(I=="PDFSaveOptions")s={N:I,P:{Uy:"pdf",a2s:""}};if(I=="File")s={N:I,P:k[0]};if(I=="ActionReference")s={N:I,P:{t:"obj ",v:[]}};
if(I=="ActionDescriptor")s={N:I,P:{t:"Objc",v:{classID:"null"}}};if(I=="ActionList")s={N:I,P:{t:"VlLs",v:[]}};
if(I=="UnitValue")s={N:I,P:k.length==0?0:parseFloat(k[0])};return s};bg.NP.aCW="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor version".split(" ");
bg.NP.akV="charIDToTypeID stringIDToTypeID typeIDToStringID executeAction executeActionGet doAction showWindow UnitValue".split(" ");
bg.NP.QB=function(I,k,a,n){var s=a.Wp,C=a.um();if(!1){}else if(k=="typename"){if(I.N=="Layer")return I.P.hd()?"LayerSet":"ArtLayer";
else return I.N}else if(["Document","Layer"].indexOf(I.N)!=-1&&["layers","artLayers","layerSets"].indexOf(k)!=-1){var T=C;
if(I.N=="Document")T=I.P;else T=I.f_;var S=T.root,D={N:"Layers",anW:k,P:[],f_:T};if(I.N=="Layer")S=T.root.lR(T.R.indexOf(I.P));
if(S.children==null)return null;for(var Y=0;Y<S.children.length;Y++){var o=S.children[Y].o,v=o.hd();
if(v&&k=="artLayers"||!v&&k=="layerSets")continue;D.P.push({N:"Layer",P:o,f_:T})}D.P.reverse();return D}else if(I.N=="Documents"||I.N=="Layers"||I.N=="HistoryStates"||I.N=="LayerComps"){if(!1){}else if(k=="length")return I.P.length;
else if(Number.isInteger(k))return I.P[k];else console.log(I.N+": unknown property ",k)}else if(I.N=="Application"){if(!1){}else if(k=="activeDocument")return{N:"Document",P:a.um()};
else if(k=="documents"){var D={N:"Documents",P:[]};for(var Y=0;Y<a.HU.length;Y++)D.P.push({N:"Document",P:a.HU[Y]});
return D}else if(k=="fonts")return{N:"TextFonts"};else if(k=="preferences")return{N:"Preferences"};else if(k=="displayDialogs")return{N:"DialogModes"};
else if(k=="foregroundColor"||k=="backgroundColor"){var g=k[0]=="f"?s.MW:s.U2;return{N:"SolidColor",P:[1,(g>>>16&255)/255,(g>>>8&255)/255,(g>>>0&255)/255]}}else if(k=="UI")return{N:"UI"};
else if(k=="version")return 30;else console.log(I,k)}else if(I.N=="Document"){var C=I.P;if(!1){}else if(k=="activeLayer"){var o=C.R[C.T[0]];
return{N:"Layer",P:o,f_:C}}else if(k=="pixelAspectRatio")return 1;else if(k=="resolution")return C.oE;
else if(k=="width")return C.Q;else if(k=="height")return C._;else if(k=="name")return C.name;else if(k=="saved")return!C.qg();
else if(k=="selection")return{N:"Selection"};else if(k=="activeHistoryState")return{N:"HistoryState",Gq:C.R3};
else if(k=="source")return C.qe;else if(k=="layerComps"){var d=C._y.list.v,R=[];for(var Y=0;Y<d.length;
Y++)R.push({N:"LayerComp",P:Y});return{N:"LayerComps",P:R}}else if(k=="historyStates"){var c=[];for(var Y=0;
Y<C.history.length;Y++)c.push({N:"HistoryState",Gq:Y});return{N:"HistoryStates",P:c}}else if(k=="mode")return 7;
else if(k=="colorSamplers"){var D={N:"ColorSamplers",anW:k,P:C.wQ.slice(0),f_:C};return D}else console.log(I,k)}else if(I.N=="LayerComp"){if(k=="name")return C._y.list.v[I.P].v.Nm.v;
else throw k}else if(I.N=="ColorSamplers"){if(Number.isInteger(k))return{N:"ColorSampler",P:I.P[k]};
else if(k=="length")return C.wQ.length}else if(I.N=="ColorSampler"){if(k=="color"){var g=E.aY.jx(C,C.w.kF(I.P.x,I.P.y),1,2);
return{N:"SolidColor",P:[1,(g>>>16&255)/255,(g>>>8&255)/255,(g>>>0&255)/255]}}else if(k=="position")return[I.P.x,I.P.y]}else if(I.N=="Layer"){var e={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},o=I.P;
if(!1){}else if(k=="visible")return o.K7();else if(k=="selected")return C.T.indexOf(C.R.indexOf(o))!=-1;
else if(k=="grouped")return o.Pi;else if(e[k]!=null)return o.hY(e[k]);else if(k=="opacity")return o.opacity*100/255;
else if(k=="fillOpacity")return(o.add.iOpa==null?255:o.add.iOpa)*100/255;else if(k=="blendMode")return o.pu;
else if(k=="name")return o.getName();else if(k=="textItem")return{N:"TextItem",P:o};else if(k=="bounds"){var O=E.nF.GT(C,[C.R.indexOf(o)]);
return bg.NP.a5M(O,C)}else if(k=="parent"){var U=a.HU,T;for(var Y=0;Y<U.length;Y++)if(U[Y].R.indexOf(o)!=-1)T=U[Y];
var K=T.root.lR(T.R.indexOf(o)).parent;return K.depth==0?{N:"Document",P:T}:{N:"Layer",P:K.o,f_:T}}else if(k=="kind"){var _=bg.NP.q4;
for(var Y=0;Y<_.length;Y++)if(o.add[_[Y]]!=null)return Y;return 0}else if(k=="isBackgroundLayer")return o.add.lnsr="bgnd";
else if(k=="itemIndex")return C.R.indexOf(o)+1;else console.log(I,k)}else if(I.N=="Selection"){if(!1){}else if(k=="bounds"){if(C.f==null)n.__throw={message:"no selection"};
else return bg.NP.a5M(C.f.rect,C)}else console.log(I,k)}else if(I.N=="TextItem"){var Z=I.P.add.TySh,H=Z.RW,G=f4.iZ(H),N=Z.h.Ha(),z=f4.dm(H,0,0);
if(k=="contents")return G.slice(0,G.length-1).replace(/\n/g,"\r");else if(k=="font")return z.CX.Font!=null?z.JN[z.CX.Font].Name:null;
else if(k=="size")return bg.NP.Tn(z.CX.FontSize*N,C);else if(k=="leading")return bg.NP.Tn(z.CX.Leading*N,C);
else if(k=="tracking")return bg.NP.Tn(z.CX.Tracking);else if(k=="baselineShift")return bg.NP.Tn(z.CX.BaselineShift);
else if(k=="fauxBold")return z.CX.FauxBold;else if(k=="fauxItalic")return z.CX.FauxItalic;else if(k=="kind")return 1-f4.Dd(H);
else if(k=="useAutoLeading")return z.i9.AutoLeading;else if(k=="hyphenation")return z.i9.AutoHyphenate;
else if(k=="justification")return bg.NP.Tn(z.i9.Justification);else if(k=="color")return{N:"SolidColor",P:z.CX.FillColor.Values.slice(0)};
else if(k=="width"||k=="height"){var L=f4.nO(H),p=(L[2]-L[0])*N,V=(L[3]-L[1])*N;return bg.NP.Tn(k=="width"?p:V,C)}else if(k=="position"){var r=Z.h;
return bg.NP.ayf([r.Dw,r.rk],C)}else if(k=="horizontalScale"||k=="verticalScale"){var y=k[0].toUpperCase()+k.slice(1);
return Math.round(z.CX[y]*100)}else if(k=="antiAliasMethod")f4.fV(Z);else if(k=="totalTextStyle"){var D={};
for(var W=0;W<2;W++){var m=["Style","Paragraph"][W],f=H.EngineDict[m+"Run"].RunLengthArray,h=[],b=0;
for(var Y=0;Y<f.length;Y++){var i=f4.dm(H,b,Math.min(b+f[Y],G.length-2));b+=f[Y];h.push(W==0?i.CX:i.i9);
D.fontSet=i.JN}D[m]={runs:f,styles:h}}return JSON.stringify(D)}else if(k=="transform"){var r=Z.h;return JSON.stringify([r.M,r.J,r.mL,r.Jo,r.Dw,r.rk])}else console.log(I,k)}else if(I.N=="Preferences"){if(k=="rulerUnits")return s.M6.NY;
else console.log(I,k)}else if(I.N=="SolidColor"){if(k=="rgb")return{N:"RGBColor",P:I.P};if(k=="cmyk")return{N:"CMYKColor",P:j.MP(I.P.slice(1))};
else console.log(I,k)}else if(I.N=="RGBColor"){var O=Math.round(255*I.P[1]),w=Math.round(255*I.P[2]),J=Math.round(255*I.P[3]);
if(!1){}else if(k=="red")return O;else if(k=="green")return w;else if(k=="blue")return J;else if(k=="hexValue")return"#"+j.pB(O<<16|w<<8|J).toUpperCase();
else console.log(I,k)}else if(I.N=="CMYKColor"){var q=[];for(var Y=0;Y<4;Y++)q.push(Math.round(I.P[Y]*100));
var x=["cyan","magenta","yellow","black"].indexOf(k);if(x!=-1)return q[x];else console.log(I,k)}else if(I.N=="UnitValue"){if(k=="value")return I.P;
else throw"e"}else if(I.N=="ExportOptionsSaveForWeb"){if(k=="format")return I.P.Uy;else if(k=="PNG8"||k=="interlaced")return!1;
else if(k=="quality")return I.P.gF;else if(k=="transparency")return!0;else throw k}else if(I.N=="PNGSaveOptions"||I.N=="JPEGSaveOptions"||I.N=="PDFSaveOptions"){return 0}else if(I.N=="$"){if(k=="localize")return!1;
else if(k=="os")return"Windows";else throw k}else if(I.N=="ActionList"){if(k=="count")return I.P.v.length;
else throw k}else console.log(I,k)};bg.NP.a5M=function(I,k){return bg.NP.ayf([I.x,I.y,I.x+I.Q,I.y+I._],k)};
bg.NP.ayf=function(I,k){var a=[];for(var Y=0;Y<I.length;Y++)a.push(bg.NP.Tn(I[Y],k));return a};bg.NP.$Y=function(I){var k=[];
for(var Y=0;Y<I.length;Y++)k.push(I[Y].N?I[Y].P:I[Y]);return k};bg.NP.Tn=function(I,k){return{N:"UnitValue",P:I}};
bg.NP.afM=function(I,k){if(I.N=="UnitValue")return I.P;return I};bg.NP.aib=function(I,k,a,n,s){var C=new d2(M.E.r,!0),T=new d2(M.E.b,!0),S=n.um(),D=n.Wp;
if(!1){}else if(I.N=="Application"){if(!1){}else if(k=="activeDocument"){T.data={q:M.p.kz,Z9:a.P};n.a(T)}else if(k=="displayDialogs"){}else if(k=="foregroundColor"||k=="backgroundColor"){var o=a.P,v=o[1]*255<<16|o[2]*255<<8|o[3]*255<<0;
T.data={q:M.p.iv,CU:f9.S8,ar:k=="foregroundColor"?0:1,P:v};n.a(T)}else console.log(I,k,a)}else if(I.N=="Document"){var g=I.P;
if(!1){}else if(k=="name"){C.S=E.xf;C.data={q:X.eA,P:a,alH:!0,DR:g};S.cd=!0}else if(k=="source")g.qe=a;
else if(k=="activeLayer"){g.T=[g.R.indexOf(a.P)]}else if(k=="activeHistoryState"){C.S=E.ca;C.data={q:"h_itemchange",index:a.Gq}}else console.log(I,k)}else if(I.N=="Layer"){C.S=E.xf;
var d={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},R=I.P,c=S.R.indexOf(R);
if(!1){}else if(k=="visible"){if(R.K7()!=a)C.data={q:X.Jn,o:c}}else if(k=="opacity"){C.data={q:X.jT,o:c,WM:Math.round(255*a/100)}}else if(k=="fillOpacity"){C.data={q:X.Ik,o:c,WM:Math.round(255*a/100)}}else if(k=="blendMode"){C.data={q:X.zO,o:c,WM:aU._B.indexOf(a)}}else if(k=="name"){C.data={q:X.kg,o:c,name:a}}else if(d[k]!=null){C.data={q:X.gs,o:c,WM:[[a],[d[k]]]}}else if(k=="kind"){C.data={q:X.Mu,o:c,$S:bg.NP.q4[a]}}else if(k=="grouped"){C.data={q:X.oH,o:c,WM:a}}else console.log(I,k,a)}else if(I.N=="TextItem"){C.S=E.N$;
var R=I.P,e=R.add.TySh,O=JSON.parse(JSON.stringify(e.RW)),U=e.h.clone(),K=e.h.Ha(),_=f4.iZ(O),Z=f4.dm(O,0,_.length-2),H=!1;
if(!1){}else if(k=="contents"){f4.Mw(O,0,_.length-1);f4.lL(O,0,a.replace(/\r/g,"\n"))}else if(k=="size"){Z.CX.FontSize=(a.P!=null?a.P:a)/K;
H=!0}else if(k=="leading"){Z.CX.Leading=(a.P!=null?a.P:a)/K;H=!0}else if(k=="tracking"){Z.CX.Tracking=a.P!=null?a.P:a;
H=!0}else if(k=="baselineShift"){Z.CX.BaselineShift=a.P!=null?a.P:a;H=!0}else if(k=="fauxBold"){Z.CX.FauxBold=a;
H=!0}else if(k=="fauxItalic"){Z.CX.FauxItalic=a;H=!0}else if(k=="kind"){var G=f4.Dd(O);if(G==1&&a==1){var N=new d_(O,n.Wp.IE,e.Mz).i9[0],z=N.Mn[0].end,L=N.ZQ[z-1].end;
f4.Mw(O,0,_.length-1);f4.lL(O,0,_.slice(0,L-1))}if(G==a)f4.IC(O,1-a)}else if(k=="useAutoLeading"){Z.i9.AutoLeading=a;
H=!0}else if(k=="hyphenation"){Z.i9.AutoHyphenate=a;H=!0}else if(k=="justification"){Z.i9.Justification=a;
H=!0}else if(k=="font"){f4.YW(Z,a);H=!0}else if(k=="color"){Z.CX.FillColor.Values=a.P.slice(0);H=!0}else if(k=="width"||k=="height"){var p=f4.nO(O).slice(0),V=bg.NP.afM(a);
if(k=="width")p[2]=Math.round(p[0]+V/K);else p[3]=Math.round(p[1]+V/K);f4.s7(O,p)}else if(k=="position"){U.Dw=a[0];
U.rk=a[1]}else if(k=="horizontalScale"||k=="verticalScale"){var r=k[0].toUpperCase()+k.slice(1);Z.CX[r]=a/100;
H=!0}else if(k=="antiAliasMethod")f4.ns(e,a);else console.log(I,k,a);if(H)f4.Xy(O,0,_.length-1,Z);C.data={q:"newED",KV:S.R.indexOf(R),ku:O,h:U}}else if(I.N=="Preferences"){if(!1){}else if(k=="rulerUnits"){var y=JSON.parse(JSON.stringify(D.M6));
y.NY=a;T.data={q:M.p.iv,CU:f9.nt,WM:y};n.a(T)}else console.log(I,k,a)}else if(I.N=="SolidColor"){if(k=="rgb")I.P=a.P;
else throw k}else if(I.N=="RGBColor"){if(!1){}else if(k=="red")I.P[1]=a/255;else if(k=="green")I.P[2]=a/255;
else if(k=="blue")I.P[3]=a/255;else if(k=="hexValue"){var W=j.a6b(a.slice(1));I.P[1]=(W>>>16&255)/255;
I.P[2]=(W>>>8&255)/255;I.P[3]=(W>>>0&255)/255}else console.log(I,k)}else if(I.N=="ExportOptionsSaveForWeb"){if(k=="format")I.P.Uy=a;
else if(k=="PNG8"||k=="transparency"||k=="interlaced"){}else if(k=="quality")I.P.gF=a;else throw k}else if(I.N=="PNGSaveOptions"||I.N=="JPEGSaveOptions"){if(k=="quality")I.P.gF=Math.round(100*a/12)}else if(I.N=="PDFSaveOptions"){if(k=="preset")I.P.a2s=a}else if(I.N=="$"){if(k=="localize"){}}else console.log(I,k,a);
if(C.data!=null)n.a(C)};bg.NP.iJ=function(I,k,a,n,s){var C=I.N,T=null,S=new d2(M.E.r,!0),D=new d2(M.E.rd,!0),o=new d2(M.E.b,!0),v=n.um(),g=n.HU;
if(!1){}else if(C=="Application"){if(!1){}else if(k=="charIDToTypeID"){var d=a[0].trim(),R={slct:"select",Dlt:"delete",Mk:"make",Hd:"hide",Shw:"show",Dplc:"duplicate"};
return R[d]?R[d]:d}else if(k=="stringIDToTypeID"){var c=a[0].trim(),R={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",document:"Dcmn",layer:"Lyr",type:"Type",using:"Usng",targetEnum:"Trgt",ordinal:"Ordn",property:"Prpr"},e=R[c];
return e==null?c:e}else if(k=="typeIDToStringID"){return a[0].trim()}else if(k=="executeAction"){var O;
if(a[1]){O=a[1].P.v;O.classID=a[0]}var U={setd:"set"},K=U[a[0]];if(K==null)K=a[0];var _=fo.ke[a[0]];
if(_&&fo.MC[_])K=fo.MC[_];D.data={pi:K,zf:O}}else if(k=="executeActionGet"){var Z=a[0].P.v,T={};if(Z.length==1){var H=T.classID=Z[0].v.classID;
if(H=="Lyr"){var G=hW.T3(v,Z[0]),N=v.R[G],z=N.add.SoLd,L=N.add.SoCo;if(z)T.smartObjectMore={t:"Objc",v:{transform:z.nonAffineTransform}};
if(L)T.adjustment={t:"VlLs",v:[{t:"Objc",v:JSON.parse(JSON.stringify(L))}]}}return{N:"ActionDescriptor",P:{t:"null",v:T}}}if(Z.length==2){var H=T.classID=Z[1].v.classID,c=Z[0].v.keyID;
if(H=="Dcmn"){var p=v;if(c=="numberOfLayers")T[c]={t:"long",v:p.R.length};else throw c}else if(H=="Lyr"){var G=hW.T3(v,Z[1]),N=v.R[G],V=N.add.TySh;
if(c=="textKey"){if(V){var r=V.RW.EngineDict.StyleRun.RunArray,y=V.RW.ResourceDict.FontSet,W=[];for(var Y=0;
Y<r.length;Y++){var m=r[Y].StyleSheet.StyleSheetData,f=y[m.Font].Name,h=n.Wp.IE.B3(f);if(h&&h.name.postScriptName!=f)h=null;
W.push({t:"null",v:{textStyle:{t:"null",v:{fontAvailable:{t:"bool",v:h!=null},fontPostScriptName:{t:"TEXT",v:f}}}}})}T[c]={t:c,v:{textStyleRange:{t:"obj ",v:W}}}}}else throw c}else if(H=="ASet"){var b=n.Wp.Jb,i=T.classID=Z[0].v.classID;
if(i=="Actn"){T.NmbC={t:"long",v:hW.il(b,Z[0].v.val,Z[1].v.val).PJ.length}}else throw i}else throw H;
return{N:"ActionDescriptor",P:{t:"null",v:T}}}}else if(k=="doAction"){o.data={q:M.p.cb,ri:[a[0],a[1]]}}else if(k=="bringToFront"){}else if(k=="open"){o.data={q:M.p._C,CU:{url:a[0]}};
if(a[2]&&g.length!=0)o.data.CU.if=g.indexOf(v)}else if(k=="echoToOE"){o.data={q:M.p.Wq,CU:a[0]}}else if(k=="showWindow"){o.data={q:M.p.Fu,aw:a[0]}}else if(k=="UnitValue"){return a[0]+" "+a[1]}else console.log(k)}else if(C=="LayerComp"){if(k=="apply"){S.S=E.bI;
S.data={q:"setLC",Gq:v._y.list.v[I.P].v.compID.v}}else throw k}else if(C=="Document"){var v=I.P;if(!1){}else if(k=="crop"){var w=a[0];
D.data=E.Zo.ayM([w[0],w[1],w[2]-w[0],w[3]-w[1]])}else if(k=="trim"){var J=[];for(var Y=0;Y<4;Y++)J.push(a[Y+1]!=null?a[Y+1]:!0);
D.data=E.Zo.ec(a[0]!=null?a[0]:0,J)}else if(k=="suspendHistory"){var q=acorn.parse(a[1]);bg.eval(q,n,s)}else if(k=="save"){o.data={q:M.p.Vd}}else if(k=="saveToOE"){o.data={q:M.p.Vd,Cc:a}}else if(k=="rotateCanvas"){D.data=E.nF.fU(!0,a[0])}else if(k=="resizeImage"||k=="resizeCanvas"){var x=a[0],A=a[1];
if(x!=null){if(typeof x!="number"){x=v.Q*parseFloat(x.slice(0,x.length-1))/100;A=v._*parseFloat(A.slice(0,A.length-1))/100}x=Math.round(x);
A=Math.round(A)}if(k=="resizeCanvas")D.data=E.Zo.a3V(x,A,a[2]);else D.data=E.Zo.lJ(x,A,a[2],x!=null?1:null)}else if(k=="paste"){o.data={q:M.p.ZJ,abR:a.length!=0&&a[0],jb:!0};
n.a(o);o.data=null;return{N:"Layer",P:v.R[v.T[0]],f_:v}}else if(k=="close"){o.data={q:M.p.kZ,Yx:v}}else if(k=="exportDocument"||k=="saveAs"){var Q=s.__fs,B=k=="exportDocument"?a[2].P:a[1].P,l=a[0].P.replace(":","").replace("~/","");
if(!l.toLowerCase().endsWith("."+B.Uy))l+="."+B.Uy;var P=kk.gj(v,B.Uy,null,null,B.Uy=="pdf"?null:[B.gF],n.Wp);
Q[l]=new Uint8Array(P)}else if(k=="flatten"){D.data={pi:"flattenImage"}}else if(k=="clearHistory"){S.S=E.ca;
S.data={q:"h_clear",force:!0}}else console.log(I,k,a)}else if(C=="Layer"){var F=I.P,G=v.R.indexOf(F);
if(!1){}else if(k=="copy"){bg.NP.xL(v,n,0);o.data={q:M.p.eM,JR:a[0],dQ:G,jb:!0};n.a(o);delete o.data;
bg.NP.xL(v,n,1)}else if(k=="clear"){bg.NP.xL(v,n,0);D.data={pi:"delete"};n.a(D);delete D.data;bg.NP.xL(v,n,1)}else if(k=="autoLevels"||k=="autoContrast"){if(k=="autoContrast")D.data={pi:"levels",zf:{classID:"Lvls",Auto:{t:"bool",v:!0}}};
else D.data={pi:"levels",zf:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}}else if(k=="duplicate"){if(a.length==0){var t=v.T.slice(0);
S.data={q:X.T0,o:G};S.S=E.xf;n.a(S);S.data=null;T={N:"Layer",P:v.R[v.T[0]],f_:I.f_};v.T=t}else if(a[0].N=="Document"){S.data={q:X.Qr,R:v.hu(G),DJ:v,aR:a[0].P};
S.S=E.xf}if(S.data){n.a(S);S.data=null;return{N:"Layer",P:v.R[v.T[0]],f_:v}}}else if(k=="merge"||k=="remove"){S.data={q:k=="merge"?X.Zg:X.Va,o:G};
S.S=E.xf;if(k!="remove")T={N:"Layer",P:v.R[v.T[0]],f_:I.f_}}else if(k=="move"){var b$=v.R.indexOf(a[0].P);
if(b$==G+1&&a[1]==4)return;if(b$==G-1&&a[1]==3)return;S.data={q:X._k,source:G,target:b$,p1:a[1]!=3?.6:.3};
S.S=E.xf}else if(k=="rasterize"){S.S=E.xf;S.data={q:X.t1,o:G};n.a(S);S.data=null;I.P=v.R[G]}else if(k=="rotate"){S.data={q:"rot",xn:[2,5],P:-a[0]*Math.PI/180,GJ:a[1],o:G};
S.S=E.Yo}else if(k=="resize"){S.data={q:"scl",xn:[2,4],P:new kK(a[0]/100,a[1]/100),GJ:a[2],o:G};S.S=E.Yo}else if(k=="translate"){var hd=bg.NP.$Y(a);
S.data={q:"trsl",o:G,YM:hd[0],qG:hd[1]};S.S=E.Mt}else if(k=="link"){S.data={q:X.w2,ai5:[G,v.R.indexOf(a[0].P)]};
S.S=E.xf}else if(k=="invert"){S.S=E.N1;S.data={q:"start",g5:"nvrt"}}else if(k=="desaturate"){D.data={pi:"desaturate"}}else if(k.startsWith("apply")&&gJ.xz[k.slice(5)]||k.startsWith("adjust")&&gJ.xz[k.slice(6)]||k=="mixChannels"){var di=k.startsWith("apply"),hd=bg.NP.$Y(a),hD=k=="mixChannels"?"mixr":gJ.xz[k.slice(di?5:6)];
if(hD=="Dspl"){for(var Y=0;Y<v.R.length;Y++)if(v.R[Y].getName()==hd[4]){hd[4]=v.R[Y].add.SoLd.Idnt.v;
break}}D.data={pi:di?gJ.MC[hD]:fo.MC[hD]};var O=gJ.nI(hD),t=v.T;v.T=[G];if(O){if(hD=="mixr"){var a$=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
for(var Y=0;Y<3;Y++){var eJ=hd[0][Y],hY=Y*5;a$[hY+0]=eJ[0];a$[hY+1]=eJ[1];a$[hY+2]=eJ[2];a$[hY+4]=eJ[3]}O=fo.qE({P:a$,mC:hd[1]})}else gJ.P7["g"+hD](O,hd);
D.data.zf=O}n.a(D);D.data=null;v.T=t}else if(k=="applyStyle"){var ik=n.Wp.JP,m=null;for(var Y=0;Y<ik.length;
Y++)if(ik[Y].Nu.Nm.v.split("/").pop()==a[0])m=ik[Y];if(m==null){alert("Style not found!");return}S.S=E.rV;
S.data={q:"setstl",P:m.ov,o:G};n.a(S);S.data={q:"confirm",o:G}}else console.log(I,k,a)}else if(C=="Documents"){if(k=="getByName"){for(var Y=0;
Y<g.length;Y++)if(g[Y].name==a[0])return{N:"Document",P:g[Y]};return null}else if(k=="add"){if(a.length==0)a=[100,100,72,"New Project"];
var fw=a[5];if(fw==null)fw=1;D.data=iJ.Dv(a[0],a[1],a[2],a[3],["Wht","Trns","BckC"][fw],!1);n.a(D);D.data=null;
return{N:"Document",P:n.um()}}else throw"e"}else if(C=="Layers"){if(k=="getByName"){for(var Y=0;Y<I.P.length;
Y++)if(I.P[Y].P.getName()==a[0]){T=I.P[Y];break}if(T==null)s.__throw={message:"No layer with a name "+a[0]}}else if(k=="add"){S.data={q:I.anW=="layerSets"?X.ce:X.mT};
S.S=E.xf;n.a(S);S.data=null;T={N:"Layer",P:v.R[v.T[0]],f_:I.f_}}else console.log(I,k,a)}else if(I.N=="Selection"){if(k=="select"){var jb=a[0],cd=[];
for(var Y=0;Y<jb.length;Y++)cd.push(jb[Y][0],jb[Y][1]);D.data=E.BN.vL(bg.NP.$Y(cd),a[1])}else if(k=="clear"){D.data={pi:"delete"}}else if(k=="selectAll"){D.data=E.BN.dS(!0)}else if(k=="invert"){D.data={pi:"inverse"}}else if(k=="copy"){o.data={q:M.p.eM,JR:a[0],jb:!0}}else if(k=="deselect"){D.data=E.BN.dS()}else if(k=="fill"){var kc=a[0].P;
kc=j.G.pI({$:kc[1]*255,H:kc[2]*255,J:kc[3]*255});D.data=E.dX.HO("Clr",a[1],a[2]==null?1:a[2]/100,kc)}else if(k=="grow"||k=="similar"){var O={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}};
if(a[0]!=null)O.Tlrn={t:"long",v:a[0]};D.data={pi:k,zf:O}}else if(k=="expand"||k=="contract"||k=="feather"){D.data=E.BN.VV(k,a[0],!0)}else if(k=="translate"){var O={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Pxl",val:a[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:a[1]}}}}};
D.data={pi:"move",zf:O}}else if(k=="smooth"){D.data=E.BN.VV("smoothness",a[0],!1)}else if(k=="stroke"){var m=JSON.parse(fY.iH[1]),ck=m.Clr.v,kc=a[0].P;
ck.Rd.v=kc[1]*255;ck.Grn.v=kc[2]*255;ck.Bl.v=kc[3]*255;m.Sz.v.val=a[1];m.Styl.v.FStl=fY.stroke.types[a[2]];
console.log(m,a);S.S=E.vV;S.data={q:"stroke",azm:m}}else console.log(I,k,a)}else if(I.N=="Window"){if(k=="show"){o.data={q:M.p.Fu,aw:I.P}}else throw"e"}else if(I.N=="ActionReference"){if(k=="putProperty"){I.P.v.push({t:"prop",v:{classID:a[0],keyID:a[1]}})}else if(k=="putClass"){I.P.v.push({t:"Clss",v:{classID:a[0]}})}else if(k=="putEnumerated"){I.P.v.push({t:"Enmr",v:{classID:a[0],typeID:a[1],enum:a[2]}})}else if(k=="putName"){I.P.v.push({t:"name",v:{classID:a[0],val:a[1]}})}else if(k=="putIndex"){I.P.v.push({t:"indx",v:{classID:a[0],val:a[1]}})}else console.log(k,a)}else if(I.N=="ActionDescriptor"||I.N=="ActionList"){var b3=I.N=="ActionList";
if(k.startsWith("put")){var hL=b3?a:a.slice(1),e=null;if(k=="putReference"){e=hL[0].P}else if(k=="putObject"){e=hL[1].P;
e.v.classID=hL[0]}else if(k=="putList"){e=hL[0].P}else if(k=="putDouble"){e={t:"doub",v:hL[0]}}else if(k=="putUnitDouble"){e={t:"UntF",v:{type:hL[0],val:hL[1]}}}else if(k=="putBoolean"){e={t:"bool",v:hL[0]}}else if(k=="putInteger"){e={t:"long",v:hL[0]}}else if(k=="putString"){e={t:"TEXT",v:hL[0]}}else if(k=="putClass"){e={t:"type",v:{classID:hL[0]}}}else if(k=="putEnumerated"){var jF=a[0].split("+");
if(jF.length==2&&a[1]==null){a[0]=jF[0];a[1]=hL[0]=jF[1]}var hY={};hY[hL[0]]=hL[1];e={t:"enum",v:hY}}else throw k;
if(b3)I.P.v.push(e);else I.P.v[a[0]]=e}else if(k=="hasKey"){return I.P.v[a[0]]!=null}else if(k=="getEnumerationValue"){if(a[0]=="layerSection")T="layerSectionContent";
else console.log(a)}else if(k=="getBoolean"){T=I.P.v[a[0]].v}else if(k=="getString"){T=I.P.v[a[0]].v}else if(k=="getObjectValue"){var T=I.P.v[a[0]];
return{N:"ActionDescriptor",P:T}}else if(k=="getList"){var T=I.P.v[a[0]];return{N:"ActionList",P:T}}else if(k=="getInteger"||k=="getDouble"){return I.P.v[a[0]].v}else console.log(k,a)}else if(I.N=="$"){if(k=="writeln"){console.log(a[0])}else throw k}else if(I.N=="UI"){if(k=="scroll"||k=="scrollTo"){var kB=a[0],jw=a[1],iT=v.w.F;
if(k=="scrollTo"){kB=(-v.Q/2+kB)*iT+v.w.i.x;jw=(-v._/2+jw)*iT+v.w.i.y}S.S=E._F;S.data={q:"scroll",P8:new kK(Math.round(kB),Math.round(jw))}}else{var gY;
if(k=="zoomIn"||k=="zoomOut"){gY={q:"zoom",KJ:k=="zoomIn"}}else if(k=="fitTheArea"){gY={q:"adapt",P:"fitscr"}}else if(k=="pixelToPixel"){gY={q:"adapt",P:"pixel"}}S.S=E.VX;
S.data=gY;if(k=="switchFullscreen"){var aL=n.Wp.bn,dw=document.fullscreenElement!=null==(aL==2);o.data={q:M.p.yi,P:aL==0?2:0,mn:dw}}}}else if(I.N=="ColorSamplers"){if(k=="removeAll")v.wQ=[];
else if(k=="add"){var ka={x:a[0][0],y:a[0][1]};v.wQ.push(ka);var T={N:"ColorSampler",P:ka}}}else if(I.N=="ColorSampler"){if(k=="move"){var cy=v.wQ.indexOf(I.P);
ka=v.wQ[cy];ka.x=a[0][0];ka.y=a[0][1]}else if(k=="remove"){var cy=v.wQ.indexOf(I.P);v.wQ.splice(cy,1)}}else if(I.N=="Folder"){if(k=="selectDialog")T="img";
else throw k}else if(I.N=="File"){if(k=="openDialog")alert("A website can not show the Open dialog from a script");
else throw k}else console.log(I,k,a);if(S.data)n.a(S);if(D.data)n.a(D);if(o.data)n.a(o);return T};bg.NP.xL=function(I,k,a){var n=new d2(M.E.r,!0);
n.S=E.FQ;var s=new d2(M.E.rd,!0);if(a==0){bg.NP.aAr=I.f;s.data=E.BN.dS(!0)}else{var C=bg.NP.aAr;if(C)n.data={q:"setsel",xn:"Restore Selection",f:{rect:C.rect.clone(),channel:C.channel.slice(0)}};
else s.data=E.BN.dS()}k.a(n.data?n:s)};bg.NP.aAr=null;bg.NP.sQ={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},NewDocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},BitsPerChannelType:{ONE:0,EIGHT:1,SIXTEEN:2,THIRTYTWO:3},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},WaveType:{SINE:0,TRIANGULAR:1,SQUARE:2},UndefinedAreas:{WRAPAROUND:0,REPEATEDGEPIXELS:1},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4},Extension:{LOWERCASE:0,NONE:1,UPPERCASE:2},RasterizeType:{ENTIRELAYER:0,FILLCONTENT:1,LAYERCLIPPINGPATH:2,LINKEDLAYERS:3,SHAPE:4,TEXTCONTENTS:5},DisplacementMapType:{STRETCHTOFIT:0,TILE:1},StrokeLocation:{INSIDE:0,CENTER:1,OUTSIDE:2},SelectionType:{REPLACE:0,EXTEND:1,DIMINISH:2,INTERSECT:3},ResampleMethod:{AUTOMATIC:0,BICUBIC:1,BICUBICAUTOMATIC:2,BICUBICSHARPER:3,BICUBICSMOOTHER:4,BILINEAR:5,NEARESTNEIGHBOR:6,NONE:7,PRESERVEDETAILS:8}};
bg.NP.sQ.ColorBlendMode=bg.NP.sQ.BlendMode;bg.NP.q4="---- SoLd TySh SoCo GdFl PtFl".split(" ");function ei(){}ei.Ct={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
ei.mX={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
ei.a7K=function(I,k){if(k==null)k={};var a=ei.mX,n=[],s=[],C="";for(var Y=0;Y<I.length;Y++){var T=I[Y],S=a[T[0]+""];
if(S&&k[S]==null)k[S]=T[1];else if(T[0]==12)s.push(T[1]);else if(T[0]==25)n.push(T[1]);else if(T[0]==55)C=T[1];
else if(T[0]==60)C+=";"+T[1]}if(C!=""&&k["exif:DateTimeOriginal"]==null)k["exif:DateTimeOriginal"]=C;
if(s.length!=0&&k["Iptc4xmpCore:SubjectCode"]==null)k["Iptc4xmpCore:SubjectCode"]=s.join(";");if(n.length!=0&&k["dc:Keywords"]==null)k["dc:Keywords"]=n.join(";");
return k};ei.ahP=function(I){var k=ei.mX,a=[];for(var n in k)if(I[k[n]])a.push([parseInt(n),I[k[n]]]);
if(I["Iptc4xmpCore:SubjectCode"]){var s=I["Iptc4xmpCore:SubjectCode"].split(";");for(var Y=0;Y<s.length;
Y++)a.push([12,s[Y].trim()])}if(I["dc:Keywords"]){var s=I["dc:Keywords"].split(";");for(var Y=0;Y<s.length;
Y++)a.push([25,s[Y].trim()])}a.sort(function(C,T){return C[0]-T[0]});return a};ei.rK=function(I,k){if(k==null)k={};
var a=new DOMParser,n=a.parseFromString(I,"image/svg+xml"),s=n.getElementsByTagName("rdf:Description")[0];
if(s==null)return k;var C=ei.Ct;for(var T in C){var S=C[T][2];if(S==null)continue;var D=s.getElementsByTagName(S)[0];
if(D==null)continue;var o=D.getElementsByTagName("rdf:li"),v=[];for(var Y=0;Y<o.length;Y++)v.push(o[Y].textContent);
k[T]=v.join("; ")}return k};ei.UB=function(I){var k=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],a=ei.Ct;
for(var n in a){var s=I[n],C=a[n][2],T="Seq",S="";if(s==null||C==null)continue;if(C=="dc:title"||C=="dc:description"){T="Alt";
S=" xml:lang=\"x-default\""}if(C=="dc:subject")T="Bag";k.push("\t<"+C+"><rdf:"+T+">");var D=C=="dc:subject"?s.split(";").join(",").split(","):[s];
for(var Y=0;Y<D.length;Y++)k.push("\t\t<rdf:li"+S+">"+D[Y].trim()+"</rdf:li>");k.push("\t</rdf:"+T+"></"+C+">")}k.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");
return k.join("\n")};ei.ape=function(I){var k=[];for(var Y=0;Y<I.length;Y++)k[Y]=I[Y][1]==0?0:I[Y][0]/I[Y][1];
return k};ei.ah2=function(I){var k=[];for(var Y=0;Y<I.length;Y++){var a=I[Y],n=1;if(a!=Math.round(a)){n=1e3;
a=Math.round(a*n)}k[Y]=[a,n]}return k};ei.oD=function(I,k){var a=ei.Ct;if(k==null)k={};for(var n in a){var s=a[n][1],C="t"+s;
if(s!=null&&I[C]!=null){var T=I[C];if(s==0)T=T.join(".");else if(s==2||s==4){var S=I["t"+(s-1)];if(S==null)S=[s==2?"N":"E"];
T=ei.ape(T).join(",")+S[0]}else if(s==42034)T=ei.ape(T).join(" ");else if(s==270||s==315){var D=T[0],o=new Uint8Array(D.length);
u.ei(o,0,D);T=u.Im(o)}else T=T[0];k[n]=T}}if(I.exifIFD)ei.oD(I.exifIFD,k);if(I.gpsiIFD)ei.oD(I.gpsiIFD,k);
return k};ei.go=function(I,k,a){var n=ei.Ct,C=0,S=0;if(k==null)k={};var s={},T={};for(var D in n){if(I[D]==null||n[D][1]==null)continue;
var o=n[D][1],v="t"+o,g=k;if(D.startsWith("exif:")){g=s;C++;if(D.startsWith("exif:GPS")){g=T;S++}}var d=I[D];
if(o==0)d=new Uint8Array(d.split(".").map(parseFloat));else if(o==2||o==4){var R=d.length;g["t"+(o-1)]=[d.slice(d.length-1)];
d=ei.ah2(d.split(",").map(parseFloat))}else if(o==42034)d=ei.ah2(d.split(" ").map(parseFloat));else if(o==270||o==315){var c=u.ba(d);
d=[u.x8(c,0,c.length)]}else d=[d];g[v]=d}if(C!=0){k.exifIFD=s;k.t34665=[0]}if(S!=0){k.gpsiIFD=T;k.t34853=[0]}var e=new Date,O=[e.getFullYear(),e.getMonth()+1,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()];
for(var Y=0;Y<6;Y++)O[Y]=(O[Y]+"").padStart(2,"0");k.t305=["Photopea Editor (www.photopea.com)"];if(a!=!0)k.t306=[O[0]+":"+O[1]+":"+O[2]+" "+O[3]+":"+O[4]+":"+O[5]];
return k};function ew(){}ew.SF=function(I){var k={a3r:",",gS:"\r\n",qU:"\""},a=[[""]],n,s,C,T,S;for(n=s=C=T=0;
C<I.length;C++){switch(S=I.charAt(C)){case k.qU:if(T&&I.charAt(C+1)==k.qU){a[n][s]+=k.qU;++C}else{T^=1}break;
case k.a3r:if(!T){a[n][++s]=""}else{a[n][s]+=S}break;case k.gS.charAt(0):if(!T&&(!k.gS.charAt(1)||k.gS.charAt(1)&&k.gS.charAt(1)==I.charAt(C+1))){a[++n]=[""];
a[n][s=0]="";if(k.gS.charAt(1)){++C}}else{a[n][s]+=S}break;default:a[n][s]+=S}}if(a[a.length-1].length<a[0].length)a.pop();
return a};var $={};$.ajF=0;$.Qa=function(){$.ajF++;return $.ajF};$.a8D="uint8";$.TC=function(I){I.Z.style.transition="opacity 0.1s ease-out, transform 0.1s ease-out";
I.Z.style.opacity="1";I.Z.style.transform="scale(1)"};$.H0=function(I,k){I.Z.style.opacity="0";I.Z.style.transform="scale(0.95)";
if(k)setTimeout(function(){k.removeChild(I.Z)},100)};$.axz=function(){var I=$.VI();if(I=="")return 0;
if(I!=$.Iy("_TXZRPB;d7@;")&&I!=dz.Iy("eQLZRRM?8a4=8")){var k=$.EV[dz.ly][dz.cS],a=k.indexOf(String.fromCharCode(35)),n;
if(a==-1)return 0;try{n=JSON.parse($.EV[dz.arH](k.slice(a+1)))}catch(jL){return 0}var s=n[$.Iy("bQ[ODL<E<M")];
if(s==null||s.length<<2!=64)return 0;var C=dz.Hd(),T=parseInt(s.slice(3*4).split("").reverse().join(""),16)<<16;
if(T<C||s!=dz.a2h(T,I))return 0;return 2}return 1};$.VI=function(){var I=$.EV[$.R8("}$z{2*35")][$.Iy("W[\\ZQAJ?")],k=String.fromCharCode(46),a=I.split(k);
if(a.length<2)return"";var n=a.pop();n=a.pop()+k+n;return n};$.t3=function(I){if(I!=null){var k=$.EV[dz.ly][dz.cS],a=k.indexOf("#");
if(a!=-1&&a!=k.length-1&&(k[a+1]=="%"||k[a+1]=="{")){var n=k.substring(a+1,k.length);n=JSON.parse($.EV[dz.abW](n));
var s=n[dz.Iy("P\\RY")];if(s)if(I==0&&s[dz.Iy("aYKM")]||I==1&&s[dz.Iy("SQcMR")])return!0}}return $.VI()==dz.Iy("_TXZRPB;d7@;")||$.VI()==dz.Iy("~yy")};
$.acU=function(){if($.EV[dz.aeD][dz.a5N]){var I=new $.EV[dz.akG];I[dz.HC](dz.a6c,$.Iy("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+$.VI());
I[dz.Fn]()}};$.RI=function(){if(window.top!=window.self)return!1;var I=navigator.userAgent.toLowerCase();
if(I.indexOf("safari")!=-1&&I.indexOf("chrome")==-1)return!1;return window.ClipboardItem!=null};$.uw=function(I){this.sN=I;
this.LF=$.I("img");this.vX=$.I("canvas");this.VQ=null;this.Vc="";this.fN=null;this.eU=new kK(0,0);this.Gu=!0;
$.YU(this.sN,this.Db.bind(this))};$.uw.prototype.tc=function(I,k){this.VQ=I;if(k)this.Vc=k;this.Db()};
$.uw.prototype.wl=function(I){this.Gu=I;this.Db()};$.uw.prototype.Db=function(I){if(I)this.eU=$.Ea(I,this.sN);
var k=this.Gu?this.VQ:"auto",a=typeof k=="string";if(!a){var n=$.Y(),s=this.eU,C=k.Sq.Q,T=k.Sq._,S=typeof k.eY=="string",D=S?this.LF:this.vX;
if(S)D.setAttribute("src",k.eY);else{D.width=C;D.height=T;var o=D.getContext("2d"),v=new ImageData(new Uint8ClampedArray(k.eY.buffer),C,T);
o.putImageData(v,0,0)}D.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(s.y-k.gk.y/n)+"px; left:"+(s.x-k.gk.x/n)+"px; width:"+C/n+"px; height:"+T/n+"px");
var g=this.fN;if(g==null||g!=D){if(g)this.sN.removeChild(g);this.sN.appendChild(D);this.fN=D}}else if(this.fN){this.sN.removeChild(this.fN);
this.fN=null}this.sN.setAttribute("style","cursor:"+(a?k:"none")+"; "+this.Vc)};$.Pd=function(I){return I.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
$.Ir=function(I,k){I.jO(hJ.get([12,41]).charAt(0)+":");k.jO(hJ.get([12,42]).charAt(0)+":")};$.I=function(I,k){var a=document.createElement(I);
if(k!=null)a.className=k;return a};$.GD=function(I){while(I.firstChild)I.removeChild(I.firstChild)};
$.fO=function(I,k){var a=I.className;a=a.split(" ");if(a.indexOf(k)==-1)a.push(k);I.className=a.join(" ")};
$.St=function(I,k){var a=I.className;if(a=="")return;a=a.split(" ");if(a.indexOf(k)!=-1)a.splice(a.indexOf(k),1);
I.className=a.join(" ")};$.TU=function(I){while(!0){if(I==document)return!0;if(I==null)return!1;I=I.parentNode}};
$.FI=function(I){I.appendChild($.I("br"))};$.Se=function(I){I.appendChild($.I("hr"))};$.ZI=function(I,k,a){var n=new iP([1,12,1],a==null?!0:a,null,!0);
if(I)n.O("click",I.ZR,I);if(k)k.appendChild(n.Z);return n};$.EV=document;$.Vl=function(I){var k=0;for(var Y=0;
Y<I;Y++)k+=Math.random();return k/I<Math.PI/4};$.Iy=function(I){var k="";if(!$.Vl(28))I+="-3";for(var Y=0;
Y<I.length;Y++){var a=I.charCodeAt(Y);if(a<32||126<a)throw"e";k+=String.fromCharCode(32+(a-32+17+3*Y)%95)}return k};
$.R8=function(I){var k="";if(!$.Vl(28))I+="-1";for(var Y=0;Y<I.length;Y++){var a=I.charCodeAt(Y);a-=32;
a+=95e4;a-=17+3*Y;a=a%95;k+=String.fromCharCode(32+a)}return k};$.Wl=function(I){var k=Math.random();
$.a8D="uint"+(3+k);return new I};(function(){var I=window.PointerEvent,k=I?"pointer":"mouse",a=k+"down",n=k+"move",s=k+"up",C=!1;
$.Ar=function(T,S){T.addEventListener(a,S,C);if(!I)T.addEventListener("touchstart",S,C)};$.YU=function(T,S){T.addEventListener(n,S,C);
if(!I)T.addEventListener("touchmove",S,C)};$.hf=function(T,S){T.addEventListener(s,S,C);if(!I)T.addEventListener("touchend",S,C)};
$.at4=function(T,S){T.removeEventListener(a,S,C);if(!I)T.removeEventListener("touchstart",S,C)};$.qD=function(T,S){T.removeEventListener(n,S,C);
if(!I)T.removeEventListener("touchmove",S,C)};$.Yf=function(T,S){T.removeEventListener(s,S,C);if(!I)T.removeEventListener("touchend",S,C)}}());
$.$j=function(I){I.addEventListener("touchstart",$.V$,!1);I.addEventListener("touchmove",$.V$,!1);I.addEventListener("touchend",$.V$,!1);
I.addEventListener("gesturestart",$.V$,!1);I.addEventListener("gesturechange",$.V$,!1);I.addEventListener("gestureend",$.V$,!1)};
$.adZ=function(I){var k=I.sourceCapabilities;if(k)return k.firesTouchEvents;return!1};$.hI=function(I,k,a,n){var s=$.Y();
I.width=Math.floor(k*s);I.height=Math.floor(a*s);if(n)n.scale(s,s);$.ZX(I)};$.ZX=function(I){var k=$.Y();
I.style.width=I.width/k+"px";I.style.height=I.height/k+"px"};$.Kf=function(I,k,a){I.setAttribute("style","width:"+k/$.Y()+"px; height:"+a/$.Y()+"px")};
$.Ea=function(I,k){if(k==null)k=I.currentTarget;var a=k.getBoundingClientRect();if(I.touches)I=I.touches.item(0);
return{x:I.clientX-a.left,y:I.clientY-a.top}};$.Y=function(){return window.devicePixelRatio||1};$.bw=function(I){I.addEventListener("keydown",$.a7Q,!1)};
$.a7Q=function(I){I.stopPropagation()};$.V$=function(I){I.preventDefault()};$.dR=function(I){I.stopPropagation();
I.preventDefault()};$.z5=function(I,k,a){a=a?a:"";if(PIMG["__"+I]==null)a+=" gsicon";return"<img src=\""+PIMG[I]+"\" alt=\""+(k?k:"")+"\" class=\""+a+"\" />"};
$.bR=function(I,k,a,n){var s=I.dataTransfer.getData("text/uri-list");if(s!=null&&s.startsWith("http")){var C=new d2(M.E.b,!0);
C.data={q:M.p._C,CU:{url:s,T_:!0,if:a,Vt:n}};k.a(C)}if(I.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var T=[],S=I.dataTransfer.items.length,D=I.dataTransfer.files;
for(var o of I.dataTransfer.items)o.getAsFileSystemHandle().then(function(v){T.push(v);if(T.length==S){var C=new d2(M.E.b,!0);
C.data={q:M.p.Gj,data:D,if:a,Vt:n,aDH:T};k.a(C)}})}else{var C=new d2(M.E.b,!0);C.data={q:M.p.Gj,data:I.dataTransfer.files,if:a,Vt:n};
k.a(C)}};if($.Vl(27))$.EV=window;else $.EV=$.ahq;$.EV._cwY=$.EV[$.R8("t$&!'31")];var kn={};kn.aba=function(Y){var I=kn.ZW[Y],k=document.documentElement.style,n=1;
k.setProperty("--base","#"+j.pB(I["--base"]));k.setProperty("--bg-panel","#"+j.pB(I["--bg-panel"]));
k.setProperty("--bg-canvas","#"+j.pB(I["--bg-canvas"]));k.setProperty("--bg-input","#"+j.pB(I["--bg-input"]));
k.setProperty("--bg-bbtn","#"+j.pB(I["--bg-bbtn"]));k.setProperty("--bg-bbtnOver","#"+j.pB(I["--bg-bbtnOver"]));
k.setProperty("--brdr","#"+j.pB(I["--brdr"]));k.setProperty("--text-color","#"+j.pB(I["--text-color"]));
k.setProperty("--brdrLgt","rgba(255,255,255,"+I["--brdrLgt"]+")");k.setProperty("--brdrDrk","rgba(  0,  0,  0,"+I["--brdrDrk"]+")");
k.setProperty("--alphaDark",""+I["--alphaDark"]);k.setProperty("--gs-invert",""+I["--gs-invert"]);k.setProperty("--accent","#"+j.pB(I["--accent"]));
var a=I["--sh-clr"];k.setProperty("--sh-clr","rgba("+(a>>16)+","+(a>>8&255)+","+(a&255)+", 0.45)");k.setProperty("--absc",""+I["--absc"]);
k.setProperty("--abs255",""+I["--abs255"]);if(1<$.Y()&&$.Y()<1.5)n=1/$.Y();k.setProperty("--img20",20*n+"px");
k.setProperty("--img18",18*n+"px");k.setProperty("--img15",15*n+"px");if(PIMG!=null){var s="lrs/eye lrs/square lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var Y=0;Y<s.length;Y++){var C=s[Y],T=C.split("/").pop(),S=PIMG["__"+C]==null?I["--gs-invert"]:"0";
k.setProperty("--icon_"+T,"url("+PIMG[C]+")");k.setProperty("--icon_"+T+"_invrt",S)}}var D=document.querySelector("meta[name=theme-color]");
if(D)D.setAttribute("content","#"+j.pB(I["--base"]))};(function(){var I=3441398,k=3441398;kn.ZW=[{name:"Light Grey","--base":14737632,"--bg-panel":11579568,"--bg-canvas":11579568,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":11579568,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":k},{name:"Dark Grey","--base":4671303,"--bg-panel":2434341,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6118749,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":I},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2435637,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":I},{name:"Dark Blue","--base":2237745,"--bg-panel":1513761,"--bg-canvas":1513761,"--bg-input":1513761,"--bg-bbtn":3554128,"--bg-bbtnOver":3158085,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":12303291,"--gs-invert":.8,"--brdr":1513761,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":I},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":3287605,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":3287605,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":I},{name:"Black","--base":3487029,"--bg-panel":1710618,"--bg-canvas":1710618,"--bg-input":1710618,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":13421772,"--gs-invert":.7,"--brdr":1710618,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":I},{name:"White","--base":16250871,"--bg-panel":14737632,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":3355443,"--gs-invert":.18,"--brdr":14737632,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":k}]}());
function dV(){this.nS={};this.mw={}}dV.prototype.a9i=function(I){var k=this.nS[I];if(k==null)return!1;
return k.length>0};dV.prototype.addEventListener=function(I,k){this.O(I,k,null)};dV.prototype.O=function(I,k,a){if(this.nS[I]==null){this.nS[I]=[];
this.mw[I]=[]}this.nS[I].push(k);this.mw[I].push(a)};dV.prototype.removeEventListener=function(I,k){var a=this.nS[I];
if(a==null)return;var n=a.indexOf(k);if(n<0)return;var s=this.mw[I];a.splice(n,1);s.splice(n,1)};dV.prototype.a=function(I){I.currentTarget=this;
if(I.target==null)I.target=this;var k=this.nS[I.type];if(k==null)return;var a=this.mw[I.type];for(var Y=0;
Y<k.length;Y++){if(a[Y]==null)k[Y](I);else k[Y].call(a[Y],I)}};var d2=function(I,k){if(!k)k=!1;this.type=I;
this.target=null;this.currentTarget=null;this.bubbles=k;this.S=null;this.tQ=!1},M={E:{r:"0",b:"1",rd:"1.5",B:"2",CY:"3",amV:"4"},p:{JI:"10",ut:"11",nx:"12",wL:"13",Zk:"14",aCf:"14.1",_C:"15",Av:"16",qv:"17",S7:"18",Vd:"19",abF:"19.5",ae_:"20",aqG:"20.1",aDL:"20.5",ao6:"20.6",Rp:"21",eM:"22",ZJ:"23",N7:"24",Fu:"25",KZ:"26",kz:"27",c4:"28",anu:"28.5",aiC:"29",Gj:"30",$g:"31",Zj:"32",R9:"33",at:"34",iv:"35",a9h:"35.5",Bc:"37",anR:"38",bm:"39",ki:"40",XI:"41",Wq:"41.5",gI:"42",lV:"43",a97:"43.5",kZ:"44",av4:"45",FC:"46",eR:"47",EM:"48",cb:"49",ahj:"50",yi:"51"}};
function gB(){dV.call(this);this.parent=null;this.Z=null;this.Qq=0;this.L4=0;this.aqi=!1}gB.prototype=new dV;
gB.prototype.atC=function(I){var bQ=this;while(bQ!=null){if(bQ==I)return!0;bQ=bQ.parent}return!1};gB.prototype.oe=function(){var I=this.Z;
return I.offsetWidth+I.clientLeft};gB.prototype.ast=function(){var I=this.Z;return I.offsetHeight+I.clientTop};
gB.prototype.update=function(I){};gB.prototype.a=function(I){dV.prototype.a.call(this,I);if(I.bubbles&&this.parent!=null)this.parent.a(I)};
gB.prototype.k=function(){};gB.prototype.bb=function(I,k){};gB.prototype.hl=function(I){$.fO(this.Z,"disabled")};
gB.prototype.MK=function(I){$.St(this.Z,"disabled")};gB.prototype.wl=function(I){if(I)this.MK();else this.hl()};
gB.prototype.lj=function(){this.aqi=!0};gB.prototype.X2=function(){var I=this.xe,k=this.aqi,a=this.oO;
if(I){I=hJ.get(this.xe);if(!k)I+=":";a.textContent=I;if(k){a.style.display="block";a.style.lineHeight="1.6em";
a.style.marginLeft="3px";$.St(a,"flabel")}}if(k){this.Lm.style.fontSize="1.15em"}};function ks(I){gB.call(this);
this.G_=[];this.H_=!1;this.a9M=0;this.fy={x:0,y:0,ZT:!1};this.Sp=I;this.a4u=this.e_.bind(this);this.lv=this.vC.bind(this);
this.xO=this.RG.bind(this);$.Ar(I,this.a4u);$.YU(I,this.lv);I.addEventListener("wheel",this.ET.bind(this),!1);
I.addEventListener("contextmenu",this.aw9.bind(this),!1);var k=this.arZ.bind(this);I.addEventListener("gesturestart",k,!1);
I.addEventListener("gesturechange",k,!1);I.addEventListener("gestureend",k,!1);$.$j(I)}ks.prototype=new gB;
ks.prototype.arZ=function(I){if(I.type=="gesturestart")this.ky=I.scale;if(I.type=="gesturechange"){var k=new d2("mouse",!0);
k.action="scroll";k.O4=!0;this.mN(I,k);var n=(this.ky-I.scale)/this.ky;k.P8=new kK(0,100*n);this.ky=I.scale;
this.a(k)}};ks.prototype.DS=function(I){var k=-1,a=this.G_;for(var Y=0;Y<a.length;Y++)if(a[Y].pointerId==I.pointerId)k=Y;
return k};ks.hv=function(I){var k=I.pointerType,a=window.__kb;return k=="touch"&&a.W(as.anr)};ks.aDx=function(I){var k=I.button!=null&&I.button!=0?I.which==2?"i":"r":"";
if(as.WQ()&&I.ctrlKey)k="r";return k};ks.prototype.e_=function(I){if(ks.hv(I))return;var k=this.DS(I);
if(k!=-1)this.G_[k]=I;else this.G_.push(I);if(this.G_.length==1){this.a9M=Date.now();var a=ks.aDx(I)+"down",n=new d2("mouse",!0);
n.action=a;this.mN(I,n);this.a(n);$.qD(this.Sp,this.lv);$.YU(window,this.lv);$.hf(window,this.xO)}if(this.G_.length==2){if(Date.now()-this.a9M<100){var n=new d2("mouse",!0);
n.action="cancellast";this.mN(I,n);this.a(n)}this.H_=!0}if(this.G_.length==2)this.a21("multidown")};
ks.prototype.vC=function(I){if(ks.hv(I))return;var k=this.DS(I);if(k!=-1)this.G_[k]=I;if(this.G_.length>1){this.a21("multimove")}if(this.H_)return;
if(this.G_.length==1&&k==-1)return;var a=new d2("mouse",!0);a.action="move";this.mN(I,a);this.a(a)};
ks.prototype.RG=function(I){if(ks.hv(I))return;var k=this.G_;k=this.G_=[];if(k.length==0){var a=ks.aDx(I)+"up",n=new d2("mouse",!0);
n.action=a;this.mN(I,n);this.a(n);$.qD(window,this.lv);$.Yf(window,this.xO);$.YU(this.Sp,this.lv);this.H_=!1}};
ks.prototype.ET=function(I){I.preventDefault();if(I.deltaX==0&&I.deltaY==0)return;var k=new d2("mouse",!0);
k.action="scroll";k.O4=I.ctrlKey;this.mN(I,k);this.a(k)};ks.prototype.aw9=function(I){$.dR(I);if($.adZ(I)){var k=new d2("mouse",!0);
this.mN(I,k);k.action="rdown";this.a(k);k.action="rup";this.a(k)}};ks.prototype.a21=function(I){var k=this.G_,a=$.Y(),n=[];
for(var Y=0;Y<k.length;Y++){var s=n[Y]=$.Ea(k[Y],this.Sp);s.x*=a;s.y*=a}var C=new d2("mouse",!0);C.action=I;
C.kH=n;if(k.length==2)this.a(C)};ks.prototype.mN=function(I,k,n){var s=this.G_.length!=0;if(k.action!="up"){var C=$.Y();
if(n==null)n=$.Ea(I,this.Sp);this.fy=k.NZ={x:C*n.x,y:C*n.y,ZT:s};var T=$.Ea(I,document.body);k.NZ.E1=T.x;
k.NZ.uI=T.y}else this.fy=k.NZ={x:this.fy.x,y:this.fy.y,ZT:s};k.NZ.i3=.5;if(I.pressure!=null)k.NZ.i3=I.pressure;
if(I.pointerType=="mouse")k.NZ.i3*=2;k.NZ.apL=I.pointerType;if(I.deltaX!=null){var S=I.deltaMode==0?1:40;
k.P8=new kK(I.deltaX*S,I.deltaY*S)}};function io(I,k,a){gB.call(this);this.Qu=null;this.a5x=this.RG.bind(this);
this.aev=this.dj.bind(this);this.asG=this.a5o.bind(this);this.aA$=this.asz.bind(this);this.xo=[];this.wp=[];
this.Or=[];this.aue=[];this.agw=a;this.Z=$.I("div","contextpanel "+(a?"cp_dark":"cp_light"));this.Z.addEventListener("contextmenu",$.V$,!1);
this.Md=null;this.R4=0;this.i6=I;this.Ax=k;this.ii=[];for(var Y=0;Y<I.length;Y++){var n=$.I("div","enab");
this.wp.push(n);this.Z.appendChild(n);var s=I[Y].yd;if(s){if(s.startsWith("#")){var C=$.I("span");C.setAttribute("style","display:inline-block; width:16px; height:16px; vertical-align:middle; margin:0 5px 0 -3px; border-radius:4px; background-color:"+s);
n.appendChild(C)}else n.innerHTML=$.z5(I[Y].yd,null,"thumb")}else{var T=$.I("span","check");this.aue.push(T);
n.appendChild(T)}var S=$.I("span","label");S.textContent=hJ.get(I[Y].name);n.appendChild(S);this.Or.push(S);
if(I[Y].g6)this.Z.appendChild($.I("hr"));if(I[Y].kA||I[Y].sub){var D=n.Fy=$.I("span","right");n.appendChild(D);
if(I[Y].kA)D.textContent=as.cq(I[Y].kA);else if(I[Y].sub)D.innerHTML="<svg height='10px' width='6px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 1 L 5 5 L 1 9'/></svg>"}n.addEventListener(a?"mouseup":"click",this.a5x,!1);
n.addEventListener("mouseover",this.aev,!0);n.addEventListener("mouseout",this.asG,!0);if(I[Y].sub){var o=new io(I[Y].sub,k?k[Y].sub:null);
o.parent=this;this.ii.push(o);o.O("select",this.agu,this)}else this.ii.push(null)}}io.prototype=new gB;
io.prototype.af3=function(I){$.GD(this.Z);for(var Y=0;Y<I.length;Y++)if(I[Y]!=0&&I[Y]!=null){this.Z.appendChild(this.wp[Y]);
if(I[Y]!=1&&this.ii[Y])this.ii[Y].af3(I[Y])}};io.prototype.k=function(){var I=this.i6;for(var Y=0;Y<I.length;
Y++){if(I[Y].title)this.wp[Y].title=hJ.get(I[Y].title);this.Or[Y].textContent=hJ.get(I[Y].name)+(I[Y].LC?"...":"")}for(var Y=0;
Y<this.ii.length;Y++)if(this.ii[Y])this.ii[Y].k()};io.prototype.update=function(I,k){if(!this.agw){this.Z.setAttribute("class","contextpanel cp_"+(window.locStor.getItem("__glm")=="1"?"trsp":"light"))}var a=this.i6,n=window.innerWidth<450?"none":"inline";
for(var Y=0;Y<a.length;Y++){var s=this.wp[Y];if(s.Fy&&!this.ii[Y])s.Fy.style.display=n;if(a[Y].e){var C=a[Y].e(I,k,Y);
if(C.e!=null)this.wp[Y].className=C.e?"enab":"disab";if(C.qr!=null)this.Or[Y].textContent=C.qr;if(C.nK!=null)this.aue[Y].innerHTML=C.nK?"<svg height='10px' width='10px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 5 L 4 8 L 9 2'/></svg>":"";
if(C.v!=null)this.Ax[Y]=C.v}}for(var Y=0;Y<this.ii.length;Y++)if(this.ii[Y])this.ii[Y].update(I,k)};
io.prototype.Ke=function(){return this.xo};io.prototype.RG=function(I){if(I.button!=0)return;var Y=this.wp.indexOf(I.currentTarget);
if(this.ii[Y]){this.R4=Y;this.asz()}else{if(this.Ax){var k=this.Ax[Y],a=new d2(k.K,!0);a.S=k.S;a.data=k.v;
this.a(a)}this.Qu=null;this.xo=[Y];this.a(new d2("select",!1));var a=new d2(M.E.b,!0);a.data={q:M.p.wL};
this.a(a)}};io.prototype.dj=function(I){var Y=this.wp.indexOf(I.currentTarget);this.b5();this.R4=Y;this.Md=setTimeout(this.aA$,300)};
io.prototype.a5o=function(I){this.b5()};io.prototype.b5=function(){if(this.Md){clearTimeout(this.Md);
this.Md=null}};io.prototype.asz=function(){this.b5();var Y=this.R4;if(this.Qu)this.Qu.ank();if(this.ii[Y]==null)return;
this.Qu=this.ii[Y];var I=this.wp[Y].getBoundingClientRect(),k=new d2(M.E.b,!0);k.data={q:M.p.ut,zM:this.ii[Y],x:I.left+I.width+2,y:I.top};
this.a(k)};io.prototype.ank=function(){for(var Y=0;Y<this.ii.length;Y++)if(this.ii[Y])this.ii[Y].ank();
var I=new d2(M.E.b,!0);I.data={q:M.p.nx,zM:this};this.a(I)};io.prototype.agu=function(I){var Y=this.ii.indexOf(I.target);
this.xo=[Y].concat(I.target.Ke());this.a(new d2("select",!1))};function dI(I,k,a){gB.call(this);this.Z=$.I("span","fitem cbox");
if(k==null)k=!0;if(a==null)a="flabel";var n="cb"+$.Qa();this.Lm=$.I("input","");this.Lm.setAttribute("type","checkbox");
this.Lm.setAttribute("id",n);this.Z.appendChild(this.Lm);this.xe=I;this.Fd=$.I("label",a);if(k)this.Fd.setAttribute("for",n);
this.Z.appendChild(this.Fd);this.k();this.Lm.addEventListener("change",this.HW.bind(this),!1)}dI.prototype=new gB;
dI.prototype.ahZ=function(){return this.xe};dI.prototype.jO=function(I){this.Fd.textContent=I};dI.prototype.k=function(){var I=this.xe;
if(typeof I=="string"&&I.startsWith("<"))this.Fd.innerHTML=I;else this.Fd.textContent=hJ.get(I)};dI.prototype.rG=function(){this.Lm.checked=!0};
dI.prototype.Jw=function(){this.Lm.checked=!1};dI.prototype.D6=function(){return this.Lm.checked};dI.prototype.j=function(I){this.Lm.checked=I};
dI.prototype.l=dI.prototype.D6;dI.prototype.HW=function(I){this.a(new d2(M.E.B,!1))};function gv(I,k){gB.call(this);
this.xe=I;this.Z=$.I("span","labelitem fitem"+(k?" spread":""));this.k()}gv.prototype=new gB;gv.prototype.j=function(I){this.Z.textContent=I};
gv.prototype.l=function(){return this.Z.textContent};gv.prototype.MK=function(){this.Z.removeAttribute("disabled")};
gv.prototype.hl=function(){this.Z.setAttribute("disabled","")};gv.prototype.jO=function(I){this.Z.textContent=I};
gv.prototype.k=function(){this.Z.textContent=hJ.get(this.xe)};gv.prototype.ahZ=function(){return this.xe};
function iP(I,k,a,n,s){gB.call(this);this.tq=!1;this.Z=$.I("button","fitem"+(k?" spread":"")+(n?" bbtn":""));
this.xe=I;this.uS=a;this.k();var C=s&&window.PointerEvent?"pointerup":"click";this.Z.addEventListener(C,this.zR.bind(this),!1)}iP.prototype=new gB;
iP.prototype.k=function(){var I=this.Z,k=this.xe,a=this.uS;if(typeof k=="string"&&(k.startsWith("<img")||k.startsWith("<svg")||k.startsWith("<span"))){if(!this.tq){I.innerHTML=k;
I.setAttribute("style","padding:2px");this.tq=!0}}else I.textContent=hJ.get(k);if(a){I.setAttribute("title",hJ.get(a))}};
iP.prototype.aeg=function(I){this.Z.setAttribute("title",I)};iP.prototype.zR=function(I){this.a(new d2("click",!1))};
iP.prototype.rG=function(){$.fO(this.Z,"bactive")};iP.prototype.Jw=function(){$.St(this.Z,"bactive")};
iP.prototype.jO=function(I,k){if(I&&I!=this.xe){this.xe=I;this.tq=!1}if(k)this.uS=k;this.k()};iP.prototype.j=function(I){if(I)this.rG();
else this.Jw()};iP.prototype.D6=function(){return this.Z.getAttribute("class").indexOf("bactive")!=-1};
iP.prototype.l=function(){return this.D6()};function ja(I,k,a,n,s){gB.call(this);var C=$.Qa();this.Z=$.I("span","fitem tinput");
if(I){this.xe=I;this.oO=$.I("label","flabel");this.Z.appendChild(this.oO);this.oO.setAttribute("for",C);
this.k()}if(s){this.Lm=$.I("span")}else if(n==null){this.Lm=$.I("input");this.Lm.setAttribute("type","text")}else this.Lm=$.I("textarea","scrollable");
this.Lm.setAttribute("id",C);if(a)this.Lm.setAttribute("style","width:"+a+"em;"+(s?" display:inline-block; margin-left:6px;":""));
if(n)this.Lm.setAttribute("rows",n);this.Z.appendChild(this.Lm);if(k){this.yN=$.I("span");this.yN.textContent=k;
this.yN.style.marginLeft="2px";this.Z.appendChild(this.yN)}$.bw(this.Lm);as.WV(this.Lm);this.Lm.addEventListener("change",this.HW.bind(this),!1);
this.Lm.addEventListener("input",this.am7.bind(this),!1);if(n==null)this.Lm.addEventListener("keyup",this.mb.bind(this),!1)}ja.prototype=new gB;
ja.prototype.k=function(){this.X2()};ja.prototype.mb=function(I){var k=as.rM(I.code,as._a),a=as.rM(I.code,as.da);
if(a||k)this.Lm.blur()};ja.prototype.jO=function(I){this.oO.textContent=I};ja.prototype.j=function(I){var k=this.Lm,a=I==null?"":I,n=k.tagName=="SPAN";
if(n){k.textContent=" "+a;if(this.yN)k.appendChild(this.yN)}else k.value=a};ja.prototype.ajY=function(I){this.yN.textContent=I};
ja.prototype.l=function(){return this.Lm.value};ja.prototype.$A=function(){this.Lm.select();this.Lm.focus()};
ja.prototype.HW=function(I){this.a(new d2(M.E.B,!1))};ja.prototype.am7=function(I){this.a(new d2("input",!1))};
function hc(I,k,a,n,s,C,T,S,D){gB.call(this);if(s==null)s=0;this.Z=$.I("span","fitem");var o=$.Qa();
this.xe=I;this.uS=S;this.VQ=0;this.dr=D;this.X4=k;this.Xa=a;this.EX=null;if(n instanceof Array){this.EX=n;
n=n[0]}this.GK=n;this.gy=s;this.adG=C;this.Yj=T;this.fD=0;this.oO=$.I("label","flabel");this.oO.setAttribute("style","cursor:col-resize;");
this.Fv=$.I("input");this.Fv.setAttribute("type","range");if(T){this.Fv.min=0;this.Fv.max=400}else{this.Fv.min=k;
this.Fv.max=a;if(s!=0)this.Fv.step=(a-k)/200}this.Lm=$.I("input");this.Lm.setAttribute("type","text");
this.Lm.setAttribute("id",o);this.yN=$.I("span");this.yN.textContent=n;$.bw(this.Lm);this.Lm.addEventListener("change",this.HW.bind(this),!1);
this.Lm.addEventListener("keydown",this.Ww.bind(this),!1);as.WV(this.Lm);this.Lm.addEventListener("keyup",this.mb.bind(this),!1);
this.Lm.addEventListener("wheel",this.ET.bind(this),!1);this.Fv.addEventListener("input",this.HW.bind(this),!1);
if(D)this.Fv.addEventListener("change",this.HW.bind(this),!1);this.Fv.addEventListener("click",this.a8e.bind(this),!1);
this.az$=this.ame.bind(this);this.aoi=this.aqn.bind(this);this.akB=this.aoe.bind(this);this.Fw=0;this.nV=0;
this.nR=!1;$.Ar(this.oO,this.az$);$.$j(this.oO)}hc.prototype=new gB;hc.prototype.dt=function(I){this.gy=I};
hc.prototype.jO=function(I){this.oO.style.display=I?"inherit":"none";if(I)this.oO.textContent=hJ.get(I)};
hc.prototype.k=function(){var bQ=this.xe,I=this.uS;if(bQ){if(typeof bQ=="string"&&bQ.startsWith("<"))this.oO.innerHTML=bQ;
else this.X2()}if(I){I=hJ.get(I);if(bQ)this.oO.setAttribute("title",I);this.Lm.setAttribute("title",I)}};
hc.prototype.j=function(I,k){var a=this.X4==this.Xa,s;if(!a&&this.X4>=0)I=Math.max(this.X4,I);if(this.gy==0)I=Math.round(I);
var n=this.GK;this.VQ=I;this.Lm.value=parseFloat(this.gy!=0?I.toFixed(this.gy):I)+(this.adG&&n?(n.toLowerCase()==n.toUpperCase()?"":" ")+n:"");
if(-this.X4==this.Xa)s=200+Math.sign(I)*200*Math.pow(Math.abs(I)/this.Xa,1/2.7);else s=400*Math.pow((I-this.X4)/(this.Xa-this.X4),1/2.7);
this.Fv.value=this.Yj?s:I;if(k)this.Rb()};hc.prototype.l=function(){var I=this.VQ;if(isNaN(I))I=0;return I};
hc.prototype.Qg=function(){return this.GK};hc.prototype.HW=function(I){var k=0;if(I.currentTarget==this.Lm){var a=I.target.value,n=0;
if(a=="")k=0;else if(this.GK){k=parseFloat(a)}else{try{k=eval(a)}catch(I){k=1}}if(isNaN(k))k=0;while(n<a.length&&(a.charAt(n)=="."||48<=a.charCodeAt(n)&&a.charCodeAt(n)<=57))n++;
var s=a.slice(n).trim();if(this.EX&&this.EX.indexOf(s)!=-1)this.GK=s}else{if(Date.now()-this.fD<10)return;
k=parseFloat(I.target.value);if(this.Yj){if(-this.X4==this.Xa)k=Math.sign(k-200)*Math.pow(Math.abs(k-200)/200,2.7)*this.Xa;
else k=this.X4+Math.pow(k/400,2.7)*(this.Xa-this.X4);k=this.ahx(k)}}this.j(k);if(I.type=="input"&&this.dr)return;
this.Rb()};hc.prototype.Rb=function(){this.a(new d2(M.E.B))};hc.prototype.ahx=function(I){if(this.Xa-this.X4>50&&I>10)I=Math.round(I);
return I};hc.prototype.Ww=function(I){var k=0;if(as.rM(I.code,as.yo))k=1;if(as.rM(I.code,as.Sx))k=-1;
if(k!=0)this.ax9(k,I.shiftKey)};hc.prototype.mb=function(I){var k=as.rM(I.code,as._a),a=as.rM(I.code,as.da);
if(k)this.j(this.l());if(a||k)this.Lm.blur()};hc.prototype.ET=function(I){this.ax9(I.deltaY>0?-1:1,I.shiftKey)};
hc.prototype.ax9=function(I,k){var a=this.l(),n=this.gy,s=I*(n==null||n==0||a>5?1:.1);if(k)s*=10;var C=a+s;
if(!this.Yj&&this.Xa!=this.X4)C=Math.min(this.Xa,C);this.j(C);this.Rb()};hc.prototype.a8e=function(I){var k=Date.now()-this.fD;
this.fD=Date.now();if(k>200)return;var a=this.X4,n=this.Xa,s=(a+n)/2;if(a<1&&n>1&&n<10)s=1;else if(a<90&&n>110)s=100;
else if(a<0&&n>0)s=0;this.j(s);this.Rb()};hc.prototype.ame=function(I){$.YU(document,this.aoi);$.hf(document,this.akB);
this.Fw=$.Ea(I,document.body).x;this.nV=this.l()};hc.prototype.aqn=function(I){$.dR(I);var k=this.X4==this.Xa,a=$.Ea(I,document.body).x,n=(a-this.Fw)*(k?1:1/120*(this.Xa-this.X4)),s=this.nV+n;
if(k)s=Math.round(s);if(!k){if(!0){s=Math.max(this.X4,s);if(s==this.X4){this.Fw=a;this.nV=this.X4}}if(!this.Yj){s=Math.min(this.Xa,s);
if(s==this.Xa){this.Fw=a;this.nV=this.Xa}}s=this.ahx(s)}this.nR=!0;this.j(s);if(!this.dr)this.Rb()};
hc.prototype.aoe=function(I){if(!this.nR)this.Lm.focus();this.nR=!1;if(this.dr)this.Rb();$.qD(document,this.aoi);
$.Yf(document,this.akB)};hc.prototype.$A=function(){this.Lm.select();this.Lm.focus()};function fM(I,k,a,n,s,C,T,S,D,o){hc.call(this,I,k,a,n,s,!0,C,D,o);
$.fO(this.Z,"rangedropinput");this.Z.appendChild(this.oO);this.Lm.setAttribute("style","width:"+(S?S:3.3)+"em");
this.Z.appendChild(this.Lm);this.ao5=$.I("span","rangecontFloat");this.ao5.appendChild(this.Fv);this.nq=$.I("button");
this.nq.textContent="\u25BC";$.Ar(this.nq,this.apH.bind(this));if(T!=!0)this.Z.appendChild(this.nq);
this.uo=new gB;this.uo.Z=this.ao5}fM.prototype=new hc;fM.prototype.apH=function(I){if($.TU(this.uo.Z))return;
I.stopPropagation();var k=this.Z.getBoundingClientRect();this.Fv.setAttribute("style","width:"+k.width+"px;");
var a=new d2(M.E.b,!0);a.data={q:M.p.ut,zM:this.uo,x:k.left-10,y:k.top+k.height};this.a(a)};function iD(I,k,a,n,s,C){hc.call(this,I,k,a,n,s,!1,C);
this.Z.appendChild(this.oO);var T=$.I("span");this.Z.appendChild(T);T.appendChild(this.Fv);this.Z.appendChild(this.Lm);
this.Lm.setAttribute("style","width:3.3em");if(this.GK)this.Z.appendChild(this.yN)}iD.prototype=new hc;
function f7(I,k,a,n,s,C,T,S){hc.call(this,I,k,a,n,s,!0,C,null,T);$.fO(this.Z,"trangeinput");this.Z.appendChild(this.oO);
this.Z.appendChild(this.Lm);var D=$.I("span");if(S!=!0)this.Z.appendChild(D);D.appendChild(this.Fv)}f7.prototype=new hc;
function fB(I,k,a,n){gB.call(this);if(!k)return;this.S5=0;this.xe=I;this.ayq=n;this.mX=null;this.yx=a;
this.BU=[];var s="dd"+$.Qa();this.Z=$.I("span","fitem ddmenu");if(I){this.oO=$.I("label","flabel");this.Z.appendChild(this.oO);
this.oO.setAttribute("for",s)}this.Lm=$.I("select");as.WV(this.Lm);this.Lm.setAttribute("id",s);this.Z.appendChild(this.Lm);
this.Lm.addEventListener("change",this.HW.bind(this),!1);function C(T){var S=0;if(as.rM(T.code,as.yo))S=1;
if(as.rM(T.code,as.Sx))S=-1;if(S!=0)T.stopPropagation()}this.Lm.addEventListener("keydown",C,!1);this.Lm.addEventListener("keyup",C,!1);
this.V4=[];this.Eg=null;this.wS(k,a);this.k()}fB.prototype=new gB;fB.prototype.jO=function(I){this.xe=I;
this.k()};fB.prototype.k=function(){this.X2();if(this.Eg)this.wS(this.Eg,this.yx);if(this.ayq)this.Lm.setAttribute("title",hJ.get(this.ayq));
this.j(this.S5)};fB.prototype.l=function(){return this.S5};fB.prototype.wS=function(I,k){$.GD(this.Lm);
var a=[],n=0;if(k){a.push(k[0]);for(var Y=1;Y<k.length;Y++)a.push(a[Y-1]+k[Y])}this.Eg=I;this.mX=[];
this.yx=k;for(var Y=0;Y<I.length;Y++){var s=$.I("option");if(this.BU.indexOf(Y)!=-1)s.setAttribute("disabled","");
s.textContent=hJ.get(I[Y]);s.setAttribute("value",Y);this.Lm.appendChild(s);this.V4.push(s);this.mX.push(Y+n);
if(a.indexOf(Y+1)!=-1&&Y!=I.length-1){var C=$.I("option");C.setAttribute("disabled","");C.textContent="";
this.Lm.appendChild(C);n++}}};fB.prototype.a3$=function(Y){var I=this.BU,k=I.indexOf(Y);if(k==-1)I.push(Y);
this.k()};fB.prototype.agl=function(Y){var I=this.BU,k=I.indexOf(Y);if(k!=-1)I.splice(k,1);this.k()};
fB.prototype.j=function(I){this.S5=I;this.Lm.selectedIndex=this.mX[I]};fB.prototype.HW=function(I){this.S5=this.mX.indexOf(this.Lm.selectedIndex);
this.a(new d2(M.E.B,!1))};fB.prototype.$A=function(){this.Lm.focus()};function f8(I,k,a,n,s){gB.call(this);
if(!k)return;this.S5=0;this.a2d=n;this.aiJ=s;this.Z=$.I("span","fitem bbmenu");this.Fd=$.I("label","flabel");
if(I){this.xe=I;this.Fd.textContent=I+":";this.Z.appendChild(this.Fd)}this.V4=[];this.rp=$.I("span");
this.Z.appendChild(this.rp);this.Eg=null;this.wS(k,a);this.j(0)}f8.prototype=new gB;f8.prototype.jO=function(I){this.xe=I;
this.k()};f8.prototype.k=function(){var I=this.Fd.parentNode!=null,k=this.Z;if(this.xe!=null){if(!I){k.appendChild(this.Fd);
k.appendChild(this.rp)}this.Fd.textContent=hJ.get(this.xe)+": "}else if(I)k.removeChild(this.Fd);for(var Y=0;
Y<this.V4.length;Y++)this.V4[Y].k()};f8.prototype.l=function(){return this.S5};f8.prototype.wS=function(I,k){$.GD(this.rp);
this.V4=[];this.Eg=I;for(var Y=0;Y<I.length;Y++){var a=new iP(I[Y],!1,k?k[Y]:null,this.a2d);a.O("click",this.HW,this);
this.rp.appendChild(a.Z);this.V4.push(a)}this.k()};f8.prototype.j=function(I){this.S5=I;for(var Y=0;
Y<this.V4.length;Y++)this.V4[Y].Jw();if(I!=-1)this.V4[I].rG()};f8.prototype.HW=function(I){var Y=this.V4.indexOf(I.target);
this.j(this.aiJ&&Y==this.S5?-1:Y);this.a(new d2(M.E.B,!1))};f8.Tj=function(I,k,a){if(k==null)k=16;var n=f8.vX,s=n.getContext("2d"),C=k>>>1;
n.width=n.height=k;var T=[];for(var Y=0;Y<I.length;Y++){if(I[Y][0]=="-")T.push(I[Y].slice(1));else if(I[Y]=="checker"||I[Y].startsWith("#")){if(I[Y]=="checker"){s.fillStyle="white";
s.fillRect(0,0,k,k);s.fillStyle="#bbbbbb";s.fillRect(C,0,C,C);s.fillRect(0,C,C,C)}else if(I[Y].startsWith("#")){s.fillStyle=I[Y];
s.fillRect(0,0,k,k)}T.push("<img src=\""+n.toDataURL()+"\" />")}else T.push($.z5(I[Y],null,a?a:"autoscale"))}return T};
f8.vX=$.I("canvas");function da(I,k,a,n,s,C){gB.call(this);this.Z=$.I("span","fitem mbox");this.a36=a;
this.aEO=s;if(I){this.xe=I;this.Fd=$.I("label","flabel");this.Z.appendChild(this.Fd)}this.I_=k;this.GC=[];
for(var Y=0;Y<k.length;Y++){var T=a?new iP(k[Y],!1,n?n[Y]:null,!1,C):new dI(k[Y],!0,"");T.O(a?"click":M.E.B,this.HW,this);
this.GC.push(T);this.Z.appendChild(T.Z)}this.k()}da.prototype=new gB;da.prototype.j=function(I){for(var k=0;
k<this.I_.length;k++)this.GC[k].j(I[k])};da.prototype.l=function(){var I=[];for(var k=0;k<this.I_.length;
k++)I[k]=this.GC[k].l();return I};da.prototype.k=function(){if(this.xe)this.Fd.innerHTML=hJ.get(this.xe)+": ";
var I=this.GC;for(var k=0;k<I.length;k++){I[k].k();if(k==I.length-1)I[k].Z.style.marginRight="0px"}};
da.prototype.HW=function(I){var Y=this.GC.indexOf(I.currentTarget),k=this.GC[Y];if(this.a36)k.j(!k.l());
if(this.aEO){var a=k.l();for(var Y=0;Y<this.GC.length;Y++)this.GC[Y].j(!1);k.j(a)}this.a(new d2(M.E.B,!1))};
function bt(I,k){gB.call(this);this.Nk=[];this.T=[];this.apq=I;this.BG=k;this.o7=0;this.Nx=null;this.eU=new kK(0,0);
if(k!=null){this.wx=new io([{name:[6,37]},{name:[5,4]}]);this.wx.parent=this;this.wx.O("select",this.jZ,this)}this.Z=$.I("div","imageset scrollable");
this.Z.addEventListener("contextmenu",$.V$,!1)}bt.prototype=new gB;bt.prototype.k=function(){if(this.wx)this.wx.k()};
bt.prototype.jZ=function(I){var Y=this.wx.Ke()[0],k=new d2(M.E.b,!0),n={q:M.p.iv,CU:this.BG,y9:this.T.slice(0)};
if(Y==0){var s=this.Nx[1][this.T[0]],C=s.split("/");if(C.length==2){n.$F=C[0]+"/";s=C[1]}n.S9="rnm";
k.data={q:M.p.Fu,aw:"namewindow",P6:s,mU:{K:M.E.b,v:n}}}else{k.data=n;n.S9="del"}this.a(k)};bt.prototype.aq9=function(){return this.o7};
bt.prototype.oW=function(I){this.o7=I;if(this.Nx)this.lX()};bt.prototype.NX=function(I,k,a,n){this.Nx=[I,k,a,n];
this.lX()};bt.prototype.lX=function(){var I=this.Nx,k=this.Z,a=I[0],n=I[1],s=I[2],C=I[3];this.Nk=[];
$.GD(k);var T=this.zR.bind(this),S=this.o7;if(S==0)$.fO(k,"imageset");else $.St(k,"imageset");var D={};
for(var Y=0;Y<a.length;Y++){var o=a[Y],v=null,g=null;if(o==null){this.Nk.push(null);continue}if(typeof o=="string"){v=$.I("img","image");
v.setAttribute("src",o)}else v=o;if(s)$.Kf(v,s,C);if(this.apq)$.fO(v,"gsicon");if(n){var g=n[Y],d=g.split("/");
if(d.length==2){var R=D[d[0]];g=d[1];if(R==null)R=D[d[0]]=[];R.push(Y)}}if(S==0){}else{var c=$.I("div","listitem");
c.appendChild(v);var e=$.I("span");e.textContent=g?g:"Item "+(Y+1);e.setAttribute("style","margin-left:4px;");
c.appendChild(e);v=c}if(g)v.setAttribute("title",g);v.addEventListener("mousedown",T,!1);this.Nk.push(v);
k.appendChild(v)}if(Object.keys(D).length!=0){$.GD(k);for(var O in D){var R=D[O],U=$.I("div","listitem head");
U.setAttribute("style","clear:both; padding:4px 4px; height:16px; background-color:rgba(0,0,0,0.1);");
var K=$.I("div","headL");U.appendChild(K);K.appendChild($.I("div","folder"));var e=$.I("span");e.textContent=O;
K.appendChild(e);k.appendChild(U);for(var Y=0;Y<R.length;Y++)k.appendChild(this.Nk[R[Y]])}}};bt.prototype.zR=function(I){if(this.BG==null)I.preventDefault();
var k=this.Nk.indexOf(I.currentTarget),a=window.__kb,n=this.T,s=n.length;if(a.W(as.bJ)){var C=Math.min(n[0],n[n.length-1],k),T=Math.max(n[0],n[n.length-1],k);
n=[];for(var Y=C;Y<=T;Y++)n.push(Y)}else if(a.W(as.nU)){var S=n.indexOf(k);if(S==-1)n.push(k);else n.splice(S,1)}else n=[k];
n.sort(function(g,d){return g-d});if(I.button==0||s==1)this.j(n);this.eU=$.Ea(I,I.currentTarget);if(I.button==0)this.a(new d2(M.E.B));
if(I.button==2&&this.wx){var D=this.wx;D.update(null);var o=$.Ea(I,document.body),v=new d2(M.E.b,!0);
v.data={q:M.p.ut,zM:D,x:o.x,y:o.y+2};this.a(v)}};bt.prototype.l=function(){return this.T.slice(0)};bt.prototype.ap2=function(){var I=this.eU;
return new kK(I.x,I.y)};bt.prototype.j=function(I){this.T=I.slice(0);for(var Y=0;Y<this.Nk.length;Y++){var k=this.Nk[Y];
if(k==null)continue;if(I.indexOf(Y)!=-1)$.fO(k,"selected");else $.St(k,"selected")}};function ca(I,k,a,n,s,C,T){gB.call(this);
this.Z=$.I("span","fitem "+a);this.LL=new gB;this.LL.Z=$.I("div","floatcont");this.CF=n;this.LL.parent=this;
this.amn=$.I("div");this.LL.Z.appendChild(this.amn);this.X_=$.I("div");this.LL.Z.appendChild(this.X_);
if(I){this.xe=I;this.Fd=$.I("label","flabel");this.Z.appendChild(this.Fd)}this.q=$.I("button",T?"nopadding":"");
this.q.setAttribute("style","position:relative;");var S=this.Sn.bind(this),D=this.Iz.bind(this);$.Ar(this.q,k?D:S);
this.Z.appendChild(this.q);this.qH=$.I("img",T?"gsicon":"");this.q.appendChild(this.qH);if(k){var o=$.I("button");
o.textContent="\u25BC";$.Ar(o,S);this.Z.appendChild(o)}else{var v=$.I("span");v.textContent="\u25BC";
v.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.q.appendChild(v)}var g=this.aly=$.I("span");
this.X_.appendChild(g);g.setAttribute("style","display:inline-block;  vertical-align:top;");this.FG=new bt(T,C);
g.appendChild(this.FG.Z);this.FG.parent=this.LL;this.FG.O(M.E.B,this.tu,this);this.FG.Z.style.height=s+"px";
this.xK=$.I("button");this.xK.textContent="\u25BC";this.xK.setAttribute("style","padding:3px");$.Ar(this.xK,this.p5.bind(this));
this.X_.appendChild(this.xK);var d=this.yW(),R=this.aCU=C!=f9.EW&&C!=f9.DX?C:null,c=this.akx=C==null?!1:f9.Pm[C][4]!=0,e=C==null?"":f9.Pm[C][0].toUpperCase(),O=[];
if(R)O.push({name:[12,87]});O.push({name:["VAR0 / VAR1",[25,3,0],[25,3,1]],g6:!0});O.push({name:[[23,6],"."+(e=="ICC"?"icc .cube .look .3dl":e)]},{name:["VAR0 ."+e,[1,8]]},{name:[6,37]},{name:[5,4],g6:d.length!=0});
for(var Y=0;Y<d.length;Y++)O.push({name:d[Y].split("/").pop()});this.aiR=O;this.BG=C;this.LP=null;this.q5=!0;
this.KA=null}ca.prototype=new gB;ca.prototype.yW=function(){return[]};ca.prototype.Iz=function(){};ca.prototype.k=function(){this.FG.k();
var I=this.xe;if(I)this.Fd.textContent=hJ.get(I)+":"};ca.prototype.jO=function(I){this.Fd.textContent=I};
ca.prototype.rt=function(I){var k=this.BG,a=0;if(k==f9.gh){a=this.LP?this.LP.length:0;I=I.slice(0)}this.LP=I;
this.q5=!0;if($.TU(this.FG.Z)||k==f9.$G)this.Da();if(k==f9.gh&&I.length-a==1&&$.TU(this.Z)){this.j(I[a]);
this.q5=!0;this.Da();this.FG.j([a]);this.a(new d2(M.E.B))}};ca.prototype.jZ=function(I){var k=I.target.Ke()[0];
if(this.aCU==null)k++;var a=new d2(M.E.b,!0);if(k==0){var n=this.li();if(this.BG==f9.gh&&n[0].profile==null)return;
a.data={q:M.p.iv,S9:"add",CU:this.aCU,Q$:n}}else if(k==1)this.FG.oW(1-this.FG.aq9());else if(k<=5)this.CP(k-2);
else{var s=this.yW();a.data={q:M.p._C,CU:{url:"rsrc/"+s[k-6]}}}if(a.data)this.a(a)};ca.prototype.CP=function(I){var k=new d2(M.E.b,!0),n=this.FG.l(),s={q:M.p.iv,CU:this.BG,y9:n};
if(I>1&&n.length==0){alert("No items selected");return}if(I==0)k.data={q:M.p.Av};else if(I==1)k.data={q:M.p.FC,abv:this.BG,y9:n.length==0?null:n};
else if(I==2){var C=this.FG.Nx[1][n[0]],T=C.split("/");if(T.length==2){s.$F=T[0]+"/";C=T[1]}s.S9="rnm";
k.data={q:M.p.Fu,aw:"namewindow",P6:C,mU:{K:M.E.b,v:s}}}else if(I==3){k.data=s;s.S9="del"}this.a(k)};
ca.prototype.li=function(){return[this.l()]};ca.prototype.p5=function(I){if(this.wx==null){this.wx=new io(this.aiR);
this.wx.parent=this.LL;this.wx.O("select",this.jZ,this)}if($.TU(this.wx.Z))return;I.stopPropagation();
var k=this.wx;k.k();k.update(null);var a=I.currentTarget.getBoundingClientRect(),n=new d2(M.E.b,!0);
n.data={q:M.p.ut,zM:k,x:a.left,y:a.top+a.height};this.a(n)};ca.prototype.Sn=function(I,k,a){if($.TU(this.LL.Z))return;
if(I)I.stopPropagation();this.Da();if(k==null){var n=this.q.getBoundingClientRect(),k=n.left,a=n.top+n.height}this.bb();
var s=new d2(M.E.b,!0);s.data={q:M.p.ut,zM:this.LL,x:k,y:a,Dr:!0};this.a(s)};ca.prototype.bb=function(I,k){var I=Math.min(this.CF,window.innerWidth-40);
this.aly.style.width=I+"px";this.LL.Z.style.width=I+20+"px"};ca.prototype.a5e=function(I,k){this.Sn(null,I,k)};
function eB(){gB.call(this);this.Z=$.I("div");this.VQ=!1;this.Gf=[new fB([12,19,1],[[13,1,7]].concat(fo.fd)),new cW([17,1]),new cW([12,46])];
for(var Y=0;Y<3;Y++){var I=this.Gf[Y];this.Z.appendChild(I.Z);I.O(M.E.B,this.lf,this)}this.k()}eB.prototype=new gB;
eB.prototype.k=function(){for(var Y=0;Y<3;Y++)this.Gf[Y].k()};eB.prototype.l=function(){return this.VQ.slice(0)};
eB.prototype.j=function(I){this.VQ=I.slice(0);var k=this.Gf,a=k[0].l();k[1].j(I.slice(a*8,a*8+4),a);
k[2].j(I.slice(a*8+4,a*8+8),a)};eB.prototype.lf=function(I){var k=this.Gf,a=k.indexOf(I.currentTarget);
if(a==0)this.j(this.VQ);else{var n=k[0].l()*8+(a==1?0:4),s=k[a].l();for(var Y=0;Y<4;Y++)this.VQ[n+Y]=s[Y];
this.a(new d2(M.E.B,!1))}};function cW(I){gB.call(this);this.Z=$.I("div");this.g8=$.I("canvas");this.r8=I;
this.VQ=[0,20,200,255];this.aF=0;this.AD=-1;this.arY=[];for(var Y=0;Y<5;Y++){var k=$.I("span");k.setAttribute("style","display:inline-block;width:"+(Y==0?8:Y==2?7:2)+"em");
this.arY.push(k);this.Z.appendChild(k)}this.iE=this.e_.bind(this);this.pW=this.vC.bind(this);this.HL=this.RG.bind(this);
$.$j(this.g8);$.Ar(this.g8,this.iE);this.Z.appendChild(this.g8);this.lX()}cW.prototype=new gB;cW.prototype.k=function(){this.lX()};
cW.prototype.j=function(I,k){this.VQ=I;this.aF=k;this.lX()};cW.prototype.l=function(){return this.VQ.slice(0)};
cW.prototype.e_=function(I){var k=this.VQ,a=$.Ea(I,this.g8),n=a.x-8,s=-1,C=1e9;for(var Y=0;Y<4;Y++){var T=n-k[Y],S=Math.abs(T);
if(S<8&&S<C&&((Y&1)==0&&T<0||(Y&1)==1&&T>0)){C=T;s=Y}}if(s==-1)return;this.AD=s;this.oP=window.__kb.W(as.dE)||k[(s>>>1)*2]!=k[(s>>>1)*2+1];
$.YU(window,this.pW);$.hf(window,this.HL)};cW.prototype.vC=function(I){var k=this.VQ,a=this.AD,n=(a>>>1)*2,s=n+1,C=$.Ea(I,this.g8),T=Math.round(Math.max(0,Math.min(255,C.x-8)));
k[a]=T;if(this.oP&&k[n]>=k[s])this.oP=!1;if(!this.oP)k[n]=k[s]=T;this.lX();this.a(new d2(M.E.B,!1))};
cW.prototype.RG=function(I){$.qD(window,this.pW);$.Yf(window,this.HL)};cW.prototype.lX=function(){var I=this.g8;
$.hI(I,255+16,16);var k=I.getContext("2d"),a=I.width,n=I.height,s=Math.round(255*$.Y()),C=Math.round(8*$.Y());
k.translate(C,0);var T=k.createLinearGradient(0,0,s,0);T.addColorStop(0,"black");T.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.aF]);
k.fillStyle=T;k.fillRect(0,0,s,C);var S=this.arY,D=hJ.get(this.r8)+":";S[0].textContent=D;for(var Y=0;
Y<4;Y++){var o=this.VQ[Y];S[1+Y].textContent=o;var v=Math.round(o*$.Y());k.beginPath();k.moveTo(v,C);
k.lineTo(v,C+C);k.lineTo(v+((Y&1)==0?-1:1)*C,C+C);k.closePath();k.fillStyle=Y<2?"#666666":"#cccccc";
k.fill();k.strokeStyle="black";k.stroke()}};function dr(I,k,a){gB.call(this);if(a==null)a=!1;this.P=[0,0,1];
this.a5F=k;this.aeO=a;this.Yy=0;var n="ai"+$.Qa();this.Z=$.I("span","fitem angleinput");if(I){this.Fd=$.I("label","flabel");
this.xe=I;this.Z.appendChild(this.Fd);this.Fd.setAttribute("for",n)}this.xN=a?44:20;this.g8=$.I("canvas","gsicon");
this.hp=this.g8.getContext("2d");$.$j(this.g8);$.hI(this.g8,this.xN*2+1,this.xN*2+1);this.hp.scale($.Y(),$.Y());
this.Z.appendChild(this.g8);$.Ar(this.g8,this.bg.bind(this));this.$v=this.le.bind(this);this.iu=this.$r.bind(this);
var s=this.HW.bind(this),C=$.I("div");C.setAttribute("style","display:inline-block;  vertical-align:middle;");
if(!a)this.Z.appendChild(C);this.WE=[];for(var Y=0;Y<2;Y++){var T=$.I("input");this.WE.push(T);T.setAttribute("type","text");
$.bw(T);if(Y==0)T.setAttribute("id",n);T.addEventListener("change",s,!1);var S=$.I("span");S.textContent="\xB0";
if(Y==0||k){C.appendChild(T);C.appendChild(S);$.FI(C)}}this.j(this.P)}dr.prototype=new gB;dr.prototype.k=function(){if(this.xe)this.Fd.textContent=hJ.get(this.xe)+":"};
dr.prototype.jO=function(I){this.Fd.textContent=I};dr.prototype.l=function(){return this.P.slice(0)};
dr.prototype.j=function(I,k){var a=this.P;I=I.slice(0);if(I[0]==null)I[0]=a[0];if(I[1]==null)I[1]=a[1];
if(I[2]==null)I[2]=a[2];this.P=I;var n=I[0],s=I[1],C=I[2],T=this.a5F,S=this.aeO,D=this.xN*.85;if(!T)s=0;
this.WE[0].value=n;this.WE[1].value=s;var o=this.hp;o.clearRect(0,0,100,100);n=Math.PI*n/180;s=D*(90-s)/90;
var v=this.xN+.5;o.save();o.translate(v,v);o.rotate(-n);o.strokeStyle="rgba(0,0,0,0.5)";o.beginPath();
o.ellipse(0,0,D,D*C,0,0,2*Math.PI);if(S){o.moveTo(0,-D*C);o.lineTo(0,D*C);o.moveTo(-s,0)}else o.moveTo(0,0);
o.lineTo(s,0);o.stroke();var g=this.xN*.15;o.fillStyle="black";o.beginPath();if(S){o.arc(0,-D*C,g*.66,0,2*Math.PI);
o.arc(0,D*C,g*.66,0,2*Math.PI)}if(T){o.arc(s,0,g*.4,0,2*Math.PI)}else{o.moveTo(v-g,-g*.66);o.lineTo(v,0);
o.lineTo(v-g,g*.66)}o.fill();o.restore();if(k)this.HW()};dr.prototype.HW=function(I){var k=parseInt(this.WE[0].value);
if(isNaN(k))k=0;var a=parseInt(this.WE[1].value);if(isNaN(a))a=0;k=k%360;a=a%360;this.j([k,a]);this.a(new d2(M.E.B,!1))};
dr.prototype.bg=function(I){$.YU(window,this.$v);$.hf(window,this.iu);var k=$.Ea(I,this.g8),v=0,g=1e9;
k.x-=this.xN;k.y-=this.xN;var a=this.P,n=a[0]*Math.PI/180,s=(90-a[1])/90,C=a[2],T=this.xN*.85,S=Math.sin(-n),D=Math.cos(-n),o=[new kK(D*T,S*T)];
if(this.aeO)o.push(new kK(-S*T*C,D*T*C),new kK(S*T*C,-D*T*C));for(var Y=0;Y<o.length;Y++){var d=kK.f0(k,o[Y]);
if(d<g){g=d;v=Y}}this.Yy=v;if(v==0)this.le(I)};dr.prototype.le=function(I){var k=$.Ea(I,this.g8),a=this.Yy,n=[],s=k.x-this.xN,C=k.y-this.xN,T=this.xN*.85;
if(a==0){var S=180*Math.atan2(-C,s)/Math.PI,D=90-90*Math.min(1,Math.sqrt(s*s+C*C)/T);if(I.shiftKey)S=Math.round(S/15)*15;
n=[Math.round(S),Math.round(D)]}else n=[null,null,Math.max(.01,Math.min(1,Math.sqrt(s*s+C*C)/T))];this.j(n);
this.a(new d2(M.E.B,!1))};dr.prototype.$r=function(I){this.a(new d2(M.E.B,!1));$.qD(window,this.$v);
$.Yf(window,this.iu)};function aB(I,k){gB.call(this);this.VQ=0;this.rE=k;this.Z=$.I("span","fitem angleinput");
if(I){this.Fd=$.I("label","flabel");this.xe=I;this.Z.appendChild(this.Fd)}this.g8=$.I("canvas","gsicon");
this.hp=this.g8.getContext("2d");$.hI(this.g8,k,k);this.Z.appendChild(this.g8);$.$j(this.g8);$.Ar(this.g8,this.bg.bind(this));
this.$v=this.le.bind(this);this.iu=this.$r.bind(this);this.j(0)}aB.prototype=new gB;aB.prototype.k=function(){if(this.xe)this.Fd.textContent=hJ.get(this.xe)+":"};
aB.prototype.jO=function(I){this.Fd.textContent=I};aB.prototype.l=function(){return this.VQ};aB.prototype.aml=function(I){var k=this.VQ,a=Math.floor(k/3),n=k-a*3;
n=Math.max(0,Math.min(2,n+I.x));a=Math.max(0,Math.min(2,a+I.y));this.j(a*3+n)};aB.prototype.j=function(I){this.VQ=I;
var k=this.g8.width,a=Math.floor(I/3),n=I-3*a,s=(n+.5)*k/3,C=(a+.5)*k/3,T=this.hp,S=[.5,Math.round(k/3)+.5,Math.round(2*k/3)+.5,k-.5];
T.clearRect(0,0,k,k);var D=this.rE<30;T.setLineDash([]);T.strokeStyle=D?"rgba(0,0,0,0.5)":"#000000";
T.beginPath();for(var Y=0;Y<4;Y++){var o=S[Y];T.moveTo(o,0);T.lineTo(o,k);T.moveTo(0,o);T.lineTo(k,o)}T.stroke();
if(I==9)return;if(!D){T.setLineDash([1,2]);var v=k*.53,g=Math.max(0,Math.min(k-v,s-v/2)),d=Math.max(0,Math.min(k-v,C-v/2));
T.strokeRect(Math.round(g)+.5,Math.round(d)+.5,Math.round(v),Math.round(v))}T.fillStyle="#000000";T.beginPath();
T.arc(s,C,k/8,0,Math.PI*2);T.fill()};aB.prototype.bg=function(I){$.YU(document.body,this.$v);$.hf(document.body,this.iu);
this.le(I)};aB.prototype.le=function(I){var k=$.Ea(I,this.g8),a=Math.max(0,Math.min(2,Math.floor(k.x/(this.rE/3)))),n=Math.max(0,Math.min(2,Math.floor(k.y/(this.rE/3))));
this.j(n*3+a)};aB.prototype.$r=function(I){this.a(new d2(M.E.B,!1));$.qD(document.body,this.$v);$.Yf(document.body,this.iu)};
function fT(bQ){gB.call(this);this.Z=$.I("span","fitem cswatch");this.awq=0;this.vM=[];this.rS=[];var I=this.avV.bind(this);
for(var Y=0;Y<bQ;Y++){this.vM.push(0);var k=$.I("span","colorsample");k.addEventListener("click",I,!1);
this.rS.push(k);this.Z.appendChild(k)}var a=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],n=Math.min(bQ,a.length);
for(var Y=0;Y<n;Y++)this.vM[Y]=a[Y];this.Wm()}fT.prototype=new gB;fT.prototype.avV=function(I){this.awq=this.rS.indexOf(I.currentTarget);
this.a(new d2(M.E.B))};fT.prototype.l=function(){return this.vM[this.awq]};fT.prototype.j=function(I){var k=this.vM,a=k.indexOf(I);
if(a!=-1)k.splice(a,1);else k.pop();k.unshift(I);this.Wm()};fT.prototype.Wm=function(){for(var Y=0;Y<this.vM.length;
Y++){this.rS[Y].setAttribute("style","background-color:#"+j.pB(this.vM[Y]))}};function ek(I){gB.call(this);
this.AG={$:0,H:0,J:0};this.jB=I;this.Z=$.I("span","fitem colorsample");this.Z.addEventListener("click",this.dk.bind(this),!1)}ek.prototype=new gB;
ek.prototype.k=function(){};ek.prototype.dk=function(I){var k=this.AG;this.a(new d2("click"));var a=new d2(M.E.b,!0);
a.data={q:M.p.Fu,aw:"colorpicker",Ej:j.EQ(k),XP:this.Ak.bind(this),Ph:this.jB};this.a(a)};ek.prototype.Ak=function(I){this.c1(I);
this.a(new d2(M.E.B))};ek.prototype.fp=function(){this.dk(null)};ek.prototype.mJ=function(){var I=this.AG;
return I.$<<16|I.H<<8|I.J};ek.prototype.l=function(){return j.G.pI(this.AG)};ek.prototype.c1=function(I){this.AG=j.uU(I);
this.awd()};ek.prototype.j=function(I){this.AG=j.G.GW(I);this.awd()};ek.prototype.awd=function(){var I=this.AG,k=I.$,a=I.H,n=I.J,s=k<<16|a<<8|n;
this.Z.setAttribute("style","background-color:#"+j.pB(s))};function jI(){gB.call(this);this.tF=!1;this._5=20;
this.a8G=10;this.Id=0;this.tF=!1;this.I6={$:255,H:0,J:0};this.QK={$:0,H:0,J:0};this.wY=null;this.Tt=null;
this.j0=[[0,0,0],[0,[[0,[1,1,1],1,.5],[1,[0,0,0],1,.5]],[0,0,0,1,1,0,0],[1,0,0,1,0,0]],[]];this.Z=$.I("canvas");
this.lX();$.$j(this.Z);$.Ar(this.Z,this.iE.bind(this))}jI.prototype=new gB;jI.prototype.ahn=function(I){if(this.tF==I)return;
this.tF=I;this.lX()};jI.prototype.k=function(){};jI.prototype.aaL=function(I,k){function a(n){return{$:n>>16&255,H:n>>8&255,J:n&255}}if(I!=null)this.I6=a(I);
if(k!=null)this.QK=a(k);this.lX()};jI.prototype.a4S=function(I,k){this.wY=I;this.Tt=k;this.lX()};jI.prototype.iE=function(I){var k=$.Ea(I,this.Z),a=k.x*$.Y(),n=k.y*$.Y(),s=this._5,C=this.a8G,T=0;
if(n>s){T=4+Math.floor(3*a/s)}else if(a<C&&n<C){T=0}else if(a>s-C&&n>s-C){T=1}else if(a<C){T=2}else{T=3}this.fp(T)};
jI.prototype.fp=function(I){var k=this.wY,a=new d2(M.E.b,!0);if(I>1){if(ht==0)a.data={q:M.p.iv,CU:f9.S8,ar:I};
else{var n=JSON.parse(JSON.stringify(k.qm));if(I==2){var s=n.mx;n.mx=n.Bv;n.Bv=s}if(I==3){n.Bv=[1,1,1];
n.mx=[0,0,0]}if(I>=4){var C=this.j0[I-4];if(this.Id==0)n.Bv=C;else n.mx=C}a.data={q:M.p.iv,CU:f9.to,P:n}}}else{var T=this.Ak.bind(this),S=this.Id;
this.Id=I;if(ht==0){var D=I==0?this.I6:this.QK;a.data={q:M.p.Fu,aw:"colorpicker",Ej:j.EQ(D),XP:T}}else{if(S!=I){this.lX();
return}var o=I==0?k.qm.Bv:k.qm.mx;if(o.length==0)o=[0,0,0];jI.arP(o,this,T);return}}this.a(a)};jI.prototype.Ak=function(I){var k=new d2(M.E.b,!0),n=this.Id,s=this.wY;
if(ht==0)k.data={q:M.p.iv,CU:f9.S8,ar:n,P:I};else{var C=I;if(typeof I=="number"){C=j.uU(I,1);C=[C.$,C.H,C.J]}var T=JSON.parse(JSON.stringify(s.qm));
if(n==0)T.Bv=C;else T.mx=C;k.data={q:M.p.iv,CU:f9.to,P:T}}this.a(k)};jI.prototype.lX=function(){var I=this.Z,k=I.getContext("2d"),a=$.Y(),a=$.Y(),n=this._5=Math.floor(34*a),s=Math.floor((n-2)/3),C="#aaaaaa",T=.62;
I.width=n;I.height=n+ht*(s+9);$.ZX(I);I.setAttribute("style",I.getAttribute("style")+";cursor:pointer");
var n=this._5=I.width,S=this.a8G=Math.round(n*T);function D(_,Z){var H=_.$,G=_.H,N=_.J;if(Z)H=G=N=Math.round(j.RL(H,G,N));
var z=H<<16|G<<8|N;return"#"+j.pB(z)}function o(k,d,_,Z,H,G){k.beginPath();if(Z>=G*2&&H>=G*2){k.moveTo(d+G,_);
k.lineTo(d+Z-G,_);k.quadraticCurveTo(d+Z,_,d+Z,_+G);k.lineTo(d+Z,_+H-G);k.quadraticCurveTo(d+Z,_+H,d+Z-G,_+H);
k.lineTo(d+G,_+H);k.quadraticCurveTo(d,_+H,d,_+H-G);k.lineTo(d,_+G);k.quadraticCurveTo(d,_,d+G,_)}k.closePath()}function v(d,_,S,Z,H){k.strokeStyle=H?H:"black";
k.fillStyle=Z;o(k,d+.5,_+.5,S-1,S-1,S*.2);k.fill();k.stroke()}var g=this.wY;if(g){k.beginPath();var d=n-S,R=Math.floor(S*.28),c=S-2*R;
k.lineWidth=1;k.strokeStyle="white";if(this.Id==0)jI.vN(k,g.qm.mx,this.Tt,S,S,d,d,!0);jI.vN(k,g.qm.Bv,this.Tt,S,S,0,0);
if(this.Id==1)jI.vN(k,g.qm.mx,this.Tt,S,S,d,d,!0);for(var Y=0;Y<3;Y++){k.beginPath();jI.vN(k,this.j0[Y],this.Tt,s,s,Y*(s+1),n+9,!1)}}else{v(n-S,n-S,S,D(this.QK,this.tF));
v(0,0,S,D(this.I6,this.tF))}var e=n-S,O=Math.round(e*T);v(n-O,e-O,O,ht==0?"white":"black",C);v(n-e,0,O,ht==0?"black":"white",C);
k.save();k.fillStyle=C;k.translate(0,n);k.rotate(-Math.PI/2);e=n-S;var U=Math.round(e*.28),K=Math.round(e*.25);
for(var Y=0;Y<2;Y++){k.fillRect(U,U,e-U,1);k.beginPath();k.moveTo(e-K,U+.5-K);k.lineTo(e,U+.5);k.lineTo(e-K,U+.5+K);
k.closePath();k.fill();k.transform(0,1,1,0,0,0)}k.restore()};jI.arP=function(I,k,a){var n=new d2(M.E.b,!0);
if(I.length==3)n.data={q:M.p.Fu,aw:"colorpicker",Ej:j.EQ({$:I[0]*255,H:I[1]*255,J:I[2]*255}),XP:a};else n.data={q:M.p.Fu,aw:"vgradienteditor",P:I,XP:a};
k.a(n)};jI.vN=function(I,k,a,n,s,C,T,S){function D(e,O){return CSS.zB({$:e[0]*255,H:e[1]*255,J:e[2]*255},O)}if(k==null){I.fillStyle="#888888";
I.clearRect(C,T,n,s);I.font=Math.round(s*.6*(S?.5:1))+"px sans-serif";I.fillStyle="white";if(S){I.fillText("?",C+n*.05,T+s*.3);
I.fillText("?",C+n*.8,T+s*.3);I.fillText("?",C+n*.05,T+s*.9);I.fillText("?",C+n*.8,T+s*.9)}else I.fillText("?",n*.36,s*.7)}else if(k.length==0){I.fillStyle="#ffffff";
I.fillRect(C,T,n,s);I.strokeStyle="#ff0000";I.lineWidth=2;I.moveTo(C,T);I.lineTo(C+n,T+s);I.moveTo(C,T+s);
I.lineTo(C+n,T);I.stroke()}else if(k.length==3){I.fillStyle=D(k);I.fillRect(C,T,n,s)}else if(k.length==4){var o=C+n/2,v=T+s/2,g=k[0]==0?I.createLinearGradient(C,T,C+n,T):I.createRadialGradient(o,v,0,o,v,n/2);
j.G.AL(g,k[1]);I.fillStyle=g;I.fillRect(C,T,n,s)}else if(k.length==2){var d=a.MI[k[0]];I.save();I.fillStyle="white";
I.fillRect(C,T,n,s);I.rect(C,T,n,s);I.scale(n/d.Q,s/d._);I.fillStyle=d.yU;I.fill();I.restore()}I.lineWidth=1;
I.strokeStyle="white";I.strokeRect(C+.5,T+.5,n-1,s-1);if(S){var R=Math.floor(n*.28),c=n-2*R;I.clearRect(C+R,C+R,c,c);
I.strokeRect(C+R+.5,C+R+.5,c-1,c-1)}};function bo(I){ca.call(this,I,!1,"brushbutton nopadding",19*13,10*13,f9.yO,!0);
var k=this.amn;$.fO(k,"flexrow");var a=$.I("div");k.appendChild(a);var n=$.I("div");k.appendChild(n);
n.setAttribute("style","margin-left:8px");this.MT=new dr(null,null,!0);this.MT.O(M.E.B,this.au,this);
a.appendChild(this.MT.Z);this.c2=new f7([12,14,0],1,1e3," px",0,!0);this.c2.O(M.E.B,this.au,this);n.appendChild(this.c2.Z);
this.d1=new f7([12,17],0,100,"%");this.d1.O(M.E.B,this.au,this);n.appendChild(this.d1.Z);this.hn=new da(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
this.hn.O(M.E.B,this.au,this);n.appendChild(this.hn.Z)}bo.prototype=new ca;bo.prototype.yW=function(){var I=["pencil","trees"];
for(var Y=0;Y<I.length;Y++)I[Y]="brushes/"+I[Y]+".abr";return I};bo.prototype.j=function(I,k,a){this.KA=JSON.parse(JSON.stringify(I));
var n=Math.floor(20*$.Y()),s=Math.floor(36*$.Y()),C=Math.floor(24*$.Y()),T=kN.cO(I,k,a,n,C,s);this.qH.setAttribute("src",T);
$.Kf(this.qH,s,C);var S=I.Brsh.v;this.c2.j(S.Dmtr.v.val);if(S.Hrdn!=null){this.d1.MK();this.d1.j(S.Hrdn.v.val)}else this.d1.hl();
if(S.Angl!=null)this.MT.j([S.Angl.v.val]);if(S.Rndn!=null)this.MT.j([null,null,S.Rndn.v.val/100]);var D=[!1,!1];
if(I.opVr)D[0]=I.opVr.v.bVTy.v==2;if(I.szVr)D[1]=I.szVr.v.bVTy.v==2;this.hn.j(D)};bo.prototype.li=function(){return{list:[{t:"Objc",v:this.l()}],HR:[],GR:[]}};
bo.prototype.l=function(){return this.KA};bo.prototype.Da=function(){if(!this.q5)return;var I=[],k=[],a=this.LP,n=Math.floor(33*$.Y()),s=Math.floor(40*$.Y());
for(var Y=0;Y<a.list.length;Y++){var C=a.list[Y].v,T=kN.cO(C,a.HR,a.GR,n,s);I.push(T);k.push(C.Nm.v)}this.FG.NX(I,k,n,s);
this.q5=!1};bo.prototype.tu=function(I){var k=this.LP;this.j(k.list[this.FG.l()[0]].v,k.HR,k.GR);this.a(new d2(M.E.B))};
bo.prototype.k=function(){ca.prototype.k.call(this);this.MT.k();this.c2.k();this.d1.k()};bo.prototype.au=function(I){var k=this.LP,a=this.KA,n=a.Brsh.v;
n.Dmtr.v.val=this.c2.l();if(n.Hrdn!=null)n.Hrdn.v.val=this.d1.l();if(n.Angl!=null)n.Angl.v.val=this.MT.l()[0];
if(n.Rndn!=null)n.Rndn.v.val=Math.round(this.MT.l()[2]*100);if(I.target==this.hn)kJ.al3(a,this.hn.l());
this.j(a,k.HR,k.GR);this.a(new d2(M.E.B))};function e$(I){ca.call(this,I,!0,"contourbutton",17*13,10.5*13,f9.H1)}e$.prototype=new ca;
e$.prototype.tu=function(I){this.j(this.LP[I.target.l()]);this.a(new d2(M.E.B))};e$.prototype.Iz=function(I){var k=new d2(M.E.b,!0);
k.data={q:M.p.Fu,aw:"contoureditor",PJ:this.KA,response:this.a94.bind(this)};this.a(k)};e$.prototype.a94=function(I){this.j(I);
this.a(new d2(M.E.B))};e$.prototype.Da=function(){if(!this.q5)return;var I=Math.floor(38*$.Y()),k=Math.floor(38*$.Y()),a=[],n=[],s=this.LP;
for(var Y=0;Y<s.length;Y++){n.push(s[Y].Nm?s[Y].Nm.v:"");a.push(j.IJ.cO(s[Y].Crv.v,I,k))}this.FG.NX(a,n,I,k);
this.q5=!1};e$.prototype.j=function(I){this.KA=JSON.parse(JSON.stringify(I));var k=this.KA.Crv.v;for(var Y=0;
Y<k.length;Y++)if(k[Y].v.Cnty==null)k[Y].v.Cnty={t:"bool",v:!0};this.OC()};e$.prototype.OC=function(){var I=Math.floor(30*$.Y()),k=Math.floor(30*$.Y()),a=j.IJ.cO(this.KA.Crv.v,I,k);
this.qH.setAttribute("src",a);$.Kf(this.qH,I,k)};e$.prototype.l=function(){return JSON.parse(JSON.stringify(this.KA))};
function kd(I){gB.call(this);this.Xc=null;this.wY=null;this.yM=null;this.Bz=null;this.aiT=[];this.a3S=[];
this.Z=$.I("span","fitem fillbutton");this.LL=new gB;this.LL.Z=$.I("div","floatcont form");this.LL.Z.setAttribute("style","width: 21em;");
this.LL.parent=this;this.sr=I;this.Fd=this.Fd=$.I("label","flabel");this.Z.appendChild(this.Fd);this.g8=$.I("canvas");
this.hp=this.g8.getContext("2d");this.ajP=null;this.Z.appendChild(this.g8);$.Ar(this.g8,this.Sn.bind(this));
this.a3=new f8([12,66],["","Color","Grad","Patt"]);this.LL.Z.appendChild(this.a3.Z);this.a3.O(M.E.B,this.lf,this);
this.LL.Z.appendChild($.I("hr"));this.aBR=$.I("span");this.Gb=new ek(!1);this.Gb.parent=this.LL;this.Gb.O(M.E.B,this.lf,this);
this.IN=new fT(10);this.IN.O(M.E.B,this.lf,this);this.Ff=$.I("div","marged hiline");this.Ff.appendChild(this.Gb.Z);
$.FI(this.Ff);this.Ff.appendChild(this.IN.Z);this.HQ=new bF("GrFl",!0);this.HQ.parent=this.LL;this.HQ.O(M.E.B,this.lf,this);
this.lK=$.I("div","marged hiline");var k="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var Y=0;
Y<k.length;Y++){var a=this.HQ.Ko[k[Y]].Z;this.lK.appendChild(a)}this.Vn=new bF("patternFill",!0);this.Vn.parent=this.LL;
this.Vn.O(M.E.B,this.lf,this);this.vm=$.I("div","marged hiline");var k=["Ptrn","Angl","Scl","Algn","phase"];
for(var Y=0;Y<k.length;Y++){var a=this.Vn.Ko[k[Y]].Z;this.vm.appendChild(a)}}kd.prototype=new gB;kd.prototype.wu=function(I,k){var a=dG.f2(I,k);
if(a!=null)this.IN.j(a);if(k==f9.Al){this.aiT=[];this.a3S=[];if(this.Xc)this.j(this.yM,this.l(),this.Xc)}this.wY=I;
this.HQ.wu(I,k);this.Vn.wu(I,k)};kd.prototype.k=function(){this.Fd.textContent=hJ.get(this.sr)+": ";
this.a3.k();this.Gb.k();this.HQ.k();this.Vn.k()};kd.prototype.lf=function(I){var k=I.currentTarget;if(k==this.a3){var a=this.a3.l(),n={nE:a,aG:this.Xc[a]};
if(a>0&&n.aG==null)n.aG=JSON.parse(JSON.stringify(fY.T8[a-1]));if(this.Xc)this.j(this.yM,n,this.Xc)}if(k==this.IN)this.Gb.c1(k.l());
this.a(new d2(M.E.B,!1))};kd.prototype.Sn=function(I){if($.TU(this.LL.Z))return;I.stopPropagation();
var k=this.g8.getBoundingClientRect(),a=new d2(M.E.b,!0);a.data={q:M.p.ut,zM:this.LL,x:k.left,y:k.top+k.height+4};
this.a(a)};kd.prototype.j=function(I,k,a){this.Xc=a;this.yM=I;var n=[[13,1,0],[13,0],[12,37],[12,62]],s=this.aiT,C=this.a3S,T=!1,v;
for(var Y=0;Y<4;Y++){var S={nE:Y,aG:a[Y]},D=kd.ah7(S);if(C[Y]==D)continue;T=!0;var o=kd.a11(null,S,this.wY,this.yM,22,22,!1);
s[Y]="<img width=\"22\" height=\"22\" src=\""+o+"\" />";C[Y]=D}if(T)this.a3.wS(s,n);this.a3.j(k.nE);
var D=kd.ah7(k);if(D!=this.ajP)kd.a11(this.hp,k,this.wY,this.yM,30,23,!0);this.ajP=D;var g=k.nE;if(g==0){v=this.aBR}if(g==1){this.Gb.j(k.aG.Clr.v);
v=this.Ff}if(g==2){this.HQ.update(I,k.aG);v=this.lK}if(g==3){this.Vn.update(I,k.aG);v=this.vm}if(v!=this.Bz){if(this.Bz!=null){this.LL.Z.removeChild(this.Bz)}this.LL.Z.appendChild(v);
this.Bz=v}};kd.prototype.l=function(){var I={nE:this.a3.l()};if(I.nE==1){I.aG=JSON.parse(JSON.stringify(fY.T8[0]));
I.aG.Clr.v=this.Gb.l()}if(I.nE==2){I.aG=this.HQ.l()}if(I.nE==3){I.aG=this.Vn.l()}return I};kd.ah7=function(I){var k=I.nE,a=I.aG,n="empty";
if(k==1){n=j.G.GW(a.Clr.v);n=n.$+","+n.H+","+n.J}if(k==2)n=JSON.stringify(a.Grad.v);if(k==3)n=a.Ptrn.v.Idnt.v;
return n};kd.a11=function(I,k,a,n,s,C,T){if(I==null)I=kd.hp;var S=Math.floor(s*$.Y()),D=Math.floor(C*$.Y()),o=I.canvas;
o.width=S;o.height=D;$.Kf(o,S,D);kd.abw(I,k,a,n,S,D);if(T){I.beginPath();I.strokeStyle="#000000";I.fillStyle="#ffffff";
I.lineWidth=2;var v=S*.7,g=Math.floor(D*.7),d=7*$.Y();I.moveTo(v,g);I.lineTo(v+d,g);I.lineTo(v+d/2,g+d/2);
I.closePath();I.stroke();I.fill()}if(I==kd.hp)return o.toDataURL()};kd.hp=$.I("canvas").getContext("2d");
kd.abw=function(I,k,a,n,s,C,T,S){if(T==null)T=0;if(S==null)S=0;var D=k.nE;if(D==0){I.fillStyle="#ffffff";
I.fillRect(T,S,s,C);I.strokeStyle="#ff0000";I.lineWidth=2;I.moveTo(T,S);I.lineTo(T+s,S+C);I.moveTo(T,S+C);
I.lineTo(T+s,S);I.stroke()}if(D==1){var o=k.aG.Clr.v;o=j.G.GW(o);I.fillStyle="#"+j.pB(o.$<<16|o.H<<8|o.J);
I.fillRect(T,S,s,C)}if(D==2){var v=E.hJ.cO(k.aG.Grad.v,s,C,0,a.MW,a.U2,!0);I.putImageData(v,T,S)}if(D==3){var g=k.aG.Ptrn.v,d;
if(n!=null)d=hB.HP(g,n.add.Patt);if(d==null)d=hB.HP(g,a.Vh);jY.cO(d,s,C,I.canvas)}};function jY(I){ca.call(this,I,!1,"patternbutton",18*13,10*13,f9.Al);
this.ig=null}jY.prototype=new ca;jY.prototype.tu=function(I){var k=this.LP[this.FG.l()];this.KA={classID:"Ptrn",Nm:{t:"TEXT",v:k.name},Idnt:{t:"TEXT",v:k.id}};
this.a(new d2(M.E.B));this.OC()};jY.prototype.Da=function(){if(!this.q5)return;var I=this.LP,k=Math.floor(34*$.Y()),a=Math.floor(34*$.Y()),n=[],s=[];
for(var Y=0;Y<I.length;Y++){n.push(jY.cO(I[Y],k,a));s.push(I[Y].name)}this.FG.NX(n,s,k,a);this.q5=!1};
jY.prototype.j=function(I,k){if(this.KA&&I.Idnt.v==this.KA.Idnt.v)return;this.KA=JSON.parse(JSON.stringify(I));
this.OC(k)};jY.prototype.l=function(){return JSON.parse(JSON.stringify(this.KA))};jY.prototype.li=function(){return this.ig?[this.ig]:[]};
jY.prototype.OC=function(I){var k=Math.floor(50*$.Y()),a=Math.floor(50*$.Y()),n;if(I!=null)n=hB.HP(this.KA,I.add.Patt);
if(n==null)n=hB.HP(this.KA,this.LP);this.ig=n;var s=jY.cO(n,k,a);this.qH.setAttribute("src",s);$.Kf(this.qH,k,a)};
jY.g8=$.I("canvas","");jY.cO=function(I,k,a,n){if(n==null)n=jY.g8;var s=n.getContext("2d");n.width=k;
n.height=a;if(I){var C=I.ZS[1],T=C.Q,S=C._,D=I.ZS[0],o=Math.min(k/T,a/S),v=o;if(v*T<2)v=2/T;var g=o;
if(g*S<2)g=2/S;var d=E.nF.on([D,C],new dc(v,0,0,g,0,0),v>2),R=d.rect.Q,c=d.rect._,e=s.createImageData(R,c);
j.ed(d.buffer,e.data);s.putImageData(e,Math.floor((k-R)/2),Math.floor((a-c)/2))}return n.toDataURL()};
function fn(I,k,a){if(k==null)k=24.2;if(a==null)a=17;ca.call(this,I,!1,"patternbutton",k*13,a*13,f9.EW);
this.lp=""}fn.prototype=new ca;fn.prototype.tu=function(I){this.KA=JSON.parse(JSON.stringify(this.LP[0][this.FG.l()[0]]));
this.a(new d2(M.E.B))};fn.prototype.Da=function(){var I=this.LP;if(I==null||!this.q5)return;var k=Math.floor(50*$.Y()),a=Math.floor(50*$.Y()),n=[],s=[];
for(var Y=0;Y<I[0].length;Y++){n.push(fn.cO(this.LP[0][Y].ov,k,a,this.LP[1]));s.push(I[0][Y].Nu.Nm.v.split("=").pop())}this.FG.NX(n,s,k,a);
this.q5=!1};fn.prototype.j=function(I,k,a,n){var s=JSON.stringify(I.ov)+","+a+","+n;if(this.lp!=s){this.lp=s;
this.KA=JSON.parse(JSON.stringify(I));this.OC(k,a,n)}};fn.prototype.l=function(){return JSON.parse(JSON.stringify(this.KA))};
fn.prototype.OC=function(I,k,a){var n=Math.floor(68*$.Y()),s=Math.floor(68*$.Y()),C=fn.cO(this.KA.ov,n,s,I?I:this.LP[1],k,a);
this.qH.setAttribute("src",C);$.Kf(this.qH,n,s)};fn.cO=function(I,k,a,n,s,C){var T=new iJ;T.Q=k;T._=a;
T.buffer=j.U(k*a*4);T.add.Patt=n;T.Lz(s==null?90:s);T.zu(C==null?30:C);var S=new eZ(0,0,Math.round(k*.5),Math.round(a*.5));
S.x=Math.round((k-S.Q)/2);S.y=Math.round((a-S._)/2);var D=T.ux();D.rect=S;D.buffer=j.U(S.c()*4);j.IP(D.buffer,4284045657);
hB.aA7(I,D,.5*100);T.R.push(D);T.N_();T.V();var o=dZ.QV;dZ.QV=!1;T.pa();var v=T.TB();dZ.QV=o;var g=kk.$U(v.buffer,T.Q,T._);
return g};function hk(I){ca.call(this,null,!1,"tpresetbutton",18*13,24*13,f9.Cd,!0);$.St(this.Z,"fitem");
this.FG.oW(1);this.id=I;this.OC();this.q.style.overflow="hidden";this.C9=new dI([15,7,9]);this.C9.j(!0);
this.C9.O(M.E.B,this.aqx,this);this.X_.appendChild(this.C9.Z)}hk.prototype=new ca;hk.prototype.a8f=function(I){if(this.id==I)return;
this.id=I;this.rt(this.LP)};hk.prototype.tu=function(I){var k=this.LP[this.FG.l()],a=new d2(M.E.b,!0);
a.data={q:M.p.iv,S9:"set",CU:f9.Cd,Q$:k};this.a(a)};hk.prototype.k=function(){ca.prototype.k.call(this);
this.C9.k()};hk.prototype.aqx=function(){this.q5=!0;this.Da()};hk.prototype.Da=function(){if(!this.q5)return;
var I=Math.floor(16*$.Y()),k=Math.floor(16*$.Y()),a=[],n=[],s=this.LP,C=this.C9.l();for(var Y=0;Y<s.length;
Y++){var T=E.MC[s[Y][1].classID];if(!C||T==this.id){n.push(s[Y][0]?s[Y][0].split("=").pop():"");a.push(T==-1?"":PIMG[E.k1[T]])}else{a.push(null);
n.push(null)}}this.FG.NX(a,n,I,k);this.q5=!1};hk.prototype.OC=function(){var I=this.qH;I.setAttribute("src",PIMG[E.k1[this.id]]);
$.fO(I,"toolicon")};hk.prototype.li=function(){return null};hk.q6={};hk.cO=function(I,k,a){var n=hk.hp,s=hk.q6,C=j.pB(I.$<<16|I.H<<8|I.J);
if(s[C])return s[C];if(n==null){var T=$.I("canvas");n=hk.hp=T.getContext("2d")}var T=n.canvas;T.width=k;
T.height=a;n.fillStyle="#"+C;n.fillRect(0,0,k,a);var S=s[C]=T.toDataURL();return S};function fU(I,k,a){gB.call(this);
this.Z=$.I("span","fitem curveeditor");this.rP=null;this.a0i=0;this.aF="";this.mode=0;this.NV=I;this.asI=k;
this.apg=a;this.uL=null;this.W1=null;this.ae9=0;this.a9x=0;this.WL=new kK;this.v1=this.le.bind(this);
this.aW=this.$r.bind(this);this.rE=256;this.g8=$.I("canvas");this.hp=this.g8.getContext("2d");$.$j(this.g8);
this.Z.appendChild(this.g8);this.bb(256,256);$.Ar(this.g8,this.bg.bind(this));this.coords=$.I("div");
this.coords.setAttribute("style","width:250px");this.Z.appendChild(this.coords);var n=this.Xa=a?100:255,s=null;
this.gX=new fM("X (in)",0,n,s,0,!1,!0);this.YN=new fM("Y (out)",0,n,s,0,!1,!0);this.uE=new dI([19,3,0]);
this.gX.O(M.E.B,this.bY,this);this.YN.O(M.E.B,this.bY,this);this.uE.O(M.E.B,this.bY,this);this.coords.appendChild(this.gX.Z);
if(a)this.coords.appendChild(this.uE.Z);this.coords.appendChild(this.YN.Z)}fU.prototype=new gB;fU.prototype.k=function(){this.uE.k();
this.gX.k();this.YN.k()};fU.prototype.bb=function(I,k){this.rE=Math.round(I);this.hp.resetTransform();
$.hI(this.g8,this.rE,this.rE,this.hp);this.hp.scale(this.rE/256,this.rE/256);if(this.uL)this.LI()};fU.prototype.bY=function(I){var Y=this.avG(),k=this.uL[Y],a=255/this.Xa;
k.v.Hrzn.v=this.gX.l()*a;k.v.Vrtc.v=this.YN.l()*a;if(this.apg)k.v.Cnty.v=this.uE.l();this.uL.sort(function(n,s){return n.v.Hrzn.v-s.v.Hrzn.v});
this.LI();this.a(new d2(M.E.B))};fU.prototype.j=function(I,Y){var k=JSON.stringify(I);if(k==JSON.stringify(this.uL))return;
this.mode=I.length==256?1:0;this.uL=JSON.parse(k);if(Y!=null)this.W1=this.uL[Y];this.LI()};fU.prototype.cC=function(I,k,a){this.rP=I;
this.a0i=k;this.aF=a;this.LI()};fU.prototype.l=function(){return JSON.parse(JSON.stringify(this.uL))};
fU.prototype.avG=function(){return this.uL.indexOf(this.W1)};fU.prototype.bg=function(I){var k=256/this.rE,a=$.Ea(I,this.g8);
a.x*=k;a.y*=k;var n=a.x,s=256-a.y;if(this.NV){var C=n;n=256-s;s=C}this.WL.dZ(n,s);if(this.mode==0){var T=0,S=1e9,d;
for(var Y=0;Y<this.uL.length;Y++){var D=this.uL[Y].v,o=D.Hrzn.v-n,v=D.Vrtc.v-s,g=Math.sqrt(o*o+v*v);
if(g<S){S=g;T=Y}}if(S<15)d=this.uL[T];else{d=j.IJ.bj(n,s,!0);this.uL.push(d);this.uL.sort(function(R,c){return R.v.Hrzn.v-c.v.Hrzn.v})}this.W1=d;
this.a9x=this.uL.slice(0)}$.YU(document.body,this.v1);$.hf(document.body,this.aW);this.le(I)};fU.prototype.le=function(I){var k=256/this.rE,a=$.Ea(I,this.g8);
a.x*=k;a.y*=k;var n=a.x,s=256-a.y;if(this.NV){var C=n;n=256-s;s=C}if(this.mode==0){var T=this.uL,S=this.W1,D=this.a9x,o=D.indexOf(S),v=T.indexOf(S)!=-1,g=D.length-1,d=n;
if(o==0){d=Math.max(0,Math.min(D[1].v.Hrzn.v-1,n))}else if(o==g){d=Math.min(255,Math.max(D[g-1].v.Hrzn.v+1,n))}else{var R=n<0||n>255||s<0||s>255;
if(n<=D[o-1].v.Hrzn.v||n>=D[o+1].v.Hrzn.v)R=!0;if(!R&&!v)T.splice(o,0,S);if(R&&v)T.splice(o,1)}if(this.asI&&(o==0||o==D.length-1)){}else S.v.Hrzn.v=Math.round(d);
S.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(s)))}else{n=Math.round(n);s=Math.round(s);n=Math.max(0,Math.min(255,n));
s=Math.max(0,Math.min(255,s));var c=this.WL.x,e=n,O=this.WL.y,U=s;if(n<this.WL.x){e=c;c=n;U=O;O=s}this.uL[n]=s;
if(c!=e)for(var K=c;K<=e;K++)this.uL[K]=Math.round(O+(K-c)*(U-O)/(e-c))}this.WL.dZ(n,s);this.LI();this.a(new d2(M.E.B))};
fU.prototype.$r=function(I){$.qD(document.body,this.v1);$.Yf(document.body,this.aW);this.a(new d2(M.E.B))};
fU.prototype.LI=function(){var I=this.hp,k=this.g8;I.fillStyle="#ffffff";I.fillRect(0,0,256,256);var a=256/k.width;
if(this.rP){I.save();I.translate(0,256);I.scale(1,-1);aJ.awQ(I,this.rP,5700/this.a0i,this.aF);I.restore()}I.strokeStyle="#aaaaaa";
I.lineWidth=1*a;I.beginPath();for(var Y=1;Y<4;Y++){var n=(Math.floor(64*Y/a)+.5)*a;I.moveTo(0,n);I.lineTo(255,n);
I.moveTo(n,0);I.lineTo(n,255)}I.stroke();if(this.NV){I.save();I.transform(0,1,-1,0,256,0)}if(this.mode==0){var s=this.uL,C=j.IJ.pH(s,256);
I.strokeStyle="#000000";I.beginPath();I.moveTo(0,255.5-C[0]);for(var Y=0;Y<256;Y++)I.lineTo(Y,255.5-C[Y]);
I.stroke();I.lineWidth=2*a;for(var Y=0;Y<s.length;Y++){var T=s[Y].v;I.fillStyle=this.W1==s[Y]?"#333":"#fff";
I.beginPath();I.moveTo(T.Hrzn.v,255.5-T.Vrtc.v);I.arc(T.Hrzn.v,255.5-T.Vrtc.v,5*a,0,2*Math.PI);I.stroke();
I.fill()}}else{var C=this.uL;I.strokeStyle="#000000";I.beginPath();I.moveTo(0,255.5-C[0]);for(var Y=0;
Y<256;Y++)I.lineTo(Y,255.5-C[Y]);I.stroke()}if(this.NV)I.restore();var Y=this.avG();this.coords.className=Y==-1?"disabled":"";
if(Y==-1)return;var T=this.uL[Y].v,S=255/this.Xa;this.gX.j(Math.round(T.Hrzn.v/S));this.YN.j(Math.round(T.Vrtc.v/S));
if(T.Cnty)this.uE.j(T.Cnty.v)};function aJ(I,k){gB.call(this);this.Z=$.I("span","");this.PF=new fB([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);
this.PF.O(M.E.B,this.lX,this);this.Z.appendChild(this.PF.Z);$.FI(this.Z);var a=$.I("div");this.Z.appendChild(a);
a.setAttribute("style","background-color: var(--bg-canvas); margin:6px 0;");this.g8=$.I("canvas");var n=this.g8;
a.appendChild(n);n.width=Math.round(I*$.Y());n.height=Math.round(100*$.Y());$.Kf(n,n.width,n.height);
n.style.display="block";this.hp=n.getContext("2d");this.rP=null;this.ui=0;this.ajR=null;this.a3F=[];
this.uH=[];var s=["Mean:","Pixels:"],C=this.Z;if(k)for(var Y=0;Y<s.length;Y++){var T=new gv(s[Y]);this.a3F.push(T);
C.appendChild(T.Z);var S=new gv("hi");this.uH.push(S);C.appendChild(S.Z);$.FI(C)}}aJ.prototype=new gB;
aJ.prototype.k=function(){this.PF.k()};aJ.prototype.oW=function(I){this.PF.j(I);this.lX()};aJ.prototype.j=function(I,k){this.rP=I;
this.ajR=k;this.lX()};aJ.prototype.c1=function(I){if(I==this.ui)return;this.ui=I;this.lX()};aJ.prototype.lX=function(){if(this.rP==null)return;
var I=this.g8,k=this.hp,a=this.rP,n=this.ajR,s=this.PF.l(),C=6e3/a[4],T="#"+j.pB(this.ui),S=aJ.awQ;I.width=I.width;
k.setTransform(I.width/256,0,0,-I.height/100,0,I.height);k.globalCompositeOperation="lighter";if(s==0)S(k,a[0],C/3,T);
else if(s<4)S(k,a[s],C,T);else{S(k,a[1],C,"#ff0000");S(k,a[2],C,"#00ff00");S(k,a[3],C,"#0000ff")}k.setTransform(1,0,0,1,0,0);
if(n!=null){if(s==4)s=0;var D=0;for(var Y=0;Y<256;Y++)D+=Y*a[s][Y];if(s==0)D/=3;this.uH[0].j((D/n).toFixed(1)+"");
this.uH[1].j(n+"")}};aJ.awQ=function(I,k,a,n){I.beginPath();I.moveTo(0,0);for(var s=0;s<256;s++)I.lineTo(s,k[s]*a);
I.lineTo(256,0);I.closePath();I.fillStyle=n;I.fill()};function bB(I,k){gB.call(this);this.Kj={$:0,H:0,J:0};
if(Math.abs(I-256/$.Y())<10)I=256/$.Y();var a=this.Z=$.I("div","flexrow");a.style.position="relative";
var n=this.arz=$.I("div");a.appendChild(n);this.wo=new kK;this.Fo=new kK;this.$v=this.B_.bind(this);
this.iu=this.aaF.bind(this);this.g8=$.I("canvas","");this.hp=this.g8.getContext("2d");this.g8.width=this.g8.height=256;
this.anz=this.hp.getImageData(0,0,256,256);this.a1y=-1;this.alS="";this.d9=null;$.$j(this.g8);$.Ar(this.g8,this.atN.bind(this));
n.appendChild(this.g8);this.ajz=this.ay7.bind(this);this.amN=this.a4c.bind(this);this.XH=$.I("canvas","");
this.gU=this.XH.getContext("2d");this.XH.width=20;this.XH.height=256;this.afZ=this.gU.getImageData(0,0,20,256);
bB.aAj(this.afZ.data,20,256);$.$j(this.XH);$.Ar(this.XH,this.atm.bind(this));a.appendChild(this.XH);
this.g8.setAttribute("style","width:"+I+"px; height:"+I+"px");this.XH.setAttribute("style","width:16px; height:"+I+"px");
this.GM=new dI("Web Colors\u2001");this.GM.O(M.E.B,this.update,this);this.oa=new dI("CMYK gamut");this.oa.O(M.E.B,this.update,this);
if(k){$.FI(n);n.appendChild(this.GM.Z);n.appendChild(this.oa.Z)}var s=this.$D=document.createElementNS("http://www.w3.org/2000/svg","svg");
a.appendChild(s)}bB.prototype=new gB;bB.prototype.bb=function(I,k){this.g8.style.width=this.arz.style.width=I-16+"px"};
bB.prototype.j=function(I){if(this.GM.l()){var k=JSON.parse(JSON.stringify(I));bB.Km(k);var a=this.l();
if(k.$==a.$&&k.H==a.H&&k.J==a.J)I=this.Kj}this.Kj=I;this.update()};bB.prototype.l=function(){var I=JSON.parse(JSON.stringify(this.Kj));
if(this.GM.l())bB.Km(I);return I};bB.prototype.update=function(){var I=this.Kj,k=j.zH(I.$,I.H,I.J),S=18;
if(k.B9==0)k.Yl=this.wo.x/255;if(k.Yl==0||k.B9==0)k.L4=(255-this.y4(this.Fo.y))/255;if(k.B9!=0)this.wo.x=k.Yl*255;
this.wo.y=(1-k.B9)*255;this.Fo.y=(1-k.L4)*255;var a=this.anz,n=this.GM.l(),s=this.oa.l(),C=n+","+s;if(Math.abs(k.L4-this.a1y)>.002||this.alS!=C){this.aeh(a.data,256,256,k.L4,n,s);
this.aAC();this.a1y=k.L4;this.alS=C}var T=this.hp;T.putImageData(a,0,0);a=this.afZ;T=this.gU;T.putImageData(a,0,0);
T.strokeStyle="#ffffff";T.beginPath();T.moveTo(0,this.Fo.y);T.lineTo(20,this.Fo.y);T.lineWidth=2;T.stroke();
var D=this.wo.y/255,o=parseFloat(this.g8.style.width),v=parseFloat(this.g8.style.height),g=this.$D;g.setAttribute("width",S);
g.setAttribute("height",S);var d=Math.round(I.$*255)<<16|Math.round(I.H*255)<<8|Math.round(I.J*255),R="<circle cx=\""+S/2+"\" cy=\""+S/2+"\" r=\""+S/2+"\" fill=\"#"+j.pB(d)+"\"></circle>";
R+="<circle cx=\""+S/2+"\" cy=\""+S/2+"\" r=\""+(-.5+S/2)+"\" fill=\"none\" stroke=\"rgba(255,255,255,"+(.5-.2*D)+")\" stroke-width=\"1\"></circle>";
R+="<circle cx=\""+S/2+"\" cy=\""+S/2+"\" r=\""+(-1.2+S/2)+"\" fill=\"none\" stroke=\"rgba(0,0,0,0.07)\" stroke-width=\"0.4\"></circle>";
g.innerHTML=R;g.style.pointerEvents="none";g.style.filter="drop-shadow(0px 3px 2px rgba(0,0,0,0.4)";
g.style.position="absolute";g.style.left=o*(this.wo.x/255)-S/2+"px";g.style.top=v*(this.wo.y/255)-S/2+"px"};
bB.Km=function(I){I.$=~~(.5+I.$*5)*.2;I.H=~~(.5+I.H*5)*.2;I.J=~~(.5+I.J*5)*.2};bB.prototype.aeh=function(I,k,a,n,s,C){var T=1/k,S=1/a;
for(var D=0;D<a;D++)for(var o=0;o<k;o++){var v=j.ps(n,o*T,(a-D-1)*S);if(s)bB.Km(v);var Y=D*k+o<<2;I[Y+0]=~~(v.$*255);
I[Y+1]=~~(v.H*255);I[Y+2]=~~(v.J*255);I[Y+3]=255}if(C){var g=I.slice(0),d=j.Qw("rgbToRgbC"),R=d[2],c=d[3];
ICC.U.applyLUT(c,R,g,g);this.d9=j.U(k*a);for(var Y=0;Y<I.length;Y+=4){var e=I[Y]-g[Y],O=I[Y+1]-g[Y+1],U=I[Y+2]-g[Y+2],K=e*e+O*O+U*U;
if(K>300){I[Y]=I[Y+1]=I[Y+2]=200;this.d9[Y>>>2]=255}}}};bB.aAj=function(I,k,a,n,s){if(n==null)n=1;if(s==null)s=0;
var C=new Uint32Array(I.buffer);for(var T=0;T<a;T++){var S=j.ps((1+n*(1-T/a)+s)%1,1,1),D=255<<24|S.J*255<<16|S.H*255<<8|S.$*255;
for(var o=0;o<k;o++)C[T*k+o]=D}};bB.prototype.atN=function(I){$.YU(window,this.$v);$.hf(window,this.iu);
this.B_(I);this.$D.style.transition="transform 150ms cubic-bezier(.4,2.2,.6,.5)";this.$D.style.transform="scale(2.4)"};
bB.prototype.aaF=function(I){$.qD(window,this.$v);$.Yf(window,this.iu);this.$D.style.transition="transform 200ms cubic-bezier(.4,2.2,.6,.5)";
this.$D.style.transform="scale(1)"};bB.prototype.B_=function(I){var k=$.Ea(I,this.g8);k.x=k.x*(256/parseFloat(this.g8.style.width));
k.y=k.y*(256/parseFloat(this.g8.style.height));this.wo.dZ(this.y4(k.x),this.y4(k.y));this.aAC();this.Rb()};
bB.prototype.aAC=function(){if(!this.oa.l())return;var I=this.wo,k=0,a=0,n=1e9;for(var s=0;s<256;s++){for(var C=0;
C<256;C++){if(this.d9[s*256+C]==255)continue;var T=C-I.x,S=s-I.y,D=T*T+S*S;if(D<n){k=C;a=s;n=D}}}I.x=k;
I.y=a};bB.prototype.Rb=function(){this.Kj=this.a4v();this.a(new d2(M.E.B))};bB.prototype.a4v=function(){var I=j.ps((255-this.y4(this.Fo.y))/255,this.qQ(this.wo.x/255),this.qQ(1-this.wo.y/255));
return{$:I.$,H:I.H,J:I.J}};bB.prototype.atm=function(I){$.YU(window,this.ajz);$.hf(window,this.amN);
this.ay7(I)};bB.prototype.a4c=function(I){$.qD(window,this.ajz);$.Yf(window,this.amN)};bB.prototype.ay7=function(I){var k=$.Ea(I,this.XH);
k.y=k.y*(256/parseFloat(this.XH.style.height));this.Fo.dZ(this.y4(k.x),this.y4(k.y));this.Rb()};bB.prototype.y4=function(I){return Math.max(0,Math.min(255,I))};
bB.prototype.qQ=function(I){return Math.max(0,Math.min(1,I))};function ak(I,k,a,n){var s=f8.Tj(k,n);
f8.call(this,I,s,a)}ak.prototype=new f8;function i_(){gB.call(this);this.tb=null;this.ko=new ic;this.ko.O(M.E.B,this.alu,this);
this.ko.parent=this;this.su=new fM([12,14,0],1,150,"px",2,!0);this.su.O(M.E.B,this.rs,this);this.su.parent=this;
this.UZ=new fM([16,0],.01,100,"px",2,!0,null,5);this.UZ.O(M.E.B,this.rs,this);this.UZ.parent=this;this.j_=new dI("Auto");
this.j_.O(M.E.B,this.rs,this);this.x1=new fM([16,1],-500,5e3,"%",0,!0);this.x1.O(M.E.B,this.rs,this);
this.x1.parent=this;this.Hk=new fM("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this.Hk.O(M.E.B,this.rs,this);
this.Hk.parent=this;this.Xt=new fM("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this.Xt.O(M.E.B,this.rs,this);
this.Xt.parent=this;this.KT=new fM([16,2],-10,10,"px");this.KT.O(M.E.B,this.rs,this);this.KT.parent=this;
this.$d=new ek(!0);this.$d.O(M.E.B,this.eN,this);this.$d.parent=this;this.fj=new ek(!0);this.fj.O(M.E.B,this.eN,this);
this.fj.parent=this;this.$B=new ek(!0);this.$B.O(M.E.B,this.eN,this);this.$B.parent=this;this.mW=new ek(!0);
this.mW.O(M.E.B,this.eN,this);this.mW.parent=this;this.ql=new dI([2,3]);this.ql.O(M.E.B,this.rs,this);
this.Be=new dI([14,9]);this.Be.O(M.E.B,this.rs,this);this.qa=new dI([12,46]);this.qa.O(M.E.B,this.rs,this);
this.nC=new eI(!0,!0);this.nC.O(M.E.B,this.rs,this);this.k_=new iP("...",null,null,!0);this.k_.Z.style.marginLeft="-8px";
$.Ar(this.k_.Z,this.asU.bind(this));this.LL=new gB;var I=this.LL.Z=$.I("div","floatcont form"),s=100;
this.LL.parent=this;this.nC.parent=this.LL;this._1=new fM([12,41],1,20,"px",0,!0,!0);this._1.Z.style.marginLeft="16px";
this._1.O(M.E.B,this.rs,this);this._1.parent=this.LL;I.appendChild(this.fj.Z);I.appendChild(this.ql.Z);
$.FI(I);I.appendChild(this.$B.Z);I.appendChild(this.Be.Z);$.FI(I);I.appendChild(this._1.Z);I.appendChild(this.nC.Z);
$.FI(I);I.appendChild(this.mW.Z);I.appendChild(this.qa.Z);this.jc=new iP("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.t8=new iP("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.al=new iP("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.iS=new iP("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.Hl=new iP("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.NK=new iP("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.X9=new iP("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.Gg=new iP("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var k=[this.jc,this.t8,this.al,this.iS,this.Hl,this.NK,this.X9,this.Gg];
for(var Y=0;Y<k.length;Y++)k[Y].O("click",this.aD_,this);this.n9=new iP("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.OE=new iP("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.Ye=new iP("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.amh=new iP("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.a1A=new iP("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.ash=new iP("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.a0q=new iP("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.tN=[this.n9,this.OE,this.Ye,this.amh,this.a1A,this.ash,this.a0q];for(var Y=0;Y<this.tN.length;Y++)this.tN[Y].O("click",this.rs,this);
var a=["lind","rind","flind","bind","aind"],n=[];for(var Y=0;Y<5;Y++)n.push("<img src=\""+PIMG["par/"+a[Y]]+"\" class=\"autoscale gsicon\" /> ");
this.KN=new fM(n[0],-s,s,"px");this.b0=new fM(n[1],-s,s,"px");this.bO=new fM(n[2],-s,s,"px");this.c8=new fM(n[3],-s,s,"px");
this.$c=new fM(n[4],-s,s,"px");this.XQ=new f8([12,33],["Abc ...","... أي بي"]);this.TR=new fM(["Auto VAR0",[16,0]],0,500,"%");
this.Oh=[this.KN,this.b0,this.bO,this.c8,this.$c,this.XQ,this.TR];for(var Y=0;Y<this.Oh.length;Y++){var C=this.Oh[Y];
C.O(M.E.B,this.rs,this);C.parent=this}}i_.prototype=new gB;i_.prototype.asU=function(I){if($.TU(this.LL.Z))return;
I.stopPropagation();var k=this.k_.Z.getBoundingClientRect(),a=new d2(M.E.b,!0);a.data={q:M.p.ut,zM:this.LL,x:k.left,y:k.top+k.height+4};
this.a(a)};i_.prototype.k=function(){this.ko.k();this.su.k();this.UZ.k();this.x1.k();this.KT.k();this.Hk.k();
this.Xt.k();this.ql.k();this.Be.k();this.qa.k();this._1.k();this.nC.k();for(var Y=0;Y<this.Oh.length;
Y++)this.Oh[Y].k()};i_.prototype.j=function(I,k,a){this.kd=JSON.parse(JSON.stringify(I));var n=this.kd,s=n.CX,C=n.i9;
this.jc.j(s.FauxBold!=null?s.FauxBold:!1);this.t8.j(s.FauxItalic!=null?s.FauxItalic:!1);this.al.j(s.FontCaps==2);
this.iS.j(s.FontCaps==1);this.NK.j(s.FontBaseline==1);this.Hl.j(s.FontBaseline==2);this.X9.j(s.Underline);
this.Gg.j(s.Strikethrough);this.ko.j(s.Font==null?null:n.JN[s.Font].Name,k,a);var T=s.FontSize==null?20:s.FontSize;
this.su.j(T);var S=s.Tracking;this.x1.j(S==null?0:S);this._1.j(s.OutlineWidth!=null?s.OutlineWidth:1);
this.nC.j(fY.qm.afT(s));this.UZ.j(s.Leading!=null&&s.Leading!=0?s.Leading:T);this.j_.j(s.AutoLeading);
this.Hk.j((s.VerticalScale!=null?s.VerticalScale:0)*100);this.Xt.j((s.HorizontalScale!=null?s.HorizontalScale:0)*100);
this.KT.j(s.BaselineShift!=null?s.BaselineShift:0);this.ql.j(s.FillFlag!=null?s.FillFlag:!1);this.Be.j(s.StrokeFlag!=null?s.StrokeFlag:!1);
this.qa.j(s._FillBackgroundFlag!=null?s._FillBackgroundFlag:!1);this.c7(s.FillColor,this.$d);this.c7(s.FillColor,this.fj);
this.c7(s.StrokeColor,this.$B);this.c7(s._FillBackgroundColor,this.mW);var D=C._Direction!=null?C._Direction:0,o=f4.lq(C);
for(var Y=0;Y<this.tN.length;Y++)this.tN[Y].j(o==Y);this.XQ.j(D);this.TR.j((C.AutoLeading!=null?C.AutoLeading:1.2)*100);
this.KN.j(C.StartIndent!=null?C.StartIndent:0);this.b0.j(C.EndIndent!=null?C.EndIndent:0);this.bO.j(C.FirstLineIndent!=null?C.FirstLineIndent:0);
this.c8.j(C.SpaceBefore!=null?C.SpaceBefore:0);this.$c.j(C.SpaceAfter!=null?C.SpaceAfter:0)};i_.prototype.c7=function(I,k){if(I){var a=f4.GW(I);
k.c1(Math.round(a.$)<<16|Math.round(a.H)<<8|Math.round(a.J))}else k.c1(0)};i_.prototype.JT=function(){var I=new d2(M.E.b,!0);
I.data={q:M.p.iv,CU:f9.ug,kd:this.kd};this.a(I);var I=new d2(M.E.r,!0);I.S=E.N$;I.data={q:"updateStyles"};
this.a(I)};i_.prototype.aD_=function(I){var k=this.kd.CX,a=I.target,n=!a.D6();if(a==this.jc)k.FauxBold=n;
if(a==this.t8)k.FauxItalic=n;if(a==this.al)k.FontCaps=n?2:0;if(a==this.iS)k.FontCaps=n?1:0;if(a==this.NK)k.FontBaseline=n?1:0;
if(a==this.Hl)k.FontBaseline=n?2:0;if(a==this.X9)k.Underline=n;if(a==this.Gg)k.Strikethrough=n;this.JT()};
i_.prototype.rs=function(I){var k=this.kd.CX,a=this.kd.i9,n=I.target;if(n==this.nC){fY.qm.al6(n.l(),k)}if(n==this.x1){var s=this.x1.l();
k.Tracking=s}if(n==this.UZ){k.AutoLeading=!1;k.Leading=this.UZ.l()}if(n==this.j_){k.AutoLeading=this.j_.l()}if(n==this._1)k.OutlineWidth=n.l();
if(n==this.su)k.FontSize=n.l();if(n==this.Hk)k.VerticalScale=n.l()/100;if(n==this.Xt)k.HorizontalScale=n.l()/100;
if(n==this.KT)k.BaselineShift=n.l();if(n==this.ql)k.FillFlag=n.l();if(n==this.Be)k.StrokeFlag=n.l();
if(n==this.qa)k._FillBackgroundFlag=n.l();if(this.tN.indexOf(n)!=-1){a.Justification=f4.lq(a,this.tN.indexOf(n))}if(n==this.KN)a.StartIndent=n.l();
if(n==this.b0)a.EndIndent=n.l();if(n==this.bO)a.FirstLineIndent=n.l();if(n==this.c8)a.SpaceBefore=n.l();
if(n==this.$c)a.SpaceAfter=n.l();if(n==this.XQ)a._Direction=n.l();if(n==this.TR)a.AutoLeading=n.l()/100;
this.JT()};i_.prototype.alu=function(I){var k=this.kd,a=this.ko.l(),n=-1;for(var Y=0;Y<k.JN.length;Y++)if(k.JN[Y].Name==a)n=Y;
if(n==-1){n=k.JN.length;var s=JSON.parse(JSON.stringify(k.JN[0]));s.Name=a;k.JN.splice(n,0,s)}k.CX.Font=n;
this.JT()};i_.prototype.eN=function(I){var k=I.target,a=k.mJ(),n={Type:1,Values:[1,(a>>16&255)/255,(a>>8&255)/255,(a>>0&255)/255]};
for(var Y=0;Y<4;Y++)n.Values[Y]=Math.round(n.Values[Y]*1e3)/1e3;var s=k==this.$d||k==this.fj?0:k==this.$B?1:2;
this.kd.CX[["FillColor","StrokeColor","_FillBackgroundColor"][s]]=n;this.JT()};function ic(){gB.call(this);
this.Z=$.I("span","fontinput");this.CT=null;this.UG=null;this.o8=null;this.FB="";this.Nk={};this.kk=[];
this.JX={};this.at0={};this.bC=[];this.Wf=!1;this._c=$.I("button","fitem");this._c.setAttribute("style","width:9em;");
this._c.textContent="Family Name \u25BC";this.Z.appendChild(this._c);$.Ar(this._c,this.ah_.bind(this));
this.vn=new gB;this.vn.parent=this;var I=this.vn.Z=$.I("div","floatcont");I.style.padding="7px 7px 3px 7px";
var k=new gv("Recent");I.appendChild(k.Z);var a=this.aus=new iP([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);
a.O("click",this.a1C,this);a.Z.style.float="right";I.appendChild(a.Z);var n=this.oX=new dI("Local Fonts");
n.O(M.E.B,this.aci,this);n.Z.style.float="right";n.Z.style.marginRight="10px";n.Z.style.marginTop="3px";
I.appendChild(n.Z);$.FI(I);this.SE=$.I("span","fitem imageset scrollable");this.SE.style.maxHeight="8em";
I.appendChild(this.SE);var s=$.I("div","form");this.vn.Z.appendChild(s);this.w0=new iP($.z5("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");
this.w0.O("click",this.ac$,this);s.appendChild(this.w0.Z);this.Lb=new ja([12,86],null,7.5);this.Lb.O("input",this.Pc,this);
s.appendChild(this.Lb.Z);this.v5=new a_(10,"\u2630");s.appendChild(this.v5.Z);this.v5.parent=this.vn;
this.v5.O(M.E.B,this.XM,this);this.v5.Z.style.float="right";this.v5.Z.style.marginRight="0";this._l=$.I("span","fitem imageset scrollable");
this._l.style.height="30em";this.vn.Z.appendChild(this._l);this._l.addEventListener("scroll",this.azh.bind(this),!1);
this.F_=$.I("button","fitem");this.F_.setAttribute("style","width:7em;");this.F_.textContent="SubFamily Name \u25BC";
this.Z.appendChild(this.F_);$.Ar(this.F_,this.ah_.bind(this));this.Z5=new gB;this.Z5.parent=this;this.Z5.Z=$.I("div","floatcont");
this.VN=$.I("span","fitem imageset scrollable");this.Z5.Z.appendChild(this.VN);this.aDN=this.a2S.bind(this);
this.acn=this.a01.bind(this)}ic.prototype=new gB;ic.prototype.aci=function(I){jL.x3.wl(I.target.l(),function(){this.j();
this.XM()}.bind(this),function(){this.oX.j(!1)}.bind(this));this.XM()};ic.prototype.azh=function(I){var k=this._l.scrollTop,a=this.kk,n=Math.floor(k/27),s=Math.min(n+20,a.length);
for(var Y=n;Y<s;Y++)this.azH(a[Y])};ic.prototype.a1C=function(){var I=new d2(M.E.b,!0);I.data={q:M.p.Av};
this.a(I)};ic.prototype.k=function(){this.v5.k();this.aus.k();this.oX.j(jL.x3.D6());this.w0.jO($.z5("tools/cshape",null,"autoscale"))};
ic.prototype.ac$=function(I){this.w0.j(!this.w0.D6());this.XM()};ic.prototype.Pc=function(I){this.FB=this.Lb.l().toLowerCase();
this.XM()};ic.prototype.ah_=function(I){$.dR(I);var k=I.currentTarget,a=k.getBoundingClientRect(),n=k==this._c,s=n?this.vn:this.Z5;
if($.TU(s.Z)){this.arW(s);return}if(!n&&this.CT.tH()[this.o8]==null)return;var C=new d2(M.E.b,!0);C.data={q:M.p.ut,zM:s,x:a.left,y:a.top+a.height};
this.a(C);if(n){this.XM(null,!0)}};ic.prototype.a2S=function(I){var k=I.currentTarget.firstChild.nextSibling.textContent;
if(I.target.tagName.toLowerCase()=="button"){var a=this.UG.slice(0),n=a.indexOf(k);if(n==-1){a=a.slice(Math.max(0,a.length-29));
a.push(k)}else a.splice(n,1);var s=new d2(M.E.b,!0);s.data={q:M.p.iv,CU:f9.fr,WM:a};this.a(s);this.Wf=!0;
this.XM()}else{this.a3k(k,null)}};ic.prototype.a01=function(I){this.a3k(null,I.currentTarget.firstChild.textContent)};
ic.prototype.a3k=function(I,k){var a=I==null?this.Z5:this.vn,n=this.CT;if(I==null)I=n.tH()[this.o8][0];
else{var s=n.Kl(I),C=n.tH()[this.o8];k=jL.Ng(s,C?C[1]:"regular")}var T=n.XX(I,k)[2];this.j(T,n);this.a(new d2(M.E.B,!1));
this.arW(a);this.XM()};ic.prototype.arW=function(I){var k=new d2(M.E.b,!0);k.data={q:M.p.nx,zM:I};this.a(k)};
ic.prototype.l=function(){return this.o8};ic.prototype.j=function(I,k,a){var n=this.CT;if(I!=null)this.o8=I;
else I=this.o8;if(k)this.CT=k;else k=this.CT;if(a)this.UG=a;else a=this.UG;if(I!=null){var s=k.tH()[I],C,T;
if(s==null){C="- "+I;T="-------"}else{C=s[0];T=s[1];var S=this.bC;for(var Y=0;Y<S.length;Y++)if(S[Y][0][0]==C)S.splice(Y,1);
S.push([s,Date.now()]);S.sort(function(g,d){return d[1]-g[1]});S=S.slice(0,10);$.GD(this.SE);for(var Y=1;
Y<S.length;Y++){var D=S[Y][0],o=this.p7(D,!0);this.ng(o,D,!0);this.SE.appendChild(o)}var v=k.Kl(C);v.sort(jL.afE);
this.VN.textContent="";for(var Y=0;Y<v.length;Y++){var s=k.XX(C,v[Y]);if(!this.v5.hy(s))continue;var o=this.p7(s,!1);
this.VN.appendChild(o)}}this._c.textContent=C.substring(0,15)+" \u25BC";this._c.setAttribute("title",C+", \""+I+"\"");
this.F_.textContent=T.substring(0,10)+" \u25BC";this.F_.setAttribute("title",T)}};ic.prototype.XM=function(I,k){var a=this.CT.tH()[this.o8],n=this.UG,s=this.CT.ahI();
this.kk=[];var C=this.oX.l();for(var T in s){var S=n.indexOf(T)!=-1,D=this.CT.Kl(T),o=!1;for(var Y=0;
Y<D.length;Y++){var v=this.CT.XX(T,D[Y]),g=!0;if(this.FB.length>0&&v[0].toLowerCase().indexOf(this.FB)==-1)g=!1;
else if(!this.v5.hy(v))g=!1;else if(this.w0.D6()&&!S)g=!1;else if(v[5]=="--loc"&&!C)g=!1;if(g)o=!0}var d=this.Nk[T];
if(d==null){var R=jL.Ng(s[T],"regular"),c=this.CT.XX(T,R),d=this.p7(c,!0);this.Nk[T]=d;this._l.appendChild(d);
this.JX[T]="[true,false,false]"}if(o)this.kk.push(T);var e=a!=null&&a[0]==T;this.at0[T]="["+o+","+e+","+S+"]";
if(!k)this.azH(T)}if(a&&!this.Wf){var O=this.Nk[a[0]];this._l.scrollTop=O.offsetTop-210}this.azh();this.Wf=!1};
ic.prototype.azH=function(I){var k=this.Nk[I];if(k.firstChild==null){var a=this.CT.ahI(),n=jL.Ng(a[I],"regular"),s=this.CT.XX(I,n);
this.ng(k,s,!0)}var C=this.JX[I],T=this.at0[I];if(C==T)return;var S=JSON.parse(C),D=JSON.parse(T);if(S[0]!=D[0]||S[1]!=D[1]){var o=D[0]?"":"display:none; ";
if(D[1])o+="background-color:rgba(0,0,0,0.13);";k.setAttribute("style",o)}if(S[2]!=D[2])k.firstChild.setAttribute("style","opacity: "+(D[2]?"1":"0.2"));
this.JX[I]=T};ic.prototype.p7=function(I,k){var a=$.I("div","fontitem");if(!k)this.ng(a,I,k);return a};
ic.prototype.ng=function(I,k,a){var n=k[a?0:1],s=a?this.aDN:this.acn,D="";I.addEventListener("click",s,!1);
if(a)I.appendChild($.I("button","star"));var C=$.I("span","label");C.setAttribute("title",n);C.textContent=n;
I.appendChild(C);var T=$.Y(),S=1/T,o=jL.P3*S,v=jL.yB*S;if(1<T&&T<1.5)D="width:"+o+"px; height:"+v+"px;";
var g=$.I("span","thumb gsicon");if(k.FK){D+="background: url("+k.FK+");";if(1<T&&T<1.5)D+="background-size: "+o+"px "+v+"px;"}else{var d=Math.ceil(FNTS.list.length/jL.cols),R=Math.floor(k.Gq/jL.cols),c=k.Gq-R*jL.cols,e=c*jL.P3,O=R*jL.yB;
if(1<T&&T<1.5){D+="background-size: "+jL.cols*o+"px "+d*v+"px;";e*=S;O*=S}D+="background-position:-"+e+"px -"+O+"px;"}g.setAttribute("style",D);
I.appendChild(g)};function a_(I,k){gB.call(this);this.Z=$.I("button","fitem bbtn");this.Z.addEventListener("click",this.qc.bind(this),!1);
this.LL=new gB;this.LL.Z=$.I("div","floatcont");this.LL.parent=this;this.BP=$.I("div","flexrow");this.LL.Z.appendChild(this.BP);
this.r8=k;this.Qk=[];this.lY=[];var a=this.BP,n=$.I("div",""),s=$.I("div","");a.appendChild(n);a.appendChild(s);
this.jv=[];for(var Y=0;Y<FNTS.cats.length;Y++)this.jv.push({name:FNTS.cats[Y],index:Y,gO:0});this.HY=new dI([7,0]);
this.HY.j(!0);this.HY.O(M.E.B,this.a6o,this);n.appendChild(this.HY.Z);this.W6=$.I("div","vlist marged scrollable");
this.W6.setAttribute("style","width:10.3em; height:"+I+"em; ");n.appendChild(this.W6);this.k8=[];for(var Y=0;
Y<this.jv.length;Y++){var C=this.jv[Y],T=new dI(C.name);this.k8.push(T);T.O(M.E.B,this.avT,this);T.j(!0);
this.W6.appendChild(T.Z);this.Qk.push(1)}this.a9Z=new dI([7,0]);this.a9Z.O(M.E.B,this.auh,this);this.f1=$.I("div","vlist marged scrollable");
this.f1.setAttribute("style","width:8.6em; height:"+(I+1.5)+"em; ");s.appendChild(this.f1);this.nu=[];
for(var Y=0;Y<FNTS.subsetNames.length;Y++){var T=new dI(FNTS.subsetNames[Y]);this.nu.push(T);T.O(M.E.B,this.axa,this);
T.j(!1);this.f1.appendChild(T.Z);this.lY.push(T.l()?1:0)}}a_.prototype=new gB;a_.prototype.a0m=function(I){var k=this.nu;
for(var Y=0;Y<k.length;Y++){var a=(I>>>Y&1)==1;this.lY[Y]=a;k[Y].j(a)}};a_.prototype.are=function(){return this.BP};
a_.prototype.k=function(){this.Z.textContent=this.r8?this.r8:hJ.get([25,1,0])+" \u25BC";this.HY.k();
this.a9Z.k()};a_.prototype.qc=function(I){var k=this.Z.getBoundingClientRect(),a=new d2(M.E.b,!0);a.data={q:M.p.ut,zM:this.LL,x:k.left,y:k.top+k.height,Dr:!0};
this.a(a)};a_.prototype.hy=function(I){if(this.Qk[I[4]]==0)return!1;else for(var k=0;k<this.lY.length;
k++)if(this.lY[k]==1&&(I[3]>>>k&1)==0)return!1;return!0};a_.prototype.a6o=function(I){var k=I.target.l(),a=this.k8,n=this.Qk;
for(var Y=0;Y<a.length;Y++){a[Y].j(k);n[Y]=k?1:0}this.a(new d2(M.E.B,!1))};a_.prototype.auh=function(I){var k=I.target.l(),a=this.nu,n=this.lY;
for(var Y=0;Y<a.length;Y++){a[Y].j(k);n[Y]=k?1:0}this.a(new d2(M.E.B,!1))};a_.prototype.avT=function(I){var Y=this.k8.indexOf(I.target),k=this.jv[Y].index;
this.Qk[k]=1-this.Qk[k];this.a(new d2(M.E.B,!1));this.aya(this.k8,this.HY)};a_.prototype.axa=function(I){var Y=this.nu.indexOf(I.target);
this.lY[Y]=1-this.lY[Y];this.a(new d2(M.E.B,!1))};a_.prototype.aya=function(I,k){var a=!0;for(var Y=0;
Y<I.length;Y++)a=a&&I[Y].l();k.j(a)};function hg(I,k,a){ca.call(this,k,!0,"gradientbutton",18*13,10*13,f9.RN);
this.MW=-1;this.U2=-1;this.aoM=null;this.amj=I;this.jB=a}hg.prototype=new ca;hg.prototype.tu=function(I){var k=this.LP;
this.j(k[this.FG.l()]);this.a(new d2(M.E.B))};hg.prototype.Iz=function(I){var k=new d2(M.E.b,!0);k.data={q:M.p.Fu,aw:"gradienteditor",G:this.KA,XP:this.adm.bind(this),Ph:this.jB};
this.a(k)};hg.prototype.adm=function(I){this.j(I);this.a(new d2(M.E.B))};hg.prototype.Da=function(){if(!this.q5)return;
var I=Math.floor(36*$.Y()),k=Math.floor(36*$.Y()),a=[],n=[],s=this.LP,C=Date.now();for(var Y=0;Y<s.length;
Y++){var T=s[Y];n.push(T.Nm?T.Nm.v:"");var S=E.hJ.cO(T,I,k,Math.PI/4,this.MW,this.U2);a.push(S)}this.FG.NX(a,n,I,k);
this.q5=!1};hg.prototype.Uk=function(I,k){this.alb(this.KA,I,k)};hg.prototype.j=function(I){this.alb(I,this.MW,this.U2)};
hg.prototype.alb=function(I,k,a){this.MW=k;this.U2=a;if(I==null)return;var n=JSON.stringify(I),s=n+k+","+a;
if(s==this.aoM)return;this.aoM=s;this.KA=JSON.parse(n);var C=Math.floor(80*$.Y()),T=Math.floor(16*$.Y()),S=E.hJ.cO(this.KA,C,T,0,this.MW,this.U2);
this.qH.setAttribute("src",S);$.Kf(this.qH,C,T)};hg.prototype.l=function(){var I;if(this.amj)I=E.hJ.agi(this.KA,this.MW,this.U2);
else I=JSON.parse(JSON.stringify(this.KA));return I};function cf(I){ca.call(this,I,!1,"swatchbutton",16*13,8.75*13,f9.$G)}cf.prototype=new ca;
cf.prototype.tu=function(I){this.j(this.LP[I.target.l()]);this.a(new d2(M.E.B))};cf.prototype.Da=function(){if(!this.q5)return;
var I=Date.now(),k=Math.floor(22*$.Y()),a=Math.floor(22*$.Y()),n=[],s=[],C=this.LP;for(var Y=0;Y<C.length;
Y++){s.push(C[Y].Nt?C[Y].Nt.split("=").pop():"");n.push(cf.cO(C[Y],k,a))}this.FG.NX(n,s,k,a);this.q5=!1};
cf.prototype.j=function(I){this.KA=JSON.parse(JSON.stringify(I));this.OC()};cf.prototype.OC=function(){var I=Math.floor(24*$.Y()),k=Math.floor(20*$.Y()),a=cf.cO(this.KA,I,k);
this.qH.setAttribute("src",a);$.Kf(this.qH,I,k)};cf.prototype.l=function(){return JSON.parse(JSON.stringify(this.KA))};
cf.q6={};cf.cO=function(I,k,a){var n=255<<24|I.J<<16|I.H<<8|I.$,s=":"+n,C=cf.q6;if(C[s])return C[s];
var T=new Uint32Array(k*a);T.fill(n);var S=UPNG.encode([T.buffer],k,a),D=C[s]="data:image/png;base64,"+kk.Tk(S);
return D};function iR(I){ca.call(this,null,!0,"swatchbutton",16*13,8.75*13,f9.yO);this.YE=I}iR.prototype=new ca;
iR.prototype.tu=function(I){var k=this.LP,a=I.target.l();this.j(a==0?[]:k.RJ[a-1][1],k);this.a(new d2(M.E.B))};
iR.prototype.Iz=function(I){if(this.KA.length!=0)jI.arP(this.KA,this,this.Rb.bind(this))};iR.prototype.Rb=function(I){var k=I;
if(typeof I=="number"){k=j.uU(I,1);k=[k.$,k.H,k.J]}this.j(k);this.a(new d2(M.E.B))};iR.prototype.j=function(I,k){this.KA=I;
this.OC(k)};iR.prototype.OC=function(I){var k=Math.floor(20*$.Y()),a=Math.floor(20*$.Y()),n=$.I("canvas"),s=n.getContext("2d");
n.width=k;n.height=a;jI.vN(s,this.KA,I,k,a,0,0,this.YE==1);var C=s.canvas.toDataURL("png");this.qH.setAttribute("src",C);
$.Kf(this.qH,k,a)};iR.prototype.Da=function(){if(!this.q5)return;var I=Math.floor(20*$.Y()),k=Math.floor(20*$.Y()),a=[],n=[],s=this.LP,C=s.RJ,T=$.I("canvas"),S=T.getContext("2d");
T.width=I;T.height=k;C=[["None",[]]].concat(C);for(var Y=0;Y<C.length;Y++){n.push(C[Y][0]);jI.vN(S,C[Y][1],s,I,k,0,0);
var D=S.canvas.toDataURL("png");a.push(D)}this.FG.NX(a,n,I,k);this.q5=!1};iR.prototype.l=function(){return JSON.parse(JSON.stringify(this.KA))};
function gL(I,k,a){gB.call(this);this.Z=$.I(a?"div":"span");var n=this.I1=$.I("input");this.I1.setAttribute("type","file");
if(k)n.setAttribute("multiple","");this.I1.addEventListener("change",this.a6B.bind(this),!1);this.awg=this.abH.bind(this);
this.hN={};this.Fs=0;this.oO=I;var s=this.ID=new iP(hJ.get(I)+" (0)",null,null,!0);this.Z.appendChild(s.Z);
s.addEventListener("click",function(C){n.click()});if(a){this.nb=$.I("div","scrollable");this.nb.setAttribute("style","height:120px; width:100%; line-height:1.5em;");
this.Z.appendChild(this.nb);this.lX()}}gL.prototype=new gB;gL.prototype.j=function(I){this.hN=I;this.lX()};
gL.prototype.l=function(I){return this.hN};gL.prototype.a6B=function(I){var k=I.target.files;this.Fs=k.length;
this.hN={};for(var Y=0;Y<k.length;Y++){var a=k[Y],n=new FileReader;n.onload=this.awg;n.xe=a.name;n.readAsArrayBuffer(a)}};
gL.prototype.abH=function(I){var k=this.hN[I.target.xe]=new Uint8Array(I.target.result);this.Fs--;if(this.Fs==0){this.lX();
this.a(new d2(M.E.B));this.I1.value=null}};gL.prototype.lX=function(){var I=this.hN;this.ID.jO(hJ.get(this.oO)+" ("+Object.keys(I).length+")");
var k=this.nb;if(k==null)return;$.GD(k);var a=[];for(var n in I)a.push(n);a.sort();for(var Y=0;Y<a.length;
Y++){var s=$.I("div");s.textContent=a[Y];k.appendChild(s)}};function kp(I,k,a,n,s){if(I==null)I=!1;if(k==null)k=!1;
if(a==null)a=!1;gB.call(this);this.Ed=new kK;this.M4=new kK;this.dw=72;this.gq=72;this.hL=!0;this.Pn=!1;
this.Z=$.I("span");this.t0=new fM([12,41],0,0,null,0,!1,!0,4);this.Z.appendChild(this.t0.Z);this.t0.O(M.E.B,this.lf,this);
var C=["px","%"];if(I)C=C.concat(["cm","mm","in"]);if(s){C=[[12,76,2],[12,76,6]];if(I)C=C.concat([[12,76,4],[12,76,5],[12,76,3]])}this.fz=new fB(null,C);
this.Z.appendChild(this.fz.Z);$.FI(this.Z);this.fz.O(M.E.B,this.lf,this);this.AK=new fM([12,42],0,0,null,0,!1,!0,4);
this.Z.appendChild(this.AK.Z);this.AK.O(M.E.B,this.lf,this);var T=new iP("\u21F5",!1,null,!0);T.O("click",this.bk,this);
this.CS=new iP("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);this.CS.O("click",this.lf,this);
this.pG=new gv("");this.pG.Z.style.margin="0";this.pG.Z.style.padding="0";if(k){this.Z.appendChild(this.CS.Z);
this.Z.appendChild(this.pG.Z);this.CS.rG()}else this.Z.appendChild(T.Z);this.$s=new fM("DPI",0,0,null,3,!1,!0,4);
this.vh=new fB(null,[["VAR0 / Inch",[12,76,2]],["VAR0 / Cm",[12,76,2]]]);if(I&&!n){$.FI(this.Z);this.Z.appendChild(this.$s.Z);
this.Z.appendChild(this.vh.Z)}this.vh.O(M.E.B,this.lf,this);this.$s.O(M.E.B,this.lf,this);this.AA=new dI([12,23,1]);
this.AA.O(M.E.B,this.lf,this);if(a){$.FI(this.Z);this.Z.appendChild(this.AA.Z)}$.FI(this.Z)}kp.prototype=new gB;
kp.prototype.bb=function(I,k){this.t0.Lm.style.width=this.AK.Lm.style.width=(I-78-this.CS.oe())/2+"px"};
kp.prototype.lj=function(){this.t0.lj();this.AK.lj();this.fz.lj();var I=this.Z;$.GD(I);this.fz.Z.style.marginRight="0";
I.appendChild(this.t0.Z);I.appendChild(this.CS.Z);I.appendChild(this.AK.Z);I.appendChild(this.fz.Z)};
kp.prototype.$A=function(){this.t0.$A()};kp.prototype.avc=function(I,k){this.hL=I;if(k!=null)this.Pn=k;
if(!this.hL&&!this.Pn&&this.fz.l()==0){this.fz.j(4);this.zs()}};kp.prototype.afy=function(I){this.CS.j(I)};
kp.prototype.k=function(){this.t0.k();this.AK.k();this.$s.k();this.vh.k();this.CS.k();this.AA.k();this.fz.k()};
kp.prototype.bk=function(I){var k=this.M4.x;this.M4.x=this.M4.y;this.M4.y=k;this.zs();this.a(new d2(M.E.B,!1))};
kp.prototype.lf=function(I){if(I.target==this.fz&&!this.hL&&!this.Pn&&this.fz.l()==0)this.fz.j(4);if(I.target==this.fz||I.target==this.AA){this.zs();
return}if(I.target==this.CS)I.target.j(!I.target.l());if(I.target==this.vh)window.locStor.setItem("dpiUnit",this.vh.l());
var k=this.Ed,a=parseFloat(this.t0.l());if(isNaN(a))a=1;var n=parseFloat(this.AK.l());if(isNaN(n))n=1;
var s=this.$s.l()*[1,2.54][this.vh.l()],C=this.fz.l();if(this.hL){var T=this.gq;if(C==1){a=this.Ed.x*(a/100);
n=this.Ed.y*(n/100)}var S=[1,1,2.54/T,25.4/T,1/T][C];a/=S;n/=S;if(this.AA.l()){a+=this.Ed.x;n+=this.Ed.y}if(I.target==this.$s){var D=s;
if(!this.Pn){var o=D/T;a*=o;n*=o}T=D}if(this.CS.l()){if(I.target==this.t0)n=a*(k.y/k.x);else a=n*(k.x/k.y)}a=Math.max(Math.abs(a),1);
n=Math.max(Math.abs(n),1)}else{var T=this.dw;if(I.target==this.$s)T=s;else{if(this.CS.l()){if(I.target==this.t0)n=a*(k.y/k.x);
else a=n*(k.x/k.y)}var S=[1,1,2.54/T,25.4/T,1/T][C],v=a/(C==1?100:k.x*S);T=T/v}a=k.x;n=k.y}this.M4=new kK(Math.round(a),Math.round(n));
this.gq=T;this.zs();this.a(new d2(M.E.B,!1))};kp.prototype.oK=function(Y){this.fz.j(Y);this.zs()};kp.prototype.aDg=function(){return this.fz.l()};
kp.prototype.j=function(I,k,a){var n=window.locStor.getItem("dpiUnit");if(n!=null)this.vh.j(n);if(a!=!0)this.Ed=I.clone();
this.M4=I.clone();if(k!=null){this.dw=k;this.gq=k}this.zs()};kp.prototype.zs=function(){var I=this.M4.x,k=this.M4.y,a=this.gq,n=(I/k).toFixed(3);
while(n.charAt(n.length-1)=="0")n=n.substring(0,n.length-1);if(n.charAt(n.length-1)==".")n=n.substring(0,n.length-1);
var s="  "+n+" : 1",C=function(v,g){while(g!=0){var d=g;g=v%g;v=d}return v},T=C(I,k);if(Math.min(I,k)/T<10)s="  "+Math.round(I/T)+" : "+Math.round(k/T);
this.pG.j(s);if(this.AA.l()){I-=this.Ed.x;k-=this.Ed.y}var S=this.fz.l();if(S==1){if(this.hL){I=100*I/this.Ed.x;
k=100*k/this.Ed.y}else{I=k=100*this.dw/this.gq}}else{I=Math.round(I);k=Math.round(k)}var D=[1,1,2.54/a,25.4/a,1/a][S];
I*=D;k*=D;var o=S==1||S==2||S==4?2:0;this.t0.dt(o);this.AK.dt(o);this.t0.j(I);this.AK.j(k);this.$s.j(a*[1,1/2.54][this.vh.l()])};
kp.prototype.l=function(){return this.M4.clone()};kp.prototype.VD=function(){return this.gq};function gh(I,k,a){gB.call(this);
var n=I==0?["W","X","H","Y"]:["\u250F","\u2513","\u2517","\u251B"];this.$C=I;this.acp=k;this.p6=1;this.B7=[1,1,0];
var s=this.Z=$.I("div","numlist"),C=this.GU=[];for(var Y=0;Y<4;Y++){var T=new fM(n[Y],0,0,null,2,!1,!0,4,null,a&&(Y==0||Y==2));
T.O(M.E.B,this.lf,this);s.appendChild(T.Z);C[Y]=T;if(Y==1||Y==3)$.FI(s)}C[4]=new dI(I==0?[12,51]:[12,91,2]);
C[4].j(!0);s.appendChild(C[4].Z)}gh.prototype=new gB;gh.prototype.k=function(){var I=this.GU;for(var Y=0;
Y<5;Y++)I[Y].k();if(this.$C==0)$.Ir(I[0],I[2])};gh.prototype.j=function(I,k,a){if(k)this.B7=k;k=this.B7;
var n=a?I:this.$C==0?[I[2],I[0],I[3],I[1]]:[I[0],I[1],I[3],I[2]];this.p6=n[0]/n[2];for(var Y=0;Y<4;Y++){var s=this.GU[Y];
s.dt(k[2]==0&&this.acp?0:2);s.j(j.wJ.auO(n[Y],k[0],k[1],k[2]))}};gh.prototype.l=function(I){var k=[],a=this.B7;
for(var Y=0;Y<4;Y++){var n=j.wJ.Z8(this.GU[Y].l(),a[0],a[1],a[2]);k[Y]=this.acp?Math.round(n):n}return I?k:this.$C==0?[k[1],k[3],k[0],k[2]]:[k[0],k[1],k[3],k[2]]};
gh.prototype.lf=function(I){var k=this.$C,a=this.GU.indexOf(I.currentTarget),n=this.l(!0),s=this.GU[4].l();
if(k==0){n[0]=Math.max(1,n[0]);n[2]=Math.max(1,n[2]);if(s&&a==0)n[2]=n[0]/this.p6;if(s&&a==2)n[0]=n[2]*this.p6}if(k==1){n[a]=Math.max(0,n[a]);
if(s)for(var Y=0;Y<4;Y++)n[Y]=n[a]}this.j(n,null,!0);this.a(new d2(M.E.B,!1))};function iC(){gB.call(this);
this.$0=0;this.uH=[0,0,1,1,100,100];this.MF=[10,5,1,1,4,3,3,2,16,9];this.Z=$.I("span","fitem");this.qx=new fB(null,[[12,89,0],[12,89,1],[12,89,2],"Original Ratio","1 : 1","4 : 3","3 : 2","16 : 9"],[3,5]);
this.Z.appendChild(this.qx.Z);this.qx.O(M.E.B,this.lf,this);this.t0=new fM("W",0,0,null,0,!1,!0);this.Z.appendChild(this.t0.Z);
this.t0.O(M.E.B,this.lf,this);var I=this.nC=new iP("\u21C4",!1,null,!0);I.O("click",this.bk,this);this.Z.appendChild(I.Z);
this.AK=new fM("H",0,0,null,0,!1,!0);this.Z.appendChild(this.AK.Z);this.AK.O(M.E.B,this.lf,this);this.j({Tx:0,x:0,y:0})}iC.prototype=new gB;
iC.prototype.ak8=function(I,k){this.MF[0]=I;this.MF[1]=k};iC.prototype.k=function(){$.Ir(this.t0,this.AK);
this.qx.k()};iC.prototype.bk=function(I){var k=this.AK.l();this.AK.j(this.t0.l());this.t0.j(k);this.lf(I)};
iC.prototype.lf=function(I){if(I.target==this.qx){var Y=this.qx.l(),k=this.uH;if(Y>2){Y-=3;var a=this.MF[2*Y],n=this.MF[2*Y+1];
k[2]=a;k[3]=n;this.t0.j(a);this.AK.j(n);this.qx.j(1)}var s=this.l();k[this.$0*2]=s.x;k[this.$0*2+1]=s.y;
this.$0=s.Tx;this.j({Tx:s.Tx,x:k[s.Tx*2],y:k[s.Tx*2+1]})}if(this.t0.l()<1)this.t0.j(1);if(this.AK.l()<1)this.AK.j(1);
this.a(new d2(M.E.B,!1))};iC.prototype.j=function(I){this.qx.j(I.Tx);this.t0.j(I.x);this.AK.j(I.y);if(I.Tx==0){this.t0.hl();
this.AK.hl();this.nC.hl()}else{this.t0.MK();this.AK.MK();this.nC.MK()}};iC.prototype.l=function(){return{Tx:this.qx.l(),x:this.t0.l(),y:this.AK.l()}};
function dB(I){gB.call(this);this.Z=$.I("span","");this.a9S=I;var k=I?100:300;this.Af=new iD("Off X",-k,k,I?"%":"px",0,!I);
this.CZ=new iD("Off Y",-k,k,I?"%":"px",0,!I);this.Af.O(M.E.B,this.lf,this);this.CZ.O(M.E.B,this.lf,this);
this.Z.appendChild(this.Af.Z);this.Z.appendChild(this.CZ.Z)}dB.prototype=new gB;dB.prototype.k=function(){this.Af.k();
this.CZ.k()};dB.prototype.lf=function(I){this.a(new d2(M.E.B,!1))};dB.prototype.ad6=function(I){this.Af.j(I.x);
this.CZ.j(I.y)};dB.prototype.amq=function(){return new kK(this.Af.l(),this.CZ.l())};dB.prototype.j=function(I,k){var a=I.Hrzn.v,n=I.Vrtc.v;
if(this.a9S){a=a.val;n=n.val}this.Af.j(a);this.CZ.j(n);if(k==!0)this.lf()};dB.prototype.l=function(){var I=this.Af.l(),k=this.CZ.l();
if(this.a9S)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:I}},Vrtc:{t:"UntF",v:{type:"#Prc",val:k}}};
else return{classID:"Pnt",Hrzn:{v:I,t:"doub"},Vrtc:{v:k,t:"doub"}}};function eI(I,k){gB.call(this);this.Z=$.I("button");
this.wj=[{YX:3,zZ:[]},{YX:3,zZ:[12,6],A6:0},{YX:3,zZ:[0,6],A6:1,P_:1}];this.Lt=fY.qm.nI();this.adE=I;
this.v5=k;this.Z.addEventListener("click",this.qc.bind(this),!1);var a=$.I("canvas","gsicon");this.hp=a.getContext("2d");
this.Z.appendChild(a);var n=$.I("span");n.textContent=" \u25BC";this.Z.appendChild(n);this.LL=new gB;
this.LL.parent=this;this.LL.Z=$.I("div","floatcont form label6");var s=this.LL.Z;s.setAttribute("style","width: 15em;");
this.Nk=[k?new dI("Fill First"):new fB([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new f8([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new f8([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new fM("Limit",0,50,null,null,null,!0,2.5),new ja([19,9,2])];
for(var Y=0;Y<this.Nk.length;Y++){var C=this.Nk[Y];if(ht==0||Y!=0||!k)s.appendChild(C.Z);C.O(M.E.B,this.lf,this)}$.FI(s);
this.rS=[];var T=this.vy.bind(this);for(var Y=0;Y<this.wj.length;Y++){var S=$.I("button","fitem");this.rS.push(S);
s.appendChild(S);S.addEventListener("click",T,!1);var a=$.I("canvas","gsicon"),D=a.getContext("2d");
S.appendChild(a);this.avr(D,40,20,this.wj[Y])}}eI.prototype=new gB;eI.prototype.qc=function(I){var k=this.Z.getBoundingClientRect(),a=new d2(M.E.b,!0);
a.data={q:M.p.ut,zM:this.LL,x:k.left,y:k.top+k.height+4,Dr:!0};this.a(a)};eI.prototype.lf=function(I){var k=this.Nk,a=k.indexOf(I.target),n=k[a].l(),s=this.Lt;
if(a==0)s.x9=this.v5?n?1:0:n;if(a==1)s.A6=n;if(a==2)s.P_=n;if(a==3)s.Ti=n;if(a==4){var C=s.zZ=n==""?[]:n.split(" ").map(parseFloat);
if(!this.adE)for(var Y=0;Y<C.length;Y++)C[Y]*=s.YX}this.a(new d2(M.E.B,!1))};eI.prototype.vy=function(I){var k=this.rS.indexOf(I.currentTarget),a=this.wj[k],n=this.Lt;
if(a.A6!=null)n.A6=a.A6;if(a.P_!=null)n.P_=a.P_;n.zZ=a.zZ.slice(0);if(n.YX==null)n.YX=3;for(var Y=0;
Y<n.zZ.length;Y++)n.zZ[Y]*=n.YX/a.YX;this.a(new d2(M.E.B,!1))};eI.prototype.k=function(){for(var Y=0;
Y<this.Nk.length;Y++)this.Nk[Y].k()};eI.prototype.j=function(I){this.Lt=JSON.parse(JSON.stringify(I));
var k=this.Nk;if(I.x9!=null)k[0].j(this.v5?I.x9==1:I.x9);if(I.A6!=null)k[1].j(I.A6);if(I.P_!=null)k[2].j(I.P_);
if(I.Ti!=null)k[3].j(I.Ti);k[3].wl(I.P_==0);if(I.zZ!=null){var a=I.zZ.slice(0);if(!this.adE)for(var Y=0;
Y<a.length;Y++)a[Y]/=I.YX;k[4].j(a.join(" "))}this.avr(this.hp,40,16,I)};eI.prototype.l=function(){return JSON.parse(JSON.stringify(this.Lt))};
eI.prototype.avr=function(I,k,a,n){$.hI(I.canvas,k,a);var s=n.zZ?n.zZ:[],C=n.YX;if(C==null)C=3;else{C=Math.min(5,C);
s=s.slice(0);for(var Y=0;Y<s.length;Y++)s[Y]*=C/n.YX}I.clearRect(0,0,k,a);I.setLineDash(s);I.lineCap=["butt","round","square"][n.A6];
I.lineJoin=["miter","round","bevel"][n.P_];I.lineWidth=C;I.beginPath();I.moveTo(0,a/2);I.lineTo(k*2,a/2);
I.stroke()};function c1(I){ca.call(this,I,!1,"contourbutton",34*13,16*13,f9.DX,!0);this.Lb=new ja([12,86],null,16);
this.Lb.O("input",this.Pc,this);this.LL.Z.appendChild(this.Lb.Z);this.lB=null;this.FB="";this.z8=null;
this.j(jx.nI())}c1.prototype=new ca;c1.prototype.k=function(){ca.prototype.k.call(this);this.Lb.k()};
c1.prototype.tu=function(I){this.j(this.lB[I.target.l()[0]]);this.a(new d2(M.E.B))};c1.prototype.Pc=function(I){this.FB=this.Lb.l().toLowerCase();
this.ama()};c1.apt=!1;c1.prototype.Da=function(){if(!this.q5)return;var I=this.LP;if(I==null||!c1.apt){var k=new d2(M.E.b,!0);
k.data={q:M.p._C,CU:{url:"rsrc/basic/fa.zip"}};this.a(k);c1.apt=!0}else{var n=Date.now(),s=Math.floor(38*$.Y()),C=Math.floor(38*$.Y());
this.z8=[];for(var Y=0;Y<I.length;Y++){if(I[Y].az5==null)I[Y].az5=c1.adq(I[Y],s,C);this.z8.push(I[Y].az5)}this.ama();
this.q5=!1}};c1.prototype.ama=function(){var I=Math.floor(38*$.Y()),k=Math.floor(38*$.Y());this.lB=[];
var a=[],n=[],s=this.LP;for(var Y=0;Y<s.length;Y++){if(s[Y].z2.toLowerCase().indexOf(this.FB)==-1)continue;
this.lB.push(s[Y]);a.push(this.z8[Y]);n.push(s[Y].z2)}this.FG.NX(a,n,I,k)};c1.prototype.j=function(I){this.KA=c1.clone(I);
this.OC()};c1.prototype.OC=function(){var I=Math.floor(23*$.Y()),k=Math.floor(23*$.Y()),a=c1.adq(this.KA,I,k);
this.qH.setAttribute("src",a);$.Kf(this.qH,I,k)};c1.prototype.l=function(){return c1.clone(this.KA)};
c1.clone=function(I){return{z2:I.z2,Nu:I.Nu,d:X.JB.xa(I.d),UL:I.UL.clone()}};c1.g8=null;c1.hp=null;c1.adq=function(I,k,a){var n=I.UL,s=Math.min(k/n.Q,a/n._)*.9,C=new dc;
C.translate(-.5,-.5);C.scale(.95,.95);C.translate(.5,.5);C.scale(s*n.Q,s*n._);C.translate((k-s*n.Q)/2,(a-s*n._)/2);
var T=j.$P(k,a);T.save();T.fillStyle="black";T.clearRect(0,0,k,a);T.setTransform(C.M,C.J,C.mL,C.Jo,C.Dw,C.rk);
j.n.Cw(I.d,T,0,0);T.restore();var S=UPNG.encode([T.getImageData(0,0,k,a).data.buffer],k,a,0);return"data:image/png;base64,"+kk.Tk(S)};
function kQ(I){ca.call(this,I,!1,"ICCButton",16*13,12*13,f9.gh,!0);this.FG.oW(1)}kQ.prototype=new ca;
kQ.prototype.yW=function(){var I="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var Y=0;Y<I.length;Y++)I[Y]="luts/"+I[Y]+".CUBE";return I};kQ.prototype.tu=function(I){this.j(this.LP[I.target.l()]);
this.a(new d2(M.E.B))};kQ.prototype.Da=function(){if(!this.q5)return;var I=Math.floor(1*$.Y()),k=Math.floor(1*$.Y()),a=[],n=[],s=this.LP;
for(var Y=0;Y<s.length;Y++){var C=s[Y].Nm.v.split("\\").pop().split("/").pop();n.push(C);a.push(kQ.cO(s[Y],I,k))}this.FG.NX(a,n,I,k);
this.q5=!1};kQ.prototype.j=function(I){this.KA=JSON.parse(JSON.stringify(I));this.OC()};kQ.cO=function(I,k,a){var n=$.I("canvas"),T="ICC / 3DL / look / cube";
n.width=k;n.height=a;var s=n.getContext("2d"),C=Math.floor(14*$.Y());s.font=C+"px sans-serif";if(I.Nm)T=I.Nm.v.split("\\").pop().split("/").pop();
s.fillText(T,10,C);return n.toDataURL()};kQ.prototype.OC=function(){var I=Math.floor(120*$.Y()),k=Math.floor(20*$.Y());
this.qH.setAttribute("src",kQ.cO(this.KA,I,k));$.Kf(this.qH,I,k)};kQ.prototype.l=function(){return JSON.parse(JSON.stringify(this.KA))};
function jo(){gB.call(this);this.Kj=null;this.Z=$.I("span","fitem");this.s5=new kd([14,9]);this.Hf=new fM(null,0,150,"px",1,!0,null,null,[19,2,5]);
this._N=new eI;this.gQ=[this.s5,this.Hf,this._N];for(var Y=0;Y<this.gQ.length;Y++){var I=this.gQ[Y];
this.Z.appendChild(I.Z);I.parent=this;I.O(M.E.B,this.lf,this)}}jo.prototype=new gB;jo.prototype.k=function(){for(var Y=0;
Y<this.gQ.length;Y++)this.gQ[Y].k()};jo.prototype.wu=function(I,k){this.s5.wu(I,k)};jo.prototype.lf=function(I){var k=this.Kj,a=this.s5.l();
fY.Mf(k,a);k.strokeStyleLineWidth.v.val=this.Hf.l();if(I.target==this._N)fY.Lg.write(k,this._N.l());
this.Kj=k;this.a(new d2(M.E.B,!1))};jo.prototype.j=function(I,k,a){this.Kj=JSON.parse(JSON.stringify(k));
var n=fY.NU(k);this.s5.j(I,n,a);this.Hf.j(k.strokeStyleLineWidth.v.val);this._N.j(fY.Lg.CM(k))};jo.prototype.l=function(){return JSON.parse(JSON.stringify(this.Kj))};
function gm(I){var k=[[18,0],[18,1],[18,2],[18,3]],a=f8.Tj(["set/front","set/union","set/difference","set/intersection"]);
f8.call(this,I?[12,36]:null,a,k)}gm.prototype=new f8;function bi(){gB.call(this);this.Z=$.I("button","fitem bbtn");
$.Ar(this.Z,this.Sn.bind(this));this.LL=new gB;this.LL.Z=$.I("div","floatcont form");this.LL.Z.setAttribute("style","max-width: 200px;");
this.LL.parent=this;var I=f7;this.qT=[new dI("Start"),new dI("End"),new I([12,41],0,100,"px",null,!0,null,!0),new I([12,80,0],0,100,"px",null,!0,null,!0),new I("Concavity",-50,50,"%",null,null,null,!0)];
for(var Y=0;Y<this.qT.length;Y++){var k=this.qT[Y];k.parent=this;k.O(M.E.B,this.Rb,this);this.LL.Z.appendChild(k.Z)}this.alj=$.I("div");
this.LL.Z.appendChild(this.alj)}bi.prototype=new gB;bi.prototype.j=function(I){for(var Y=0;Y<5;Y++)this.qT[Y].j(I[Y]);
this.lX()};bi.prototype.l=function(I){var k=[];for(var Y=0;Y<5;Y++)k[Y]=this.qT[Y].l();return k};bi.prototype.k=function(){this.Z.textContent=hJ.get([12,93,4]);
for(var Y=0;Y<this.qT.length;Y++)this.qT[Y].k()};bi.prototype.Rb=function(I){this.a(new d2(M.E.B,!1));
this.lX()};bi.prototype.lX=function(I){var k=this.l(),a=200,n=60;k[2]/=$.Y();k[3]/=$.Y();var s=j.n.uQ.Xq(0,n/2,a,n/2,5,k),C=j.n.wD(s);
this.alj.innerHTML="<svg width=\""+a+"\" height=\""+n+"\" class=\"gsicon\">\t\t\t<path d=\""+C.RK+"\" />\t\t\t</svg>"};
bi.prototype.Sn=function(I){if($.TU(this.LL.Z))return;I.stopPropagation();var k=this.Z.getBoundingClientRect(),a=new d2(M.E.b,!0);
a.data={q:M.p.ut,zM:this.LL,x:k.left,y:k.top+k.height,Dr:!0};this.a(a)};function bj(){gB.call(this);
this.Z=$.I("div");this.GU=[];this.axe=[];var I=this.$e=$.I("div"),k=$.I("h2");k.textContent="Create Teams";
I.appendChild(k);k.style.margin="26px 0 16px 0";var a=new iP("More about Teams",!1,null,!0);k.appendChild(a.Z);
a.Z.style.float="right";a.O("click",this.azk,this);this.b2=$.I("div");I.appendChild(this.b2);this.ajD=new ja("Team Name",null,10);
I.appendChild(this.ajD.Z);var n=this.av9=new iP("Create Team",null,null,!0);I.appendChild(n.Z);n.O("click",this.axP,this);
var k=$.I("h2");k.textContent="Join Teams";I.appendChild(k);k.style.margin="26px 0 16px 0";this.rL=$.I("div");
I.appendChild(this.rL);this.a2I=new ja("Team ID",null,10);I.appendChild(this.a2I.Z);var n=new iP("Join Team",null,null,!0);
I.appendChild(n.Z);n.O("click",this.axP,this);this.als;this.aa7=this.tc.bind(this);this.aBU=this.a7M.bind(this);
this.bs=!1;this.Zb();this.em=null;this.a5A=""}bj.prototype=new gB;bj.prototype.azk=function(I){var k=new d2(M.E.b,!0);
k.data={q:M.p.Bc,link:"https://www.photopea.com/api/accounts#teams"};this.a(k)};bj.prototype.Zb=function(){clearTimeout(this.abS);
this.abS=setTimeout(this.aBU,this.em?10:3e3)};bj.prototype.a7M=function(){var I=bU.U8();if(document.hidden||!$.TU(this.Z)||I==null){this.Zb();
return}var k=bU.So();if(this.em==null&&k==null)return;bU.rO(this.em?this.em:k,this.aa7);this.bs=!0;this.em=null};
bj.prototype.af_=function(I){I.acc.update=!0;this.Z.style.pointerEvents="none";this.Z.style.opacity="0.5";
if(this.bs)this.em=I;else{clearTimeout(this.abS);bU.rO(I,this.aa7)}};bj.prototype.n$=function(I){var k=typeof I=="string"?this.als:this.GU.indexOf(I.target),a=this.axe[k],n=a[0],s=bU.So();
if(s==null)s={};var C=s.acc,T=C.tjoin,S=C.tstart;if(n=="leave"){T.splice(T.indexOf(a[1]),1)}if(n=="add"||n=="remove"||n=="delTeam"||n=="showRename"||n=="rename"){var D=-1,o=0;
for(var Y=0;Y<S.length;Y++){o+=S[Y][1].length;if(S[Y][2]==a[1])D=Y}var v=S[D];if(n=="add"){var g=bU.Oa();
if(g&&g[0]==0&&g[1][2]<=o){alert("You can have at most "+g[1][2]+" members in your Premium.");return}v[1].push(a[2])}if(n=="remove")v[1].splice(v[1].indexOf(a[2]),1);
if(n=="delTeam"){if(v[1].length!=0){alert("Remove members first.");return}S.splice(D,1)}if(n=="showRename"){var d=new d2(M.E.b,!0);
d.data={q:M.p.Fu,aw:"namewindow",P6:v[0],h1:this.n$.bind(this)};this.a(d);this.als=k;a[0]="rename";return}if(n=="rename")v[0]=I}this.af_(s)};
bj.prototype.axP=function(I){var k=this.av9==I.target,a=(k?this.ajD:this.a2I).l().trim();if(a==""){alert("The Team "+(k?"Name":"ID")+" is empty.");
return}if(!k){a=parseInt(a);if(isNaN(a)){alert("The ID must be a number");return}}var n=bU.So();if(n==null)n={};
var s=n.acc;if(s==null)s=n.acc={};var C=s.tstart,T=s.tjoin;if(k){if(C==null)C=s.tstart=[];if(C.length>5){alert("You can have at most 5 teams");
return}C.push([a,[]])}else{if(C)for(var Y=0;Y<C.length;Y++)if(C[Y][2]==a){alert("You are the owner of this team");
return}if(T==null)T=s.tjoin=[];if(T.indexOf(a)!=-1){alert("You already asked to join this team.");return}s.tjoin.push(a)}s.update=!0;
this.af_(n)};bj.prototype.tc=function(){this.bs=!1;var I=bU.U8(),k=I!=null,a=this.$e.parentNode!=null;
if(k!=a){$.GD(this.Z);if(k)this.Z.appendChild(this.$e);else this.Z.textContent="Log In to access Team Settings."}if(!k)return;
var n=bU.So();if(n==null)n={};var s=n.acc;if(s==null)s={};var C=JSON.stringify(s)+"===="+JSON.stringify(I);
if(C!=this.a5A){this.a5A=C;var T=this.b2,S=this.rL;$.GD(T);$.GD(S);var D=this.GU=[],o=this.axe=[],v=this.n$.bind(this);
function g(W,m){W.addEventListener("click",v);D.push(W);o.push(m)}function d(Z,W){var N=$.I("div"),m="rgba(255,255,255,0.15)";
N.appendChild(c("ID: "+Z[2],54,m));N.appendChild(c(Z[0],160,null,!0));if(W){N.appendChild(c(Z[1].length+" members",80,null,!0))}else{N.appendChild(c(Z[1]==-1?"... not accepted yet":"Accepted",160));
if(Date.now()<Z[1]*1e3)N.appendChild(c("Premium",80,"rgba(0,140,0,1)"))}var f=c("",120);N.appendChild(f);
f.setAttribute("style","float:right;text-align:right");if(W){var h=new iP("Rename",null,null,!0);g(h,["showRename",Z[2]]);
f.appendChild(h.Z)}var h=new iP(W?"Delete":"Leave",null,null,!0);g(h,[W?"delTeam":"leave",Z[2]]);f.appendChild(h.Z);
return N}function R(W,m,y){var N=$.I("div");N.style.paddingLeft="46px";N.appendChild(c(m?"\u2713":"...",8,m?"#229922":"#aa7700"));
N.appendChild(c(W[1],200));N.appendChild(c(W[2],240));var f=c("",120);N.appendChild(f);f.setAttribute("style","float:right;text-align:right");
var h=new iP(m?"Remove":"Add",null,null,!0);g(h,[m?"remove":"add",y,W[0]]);f.appendChild(h.Z);return N}function c(W,m,f,h){var b=$.I("span");
b.textContent=W;b.setAttribute("style","display:inline-block;  padding:0 10px;  border-radius:4px;  overflow:hidden;  width:"+m+"px;  "+(f!=null?"background-color:"+f+";":"")+(h?"font-weight:bold;":""));
return b}var e=s.tstart,O=s.tjoin,U=I.wantToJoin,K=I.inTeams;if(e)for(var _=0;_<e.length;_++){var Z=e[_],H=U["t"+Z[2]];
if(H==null)H=[];var G={};for(var Y=0;Y<H.length;Y++)G["u"+H[Y][0]]=H[Y];var N=d(Z,!0);T.appendChild(N);
N.style.marginTop="10px";for(var Y=0;Y<Z[1].length;Y++){var z=Z[1][Y],L=G["u"+z];if(L==null)L=[z,"========","... user has left your team"];
delete G["u"+z];var p=R(L,!0,Z[2]);T.appendChild(p)}for(var V in G){var L=G[V],p=R(L,!1,Z[2]);T.appendChild(p)}}if(O){var r={};
for(var Y=0;Y<K.length;Y++)r["t"+K[Y][2]]=K[Y];for(var _=0;_<O.length;_++){var y=O[_],Z=r["t"+y],N=d(Z?Z:["==========",-1,y],!1);
S.appendChild(N)}}this.a(new d2(M.E.B))}if(this.em==null){this.Z.style.pointerEvents="auto";this.Z.style.opacity="1"}this.Zb()};
function bX(){gB.call(this);this.Nx=[16,!0,!0];this.Z=$.I("span","");this.Gf=[new fM([12,24],0,255),new dI([12,25,1]),new dI([12,25,0])];
for(var Y=0;Y<3;Y++){var I=this.Gf[Y];I.parent=this;I.j(this.Nx[Y]);this.Z.appendChild(I.Z);I.O(M.E.B,this.lf,this)}}bX.prototype=new gB;
bX.prototype.lf=function(){for(var Y=0;Y<3;Y++)this.Nx[Y]=this.Gf[Y].l();this.a(new d2(M.E.B,!1))};bX.prototype.j=function(I){this.Nx=I.slice(0);
for(var Y=0;Y<3;Y++)this.Gf[Y].j(I[Y])};bX.prototype.l=function(){return this.Nx.slice(0)};bX.prototype.k=function(){for(var Y=0;
Y<3;Y++)this.Gf[Y].k()};function dJ(I,k){gB.call(this);if(k==null)k=!1;this.z8=[];this.o9=Math.floor(120*$.Y());
this.alQ=Math.floor(23*$.Y());this.H3=0;this.Pe=[];this.L6=[];for(var a in j.O8.type){if((a=="warpCustom"||a=="warpCylinder")&&!k)continue;
this.Pe.push(a);this.L6.push(j.O8.type[a])}this.Z=$.I("span","fitem warpbutton");this.LL=new gB;this.LL.Z=$.I("div","floatcont");
if(I){this.oO=I;this.Fd=$.I("label","flabel");this.Z.appendChild(this.Fd)}this.q=$.I("button");this.Z.appendChild(this.q);
$.Ar(this.q,this.Sn.bind(this));this.Ok=new bt(!0);this.LL.Z.appendChild(this.Ok.Z);this.Ok.O(M.E.B,this.a4r,this);
this.LL.Z.setAttribute("style","width:"+Math.floor(8+this.o9/$.Y())+"px;");this.k()}dJ.prototype=new gB;
dJ.prototype.jO=function(I){this.Fd.textContent=I};dJ.prototype.k=function(){if(this.oO)this.Fd.innerHTML=hJ.get(this.oO)+":";
this.OC()};dJ.aDw={};dJ.ah3=function(I,k,a){var n=hJ.get(j.O8.type[I]),s=n+"-"+I+"-"+k+"-"+a,C=dJ.aDw[s];
if(C)return C;var T=dJ.hp;if(S==null){var S=$.I("canvas");T=dJ.hp=S.getContext("2d")}var S=T.canvas;
if(S.width!=k||S.height!=a){S.width=k;S.height=a}T.font=Math.floor(13*$.Y())+"px sans-serif";T.lineWidth=1;
T.strokeStyle="#000000";var D=Math.floor(16*$.Y()),o=new eZ(0,0,D,D);T.clearRect(0,0,S.width,S.height);
var v=j.O8.O8(I,I=="warpCylinder"?[0,0,1,1,-.2,-.3,1]:.3,!0,0,0,1);j.O8.ao4(v[3],o);var g=j.X.Eu(o);
g.m.push("M","L","M","L");g.s.push(0,D/2,D,D/2);g.s.push(D/2,0,D/2,D);g=j.X.C5(g);g=j.X.rA(g,D/5);j.QT.h(v,g.s,o);
j.X.h(g.s,new dc(1,0,0,1,Math.floor(8*$.Y())+.5,Math.floor(3*$.Y())+.5),g.s);T.beginPath();Typr.U.pathToContext({cmds:g.m,crds:g.s},T);
T.stroke();T.fillText(n,Math.floor(40*$.Y()),Math.floor(16*$.Y()));C=dJ.aDw[s]=S.toDataURL();return C};
dJ.prototype.Sn=function(I){if($.TU(this.LL.Z))return;I.stopPropagation();var k=this.o9,a=this.alQ;for(var Y=0;
Y<this.Pe.length;Y++)this.z8[Y]=dJ.ah3(this.Pe[Y],k,a);this.Ok.NX(this.z8,null,k,a);var n=this.q.getBoundingClientRect(),s=new d2(M.E.b,!0);
s.data={q:M.p.ut,zM:this.LL,x:n.left,y:n.top+n.height+4};this.a(s)};dJ.prototype.a4r=function(I){var k=new d2(M.E.b,!0);
k.data={q:M.p.nx,zM:this.LL};this.a(k);this.H3=I.target.l()[0];this.OC();this.a(new d2(M.E.B))};dJ.prototype.OC=function(){var I=this.o9,k=this.alQ;
this.Ok.j([this.H3]);this.q.innerHTML="<img src=\""+dJ.ah3(this.Pe[this.H3],I,k)+"\" class=\"gsicon\" />";
$.Kf(this.q.firstChild,I,k)};dJ.prototype.l=function(){return this.Pe[this.H3]};dJ.prototype.j=function(I){this.H3=this.Pe.indexOf(I);
this.OC()};function g4(I,k,a){gB.call(this);if(I==null)I=!1;if(k==null)k=!1;if(a==null)a=!1;this.afI=k;
this.O8=null;this.cG=new dJ([12,22],a);this.cG.parent=this;this.cG.O(M.E.B,this.JT,this);this.Mc=new fB([22,0],[[22,4,0],[22,4,1]]);
this.Mc.O(M.E.B,this.JT,this);var n=I?fM:f7;this.MN=new n([22,1],-100,100,"%");this.Jl=new n("Horizontal Distortion:",-100,100,"%");
this.UR=new n("Vertical Distortion:",-100,100,"%");this.MN.parent=this.Jl.parent=this.UR.parent=this;
this.MN.O(M.E.B,this.JT,this);this.Jl.O(M.E.B,this.JT,this);this.UR.O(M.E.B,this.JT,this)}g4.prototype=new gB;
g4.prototype.k=function(){this.cG.k();this.Mc.k();this.MN.k();var I=this.afI?1:100;this.Jl.jO(hJ.get([22,2]).substring(0,I)+":");
this.UR.jO(hJ.get([22,3]).substring(0,I)+":")};g4.prototype.JT=function(){var I=this.O8,k=this.cG.l(),a=I.warpStyle.v.warpStyle;
if(k=="warpCustom")j.O8.sK(I,j.O8.ck(I));else delete I.customEnvelopeWarp;I.warpStyle.v.warpStyle=this.cG.l();
I.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.Mc.l()];var n=this.MN.l();I.warpPerspective.v=this.Jl.l();I.warpPerspectiveOther.v=this.UR.l();
if(k=="warpNone"||k=="warpCustom"){n=0;I.warpPerspective.v=0;I.warpPerspectiveOther.v=0}else if(a=="warpNone"||a=="warpCustom"||a=="warpCylinder")n=50;
if(k!="warpCylinder"){I.warpValue={t:"doub",v:n};delete I.warpValues}else{I.warpValues=E.nF.D1([0,100,100,0,.15,.2,1]);
delete I.warpValue}this.a(new d2(M.E.B,!1));this.j(I)};g4.prototype.l=function(I){return JSON.parse(JSON.stringify(this.O8))};
g4.prototype.j=function(I){this.O8=JSON.parse(JSON.stringify(I));var k=I.warpStyle.v.warpStyle,a=k=="warpNone"||k=="warpCustom"||k=="warpCylinder";
this.cG.j(k);if(!a){this.Mc.j(I.warpRotate.v.Ornt=="Hrzn"?0:1);this.MN.j(I.warpValue.v);this.Jl.j(I.warpPerspective.v);
this.UR.j(I.warpPerspectiveOther.v)}var n=[this.Mc,this.MN,this.Jl,this.UR];for(var Y=0;Y<n.length;Y++)if(a)n[Y].hl();
else n[Y].MK()};function dq(I){gB.call(this);this.td={};this.Z=$.I("div");this.Oe=I;this.Qh=null;this.eU=new kK(0,0);
this.Vc="position:relative;overflow:hidden;background-color:var(--bg-canvas);";this._M=null;this.XU=new $.uw(this.Z);
this.lt("grab");this.g8=$.I("canvas","canv");this.Z.appendChild(this.g8);this.hp=this.g8.getContext("2d",{willReadFrequently:!0});
this.ave=null;this.BL=null;this.co=null;this.$V=0;this.atV=0;this.ZL=0;this.B8=0;this.aeL=this.ayI.bind(this);
this.ap7=null;this.w=new eV({Q:1,_:1});this.qK=null;this.gp=null;this.G_=[];this.aEr=0;this.n0=0;this.a40=this.e_.bind(this);
this.amF=this.vC.bind(this);this.adY=this.RG.bind(this);this.ajH=this.ET.bind(this);this.ao7=0;this.U0=null;
this.a48(this.g8);this.nn(this)}dq.prototype=new gB;dq.prototype.apv=function(I){this.td=I;this.LI()};
dq.sp=function(I){var k=new as(!0);if(I>=0)k.eP("Space");if(I>=1){k.eP("ControlLeft");if(I==2)k.eP("AltLeft")}return k};
dq.prototype.Bf=function(I){var k=this._M,a=null;if(I.W(as.lO)){a="grab";if(I.W(as.nU)){a="zoom-in";
if(I.W(as.dE))a="zoom-out"}}this.Qh=a;if(a)k=a;this.XU.tc(k,this.Vc);if(I.W(as.nU)){var n=0;if(I.W(as.AC))n=1;
if(I.W(as.q0))n=-1;if(n!=0){this.Jr(new kK(this.g8.width/2,this.g8.height/2),n==1)}}};dq.prototype.lt=function(I){this._M=I;
if(this.Qh)return;this.XU.tc(I,this.Vc)};dq.prototype.a48=function(I){$.Ar(I,this.a40);$.$j(I);I.addEventListener("wheel",this.ajH,!1)};
dq.prototype.nn=function(I){I.O("viewchange",this.a7m,this)};dq.prototype.a7m=function(I){var k=this.w.F,a=I.currentTarget.DF();
this.w.F=a.F;this.w.i=a.i.clone();if(k!=a.F)this.jg();this.LI()};dq.prototype.DF=function(){return{F:this.w.F,i:this.w.i}};
dq.prototype.j=function(I,k,a,n){var s=I[0].e3;if(this.BL!=null&&this.BL[0].e3.a$(s)){}else{this.w.Z9={Q:s.Q,_:s._};
this.w.F=1;this.w.i=new kK(0,0)}this.BL=I;this.jg(n);this.JH();this.$V=0;this.atV=Date.now();this.ZL=0;
this.B8=k==null?0:k;if(a)this.td=a;this.ayI()};dq.prototype.ET=function(I){I.preventDefault();if(I.deltaY==0||Date.now()-this.ao7<100)return;
var k=$.Ea(I);k.x=$.Y()*k.x;k.y=$.Y()*k.y;this.ao7=Date.now();this.Jr(k,I.deltaY<0)};dq.prototype.Jr=function(I,k){E.rD.LX(this.w,I,k);
this.aqA()};dq.prototype.wF=function(I){var k=this.w,a=k.Z9;this.w.F=E.rD.H8(a.Q,a._,k.PJ.Q,k.PJ._);
if(I)this.w.i=new kK(0,0);this.aqA()};dq.prototype.aqA=function(){this.jg();this.a(new d2("viewchange"));
this.a(new d2("zoom"))};dq.prototype.jg=function(I){var k=this.co;this.co=[];var a=this.w.F;if(this.BL==null)return;
if(I){var n=j.a9(a),s=1;for(var C=0;C<n.length;C++)s*=n[C];var T=I.x,S=I.y,D=T+I.Q,o=S+I._;T=Math.floor(T/s)*s;
D=Math.ceil(D/s)*s;S=Math.floor(S/s)*s;o=Math.ceil(o/s)*s;I=new eZ(T,S,D-T,o-S)}for(var Y=0;Y<this.BL.length;
Y++){var v=this.BL[Y],g=new Uint8Array(v.data),d;if(a>=1)d={GG:g,rect:v.e3};else{if(k&&k[Y]&&I){var R=j.U(I.c()*4);
j.ao(g,v.e3,R,I);var c=j.QU(R,I,a),e=c.rect;e.x=Math.floor(e.x*a);e.y=Math.floor(e.y*a);d=k[Y];j.ao(c.GG,c.rect,d.GG,d.rect)}else d=j.QU(g,v.e3,a)}this.co[Y]=d}};
dq.prototype.JH=function(){clearTimeout(this.ap7)};dq.prototype.LI=function(){if(this.BL==null||!$.TU(this.g8))return;
var I=this.ave,k=this.g8.width,a=this.g8.height,c,e;if(I==null||I.width!=k||I.height!=a){I=this.ave=this.hp.createImageData(k,a);
console.log("creating image data")}var n=this.BL[this.$V],s=this.co[this.$V],C=this.w,T=C.Z9,S=C.PJ,D=S.Q,o=S._,v=T.Q*C.F,g=T._*C.F,d=Math.round((D-v)/2+C.i.x),R=Math.round((o-g)/2+C.i.y);
if(C.F<=1){e=s.rect.clone();e.x=d;e.y=R;v=e.Q;g=e._;c=s.GG}else{var O=1/C.F,U=new eZ(Math.floor((S.x-d)*O),Math.floor((S.y-R)*O),Math.ceil(S.Q*O)+1,Math.ceil(S._*O)+1),K=new eZ(0,0,U.Q*C.F,U._*C.F);
K.x=U.x*C.F+d;K.y=U.y*C.F+R;if(C.LS==null||C.LS.length!=U.c()*4){C.LS=j.U(U.c()*4)}if(C.xv==null||C.xv.length!=K.c()*4){C.xv=j.U(K.c()*4)}j.IP(C.LS,0);
j.ao(s.GG,s.rect,C.LS,U);j.scale.jj(C.LS,U.Q,U._,C.xv,K.Q,K._,C.F);c=C.xv;e=K}var _=new Uint8Array(I.data.buffer);
j.lQ(_,D,o,8,-d,-R);j.z.Pf("norm",c,e,_,S,S,1);var Z=this.hp;Z.setTransform(1,0,0,1,0,0);Z.putImageData(I,0,0);
Z.clearRect(d-4e3,R,4e3,g);Z.clearRect(d+v,R,4e3,g);Z.clearRect(d-4e3,R-4e3,v+8e3,4e3);Z.clearRect(d-4e3,R+g,v+8e3,4e3);
var H=dq.ayE(C.F,"#ffffff");Z.putImageData(H,0,C.PJ._-H.height);var G=this.td,C=this.w;if(G){var N=hr.K3([.1,.5,1,1]),z=hr.K3([1,0,0,1]),L=hr.K3([1,1,1,1]),p=hr.K3([0,0,0,1]),V=C.Q8(!1);
V.Us();Z.save();Z.setTransform(V.M,V.J,V.mL,V.Jo,V.Dw,V.rk);Z.strokeStyle=z;if(G.a5n){hr.Th(G.a5n,null,Z);
Z.lineWidth=1/C.F;Z.stroke()}Z.strokeStyle=L;if(G.a2B){hr.Th(G.a2B,null,Z);Z.lineWidth=1/C.F;Z.stroke();
Z.strokeStyle=p;Z.setLineDash([4/C.F,4/C.F]);Z.stroke();Z.setLineDash([])}Z.strokeStyle=N;Z.fillStyle=hr.K3([1,1,1,1]);
if(G.sV){hr.Th(G.sV,null,Z);Z.lineWidth=1/C.F;Z.stroke()}if(G.t6){hr.MQ(G.t6,Z,C,.5);Z.lineWidth=2/C.F;
Z.stroke();Z.fill()}if(G.Or){Z.font=16/C.F+"px sans-serif";var r=1/C.F;for(var Y=0;Y<G.Or.length;Y++){var y=G.Or[Y],W=y[0],m=y[1]+6/C.F,f=y[2];
Z.fillStyle="black";Z.fillText(f,W-r,m);Z.fillText(f,W+r,m);Z.fillStyle="white";Z.fillText(f,W,m)}}Z.restore()}Z.getImageData(0,0,1,1)};
dq.a27="";dq.ai9=null;dq.ayE=function(I,k,a,n){if(a==null){a=0;n=0}var s=a+" \xD7 "+n,C="z"+I+","+k+","+a+","+n;
if(C==dq.a27)return dq.ai9;var T=Math.round(50*$.Y()),S=Math.round(18*$.Y()),D=a==0?0:Math.round((s.length+2)*S*.35),o=$.I("canvas"),v=o.getContext("2d");
o.width=T+D;o.height=S;v.fillStyle="rgba(1,1,1,1)";v.fillRect(0,0,T,S);if(a!=0)v.fillRect(T+2,0,D,S);
v.font=Math.round(11*$.Y())+"px monospace";v.fillStyle=k;var g=I*100;if(g<100)g=g.toFixed(2);else g=Math.round(g);
g=g+"%";var d=v.measureText(g).width;v.fillText(g,(T-d)/2,Math.round(S*.7));if(a!=0){var R=v.measureText(s).width;
v.fillText(s,T+(D-R)/2+1,Math.round(S*.7))}var c=v.getImageData(0,0,T+D,S);dq.a27=C;dq.ai9=c;return c};
dq.prototype.ayI=function(){var I=this.BL,k=I.length,a=this.$V,n=this.BL[a],s=(a+1)%k;this.LI();var C=Date.now();
if(k!=1&&I[s].e3.a$(n.e3)){var T=n.Dq?parseInt(n.Dq.split(",").pop()):30;if(T==0)T=16;if(s==0)this.ZL++;
if(this.B8==0||this.ZL<this.B8)this.ap7=setTimeout(this.aeL,T)}this.$V=s;this.atV=C};dq.prototype.bb=function(I,k){if(I<=0||k<=0)return;
var a=Math.floor(I*$.Y()),n=Math.floor(k*$.Y());this.w.PJ=new eZ(0,0,a,n);this.g8.width=a;this.g8.height=n;
this.g8.setAttribute("style","width:"+a/$.Y()+"px; height:"+n/$.Y()+"px; display:block;");this.LI()};
dq.prototype.DS=function(I){var k=-1,a=this.G_;for(var Y=0;Y<a.length;Y++)if(a[Y].pointerId==I.pointerId)k=Y;
return k};dq.prototype.e_=function(I){var k=this.DS(I),a=this.G_;if(k!=-1)a[k]=I;else a.push(I);if(a.length==1){this.U0=I.target;
$.YU(window,this.amF);$.hf(window,this.adY);this.qK=$.Ea(I,this.g8);this.qK.x*=$.Y();this.qK.y*=$.Y();
this.eU=this.qK;this.gp=this.w.i.clone();if(this.Oe&&this.U0==this.g8&&!this.Qh)this.a(new d2("mousedown"))}else this.aEr=this.n0=kK.f0($.Ea(a[0],this.g8),$.Ea(a[1],this.g8))};
dq.prototype.vC=function(I){var k=this.DS(I),a=this.G_;if(k!=-1)a[k]=I;var n=this.w,s=this.Qh,C=this.BL[this.$V].e3.clone();
C.Q*=n.F;C._*=n.F;var T=$.Ea(I,this.g8);T.x*=$.Y();T.y*=$.Y();this.eU=T;if(this.Oe&&this.U0==this.g8&&!s)this.a(new d2("mousemove"));
else if(s=="grab"||s==null){if(a.length>1){var S=$.Ea(a[0],this.g8),D=$.Ea(a[1],this.g8),o=new kK($.Y()*(S.x+D.x)/2,$.Y()*(S.y+D.y)/2),v=kK.f0(S,D),g=null;
if(v>this.n0+50){this.n0+=50;g=!0}if(v<this.n0-50){this.n0-=50;g=!1}if(g!=null)this.Jr(o,g);return}else{var d=T.x-this.qK.x,R=T.y-this.qK.y;
n.i.x=this.gp.x+Math.round(d);n.i.y=this.gp.y+Math.round(R)}this.a(new d2("viewchange"))}};dq.prototype.RG=function(I){var k=this.DS(I),a=this.G_;
a.splice(k,1);if(a.length==0){$.qD(window,this.amF);$.Yf(window,this.adY);var n=this.Qh;if(I.detail>1){this.w.F=1;
this.w.i.dZ(0,0);this.LI()}if(this.Oe&&this.U0==this.g8&&!this.Qh)this.a(new d2("mouseup"));else{if(n=="zoom-in"||n=="zoom-out")this.Jr(this.eU,n=="zoom-in")}}else{var s=this.qK=$.Ea(a[0],this.g8);
s.x*=$.Y();s.y*=$.Y()}};dq.prototype.Ah=function(I){var k=this.eU;if(I){k=$.Ea(I,this.g8);k.x*=$.Y();
k.y*=$.Y()}return this.w.m_(k.x,k.y)};function bL(){gB.call(this);this.gx=null;this._5=null;this.$t=null;
this.lC=null;this.apM="";this.WS=[];this.sA=0;this.WP=[];this._w=0;this.wY=null;var I=this.Z=$.I("div",""),k=this.avN=$.I("div","form");
k.setAttribute("style","line-height:0; margin-bottom:0.5em;");I.appendChild(k);var a=this.oO=$.I("span");
k.appendChild(a);a.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");var n=this.ajU=new dI([25,2,0]);
n.j(!0);k.appendChild(n.Z);n.O(M.E.B,this.Wm,this);var s=this.no=new dI([25,2,1]);s.j(!0);k.appendChild(s.Z);
s.O(M.E.B,this.Wm,this);var C=new gv(" ");k.appendChild(C.Z);var T=this.$p=new ja([25,1,1]);k.appendChild(T.Z);
T.O(M.E.B,this.Wm,this);this.v5=new a_(14);this.v5.a0m(3);k.appendChild(this.v5.Z);this.v5.parent=this;
this.v5.O(M.E.B,this.ar1,this);var S=this.aw7=new iP([25,1,2],null,null,!0);k.appendChild(S.Z);S.O("click",this.vr,this);
var D=new iP("?",null,null,!0);k.appendChild(D.Z);D.addEventListener("click",function(){alert("All our images come from Pixabay.com and are free to use for commercial purposes.")});
this.ai0=this.aql.bind(this);this.h8=$.I("div","svggallery scrollable");I.appendChild(this.h8);this.h8.addEventListener("scroll",this.a7x.bind(this))}bL.prototype=new gB;
bL.prototype.wu=function(I){this.asC=I};bL.prototype.k=function(){this.oO.textContent=hJ.get([25,0]);
this.v5.k();this.ajU.k();this.no.k();this.$p.k();this.aw7.k()};bL.prototype.bb=function(I,k){this.gx=new kK(I,k);
this.avN.setAttribute("style","width:"+I+"px");var a=this.avN.getBoundingClientRect();k-=a.height;this.h8.setAttribute("style","width:"+I+"px; height:"+k+"px");
if($.TU(this.Z))this.Wm()};bL.prototype.j=function(I){this._5=I;this.Wm()};bL.prototype.a7x=function(I){var k=this.h8;
if(k.scrollTop+k.clientHeight+10>=k.scrollHeight){this.Wm(!0)}};bL.prototype.ar1=function(I){this.$t=null;
this.Wm()};bL.prototype.aql=function(I){if(Date.now()-this._w<2e3)return;this._w=Date.now();this.sA=this.WP.indexOf(I.currentTarget);
var k=this.rU(this._5.x,this._5.y);if(k[1]){var a=k[1].largeImageURL,n=new XMLHttpRequest;n.responseType="arraybuffer";
n.open("GET",a,!0);n.onload=this.and.bind(this);n.send();return}this.a7g(k)};bL.prototype.and=function(I){var k=I.target.response,a=kk.V1(k),n=kk.wV(a),s=n.Zn(k),C=this.rU(this._5.x,this._5.y,[k,s[0].e3.Q,s[0].e3._]);
this.a7g(C)};bL.prototype.a7g=function(I){var k=I[0],a=kk.V1(k),n=kk.wV(a),s=new iJ("template.psd");
n.Zn(k,s);var C=new d2("tempready",!0);C.data={Z9:s};this.a(C)};bL.prototype.vr=function(I){var k=I.target;
this.WS=[];this.$t=null;this.Wm()};bL.prototype.amo=function(I){var k=JSON.parse(I.target.response),a=this.lC=k.hits;
for(var Y=0;Y<a.length;Y++)if(a[Y].user_id==6314823)a.splice(Y,1);this.Wm()};bL.prototype.Wm=function(I){if(this._5==null||this.gx==null||this.asC==null)return;
if(this.gx.x<=0)return;var k=this._5.x,a=this._5.y;if(Math.min(k,a)<50)return;if(I!=!0){this.WP=[];$.GD(this.h8);
this.h8.scrollTop=0}if(this.WP.length>300)return;var n=Math.min(1,300/Math.max(k,a)),s=this.gx.clone();
s.x-=20;var C=Math.max(1,Math.floor(s.x/(k*n))),T=Math.max(1,Math.ceil(s.y/(a*n)));n=s.x/C/k;var S=C*T;
if(this.$t==null){var D=this.asC.IE.tH(),o=[];for(var v in D){var g=D[v],d=g[3];if(!this.v5.hy(g))continue;
if(g[5]==null||g[5].slice(0,2)=="gf")continue;o.push(g)}if(o.length==0)o.push(D.DejaVuSans);var R=o.length;
for(var Y=0;Y<R*10;Y++){var c=Math.floor(Math.random()*R),e=Math.floor(Math.random()*R),O=o[c];o[c]=o[e];
o[e]=O}o=o.slice(0,10);this.$t=o}var U=this.no.l(),K=this.$p.l().trim();this.$p.wl(U);if(U&&(this.lC==null||K!=this.apM)){var _=new XMLHttpRequest,Z="https://pixabay.com/api/?image_type=photo"+(K==""?"":"&q="+encodeURIComponent(K))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88&safesearch=true";
if(K=="")Z="//www.photopea.com/plugins/gallery.json";_.open("GET",Z,!0);_.onload=this.amo.bind(this);
_.onerror=function(p){console.log(p.target.response)};_.send();this.apM=K;return}n*=(k*n-5)/(k*n);var H=this.WP.length;
for(var Y=0;Y<S;Y++){var G=this.sA=H+Y;if(this.WS[G]==null)this.WS[G]=Math.floor(Math.random()*4294967295);
var N=this.rU(Math.round(k*n),Math.round(a*n)),z=N[0];z=u.Im(new Uint8Array(z));var L=$.I("span");L.innerHTML=z;
this.WP.push(L);this.h8.appendChild(L);L.addEventListener("click",this.ai0,!1)}};bL.prototype.rU=function(I,k,a){var n=this.no.l(),s=this.ajU.l(),C=n&&this.lC.length!=0?this.lC:null;
if(s&&!n)C=null;if(s&&n&&(this.sA&1)==0)C=null;return av.uQ(I,k,this.WS[this.sA],this.$t,a?a:C)};function g1(){gB.call(this);
this.Z=$.I("div");this.$e=null;this.aeJ=null;this.IF=-1;this.W7={JPG:[{Uz:new f7([12,52,0],0,100,"%",null,null,!0),hm:70},{Uz:new dI("attach metadata"),hm:!1}],TIFF:[{Uz:new dI("attach metadata"),hm:!1}],WEBP:[{Uz:new f7([12,52,0],0,100,"%",null,null,!0),hm:70},{Uz:new dI("attach metadata"),hm:!1}],GIF:[{Uz:new f7([12,52,0],0,100,"%",null,null,!0),hm:100},{Uz:new dI([12,23,3]),hm:!1}],PNG:[{Uz:new f7([12,52,0],0,100,"%",null,null,!0),hm:100},{Uz:new dI("don't use palettes"),hm:!1},{Uz:new dI("attach metadata"),hm:!1}],BMP:[{Uz:new dI("don't use palettes"),hm:!1}],PDF:[{Uz:new ja([12,52,1]),hm:""},{Uz:new f7([12,52,0],0,100,"%",null,null,!0),hm:100},{Uz:new dI("reverse pages"),hm:!1},{Uz:new dI("rasterize all"),hm:!1},{Uz:new dI("vectorize text"),hm:!1},{Uz:new f7("Add Margin",0,5,"in",2),hm:0},{Uz:new dI("add crop marks"),hm:!1}],EMF:[{Uz:new ja([12,52,1]),hm:""},{Uz:new f7([12,52,0],0,100,"%",null,null,!0),hm:100},{Uz:new dI("reverse pages"),hm:!1},{Uz:new dI("rasterize all"),hm:!1},{Uz:new dI("vectorize text"),hm:!1},{Uz:new f7("Add Margin",0,5,"in",2),hm:0}],SVG:[{Uz:new dI("add raster graphics"),hm:!0},{Uz:new dI("add hidden layers"),hm:!1},{Uz:new dI("vectorize text"),hm:!1},{Uz:new dI("rasterize text"),hm:!1},{Uz:new dI("minify"),hm:!1}],RAW:[{Uz:new f8([12,72],["1","3","4"]),hm:2},{Uz:new f8([12,34],["8 Bits","16 Bits"]),hm:0},{Uz:new f8("Byte Order",["12-34","34-12"]),hm:0}],DDS:[{Uz:new fB("Compression",["8x | BC1","4x | BC3","4x | BC7","None"]),hm:0},{Uz:new dI("Add Mipmaps"),hm:!0}],MP4:[{Uz:new f7([12,52,0],0,100,"%",null,null,!0),hm:50}],anim:[{Uz:new f7("Speed",10,1e3,"%",null,!0,!0),hm:100},{Uz:new fM("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),hm:0},{Uz:new dI("reverse frames"),hm:!1},{Uz:new dI("boomerang"),hm:!1}],slcs:[{Uz:new dI([8,11,0]),hm:!0}],artb:[{Uz:new dI([1,16,1]),hm:!0}],hicc:[{Uz:new dI("convert to sRGB"),hm:!0}]};
for(var I in this.W7){var k=this.W7[I];for(var Y=0;Y<k.length;Y++){k[Y].Uz.j(k[Y].hm);k[Y].Uz.O(M.E.B,this.FP,this)}}}g1.prototype=new gB;
g1.prototype.atk=function(){this.IF=-1};g1.prototype.k=function(){for(var I in this.W7)for(var Y=0;Y<this.W7[I].length;
Y++)this.W7[I][Y].Uz.k()};g1.prototype.FP=function(){this.Wm();this.a(new d2(M.E.B,!1))};g1.prototype.Wm=function(){var I=this.$e,k=I[0],a=I[1],n=I[2],s=I[3],C=I[4],T=this.W7[k];
if(T==null)T=[];else T=T.slice(0);if(a)T=T.concat(this.W7.anim);if(["GIF","PNG","JPG","WEBP"].indexOf(k)!=-1&&n)T=T.concat(this.W7.slcs);
else if(["GIF","PNG","JPG","WEBP","SVG"].indexOf(k)!=-1&&s)T=T.concat(this.W7.artb);if(C)T=T.concat(this.W7.hicc);
var S=I.join(",");if(S!=this.IF){this.IF=S;$.GD(this.Z);for(var Y=0;Y<T.length;Y++){if(k=="PDF"&&!s&&(Y==0||Y==2))continue;
this.Z.appendChild(T[Y].Uz.Z);$.FI(this.Z)}}var D=this.aeJ=[];for(var Y=0;Y<T.length;Y++)D.push(T[Y].Uz.l())};
g1.prototype.G7=function(I,k,a,n,s){this.$e=[I,k,a,n,s];this.Wm()};g1.prototype.l=function(){return this.aeJ.slice(0)};
g1.prototype.j=function(I,k){var a=this.$e,n=a[0],s=this.W7[n],C=Math.min(s.length,I.length);for(var Y=0;
Y<C;Y++)s[Y].Uz.j(I[Y]);this.Wm();if(k!=!0)this.FP()};function go(){gB.call(this);this.Z=$.I("span","fitem");
this.VQ=!1;this.ob=new iP("No",!1,"Cancel");this.vz=new iP("Yes",!1,"Confirm");this.Z.appendChild(this.ob.Z);
this.Z.appendChild(this.vz.Z);this.ob.O("click",this.EP,this);this.vz.O("click",this.EP,this);this.k()}go.prototype=new gB;
go.prototype.k=function(){this.ob.jO($.z5("cross",null,"autoscale"));this.vz.jO($.z5("checkmark",null,"autoscale"))};
go.prototype.EP=function(I){this.VQ=I.target==this.vz;this.a(new UIEvent("click"))};go.prototype.l=function(){return this.VQ};
function f0(I){gB.call(this);this.Z=$.I("span","fitem");this.yX=new iP("\u25BC",null,"Auto Options",!0);
$.Ar(this.yX.Z,this.an$.bind(this));this.Z.appendChild(this.yX.Z);this.pL=new iP("Auto",null,null,!0);
this.pL.O("click",this.Rb,this);this.Z.appendChild(this.pL.Z);this.zb=new da("Algorithms",["Enhance Monochromatic Contrast","Enhance Per Channel Contrast","Find Dark & Light Colors","Enhance Brightness And Contrast"],null,null,!0);
this.zb.O(M.E.B,this.Rb,this);this.zb.j([!1,!1,!1,!0]);this.LL=new gB;var k=this.LL.Z=$.I("div","floatcont form");
k.setAttribute("style","width: 250px;");this.LL.parent=this;k.appendChild(this.zb.Z);this.ST=[];for(var Y=0;
Y<2;Y++){var a=new fM((Y==0?"Shadows":"Highlights")+" Clip",0,9.99,"%",2,!1,!0);a.j(.1);a.O(M.E.B,this.Rb,this);
this.ST.push(a);k.appendChild(a.Z)}}f0.prototype=new gB;f0.prototype.Rb=function(I){this.a(new d2(M.E.B,!1))};
f0.prototype.k=function(){};f0.prototype.l=function(){return[this.zb.l().indexOf(!0),this.ST[0].l(),this.ST[1].l()]};
f0.prototype.an$=function(I){if($.TU(this.LL.Z))return;I.stopPropagation();var k=this.yX.Z.getBoundingClientRect(),a=new d2(M.E.b,!0);
a.data={q:M.p.ut,zM:this.LL,x:k.left,y:k.top+k.height+4};this.a(a)};function hS(){gB.call(this);var I=this.Z=$.I("div","fitem");
this.ze=new fB([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.ze.O(M.E.B,this.lf,this);I.appendChild(this.ze.Z);
this.tA=new ek(!1);this.tA.parent=this;this.tA.c1(16777215);this.tA.O(M.E.B,this.lf,this);I.appendChild(this.tA.Z)}hS.prototype=new gB;
hS.prototype.k=function(){this.ze.k();this.tA.k()};hS.prototype.as8=function(I){var k=[I.artboardBackgroundType.v-1];
if(I.Clr)k.push(I.Clr.v);this.j(k)};hS.prototype.aax=function(){var I=this.l();return{classID:"artboard",Clr:{t:"Objc",v:I[1]},artboardBackgroundType:{t:"long",v:I[0]+1}}};
hS.prototype.j=function(I){this.ze.j(I[0]);if(I[1])this.tA.j(I[1])};hS.prototype.l=function(){return[this.ze.l(),this.tA.l()]};
hS.prototype.lf=function(I){if(I.target==this.tA)this.ze.j(3);this.a(new d2(M.E.B,!1))};function eL(I){gB.call(this);
this.wK=I;this.asY=0;this.ake=!1;this.t2=I?new eL.qC:null;this.Z=$.I("div","flexrow storageset");this.Z.style.background="var(--bg-panel)";
this.yV=$.I("div");this.Z.appendChild(this.yV);this.Fy=$.I("div");this.Z.appendChild(this.Fy);this.rS=[];
var k=Storage.list.length;if(I)k=k+1+eL.Ku.length;var a=this.tX.bind(this);for(var Y=0;Y<k;Y++){var n=$.I("div");
this.rS.push(n);this.yV.appendChild(n);n.addEventListener("click",a,!1)}this.tX(null,0)}eL.prototype=new gB;
eL.nb=[];eL.QO=function(I){eL.nb.push(I);I.lX()};eL.ik=function(){var I=eL.nb;I.pop();I[I.length-1].lX()};
eL.prototype.lX=function(){this.tX(null,this.asY)};eL.prototype.wu=function(I,k){if(!I.i2&&!this.ake){var a=this.wK?2:1;
for(var Y=a;Y<this.rS.length;Y++)this.yV.removeChild(this.rS[Y]);this.ake=!0;if(this.wK)this.t2.wu(I,k)}if(this.Bh)this.Bh.wu(I,k)};
eL.prototype.k=function(){if(this.wK)this.t2.k();if(this.Bh)this.Bh.k()};eL.prototype.tX=function(I,k){var a=this.rS,n;
if(k==null)k=a.indexOf(I.currentTarget);this.asY=k;for(var Y=0;Y<a.length;Y++)$.St(a[Y],"active");$.fO(a[k],"active");
if(this.wK)k--;$.GD(this.Fy);var s=Storage.list.length;if(k==-1)n=this.t2;else if(k<s)n=Storage.zx(k);
else{var C=eL.Ku[k-s];n=new eL.sY(C[1]);bU.event("strg_"+C[0])}this.Bh=n;n.parent=this;this.Fy.appendChild(n.Z);
this.bb(this.Qq,this.L4);this.k()};eL.prototype.bb=function(I,k){this.Qq=I;this.L4=k;var a=I<850,n=a?50:210,s=Storage.list;
if(this.wK)s=[["Home",null,"strg/home"]].concat(s.concat(eL.Ku));for(var Y=0;Y<s.length;Y++){var C=this.rS[Y],T="padding: 8px "+(a?13:36)+"px; cursor:pointer;";
C.setAttribute("style",T);var S=s[Y][2],D=s[Y].length==6;S=D?S:PIMG[S];C.innerHTML="<img style=\"margin:0 10px -6px 0; width:22px;\" class=\"gsicon\" src=\""+S+"\" /> "+(a?"":s[Y][0])}this.Z.style.width=I+"px";
this.Z.style.height=k+"px";this.yV.style.width=n+"px";this.yV.style.paddingTop="32px";if(this.Bh)this.Bh.bb(I-n,k)};
eL.Ku=[["PeaGames","plugins/games.html","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEAAgMAAAAhHED1AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAxQTFRFAAAAAAAAAAAAAAAANek3lgAAAAR0Uk5TAP+TQ7iym4QAAAQ/SURBVHic7Vo7khMxEDVsERCwG+0ROIIDsjmCA2s8tTtVTA7BHEGXmCNQRZmAPQBVzCV8BAIyYorCWLblkfojd2syVi/a1aifpe7XrU9psSgoKCgoKCgoKCgoKHg+uNsOhkW9/XXN/idvfcKXmfbGfEjZv7tub8xH3v5WYm/ME2d/M8gI6pEhWMrs2UncSO2NoYcgHoAx7cwB0EMQhdCD8sKgIaix/RuNvTE9InirI2hmudABuvG1lgDOQTkDNAf1DIyZFQOHeA5LPUEs552eYBPav9Tbx4FUB9EhdII6iA6hE3Y5BIETMlTgMDkhQwUO1RwVOKwuBPd5BFM6DHkEl7KUJSMH78VMH05efJVL4L2YpUMH78VdLoHXYq69r0rZQTDGzguCD0N2EIzp5mSCQzsnExyajEyot5+mfzYZUXwK92K1vhw9xk5z6fQCdRpQy4Q+/klLyaBP7RfHWPs9IYM6tUw0IPAdIYM2Je4WaHdFJHOfimwPsqchdGRT2rIgf9dENUiWmBFUkA0ebp3KL1+H78MG0GeTIvAlaBoh9vixDxfH9ZlgeWkZkRCTBL6KTiO0cwkqpGQRwfS9Qn2TBC0i6JHDlSPo5hKsUC4pndgi1Sp1oCTASmxQ4iUJUC5oCVA2Hia1A13SBLAeqAmqo/1N2H0IPtff9/s/rsfdfr//QRGcNjWB/GOCbhGAXHAaIIODW0OCMSQg61oNgnBoCL5GZxDGERUYW0QADvV4zTvPIWSOCFYxAb3q2vimJCKAh1GS4CHcHxwQ9qoAwWAESBHsniEBjMKgJejSYfx298lghD8DhARWTXrnEiUTuJQAa5ZdUPkVEYDLoWXUc0NwQgJfsMggHB2E0yMmiOYAfq2iI1vHTdvt9rPrd3v4Y4h7jkcC5ISNtKieiw36sJGuC2tyXq5dSNCS2nAEwrXxLDIUhkZK4GWOCZYyAp9oA2hvpTuUiiFYaQl2iEC4S+MIOuk+kSPopTtVjqDSEgyg3Up361wYLdKWUkgjamJOLJyU8aCOBEtEwCRTTfh1pOqGL1Yw6Guic0WQsgWlIQg6wlXGX9gsQWtLOKyhr2Uskwp4VPVI7s86MgiuFe2l3v8l7Bl9VERkOFgqOpYSFwNycSXlzYFY3tHGVYvTapF9nUjsvbVAu38tTlWC3FTLYOkcl2Oky5QY+BSoBD7IKoFvA5TwlTY7DHbB1GopvH3u1fZ0ysvMhumUl+nF7kKQeTl+8WGmFsO9+X0OQbizzioJ4fkkS0pVQJAjpfh4kqGE+ICUoYQuIshQgo0I9EoA1x36ogIOmfo5gBmo5wBnoJ4DfoWhnMOICHRaQu8XFsolknxNM8jtsQuVQ2Ce8+yk9o+0vfQ1UeI9kTAQ/Ism2YOkB9b+MAkBA/ucSeiGmnXACeRdUTj+qw/TFvvfWxZf91fNCwoKCgoKCgoKCgoK/iP8A4Y8W8cr97IuAAAAAElFTkSuQmCC",!0,"Join the contenst!",9986144664]];
for(var Y=0;Y<eL.Ku.length;Y++)if(eL.Ku[Y][5]*1e3<Date.now()){eL.Ku.splice(Y,1);Y--}eL.qC=function(){this.Ew=null;
var I=this.Z=$.I("div");I.style.background="var(--bg-canvas)";var k=this.Q6=$.I("div");I.appendChild(k);
var a=$.I("style");I.appendChild(a);a.textContent=" .bhover       { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0   );} "+" .bhover:hover { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0.05);}";
for(var Y=0;Y<2;Y++){var n=$.I("div"),a="filter: drop-shadow(4px 6px 4px rgba(0,0,0,0.25)); ";k.appendChild(n);
if(Y==0)a+="padding: 12px 0px";if(Y==1)a+="position:absolute;  bottom:0;";n.setAttribute("style",a);
var s=$.I("img");n.appendChild(s);s.setAttribute("src",PIMG[Y==0?"l"+"o"+"g"+"o":"b"+"o"+"t"+"t"+"o"+"m"]);
if(Y==0)this.k6=s;else this.afQ=s;if(Y==0)this.abf=n;else this.akc=n}this.rS=[];a="display:inline-block;  font-size:1.25em; border:1px solid #aaa;  border-radius:6px;  margin:20px 0 0 20px;";
var C=this.Od.bind(this),T=$.I("div");k.appendChild(T);T.setAttribute("style","width:min(80%,556px);  margin:0px 0 0 10px;  text-align:center");
for(var Y=0;Y<4;Y++){var S=$.I("span","bhover");this.rS.push(S);S.setAttribute("style",a+"cursor:pointer; padding:12px;");
S.addEventListener("click",C,!1);T.appendChild(S)}$.FI(k);var n=$.I("div");n.setAttribute("style",a+"width:min(80%,556px);  padding:60px 0;  text-align:center; opacity:0.3;");
n.textContent="Drop any files here";k.appendChild(n);this.g8=$.I("canvas");this.g8.setAttribute("style","position:absolute;top:0;pointer-events:none; mix-blend-mode: screen;");
this.hp=this.g8.getContext("2d");this.afb=j.U(4);I.appendChild(this.g8);var D=new Date().getDate(),o=new Date().getMonth();
if(o==11&&D>20||o==0&&D<10){var v=Math.random()<.5,g={$:255,H:255,J:255};if(!v){g=j.ps(Math.random(),Math.random()*.7,1);
g.$*=255;g.H*=255;g.J*=255}this.ic=[Math.round(1048575*Math.random()),v?.05:.02,Math.round(4+Math.random()*8),1,v?3:15,g,0,!0,v,v?1:.2,3];
this.aan=v?.1:.2;this.Ol=this.O6.bind(this);window.requestAnimationFrame(this.Ol)}};eL.qC.prototype=new gB;
eL.qC.prototype.O6=function(){window.requestAnimationFrame(this.Ol);if(!$.TU(this.Z))return;var I=this.afb,k=this.g8,a=this.hp,n=k.width,s=k.height;
this.ic[6]=Date.now()*.001*this.aan;j.Ql.yC(I,n,s,this.ic,!0);a.putImageData(new ImageData(new Uint8ClampedArray(I.buffer),n,s),0,0)};
eL.qC.prototype.Od=function(I){var Y=this.rS.indexOf(I.currentTarget),k=new d2(M.E.b,!0);if(Y==0)k.data={q:M.p.Fu,aw:"newproject"};
if(Y==1)k.data={q:M.p.Av};if(Y==2)k.data={q:M.p.Fu,aw:"res0"};if(Y==3)k.data={q:M.p.gI};this.a(k)};eL.qC.prototype.k=function(){var I=this.rS,k=[[11,7],[1,6],[25,0],[0,17,6]],a=["\u2605","\uD83E\uDC7F","\u25A3"],a=["lrs/newlayer","strg/tdevice","pix_layer","lrs/clipping"];
for(var Y=0;Y<I.length;Y++)I[Y].innerHTML="<span style=\"vertical-align:middle\">"+$.z5(a[Y],null,"autoscale")+"</span>\u2000"+hJ.get(k[Y]);
var n="l"+"o"+"g"+"o",s=n+"_"+["pp","vp"][ht],C=new Date;if(C.getMonth()==3&&C.getDate()==1)s="lo"+"go_cuc"+"umber";
if(PIMG[n])s=n;this.k6.setAttribute("src",PIMG[s]);this.afQ.setAttribute("src",PIMG["b"+"o"+"t"+"t"+"o"+"m"])};
eL.qC.prototype.bb=function(I,k){var a=Math.min(k*1.5,Math.min(I,600));$.hI(this.g8,I,a*.26);var n=this.g8.width,s=this.g8.height;
this.afb=j.U(n*s*4);this.Z.style.width=I+"px";this.Z.style.height=k+"px";this.akc.style.width=I+"px";
this.Q6.style.marginLeft=Math.max(0,Math.round((I+200-600)/2)-200)+"px";this.k6.style.width=a+"px";this.afQ.style.width=a+"px"};
eL.qC.prototype.wu=function(I,k){var a=I;if(I==null)I=this.wY;this.wY=I;if(!I.i2&&this.rS[2].parent){this.Q6.removeChild(this.rS[2]);
this.Q6.removeChild(this.rS[3])}this.rS[3].style.display=I.Ya?"inline-block":"none";if(a)this.Ew=setTimeout(this.wu.bind(this),100)};
eL.sY=function(I){var k=this.Z=$.I("iframe");k.style.background="var(--bg-canvas)";k.setAttribute("src",I)};
eL.sY.prototype=new gB;eL.sY.prototype.bb=function(I,k){var a=this.Z;a.style.width=I+"px";a.style.height=k+"px"};
eL.sY.prototype.wu=function(){};function Storage(I){gB.call(this);var k=this.Z=$.I("div","storage");
$.bw(k);k.addEventListener("drop",this.aro.bind(this),!1);var a=this.amW=$.I("style");k.appendChild(a);
k.setAttribute("tabindex","0");k.style.outline="none";k.addEventListener("keydown",this.a6y.bind(this),!1);
this.cm=this.aBP.bind(this);this.Jd=0;this.xR=0;var n=$.I("div");k.appendChild(n);var s=this.a9r.bind(this);
this.sh=$.I("div","bar");n.appendChild(this.sh);this.j0=$.I("div","fls scrollable");n.appendChild(this.j0);
this.Tz=$.I("div");n.appendChild(this.Tz);this.Tz.setAttribute("style","position:absolute; bottom:0;  background-color:white; padding: 2px 8px 0px 8px;");
this.z9=$.I("div","bar");this.z9.textContent="Name: ";var C=this.aJ=$.I("input");C.setAttribute("type","text");
this.z9.appendChild(C);var T=this.zG=$.I("div","btn");T.textContent="Save";this.z9.appendChild(T);$.hf(T,s);
$.Ar(this.j0,this.cm);this.u2=0;this.pT=I;var S=this.at3.bind(this),D=this.arI=$.I("div");D.setAttribute("style","text-align:center; font-size:1.6em");
var o=$.I("img");D.appendChild(o);$.FI(D);o.setAttribute("src",PIMG[Storage.list[this.pT][2]]);o.setAttribute("style","opacity:0.5;  width:25%; cursor:pointer;");
$.hf(o,S);this.Vb=$.I("div","btn");D.appendChild(this.Vb);$.hf(this.Vb,S);this.RT=new io([{name:[6,20]},{name:[5,2],kA:[as.nU,as.xb],e:function(){return{e:Storage.d3!=null}}}]);
this.RT.parent=this;this.RT.O("select",this.lZ,this);this.j0.addEventListener("contextmenu",this.cm);
this.aqk=$.I("span");this.YJ=$.I("span");this.YJ.setAttribute("style","position:absolute; right:0; top:5px;");
this.EE=[];this.HH=[];for(var Y=0;Y<3;Y++){var v=$.I("div","btn");this.EE.push(v);this.aqk.appendChild(v);
$.hf(v,s);v.textContent=["\u2B9C","\u2B9E","\uD83E\uDC09"][Y]}for(var Y=0;Y<5;Y++){var v=$.I("div","btn");
this.HH.push(v);this.YJ.appendChild(v);$.hf(v,s)}window.addEventListener("message",this.ail.bind(this),!1);
this.ao2=!1;this.Hw=0;setInterval(this.ane.bind(this),300);this.tq();var g=this.a2g=document.createElement("input");
g.setAttribute("type","file");g.addEventListener("change",this.aro.bind(this),!1);document.body.appendChild(g);
g.setAttribute("style","display:none");g.setAttribute("multiple","")}Storage.prototype=new gB;Storage.G5=!1;
Storage.prototype.aro=function(I){I.stopPropagation();I.preventDefault();var k=I.dataTransfer?I.dataTransfer.files:I.target.files;
this.af8=k.length;Storage.d3={};for(var Y=0;Y<k.length;Y++){var a=k[Y],n=new FileReader;n.GX=a;n.onload=this.asj.bind(this);
n.readAsArrayBuffer(a)}};Storage.prototype.asj=function(I){var k=Storage.d3;k[I.target.GX.name]=I.target.result;
this.af8--;if(this.af8==0)this.K8()};Storage.prototype.wu=function(I,k){var a=Storage.list[this.pT][3],n=bU.U8();
if(a){if(this.Hw==1&&$.TU(this.Z)&&n!=null){this.tq()}if(this.Hw==2&&n==null){this.Fn("forget","")}}};
Storage.prototype.ane=function(){var I=$.TU(this.Z),k=this.ao2;if(I&&!k){history.pushState(null,null,location.href);
window.onpopstate=function(){history.go(1)}}if(!I&&k){window.onpopstate=function(){};history.go(-1)}this.ao2=I};
Storage.prototype.tq=function(){if(this.MJ)document.body.removeChild(this.MJ);this.PM=[[]];this.Dn=0;
this.a0Z={"/":[]};this.apz="";this.us=null;this.Gf=[];this.w$=[];this.a44=[];this.at9=null;var I=Storage.list[this.pT][1],k=bU.Wn("code/storages/"+Storage.list[this.pT][1]);
if(ht==1&&this.pT==0)k=I;var a=this.MJ=$.I("iframe");a.setAttribute("src",k);a.setAttribute("style","display:none");
document.body.appendChild(a)};Storage.prototype.b8=function(){return this.a0Z[this.fT()]};Storage.prototype.yr=function(I){this.a0Z[this.fT()]=I};
Storage.zx=function(Y){var I=Storage.Zy[Y];if(I==null)I=Storage.Zy[Y]=new Storage(Y);return I};Storage.Zy=[];
Storage.$C=0;Storage.ach="";Storage.oW=function(I,k){Storage.$C=I;Storage.ach=k;var a=Storage.Zy;for(var Y=0;
Y<a.length;Y++)if(a[Y])a[Y].lX()};Storage.ax8=[500*(1<<20),5e3*(1<<20)];Storage.Ne=0;Storage.rz=2;Storage.kV=0;
Storage.list=[["This Device","deviceStorage.html","strg/tdevice",!1,"Give Photopea a direct access to a specific folder in your device."],["PeaDrive","peadriveStorage.html","strg/peadrive",!0,"A cloud storage system from Photopea."],["Dropbox","dropboxStorage.html","strg/dropbox",!1,"Give Photopea a direct access to your DropBox."],["OneDrive","onedriveStorage.html","strg/onedrive",!1,"Give Photopea a direct access to your OneDrive."],["Google Drive","googledriveStorage.html?mode=0","strg/gdrive",!1,"Give Photopea a direct access to your Google Drive."],["Shared Drives","googledriveStorage.html?mode=1","strg/gdrive",!1,"Give Photopea a direct access to Shared Drives in your Google Drive."],["Shared with me","googledriveStorage.html?mode=4","strg/gdrive",!1,"Give Photopea a direct access to \"Shared with me\" in your Google Drive."],["Private Folder","googledriveStorage.html?mode=3","strg/gdrive",!1,"Let's make a folder \"Photopea\" in your Google Drive (we will have access only to that folder)."]];
Storage.a6L=function(I){for(var Y=0;Y<Storage.Zy.length;Y++){if(Storage.Zy[Y]&&Storage.Zy[Y].MJ.contentWindow==I)return!0}return!1};
Storage.prototype.a6y=function(I){if(I.target.tagName=="INPUT")return;var k=as;if(k.rM(I.code,k.Zf)&&this.fT().length!=0)this.amm();
else if(I.ctrlKey){if(k.rM(I.code,k.p)){var a=[];this.yr(a);for(var Y=0;Y<this.us.length;Y++)a.push(Y);
this.sb()}if(k.rM(I.code,k.E5))this.bP(2);if(k.rM(I.code,k.xb))this.K8()}else if(k.rM(I.code,k.da)){var n=this.b8();
if(n.length!=0)this.afS(n[0])}else if(k.rM(I.code,k.QE)){this.Dn=Math.max(this.Dn-1,0);this.G3()}else{var s=0;
for(var Y=65;Y<=90;Y++)if(I.code=="Key"+String.fromCharCode(Y))s=Y;if(s!=0){var C=String.fromCharCode(s).toLowerCase(),T=[],S=this.us,D;
for(var Y=0;Y<S.length;Y++)if(S[Y][0][0].toLowerCase()==C)T.push(Y);if(T.length==0)return;var n=this.b8();
if(n.length==0)D=T[0];else{var o=T.indexOf(n[0]);if(o==-1){D=T[0];for(var Y=0;Y<T.length;Y++)if(T[Y]>n[0]){D=T[Y];
break}}else D=T[(o+1)%T.length]}this.yr([D]);this.sb(!0)}}};Storage.prototype.bb=function(I,k){this.Qq=I;
this.L4=k;this.Z.style.width=I+"px";this.Z.style.height=k+"px";var a=I-30,n=Math.floor(a/230),a=Math.floor(a/n)-70;
this.amW.textContent=".storage .tile .name {  width:"+a+"px;  }";this.aJ.style.width=I-140+"px";this.j0.style.width=this.sh.style.width=I-20+"px";
this.j0.style.height=k-70-(Storage.$C==0?0:45)+"px"};Storage.prototype.at3=function(){this.G3()};Storage.prototype.G3=function(){var I=this.pT,k="____strg"+I;
if(window[k]==null){bU.event("strg_"+Storage.list[I][0]);window[k]=!0}this.xR=1;this.Fn("show",this.fT())};
Storage.prototype.fT=function(I){var k=this.PM[this.Dn],a="/"+k.join("/");if(I&&k.length!=0)a+="/";return a};
Storage.prototype.a9r=function(I){var k=I.currentTarget,a=this.Dn,n=this.EE.indexOf(k),s=this.HH.indexOf(k);
if(n>=0&&!this.aiX(n))return;if(n==0){this.Dn=Math.max(a-1,0);this.G3()}if(n==1){this.Dn=Math.min(a+1,this.PM.length-1);
this.G3()}if(n==2){var C=this.PM[a+1]=this.PM[a].slice(0);C.pop();this.Dn++;this.PM=this.PM.slice(0,this.Dn+1);
this.G3()}if(s==0){var T=document.createEvent("MouseEvents");T.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
this.a2g.dispatchEvent(T)}if(s==1){Storage.Ne=(Storage.Ne+1)%2;this.lX()}if(s==2){Storage.rz=(Storage.rz+1)%3;
this.lX()}if(s==3){Storage.kV=(Storage.kV+1)%3;this.lX()}if(s==4){this.Fn("forget","")}if(k==this.zG){var S=this.aJ.value.trim(),D=this.us,o=-1,v=["psd","ai"][ht];
if(!S.toLowerCase().endsWith(v)){alert("File Name has to end with \"."+v+"\".");return}for(var Y=0;Y<D.length;
Y++)if(D[Y][0]==S)o=Y;if(o!=-1){this.bo("Do you really want to replace \""+S+"\"?",this.akI.bind(this))}else this.akI()}};
Storage.prototype.akI=function(){var I=this.aJ.value.trim(),k=[this.pT,this.fT(!0)+I];this.Zz({q:M.p.ao6,KS:k});
this.a(new d2("canclose",!0))};Storage.prototype.K8=function(){if(Storage.d3==null)return;this.Zz({q:M.p.bm,cJ:hJ.get("Uploading ...")});
this.Jd=4;ae.zx(2,this.MJ,[this.fT(),Storage.d3,this.us],null,this.aak.bind(this))};Storage.prototype.aak=function(I){this.Jd=0;
this.Zz({q:M.p.ki,cJ:hJ.get("Uploading ...")});this.G3()};Storage.prototype.lZ=function(I){var k=I.target.Ke();
if(I.target==this.RT){if(k[0]==0){var a=[hJ.get([6,20]),-1,0];this.us.push(a);this.lX();var Y=this.us.indexOf(a),n=this.Gf[Y].querySelector(".name");
console.log(n);var s=new aX.og(n,function(g){this.Zz({q:M.p.bm,cJ:hJ.get([1,2])+" ..."});var d=this.fT(!0)+g+"/";
console.log(d);this.Fn("save",d)}.bind(this),!0)}else this.K8()}else{if(k[0]==0){this.bP(2)}else if(k[0]==1){var Y=this.b8()[0],C=this.us[Y],n=this.Gf[Y].querySelector(".name");
console.log(n);n.innerHTML=C[0];var s=new aX.og(n,function(g){g=g.trim();var d=this.us;for(var Y=0;Y<d.length;
Y++)if(d[Y][0]==g){alert("Item with such name already exists.");this.lX();return}var R=this.fT(!0)+C[0]+":"+g;
console.log(R);this.Fn("rename",R)}.bind(this))}else if(k[0]==2){this.bP(3)}else if(k[0]==3)this.amm();
else if(k[0]==4){this.bP(1)}else{var T=this.us[this.b8()[0]],S=Storage.BX(T),D=S[k[1]],o=D[0],v=this.Pb().pop()[1];
if(Storage.avZ(T,o)!=-1){this.Fn("share",v+":"+o+":-1");alert("Unshared.")}else{this.Fn("share",v+":"+o+":"+k[2]);
alert("Shared.")}}}};Storage.avZ=function(I,k){var a=I[4];if(a==null)return-1;if(a.indexOf(k+":0")!=-1)return 0;
if(a.indexOf(k+":1")!=-1)return 1;return-1};Storage.prototype.amm=function(){var I=this.b8();this.bo("Do you really want to delete "+(I.length==1?"\""+this.us[I[0]][0]+"\"":"these files")+"?",this.Uo.bind(this))};
Storage.prototype.bo=function(I,k){var a={q:M.p.Fu,aw:"confirm",P:I,h1:k};this.Zz(a)};Storage.prototype.bP=function(I){this.Jd=I;
if(1<I)this.Zz({q:M.p.bm,cJ:hJ.get("Downloading ...")});else this.Zz({q:M.p.bm,cJ:hJ.get("Getting info ...")});
ae.zx(0,this.MJ,this.fT(),this.Pb(!0),this.af5.bind(this))};Storage.prototype.af5=function(I){if(this.Jd==1){var k=0,a=0;
for(var n in I){var s=I[n];k+=s[1];a++}this.bo(a+" files, "+jm.z3(k)+" in total.",function(){});this.Zz({q:M.p.ki,cJ:hJ.get("Getting info ...")});
this.Jd=0}if(1<this.Jd)ae.zx(1,this.MJ,I,null,this.avW.bind(this))};Storage.prototype.avW=function(I){if(1<this.Jd){if(1<this.Jd)this.Zz({q:M.p.ki,cJ:hJ.get("Downloading ...")});
var k={},a=this.fT(!0);for(var n in I)k[n.slice(a.length)]=I[n];if(this.Jd==2){Storage.d3=k;alert("Copied to a clipboard")}if(this.Jd==3){var s=Object.keys(I);
if(s.length==1)ji.save(I[s[0]].buffer,s[0].split("/").pop());else ji.save(UZIP.encode(k),a=="/"?"files.zip":this.fT().split("/").pop()+".zip")}}this.Jd=0};
Storage.d3=null;Storage.prototype.Uo=function(){this.Zz({q:M.p.bm,cJ:hJ.get([5,4])+" ..."});this.w$=this.Pb();
this.j4()};Storage.prototype.j4=function(){if(this.w$.length==0){this.Zz({q:M.p.ki,cJ:hJ.get([5,4])+" ..."});
this.yr([]);this.G3()}else this.Fn("delete",this.w$.pop()[1])};Storage.prototype.Pb=function(I){var k=[],a=this.fT(!0),n=this.b8();
for(var Y=0;Y<n.length;Y++){var s=this.us[n[Y]];if(I)k.push(s[0]);else k.push([this.pT,a+s[0]])}return k};
Storage.prototype.Fn=function(I,k){$.fO(this.Z,"disabled");this.apz=I;if(Storage.G5)console.log(Math.floor(Date.now()/1e3),"{\"code\": \""+I+"\", \"prm\": "+JSON.stringify(k)+"  }");
this.MJ.contentWindow.postMessage("{\"code\": \""+I+"\", \"prm\": "+JSON.stringify(k)+"  }","*")};Storage.prototype.ail=function(I){if(I.source!=this.MJ.contentWindow||this.Jd!=0)return;
$.St(this.Z,"disabled");if(typeof I.data=="string"){if(Storage.G5)console.log("==",Math.floor(Date.now()/1e3),I.data);
var k=JSON.parse(I.data),a=k.code,n=k.prm,s=this.apz,C=Storage.list[this.pT][3];if(a=="ready"){if(C&&!n){var T=bU.U8();
console.log(T);var S=bU.So(),D=S.acc;if(T==null){this.Hw=1;alert("Log in to use this storage (press Account at the top).");
this._h();return}var o=[],v=T.wantToJoin;for(var g in v)o.push(parseInt(g.slice(1)));var d=[],R=T.inTeams;
for(var Y=0;Y<R.length;Y++)d.push(R[Y][2]);var c={uid:T.id,limit:Storage.ax8[bU.Oa()?1:0],inTeams:d,myTeams:o};
c.secret=D&&D.pds?D.pds:"";this.Fn("login",c);return}if(C)this.Hw=2;if(C&&k.secret){var S=bU.So(),D=S.acc;
if(D==null)D=S.acc={};D.pds=k.secret;bU.rO(S)}if(n)this.G3();else this._h()}else if(a!="0"){if(s=="save")this.Zz({q:M.p.ki,cJ:hJ.get([1,2])+" ..."});
if(s=="delete")this.j4();alert(n);this.lX()}else if(s=="show"){this.xR=0;this.us=n;this.lX()}else if(s=="save"){this.xR=0;
this.Zz({q:M.p.ki,cJ:hJ.get([1,2])+" ..."});this.G3()}else if(s=="delete"){this.j4()}else if(s=="forget"){if(C)this._h();
else this.tq()}else if(s=="rename"||s=="share"){this.G3()}else throw a}else{if(Storage.G5)console.log(Math.floor(Date.now()/1e3,"==","ArrayBuffer[]"));
this.Zz({q:M.p.aDL,KS:this.Pb()[0],b6:I.data});this.Zz({q:M.p.ki,cJ:"Opening ..."})}};Storage.prototype._h=function(){$.GD(this.sh);
$.GD(this.j0);$.GD(this.Tz);this.j0.appendChild(this.arI)};Storage.prototype.aiX=function(Y){if(Y==0)return this.Dn>0;
if(Y==1)return this.Dn<this.PM.length-1;if(Y==2)return this.fT()!="/"};Storage.prototype.lX=function(){var I=Storage.list[this.pT][3],k=this.us,a=Storage.rz,n=Storage.Ne,s=Storage.kV;
if(k==null)return;k.sort(function(y,W){var m=y[1]==-1?1:5,f=W[1]==-1?1:5,h=0;if(Math.min(m,f)==1&&m!=f)return m-f;
else if(m==1||a==0)h=y[0].toLowerCase()<W[0].toLowerCase()?-1:1;else if(a==1)h=y[1]-W[1];else if(a==2)h=y[2]-W[2];
if(n==1)h=-h;if(y[0]=="Shared")h=-1;if(W[0]=="Shared")h=1;return h});var C=this.j0,T=this.sh,S=this.PM[this.Dn];
$.GD(C);$.GD(T);this.Gf=[];for(var Y=0;Y<3;Y++)if(this.aiX(Y))$.St(this.EE[Y],"disabled");else $.fO(this.EE[Y],"disabled");
T.appendChild(this.aqk);T.appendChild(this.YJ);var D=$.I("span");D.textContent="/";T.appendChild(D);
for(var Y=0;Y<S.length;Y++){var D=$.I("span");D.textContent=S[Y];T.appendChild(D);var D=$.I("span");
D.textContent="/";T.appendChild(D)}var o=["tile","icon","litm"][s];for(var Y=0;Y<k.length;Y++){var v=k[Y],g=v[1]==-1,d=g?"":jm.z3(v[1]),R=$.I("div","cont "+o),N=!1;
C.appendChild(R);this.Gf.push(R);R.setAttribute("title",v[0]+(g?"":"\nSize: "+d+"\nDate Modified: "+new Date(v[2]*1e3).toLocaleString().replaceAll(". ",".")));
var c=$.I("img");c.setAttribute("src",g?Storage.a0Q:v[3]?v[3]:Storage.GX);if(!g&&v[3])c.setAttribute("style","box-shadow: 1px 1px 2.5px rgba(0,0,0, .4);");
var e=$.I("span","name"),O=v[0];if(o=="icon"&&O.length>30)O=O.slice(0,24)+".."+O.slice(O.length-5);if(I&&S.length==1&&S[0]=="Shared"){var U=Storage.BX(),K=parseInt(O.slice(5));
for(var _=0;_<U.length;_++)if(U[_][0]==K)O=U[_][1]}e.textContent=O;R.appendChild(c);R.appendChild(e);
if(o!="icon"&&!g){if(o=="tile")$.FI(e);var Z=$.I("span");Z.textContent=d;Z.style.opacity="0.8";(o=="tile"?e:R).appendChild(Z)}var H=v[0].split("."),G=(H.length==1?"":H.pop()).toUpperCase();
if(I&&v[0]=="Shared"&&S.length==0){N=!0;G="\u21E7"}if(o!="litm"&&(!g&&v[3]==null||N)){var z=$.I("span","ext");
z.textContent=G;var L=Storage.$h[G];z.style.backgroundColor=L?L:Storage.a5X(G);R.appendChild(z)}$.Ar(R,this.cm);
R.addEventListener("contextmenu",this.cm)}this.sb();var p=this.z9.parentNode!=null,V=Storage.$C,r=this.Z;
if(p&&V==0)r.removeChild(this.z9);if(!p&&V==1)r.appendChild(this.z9);this.bb(this.Qq,this.L4);this.k()};
Storage.prototype.sb=function(I){var k=this.Gf,a=this.us,n=this.b8(),s=!1,C=0;for(var Y=0;Y<k.length;
Y++){var T=a[Y],S=T[1]==-1,D=k[Y];if(Storage.$C==1&&!S&&!T[0].toLowerCase().endsWith(".psd"))D.style.display="none";
else D.style.display="auto";if(n.indexOf(Y)==-1)$.St(D,"active");else{if(S)s=!0;else C+=T[1];$.fO(D,"active");
if(I)D.scrollIntoView({block:"center",behavior:"smooth"})}}var o=s?"":jm.z3(C);this.Tz.textContent=n.length==0?"":n.length+" item"+(n.length==1?"":"s")+" selected\u2001"+o;
this.aJ.value=n.length==1&&!s?a[n[0]][0]:Storage.ach};Storage.prototype.afS=function(Y){var I=this.us[Y];
if(I[1]==-1){var k=this.PM[this.Dn].slice(0);k.push(I[0]);this.Dn++;this.PM[this.Dn]=k;this.PM=this.PM.slice(0,this.Dn+1);
this.yr([]);this.G3()}else if(Storage.$C==0){this.Zz({q:M.p.bm,cJ:"Opening ..."});this.a(new d2("canclose",!0));
var a=this.fT(!0)+I[0];this.Fn("load",a)}};Storage.prototype.k=function(){var I=Storage.rz,k=Storage.Ne,a=Storage.kV;
this.HH[0].textContent="Upload";this.HH[1].textContent=["\uD83E\uDC0B","\uD83E\uDC09"][k];this.HH[2].textContent=hJ.get([[12,48],[12,14,0],"Date"][I]);
this.HH[3].textContent=hJ.get(["Tiles","Icons",[25,3,1]][a]);this.HH[4].textContent="\u2716";this.Vb.innerHTML=hJ.get([[23,6],Storage.list[this.pT][0]])+"<br/><small><small>"+Storage.list[this.pT][4]+"</small></small>";
this.wu()};Storage.prototype.aBP=function(I){this.Zz({q:M.p.wL});if($.TU(this.arI))return;if(I.button==3||I.button==4){if(Date.now()-this.a1x>50){var k=this.Dn;
if(I.button==3)this.Dn=Math.max(k-1,0);else this.Dn=Math.min(k+1,this.PM.length-1);this.G3()}this.a1x=Date.now();
return}I.stopPropagation();var Y=this.Gf.indexOf(I.currentTarget);if(I.type=="contextmenu"){if(this.us==null)return;
I.preventDefault();var a=this.RT;if(Y!=-1){var n=[{name:[5,1],kA:[as.nU,as.E5]},{name:[6,37]},{name:"Download",g6:!0},{name:[5,4],kA:[as.Zf]},{name:[9,2]}];
if(Storage.list[this.pT][3]){var s=this.us[Y],C=Storage.BX(s);if(C.length!=0){var T=[];for(var S=0;S<C.length;
S++){var D=[],o=C[S],v=Storage.avZ(s,o[0]);if(v!=-1)D.push({name:"Unshare"});else D.push({name:"Allow Read"},{name:"Allow Read & Write"});
T.push({name:o[1]+[""," (R)"," (R,W)"][v+1],sub:D})}n.push({name:"Share With",sub:T})}}a=new io(n);a.parent=this;
a.O("select",this.lZ,this)}a.parent=this;a.k();a.update();this.Zz({q:M.p.ut,zM:a,x:I.clientX+4,y:I.clientY});
return}var g=this.b8(),d=g.indexOf(Y);if(I.button!=0&&d!=-1)return;if(I.target==this.j0)this.yr([]);
else{if(I.ctrlKey){if(d==-1)g.push(Y);else g.splice(d,1)}else if(I.shiftKey&&g.length!=0){var S=g[0];
if(S<Y){var R=Y;Y=S;S=R}g=[];this.yr(g);for(var c=Y;c<=S;c++)g.push(c)}else{this.yr([Y]);if(Date.now()-this.u2<300&&g.length!=0&&g[0]==Y){this.afS(Y);
this.u2=0}}}this.u2=Date.now();this.sb()};Storage.prototype.Zz=function(I){var k=new d2(M.E.b,!0);k.data=I;
this.a(k)};Storage.BX=function(I){var k=[],a=[],n=bU.So(),s=n.acc.tstart;if(s)for(var Y=0;Y<s.length;
Y++){k.push([s[Y][2],s[Y][0]]);a.push(s[Y][2])}var C=bU.U8();s=C.inTeams;if(s)for(var Y=0;Y<s.length;
Y++){k.push([s[Y][2],s[Y][0]]);a.push(s[Y][2])}if(I&&I[4]){for(var Y=0;Y<I[4].length;Y++){var T=parseInt(I[4][Y].split(":")[0]);
if(a.indexOf(T)==-1)k.push([T,"Team "+T])}}return k};Storage.prototype.aes=function(I,k){if(this.xR!=0)return 1;
this.xR=2;this.Zz({q:M.p.bm,cJ:hJ.get([1,2])+" ..."});this.Fn("save",I);if(Storage.G5)console.log(Math.floor(Date.now()/1e3),"ArrayBuffer[]");
this.MJ.contentWindow.postMessage(k,"*")};Storage.$h={PDF:"#ff2222",PSD:"#005599",PSB:"#005599"};Storage.a5X=function(I){I=I.toLowerCase();
var k=0;for(var Y=0;Y<I.length;Y++)k+=I.charCodeAt(Y)*613<<8*Y;return"#"+j.pB(k&16777215)};Storage.a0Q="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0ODggNDEwIiB3aWR0aD0iNDg4IiBoZWlnaHQ9IjQxMCI+PHRpdGxlPmZvbGRlci1zdmc8L3RpdGxlPjxzdHlsZT50c3BhbiB7IHdoaXRlLXNwYWNlOnByZSB9LnNocDAgeyBmaWxsOiAjZGJiMDY1IH0gLnNocDEgeyBmaWxsOiAjOTY3YTQ0IH0gLnNocDIgeyBmaWxsOiAjZjVjZTg1IH0gPC9zdHlsZT48cGF0aCBjbGFzcz0ic2hwMCIgZD0iTTcuMiA0MDMuNEw3LjIgNi42TDEzOC45NSA2LjZMMTc3LjM1IDQ1TDQ4MC44IDQ1TDQ4MC44IDQwMy40TDcuMiA0MDMuNFoiIC8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGFzcz0ic2hwMSIgZD0iTTE0MS42IDAuMkwxODAgMzguNkw0ODcuMiAzOC42TDQ4Ny4yIDQwOS44TDAuOCA0MDkuOEwwLjggMC4yTDE0MS42IDAuMlpNMTMuNiAxM0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxNzQuNyA1MS40TDEzNi4zIDEzTDEzLjYgMTNaIiAvPjxnID48cGF0aCBjbGFzcz0ic2hwMiIgZD0iTTcuMiA0MDMuNEw3LjIgNzAuNkwxNDMuNTMgNzAuNkwxODEuOTMgNDVMNDgwLjggNDVMNDgwLjggNDAzLjRMNy4yIDQwMy40WiIgLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsYXNzPSJzaHAxIiBkPSJNNDg3LjIgMzguNkw0ODcuMiA0MDkuOEwwLjggNDA5LjhMMC44IDY0LjJMMTQxLjYgNjQuMkwxODAgMzguNkw0ODcuMiAzOC42Wk0xODMuODggNTEuNEwxNDUuNDggNzdMMTMuNiA3N0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxODMuODggNTEuNFoiIC8+PC9nPjwvc3ZnPg==";
Storage.GX="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNDggNDI0IiB3aWR0aD0iMzQ4IiBoZWlnaHQ9IjQyNCI+PHRpdGxlPmZpbGUtc3ZnPC90aXRsZT48c3R5bGU+dHNwYW4geyB3aGl0ZS1zcGFjZTpwcmUgfS5zaHAwIHsgZmlsbDogI2ZmZmZmZiB9IC5zaHAxIHsgZmlsbDogI2M3ZDdlMiB9IC5zaHAyIHsgZmlsbDogIzQ1NGI1NCB9IDwvc3R5bGU+PHBhdGggY2xhc3M9InNocDAiIGQ9Ik0yOTYgNDEyTDUyIDQxMkMzMCA0MTIgMTIgMzk0IDEyIDM3MkwxMiA1MkMxMiAzMCAzMCAxMiA1MiAxMkwyOTYgMTJDMzE4IDEyIDMzNiAzMCAzMzYgNTJMMzM2IDM3MkMzMzYgMzk0IDMxOCA0MTIgMjk2IDQxMloiIC8+PHBhdGggY2xhc3M9InNocDEiIGQ9Ik01MiA1MkwyOTYgNTJMMjk2IDExMkw1MiAxMTJMNTIgNTJaTTI3MiAxOTJMNjggMTkyQzYxLjIgMTkyIDU2IDE4Ni44IDU2IDE4MEM1NiAxNzMuMiA2MS4yIDE2OCA2OCAxNjhMMjcyIDE2OEMyNzguOCAxNjggMjg0IDE3My4yIDI4NCAxODBDMjg0IDE4Ni44IDI3OC44IDE5MiAyNzIgMTkyWk0yNzIgMjUyTDY4IDI1MkM2MS4yIDI1MiA1NiAyNDYuOCA1NiAyNDBDNTYgMjMzLjIgNjEuMiAyMjggNjggMjI4TDI3MiAyMjhDMjc4LjggMjI4IDI4NCAyMzMuMiAyODQgMjQwQzI4NCAyNDYuOCAyNzguOCAyNTIgMjcyIDI1MlpNMTc0IDMxMkw2OCAzMTJDNjEuMiAzMTIgNTYgMzA2LjggNTYgMzAwQzU2IDI5My4yIDYxLjIgMjg4IDY4IDI4OEwxNzQgMjg4QzE4MC44IDI4OCAxODYgMjkzLjIgMTg2IDMwMEMxODYgMzA2LjggMTgwLjggMzEyIDE3NCAzMTJaIiAvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xhc3M9InNocDIiIGQ9Ik0yOTYgNDI0TDUyIDQyNEMyMy4yIDQyNCAwIDQwMC44IDAgMzcyTDAgNTJDMCAyMy4yIDIzLjIgMCA1MiAwTDI5NiAwQzMyNC44IDAgMzQ4IDIzLjIgMzQ4IDUyTDM0OCAzNzJDMzQ4IDQwMC44IDMyNC44IDQyNCAyOTYgNDI0Wk01MiAyNEMzNi40IDI0IDI0IDM2LjQgMjQgNTJMMjQgMzcyQzI0IDM4Ny42IDM2LjQgNDAwIDUyIDQwMEwyOTYgNDAwQzMxMS42IDQwMCAzMjQgMzg3LjYgMzI0IDM3MkwzMjQgNTJDMzI0IDM2LjQgMzExLjYgMjQgMjk2IDI0TDUyIDI0WiIgLz48L3N2Zz4=";
var ae=function(){var I,k,a,n,s,C,T,S;function D(R,c,e,O,U){k=c;n=O;T=U;I=R;C={};if(I==0){a=[e]}if(I==1){a=[];
for(var K in e)a.push(K)}if(I==2){var _=e[0],Z=e[1],H=e[2],G={};for(var Y=0;Y<H.length;Y++)G[H[Y][0]]=!0;
var N={};for(var K in Z){var z=K.split("/"),L=z[0],p=L.split("."),V="";if(p.length!=1){V="."+p.pop();
L=p.join(".")}while(G[L+V])L+=" - Copy";z[0]=L+V;N[z.join("/")]=Z[K]}var r={};a=[];for(var K in N){var z=K.split("/");
for(var Y=0;Y<z.length-1;Y++){var y=_+z.slice(0,Y+1).join("/")+"/";if(r[y]==null){r[y]=!0;a.push([y])}}var W=_.endsWith("/")||K.startsWith("/")?"":"/";
a.push([_+W+K,N[K]])}}window.addEventListener("message",v,!1);S=Date.now();o()}function o(){if(a.length==0){d();
return}s=a.shift();if(I==0)g("show",s);if(I==1)g("load",s);if(I==2){g("save",s[0]);if(s.length==2)k.contentWindow.postMessage(s[1],"*")}}function v(R){if(R.source!=k.contentWindow)return;
if(I==0){var c=JSON.parse(R.data),e=c.code,O=c.prm;for(var Y=0;Y<O.length;Y++){var U=O[Y];if(n&&n.indexOf(U[0])==-1)continue;
var K=s+(s=="/"?"":"/"),_=K+U[0];if(U[1]==-1)a.push(_);else C[_]=U}n=null}else if(I==1){C[s]=new Uint8Array(R.data)}o()}function g(R,c){var e=R=="show"?", \"nothumbs\": true":"",O="{\"code\": \""+R+"\", \"prm\": "+JSON.stringify(c)+e+"  }";
k.contentWindow.postMessage(O,"*")}function d(){console.log(Date.now()-S);window.removeEventListener("message",v,!1);
T(C)}return{zx:D}}();function k9(I){gB.call(this);var k=this.Z=$.I("div","form scrollable padded label12");
this.YE=I;this.M4=null;var a=[],n=k9.jv[I];this.uP=[];for(var s in n){var C=parseInt(s.slice(1)),T=C%10==0?"":"\u2800\u2800- ";
a.push(T+n[s]);this.uP.push(C)}this.ek=[new ja("Name",null,30),new ja("Description",null,30,4),I==0?new ja("File"," www.Photopea.com#i...",17):new gL("File",!1,!1),new ja("Thumbnail URL","* Use Imgur.com etc.",17),new fB("Category",a),new dI("Make Public"),new iP("<< Back",null,null,!0),new iP("Save",null,null,!0)];
if(I==0)this.ek.push(new gv("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new gv("Get a Thumbnail URL: File - Publish Online - JPG. At Imgur.com, right-click your image and choose \"Copy Image Address\"."));
if(I==1)this.ek.push(new gv("\"File\" - select a .JSON file of a plugin from your computer. The content must be: {\"name\": ..., \"url\":..., \"icon\":... }"));
if(I!=0)this.ek.push(new gv("Do not load any file to preserve the old version."));for(var Y=0;Y<this.ek.length;
Y++){var S=this.ek[Y];k.appendChild(S.Z);S.parent=this;if(Y!=4&&Y!=6)$.FI(k);if(S instanceof iP)S.O("click",this.a0f,this);
if(I!=0&&Y==2)S.O(M.E.B,this.ai2,this)}}k9.prototype=new gB;k9.prototype.ai2=function(I){var k=this.ek[2],a=k.l(),n=Object.keys(a),s=a[n[0]].buffer,C=kk.V1(s),T=" json atn abr grd asl pat csh icc".split(" ")[this.YE];
if(C!=T){alert("This is a wrong file"+(C?" ("+C.toUpperCase()+")":"")+". You need to upload the "+T.toUpperCase()+" file.");
k.j({})}};k9.prototype.a0f=function(I){if(I.target==this.ek[6]){this.a(new d2("back"));return}var k=this.ek[3].l().trim(),a=k.startsWith("http")&&(k.endsWith(".jpeg")||k.endsWith(".jpg")||k.endsWith(".png")||k.endsWith(".gif"));
if(!a){alert("Thumbnail URL is incorrect.");return}var n=new XMLHttpRequest,s="mirror.php?url="+encodeURIComponent(k);
n.open("GET",s);n.responseType="arraybuffer";n.onload=this.asV.bind(this);n.send()};k9.prototype.asV=function(I){var k=I.target.response,a=k.byteLength;
if(a>2e5&&kk.V1(k)!="gif"){alert("Thumbnail is too large ("+jm.z3(a)+"). Make it under 200 kB.");return}var n=this.ek[2].l(),s=Object.keys(n);
if(this.YE!=0&&s.length==0&&(this.M4==null||this.M4.file==null||this.M4.file=="")){alert("You need to select a file.");
return}if(this.YE!=0&&s.length!=0){console.log(n);ji.$e.axJ(n[s[0]].buffer,s[0],this.aqX.bind(this),"pp-resources");
return}this.aqX()};k9.prototype.aqX=function(I){var k=this.YE,a="name desc file thmb catg publ".split(" "),n=this.M4;
for(var Y=0;Y<6;Y++){if(k!=0&&Y==2)continue;var s=this.ek[Y].l();if(Y<=3){s=s.trim();if(s.length==0){alert("One of values is empty.");
return}}if(Y==2){if(s.endsWith(".psd"))s=s.slice(0,s.length-4);var C=s.split("#i");if(C.length!=2||C[1].length!=8){alert("File ID is incorrect.");
return}s=C.pop()}if(Y==4)s=this.uP[s];n[a[Y]]=s}if(k!=0){if(I)n.file=I;else if(n.file==null){alert("Select a file from your computer.");
return}}if(n.utme.length==0)n.utme=""+Math.round(Date.now()/1e3);n.type=k;this.a(new d2("save"))};k9.prototype.k=function(){};
k9.prototype.j=function(I){var k=this.M4=JSON.parse(JSON.stringify(I)),a=this.YE,n="name desc file thmb catg publ".split(" ");
for(var Y=0;Y<6;Y++){if(a!=0&&Y==2)continue;var s=k[n[Y]];if(s!=""&&Y==2)s="https://photopea.com#i"+s;
if(Y==4)s=this.uP.indexOf(s);if(Y==5&&s==null)s=!0;this.ek[Y].j(s)}};k9.prototype.l=function(){return JSON.parse(JSON.stringify(this.M4))};
k9.jv=[{c0:"Mockups",c1:"Mobile & Web",c2:"Prints",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c16:"Animations",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c24:"Resumes",c25:"Diploma / Certificate",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"},{c0:"Resources",c1:"Image Elements",c2:"Fonts",c10:"Effects",c11:"Filters",c12:"Combine Elements",c13:"Text Effects",c20:"Generate Content",c30:"Other Plugins"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"}];
function hG(){gB.call(this);var I=this.Z=$.I("div","form");this.M4=null;this._Z=null;this.Ef=null;this.dU=null;
var k=$.I("canvas");this.hp=k.getContext("2d");$.$j(k);$.Ar(k,this.iE.bind(this));this.GU=[new f8([12,44],[[19,0,0],[19,0,1]]),{Z:k},new fM([12,0],0,100,"%",null,null,null,4),new ek,new fM([12,40],0,100,"%",2,null,null,4),new iP([5,4],null,null,!0)];
for(var Y=0;Y<this.GU.length;Y++){var a=this.GU[Y];a.parent=this;I.appendChild(a.Z);if(Y!=2&&Y!=4)$.FI(I);
if(Y!=1)a.O(Y==5?"click":M.E.B,this.Rb,this)}this.lv=this.pW.bind(this);this.xO=this.HL.bind(this)}hG.prototype=new gB;
hG.prototype.l=function(){return JSON.parse(JSON.stringify(this.M4))};hG.prototype.j=function(I){this.M4=JSON.parse(JSON.stringify(I));
this.Wm()};hG.prototype.k=function(){var I=this.GU;for(var Y=0;Y<I.length;Y++)if(I[Y].k)I[Y].k()};hG.prototype.iE=function(I){var k=$.Y(),a=$.Ea(I,this.hp.canvas);
a.x*=k;a.y*=k;var n=this.Ef,s=this.dU,C=this.M4,T=C[1],S=7*$.Y(),D=-1;for(var Y=0;Y<n.length;Y++){if(kK.f0(a,n[Y][0])<S)D=Y}if(D==-1){if(Math.abs(a.y-(s.y+s._))>10*k)return;
var o=[.5,[0,0,0],1,.5];T.push(o);T.sort(function(v,g){return v[0]-g[0]});this.Yy=[new kK,T.indexOf(o),0]}else this.Yy=n[D];
this._Z=JSON.stringify(this.M4);$.YU(window,this.lv);$.hf(window,this.xO);if(D==-1)this.pW(I);this.Wm()};
hG.prototype.pW=function(I){this.M4=JSON.parse(this._Z);var k=$.Y(),a=$.Ea(I,this.hp.canvas);a.x*=k;
a.y*=k;var n=this.Yy,s=n[1],C=this.dU,T=this.M4[1],S=T[s],D=(a.x-C.x)/C.Q;if(n[2]==0){S[0]=Math.max(0,Math.min(1,D));
if(Math.abs(a.y-(C.y+C._))>30*k)T.splice(s,1)}else{var o=S[0],v=T[s+1][0],g=S[3];S[3]=Math.max(.13,Math.min(.87,(D-o)/(v-o)))}T.sort(function(d,R){return d[0]-R[0]});
this.Wm()};hG.prototype.HL=function(I){$.qD(window,this.lv);$.Yf(window,this.xO)};hG.prototype.Rb=function(I){var k=this.GU,Y=k.indexOf(I.target),a=this.M4,n=I.target.l(),s=this.Yy;
if(Y==0)a[0]=n;if(s){var C=a[1][s[1]];if(Y==2)C[2]=n/100;if(Y==3){n=j.uU(I.target.mJ());C[1]=[n.$/255,n.H/255,n.J/255]}if(Y==4)if(s[2]==0)C[0]=n/100;
else C[3]=Math.max(.13,Math.min(.87,n/100));if(Y==5){a[1].splice(s[1],1);this.Yy=null}}this.Wm()};hG.prototype.Wm=function(){var I=this.GU,k=this.M4,a=k[1],n=this.hp,s=n.canvas;
I[0].j(k[0]);var C=s.width=Math.floor(300*$.Y()),T=s.height=Math.floor(60*$.Y()),S=Math.floor(20*$.Y()),D=C-S-S;
this.dU=new eZ(S,S,D,T-S-S);$.ZX(s);var o=n.fillStyle=n.createLinearGradient(S,S,C-S,S);j.G.AL(o,a);
n.fillRect(S,S,D,T-S-S);n.lineWidth=1;n.strokeRect(S-.5,S-.5,D+1,T-S-S+1);var v=this.Ef=[],g=this.Yy;
n.fillStyle="white";for(var Y=0;Y<a.length;Y++){var d=a[Y],R=d[0],c=T-S*.6;if(g&&g[1]==Y&&g[2]==0){n.fillStyle="#00aaff";
n.beginPath();n.arc(S+R*D,c,T*.125,0,2*Math.PI);n.fill()}n.fillStyle="white";n.beginPath();n.arc(S+R*D,c,T*.1,0,2*Math.PI);
n.fill();n.beginPath();n.arc(S+R*D,c,T*.07,0,2*Math.PI);n.stroke();v.push([new kK(S+R*D,c),Y,0]);if(Y!=a.length-1){var e=d[3],O=a[Y+1][0];
R=R+e*(O-R);c=S*.7;if(g&&g[1]==Y&&g[2]==1){n.fillStyle="#00aaff";n.beginPath();n.arc(S+R*D,c,T*.075,0,2*Math.PI);
n.fill()}n.fillStyle="white";n.beginPath();n.arc(S+R*D,c,T*.05,0,2*Math.PI);n.fill();v.push([new kK(S+R*D,c),Y,1])}}I[2].wl(g&&g[2]==0);
I[3].wl(g&&g[2]==0);I[4].wl(g!=null);I[5].wl(g&&g[2]==0&&a.length>2);if(g){var d=a[g[1]],U=d[1];if(g[2]==0)I[2].j(d[2]*100);
I[3].c1(j.EQ({$:U[0]*255,H:U[1]*255,J:U[2]*255}));I[4].j(d[g[2]==0?0:3]*100)}};function ke(I){gB.call(this);
this.U7=I;this.Z=$.I("div","");this.yG=[];this.NF=null;this.auT=[]}ke.prototype=new gB;ke.prototype.vs=function(I){};
ke.prototype.S6=function(){return!1};ke.prototype.bb=function(I,k){};ke.prototype.wu=function(I,k){};
ke.prototype.cC=function(I){};ke.prototype.j=function(I,k,a,n,s,C){var T=[],S=this.yG,D=0,o=gJ.P7["s"+this.U7];
if(this.U7=="Dspl")this.xI(I,T,C);else o?o(I,T,C):this.xI(I,T,C);for(var Y=0;Y<S.length;Y++)if(!(S[Y]instanceof gv))S[Y].j(T[D++]);
if(I.RndS)this.NF=I.RndS.v};ke.prototype.l=function(){var I=gJ.nI(this.U7),k=[],a=this.yG,n=0;for(var Y=0;
Y<a.length;Y++)if(!(a[Y]instanceof gv))k[n++]=a[Y].l();var s=gJ.P7["g"+this.U7];if(this.U7=="Dspl")this.PC(I,k);
else s?s(I,k):this.PC(I,k);if(I.RndS)I.RndS.v=this.NF;return I};ke.prototype.Bf=function(I){};ke.prototype.JT=function(I){if(I&&I.target instanceof iP){this.NF=Math.floor(Math.random()*4294967295)}var k=this.auT;
for(var Y=0;Y<k.length;Y+=2){var a=this.yG[k[Y]],n=this.yG[k[Y+1]],s=a.l(),C=n.l();if(I.target==a)n.j(Math.max(s,C));
else a.j(Math.min(s,C))}this.a(new d2(M.E.B))};ke.prototype.k=function(){for(var Y=0;Y<this.yG.length;
Y++)this.yG[Y].k();var I=this.an6;if(I)I.k()};ke.prototype.Ui=function(I){$.fO(this.Z,"form");var k=this.yG;
for(var Y=0;Y<k.length;Y++){var a=k[Y];a.parent=this;a.O(M.E.B,this.JT,this);this.Z.appendChild(a.Z);
if(a instanceof dI&&k[Y+1]instanceof ek)continue;if(I&&I.indexOf(Y)!=-1)$.Se(this.Z);else $.FI(this.Z)}var n=gJ.nI(this.U7);
if(n.RndS){var s=this.an6=new iP([25,1,2],null,null,!0);this.Z.appendChild(s.Z);s.O("click",this.JT,this)}};
ke.prototype.rI=function(I){return!1};ke.prototype.s$=function(){return!1};ke.prototype.Vr=function(I,k,a,n,s){};
ke.prototype.Fr=function(I,k,a,n,s){};ke.prototype.pE=function(I,k,a,n,s){};ke.prototype.PC=function(I,k){};
ke.prototype.xI=function(I,k){};ke.prototype.m2=function(I){var k=I.target.l().indexOf(!0)!=-1,a=new d2(M.E.b,!0);
a.tQ=!0;a.data={q:k?M.p.$g:M.p.Zj,S:E.cZ};this.a(a);a=new d2(M.E.r,!0);a.S=E.cZ;a.tQ=!0;a.data={q:"supertool",S:k?this:null};
this.a(a)};ke.acD=function(I){I.s$=function(){return!0};I.Vr=function(k,a,n,s,C){this.jQ=!0;this.ahV(k,C)};
I.Fr=function(k,a,n,s,C){if(!this.jQ)return;this.ahV(k,C)};I.pE=function(k,a,n,s,C){this.jQ=!1};I.ahV=function(k,a){var n=new eZ(0,0,k.Q,k._);
if(k.f)n=k.f.rect;var s=k.w.m_(a.x,a.y);s.x-=n.x;s.y-=n.y;function C(T,S){return Math.round(Math.max(0,Math.min(100,100*T/S)))}this.yG[2].j(C(s.x,n.Q));
this.yG[3].j(C(s.y,n._));this.JT()}};ke.Bokh=function(){ke.call(this,"Bokh");this.yG=[new fB("Depth Map",["A","b"]),new f7("Focal Distance",0,255),new dI([4,11]),new fB([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new f7([12,56],0,100),new f7([12,15],0,360),new f7([12,2],0,100),new f7([4,13],0,255),new f7([24,6],0,100),new f8([12,58],[[12,59,0],[12,59,1]]),new dI([12,60])];
this.Ui([5,7])};ke.Bokh.prototype=new ke;ke.Bokh.prototype.xI=function(I,k,a){var n=[[22,5,0],[6,5,3],[6,2]],s=I.BkDi.v.BtDi,C=I.BkDc,T=0;
if(s=="BeIn")T=0;else if(s=="BeIt"&&C.v.BtDc=="BeCt")T=1;else if(s=="BeIt"&&C.v.BtDc=="BeCm")T=2;else T=3+C.v;
for(var Y=0;Y<a[1].length;Y++)n.push(a[1][Y].name);this.yG[0].wS(n,[3]);k[0]=T;k[1]=I.BkDp.v;k[2]=I.BkDs.v;
k[3]=parseInt(I.BkIs.v.BtIs.slice(3))-3;k[4]=I.BkIb.v;k[5]=I.BkIr.v;k[6]=I.BkSb.v;k[7]=I.BkSt.v;k[8]=I.BkNa.v;
k[9]=I.BkNt.v.BtNt=="BeNu"?0:1;k[10]=I.BkNm.v};ke.Bokh.prototype.PC=function(I,k){var a;if(k[0]==0){a="BeIn";
delete I.BkDc}else if(k[0]<3){a="BeIt";I.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][k[0]-1]}}}else{a="BeIa";
I.BkDc={t:"long",v:k[0]-3}}I.BkDi.v.BtDi=a;I.BkDp.v=k[1];I.BkDs.v=k[2];I.BkIs.v.BtIs="BeS"+(3+k[3]);
I.BkIb.v=k[4];I.BkIr.v=k[5];I.BkSb.v=k[6];I.BkSt.v=k[7];I.BkNa.v=k[8];I.BkNt.v.BtNt=["BeNu","BeNg"][k[9]];
I.BkNm.v=k[10]};ke.oilPaint=function(){ke.call(this,"oilPaint");this.yG=[new f7([12,56],.1,10,"px",!0),new f7("Cleanliness",0,10,"px",!0),new f7([12,38],.1,10,null,!0),new f7("Bristle Detail",0,10,null,!0),new dI("Lighting"),new f7("Shine",0,10,null,!0),new dr([12,15])];
this.Ui()};ke.oilPaint.prototype=new ke;ke.oilPaint.prototype.xI=function(I,k){var a="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var Y=0;Y<a.length;Y++)k[Y]=I[a[Y]].v;k[6]=[I.LghD.v]};ke.oilPaint.prototype.PC=function(I,k){var a="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var Y=0;Y<a.length;Y++)I[a[Y]].v=k[Y];I.LghD.v=k[6][0]};ke.TrcC=function(){ke.call(this,"TrcC");
this.yG=[new f7("Level",0,255),new f8([12,69],[[19,4,1],[19,4,0]])];this.Ui()};ke.TrcC.prototype=new ke;
ke.TrcC.prototype.xI=function(I,k){k[0]=I.Lvl.v;k[1]=["Lwr","Upr"].indexOf(I.Edg.v.CntE)};ke.TrcC.prototype.PC=function(I,k){I.Lvl.v=k[0];
I.Edg.v.CntE=["Lwr","Upr"][k[1]]};ke["Dfs "]=function(){ke.call(this,"Dfs ");this.yG=[new f8([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];
this.Ui()};ke["Dfs "].prototype=new ke;ke["Dfs "].prototype.xI=function(I,k){k[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(I.Md.v.DfsM)};
ke["Dfs "].prototype.PC=function(I,k){I.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][k[0]]};ke.Embs=function(){ke.call(this,"Embs");
this.yG=[new dr([12,15]),new f7([12,42],1,100,"px"),new f7([12,57],1,500,"%")];this.Ui()};ke.Embs.prototype=new ke;
ke.Embs.prototype.xI=function(I,k){k[0]=[I.Angl.v];k[1]=I.Hght.v;k[2]=I.Amnt.v};ke.Embs.prototype.PC=function(I,k){I.Angl.v=k[0][0];
I.Hght.v=k[1];I.Amnt.v=k[2]};ke["Wnd "]=function(){ke.call(this,"Wnd ");this.yG=[new f8([12,32],["Wind","Blast","Stagger"]),new f8([12,33],["From the Right","From the Left"])];
this.Ui()};ke["Wnd "].prototype=new ke;ke["Wnd "].prototype.xI=function(I,k){k[0]=["Wnd","Blst","Stgr"].indexOf(I.WndM.v.WndM);
k[1]=["Left","Rght"].indexOf(I.Drct.v.Drct)};ke["Wnd "].prototype.PC=function(I,k){I.WndM.v.WndM=["Wnd","Blst","Stgr"][k[0]];
I.Drct.v.Drct=["Left","Rght"][k[1]]};ke.denoise=function(){ke.call(this,"denoise");this.yG=[new f7([12,64],0,10),new f7([12,65],0,100,"%")];
this.Ui()};ke.denoise.prototype=new ke;ke.denoise.prototype.xI=function(I,k){var a=I.channelDenoise.v[0].v;
k[0]=a.Amnt.v;k[1]=a.EdgF.v};ke.denoise.prototype.PC=function(I,k){var a=I.channelDenoise.v[0].v;a.Amnt.v=k[0];
a.EdgF.v=k[1]};ke.lightFilterGradient=function(){ke.call(this,"lightFilterGradient");this.yG=[new f7([24,3,1],0,100,"px",1,!0),new f7([12,38],0,200,"%"),new dI([4,11]),new f7("High",0,100,"%"),new f7("Medium",0,100,"%"),new f7("Low",0,100,"%")];
this.Ui()};ke.lightFilterGradient.prototype=new ke;ke.lightFilterGradient.prototype.xI=function(I,k){k[0]=I.blur.v;
k[1]=I.textureScale.v*100;k[2]=I.Scl.v==-1;var a=I.Dtl.v;k[3]=a[0].v*100;k[4]=a[1].v*100;k[5]=a[2].v*100};
ke.lightFilterGradient.prototype.PC=function(I,k){I.blur.v=k[0];I.textureScale.v=k[1]/100;I.Scl.v=k[2]?-1:1;
var a=I.Dtl.v;a[0].v=k[3]/100;a[1].v=k[4]/100;a[2].v=k[5]/100};ke.Fbrs=function(){ke.call(this,"Fbrs");
this.yG=[new f7("Variance",1,64),new f7([12,64],1,64)];this.Ui()};ke.Fbrs.prototype=new ke;ke.Fbrs.prototype.xI=function(I,k){k[0]=I.Vrnc.v;
k[1]=I.Strg.v};ke.Fbrs.prototype.PC=function(I,k){I.Vrnc.v=k[0];I.Strg.v=k[1]};ke.LnsF=function(){ke.call(this,"LnsF");
this.yG=[new f7([12,2],10,300,"%"),new f8([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new f7("Position X",0,100,"%"),new f7("Position Y",0,100,"%")];
this.Ui()};ke.LnsF.prototype=new ke;ke.LnsF.prototype.xI=function(I,k){k[0]=I.Brgh.v;k[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(I.Lns.v.Lns);
var a=I.FlrC.v;k[2]=Math.round(a.Hrzn.v*100);k[3]=Math.round(a.Vrtc.v*100)};ke.LnsF.prototype.PC=function(I,k){I.Brgh.v=k[0];
I.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][k[1]];var a=I.FlrC.v;a.Hrzn.v=k[2]/100;a.Vrtc.v=k[3]/100};ke.acD(ke.LnsF.prototype);
ke.blendOptions=function(){ke.call(this,"blendOptions");this.yG.push(new fB([12,19,0],aU.L6,aU.e2));
this.yG.push(new f7([12,0],0,100,"%"));this.Ui()};ke.blendOptions.prototype=new ke;ke.blendOptions.prototype.xI=function(I,k){k[0]=aU.$k.indexOf(I.Md.v.BlnM);
k[1]=I.Opct.v.val};ke.blendOptions.prototype.PC=function(I,k){I.Md.v.BlnM=aU.$k[k[0]];I.Opct.v.val=k[1]};
ke.LnCr=function(){ke.call(this,"LnCr");this.yG=[new f7([12,57],-100,100),new f7([12,38],10,150,"%")];
this.Ui()};ke.LnCr.prototype=new ke;ke.LnCr.prototype.xI=function(I,k){k[0]=I.LnIa.v;k[1]=I.LnSi.v};
ke.LnCr.prototype.PC=function(I,k){I.LnIa.v=k[0];I.LnSi.v=k[1]};ke.adaptCorrect=function(){ke.call(this,"adaptCorrect");
var I=iD;this.yG=[new gv([19,6,0]),new I([12,57],0,100,"%"),new I("Tone",0,100,"%"),new I([12,56],0,200,"px"),new gv([19,6,2]),new I([12,57],0,100,"%"),new I("Tone",0,100,"%"),new I([12,56],0,200,"px"),new gv([3]),new I([13,0],-100,100)];
this.Ui([3,7])};ke.adaptCorrect.prototype=new ke;ke.adaptCorrect.prototype.xI=function(I,k){var a=I.sdwM.v;
k[0]=a.Amnt.v.val;k[1]=a.Wdth.v.val;k[2]=a.Rds.v;var a=I.hglM.v;k[3]=a.Amnt.v.val;k[4]=a.Wdth.v.val;
k[5]=a.Rds.v;k[6]=I.ClrC.v};ke.adaptCorrect.prototype.PC=function(I,k){var a=I.sdwM.v;a.Amnt.v.val=k[0];
a.Wdth.v.val=k[1];a.Rds.v=k[2];var a=I.hglM.v;a.Amnt.v.val=k[3];a.Wdth.v.val=k[4];a.Rds.v=k[5];I.ClrC.v=k[6]};
ke.Flam=function(){ke.call(this,"Flam");var I=this.yG=[new fB([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new f7([12,80,0],20,1e3,"px"),new dI("Randomize Length"),new f7([12,41],5,600,"px"),new f7([12,15],0,360,"\xB0"),new f7("Interval",10,200,"px"),new dI("Adapt Interval for Loops"),new ek(!1),new fB([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new f7("Turbulent",0,100),new f7("Jag",0,100),new f7([12,0],0,100),new f7("Lines",2,30),new f7("Bottom",0,100),new fB([12,22],["Normal","Violent","Flat"]),new fB([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new dI("Randomize Shape"),new f7("Random Seed",0,100)];
this.Ui();var k=this.Z;$.GD(k);var a=new f8(null,["Basic","Advanced"]);a.O(M.E.B,this.a8b,this);k.appendChild(a.Z);
$.Se(k);var n=$.I("div"),s=$.I("div");this.a0P=[n,s];k.appendChild(n);for(var Y=0;Y<I.length;Y++){(Y<9?n:s).appendChild(I[Y].Z);
if(Y==6)$.FI(n)}I[0].O(M.E.B,this.a6A,this);this.a6A()};ke.Flam.prototype=new ke;ke.Flam.prototype.a6A=function(I){var k=this.yG,Y=k[0].l();
k[1].wl(Y!=0&&Y!=5);k[2].wl(Y!=0&&Y!=5);k[4].wl(Y!=0&&Y!=5&&Y!=1);k[5].wl(Y!=0&&Y!=5);k[6].wl(Y!=0&&Y!=5)};
ke.Flam.prototype.a8b=function(I){var Y=I.target.l(),k=this.a0P,a=this.Z;a.removeChild(k[1-Y]);a.appendChild(k[Y])};
ke.boxblur=function(){ke.call(this,"boxblur");this.yG=[new f7([12,56],1,200," px")];this.Ui()};ke.boxblur.prototype=new ke;
ke.boxblur.prototype.xI=function(I,k){k[0]=I.Rds.v.val};ke.boxblur.prototype.PC=function(I,k){I.Rds.v.val=k[0]};
ke.GsnB=function(){ke.call(this,"GsnB");this.yG=[new f7([12,56],.1,400,"px",1,!0)];this.Ui()};ke.GsnB.prototype=new ke;
ke.Dila=function(){ke.call(this,"Dila");this.yG=[new f7([11,12,1],0,20,"px",0),new f7([12,56],0,400,"px",0,!0)];
this.Ui()};ke.Dila.prototype=new ke;ke.MtnB=function(){ke.call(this,"MtnB");this.yG=[new dr([12,15]),new f7([12,28],1,100," px")];
this.Ui()};ke.MtnB.prototype=new ke;ke.RdlB=function(){ke.call(this,"RdlB");this.yG=[new f7([12,57],1,100),new f8([12,36],["Spin","Zoom"]),new f7("Position X",0,100,"%"),new f7("Position Y",0,100,"%")];
this.Ui()};ke.RdlB.prototype=new ke;ke.RdlB.prototype.xI=function(I,k){k[0]=I.Amnt.v;k[1]=["Spn","Zm"].indexOf(I.BlrM.v.BlrM);
k[2]=I.Cntr.v.Hrzn.v*100;k[3]=I.Cntr.v.Vrtc.v*100};ke.RdlB.prototype.PC=function(I,k){I.Amnt.v=k[0];
I.BlrM.v.BlrM=["Spn","Zm"][k[1]];I.Cntr.v.Hrzn.v=k[2]/100;I.Cntr.v.Vrtc.v=k[3]/100};ke.acD(ke.RdlB.prototype);
ke.Dspl=function(){ke.call(this,"Dspl");this.yG=[new fB([6,36,3],["a","b"]),new f7([22,4,0],-100,100,"px"),new f7([22,4,1],-100,100,"px"),new fB([24,18,0],[[24,18,3],[24,18,2]])];
this.Ui()};ke.Dspl.prototype=new ke;ke.Dspl.prototype.xI=function(I,k,a){this.amI=[];this.fC=[];var n=-1,s=a?a[0]:null;
if(s==null)s=this.aAv;else this.aAv=s;if(s)for(var Y=0;Y<s.length;Y++){var C=s[Y];this.amI.push(C.f3.trim());
this.fC.push(C.DZ);if(C.DZ==I.DspF.v.pth)n=Y}this.yG[0].wS(this.amI);k[0]=n==-1?0:n;k[1]=I.HrzS.v;k[2]=I.VrtS.v;
k[3]=["WrpA","RptE"].indexOf(I.UndA.v.UndA)};ke.Dspl.prototype.PC=function(I,k){var a=this.aAv;if(this.fC.length==0)return;
I.DspF.v.pth=this.fC[k[0]];I.HrzS.v=k[1];I.VrtS.v=k[2];I.UndA.v.UndA=["WrpA","RptE"][k[3]];var n=a[k[0]];
n.TB();var s=n.IV[1],C=s.Q,T=s._,S=j.U(s.c());j.xD(n.IV[0],S);var D=[T&255,T>>>8,0,0,C&255,C>>>8,0,0,3,0];
for(var o=0;o<2;o++)for(var Y=0;Y<S.length;Y++)D.push(S[Y]);for(var Y=0;Y<1e3;Y++)D.push(0);I.DspD={t:"tdta",v:D};
I.EmbF={t:"bool",v:!0}};ke.Pnch=function(){ke.call(this,"Pnch");this.yG=[new f7([12,57],-100,100,"%")];
this.Ui()};ke.Pnch.prototype=new ke;ke["Plr "]=function(){ke.call(this,"Plr ");this.yG=[new f8(null,["Rect to Polar","Polar to Rect"])];
this.Ui()};ke["Plr "].prototype=new ke;ke.Rple=function(){ke.call(this,"Rple");this.yG=[new f7([12,57],-999,999),new fB([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];
this.Ui()};ke.Rple.prototype=new ke;ke["Shr "]=function(){ke.call(this,"Shr ");this.yG=[new fU(!0,!0),new fB([24,18,0],[[24,18,3],[24,18,2]])];
this.Ui()};ke["Shr "].prototype=new ke;ke["Shr "].prototype.xI=function(I,k){var a=new dc(0,255/127,255/127,0,-2,128),n=JSON.parse(JSON.stringify(I.ShrP.v));
j.IJ.h(n,a);k[0]=n;k[1]=["WrpA","RptE"].indexOf(I.UndA.v.UndA)};ke["Shr "].prototype.PC=function(I,k){var a=new dc(0,255/127,255/127,0,-2,128);
a.Us();j.IJ.h(k[0],a);I.ShrP.v=k[0];I.ShrE.v=k[0].length-1;I.UndA.v.UndA=["WrpA","RptE"][k[1]]};ke.Sphr=function(){ke.call(this,"Sphr");
this.yG=[new f7([12,57],-100,100),new fB([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.Ui()};ke.Sphr.prototype=new ke;
ke.Sphr.prototype.xI=function(I,k){k[0]=I.Amnt.v;k[1]=["Nrml","HrzO","VrtO"].indexOf(I.SphM.v.SphM)};
ke.Sphr.prototype.PC=function(I,k){I.Amnt.v=k[0];I.SphM.v.SphM=["Nrml","HrzO","VrtO"][k[1]]};ke.Dthr=function(){ke.call(this,"Dthr");
this.yG=[new fB("Palette",[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"]),new f8("Method",["None","Floyd-Steinberg","Bayer 4x4"])];
this.Ui()};ke.Dthr.prototype=new ke;ke.Dthr.prototype.xI=function(I,k){k[0]=I.Plte.v;k[1]=I.Mthd?I.Mthd.v:1};
ke.Dthr.prototype.PC=function(I,k){I.Plte.v=k[0];I.Mthd.v=k[1]};ke.Part=function(){ke.call(this,"Part");
this.yG=[new f7([15,5,1],0,100,"%"),new f7([12,14,0],1,50,"px"),new f7([12,34],0,100,"%"),new f7([12,2],10,1e3,"%"),new ek(!0),new f7("Time",0,1,null,3),new f7("Turbulence",0,100,"%"),new dI("Blink"),new dI("Fall")];
this.Ui([4])};ke.Part.prototype=new ke;ke.Part.prototype.xI=function(I,k){k[0]=I.Cont.v;k[1]=I.Size.v;
k[2]=I.Dpth.v;k[3]=I.Brgh.v;k[4]=I.Clr.v;k[5]=I.Time.v;k[6]=I.Turb.v;k[7]=I.Blnk.v;k[8]=I.Fall.v};ke.Part.prototype.PC=function(I,k){I.Cont.v=k[0];
I.Size.v=k[1];I.Dpth.v=k[2];I.Brgh.v=k[3];I.Clr.v=k[4];I.Time.v=k[5];I.Turb.v=k[6];I.Blnk.v=k[7];I.Fall.v=k[8]};
ke.Twrl=function(){ke.call(this,"Twrl");this.yG=[new f7([12,15],-999,999)];this.Ui()};ke.Twrl.prototype=new ke;
ke.Wave=function(){ke.call(this,"Wave");this.auT=[1,2,3,4];this.yG=[new f7("Number of Generators",1,100),new iD("Min Length",1,999),new iD("Max Length",1,999),new iD("Min Ampl.",1,999),new iD("Max Ampl.",1,999),new iD("Scale X",1,100,"%"),new iD("Scale Y",1,100,"%"),new f8([12,44],["Sine","Triangle",[12,93,3]]),new fB([24,18,0],[[24,18,3],[24,18,2]])];
this.Ui()};ke.Wave.prototype=new ke;ke.ZgZg=function(){ke.call(this,"ZgZg");this.yG=[new f7([12,57],-100,100),new f7("Ridges",0,20),new fB([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.Ui()};ke.ZgZg.prototype=new ke;ke.surfaceBlur=function(){ke.call(this,"surfaceBlur");this.yG=[new f7([12,56],1,200," px"),new f7([4,13],1,255," px")];
this.Ui()};ke.surfaceBlur.prototype=new ke;ke.surfaceBlur.prototype.xI=function(I,k){k[0]=I.Rds.v.val;
k[1]=I.Thsh.v};ke.surfaceBlur.prototype.PC=function(I,k){I.Rds.v.val=k[0];I.Thsh.v=k[1]};ke.AdNs=function(){ke.call(this,"AdNs");
this.yG=[new f7([12,57],0,200," %"),new fB([12,58],[[12,59,1],[12,59,0]]),new dI([12,60])];this.Ui()};
ke.AdNs.prototype=new ke;ke.DstS=function(){ke.call(this,"DstS");this.yG=[new f7([12,56],1,200," px"),new f7([4,13],1,255," px")];
this.Ui()};ke.DstS.prototype=new ke;ke["Mdn "]=function(){ke.call(this,"Mdn ");this.yG=[new f7([12,56],1,200," px")];
this.Ui()};ke["Mdn "].prototype=new ke;ke["Mdn "].prototype.xI=function(I,k){k[0]=I.Rds.v.val};ke["Mdn "].prototype.PC=function(I,k){I.Rds.v.val=k[0]};
ke.ClrH=function(){ke.call(this,"ClrH");this.yG=[new f7([12,56],4,100," px")];for(var Y=1;Y<4;Y++)this.yG.push(new f7("Angle "+Y,0,90," \xB0"));
this.Ui()};ke.ClrH.prototype=new ke;ke.ClrH.prototype.xI=function(I,k){k[0]=I.Rds.v;for(var Y=1;Y<4;
Y++)k[Y]=I["Ang"+Y].v};ke.ClrH.prototype.PC=function(I,k){I.Rds.v=k[0];for(var Y=1;Y<4;Y++)I["Ang"+Y].v=k[Y]};
ke.ClrH.prototype.k=function(){var I=this.yG;I[0].k();for(var Y=1;Y<4;Y++)I[Y].jO(hJ.get([12,15])+" "+Y)};
ke.Crst=function(){ke.call(this,"Crst");this.yG=[new f7([12,61],3,100," px")];this.Ui()};ke.Crst.prototype=new ke;
ke.Crst.prototype.xI=function(I,k){k[0]=I.ClSz.v};ke.Crst.prototype.PC=function(I,k){I.ClSz.v=k[0]};
ke.Mztn=function(){ke.call(this,"Mztn");this.yG.push(new fB([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),[4,3,3]));
this.fC="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.Ui()};ke.Mztn.prototype=new ke;
ke.Mztn.prototype.xI=function(I,k){k[0]=this.fC.indexOf(I.MztT.v.MztT)};ke.Mztn.prototype.PC=function(I,k){I.MztT.v.MztT=this.fC[k[0]]};
ke["Msc "]=function(){ke.call(this,"Msc ");this.yG=[new f7([12,61],2,200," px")];this.Ui()};ke["Msc "].prototype=new ke;
ke["Msc "].prototype.xI=function(I,k){k[0]=I.ClSz.v.val};ke["Msc "].prototype.PC=function(I,k){I.ClSz.v.val=k[0]};
ke.Pntl=function(){ke.call(this,"Pntl");this.yG=[new f7([12,61],3,100," px")];this.Ui()};ke.Pntl.prototype=new ke;
ke.Pntl.prototype.xI=function(I,k){k[0]=I.ClSz.v};ke.Pntl.prototype.PC=function(I,k){I.ClSz.v=k[0]};
ke.smartSharpen=function(){ke.call(this,"smartSharpen");this.yG=[new f7([12,57],1,200,"%"),new f7([12,56],0,200,"px",1,!0)];
this.Ui()};ke.smartSharpen.prototype=new ke;ke.smartSharpen.prototype.xI=function(I,k){k[0]=I.Amnt?I.Amnt.v.val:200;
k[1]=I.Rds?I.Rds.v.val:1};ke.smartSharpen.prototype.PC=function(I,k){I.Amnt.v.val=k[0];I.Rds.v.val=k[1]};
ke.UnsM=function(){ke.call(this,"UnsM");this.yG=[new f7([12,57],1,200," %"),new f7([12,56],.1,400,"px",1,!0),new f7([4,13],0,255," ")];
this.Ui()};ke.UnsM.prototype=new ke;ke.HghP=function(){ke.call(this,"HghP");this.yG=[new f7([12,56],.1,400,"px",1,!0)];
this.Ui()};ke.HghP.prototype=new ke;ke.HsbP=function(){ke.call(this,"HsbP");this.yG=[new f8("Input",["RGB","HSB","HSL"]),new f8("Output",["RGB","HSB","HSL"])];
this.Ui()};ke.HsbP.prototype=new ke;ke["Mxm "]=function(){ke.call(this,"Mxm ");this.yG=[new f7([12,56],.1,200," px",1,!0),new fB([12,76,1],[[12,93,3],"Circle"])];
this.Ui()};ke["Mxm "].prototype=new ke;ke["Mnm "]=function(){ke.call(this,"Mnm ");this.yG=[new f7([12,56],.1,200," px",1,!0),new fB([12,76,1],[[12,93,3],"Circle"])];
this.Ui()};ke["Mnm "].prototype=new ke;ke.Ofst=function(){ke.call(this,"Ofst");this.yG=[new f7([22,4,0],-1024,1024," px"),new f7([22,4,1],-1024,1024," px"),new fB([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.Ui()};ke.Ofst.prototype=new ke;ke.Kale=function(){ke.call(this,"Kale");this.yG=[new iD("Mirrors",2,20),new iD([12,15],0,360,"\xB0")];
this.Ui()};ke.Kale.prototype=new ke;ke.Kale.prototype.xI=function(I,k){k[0]=I.Mirr.v;k[1]=I.MRot.v};
ke.Kale.prototype.PC=function(I,k){I.Mirr.v=k[0];I.MRot.v=k[1]};ke.Rept=function(){ke.call(this,"Rept");
this.yG=[new iD([12,38],1,300," %"),new iD("Row Shift",-50,50," %"),new iD("Space X",-99,200," %"),new iD("Space Y",-99,200," %"),new dI([4,16,2]),new dr([12,15])];
this.Ui()};ke.Rept.prototype=new ke;ke.Rept.prototype.xI=function(I,k){k[0]=I.Scl.v.val;k[1]=I.Rsft.v.val;
k[2]=I.SpcX.v.val;k[3]=I.SpcY.v.val;k[4]=I.SpcC.v;k[5]=[I.Angl.v]};ke.Rept.prototype.PC=function(I,k){I.Scl.v.val=k[0];
I.Rsft.v.val=k[1];I.SpcX.v.val=k[2];I.SpcY.v.val=k[3];I.SpcC.v=k[4];I.Angl.v=k[5][0];return I};ke.Ctoa=function(){ke.call(this,"Ctoa");
this.yG=[new gv([13,0]),new ek(!0),new f7(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new f7(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.Ui()};ke.Ctoa.prototype=new ke;ke.Ctoa.prototype.xI=function(I,k){k[0]=I.Clr.v;k[1]=I.Trsp.v.val;
k[2]=I.Opct.v.val};ke.Ctoa.prototype.PC=function(I,k){I.Clr.v=k[0];I.Trsp.v.val=k[1];I.Opct.v.val=k[2]};
ke.LqFy=function(){ke.call(this,"LqFy");this.Lc=!1;this.EH=!1;this.fy=null;this.aBT=null;this.S=0;this.m1=-1;
this.L={n7:[[{S:{id:0,name:[24,1,0,1,0],vZ:"liq/smudge"}}],[{S:{id:1,name:[24,1,0,1,1],vZ:"liq/reconstruct"}}],[{S:{id:2,name:[24,1,0,1,2],vZ:"liq/smooth"}}],[{S:{id:3,name:[24,1,0,1,3],vZ:"liq/twirl"}}],[{S:{id:4,name:[24,1,0,1,4],vZ:"liq/shrink"}}],[{S:{id:5,name:[24,1,0,1,5],vZ:"liq/blow"}}],[{S:{id:6,name:[24,1,0,1,6],vZ:"liq/pleft"}}],[{S:{id:7,name:"Hand",vZ:"tools/hand"}}],[{S:{id:8,name:"Zoom In",vZ:"zoomIn"}}],[{S:{id:9,name:"Zoom Out",vZ:"zoomOut"}}]],keys:[]};
this.cN=new c0(this.L,!1);this.cN.Na(0);this.cN.O(M.E.b,this.O7,this);this._G=kJ.Nf();this.q6=null;this.mO=[];
this.gb=-1;this.dU=null;this.akw=null;this.o$=null;this.pA=null;this.h9=null;var I=$.I("div","flexrow");
this.sN=I;this.Z.appendChild(I);I.appendChild(this.cN.Z);this.view=new dq(!0);this.view.bb(100,100);
this.view.O("mousedown",this.e_,this);this.view.O("mousemove",this.vC,this);this.view.O("mouseup",this.RG,this);
this.view.O("zoom",this.es,this);I.appendChild(this.view.Z);var k=$.I("div","form");I.appendChild(k);
this.lW=k;k.style.width="230px";this.GC=[new f7([12,14,0],0,1e3,null,!1,!0),new f7([12,74],0,100,null,!1,!1),new f7([12,84],0,100,null,!1,!1),new dI([12,46]),new f7([12,0],0,100,null,!1,!1),new dI([24,18,5])];
var a=this._G.Brsh.v;a.Dmtr.v.val=100;var n=[100,50,100,!1,100,!0];for(var Y=0;Y<this.GC.length;Y++){var s=this.GC[Y];
s.j(n[Y]);if(Y==4)s.hl();s.O(M.E.B,this.aEU,this);k.appendChild(s.Z)}var C=this.aox=new iP([1,12,2],!0,null,!0);
C.O("click",this.vr,this);k.appendChild(C.Z);this.arF=this.mt.bind(this);this.Ul=new gB;this.Ul.Z=$.I("div","floatcont");
this.kp=new iP("Menu",!1,null,!0);var T=this.kp.Z;T.setAttribute("style","position:absolute; right:13px; top:47px");
$.Ar(T,this.ac8.bind(this))};ke.LqFy.prototype=new ke;ke.LqFy.prototype.S6=function(){return!0};ke.LqFy.prototype.vs=function(I){this.lW.appendChild(I)};
ke.LqFy.prototype.ac8=function(I){if($.TU(this.Ul.Z))return;I.stopPropagation();var k=this.kp.Z.getBoundingClientRect();
this.Ul.Z.appendChild(this.lW);var a=new d2(M.E.b,!0);a.data={q:M.p.ut,zM:this.Ul,x:k.right+k.width-290,y:k.top+k.height};
this.a(a)};ke.LqFy.prototype.Bf=function(I){this.Lc=I.W(as.dE);var k=E.dX.JG(this._G,I);if(k!=null){this._G=k;
this.es();this.GC[0].j(k.Brsh.v.Dmtr.v.val)}else if(I.W(as.nU)&&I.W(as.AB)){var a=this.mO;if(I.W(as.bJ)){if(this.gb+1<a.length)this.gb++}else if(this.gb>0)this.gb--;
this.q6.map=a[this.gb].slice(0);this.lX(null)}else if(this.S<=6)this.view.Bf(I);var n=this.S,s=-1,C=I.W(as.dE);
if(C&&this.m1==-1){if(n==0)s=1;if(n==4)s=5;if(n==5)s=4;if(s!=-1)this.m1=n}if(!C&&this.m1!=-1){s=this.m1;
this.m1=-1}if(s!=-1){this.S=s;this.cN.Na(this.S)}};ke.LqFy.prototype.O7=function(I){if(I.data.q==M.p.$g){var k=this.S=I.data.S;
this.cN.Na(this.S);this.view.Bf(k>6?dq.sp(k-7):new as)}};ke.LqFy.prototype.aEU=function(I){var k=I.currentTarget,Y=this.GC.indexOf(k),a=this._G.Brsh.v;
if(Y==0){a.Dmtr.v.val=k.l();this.es()}this.GC[4].wl(this.GC[3].l());if(Y>2)this.lX(null)};ke.LqFy.prototype.e7=function(){var I=this.mO;
this.gb++;I[this.gb]=this.q6.map.slice(0);while(I.length>this.gb+1)I.pop();while(I.length>50){I=I.slice(1);
this.gb--}};ke.LqFy.prototype.e_=function(I){this.fy=this.view.Ah();this.aBT=new kK(0,0);this.EH=!0;
window.requestAnimationFrame(this.arF)};ke.LqFy.prototype.vC=function(I){var k=this.view.Ah(),a=new kK(k.x-this.fy.x,k.y-this.fy.y);
if(this.S==0||this.S==6)this.aqO(a);this.fy=k};ke.LqFy.prototype.RG=function(I){this.e7();this.EH=!1};
ke.LqFy.prototype.mt=function(I){if(this.S!=0&&this.S!=6)this.aqO(new kK(0,0));if(this.EH)window.requestAnimationFrame(this.arF)};
ke.LqFy.prototype.aqO=function(I){var k=this.q6,a=k.Qq/this.dU.Q,n=this.fy,s=this._G.Brsh.v,C=s.Dmtr.v.val,T=Date.now(),S=k.Qq,D=k.L4,o=Math.sqrt(I.x*I.x+I.y*I.y),v=Math.max(1,Math.ceil(o/2)),g=I.x/v,d=I.y/v,R=n.clone(),c=this.S,e=this.GC[1].l()/100,O=this.GC[2].l()/100,U=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],K=U[c*2],_=U[c*2+1],Z=(1-e)*K+e*_,H=C*a/2;
for(var Y=0;Y<v;Y++){var G=[];R.x+=g;R.y+=d;j.GI.atH(k.map,S,D,c,R.x*a,R.y*a,H,e,O,g*a,d*a,G,this.Lc);
j.GI.a1u(S,D,k.map,G,2*Z*O)}var N=new eZ(0,0,S,D),z=new eZ(n.x*a,n.y*a,0,0);z.CJ(C*a*.5,C*a*.5);var L=z.clone();
L.offset(I.x*a,I.y*a);z=z.oL(L);var p=new eZ(z.x/a,z.y/a,z.Q/a,z._/a);p=j.X.aj(p).LU(this.dU);this.GC[5].j(!0);
this.lX(p)};ke.LqFy.prototype.es=function(){var I=kN.fL(this._G,null,this.view.DF().F);this.view.lt(I)};
ke.LqFy.prototype.j=function(I,k,a,n,s){a=a.clone();if(k==null)return;if(!n.a$(a)){var C=a.oL(n),T=j.U(C.c()*4);
j.ao(k,a,T,C);k=T;a=C;var S=j.U(C.c()*4);j.ao(s,n,S,C);s=S}a.x=a.y=0;this.o$=k;this.akw=s;this.h9=k.slice(0);
this.pA=k.slice(0);this.dU=a;this.q6=fc.SF(new Uint8Array(I.LqMe.v).buffer);var D=a.Q,o=a._;if(this.q6.Qq/D<.22){this.q6={Qq:Math.floor(D/4),L4:Math.floor(o/4)};
this.q6.map=new Float32Array(this.q6.Qq*this.q6.L4*2)}this.mO=[];this.gb=-1;this.e7();this.lX(null);
this.view.wF(!0);this.es()};ke.LqFy.prototype.l=function(){var I=gJ.nI("LqFy"),k=new Uint8Array(fc.OM(this.q6)),a=[];
for(var Y=0;Y<k.length;Y++)a.push(k[Y]);I.LqMe.v=a;return I};ke.LqFy.prototype.bb=function(I,k){this.cN.bb(I,k);
var a=this.kp.Z,n=this.lW;this.sN.appendChild(n);this.sN.appendChild(a);if(I>450&&I-k>200){n.style.marginLeft="1em";
this.sN.removeChild(a);this.view.bb(I-238-45,k)}else{n.style.marginLeft="";this.sN.removeChild(n);this.view.bb(I-40,k)}};
ke.LqFy.prototype.k=function(){this.cN.k();this.aox.k();for(var Y=0;Y<this.GC.length;Y++)this.GC[Y].k()};
ke.LqFy.prototype.vr=function(){this.q6.map.fill(0);this.e7();this.lX(null)};ke.LqFy.prototype.lX=function(I){var k=this.dU,a=this.o$,n=this.h9,s=this.q6;
if(this.GC[5].l())j.GI.cL(a,this.pA,k.Q,k._,I,s.map,s.Qq,s.L4,0);else this.pA.set(a);if(this.GC[3].D6()){j.ao(this.akw,k,n,k,I?I:k);
j.z.Pf("norm",this.pA,k,n,k,I?I:k,this.GC[4].l()/100)}else j.ed(this.pA,n);this.view.j([{e3:k,data:n.buffer}])};
ke.GEfc=function(){ke.call(this,"GEfc");this.CF=0;this.OF=0;this.o$=null;this.h9=null;this.dU=null;this.wY=null;
this.M4=null;this.CO=0;this.Kd=null;this.Dg=null;var I=$.I("div","flexrow");this.sN=I;this.Z.appendChild(I);
this.view=new dq(null);this.view.bb(100,100);I.appendChild(this.view.Z);this.qn="";this.cc=270;var k=this.gn=$.I("div","form scrollable");
I.appendChild(k);k.setAttribute("style","width:"+this.cc+"px;");var a=this.YJ=$.I("div","form");I.appendChild(a);
a.setAttribute("style","width:230px;  margin:0 10px");this.A5={};for(var n in gr.names){var s=new ke.GEfc.aU(n);
s.parent=this;this.A5[n]=s;s.O(M.E.B,this.aEk,this)}this.r7=!0;this.kp=new iP("Menu",null,null,!0);this.kp.O("click",this.a6R,this);
I.appendChild(this.kp.Z);this.uD=new iP(">>",null,null,!0);this.uD.O("click",this.aBb,this);a.appendChild(this.uD.Z);
this.M9=$.I("div");this.M9.setAttribute("style","margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
a.appendChild(this.M9);this.do=$.I("div");this.do.style.minHeight="14em";this.do.style.marginBottom="1em";
a.appendChild(this.do);this.x$=$.I("div","lpbody scrollable");this.ud=$.I("div","lpfoot");a.appendChild(this.x$);
a.appendChild(this.ud);this.O("click",this.agz,this);this.M$=[];a9.C6([[5,3],[5,4]],this.M$,this.ud,this.hF.bind(this))};
ke.GEfc.prototype=new ke;ke.GEfc.prototype.S6=function(){return!0};ke.GEfc.prototype.vs=function(I){this.M9.appendChild(I)};
ke.GEfc.prototype.wu=function(I,k){this.wY=I;if(I.MW==I.U2)alert("Your foreground and a background color are identical.",4e3)};
ke.GEfc.prototype.aBb=function(I){var k=this.gn.style.display!="none";this.gn.style.display=k?"none":"";
this.uD.jO(k?"<<":">>");this.bb()};ke.GEfc.prototype.a6R=function(I){this.r7=!this.r7;this.bb()};ke.GEfc.prototype.bb=function(I,k){var a=this.gn.style.display!="none";
if(I!=null){this.CF=I;this.OF=k;if(I<1e3&&a||I>=1e3&&!a){this.aBb();a=!a}this.r7=I>600}else{I=this.CF;
k=this.OF}var n=this.r7?250+(a?this.cc:0):0;if($.TU(this.YJ)&&!this.r7){this.sN.removeChild(this.gn);
this.sN.removeChild(this.YJ)}if(!$.TU(this.YJ)&&this.r7){this.sN.appendChild(this.gn);this.sN.appendChild(this.YJ)}this.gn.style.height=k+"px";
this.view.bb(I-n,k);this.x$.style.height=k-Math.max(this.do.getBoundingClientRect().height,186)-96+"px";
this.kp.Z.setAttribute("style","position:absolute; top:46px;  right:"+(n+16)+"px")};ke.GEfc.prototype.a14=function(){var I=kk.B5.get("img/beach",!0)[0],k=I.e3,a=this.gn,n=Math.floor($.Y()*(this.cc-40)/3),s=~~(n*.7),C=new eZ(0,0,n,s),T=j.U(n*s*4),S=T.slice(0),D=Math.round(10*$.Y()),o=new ImageData(new Uint8ClampedArray(S.buffer),n,s);
j.ao(new Uint8Array(I.data),k,T,new eZ(Math.round((k.Q-n)/2),Math.round((k._-s)/2),n,s));var v=$.I("canvas"),g=v.getContext("2d");
v.width=n;v.height=s+Math.round(D*1.5);g.font=D+"px sans-serif";this.Kd={};$.GD(a);var d=this.a5K.bind(this);
for(var Y=0;Y<gr.jv.length;Y++){var R=gr.jv[Y],c=$.I("div");a.appendChild(c);c.setAttribute("style","background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
c.textContent=hJ.get(R);for(var e in gr.names){var O=gr.names[e];if(O[0]!=Y)continue;gr.uq(e,{rect:C,buffer:T},gr.nI(e),{$:0,H:0,J:0},{$:255,H:255,J:255},{rect:C,buffer:S},{});
g.fillStyle="black";g.fillRect(0,0,500,500);g.putImageData(o,0,0);var U=hJ.get(O[1]);g.fillStyle="white";
g.fillText(U,(n-g.measureText(U).width)/2,s+Math.round(D*1.1));var K=$.I("div");a.appendChild(K);K.setAttribute("style","display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
K.addEventListener("click",d,!1);var c=$.I("img");K.appendChild(c);c.setAttribute("src",v.toDataURL());
c.setAttribute("style","width:"+n/$.Y()+"px; margin-bottom:0px;");this.Kd[e]=K}}};ke.GEfc.prototype.a5K=function(I){var k;
for(var a in this.Kd)if(this.Kd[a]==I.currentTarget)this.qn=a;this.aEk()};ke.GEfc.prototype.hF=function(I){var k=a9.qi(this.M$,I),a=this.M4.GEfs.v,n=a[this.CO].v;
if(k==0){a.push(JSON.parse(JSON.stringify(a[this.CO])));this.CO=a.length-1}else if(a.length>1){a.splice(this.CO,1);
if(this.CO==a.length)this.CO--}this.pv();this.lX()};ke.GEfc.prototype.aEk=function(I){var k=this.qn,a;
if(I==null)a=gr.nI(k);else a=this.A5[k].l();this.M4.GEfs.v[this.CO].v=a;this.pv();this.lX()};ke.GEfc.prototype.j=function(I,k,a,n,s){var C=hJ.get([24,0]);
if(this.Kd==null||C!=this.Dg)this.a14();this.Dg=C;I=this.M4=JSON.parse(JSON.stringify(I));if(I.GEfs==null)I=this.M4={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:I}]}};
var T=I.GEfs.v;for(var Y=0;Y<T.length;Y++)if(T[Y].v.GELv==null)T[Y].v.GELv={t:"bool",v:!0};this.CO=T.length-1;
this.pv();a=a.clone();if(k==null)return;if(!n.a$(a)&&gr.iw(I).x!=0){var S=a.oL(n),D=j.U(S.c()*4);j.ao(k,a,D,S);
k=D;a=S}a.x=a.y=0;this.o$=k;this.h9=k.slice(0);this.dU=a;this.lX();this.view.wF()};ke.GEfc.prototype.agz=function(I){var k=I.data,Y=k.Gq,a=this.M4.GEfs.v;
if(k.bU){a[Y].v.GELv.v=!a[Y].v.GELv.v;this.lX()}else this.CO=Y;this.pv()};ke.GEfc.prototype.pv=function(){var I=this.M4.GEfs.v,k=I[this.CO].v,a=k.GEfk.v.GEft,n=this.do;
if(gr.names[a]==null){alert("Unsupported gallery filter");$.GD(n)}else{this.qn=a;for(var s in this.Kd)$.St(this.Kd[s],"selected");
$.fO(this.Kd[a],"selected");var C=this.A5[a];C.j(k);if(n.firstChild!=C.Z){$.GD(n);n.appendChild(C.Z)}}var T=[];
for(var Y=0;Y<I.length;Y++){var S=I[Y].v,D=gr.names[S.GEfk.v.GEft],o=new j6(Y,!0,!0,null,D?D[1]:"Filter",Y==this.CO,S.GELv.v);
o.parent=this;T.push(o.Z)}$.GD(this.x$);T.reverse();for(var Y=0;Y<T.length;Y++)this.x$.appendChild(T[Y]);
this.bb()};ke.GEfc.prototype.l=function(){return JSON.parse(JSON.stringify(this.M4))};ke.GEfc.prototype.lX=function(I){var k=this.dU,a=this.o$,n=this.h9,s=this.qn,C=this.M4,T=this.wY;
function S(D){return{$:D>>>16,H:D>>>8&255,J:D&255}}gJ.uq("GEfc",{rect:this.dU,buffer:this.o$},C,S(T.MW),S(T.U2),{rect:this.dU,buffer:this.h9},null);
this.view.j([{e3:k,data:n.buffer}])};ke.GEfc.prototype.k=function(){for(var I in this.A5)this.A5[I].k();
a9.jG(this.M$,["lrs/newlayer","lrs/bin"])};ke.GEfc.aU=function(I){gB.call(this);this.qo=I;this.Z=$.I("div");
this.BK={};var k=gr.nI(I);for(var a in k){var n=null;if(a=="__name"||a=="classID"||a=="GEfk"||a=="GELv"||["FlRs"].indexOf(a)!=-1)continue;
else if(a=="EdgW")n=new f7("Edge Width",1,14);else if(a=="EdgB")n=new f7("Edge Brightness",0,I=="AccE"?50:20);
else if(a=="Smth")n=new f7([19,3,3],1,I=="Stmp"?50:15);else if(a=="ClSz")n=new f7([12,61],3,100);else if(a=="BrdT")n=new f7([7,9],1,20);
else if(a=="HghS")n=new f7([12,64],0,20);else if(a=="HlSz")n=new f7([12,14,0],1,15);else if(a=="Cntr")n=new f7([12,3,0],0,I=="WtrP"?100:50);
else if(a=="Shrp")n=new f7("Sharpness",0,40);else if(a=="SprR")n=new f7("Spray Radius",0,25);else if(a=="LgDr")n=new f7("Light/Dark Balance",0,I=="Stmp"?50:100);
else if(a=="Drkn")n=new f7("Darkness",1,50);else if(a=="Dstr")n=new f7("Distortion",0,20);else if(a=="Scln")n=new f7([12,38],50,200);
else if(a=="Rlf")n=new f7("Relief",0,I=="Ptch"||I=="NtPr"?25:50);else if(a=="ChAm")n=new f7("Thickness",1,7);
else if(a=="Pncl")n=new f7([19,2,5],1,30);else if(a=="StrP")n=new f7("Stroke Pressure",0,15);else if(a=="PprB")n=new f7("Paper Brightness",0,50);
else if(a=="BrsS")n=new f7("Brush Size",0,10);else if(a=="BrsD")n=new f7("Brush Detail",0,10);else if(a=="Txtr")n=new f7([12,67],1,3);
else if(a=="Grn")n=new f7("Grain",0,20);else if(a=="HghA")n=new f7("Highlight Area",0,20);else if(a=="Intn")n=new f7("Intensity",0,10);
else if(a=="Brgh")n=new f7("Glow Brightness",0,I=="WtrP"?100:50);else if(a=="StrS")n=new f7("Stroke Size",1,50);
else if(a=="StDt")n=new f7("Stroke Detail",1,3);else if(a=="Sftn")n=new f7("Softness",0,10);else if(a=="EdgT")n=new f7("Edge Thickness",0,10);
else if(a=="EdgI")n=new f7("Edge Intensity",0,10);else if(a=="Pstr")n=new f7("Posterization",0,6);else if(a=="Dfnt")n=new f7("Definition",0,25);
else if(a=="TxtC")n=new f7("Texture Coverage",0,50);else if(a=="ShdI")n=new f7("Shadow Intensity",0,10);
else if(a=="DrcB")n=new f7("Direction Balance",0,100);else if(a=="Strg")n=new f7([12,64],1,3);else if(a=="Blnc")n=new f7("Balance",0,10);
else if(a=="BlcI")n=new f7("Black Intensity",0,10);else if(a=="WhtI")n=new f7("White Intensity",0,10);
else if(a=="DrkI")n=new f7("Dark Intensity",0,50);else if(a=="LghI")n=new f7("Light Intensity",0,50);
else if(a=="StrW")n=new f7("Stroke Width",3,15);else if(a=="Grns")n=new f7("Graininess",0,I=="NtPr"?20:10);
else if(a=="GlwA")n=new f7("Glow Amount",0,20);else if(a=="ClrA")n=new f7("Clear Amount",0,20);else if(a=="ChrA")n=new f7("Charcoal Area",0,20);
else if(a=="ChlA")n=new f7("Chalk Area",0,20);else if(a=="FrgL")n=new f7("Foreground Level",1,15);else if(a=="BckL")n=new f7("Background Level",1,15);
else if(a=="WhtL")n=new f7("Background Level",0,50);else if(a=="BlcL")n=new f7("Foreground Level",0,50);
else if(a=="ImgB")n=new f7("Image Balance",0,50);else if(a=="Dnst")n=new f7([12,74],0,50);else if(a=="FbrL")n=new f7("Fiber Length",3,50);
else if(a=="CrcS")n=new f7("Crack Spacing",2,100);else if(a=="CrcD")n=new f7("Crack Depth",0,10);else if(a=="CrcB")n=new f7("Crack Brightness",0,10);
else if(a=="TlSz")n=new f7("Tile Size",2,100);else if(a=="GrtW")n=new f7("Grout Width",1,15);else if(a=="LghG")n=new f7("Lighten Grout",0,10);
else if(a=="SqrS")n=new f7("Square Size",0,10);else if(a=="RplS")n=new f7("Ripple Size",1,15);else if(a=="RplM")n=new f7("Ripple Magnitude",0,20);
else if(a=="NmbL")n=new f7("Number of Levels",2,8);else if(a=="EdgS")n=new f7("Edge Simplicity",0,10);
else if(a=="EdgF")n=new f7("Edge Fidelity",1,3);else if(a=="Sz")n=I=="NGlw"?new f7("Glow Size",-24,24):new f7("Brush Size",1,50);
else if(a=="Dtl")n=I=="Chrc"?new f7("Detail",0,5):new f7("Detail",1,15);else if(a=="StrL")n=I=="InkO"?new f7("Stroke Length",1,50):new f7("Stroke Length",0,20);
else if(a=="TxtT")n=new fB([12,67],"Blocks,Canvas,Frosted,Tiny Lens,Bricks,Burlap,Sandstone".split(","));
else if(a=="BrsT")n=new fB("Brush Type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(a=="Grnt")n=new fB("Grain Type","Regular Soft Sprinkles Clumped Contrasty Enlarged Stippled Horizontal Vertical Speckle".split(" "));
else if(a=="SDir")n=new fB([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(a=="ScrT")n=new fB([12,62],["Circle","Dot",[10,35]]);
else if(a=="LghD"||a=="LghP")n=new fB("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(a=="Clr")n=new ek("Glow Color");else if(a=="InvT")n=new dI([4,11]);else console.log(a);n.O(M.E.B,this.Rb,this);
n.parent=this;this.BK[a]=n;this.Z.appendChild(n.Z)}};ke.GEfc.aU.prototype=new gB;ke.GEfc.aU.prototype.Rb=function(I){this.a(new d2(M.E.B,!1))};
ke.GEfc.ala="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
ke.GEfc.aU.prototype.j=function(I){for(var k in this.BK){var a;if(ke.GEfc.ala.indexOf(k)!=-1)a=I[k].v;
else if(k=="TxtT")a=gr.qA.indexOf(I[k].v[k]);else if(k=="BrsT")a=gr.axw.indexOf(I[k].v[k]);else if(k=="LghD")a=gr.Nb.indexOf(I[k].v[k]);
else if(k=="LghP")a=gr.Y4.indexOf(I[k].v[k]);else if(k=="Grnt")a=gr.Qb.indexOf(I[k].v[k]);else if(k=="ScrT")a=gr.Qo.indexOf(I[k].v[k]);
else if(k=="SDir")a=gr.UK.indexOf(I[k].v.StrD);this.BK[k].j(a)}};ke.GEfc.aU.prototype.l=function(){var I=gr.nI(this.qo);
for(var k in this.BK){var a=this.BK[k].l();if(ke.GEfc.ala.indexOf(k)!=-1)I[k].v=a;else if(k=="TxtT")I[k].v[k]=gr.qA[a];
else if(k=="BrsT")I[k].v[k]=gr.axw[a];else if(k=="LghD")I[k].v[k]=gr.Nb[a];else if(k=="LghP")I[k].v[k]=gr.Y4[a];
else if(k=="Grnt")I[k].v[k]=gr.Qb[a];else if(k=="ScrT")I[k].v[k]=gr.Qo[a];else if(k=="SDir")I[k].v.StrD=gr.UK[a]}return I};
ke.GEfc.aU.prototype.k=function(){for(var I in this.BK)this.BK[I].k()};ke["Adobe Camera Raw Filter"]=function(I){ke.call(this,"Adobe Camera Raw Filter");
var k=this.Z;this.aBy=I;this.Es=null;this.Zq=null;this.xE=1e3;this.v$=null;this.k6=null;$.fO(k,"flexrow");
var a=$.I("div"),n=$.I("div","padded");k.appendChild(a);k.appendChild(n);this.vE=new dq;this.vE.O("zoom",this.lX,this);
a.appendChild(this.vE.Z);this.rP=new aJ(225);this.rP.oW(4);n.appendChild(this.rP.Z);this.nZ=$.I("div");
this.nZ.setAttribute("style","width:18em;");n.appendChild(this.nZ);this.ai$=new gv("Hi",!0);this.nZ.appendChild(this.ai$.Z);
this.k4=$.I("div","scrollable");this.nZ.appendChild(this.k4);this.BK=[new f7("Temperature",-100,100),new f7("Tint",-100,100),new f7([4,3],-4,4,null,!0),new f7([12,3,0],-100,100),new f7([4,4],-100,100),new f7([12,9],-100,100)];
this.mX="Temp Tint Ex12 Cr12 Vibr Strt".split(" ");for(var Y=0;Y<this.BK.length;Y++){var s=this.BK[Y];
s.j(0);s.O(M.E.B,this.lX,this);this.k4.appendChild(s.Z);if(Y==1||Y==3)this.k4.appendChild($.I("hr"))}};
ke["Adobe Camera Raw Filter"].prototype=new ke;ke["Adobe Camera Raw Filter"].prototype.S6=function(){return!0};
ke["Adobe Camera Raw Filter"].prototype.vs=function(I){this.nZ.appendChild(I)};ke["Adobe Camera Raw Filter"].prototype.wu=function(I,k){this.rP.c1(kn.ZW[I.DU]["--text-color"])};
ke["Adobe Camera Raw Filter"].prototype.j=function(I,k,a,n,s){this.M4=I;var C=a.Q,T=a._,S=C*T;this.ai$.j(C+" x "+T+", "+(C*T/1e6).toFixed(1)+" MPx");
this.dU=a;this.v$=new Float32Array(C*T*3);this.k6=new Uint8Array(C*T*4);this.k6.fill(255);if(k instanceof Float32Array)this.Es=k;
else{var D=this.Es=new Float32Array(C*T*3);for(var Y=0;Y<S;Y++){var o=Y*3,v=Y*4;D[o+0]=k[v+0]*(1/255);
D[o+1]=k[v+1]*(1/255);D[o+2]=k[v+2]*(1/255)}}this.Zq=[{GG:this.Es,rect:a.clone()}];this.xE=1e3;var g=this.Es;
while(C>1&&T>1){var d=C,R=d*3;C=C>>>1;T=T>>>1;var c=g,g=new Float32Array(C*T*3);this.Zq.push({GG:g,rect:new eZ(0,0,C,T)});
for(var e=0;e<T;e++)for(var O=0;O<C;O++){var o=(e*C+O)*3,U=(e*2*d+O*2)*3,K=U+R;g[o]=.25*(c[U]+c[U+3]+c[U+R]+c[U+R+3]);
g[o+1]=.25*(c[U+1]+c[U+4]+c[U+R+1]+c[U+R+4]);g[o+2]=.25*(c[U+2]+c[U+5]+c[U+R+2]+c[U+R+5])}}var _=this.mX;
for(var Y=0;Y<_.length;Y++){var Z=_[Y];this.BK[Y].j(I[Z]?I[Z].v:0)}this.vE.j([{e3:a,data:this.k6.buffer}]);
this.vE.wF();this.lX(null)};ke["Adobe Camera Raw Filter"].prototype.l=function(I){if(I){this.lX(null,!0);
return this.k6}return JSON.parse(JSON.stringify(this.M4))};ke["Adobe Camera Raw Filter"].prototype.a7B=function(){this.Es=null;
this.v$=null;this.Zq=null;this.k6=null};ke["Adobe Camera Raw Filter"].prototype.lX=function(I,k){if(I&&this.BK.indexOf(I.target)!=-1){this.xE=1e3;
var a=this.mX;for(var Y=0;Y<a.length;Y++){var n=a[Y];this.M4[n]={t:n=="Ex12"?"doub":"long",v:this.BK[Y].l()}}}var s=this.vE.DF().F,C=0;
while(s*2<=1&&!k){s*=2;C++}if(this.xE<=C)return;this.xE=C;var T=this.dU,S=this.a37(this.Es,T,this.v$,this.M4,this.aBy,this.k6,C);
this.rP.j(S);this.vE.j([{e3:T,data:this.k6.buffer}])};ke["Adobe Camera Raw Filter"].prototype.a37=function(I,k,a,n,s,C,T){var S=I,D=a,o=C,v=k.Q,g=k._,d=T!=0;
if(d){var R=this.Zq[T];S=R.GG;v=R.rect.Q;g=R.rect._;D=new Float32Array(v*g*3);o=j.U(v*g*4)}gU(S,v,g,D,n,s);
var c=Date.now(),e=v*g;for(var Y=0;Y<e;Y++){var O=Y*3,U=Y*4;o[U+0]=~~(.5+D[O+0]*255);o[U+1]=~~(.5+D[O+1]*255);
o[U+2]=~~(.5+D[O+2]*255);o[U+3]=255}console.log(Date.now()-c,"integer conversion");c=Date.now();var K=j.I3(o,Math.max(1,Math.floor(e/2e5)));
console.log(Date.now()-c,"histogram done");c=Date.now();if(d){var _=new Uint32Array(o.buffer),Z=new Uint32Array(C.buffer),H=k.Q,G=k._;
for(var N=0;N<G;N+=2)for(var z=0;z<H;z+=2){var O=N*H+z,L=_[(N>>>T)*v+(z>>>T)];Z[O]=L;Z[O+1]=L;Z[O+H]=L;
Z[O+H+1]=L}console.log(Date.now()-c,"upscale");c=Date.now()}return K};ke["Adobe Camera Raw Filter"].prototype.bb=function(I,k){this.azg=I-248;
this.a2f=k;this.vE.bb(this.azg,this.a2f);this.k4.style.height=k-236+"px"};ke["Adobe Camera Raw Filter"].prototype.k=function(){for(var Y=0;
Y<this.BK.length;Y++)this.BK[Y].k()};ke.VaPo=function(){ke.call(this,"VaPo");this.S=-1;this.Yy=null;
this.jQ=!1;this.jF=null;this.fM=null;this.WW=null;this.z7=null;this.Xm=null;this.in=null;this.ML=null;
this.Gk=null;this.Q4=null;this.NH=null;this.ry=null;this.mO=[];this.gb=-1;this.T=null;this.L={n7:[[{S:{id:0,name:"Move",vZ:"tools/move"}}],[{S:{id:1,name:"Create Plane",vZ:"tools/pcrop"}}],[{S:{id:2,name:"Marquee",vZ:"tools/rselect"}}],[{S:{id:3,name:"Stamp",vZ:"tools/clone"}}],[{S:{id:4,name:"Brush",vZ:"tools/brush"}}],[{S:{id:5,name:"Transform",vZ:"tools/transform"}}],[{S:{id:6,name:"Hand",vZ:"tools/hand"}}],[{S:{id:7,name:"Zoom In",vZ:"zoomIn"}}],[{S:{id:8,name:"Zoom Out",vZ:"zoomOut"}}]],keys:[as.xb,as.E5,as.U$,as.Z7,as.eW,as.qj,as.y2,as.AB]};
this.cN=new c0(this.L,!1);this.cN.O(M.E.b,this.O7,this);this.rC=null;this.dU=null;this.o$=null;this.ab2=null;
this.h9=null;this.ct=null;var I=$.I("div","flexrow"),n=0;this.sN=I;this.Z.appendChild(I);I.appendChild(this.cN.Z);
var k=$.I("div");I.appendChild(k);var top=$.I("div","form");k.appendChild(top);top.setAttribute("style","padding-left:8px; height:30px;");
this.Rs=$.I("span");top.appendChild(this.Rs);this.nP=[[new fM([12,80,5],1,1e3)],[new fM([7,6],0,30)],[new fM([12,14],1,200),new fM([12,17],0,100),new fM([12,0],0,100),new dI([12,75])],[new fM([12,14],1,200),new fM([12,17],0,100),new fM([12,0],0,100),new ek],[new dI("Flip"),new dI("Flop")],[]];
var a=[100,0,100,100,100,!1,100,100,100,JSON.parse(fY.vq.Ta.slice(6)).v];this.cK=[];for(var Y=0;Y<6;
Y++){var s=$.I("span"),C=this.nP[Y];this.cK.push(s);for(var T=0;T<C.length;T++){var S=C[T];S.parent=this;
S.j(a[n++]);S.O(M.E.B,this.a3A,this);s.appendChild(S.Z)}}this.zv=$.I("div");this.zv.setAttribute("style","display:inline-block;float:right; width:100px;");
top.appendChild(this.zv);this.view=new dq(!0);this.view.bb(100,100);this.view.lt("auto");this.view.O("mousedown",this.e_,this);
this.view.O("mousemove",this.vC,this);this.view.O("mouseup",this.RG,this);$.YU(this.view.g8,this.B_.bind(this));
k.appendChild(this.view.Z)};ke.VaPo.prototype=new ke;ke.VaPo.prototype.S6=function(){return!0};ke.VaPo.prototype.vs=function(I){this.zv.appendChild(I)};
ke.VaPo.prototype.a3A=function(I){if(I.target==this.nP[0][0]){var k=this.so(),a=I.target.l();for(var Y=0;
Y<this.T.length;Y++)if(this.T[Y].length!=0&&k[Y])k[Y][0]=a;this.E3(k)}if(this.S==5){this.rC=this.fg();
this.lX(!0)}this.lX()};ke.VaPo.prototype.Bf=function(I){var k=this.S,a=this.fM;if(k==3||k==4){var n=this.nP[k-1],s=kJ.Nf(),C=s.Brsh.v;
C.Dmtr.v.val=n[0].l();C.Hrdn.v.val=n[1].l();s=E.dX.JG(s,I);if(s){C=s.Brsh.v;n[0].j(C.Dmtr.v.val);n[1].j(C.Hrdn.v.val)}this.es()}if(k==1&&a&&(I.W(as.Zf)||I.W(as.QE))){a.pop();
a.pop();if(a.length==0)a=this.fM=null;this.lX()}function T(v,Y,c){j.ao(v[Y],v[0],c.o$,c.dU);c.ll(v[0])}this.jF=I;
if(k<6)this.view.Bf(I);var S=I.W(as.nU);if(S){var D=this.gb,o=0;if(I.W(as.AB)){if(I.W(as.bJ))o=1;else o=-1}else if(I.W(as.fc))o=1;
if(o!=0&&k!=5){console.log(this.gb,o,this.mO);var v=this.mO[this.gb],g=!1;if(v.length==3&&o==-1){T(v,1,this);
g=!0}D+=o;this.gb=Math.max(0,Math.min(this.mO.length-1,D));v=this.mO[this.gb];if(v.length==3&&o==1){T(v,2,this);
g=!0}this.lX(g)}if(I.W(as.xb)){if($.RI())ji.ad5(this.$N.bind(this))}if(I.W(as.hW)){this.Xm=null;this.lX()}}else{var d=this.L.keys;
for(var Y=0;Y<d.length;Y++)if(I.W(d[Y]))this.Na(Y)}if(I.W(as.QE)||I.W(as.Zf)){var R=this.so();R=j.cy.acH(R,this.T);
this.T=[];for(var Y=0;Y<R.length;Y++)this.T[Y]=[];this.E3(R);this.lX()}};ke.VaPo.prototype.$N=function(I){if(I=="granted")ji.WA(this,this.VM.bind(this))};
ke.VaPo.prototype.VM=function(I,k){var a=this.so();if(a.length==0){alert("Make a plane before pasting an image");
return}if(this.z7==null)this.z7=[0,0];if(this.S==5)this.Na(0);this.Na(5,{b6:I,Sq:k})};ke.VaPo.prototype.O7=function(I){if(I.data.q==M.p.$g){this.Na(I.data.S)}};
ke.VaPo.prototype.abN=function(I){var k=this.view.Ah(I),a=j.cy.d6(this.so(),this.T),n=1e9,s=0;for(var Y=0;
Y<a.length;Y++){var C=a[Y][0],T=k.x-C[0],S=k.y-C[1],D=Math.sqrt(T*T+S*S);if(D<n){n=D;s=Y}}if(n>4*$.Y()/this.view.DF().F)return null;
return a[s]};ke.VaPo.prototype.B_=function(I){var k=this.S,a=this.fM;if(k<2&&!this.jQ){var n=this.Yy=this.abN(I),s=this.so(),C="auto";
if(k==0&&j.cy.d0(s,n)){var T=s[n[1]][1][n[2]],S=T[5+{1:0,5:1,7:2,3:3}[n[3]]],D=S[0],o=S[1];C=hZ.a22(D[1]-o[1],-D[0]+o[0])}if(j.cy.ax6(s,n))C="crosshair";
this.view.lt(C)}if(a){var v=this.view.Ah(I),g=a.slice(0);a[a.length-2]=v.x;a[a.length-1]=v.y;this.lX()}this.es(I);
if(k==5&&!this.jQ&&this.OL){var v=this.view.Ah(I),s=this.so(),d=j.cy.p8(s,v.x,v.y,this.Eo());if(d){var R=new kK(d[2][0],d[2][1]),c=j.cy.gB(s,s[d[0]][1][d[1]],this.Eo()),e=c[1],O=j.t.UX(c[0],e),U=[e.x+e.Q/2,e.y+e._/2];
j.t.h(O,U);var K=v.x-U[0],_=v.y-U[1],Z=this.OL.Fx(R,this.view.DF().F,null,null,Math.atan2(-_,-K));this.view.lt(Z?Z:"default")}}};
ke.VaPo.prototype.es=function(I){var k=this.S,a=this.jF;if((k==3||k==4)&&!this.jQ){var n=I?this.view.Ah(I):this.oA,s=this.so();
this.oA=n;if(n==null)return;var C=j.cy.p8(s,n.x,n.y,this.Eo());if(C){if(k==3&&this.ry&&this.nP[2][3].l()){var T=new kK(C[2][0],C[2][1]);
this.NH=T.Sm(this.ry);this.lX()}if(k==3&&(this.NH==null||a&&(a.W(as.dE)||a.W(as.RA)))){if(this.rC){this.ct=null;
this.ll(this.rC);this.lX(!0,this.rC)}return}this.acS(C,this.rC)}}};ke.VaPo.prototype.Eo=function(){return[this.dU.Q/2,this.dU._/2]};
ke.VaPo.prototype.e_=function(I){this.jQ=!0;var k=this.S,a=this.fM,n=this.so(),s=this.jF,C=this.Yy=this.abN(null),T=this.view.Ah(),S=j.cy.p8(n,T.x,T.y,this.Eo()),D=S?new kK(S[2][0],S[2][1]):null;
if(j.cy.ax6(n,C)){var o=n[C[1]][1][C[2]];n.splice(C[1],1);this.T.splice(C[1],1);a=j.cy.azM(o);var v=-1,T=C[0];
for(var Y=0;Y<8;Y+=2){var g=a[Y]-T[0],d=a[Y+1]-T[1];if(g*g+d*d<1e-5)v=Y}v=v+2&7;a=this.fM=a.slice(v).concat(a.slice(0,v));
this.E3(n)}else if(j.cy.d0(n,C)){if(k==1||s&&s.W(as.nU)){n=j.cy.aoV(n,C,this.Eo());this.E3(n);C[2]=n[C[1]][1].length-1;
C[3]=8+(C[3]+4&7);this.T[C[1]].push(C[2]);this.E3(n,!0);this.Na(0)}else this.E3(this.so(n))}else if(k==0){var R=[];
for(var Y=0;Y<n.length;Y++)R.push([]);if(S){if(s&&s.W(as.bJ))R=this.T;var c=R[S[0]].indexOf(S[1]);if(c==-1)R[S[0]].push(S[1]);
else R[S[0]].splice(c,1)}this.T=R;this.E3(n,!0);this.lX()}else if(k==2){if(S){var e=this.Xm;if(e&&e.oi(D)){if(s)if(s.W(as.dE)||s.W(as.nU)){this.Na(5);
this.e_(I);return}this.in=new kK(D.x-e.x,D.y-e.y)}else{this.WW=S[2].concat(S[2]);this.z7=S}}}else if(k==3||k==4){if(k==3){if(s&&(s.W(as.dE)||s.W(as.RA))){if(S){this.NH=D;
this.Gk=D.clone();this.ry=null;this.Q4=S;this.lX()}else alert("You must click into a plane");this.jQ=!1;
return}else if(this.NH==null){alert(hJ.get([15,7,0]));this.jQ=!1;return}else if(S){var O=this.ry=D.Sm(this.NH)}}if(S){this.acS(S)}}else if(k==5){if(S){var U=new kK(S[2][0],S[2][1]),K=this.OL.Vr({w:this.view.DF()},{},s,U)}}};
ke.VaPo.prototype.acS=function(I,k){var a=this.ct;if(a==null)this.ct=a=j.U(this.dU.c()*4);else a.fill(0);
var n=this.S;this.z7=I;var s=this.nP[n-1],C=j.aon.a9V(s[0].l(),s[1].l()/100,1),T=j.U(C[1].c()*4);j.yv(C[0],T,3);
if(n==4){var S=j.G.GW(s[3].l());j.IP(T,Math.round(S.J)<<16|Math.round(S.H)<<8|Math.round(S.$)<<0,4278190080)}this.ML={axL:C[0],b6:T,Sq:C[1]};
var D=this.rC=this.Ae(I[2],I[2]),o=k?k.oL(D):D;this.ll(o);this.lX(!0,o)};ke.VaPo.prototype.vC=function(I){var k=this.Yy,a=this.S,n=this.so();
if(a==0&&j.cy.d0(n,k)){n=j.cy.aAU(n,k,this.view.Ah());this.E3(n,!0);this.lX()}var s=this.in;if(a==2&&this.jQ&&(this.WW||s)){var C=this.view.Ah(),T=j.cy.p8(n,C.x,C.y,this.Eo());
if(T){this.z7=T;if(s){this.Xm.x=T[2][0]-s.x;this.Xm.y=T[2][1]-s.y}else{this.WW=this.WW.slice(0,2).concat(T[2]);
this.Xm=j.X.qP(this.WW)}this.lX()}}if((a==3||a==4)&&this.jQ){var C=this.view.Ah(),T=j.cy.p8(n,C.x,C.y,this.Eo());
if(T){if(a==3){var S=this.ry;this.NH=new kK(T[2][0]-S.x,T[2][1]-S.y)}var D=this.Ae(this.z7[2],T[2]);
this.rC=this.rC.oL(D);this.z7=T;this.ll(D);this.lX(!0,D)}}if(a==5&&this.jQ){var C=this.view.Ah(),T=j.cy.p8(n,C.x,C.y,this.Eo(),this.z7);
if(T){var o=new kK(T[2][0],T[2][1]);this.OL.Fr({w:this.view.DF()},{},this.jF,o);this.z7=T;var D=this.rC;
if(D)this.ll(D);else D=new eZ;this.rC=this.fg(null,null,!0);this.lX(!0,D.oL(this.rC))}}};ke.VaPo.prototype.Ae=function(I,k){I=new kK(I[0],I[1]);
k=new kK(k[0],k[1]);var a=Math.max(1e-5,kK.f0(I,k)),n=this.ML.Sq.Q*.2,s=new eZ;for(var C=0;C<a;C+=n){var T=1-C/a,S=T*I.x+(1-T)*k.x,D=T*I.y+(1-T)*k.y,o=this.ML.Sq.clone();
o.x=Math.round(S-o.Q/2);o.y=Math.round(D-o._/2);if(this.S==3){var v=this.ry;if(v==null)v=new kK(S,D).Sm(this.NH);
var g=this.Xm=o.clone();g.x=Math.round(g.x-v.x);g.y=Math.round(g.y-v.y);var d=this.ML.axL;this.ML=this.al0(this.Q4);
this.Xm=null;j.Bj(d,this.ML.b6);this.ML.axL=d}var R=this.fg(this.ct,o);s=s.oL(R)}return s};ke.VaPo.prototype.RG=function(I){var k=this.Yy;
if(k&&k[3]>=8){var a=j.cy.a24(this.so(),k,this.Eo());this.E3(a,!0);this.lX();alert("new plane added")}var n=this.S,s=this.fM;
if(s||n==1){var C=this.view.Ah();if(s==null)s=this.fM=[C.x,C.y];if(s.length==8&&hZ.Xx(s)){var a=this.so();
a.push([100,[j.cy.acR(s,this.Eo())]]);this.T.push([0]);this.E3(a,!0);s=this.fM=null;this.Na(0);this.lX()}else if(s.length<8){s.push(C.x,C.y);
if(s.length==8&&!hZ.Xx(s)){var T=s[0],S=s[1];s[0]=s[4];s[1]=s[5];s[4]=T;s[5]=S}}}var D=this.WW;if(n==2&&D&&D[0]==D[2]&&D[1]==D[3]){this.Xm=null;
this.lX()}if((n==3||n==4)&&this.jQ){if(n==3&&!this.nP[2][3].l()&&this.Gk){this.NH=this.Gk.clone();this.lX()}this.E3();
this.ct=null}if(!this.nP[2][3].l())this.ry=null;this.jQ=!1;this.in=null;this.WW=null};ke.VaPo.prototype.Na=function(I,k){if(I==this.S)return;
var a=this.rC,s=6;if(this.S==5){this.E3();this.ll(a);this.OL=null;this.lX()}if(this.S==3||this.S==4){this.ct=null;
if(a)this.ll(a);this.lX(!0,a)}if(I==5){if(k==null&&this.Xm==null){alert("Select the area to be transformed");
return}this.aDu(k)}if(I>1){var n=this.so();this.lZ();this.E3(n,!0);this.lX()}this.view.Bf(I>=s?dq.sp(I-s):new as(!0));
if(I<s)this.view.lt("auto");this.S=I;this.cN.Na(I);$.GD(this.Rs);var C={0:0,1:0,2:1,3:2,4:3,5:4,6:5,7:5,8:5}[I];
this.Rs.appendChild(this.cK[C])};ke.VaPo.prototype.so=function(){var Y=this.gb,I=this.mO;while(I[Y].length==3)Y--;
var k=I[Y];this.T=JSON.parse(k[1]);return JSON.parse(k[0])};ke.VaPo.prototype.E3=function(I,k){if(I==null&&this.rC==null)return;
var a=this.mO,n=this.gb,Y=n;while(Y>=0&&a[Y].length==3)Y--;if(k==null)this.gb=n=n+1;if(I!=null)a[k?Y:n]=[JSON.stringify(I),JSON.stringify(this.T)];
else{var s=this.dU,C=this.rC,T=j.U(C.c()*4),S=j.U(C.c()*4);a[n]=[C,T,S];j.ao(this.o$,s,T,C);if(this.ct)j.z.Pf("norm",this.ct,s,this.o$,s,s,this.al4());
else this.fg(this.o$);j.ao(this.o$,s,S,C);this.rC=null}while(a.length!=n+1)a.pop()};ke.VaPo.prototype.al4=function(){return this.nP[this.S-1][2].l()/100};
ke.VaPo.prototype.lZ=function(I,k){if(I==null)I=this.so();this.T=[];for(var Y=0;Y<I.length;Y++){var a=[];
this.T.push(a);if(k)for(var n=0;n<I[Y][1].length;n++)a.push(n)}};ke.VaPo.prototype.j=function(I,k,a,n,s,C){var T=JSON.parse(JSON.stringify(C[2].cy));
this.gb=-1;this.lZ(T);this.E3(T);var S=j.U(n.c()*4);j.ao(k,a,S,n);this.aiP=new eZ;this.dU=n;this.ab2=s;
this.o$=S;this.h9=s.slice(0);this.ll(n);this.lX(!0);this.view.wF();this.Na(0)};ke.VaPo.prototype.aDu=function(I){this.ML=I?I:this.al0();
var k=j.X.Eu(this.ML.Sq).s;if(I){var a=this.so(),n=j.cy.gB(a,a[0][1][0],this.Eo()),s=n[1],C=Math.min(s.Q/I.Sq.Q,s._/I.Sq._)*.9;
if(C<1)j.X.h(k,new dc(C,0,0,C,0,0),k)}this.OL=new hZ(k,!0,!0);this.Xm=null;this.rC=this.fg();this.lX(!0)};
ke.VaPo.prototype.al0=function(I){var k=this.dU,a=j.X.aj(this.Xm),n=this.so(),s=j.U(a.c()*4);if(I==null)I=this.z7;
var C=n[I[0]][1],T=j.cy.xC(n[I[0]][1],I[1],a,this.Eo());for(var S=0;S<T.length;S++){var D=C[T[S]],o=j.cy.gB(n,D,this.Eo()),v=o[0],g=o[1],d=g.LU(a);
if(d.KH())continue;d=j.X.aj(d);var R=j.U(d.c()*4),c=j.t.UX(v,g);c=j.t.Rc([1/k.Q,0,0,0,1/k._,0,0,0],c);
c=j.t.Us(c);j.t.drawImage(c,this.h9,k.Q,k._,R,d);j.ao(R,d,s,a)}var e=this.nP[1][0].l(),O=Math.round(e*1.4),U=a.clone();
U.CJ(-O,-O);var K=j.U(U.c());K.fill(255);var _=j.U(a.c());j.O0(K,U,_,a);var Z=j.U(a.c());j.ox.Xh(_,Z,a,e);
j.Ez(s,_,3);j._R.LU(_,Z,Z);j.yv(Z,s,3);return{b6:s,Sq:a}};ke.VaPo.prototype.ll=function(I,k){var a=this.dU;
j.ao(this.ab2,a,this.h9,a,I);j.z.Pf("norm",this.o$,a,this.h9,a,I,1);if(this.ct)j.z.Pf("norm",this.ct,a,this.h9,a,I,this.al4())};
ke.VaPo.prototype.fg=function(I,k,a){var n=this.ML,s=n.Sq,C=this.dU,T,S=k?j.X.Eu(k).s:this.OL.d6(),D=j.X.TO(S),T=j.t.UX(S,s),o=this.nP[4],v=new dc;
if(o[0].l()){v.M=-1;v.Dw=2*s.x+s.Q}if(o[1].l()){v.Jo=-1;v.rk=2*s.y+s._}T=j.t.Rc(T,j.t.HE(v));function g(m,f){m.beginPath();
m.moveTo(f[0],f[1]);for(var Y=1;Y<4;Y++)m.lineTo(f[Y*2],f[Y*2+1]);m.closePath()}var d=this.so(),R=j.cy.xC(d[this.z7[0]][1],this.z7[1],D,this.Eo()),c=d[this.z7[0]][1],e=new eZ;
for(var O=0;O<R.length;O++){var U=c[R[O]],K=j.cy.gB(d,U,this.Eo()),_=K[0],Z=K[1],H=Z.LU(D);if(this.Xm)H=H.LU(this.Xm);
if(H.KH())continue;var G=j.t.UX(_,Z),N=j.X.Eu(H).s;j.t.h(G,N);var z=S.slice(0);j.t.h(G,z);var L=j.X.qP(z).LU(j.X.qP(N)),p=L.Q,V=L._;
if(L.KH())continue;G=j.t.Rc(j.t.Rc(G,T),[s.Q,0,s.x,0,s._,s.y,0,0]);var r=j.U(L.c()*4);j.t.drawImage(G,n.b6,s.Q,s._,r,L,a);
if(H.c()!=D.c()){var y=j.$P(p,V);y.save();y.clearRect(0,0,p,V);y.translate(-L.x,-L.y);g(y,N);y.clip();
g(y,z);y.fill();y.restore();var W=new Uint8Array(y.getImageData(0,0,p,V).data.buffer);for(var Y=3;Y<r.length;
Y+=4)if(W[Y]<r[Y])r[Y]=W[Y]}j.z.Pf("norm",r,L,I?I:this.h9,C,L,1);e=e.oL(L)}return e};ke.VaPo.prototype.l=function(){return JSON.parse(JSON.stringify(this.so()))};
ke.VaPo.prototype.ad1=function(){if(this.S==5)this.Na(0);var I=new eZ,k=this.mO;for(var Y=0;Y<=this.gb;
Y++)if(k[Y].length==3)I=I.oL(k[Y][0]);var a=j.U(I.c()*4);j.ao(this.o$,this.dU,a,I);return[a,I]};ke.VaPo.prototype.bb=function(I,k){this.cN.bb(I,k);
this.view.bb(I-40,k-30)};ke.VaPo.prototype.k=function(){this.cN.k();for(var Y=0;Y<this.nP.length;Y++)for(var I=0;
I<this.nP[Y].length;I++)this.nP[Y][I].k()};ke.VaPo.prototype.lX=function(I,k){var a=this.dU,n=[],s=[],C=[],T=this.so(),S=j.cy.d6(T,this.T),D=0,o=null,O=null,U=null,K=null;
for(var Y=0;Y<S.length;Y++)C.push(S[Y][0][0],S[Y][0][1]);for(var Y=0;Y<T.length;Y++){var v=this.T[Y].length;
D+=v;if(v!=0)o=[Y,this.T[Y][0]]}var g=this.nP[0][0];g.wl(D!=0);if(D!=0)g.j(Math.round(T[o[0]][0]));if(D==1){var d=T[o[0]][1]}var R=[];
if(this.Xm&&T[this.z7[0]])R=j.cy.xC(T[this.z7[0]][1],this.z7[1],this.Xm,this.Eo());var c=[];if(this.OL){c=this.OL.a75();
c[4]=this.OL.Hq()}var e=[];if(this.OL&&T[this.z7[0]])e=j.cy.xC(T[this.z7[0]][1],this.z7[1],j.X.qP(this.OL.d6()),this.Eo());
for(var _=0;_<T.length;_++){var Z=T[_][0],d=T[_][1],H=this.T[_];for(var G=0;G<d.length;G++){var o=d[G],N=j.cy.gB(T,o,this.Eo()),z=N[0],a=N[1],L=j.t.UX(z,a);
if(a.KH()){if(U==null)U={m:[],s:[]};j.X.concat(U,{m:["M","L","L","L","Z"],s:z});continue}var p=j.X.Eu(a),V=p.s,r=p.m,y=this.NH;
if(y&&a.oi(y)&&this.Q4&&this.Q4[0]==_){O=[y.x,y.y];j.t.h(L,O)}if(R.indexOf(G)!=-1){var W=this.Xm.LU(a);
if(_==this.z7[0]&&!W.KH()){if(K==null)K={s:[],m:[]};var m=j.X.Eu(W);j.t.h(L,m.s);j.X.concat(K,m)}}if(e.indexOf(G)!=-1&&_==this.z7[0]){var f=[];
for(var Y=0;Y<c.length;Y++)if(a.oi(c[Y]))f.push(c[Y].x,c[Y].y);if(f.length!=0){j.t.h(L,f);C=C.concat(f)}}if(H&&H.indexOf(G)!=-1){var h=Math.ceil(a.x/Z)*Z,b=a.x+a.Q,i=Math.ceil(a.y/Z)*Z,w=a.y+a._;
for(var J=h;J<b;J+=Z){V.push(J,a.y,J,w);r.push("M","L")}for(var q=i;q<w;q+=Z){V.push(a.x,q,b,q);r.push("M","L")}}j.t.h(L,V);
n=n.concat(r);s=s.concat(V)}if(O&&this.S==3){var J=O[0],q=O[1],x=10/this.view.DF().F;s.push(J-x,q,J+x,q);
s.push(J,q-x,J,q+x);n.push("M","L","M","L")}}var z=this.fM,a=this.dU;if(z){var A=["M"];for(var Y=0;Y<z.length-2;
Y+=2)A.push("L");A.push("Z");var Q=E.Zo.Y9(z,a.Q/2,a._/2);if(isNaN(Q)||Q==Infinity||Q==-Infinity||!hZ.Xx(z)){if(U==null)U={m:[],s:[]};
j.X.concat(U,{m:A,s:z})}else{s=s.concat(z);n=n.concat(A)}}var B={sV:{m:n,s:s},a5n:U,a2B:K,t6:C,Or:null};
if(I){this.view.j([{e3:a,data:this.h9.buffer}],null,B,k)}else this.view.apv(B)};ke.blnc=function(){ke.call(this);
var I=this.Z;this.VQ=null;this.XE=new fB([12,12],[[19,6,0],[19,6,1],[19,6,2]]);this.XE.O(M.E.B,this.lX,this);
I.appendChild(this.XE.Z);this.iM=[];for(var Y=0;Y<3;Y++){var k=new f7(["VAR0 - VAR1",fo.afm[Y],fo.fd[Y]],-100,100);
k.O(M.E.B,this.JT,this);this.iM.push(k);I.appendChild(k.Z)}this.d4=new dI([13,4]);this.d4.O(M.E.B,this.JT,this);
I.appendChild(this.d4.Z)};ke.blnc.prototype=new ke;ke.blnc.prototype.k=function(){this.XE.k();for(var Y=0;
Y<3;Y++)this.iM[Y].k();this.d4.k()};ke.blnc.prototype.j=function(I){this.VQ=JSON.parse(JSON.stringify(I));
this.lX()};ke.blnc.prototype.l=function(I){var k=["ShdL","MdtL","HghL"],a=this.VQ[k[this.XE.l()]].v;
for(var Y=0;Y<3;Y++)a[Y].v=this.iM[Y].l();this.VQ.PrsL.v=this.d4.l();return JSON.parse(JSON.stringify(this.VQ))};
ke.blnc.prototype.lX=function(I){var k=["ShdL","MdtL","HghL"],a=this.VQ[k[this.XE.l()]].v;for(var Y=0;
Y<3;Y++)this.iM[Y].j(a[Y].v);this.d4.j(this.VQ.PrsL.v)};ke.brit=function(){ke.call(this,"brit");this.yG.push(new f7([12,2],-150,150,""));
this.yG.push(new f7([12,3,0],-100,100,""));this.yG.push(new dI([12,3,1]));this.Ui()};ke.brit.prototype=new ke;
ke.curv=function(){ke.call(this);this.value=null;this.zD=null;this.wY=null;var I=this.Z;this.na=new fB("Preset",["basic","advanced"]);
this.na.O(M.E.B,this.aBv,this);I.appendChild(this.na.Z);$.FI(I);this.Ii=new fB([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.Ii.O(M.E.B,this.LI,this);I.appendChild(this.Ii.Z);this.qx=new fB(null,["Spline","Sketch"]);this.qx.O(M.E.B,this.aBv,this);
I.appendChild(this.qx.Z);this.pL=new f0;this.pL.parent=this;this.pL.O(M.E.B,this.fB,this);I.appendChild(this.pL.Z);
$.FI(I);this.D_=new fU;this.D_.O(M.E.B,this._i,this);I.appendChild(this.D_.Z);this.sI=null;this.aAD=0;
this.g1=0;$.FI(I);this.RC=new da("Sample from image",f8.Tj(["-\u2195","#000000","#888888","#ffffff"]),!0,null,!0);
this.RC.O(M.E.B,this.m2,this);this.RC.Z.style.marginRight="0";I.appendChild(this.RC.Z)};ke.curv.prototype=new ke;
ke.curv.prototype.wu=function(I,k){if(k==f9._7||k==f9.OU){var a=I.p4,n=["Default"];for(var Y=0;Y<a.length;
Y++)n.push(a[Y].presetFileName.v);n.push("Custom");this.na.wS(n,[1,a.length,1]);this.wY=I}};ke.curv.prototype.bb=function(I,k){this.D_.bb(I,k)};
ke.curv.prototype.k=function(){this.Ii.k();this.D_.k()};ke.curv.prototype.L$=function(){this.na.j(this.wY.p4.length+1)};
ke.curv.prototype.aBv=function(I){if(I.target==this.na){var k=this.na.l(),a=this.wY.p4,n;if(k==0)n=gJ.nI("curv");
else if(k-1<a.length)n=JSON.parse(JSON.stringify(a[k-1]));else return;this.j(n);this.JT();return}this.L$();
var s=aH.MY(this.value,0),C=s.length==256?1:0,T=this.qx.l();if(C==T)return;var n=gJ.nI("curv");if(T==1){var S=[];
for(var Y=0;Y<256;Y++)S.push(Y);aH.qh(n,0,S)}this.j(n);this.JT()};ke.curv.prototype._i=function(){this.L$();
aH.qh(this.value,this.Ii.l(),this.D_.l());this.JT()};ke.curv.prototype.LI=function(){var I=this.Ii.l(),k=aH.MY(this.value,I),a=k.length==256?1:0;
this.qx.j(a);if(this.zD)this.D_.cC(this.zD[I],this.zD[4]*[1,.33,.33,.33][I],["#ccc","#fcc","#cfc","#ccf"][I]);
this.D_.j(k)};ke.curv.prototype.s$=function(){return!0};ke.curv.prototype.Vr=function(I,k,a,n,s){var C=this.value;
this.value=gJ.nI("curv");this.JT();var T=E.aY.jx(I,s,1,null,!0),S=this.sI=[T>>>16&255,T>>>8&255,T&255];
this.aAD=s.y;var D=this.RC.l().indexOf(!0);if(D==0){var o=(S[0]+S[1]+S[2])/3,v=this.Ii.l(),g=aH.MY(C,v),d=v==0?o:S[v-1],R=-1;
for(var Y=0;Y<g.length;Y++)if(g[Y].v.Hrzn.v==d)R=Y;if(R==-1){var c=JSON.parse(JSON.stringify(g[0]));
c.v.Hrzn.v=d;c.v.Vrtc.v=d;g.push(c);g.sort(function(e,O){return e.v.Hrzn.v-O.v.Hrzn.v});aH.qh(C,v,g);
this.g1=g.indexOf(c)}else this.g1=R}this.j(C);this.JT()};ke.curv.prototype.Fr=function(I,k,a,n,s){if(this.sI==null)return;
if(this.RC.l().indexOf(!0)==0){var C=this.value,T=this.Ii.l(),S=aH.MY(C,T),D=S[this.g1];D.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(D.v.Hrzn.v+(this.aAD-s.y))));
aH.qh(C,T,S);this.j(C);this.JT()}};ke.curv.prototype.pE=function(I,k,a,n,s){var C=this.value,T=this.sI,S=(T[0]+T[1]+T[2])/3,D=this.RC.l().indexOf(!0)-1;
if(D<=-1){}else for(var Y=0;Y<3;Y++){var o=aH.MY(C,1+Y);if(D==0)o[0].v.Hrzn.v=T[Y];if(D==1){var v=Math.log(T[Y]/255)/Math.log(S/255),g=Math.min(999,Math.max(10,Math.round(100*v)));
if(o.length==2)o.splice(1,0,JSON.parse(JSON.stringify(o[0])));o[1].v.Hrzn.v=127-Math.log(g/100)*127;
o[1].v.Vrtc.v=127}if(D==2)o[o.length-1].v.Hrzn.v=T[Y];aH.qh(C,1+Y,o)}this.j(C);this.JT();this.L$();this.sI=null};
ke.curv.prototype.j=function(I){this.value=I;this.LI()};ke.curv.prototype.cC=function(I){this.zD=I;this.LI()};
ke.curv.prototype.l=function(I){return JSON.parse(JSON.stringify(this.value))};ke.curv.prototype.fB=function(){var I=this.pL.l(),k=this.zD,a=this.value,n=j.a1b(I,k);
for(var Y=0;Y<4;Y++){var s=n[Y][0],C=n[Y][1],T=n[Y][2],S=[j.IJ.bj(s,0,!0),j.IJ.bj(C,255,!0)];if(T!=null)S.splice(1,0,j.IJ.bj(128,T,!0));
aH.qh(a,Y,S)}this.LI();this.JT()};ke.expA=function(){ke.call(this,"expA");this.yG.push(new f7([12,5],-20,20,null,2,!0));
this.yG.push(new f7([12,6],-.5,.5,null,2));this.yG.push(new f7([12,7],.01,9.99,null,2,!0));this.Ui()};
ke.expA.prototype=new ke;ke.expA.prototype.xI=function(I,k){k[0]=I.Exps.v;k[1]=I.Ofst?I.Ofst.v:0;k[2]=I.gammaCorrection?I.gammaCorrection.v:1};
ke.expA.prototype.PC=function(I,k){I.Exps={t:"doub",v:k[0]};I.Ofst={t:"doub",v:k[1]};I.gammaCorrection={t:"doub",v:k[2]}};
ke.grdm=function(){ke.call(this,"grdm");this.yG.push(new hg(!0,null,!0));this.yG.push(new dI([12,23,0]));
this.Ui()};ke.grdm.prototype=new ke;ke.grdm.prototype.xI=function(I,k){k[0]=I.Grad.v;k[1]=I.Rvrs?I.Rvrs.v:!1};
ke.grdm.prototype.PC=function(I,k){I.Grad.v=k[0];I.Rvrs={t:"bool",v:k[1]}};ke.grdm.prototype.wu=function(I,k){this.yG[0].Uk(I.MW,I.U2);
if(k==f9._7||k==f9.S8||k==f9.RN)this.yG[0].rt(I.iG)};ke.selc=function(){ke.call(this);var I=this.Z;this.sU=[];
this.WN=null;this.XE=new fB([12,82],fo.Di.concat([[13,1,8],[13,1,13],[13,1,10]]));this.XE.O(M.E.B,this.Rb,this);
I.appendChild(this.XE.Z);$.FI(I);for(var Y=0;Y<4;Y++){var k=new f7(fo.afm[Y],-100,100,"%");k.O(M.E.B,this.Rb,this);
this.sU.push(k);I.appendChild(k.Z)}this.NA=new dI([13,3]);I.appendChild(this.NA.Z);this.NA.O(M.E.B,this.Rb,this)};
ke.selc.prototype=new ke;ke.selc.prototype.k=function(){this.XE.k();this.NA.k();for(var Y=0;Y<4;Y++)this.sU[Y].k()};
ke.selc.prototype.j=function(I){this.WN=JSON.parse(JSON.stringify(I));this.lX()};ke.selc.prototype.l=function(I){return JSON.parse(JSON.stringify(this.WN))};
ke.selc.prototype.Rb=function(I){if(I.target!=this.XE){var k=this.WN,a=[];for(var Y=0;Y<4;Y++)a[Y]=this.sU[Y].l();
gs.qh(k,this.XE.l(),a);k.Mthd={t:"enum",v:{CrcM:this.NA.l()?"Absl":"Rltv"}}}this.lX();this.JT()};ke.selc.prototype.lX=function(){var I=this.WN,k=gs.MY(I,this.XE.l());
for(var Y=0;Y<4;Y++)this.sU[Y].j(k[Y]);this.NA.j(I.Mthd?I.Mthd.v.CrcM=="Absl":!1)};ke.blwh=function(){ke.call(this,"blwh");
this.yG.push(new dI([12,11]));this.yG.push(new ek(!0));for(var Y=0;Y<6;Y++)this.yG.push(new f7(fo.Di[Y],-200,300));
this.Ui()};ke.blwh.prototype=new ke;ke.blwh.prototype.xI=function(I,k){k[0]=I.useTint.v;k[1]=I.tintColor.v;
var a="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var Y=0;Y<6;Y++)k[2+Y]=I[a[Y]].v};ke.blwh.prototype.PC=function(I,k){I.useTint.v=k[0];
I.tintColor.v=k[1];var a="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var Y=0;Y<6;Y++)I[a[Y]].v=k[2+Y]};
ke.hue2=function(){ke.call(this);this.value=null;this.Af=null;this.Jh=null;this.yz=[[0,0,0],[0,50,0]];
var I=this.Z;this.RC=new da(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.RC.O(M.E.B,this.ayJ,this);this.RC.O(M.E.B,this.m2,this);I.appendChild(this.RC.Z);var k=this.yG=[new fB([12,12],["Master"].concat(fo.Di)),new f7([12,8],-180,180),new f7([12,9],-100,100),new f7([12,10],-100,100),new dI([12,11])];
for(var Y=0;Y<k.length;Y++){var a=k[Y];a.O(M.E.B,Y==0?this.LI:this.avS,this);I.appendChild(a.Z)}this.XE=k[0];
this.rB=k[1];this.PK=k[2];this.oY=k[3];this.RV=k[4];this.DI=new da("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.DI.O(M.E.B,this.ayJ,this);this.DI.O(M.E.B,this.m2,this);this.DI.Z.style.marginLeft="20px";I.appendChild(this.DI.Z);
this.UM=$.I("div");I.appendChild(this.UM);this.v1=this.le.bind(this);this.aW=this.$r.bind(this);this.g8=$.I("canvas");
this.hp=this.g8.getContext("2d");this.AD=null;$.$j(this.g8);$.hI(this.g8,282,18);I.appendChild(this.g8);
$.Ar(this.g8,this.bg.bind(this))};ke.hue2.prototype=new ke;ke.hue2.prototype.bb=function(I,k){$.hI(this.g8,Math.round(I),18);
if(this.value)this.LI()};ke.hue2.prototype.ayJ=function(I){var k=I.target.l().indexOf(!0);if(k==-1)return;
if(I.target==this.RC)this.DI.j([!1,!1,!1]);else this.RC.j([!1,!1,!1])};ke.hue2.prototype.bg=function(I){if(this.XE.l()==0||this.RV.l())return;
var k=$.Ea(I,this.g8).x/(this.g8.width/$.Y()),C=1e6;function a(g,d,R){return g<d&&d<R||R<g&&(g<d||d<R)}var n=this.yY(),s=-1;
for(var Y=0;Y<4;Y++){var T=Math.abs(k-(n[Y]+Y*1e-5));if(T<C){C=T;s=Y}}if(C>.025){s=-1;var S=n[0],D=n[1],o=n[2],v=n[3];
if(a(S,k,D))s=4;if(a(D,k,o))s=5;if(a(o,k,v))s=6}if(s==-1)return;this.AD=s;$.YU(document.body,this.v1);
$.hf(document.body,this.aW)};ke.hue2.prototype.le=function(I){var k=$.Ea(I,this.g8).x/(this.g8.width/$.Y()),a=this.yY(),n=this.AD;
for(var Y=1;Y<4;Y++)if(a[Y]<a[Y-1]){a[Y]+=1}if(n<4){var s=1e6,C=0;for(var Y=-20;Y<20;Y++){var T=Math.abs(a[n]-(k+Y));
if(T<s){s=T;C=Y}}k+=C;a[n]=k;for(var Y=n+1;Y<4;Y++)if(a[Y]<a[Y-1]){a[Y]=a[Y-1]}for(var Y=n-1;Y>=0;Y--)if(a[Y]>a[Y+1]){a[Y]=a[Y+1]}}else{var S=k-(a[n-4]+a[n-3])/2;
if(S<-.5)S+=1;if(n==4){a[0]+=S;a[1]+=S;a[2]=Math.max(a[1],a[2]);a[3]=Math.max(a[1],a[3])}if(n==5)for(var Y=0;
Y<4;Y++)a[Y]+=S;if(n==6){a[2]+=S;a[3]+=S;a[0]=Math.min(a[0],a[2]);a[1]=Math.min(a[1],a[2])}}for(var Y=1;
Y<4;Y++)if(a[Y]<a[Y-1])throw"e";this.avd(a);this.LI();this.JT()};ke.hue2.prototype.$r=function(I){$.qD(document.body,this.v1);
$.Yf(document.body,this.aW)};ke.hue2.prototype.k=function(){for(var Y=0;Y<this.yG.length;Y++)this.yG[Y].k()};
ke.hue2.prototype.avS=function(I){var k=this.value.Clrz.v=this.RV.l();if(k)this.XE.j(0);if(I&&I.target==this.RV){var a=k?1:0;
this.yz[1-a]=eu.MY(this.value,0);var n=this.yz[a];eu.qh(this.value,0,n);if(this.XE.l()==0){this.rB.j(n[0]);
this.PK.j(n[1]);this.oY.j(n[2])}}var s=this.XE.l(),C=eu.MY(this.value,s),n=s==0?C:C.iM;n[0]=this.rB.l();
var T=this.PK.l();n[1]=k?Math.max(0,T):T;n[2]=this.oY.l();eu.qh(this.value,s,C);this.LI();this.JT()};
ke.hue2.prototype.LI=function(){var I=this.XE.l(),k=this.value.Clrz?this.value.Clrz.v:!1;this.RV.j(k);
this.XE.wl(!k);this.DI.wl(!k&&I!=0);var a=eu.MY(this.value,I),n=I==0?a:a.iM;this.rB.j(n[0]);this.PK.j(n[1]);
this.oY.j(n[2]);var s=this.g8.width,C=this.g8.height,T=this.hp;T.clearRect(0,0,s,C);if(k||I==0){this.UM.innerHTML="";
return}var S=a.Cv;this.UM.innerHTML=S[0]+"\xB0 / "+S[1]+"\xB0<span style=\"float:right\">"+S[2]+"\xB0 \\ "+S[3]+"\xB0</span>";
var D=j.U(s*4);bB.aAj(D,1,s,-1,.5);var o=new ImageData(new Uint8ClampedArray(D.buffer),s,1),v=Math.round(C/4);
for(var Y=0;Y<v;Y++)T.putImageData(o,0,Y);function g(U,K,_){T.fillStyle=_;var Z=v*2;if(U<=K)T.fillRect(U*s,Z,(K-U)*s,v);
else{T.fillRect(0,Z,K*s,v);T.fillRect(U*s,Z,(1-U)*s,v)}}var d=this.yY();g(d[0],d[1],"#888888");g(d[1],d[2],"#cccccc");
g(d[2],d[3],"#888888");T.fillStyle="#ffffff";T.lineWidth=1;T.beginPath();var R=v+.5,c=4*v+.5;for(var Y=0;
Y<4;Y++){var e=Math.floor(s*d[Y])+.5,O=(Y<2?-1:1)*v*(Y==1||Y==2?1:2);T.moveTo(e,R);T.lineTo(e,c);T.lineTo(e+O,c);
T.lineTo(e+O,v+v+.5);T.closePath()}T.fill();T.stroke()};ke.hue2.prototype.yY=function(){var I=this.XE.l(),k=eu.MY(this.value,I).Cv;
for(var Y=0;Y<4;Y++)k[Y]=(1000.5+k[Y]/360)%1;return k};ke.hue2.prototype.avd=function(I){var k=this.XE.l(),a=eu.MY(this.value,k);
for(var Y=0;Y<4;Y++)a.Cv[Y]=Math.round(36e3+(I[Y]-.5)*360)%360;eu.qh(this.value,k,a)};ke.hue2.prototype.s$=function(){return!0};
ke.hue2.prototype.amH=function(){var I=this.RC.l().indexOf(!0),k=this.DI.l().indexOf(!0);return I!=-1?I:k!=-1?k+1:-1};
ke.hue2.prototype.Vr=function(I,k,a,n,s){var C=this.amH();if(C==-1)return;var T=this.value;this.value=gJ.nI("hue2");
this.JT();var S=E.aY.jx(I,s,1,null,!0);this.j(T);var D=[S>>>16&255,S>>>8&255,S&255],o=j.zH(D[0]/255,D[1]/255,D[2]/255);
if(C==0){this.XE.j(1+Math.round(o.L4*6)%6)}else{var v=this.yY(),g=.5+o.L4,d=1/12,R=v[1],c=v[2];if(c<R){c++;
if(g<R&&g+1-c<R-g)g++}var e=R<=g&&g<=c;if(C==1){R=g-d/2;c=g+d/2}else if(C==2&&!e){R=Math.min(g,R);c=Math.max(g,c)}else if(C==3&&e){if(g-R<c-g)R=g;
else c=g}v=[R-d,R,c,c+d];this.avd(v)}this.JT();this.Af=s.x;this.Jh=this.PK.l()};ke.hue2.prototype.Fr=function(I,k,a,n,s){var C=this.amH();
if(C==-1)return;if(C==0){if(this.Af!=null){var T=s.x-this.Af;T=Math.max(-100,Math.min(100,this.Jh+.5*T));
this.PK.j(T);this.avS()}}};ke.hue2.prototype.pE=function(I,k,a,n,s){this.Af=null};ke.hue2.prototype.j=function(I){this.value=JSON.parse(JSON.stringify(I));
var k=this.value.Clrz?this.value.Clrz.v:!1;this.yz[k?1:0]=eu.MY(this.value,0);this.LI()};ke.hue2.prototype.l=function(I){return JSON.parse(JSON.stringify(this.value))};
ke.levl=function(){function I(){ke.call(this);this.value=null;this.zD=null;this.k0=[new kK(0,0),new kK(0,0),new kK(0,0),new kK(0,0),new kK(0,0)];
this.OV=-1;this.v1=this.le.bind(this);this.aW=this.$r.bind(this);var k=this.Z;this.Ii=new fB([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.Ii.O(M.E.B,this.LI,this);k.appendChild(this.Ii.Z);this.pL=new f0;this.pL.parent=this;this.pL.O(M.E.B,this.fB,this);
k.appendChild(this.pL.Z);var a=$.I("div","");k.appendChild(a);var n=$.I("div","");k.appendChild(n);this.g8=$.I("canvas");
a.appendChild(this.g8);this.hp=this.g8.getContext("2d");this.jo=new kK(256,120);this.g8.setAttribute("style","display:block");
$.$j(this.g8);$.Ar(this.g8,this.bg.bind(this));this.XH=$.I("canvas","");n.appendChild(this.XH);this.gU=this.XH.getContext("2d");
this.kr=new kK(this.jo.x,40);this.XH.setAttribute("style","display:block");$.$j(this.XH);$.Ar(this.XH,this.acL.bind(this));
var s=this.kL=[];for(var Y=0;Y<5;Y++){var C=new ja(null,null,3);s.push(C);C.O(M.E.B,this.a6Q,this);(Y<2||Y==4?a:n).appendChild(C.Z)}a.appendChild(s[1].Z);
this.RC=new da("Sample from image",f8.Tj(["#000000","#888888","#ffffff"]),!0,null,!0);this.RC.O(M.E.B,this.m2,this);
k.appendChild(this.RC.Z);this.bb(250,100)}I.prototype=new ke;I.prototype.fB=function(){var k=this.pL.l(),a=this.zD,n=this.value,s=j.a1b(k,a);
for(var Y=0;Y<4;Y++){var C=s[Y][0],T=s[Y][1],S=s[Y][2],D=[j.IJ.bj(C,0,!0),j.IJ.bj(T,255,!0)];if(S!=null)D.splice(1,0,j.IJ.bj(128,S,!0));
var o=[~~C,~~T,0,255,S==null?100:~~(100+.75*100*(S-128)/128)];kA.qh(n,Y,o)}this.LI();this.JT()};I.prototype.bb=function(k,a){k+=6;
this.jo.x=this.kr.x=k;$.hI(this.g8,k,this.jo.y,this.hp);$.hI(this.XH,k,this.kr.y,this.gU);var n=this.kL;
n[3].Z.setAttribute("style","margin-left: "+(k-104)+"px");n[4].Z.setAttribute("style","margin: 0 "+(k/2-74)+"px");
if(this.value)this.LI()};I.prototype.k=function(){this.Ii.k()};I.prototype.a6Q=function(k){var a=[];
for(var Y=0;Y<5;Y++){var n=255,s=1;if(Y==4){n=999;s=100}var C=parseFloat(this.kL[Y].l());a[Y]=Math.max(0,Math.min(n,C*s))}kA.qh(this.value,this.Ii.l(),a);
this.LI();this.JT()};I.prototype.LI=function(k){var a=this.jo.x,n=this.jo.y,s=this.Ii.l(),C=this.hp;
C.clearRect(0,0,a,n);C.fillStyle="#cccccc";C.fillRect(8,8,a-16,n-16-8);if(this.zD){var T=this.zD[0].slice(0),c=0;
if(s==0){T.fill(0);var S=JSON.parse(JSON.stringify(this.value));kA.qh(S,0,[0,255,0,255,100]);var D=fo.Zh("levl",S),o=[D.gG,D.NQ,D.nY];
for(var v=0;v<3;v++){var g=this.zD[1+v],d=o[v];for(var Y=0;Y<256;Y++)T[d[Y]]+=g[Y]}}var R=s==0?T:this.zD[s];
for(var Y=0;Y<R.length;Y++)c+=R[Y];C.fillStyle="#333333";C.beginPath();C.moveTo(8,n-16);for(var Y=0;
Y<256;Y++){var e=55*R[Y]/c;C.lineTo(8+Y/256*(a-16),Math.max(8,n-16-n*e))}C.lineTo(a-8,n-16);C.closePath();
C.fill()}var O=kA.MY(this.value,s);for(var Y=0;Y<5;Y++)this.kL[Y].j(O[Y]/(Y==4?100:1));this.k0[0].dZ(8+O[0]/255*(a-16),n-14);
this.k0[1].dZ(8+O[1]/255*(a-16),n-14);var U=Math.log(O[4]/100)/Math.log(9.99);U=.5-U/2;this.k0[4].dZ(this.k0[0].x+U*(this.k0[1].x-this.k0[0].x),n-14);
this.t5(C,this.k0[0],"#000000");this.t5(C,this.k0[1],"#ffffff");this.t5(C,this.k0[4],"#777777");var a=this.kr.x,n=this.kr.y;
C=this.gU;C.clearRect(0,0,a,n);var K=C.createLinearGradient(0,0,a-16,0);K.addColorStop(0,"black");K.addColorStop(1,"white");
C.fillStyle=K;C.fillRect(8,8,a-16,16);this.k0[2].dZ(8+O[2]/255*(a-16),n-14);this.k0[3].dZ(8+O[3]/255*(a-16),n-14);
this.t5(C,this.k0[2],"#000000");this.t5(C,this.k0[3],"#ffffff")};I.prototype.t5=function(k,a,n){k.fillStyle=n;
k.fillRect(a.x-5,a.y,10,10)};I.prototype.bg=function(k){var a=$.Ea(k,this.g8),n=this.aqR([0,1,4],a);
if(n!=-1)this.OV=n;this.ah6()};I.prototype.acL=function(k){var a=$.Ea(k,this.XH),n=this.aqR([2,3],a);
if(n!=-1)this.OV=n;this.ah6()};I.prototype.aqR=function(k,a){var n=-1,s=1e9;for(var Y=0;Y<k.length;Y++){var C=Math.abs(this.k0[k[Y]].x-a.x);
if(C<s){s=C;n=k[Y]}}return s<16?n:-1};I.prototype.ah6=function(k){if(this.OV==-1)return;$.YU(document.body,this.v1);
$.hf(document.body,this.aW)};I.prototype.le=function(k){var a=kA.MY(this.value,this.Ii.l()),n=$.Ea(k,this.OV==2&&this.OV==3?this.XH:this.g8),s=255*(n.x-8)/(this.jo.x-16);
s=Math.max(0,Math.min(255,s));if(this.OV==0)s=Math.min(s,a[1]-2);if(this.OV==1)s=Math.max(s,a[0]+2);
if(this.OV!=4)a[this.OV]=Math.round(s);else{var C=(s-a[0])/(a[1]-a[0]);C=1-2*C;C=Math.pow(9.99,C);a[4]=Math.min(999,Math.max(10,Math.round(C*100)))}kA.qh(this.value,this.Ii.l(),a);
this.LI();this.JT()};I.prototype.$r=function(k){$.qD(document.body,this.v1);$.Yf(document.body,this.aW);
this.OV=-1};I.prototype.s$=function(){return!0};I.prototype.pE=function(k,a,n,s,C){var T=this.value,S=this.RC.l().indexOf(!0);
if(S==-1)return;this.value=gJ.nI("levl");this.JT();var D=E.aY.jx(k,C,1,null,!0),o=[D>>>16&255,D>>>8&255,D&255];
for(var Y=0;Y<3;Y++){var v=kA.MY(T,1+Y);if(S==0)v[0]=o[Y];if(S==1){var g=Math.log(o[Y]/255)/Math.log((o[0]+o[1]+o[2])*.333/255);
v[4]=Math.min(999,Math.max(10,Math.round(100*g)))}if(S==2)v[1]=o[Y];kA.qh(T,1+Y,v)}this.j(T);this.JT()};
I.prototype.j=function(k){this.value=k;this.LI()};I.prototype.cC=function(k){this.zD=k;this.LI()};I.prototype.l=function(k){return JSON.parse(JSON.stringify(this.value))};
return I}();ke.phfl=function(){ke.call(this,"phfl");this.yG.push(new ek);this.yG.push(new f7([12,74],0,100,"%"));
this.yG.push(new dI([13,4]));this.Ui()};ke.phfl.prototype=new ke;ke.phfl.prototype.xI=function(I,k){k[0]=I.Clr.v;
k[1]=I.Dnst.v;k[2]=I.PrsL.v};ke.phfl.prototype.PC=function(I,k){var a=j.G.GW(k[0]),n=I.Clr.v,s=j.r1(a.$,a.H,a.J);
n.Lmnc.v=s.eI;n.A.v=s.M;n.B.v=s.J;I.Dnst.v=k[1];I.PrsL.v=k[2]};ke.vibA=function(){ke.call(this,"vibA");
this.yG.push(new f7([12,13],-100,100,null));this.yG.push(new f7([12,9],-100,100,null));this.Ui()};ke.vibA.prototype=new ke;
ke.vibA.prototype.xI=function(I,k){k[0]=I.vibrance?I.vibrance.v:0;k[1]=I.Strt?I.Strt.v:0};ke.vibA.prototype.PC=function(I,k){I.vibrance.v=k[0];
I.Strt.v=k[1]};ke.thrs=function(){ke.call(this,"thrs");this.yG.push(new f7([4,13],1,255,null));this.Ui()};
ke.thrs.prototype=new ke;ke.thrs.prototype.xI=function(I,k){k[0]=I.Lvl.v};ke.thrs.prototype.PC=function(I,k){I.Lvl.v=k[0]};
ke.mixr=function(){ke.call(this);var I=this.Z;this.sU=[];this.WN=null;this.XE=new fB([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.adL=!1;this.XE.O(M.E.B,this.Rb,this);I.appendChild(this.XE.Z);$.FI(I);this.mC=new dI([12,60]);I.appendChild(this.mC.Z);
this.mC.O(M.E.B,this.Rb,this);for(var Y=0;Y<4;Y++){var k=new f7([[13,1,1],[13,1,4],[13,1,5],[13,2]][Y],-200,200,"%");
k.O(M.E.B,this.Rb,this);this.sU.push(k);I.appendChild(k.Z)}};ke.mixr.prototype=new ke;ke.mixr.prototype.k=function(){this.XE.k();
this.mC.k();for(var Y=0;Y<4;Y++)this.sU[Y].k()};ke.mixr.prototype.j=function(I){this.WN=JSON.parse(JSON.stringify(I));
this.lX()};ke.mixr.prototype.l=function(I){return JSON.parse(JSON.stringify(this.WN))};ke.mixr.prototype.Rb=function(I){if(I.target!=this.XE){var k=fo.Am(this.WN);
if(I.target==this.mC){k.mC=this.mC.l();if(k.mC)k.P=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else k.P=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var a=(k.mC?0:this.XE.l())*5,Y=this.sU.indexOf(I.target);
k.P[a+(Y<3?Y:4)]=I.target.l()}this.WN=fo.qE(k)}this.lX();this.JT()};ke.mixr.prototype.lX=function(){var I=fo.Am(this.WN);
if(I.mC!=this.adL)this.XE.wS(I.mC?[[13,1,7]]:fo.fd);this.adL=I.mC;this.mC.j(I.mC);var k=(I.mC?0:this.XE.l())*5;
for(var Y=0;Y<4;Y++)this.sU[Y].j(I.P[k+(Y<3?Y:4)])};ke.post=function(){ke.call(this,"post");this.yG.push(new f7([4,1],2,255,null));
this.Ui()};ke.post.prototype=new ke;ke.post.prototype.xI=function(I,k){k[0]=I.Lvls.v};ke.post.prototype.PC=function(I,k){I.Lvls.v=k[0]};
ke.clrL=function(){ke.call(this,"clrL");this.yG.push(new kQ("LUTs"));this.Ui()};ke.clrL.prototype=new ke;
ke.clrL.prototype.xI=function(I,k){k[0]=I};ke.clrL.prototype.PC=function(I,k){var a=k[0];for(var n in a)I[n]=a[n]};
ke.clrL.prototype.wu=function(I,k){if(k==f9._7||k==f9.gh)this.yG[0].rt(I.ayy)};ke.rplc=function(){ke.call(this,"rplc");
this.yG.push(new f7([12,92],0,200));this.yG.push(new ek);this.yG.push(new f7([12,8],-180,180));this.yG.push(new f7([12,9],-100,100));
this.yG.push(new f7([12,10],-100,100));this.Ui()};ke.rplc.prototype=new ke;ke.rplc.prototype.xI=function(I,k){k[0]=I.Fzns.v;
k[1]=I.Mxm.v;k[2]=I.H.v;k[3]=I.Strt.v;k[4]=I.Lght.v};ke.rplc.prototype.PC=function(I,k){function a(s,C){C.Lmnc.v=s.eI;
C.A.v=s.M;C.B.v=s.J}I.Fzns.v=k[0];I.H.v=k[2];I.Strt.v=k[3];I.Lght.v=k[4];var n=j.G.GW(k[1]),s=j.r1(n.$,n.H,n.J);
a(s,I.Mnm.v);a(s,I.Mxm.v)};ke.fade=function(){ke.call(this,"fade");this.yG.push(new f7([12,0],0,100,"%"));
this.yG.push(new fB([12,19,0],aU.L6,aU.e2));this.Ui()};ke.fade.prototype=new ke;ke.fade.prototype.xI=function(I,k){k[0]=I.Opct.v.val;
k[1]=aU.$k.indexOf(I.Md.v.BlnM)};ke.fade.prototype.PC=function(I,k){I.Opct.v.val=k[0];I.Md.v.BlnM=aU.$k[k[1]]};
ke.aply=function(){var I=aU.$k.concat(["Add","Sbtr"]);I.splice(21,1);var k=aU.L6.concat([[15,10,28],[15,10,21]]);
k.splice(21,1);var a=aU.e2.slice(0);a[4]--;function n(){ke.call(this,"aply");this.yG.push(new fB([0,3],[]));
this.yG.push(new fB([12,4],["RGB"].concat(fo.fd).concat(["Transparency"])));this.yG.push(new dI([4,11]));
this.yG.push(new fB([12,19,0],k,a));this.yG.push(new f7([12,0],0,100,"%"));this.yG.push(new fM([12,38],1,2,null,2));
this.yG.push(new fM([12,6],-255,255));this.yG.push(new dI([13,5]));this.Ui([2]);this.s2=null}n.prototype=new ke;
n.prototype.xI=function(s,C,T){if(T){var S=T[2].R,D=this.s2=[];for(var Y=0;Y<S.length;Y++){var o=S[Y].getName();
D.push(o.length<30?o:o.slice(0,27)+"...")}D.reverse();this.yG[0].wS([[5,7]].concat(D),[1,D.length])}else var D=this.s2;
s=s.With.v;var v=s.T.v;C[0]=v[1].t=="name"?1+D.indexOf(v[1].v.val):0;C[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(v[0].v.enum);
C[2]=s.Invr.v;var g=s.Clcl.v.Clcn;C[3]=I.indexOf(g);C[4]=s.Opct.v.val;C[5]=s.Scl.v;C[6]=s.Ofst.v;C[7]=s.PrsT.v};
n.prototype.PC=function(s,C){s=s.With.v;var T=s.T.v;if(C[0]==0)T[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else T[1]={t:"name",v:{classID:"Lyr",val:this.s2[C[0]-1]}};T[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][C[1]];
s.Invr.v=C[2];var S=s.Clcl.v.Clcn=I[C[3]];s.Opct.v.val=C[4];s.Scl.v=C[5];s.Ofst.v=C[6];s.PrsT.v=C[7];
var D=S=="Add"||S=="Sbtr";this.yG[5].wl(D);this.yG[6].wl(D)};return n}();ke.matc=function(){var I,k,a=0;
function n(){ke.call(this,"matc");this.yG.push(new f7("Luminance",1,200));this.yG.push(new f7("Color Intensity",1,200));
this.yG.push(new f7([2,11],0,100,"%"));this.yG.push(new dI("Neutralize"));this.yG.push(new fB([12,70],[]));
this.yG.push(new fB([0,3],[]));this.Ui([2])}function s(C,T){C.yG[5].wS([[5,7]].concat(T),[1,T.length])}n.prototype=new ke;
n.prototype.xI=function(C,T,S){a=0;T[0]=C.Lght.v;T[1]=C.ClrR.v;T[2]=C.Fade.v;T[3]=C.neutralizeColor?C.neutralizeColor.v:!1;
T[4]=T[5]=0;var D=C.Srce;if(D)D=D.v;if(S){I=[];k=[];var o=S[2],v=S[3];for(var Y=0;Y<v.length;Y++){var g=v[Y];
I.push(g.name);var d=g.R,R=[];k.push(R);for(var c=0;c<d.length;c++)R.push(d[c].getName());R.reverse()}this.yG[4].wS([[13,1,0]].concat(I),[1,I.length]);
var e=v.indexOf(o);if(D)e=I.indexOf(D[1].v.val);s(this,k[e])}if(D){var O=I.indexOf(D[1].v.val);T[3]=a=1+O;
if(D[0].t=="name")T[4]=1+k[O].indexOf(D[0].v.val)}};n.prototype.PC=function(C,T){C.Lght.v=T[0];C.ClrR.v=T[1];
C.Fade.v=T[2];C.neutralizeColor.v=T[3];if(T[4]==0){C.noReference={t:"bool",v:!0};delete C.Srce}else{if(T[4]!=a){a=T[4];
s(this,k[T[4]-1])}delete C.noReference;var S={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}},D=k[T[4]-1];
if(T[5]!=0)S={t:"name",v:{classID:"Lyr",val:D[T[5]-1]}};C.Srce={t:"obj ",v:[S,{t:"name",v:{classID:"Dcmn",val:I[T[4]-1]}}]}}};
return n}();function c2(I,k){gB.call(this);if(I==null)return;this.id=k;this.AS=I;this.kB=null;this.Z=$.I("div","window "+k);
this.ayT=null;this.Jg=$.I("div","whead");this.ayX=$.I("span","wname");this.Jg.appendChild(this.ayX);
this.afB=!1;this.Z.appendChild(this.Jg);this.iE=this.aAS.bind(this);this.pW=this.aqs.bind(this);this.HL=this.a34.bind(this);
$.$j(this.Jg);$.Ar(this.Jg,this.iE);this.aoW=$.I("span","cross gsicon");this.Jg.appendChild(this.aoW);
c2.prototype.k.call(this);$.hf(this.aoW,this.ayA.bind(this));this.body=$.I("div","body");this.Z.appendChild(this.body)}c2.prototype=new gB;
c2.prototype.UC=function(){return!1};c2.prototype.s$=function(){return!1};c2.prototype.k=function(){if(this.AS==null)return;
this.ayX.textContent=hJ.get(this.AS)};c2.prototype.Vr=function(I,k,a,n,s){};c2.prototype.oS=function(I,k,a,n,s){};
c2.prototype.Fr=function(I,k,a,n,s){};c2.prototype.pE=function(I,k,a,n,s){};c2.prototype.pC=function(I,k,a,n,s){};
c2.prototype.Bf=function(I,k,a,n){if(n.W(as.da)&&this.ZR)this.ZR();if(n.W(as.nU)){var s=new d2(M.E.r);
s.tQ=!0;E.rD.a5m(n,s);if(s.data)k.a(s)}};c2.prototype.rI=function(I){return!1};c2.prototype.Ud=function(I,k){return!0};
c2.prototype.tc=function(I,k,a,n){};c2.prototype.wu=function(I,k){};c2.prototype.ts=function(I,k){return null};
c2.prototype.aDE=function(I){return this.ayT};c2.prototype.bb=function(){};c2.prototype.close=function(){this.a(new d2(M.E.CY))};
c2.prototype.aAS=function(I){this.kB=$.Ea(I,this.Z);$.YU(window,this.pW);$.hf(window,this.HL)};c2.prototype.aqs=function(I){var k=this.Z.parentNode,a=$.Ea(I,k),n=Math.round(a.x-this.kB.x),s=k.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(a.y-this.kB.y)));
this.ayT=new kK(n,s);this.Z.style.left=n+"px";this.Z.style.top=s+"px"};c2.prototype.a34=function(I){$.qD(window,this.pW);
$.Yf(window,this.HL)};c2.prototype.ayA=function(I){if(this.afB){this.ZR();return}this.a(new d2("closebtn"));
this.close()};function kC(){c2.call(this,"About Photopea","aboutpp");var I=$.I("div","flexrow");this.body.appendChild(I);
var k=this.aEZ=$.I("img");I.appendChild(k);this.body.setAttribute("style","margin:0; padding:0");var a=this.cK=$.I("div");
a.innerHTML=kC.Q6;I.appendChild(a);var n=this.r8=$.I("span");n.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(n)}kC.prototype=new c2;kC.prototype.ts=function(I,k){return new kK(0,0)};kC.prototype.bb=function(I,k){var a=this.aEZ,n=this.cK,s=this.r8,C=(I+k-42-42)/110;
C=Math.sqrt((I-42)*(k-42))/50;a.setAttribute("style","width:"+I/2+"px; height:"+k+"px; display:block; object-fit:cover;");
n.setAttribute("style","width:"+(I/2-42)+"px; height:"+(k-42)+"px; padding:20px; font-size:"+C+"px;");
s.setAttribute("style","position:absolute;  bottom:10px; right:"+(I/2+10)+"px")};kC.prototype.k=function(){};
kC.prototype.tc=function(I,k,a,n){this.aEZ.setAttribute("src","promo/ivan_pp.webp")};kC.Q6="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 30-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i></p>\t";
function kh(){c2.call(this,[0,13,0],"account");this.nZ=$.I("div","form scrollable");this.body.appendChild(this.nZ);
this.body.style.padding="0";this.jJ=[new kh.QP,new kh.Sa("::"+bU.Wn("privacy.html")),new kh.Sa(kh.aj_)];
for(var Y=0;Y<this.jJ.length;Y++)this.jJ[Y].parent=this;this.O("showpage",this.abx,this)}kh.prototype=new c2;
kh.prototype.Ud=function(I,k){var a=navigator.onLine;if(!a)alert("Go online first");return a};kh.prototype.bb=function(I,k){this.nZ.setAttribute("style","width:"+Math.min(I-40,740)+"px;  height:"+(k-38)+"px;  padding:1.5em;");
this.jJ[0].bb(I,k)};kh.prototype.ts=function(I,k){return new kK(Math.max(0,Math.min(150,(I-740)/2)),Math.max(0,Math.min(100,(k-500)/2)))};
kh.prototype.abx=function(I){$.GD(this.nZ);this.nZ.scrollTop=0;this.nZ.appendChild(this.jJ[I.data.Gq].Z)};
kh.prototype.k=function(){c2.prototype.k.call(this);for(var Y=0;Y<this.jJ.length;Y++)this.jJ[Y].k()};
kh.prototype.tc=function(I,k,a){if(!navigator.onLine)return;$.GD(this.nZ);var n=this.jJ[0];this.nZ.appendChild(n.Z);
n.tc();this.k()};kh.prototype.wu=function(I,k){this.tc(null,null,null)};kh.QP=function(){gB.call(this);
this.Z=$.I("div");var I=this.Z,S,D,v="font-size:1.25em;",g="text-align:center;",R="style=\"list-style-type: none; padding:0;  margin:0; font-size:1.15em;\"",c="style=\"font-weight:bold; color:#00aa00; padding-right:4px;\"",e="style=\"width:50%; vertical-align:top; padding:10px 20px;\"",K=12;
this.aS=$.I("div");I.appendChild(this.aS);this.Ua=new iP([0,11],!1,null,!0);this.Ua.Z.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.Ua.O("click",this.f8,this);I.appendChild(this.Ua.Z);this.zt=new iP([0,13,1],!1,null,!0);this.zt.O("click",this.aDc,this);
I.appendChild(this.zt.Z);this.cE=new iP("Business Terms",!1,null,!0);this.cE.O("click",this.aeR,this);
I.appendChild(this.cE.Z);var k=$.I("div");k.style.margin="20px 0";I.appendChild(k);var a=["Account Types","Go Premium","Team Settings","Distributors"],n=this.wp=[],s=this.ajg=[],C=this.PJ=$.I("div");
I.appendChild(C);for(var Y=0;Y<a.length;Y++){var T=$.I("span");T.textContent=a[Y];k.appendChild(T);n.push(T);
T.setAttribute("style","font-weight:bold; display:inline-block;  margin-right:2em; font-size:1.1em; cursor:pointer;");
T.addEventListener("click",this.Bp.bind(this));s.push($.I("div"))}this.Bp(0);var o=this.akR="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; color:#ffffff; cursor:pointer; margin:4px 0; width:100%;";
I=s[0];var D=$.I("table"),d="style=\" "+g+v+" padding-bottom:20px;\"";D.innerHTML="\t\t\t<tr>\t\t\t\t<th>FREE</th><th>PREMIUM</th>\t\t\t</tr>\t\t\t<tr>\t\t\t\t<td "+e+">\t\t\t\t\t<div "+d+">\t\t\t\t\t\t<sup>$</sup><big><big><b>0</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+c+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+c+">\u2713</span> PeaDrive 0.5 GB</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t\t<td "+e+">\t\t\t\t\t<div "+d+" title=\"Order 90 days for $15, to get a cost of $5 per month.\">\t\t\t\t\t\tFrom <sup>$</sup><big><big><b>5</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+c+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+c+">\u2713</span> PeaDrive 5 GB</li>\t\t\t\t\t\t\t<li><span "+c+">\u2713</span> No Ads <a href=\"//www.photopea.com/promo/no_ads.png\" target=\"_blank\">\uD83D\uDC41</a></li>\t\t\t\t\t\t\t<li><span "+c+">\u2713</span> 2\xD7 more steps in history</li> \t\t\t\t\t\t\t<li><span "+c+">\u2713</span> quick <a href=\"mailto:support@photopea.com\">email support</a></li> \t\t\t\t\t\t</ul>\t\t\t\t\t\t<span style=\"margin:10px 0 12px 0; font-size:0.75em;\">* No subscription, just one-time payments</span> \t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t";
I.appendChild(D);var T=new iP("Go Premium");T.Z.setAttribute("style",o+"padding:10px 0;");T.O("click",function(H){this.Bp(1)},this);
D.children[0].children[1].children[1].appendChild(T.Z);this.K_=$.I("div");I.appendChild(this.K_);I=s[1];
var O=this.aC3=[[8,30,1],[15,90,1],[50,365,1],[20,30,5],[45,90,5],[150,365,5],[70,30,20],[150,90,20],[500,365,20],[150,30,50],[300,90,50],[999,365,50],[60,30,1e3],[120,90,1e3],[450,365,1e3],[150,30,5e3],[300,90,5e3],[1e3,365,5e3],[300,30,2e4],[600,90,2e4],[2e3,365,2e4]];
this.S3=[];for(var Y=0;Y<O.length;Y++)this.S3.push(new iP("Buy: $"+O[Y][0],!1,null,!0));for(var Y=0;
Y<this.S3.length;Y++){this.S3[Y].O("click",this.awz,this)}this.Fa=new iP("...",!0);this.Fa.Z.setAttribute("style",o);
I.appendChild(this.Fa.Z);D=this.aCR(4,["Single user",this.S3[0],this.S3[1],this.S3[2],"Team of 5",this.S3[3],this.S3[4],this.S3[5],"Team of 20",this.S3[6],this.S3[7],this.S3[8],"Team of 50",this.S3[9],this.S3[10],this.S3[11]]);
I.appendChild(D);var U=$.I("div");I.appendChild(U);U.textContent="Premium lasts for X days: after X days, you are switched back to a free version (with ads).";
this.asZ=new dI("I accept",!0,"");I.appendChild(this.asZ.Z);this.B$=new iP([0,13,1],!1,null,!0);this.B$.O("click",this.aDc,this);
I.appendChild(this.B$.Z);this.MZ=new iP("I have a key",!1,null,!0);this.MZ.Z.setAttribute("style",o+" float:right; width:inherit;");
this.MZ.O("click",this.awz,this);I.appendChild(this.MZ.Z);I=s[2];this.Ew=new bj;this.Ew.parent=this;
this.Ew.O(M.E.B,this.GA,this);I.appendChild(this.Ew.Z);I=s[3];this.un=new iP("...",!0);this.un.Z.setAttribute("style",o);
I.appendChild(this.un.Z);D=this.aCR(3,["1000 views/mo",this.S3[K++],this.S3[K++],this.S3[K++],"5000 views/mo",this.S3[K++],this.S3[K++],this.S3[K++],"20000 views/mo",this.S3[K++],this.S3[K++],this.S3[K++]]);
I.appendChild(D);var _=$.I("p");_.innerHTML="Insert Photopea into your webpage, with no ads, under your own brand \t\t... <a href=\"https://www.photopea.com/api/accounts#distributors\" target=\"_blank\" style=\"color:inherit;\">More</a>";
I.appendChild(_);this.tE=new ja("Domain name (e.g. domain.com)",null,14);I.appendChild(this.tE.Z);var Z=new iP("Save Domain Settings",!1,null,!0);
Z.rG();I.appendChild(Z.Z);Z.O("click",this.ayv,this)};kh.QP.prototype=new gB;kh.QP.prototype.Bp=function(I){var k=typeof I=="number"?I:this.wp.indexOf(I.target);
for(var Y=0;Y<4;Y++)this.wp[Y].style.opacity=.6;this.wp[k].style.opacity=1;$.GD(this.PJ);this.PJ.appendChild(this.ajg[k])};
kh.QP.prototype.bb=function(I,k){var a=I<600?"d":" days",n=["30 days","90 days","365 days"];if(I<600)n=["30d","90d","365d"];
var s=this.aC3;for(var Y=0;Y<s.length;Y++){this.S3[Y].jO("<span>"+n[Y%3]+": <sup>$</sup><big><b>"+s[Y][0]+"</b></big>"+"</span>");
this.S3[Y].Z.setAttribute("style",this.akR)}};kh.QP.prototype.aDc=function(I){var k=new d2("showpage",!0);
k.data={Gq:1};this.a(k)};kh.QP.prototype.aeR=function(I){var k=new d2("showpage",!0);k.data={Gq:2};this.a(k)};
kh.QP.prototype.k=function(){this.Ua.jO(bU.za()?hJ.get([0,11]):hJ.get([0,10]));this.B$.k();this.zt.k();
this.cE.k()};kh.QP.prototype.azk=function(I){var k=new d2(M.E.b,!0);k.data={q:M.p.Bc,link:"https://www.photopea.com/api/accounts#"+(I.target==this.ac4?"teams":"distributors")};
this.a(k)};kh.QP.prototype.a8o=function(I){var k=I.currentTarget==this.afu;this.afu.j(k);this.air.j(!k)};
kh.QP.prototype.aDM=function(I){var k=this.afu.l(),a=this.aog.l().trim().toLowerCase(),n=this.afA.value.trim().toLowerCase();
if(a.length>60){alert("Too long email address");return}if(n.length>600){alert("Too many team members");
return}n=n.split(",").join(" ").trim();n=n.replace(/\s+/g," ");if(n=="")n=[];else n=n.split(" ");var s=bU.So();
if(s==null)s={};if(s.acc==null)s.acc={};s.acc.team={jin:k,ldr:a,mmb:n};bU.rO(s,this.GA.bind(this));alert("Saved!");
this.tc()};kh.QP.prototype.ayv=function(I){var k=this.tE.l().trim();if(!bU.za()){alert("You have to log in first.");
return}if(bU.Kq()==0){alert("Order a distributor account first.");return}var a=bU.So();if(a==null)a={};
if(a.acc==null)a.acc={};if(k=="")delete a.acc.dname;else a.acc.dname=k;bU.rO(a,this.GA.bind(this));alert("Saved!");
this.tc()};kh.QP.prototype.a4H=function(I){var k=bU.U8(),Y=this.if,a=bU.So();if(a==null)a={};if(a.acc==null)a.acc={};
a.acc.bto=I;bU.rO(a,function(){});var n=kh.adv(I.split("\n"),k.pmnts[Y]);ji.save(n,"photopea_invoice.pdf")};
kh.QP.prototype.a2_=function(I){var k=bU.U8(),a=bU.So(),n=a.acc?a.acc.bto:null;if(n==null)n=k.name+"\n"+k.email;
var Y=-1,s=I.target.Z.parentNode;while((s=s.previousSibling)!=null)Y++;this.if=Y;var C=new d2(M.E.b,!0);
C.data={q:M.p.Fu,aw:"billto",P6:n,h1:this.a4H.bind(this)};this.a(C)};kh.QP.prototype.tc=function(){this.aS.innerHTML="";
$.GD(this.K_);if(bU.za()){var I=bU.U8(),k=I.pmnts;if(I==null)return;this.aS.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+I.name+"</span> "+I.email+" <br/>";
if(k){var a="<h2>Payments</h2>";for(var Y=0;Y<k.length;Y++){var n=k[Y],s=new Date(n[0]*1e3);a+="<div style=\"font-size:1.2em\">"+s.getDate()+". "+(s.getMonth()+1)+". "+s.getFullYear()+" - "+kh.atG(n)+"</div>"}this.K_.innerHTML=a;
for(var Y=0;Y<k.length;Y++){var C=new iP("Get Invoice",!1,null,!0);C.Z.setAttribute("style","float:right");
C.O("click",this.a2_,this);this.K_.children[Y+1].appendChild(C.Z)}}}else{}var T=bU.za()&&bU.Oa();this.Fa.Z.style.display=T?"block":"none";
if(T){var S,D,o=T;if(o[0]==0){S=bU.X3(o[1])-Date.now()*(1/1e3);D=o[1][2]==1?"Single User":"Team Of "+o[1][2]}else{S=o[1][1]-Date.now()*(1/1e3);
D="Member of \""+o[1][0]+"\""}this.Fa.jO("Premium active for "+Math.round(S/(60*60*24))+" more days! ("+D+")")}var v=bU.za()&&bU.Kq()*1e3>Date.now();
this.un.Z.style.display=v?"block":"none";if(v){var S=bU.Kq()-Date.now()/1e3;this.un.jO("Distributor active for "+Math.round(S/(60*60*24))+" more days!")}var g=bU.So();
this.Ew.tc();if(g&&g.acc&&g.acc.dname)this.tE.j(g.acc.dname);else this.tE.j("")};kh.QP.prototype.aCR=function(I,k){var a=$.I("table");
if(!0){var n="<table><tr>";for(var Y=0;Y<I;Y++)n+="<th>"+k[Y*4]+"</th>";n+="</tr></table>";a.innerHTML=n;
for(var Y=0;Y<3;Y++){var s=$.I("tr"),C;a.appendChild(s);for(var T=0;T<I;T++){C=$.I("td");C.style.width=Math.round(100/I)+"%";
s.appendChild(C);C.appendChild(k[T*4+1+Y].Z)}}}return a};kh.QP.prototype.awz=function(I){var k=this.S3.indexOf(I.currentTarget),n=30,s=1;
if(!bU.za()){this.f8();return}if(this.asZ.l()==!1&&k<12){alert("You must accept Terms of Service");return}var a=bU.za()&&bU.Oa();
if(k!=-1){var C=this.aC3[k];n=C[1];s=C[2]}if(a&&s<1e3){alert("You already have premium.");return}console.log(C,n,s);
if(k==-1){var T=prompt("Please enter your key");if(T!=null){bU.ak3(T,this.GA.bind(this));this.IK()}return}if(n==30&&s==1){var S=confirm("You can have 90 days for $15. Do you still want a 30 days version for $8?");
if(!S)return}bU.order(n,s,this.GA.bind(this));this.IK()};kh.QP.prototype.GA=function(I){this.tc();this.IK()};
kh.QP.prototype.f8=function(I){if(bU.za()){bU.acF();this.IK();this.tc(null,null,null)}else bU.f8(this.a5_.bind(this))};
kh.QP.prototype.a5_=function(){var I=new d2(M.E.b,!0);I.data={q:M.p.ahA};this.a(I)};kh.QP.prototype.IK=function(){var I=new d2(M.E.b,!0);
I.data={q:M.p.anR};this.a(I)};kh.Sa=function(I){gB.call(this);this.Z=$.I("div");var k=this.Z,a=this.a1o=new iP([0,13,2],!1,null,!0),n;
a.O("click",this.aBW,this);k.appendChild(a.Z);if(I.startsWith("::")){n=$.I("iframe");n.setAttribute("style","width:100%;height:1700px; background-color:white;");
n.setAttribute("src",I.slice(2))}else{n=$.I("div");n.innerHTML=I}k.appendChild(n)};kh.Sa.prototype=new gB;
kh.Sa.prototype.aBW=function(I){var k=new d2("showpage",!0);k.data={Gq:0};this.a(k)};kh.Sa.prototype.k=function(){this.a1o.k()};
kh.aj_="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (IČ 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: Hálkova 483, 517 41 Kostelec nad Orlicí, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Gočárova třída 1754 / 48b, Hradec Králové</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" loading=\"lazy\" />\t";
kh.atG=function(I){var k=I[1]+" days, ";if(I[2]<1e3)return"Photopea Premium ("+k+I[2]+" user"+(I[2]==1?"":"s")+")";
else return"Photopea Distributor ("+k+I[2]+" views/month)"};kh.adv=function(I,k){I=["Bill To:"].concat(I);
var a=new ToPDF,n=595,s=842,C=40,T=18,S=12,D=500,o=100,v=400,e=0;function g(p,V,r,y,W){R.font.Tf=W?"Helvetica-Bold":"Helvetica";
R.ctm=[1,0,0,1,V,r];R.font.Tfs=y?y:S;a.PutText(R,p,0)}function d(p,V,r,y){for(var Y=0;Y<p.length;Y++){g(p[Y],V,r-Y*y,null,Y==0)}}var R=UDOC.getState();
a.StartPage(0,0,n,s);g("INVOICE",n-C-140,s-C-30,30,!0);d(["Bill From:","Ivan Kuckir","Hálkova 483, 517 41 Kostelec nad Orlicí","Tax ID: CZ9011014309"],C,s-C-40,T);
var c=new Date(k[0]*1e3);d(["Date: "+c.getDate()+". "+(c.getMonth()+1)+". "+c.getFullYear(),"Transaction ID: "+k[4]],n-C-140,s-C-40-T*2,T);
var O=I.join("");for(var Y=0;Y<O.length;Y++)e=Math.max(e,O.charCodeAt(Y));if(e>256){var U=4,K=$.I("canvas"),_=K.getContext("2d"),Z=0;
_.font=S*U+"px sans-serif";for(var Y=0;Y<I.length;Y++)Z=Math.max(Z,_.measureText(I[Y]).width);var H=Math.round(Z)+20,G=I.length*U*T+20;
K.width=H;K.height=G;_.font=S*U+"px sans-serif";for(var Y=0;Y<I.length;Y++){_.font=(Y==0?"bold ":"")+S*U+"px sans-serif";
_.fillText(I[Y],10,(Y+1)*U*T)}document.body.appendChild(K);var N=new Uint8Array(_.getImageData(0,0,H,G).data.buffer);
R.ctm=[H/U,0,0,G/U,C-10/U,s-C-40-100-G/U];a.PutImage(R,N,H,G);R.ctm=[1,0,0,1,0,0]}else d(I,C,s-C-40-100,T);
R.colr=[.8,.8,.8];R.pth={cmds:["M","L","L","L","Z"],crds:[C,D,n-C,D,n-C,D-T,C,D-T]};a.Fill(R);R.colr=[0,0,0];
var z=[C,D,n-C,D,C,D-T,n-C,D-T,C,D-o,n-C,D-o,C,D,C,D-o,n-C,D,n-C,D-o,v,D,v,D-o],L=[];for(var Y=0;Y<z.length;
Y+=4)L.push("M","L");R.pth={cmds:L,crds:z};a.Stroke(R);g("Order details",C+4,D-14);g(kh.atG(k),C+4,D-T-14);
g("TOTAL:",C+4,D-o-14,null,!0);g("Price",n-C-50,D-14);g(k[3]+" USD",n-C-60,D-T-14);g(k[3]+" USD",n-C-60,D-o-14,null,!0);
g("www.Photopea.com",C,C);g("support@photopea.com",n-C-130,C);a.ShowPage();a.Done();return a.buffer};
function bN(){c2.call(this,[11,14],"addguides");this.Tt;this.wY={M6:{NY:0}};this.T2=null;var I=$.I("div","form");
this.body.appendChild(I);this.DA=[];this.j3=new f8(null,["Hi"]);I.appendChild(this.j3.Z);$.FI(I);this.j3.O(M.E.B,this.Wm,this);
this.AK=new ja([22,4,0],null,16);this.AK.O(M.E.B,this.zr,this);this.We=new ja([22,4,1],null,16);this.We.O(M.E.B,this.zr,this);
this.tU=new fB(null,j.wJ.g7);this.tU.O(M.E.B,this.zr,this);I.appendChild(this.AK.Z);I.appendChild(this.tU.Z);
$.FI(I);I.appendChild(this.We.Z);this.vz=$.ZI(this,I);this.O("closebtn",this.jl,this)}bN.prototype=new c2;
bN.prototype.Ud=function(I,k){return I!=null};bN.prototype.UC=function(){return!0};bN.prototype.k=function(){c2.prototype.k.call(this);
this.AK.k();this.We.k();this.tU.k();this.vz.k()};bN.prototype.wu=function(I,k){var a=I.M6.NY;this.wY.M6.NY=a;
this.tU.j(a)};bN.prototype.tc=function(I,k){this.Tt=I;this.T2=JSON.stringify(I.Ru());this.DA=[-1];var a=["Global"],n=I.root.children,s=I.ev();
for(var Y=0;Y<n.length;Y++){var C=n[Y].o;if(C.add.artb){a.push(C.getName());this.DA.push(n[Y].index)}}this.j3.wS(a);
this.j3.j(this.DA.indexOf(s));this.Wm()};bN.prototype.Wm=function(){var I=this.Tt,k=I.Ru(),a=this.DA[this.j3.l()],n=[0,0];
if(a!=-1){var s=I.R[a].OR();n=[s.x,s.y]}var C=function(T,S,I,D,o){var v=T[0],g=[];for(var Y=0;Y<v.length;
Y++)if(T[1][Y]==a&&v[Y][0]==S)g.push(j.wJ.qO(v[Y][1]-n[S],I.oE,D,o));g.sort(function(d,R){return d-R});
return g.join(", ")};this.AK.j(C(k,1,I,this.wY,I._));this.We.j(C(k,0,I,this.wY,I.Q))};bN.prototype.zr=function(I){if(I&&I.currentTarget==this.tU)this.wY.M6.NY=this.tU.l();
else{var k=this.afv(),a=this.Tt;a.U_(k);a.Xi=!0}this.Wm()};bN.prototype.afv=function(){var I=this.Tt,k=I.Ru(),a=this.DA[this.j3.l()],n=[0,0];
if(a!=-1){var s=I.R[a].OR();n=[s.x,s.y]}var C=[];for(var T=0;T<2;T++){var S=T==0?this.We:this.AK,D=T==0?I.Q:I._,o=S.l().replace(/,/g," ").replace(/  +/g," ").trim(),v=o==""?[]:o.split(" ");
for(var Y=0;Y<v.length;Y++)C.push([T,j.wJ.a7G(v[Y],I.oE,this.wY,D)+n[T]])}for(var Y=0;Y<k[0].length;
Y++)if(k[1][Y]==a){k[0].splice(Y,1);k[1].splice(Y,1);Y--}for(var Y=0;Y<C.length;Y++){k[0].push(C[Y]);
k[1].push(a)}return k};bN.prototype.jl=function(I){var k=this.Tt;k.U_(JSON.parse(this.T2));k.Xi=!0;this.Tt=null};
bN.prototype.ZR=function(I){this.zr(I);var k=new d2(M.E.r,!0);k.S=E.Mt;k.data={q:"gids",La:JSON.parse(this.T2),qJ:this.Tt.Ru()};
this.Tt=null;this.close();this.a(k)};function h4(I){c2.call(this,{pdfpres:"PDF Presentation",cformat:"Convert Formats",batch:"Batch",mockups:"Generate Mockups"}[I],I);
this.wY=null;this.Tt=null;var k=$.I("div","form");this.body.appendChild(k);k.setAttribute("style","width:300px");
this.I1=new gL("Source Images",!0,!0);k.appendChild(this.I1.Z);this.WZ=new fB([12,14,0],["A4 Portrait","A4 Landscape",[12,93,3],"Adapt to images"]);
this.Wh=new dI("Order images by name");this.Wh.j(!0);var a=this.aq1=kk.QW();for(var Y=0;Y<a.length;Y++)if(kk.wV(a[Y]).di){a.splice(Y,1);
Y--}a.push("SVG","PDF");this.Ee=new fB([12,50],a);this.V6=new g1;this.Ee.O(M.E.B,this.ja,this);this.$x=new fB("Action Set",[]);
this.$x.O(M.E.B,this.wu,this);this.G6=new fB("Action",[]);this.ag=new dI("Stretch inserted files");this.ag.j(!0);
if(I=="pdfpres"){k.appendChild(this.WZ.Z);k.appendChild(this.Wh.Z)}else{if(I=="batch"){k.appendChild(this.$x.Z);
$.FI(k);k.appendChild(this.G6.Z);$.Se(k)}if(I=="mockups"){k.appendChild(this.ag.Z);$.FI(k)}k.appendChild(this.Ee.Z);
k.appendChild(this.V6.Z)}var n=["VAR0 PDF",[1,8]];if(I=="cformat")n="Convert Images";if(I=="batch")n="Process Images";
if(I=="mockups")n="Generate";var s=new iP(n,!0,null,!0);s.O("click",this.qz,this);k.appendChild(s.Z);
this.ja()}h4.prototype=new c2;h4.prototype.ja=function(I){var k=this.aq1[this.Ee.l()];this.V6.G7(k)};
h4.prototype.qz=function(I){var k=this.I1.l(),a=[],C=595,T=842,c;for(var n in k)a.push(n);if(a.length==0){alert("No images selected");
return}if(this.Wh.l())a.sort();var s=this.WZ.l(),S=new ToPDF,D=UDOC.getState(),o=this.aq1[this.Ee.l()],v=kk.wV(o),g=this.V6.l(),d={},R=this.Tt;
if(this.id=="mockups"){if(R==null){alert("Open a document with smart objects");return}var e=R.R[R.T[0]];
if(e.add.SoLd==null){e=null;for(var Y=0;Y<R.R.length;Y++)if(R.R[Y].add.SoLd)e=R.R[Y];if(e==null){alert("There are no smart objects in a current document.");
return}}R.T=[R.R.indexOf(e)];c=e.add.SoLd.Sz.v}for(var O=0;O<a.length;O++){var n=a[O],U=k[n],K=U[0]==255,_=kk.V1(U.buffer),Z=kk.wV(_),H=[{e3:new eZ,data:new ArrayBuffer(0)}],G=null;
if(_=="psd"&&!v.di)H=eF.avR(U.buffer);else if(Z.di){G=new iJ("file.psd");Z.Zn(U.buffer,G);G.N_();if(!v.di){if(G.P5)jW.tY(G,this.wY.IE,this);
G.V();G.pa();H=[{e3:new eZ(0,0,G.Q,G._),data:G.TB().buffer}]}}else H=Z.Zn(U.buffer);if(this.id=="batch"){var N=new d2(M.E.b,!0),z=this.wY,L=z.Jb,p=L[this.$x.l()];
for(var Y=0;Y<H.length;Y++){G=kk.Xl(n,[H[Y]]);N.data={q:M.p.kz,Z9:G};this.a(N);if(G.R.length==3)G.T=[1];
hW.awy(G,L,p.PJ[this.G6.l()].xn,p.xn,this);G.V();G.pa();H[Y].e3=new eZ(0,0,G.Q,G._);H[Y].data=G.TB().buffer;
H[Y].oE=G.oE;H[Y].Os=G.Os;N.data={q:M.p.kZ,Yx:G};this.a(N)}}if(this.id=="mockups"){var N=new d2(M.E.rd,!0);
N.data={pi:"placedLayerEditContents",zf:{classID:"placedLayerEditContents"}};this.a(N);var V=new d2(M.E.r,!0);
V.S=E.xf;V.data={q:X.Jn};this.a(V);var r=new Uint8Array(H[0].data),y=H[0].e3,W=c.Wdth.v,m=c.Hght.v;if(!this.ag.l()){var f=y.Q,h=y._,b=f/h,i=W/m;
if(i>b)f=Math.ceil(h*i);else h=Math.ceil(f/i);y.x=f-y.Q>>>1;y.y=h-y._>>>1;var w=new eZ(0,0,f,h),J=j.U(f*h*4);
j.ao(r,y,J,w);r=J;y=w}var q=E.nF.on([r,y],new dc(W/y.Q,0,0,m/y._,0,0));V.S=E.xf;V.data={q:X.Ab,uZ:{buffer:q.buffer,rect:q.rect}};
this.a(V);var N=new d2(M.E.b,!0);N.data={q:M.p.Vd};this.a(N);N.data={q:M.p.kZ};this.a(N);H=[{data:R.TB().buffer,e3:new eZ(0,0,R.Q,R._),oE:R.oE,Os:R.Os}];
V.data={q:"h_stepbck"};V.S=E.ca;this.a(V)}var x=H[0].e3,A=new Uint8Array(H[0].data),Q=x.Q,B=x._;if(this.id=="pdfpres"){var l=[[595,842],[842,595],[595,595],[595,0]][s];
if(s==3)l[1]=Math.round(l[0]*B/Q);var C=l[0],T=l[1],P=Math.min(C/Q,T/B);S.StartPage(0,0,C,T);D.ctm=[Q*P,0,0,B*P,(C-Q*P)/2,(T-B*P)/2];
S.PutImage(D,K?U:A,Q,B);S.ShowPage()}else{var F=n.split("."),t;F.pop();F.push(o.toLowerCase());if(v.di){if(G==null){G=kk.Xl(n,H);
G.N_()}t=v.G0(G,G.Q,G._,g,this.wY)}else{var b$=[];for(var Y=0;Y<H.length;Y++){var hd=H[Y],di=hd.Dq,hD=0;
if(di){di=di.split(",");if(di[1])hD=parseInt(di[1])}b$.push([hd.data,hD,hd.oE,hd.Qd,null,hd.Os])}t=v.G0(b$,Q,B,g)}d[F.join(".")]=new Uint8Array(t)}}if(this.id=="pdfpres"){S.Done();
ji.save(S.buffer,"file.pdf")}else{ji.save(UZIP.encode(d),"images.zip")}};h4.prototype.tc=function(I,k,a,n){this.Tt=I};
h4.prototype.wu=function(I,k){if(k!=null){this.wY=I;var a=I.Jb,n=[];for(var Y=0;Y<a.length;Y++)n.push(a[Y].xn);
this.$x.wS(n)}else I=this.wY;var a=I.Jb.length==0?[]:I.Jb[this.$x.l()].PJ,n=[];for(var Y=0;Y<a.length;
Y++)n.push(a[Y].xn);this.G6.wS(n)};h4.prototype.k=function(){c2.prototype.k.call(this);this.I1.k();this.WZ.k();
this.Wh.k()};function iU(I){var k=gJ.names[I];if(k==null)k=fo.names[I];if(I=="aply")k=[2,12];if(I=="fade")k=[2,11];
if(I=="matc")k=[4,18];if(I=="blendOptions")k=[14,10];c2.call(this,k,"afw_"+I);this.R_=I;this.uh=null;
this.pU=null;this.D_=new ke[I];this.D_.O(M.E.B,this.JT,this);this.D_.parent=this;this.body.appendChild(this.D_.Z);
this.FU=new dI([24,18,5]);this.FU.j(!0);this.FU.O(M.E.B,this.JT,this);this.CI=new iP([1,12,2],!0,null,!0);
this.CI.O("click",this.vr,this);this.vz=$.ZI(this);if(this.Z3())this.D_.vs(this.vz.Z);else{$.fO(this.D_.Z,"form");
$.fO(this.body,"flexrow");this.D_.Z.setAttribute("style","width:312px");var a=$.I("div");this.body.appendChild(a);
a.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");a.appendChild(this.vz.Z);a.appendChild(this.CI.Z);
a.appendChild(this.FU.Z)}this.O("closebtn",this.b5,this)}iU.prototype=new c2;iU.prototype.UC=function(){return!0};
iU.prototype.Z3=function(){return this.D_!=null&&this.D_.S6()};iU.prototype.ts=function(){return this.Z3()?new kK(0,0):c2.prototype.ts()};
iU.prototype.rI=function(I){return this.D_.rI(I)};iU.prototype.s$=function(){return this.D_.s$()};iU.prototype.Vr=function(I,k,a,n,s){this.D_.Vr(I,k,a,n,s)};
iU.prototype.Fr=function(I,k,a,n,s){this.D_.Fr(I,k,a,n,s)};iU.prototype.pE=function(I,k,a,n,s){this.D_.pE(I,k,a,n,s)};
iU.prototype.Ud=function(I,k){if(this.R_=="fade")return iU.ah9(I);return!0};iU.prototype.vr=function(I){this.D_.j(gJ.nI(this.R_));
this.JT()};iU.prototype.JT=function(I){this.A4({q:"edit",B9:this.D_.l(),RZ:!this.FU.l()})};iU.prototype.b5=function(I){this.A4({q:"cancel"})};
iU.prototype.ZR=function(I){if(!this.FU.l()){this.FU.j(!0);this.JT()}this.pU=this.D_.l();if(this.Z3())this.JT();
this.A4({q:"confirm"});this.close()};iU.prototype.k=function(){c2.prototype.k.call(this);this.FU.k();
if(this.D_)this.D_.k();this.vz.k()};iU.prototype.wu=function(I,k){if(this.D_)this.D_.wu(I,k)};iU.prototype.Bf=function(I,k,a,n){if(this.Z3())this.D_.Bf(n);
else c2.prototype.Bf.call(this,I,k,a,n)};iU.prototype.tc=function(I,k,a,n){this.uh=k.uh;var s=I.add.lnk2?I.add.lnk2:[],C,T,S=new eZ(0,0,I.Q,I._),D=I.R[I.T[0]],v=null;
C=D.buffer;T=D.rect;var o=I.f&&this.R_=="LqFy"&&k.uh==null;if(o){T=I.f.rect.clone();C=j.U(T.c()*4);j.ao(D.buffer,D.rect,C,T)}if(this.Z3()){v=I.TB(I.T[0]-1);
if(o){var g=j.U(T.c()*4);j.ao(v,S,g,T);S=T.clone();v=g}}var d=gJ.nI(this.R_),R=[s,I.TL,I,a];if(k.uh==null){this.D_.j(d,C,T,S,v,R);
if(fo.names[this.R_]){if(n.W(as.dE)&&this.pU)this.D_.j(this.pU);var c=E.zw.getData(I),e=j.I3(c[0].b6);
this.D_.cC(e)}}else{var O=!1,D=I.R[this.uh.o];if(D.st()){var U=D.kx(I);C=U.buffer;T=U.rect;var K=D.add.SoLd.filterFX.v.filterFXList.v;
if(K[this.uh.index]){var _=K[this.uh.index].v;this.D_.j(this.R_=="blendOptions"?_.blendOptions.v:_.Fltr.v,C,T,S,v,R);
this.D_.cC(j.I3(C));O=!0}}if(!O){this.D_.j(d,C,T,S,v,R);this.D_.cC(j.I3(C))}}if(!this.Z3()){this.JT();
var Z=this.D_;if(Z&&Z.yG&&Z.yG[0]&&Z.yG[0].$A&&Math.min(window.innerWidth,window.innerHeight)>500)Z.yG[0].$A()}};
iU.prototype.A4=function(I){var k=new d2(M.E.r,!0);I.R_=this.R_;I.uh=this.uh;if(this.R_=="VaPo"){I.P=this.D_.l();
I.eY=this.D_.ad1()}k.data=I;k.S=gJ.names[this.R_]||this.uh?E.OJ:E.N1;k.tQ=!0;this.a(k)};iU.prototype.bb=function(I,k){if(!this.D_.S6()){}else{this.body.style.padding="0";
this.D_.bb(I,k)}};iU.ah9=function(I){if(I==null)return!1;var k=I.HS();if(k==null||!(k.data instanceof Array)||k.data.length!=I.T.length)return!1;
for(var Y=0;Y<k.data.length;Y++){var a=k.data[Y];if(a.o<0&&I.TL[-1-a.o])return!0;if(a.o==null||I.R[a.o]==null||I.R[a.o].YY!=a.wr)return!1;
if(I.T.indexOf(a.o)==-1)return!1}return!0};function cw(){c2.call(this,[11,0],"camera");this.data=null;
this.Wz=new kK(1,1);this.a9n=[];var I=$.I("div","form hbar");this.body.appendChild(I);this.aiA=new fB(null,[]);
this.vx=new fB([21,0],[[21,2],[21,1]]);I.appendChild(this.vx.Z);this.nd=new fB(null,[]);this.nd.O(M.E.B,this.a0U,this);
I.appendChild(this.nd.Z);this.bT=new iP([11,0],!1,null,!0);this.bT.O("click",this.aa2,this);I.appendChild(this.bT.Z);
this.iC=new gv("");I.appendChild(this.iC.Z);this.stream=null;this.s1=$.I("video","");this.s1.setAttribute("autoplay","true");
this.body.appendChild(this.s1);this.agr=this.axb.bind(this);this.alr=this.a1B.bind(this);this.a2j=this.axD.bind(this);
this.O("closebtn",this.aCg,this)}cw.prototype=new c2;cw.prototype.k=function(){c2.prototype.k.call(this);
this.vx.k();this.bT.k();this.bb(this.Qq,this.L4)};cw.prototype.TB=function(){var I=this.s1.videoWidth,k=this.s1.videoHeight,a=$.I("canvas","");
a.width=I;a.height=k;var n=a.getContext("2d");n.drawImage(this.s1,0,0,I,k);var s=n.getImageData(0,0,I,k);
return{e3:new eZ(0,0,I,k),data:s.data.buffer}};cw.prototype.aa2=function(I){if(this.vx.l()==0)this.aBg();
else this.a7f()};cw.prototype.a7f=function(){var I=this.TB(),k={buffer:new Uint8Array(I.data),rect:I.e3},a=new d2(M.E.r,!0);
a.tQ=!0;a.S=E.xf;a.data={q:X.Ab,uZ:k};this.a(a);alert(hJ.get([21,4]))};cw.prototype.aBg=function(){var I=this.TB(),k=kk.Xl("camera",[I]),a=new d2(M.E.b,!0);
a.data={q:M.p.kz,Z9:k};this.a(a);alert(hJ.get([21,5]))};cw.prototype.tc=function(I,k,a){navigator.mediaDevices.enumerateDevices().then(this.asO.bind(this))};
cw.prototype.asO=function(I){var k=this.a9n=[],a=[];for(var Y=0;Y<I.length;Y++)if(I[Y].kind=="videoinput"){k.push(I[Y]);
a.push("Camera "+k.length)}this.nd.wS(a);this.nd.j(0);this.a0U()};cw.prototype.a0U=function(I){this.aCg();
var k={video:{deviceId:this.a9n[this.nd.l()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(k).then(this.agr).catch(this.alr);
else navigator.webkitGetUserMedia(k,this.agr,this.alr)};cw.prototype.axb=function(I){this.stream=I;this.s1.srcObject=I;
this.s1.addEventListener("loadedmetadata",this.a2j,!1)};cw.prototype.axD=function(I){this.s1.play();
this.bb(this.Qq,this.L4)};cw.prototype.ts=function(I,k){return new kK(0,0)};cw.prototype.bb=function(I,k){var a=this.s1.videoWidth,n=this.s1.videoHeight;
this.iC.j(a+" x "+n+" px");this.iC.Z.setAttribute("style","position:absolute;  left:14px; bottom:10px; z-index:1;");
this.Wz.dZ(a,n);this.Qq=I;this.L4=k;var s=I-28,C=k-28-30,T=this.Wz.x/this.Wz.y;if(s/C>T)s=C*T;else C=s/T;
this.s1.setAttribute("style","display: block; width: "+Math.round(s)+"px; height:"+Math.round(C)+"px;")};
cw.prototype.a1B=function(I){console.log("error",I);alert(hJ.get([21,6]));this.close()};cw.prototype.aCg=function(I){if(this.stream!=null){var k=this.stream.getTracks();
for(var Y=0;Y<k.length;Y++)k[Y].stop();this.stream=null}};function b6(){c2.call(this,[7,8],"crange");
this.Tt=null;this.Ev={eI:73,M:4.45,J:4};this.FJ={eI:73,M:4.45,J:4};this.body.style.width="20em";this.$C=new fB([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.$C.O(M.E.B,this.au5,this);this.body.appendChild(this.$C.Z);this.Q6=$.I("div","form");this.body.appendChild(this.Q6);
var I=this.av5=2,k=this.Gf=[new f7([12,92],0,200),new f8([12,36],[[18,0],"\uFF0B","-"]),new f7([12,92],0,100,"%"),new fM("Min",0,255),new fM("Max",0,255)];
k[0].j(40);k[I].j(40);for(var Y=0;Y<k.length;Y++){k[Y].O(M.E.B,this.lX,this);k[Y].parent=this}this.g8=$.I("canvas");
this.body.appendChild(this.g8);this.vz=$.ZI(this,this.body)}b6.prototype=new c2;b6.prototype.Ud=function(I,k){return I!=null};
b6.prototype.s$=function(){return!0};b6.prototype.UC=function(){return!0};b6.prototype.au5=function(I){var k=this.$C.l(),a=this.Gf,n=this.Q6,s=0,C=a.length,T=this.av5;
if(k==0)C=T;else{s=T;a[s+1].j([0,100,190][k-1]);a[s+1].wl(k!=1);a[s+2].j([60,150,255][k-1]);a[s+2].wl(k!=3)}$.GD(n);
for(var Y=s;Y<C;Y++){n.appendChild(a[Y].Z)}this.lX()};b6.prototype.k=function(){c2.prototype.k.call(this);
this.vz.k();this.$C.k();for(var Y=0;Y<this.Gf.length;Y++)this.Gf[Y].k()};b6.prototype.Vr=function(I,k,a,n,s){var C=I.w.m_(s.x,s.y);
this.axq(C.x,C.y)};b6.prototype.axq=function(I,k){var a=Math.min,n=Math.max,s=this.Tt,C=n(0,a(s.Q-1,Math.floor(I))),T=n(0,a(s._-1,Math.floor(k))),S=s.TB(),D=(T*s.Q+C)*4,o=S[D],v=S[D+1],g=S[D+2],d=j.r1(o,v,g),R=this.Gf[1].l(),c=this.Ev,e=this.FJ;
if(R==0){this.Ev=JSON.parse(JSON.stringify(d));this.FJ=d}else if(R==1){c.eI=a(c.eI,d.eI);c.M=a(c.M,d.M);
c.J=a(c.J,d.J);e.eI=n(e.eI,d.eI);e.M=n(e.M,d.M);e.J=n(e.J,d.J)}else if(R==2){var O=(c.eI+e.eI)/2,U=(c.M+e.M)/2,K=(c.J+e.J)/2;
if(d.eI<O)c.eI=n(c.eI,d.eI+10);else e.eI=a(e.eI,d.eI-10);if(d.M<U)c.M=n(c.M,d.M+1);else e.M=a(e.M,d.M-1);
if(d.J<K)c.J=n(c.J,d.J+1);else e.J=a(e.J,d.J-1)}this.lX()};b6.prototype.ZR=function(I){var k=this.$C.l(),a=this.Gf,n={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(k==0){var s=this.Ev,C=this.FJ;n.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:s.eI},A:{t:"doub",v:s.M},B:{t:"doub",v:s.J}}};
n.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:C.eI},A:{t:"doub",v:C.M},B:{t:"doub",v:C.J}}};n.Fzns={t:"long",v:a[0].l()}}else{k--;
var T=["shadows","midtones","highlights"][k];n.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][k]}};if(0<k)n[T+"LowerLimit"]={t:"long",v:a[3].l()};
if(k<2)n[T+"UpperLimit"]={t:"long",v:a[4].l()};n[T+"Fuzziness"]={t:"long",v:a[2].l()}}this.close();var S=new d2(M.E.rd,!0);
S.data={pi:"colorRange",zf:n};this.a(S)};b6.prototype.tc=function(I,k){this.Tt=I;this.axq(0,0);this.au5()};
b6.prototype.lX=function(){var I=this.Tt,k=this.$C.l(),a=this.Ev,n=this.FJ,s=this.Gf,C=s[0].l()/200,T=!1;
if(k>0){a=s[3].l();n=s[4].l();if(a>=n)a=n-1;T=!0;C=s[2].l()/100}var S=E.BN.km(I,a,n,C,T),D=S.rect,o=S.channel,v=this.g8,g=v.getContext("2d"),d=Math.floor(230*$.Y()),R=Math.floor(d*(D._/D.Q));
v.width=d;v.height=R;$.Kf(v,d,R);var c=j.U(o.length*4);j.IP(c,4294967295);for(var Y=0;Y<3;Y++)j.yv(o,c,Y);
var e=E.nF.on([c,D],new dc(d/D.Q,0,0,R/D._,0,0)),O=e.rect,U=new ImageData(new Uint8ClampedArray(e.buffer.buffer),O.Q,O._);
g.putImageData(U,0,0)};function fj(){c2.call(this,[12,76,1],"createshape");this.Nx=null;var I=$.I("div","form");
I.setAttribute("style","width:20em");this.body.appendChild(I);this.fx=new kp(!0,!0,null,!0,!0);this.fx.j(new kK(100,100));
I.appendChild(this.fx.Z);this.LO=new dI([19,5,3]);I.appendChild(this.LO.Z);this.vz=$.ZI(this,I)}fj.prototype=new c2;
fj.prototype.ZR=function(I){var k=this.fx.l();this.Nx.abL(this.Nx.axI,k.x,k.y,this.LO.l());this.close()};
fj.prototype.k=function(){if(this.Nx)this.AS=hJ.get([5,3])+": "+hJ.get(this.Nx.aqI);c2.prototype.k.call(this);
this.vz.k();this.fx.k();this.LO.k()};fj.prototype.tc=function(I,k){this.Nx=k;this.k();this.fx.j(this.fx.l(),I.oE)};
function dh(){c2.call(this,[11,1],"colorpicker");this.Zr=null;this.Kj=null;this.T$=null;this.OK=!1;this.jB=!1;
this.aub=[.9642,1,.8249];var I=$.I("div","flexrow"),T,S;this.body.appendChild(I);this.Co=new bB(256,!0);
this.Co.O(M.E.B,this.Bn,this);I.appendChild(this.Co.Z);var k=$.I("div","form");k.setAttribute("style","width:14.5em; margin-left:1em;");
I.appendChild(k);var a=$.I("div","flexrow");k.appendChild(a);var n=$.I("div");a.appendChild(n);n.style="width:95px; margin-right:14px";
this.acC=$.I("div","full");n.appendChild(this.acC);this.a1X=$.I("div","full");n.appendChild(this.a1X);
var n=$.I("col");a.appendChild(n);n.style.width="80px";this.vz=$.ZI(this,n);var a=$.I("div","flexrow");
k.appendChild(a);var s=$.I("div"),C=$.I("div");a.appendChild(s);a.appendChild(C);s.style=C.style="margin-left:14px; max-width:80px;";
T=["H","S","B"];S=s;this.Ks=[];for(var Y=0;Y<3;Y++){var D=0,o=360,v="\xB0";if(Y!=0){o=100;v="%"}var g=new fM(T[Y],D,o,v,0,!1,!0);
this.Ks.push(g);g.O(M.E.B,this.ahz,this);S.appendChild(g.Z);if(Y==2)g.Z.style.marginBottom="8px"}T=["R","G","B"];
S=s;this.Wa=[];for(var Y=0;Y<3;Y++){var g=new fM(T[Y],0,255,null,0,!1,!0);this.Wa.push(g);g.O(M.E.B,this.aad,this);
S.appendChild(g.Z)}T=["L","a","b"];S=C;this.u7=[];for(var Y=0;Y<3;Y++){var D=[0,-128,-128][Y],o=[100,127,127][Y],g=new fM(T[Y],D,o,null,0,!1,!0);
g.j(0);this.u7.push(g);g.O(M.E.B,this.acW,this);S.appendChild(g.Z);if(Y==2)g.Z.style.marginBottom="8px"}T=["C","M","Y","K"];
S=C;this.ZN=[];for(var Y=0;Y<4;Y++){var g=new fM(T[Y],0,100,"%",0,!1,!0);g.j(0);this.ZN.push(g);g.O(M.E.B,this.aAP,this);
S.appendChild(g.Z);if(Y==3)g.Z.style.marginBottom="8px"}this.AK=new ja("#",null,4.5);this.AK.O(M.E.B,this.wf,this);
s.appendChild(this.AK.Z);this.AK.Z.style.marginRight="0";this.bM=$.I("input","fitem");this.bM.setAttribute("type","color");
this.bM.setAttribute("style","width:59px;  margin-left:19px;");this.bM.addEventListener("change",this.wf.bind(this),!1);
this.Tp=new fT(9);this.Tp.O(M.E.B,this.wf,this);k.appendChild(this.Tp.Z);this.O("closebtn",this.b5,this);
this.Qp=!1}dh.prototype=new c2;dh.prototype.s$=function(){return!0};dh.prototype.ts=function(I,k){if(Math.min(I,k)>500)return null;
return new kK(Math.max(0,Math.min(150,(I-484)/2)),Math.max(0,Math.min(150,(k-316)/2)))};dh.prototype.bb=function(I,k){this.Co.bb(Math.min(256,I-226),k)};
dh.prototype.k=function(I,k){c2.prototype.k.call(this);for(var Y=0;Y<3;Y++){this.Wa[Y].k();this.Ks[Y].k();
this.u7[Y].k()}for(var Y=0;Y<4;Y++)this.ZN[Y].k();this.vz.k()};dh.prototype.Bn=function(I){this.Kj=this.Co.l();
this.update()};dh.prototype.Vr=function(I,k,a,n,s){this.Qp=!0;this.ay8(I,s)};dh.prototype.Fr=function(I,k,a,n,s){if(!this.Qp)return;
this.ay8(I,s)};dh.prototype.pE=function(I,k,a,n,s){this.Qp=!1};dh.prototype.ay8=function(I,k){this.Kj=j.uU(E.aY.jx(I,k,1),1);
this.update()};dh.prototype.aad=function(I){var k=this.Wa,a=this.y4(parseInt(k[0].l())),n=this.y4(parseInt(k[1].l())),s=this.y4(parseInt(k[2].l()));
this.Kj={$:a/255,H:n/255,J:s/255};this.update()};dh.prototype.ahz=function(I){var k=this.Ks,a=this.qQ(parseInt(k[0].l())/360),n=this.qQ(parseInt(k[1].l())/100),s=this.qQ(parseInt(k[2].l())/100);
this.Kj=j.ps(a,n,s);this.update()};dh.prototype.aAP=function(I){var k=this.ZN,a=[];for(var Y=0;Y<4;Y++){var n=this.aEh(parseInt(k[Y].l()));
k[Y].j(n);a.push(n/100)}var s=j.V5(a);this.Kj={$:s[0],H:s[1],J:s[2]};this.update(!0)};dh.prototype.acW=function(I){var k=this.u7,a=parseInt(k[0].l()),n=parseInt(k[1].l()),s=parseInt(k[2].l()),C=j.YD(a,n,s);
this.Kj={$:C.$/255,H:C.H/255,J:C.J/255};this.update()};dh.prototype.wf=function(I){var k;if(I.currentTarget==this.Tp)k=this.Tp.l();
else{k=I.currentTarget==this.AK?this.AK.l():this.bM.value;if(k.charAt(0)=="#")k=k.slice(1);if(k.length==3)k=k[0]+k[0]+k[1]+k[1]+k[2]+k[2];
k=j.a6b(k)}this.Kj=j.uU(k,1);this.update()};dh.prototype.ZR=function(I){this.aC0();var k=j.EQ(this.Kj,1);
this.T$(k);this.close();this.jB=!1;this.Kj=null};dh.prototype.b5=function(I){this.aC0();if(this.OK)this.T$(j.EQ(this.Zr,1));
this.jB=!1;this.Kj=null};dh.prototype.aC0=function(I){var k=new d2(M.E.b,!0);k.data={q:M.p.aCf};this.a(k)};
dh.prototype.wu=function(I,k){var a=dG.f2(I,k);if(a!=null)this.Tp.j(a);if(k!=f9.S8)return;if(this.Kj!=null){this.Kj=j.uU(a,1);
this.update()}};dh.prototype.tc=function(I,k){var a=j.uU(k.Ej,1);if(this.Kj==null){var n=new d2(M.E.b,!0);
n.data={q:M.p.Zk,s3:"crosshair",push:!0};this.a(n);this.Qp=!1;this.T$=k.XP;this.OK=!1;this.jB=k.Ph;this.Zr=JSON.parse(JSON.stringify(a));
this.a1X.setAttribute("style","height:2.3em;background-color:#"+j.pB(k.Ej)+";")}this.Kj=a;this.update()};
dh.prototype.update=function(I){var k=this.Kj,a=j.EQ(k,1);this.AK.j(j.pB(a));this.bM.value="#"+j.pB(a);
this.acC.setAttribute("style","height:2.3em;background-color:#"+j.pB(a)+";");var n=this.Wa;n[0].j(Math.round(k.$*255));
n[1].j(Math.round(k.H*255));n[2].j(Math.round(k.J*255));var s=j.zH(k.$,k.H,k.J);n=this.Ks;n[0].j(Math.round(s.L4*360));
n[1].j(Math.round(s.Yl*100));n[2].j(Math.round(s.B9*100));var C=j.r1(k.$*255,k.H*255,k.J*255,this.aub);
n=this.u7;n[0].j(Math.round(C.eI));n[1].j(Math.round(C.M));n[2].j(Math.round(C.J));if(I==null){var T=j.MP([k.$,k.H,k.J]);
n=this.ZN;n[0].j(Math.round(T[0]*100));n[1].j(Math.round(T[1]*100));n[2].j(Math.round(T[2]*100));n[3].j(Math.round(T[3]*100))}this.Co.j(k);
if(this.jB){this.T$(j.EQ(this.Kj,1));this.OK=!0}};dh.prototype.aEh=function(I){return Math.max(0,Math.min(100,I))};
dh.prototype.y4=function(I){return Math.max(0,Math.min(255,I))};dh.prototype.qQ=function(I){return Math.max(0,Math.min(1,I))};
function dg(){c2.call(this,[11,2],"contoureditor");this.aiq=null;this.tm=null;this.response=null;this.tI=$.I("div","cell");
this.body.appendChild(this.tI);this.TV=$.I("div","cell padded");this.body.appendChild(this.TV);var I=$.I("div","bordered padded vmargin");
this.tI.appendChild(I);this.D_=new fU(null,null,!0);this.D_.O(M.E.B,this._i,this);I.appendChild(this.D_.Z);
this.vz=$.ZI(this,this.TV);this.O("closebtn",this.dR,this)}dg.prototype=new c2;dg.prototype.ZR=function(){this.close()};
dg.prototype.k=function(){c2.prototype.k.call(this);this.vz.k();this.D_.k()};dg.prototype._i=function(I){this.tm.Crv.v=this.D_.l();
this.response(this.tm)};dg.prototype.dR=function(I){this.response(this.aiq)};dg.prototype.tc=function(I,k){this.aiq=JSON.parse(JSON.stringify(k.PJ));
this.tm=k.PJ;this.response=k.response;this.D_.j(this.tm.Crv.v)};function dt(){c2.call(this,[11,4],"duplinto");
this.Yx=null;this.TP=null;this.Ho=null;var I=$.I("div","form");I.setAttribute("style","max-width:26em");
this.body.appendChild(I);this.i5=new fB([12,43],["abc","def"]);this.i5.O(M.E.B,this.Rb,this);I.appendChild(this.i5.Z);
$.FI(I);this.sH=new fB([1,16,0],["abc","def"]);this.sH.O(M.E.B,this.Rb,this);I.appendChild(this.sH.Z);
$.FI(I);this.EK=new ja([12,48],null,14);I.appendChild(this.EK.Z);this.vz=$.ZI(this,I)}dt.prototype=new c2;
dt.prototype.UC=function(){return!0};dt.prototype.k=function(){c2.prototype.k.call(this);this.vz.k();
this.i5.k();this.EK.k()};dt.prototype.Rb=function(I){if(I&&I.target==this.sH)return;var k=this.i5.l(),a=this.TP[k],n=this.Yx,s=a!=null&&a.add.artd!=null;
for(var Y=0;Y<n.T.length;Y++)if(n.R[n.T[Y]].add.artb)s=!1;this.EK.wl(k==this.TP.length);this.sH.wl(s);
if(s){var C=a.root.children,T=[],S=this.Ho=[];for(var Y=0;Y<C.length;Y++){var D=C[Y].o;if(D.add.artb)T.push(D.getName());
S.push(C[Y].index)}this.sH.wS(T);this.sH.j(0)}else this.Ho=null};dt.prototype.tc=function(I,k,a){this.Yx=I;
this.TP=a;this.EK.j(I.T.length==0?"Layer":I.R[I.T[0]].getName());var n=[];for(var Y=0;Y<a.length;Y++){var s=a[Y].name;
n.push(s.length<30?s:s.slice(0,27)+"...")}n.push([11,7]);this.i5.wS(n);this.i5.j(a.indexOf(I));this.Rb(null)};
dt.prototype.ZR=function(I){var k=this.i5.l();if(k==this.TP.length){var a=new iJ(this.EK.l()+".psd"),n=this.Yx.Q,s=this.Yx._,C=this.Yx.ev();
if(C!=-1){var T=this.Yx.R[C].OR();n=T.Q;s=T._}a.Q=n;a._=s;a.buffer=j.U(a.Q*a._*4);var S=a.ux();S.GF("Background");
a._g([S]);var D=new d2(M.E.b,!0);D.tQ=!0;D.data={q:M.p.kz,Z9:a};this.a(D)}var o=this.Yx.hu(null,this.Yx!=this.TP[k]),D=new d2(M.E.r,!0);
D.data={q:X.Qr,R:o,DJ:this.Yx,aR:this.TP[k]};if(this.Ho)D.data.OG=this.Ho[this.sH.l()];D.S=E.xf;D.tQ=!0;
this.a(D);this.close()};function aG(){c2.call(this,[1,9],"eassets");this.wY=null;this.KW=null;var I=this.body;
$.fO(I,"form");I.style.width="32em";this.$C=new f8(null,["Layers","Combinations"]);this.$C.O(M.E.B,this.Wm,this);
I.appendChild(this.$C.Z);$.Se(I);this.cJ=$.I("span");I.appendChild(this.cJ);this.EI=$.I("div");I.appendChild(this.EI);
var k=$.I("div"),a=$.I("div","flexrow");this.aoc=[k,a];this.JQ=[new dI("Only layers / folders, whose name starts with \"-e-\""),new dI("Remove parts outside the canvas"),new dI("Trim transparent parts")];
for(var Y=0;Y<3;Y++){var n=this.JQ[Y];n.j(!0);n.O(M.E.B,this.Wm,this);k.appendChild(n.Z);$.FI(k)}this.D2=new da([12,14,0],["1x","2x","3x","4x"]);
this.D2.j([!0,!1,!1,!1]);k.appendChild(this.D2.Z);var s=$.I("div");a.appendChild(s);var C=$.I("img");
C.setAttribute("src",bU.Wn("img/nft.png"));C.style.width="150px";a.appendChild(C);var T=$.I("span");
T.textContent="File Names:";s.appendChild(T);this.xe=new da(null,["1-0-1.XYZ","head1-eyes0-mouth1.XYZ","red-green-brown.XYZ"],!1,null,!0);
s.appendChild(this.xe.Z);this.xe.j([!0,!1,!1]);$.Se(I);this.cA=["PNG","JPG","SVG","TIFF","TGA"];this.NM=new fB([12,50],this.cA);
this.NM.O(M.E.B,this.ja,this);I.appendChild(this.NM.Z);this.V6=new g1;I.appendChild(this.V6.Z);this.vz=new iP([1,9],!0,null,!0);
this.vz.O("click",this.ZR,this);I.appendChild(this.vz.Z);this.O("closebtn",this.KC,this)}aG.prototype=new c2;
aG.prototype.ja=function(I){this.V6.G7(this.cA[this.NM.l()],!1,!1,!1,this.KW.ib()!=null)};aG.prototype.KC=function(I){this.KW=null};
aG.prototype.k=function(){c2.prototype.k.call(this);this.NM.k();this.D2.k();this.vz.k();this.V6.k()};
aG.prototype.tc=function(I,k,a){this.KW=I;this.Wm()};aG.prototype.Wm=function(I){var k=this.$C.l(),a;
$.GD(this.EI);this.EI.appendChild(this.aoc[k]);if(k==0){var n=this.ata();a=n.length+" exportable layers"}else{var n=this.a4i();
a=n[1]+" combinations ("+n[0].join(" \xD7 ")+")"}this.cJ.textContent="- - - "+a;this.ja(null)};aG.prototype.ata=function(){var I=this.JQ[0].l(),k=[],a=this.KW;
for(var Y=0;Y<a.R.length;Y++){var n=a.R[Y],s=n.getName();if(!I&&!n.hd()&&!n.rect.KH()||s.startsWith("-e"))k.push(Y)}return k};
aG.prototype.a4i=function(){var I=this.KW,k=I.root.children,a=[],n=1,s=[];for(var Y=0;Y<k.length;Y++){var C=k[Y],T=C.o;
if(T.hd()){var S=C.children.length;a.push(S);n*=S;s.push(C.index)}T}return[a,n,s]};aG.prototype.wu=function(I,k){this.wY=I};
aG.prototype.ZR=function(I){var k=this.KW,a=this.$C.l(),n=[this.cA[this.NM.l()]],s=[this.V6.l()],C={};
if(a==0){var T=this.D2.l(),S={},D=this.ata();if(D.length==0){alert("No layers to export.");return}var o=[this.JQ[1].l(),this.JQ[2].l()];
for(var Y=0;Y<D.length;Y++){var v=D[Y],g=k.R[v],d=g.getName();if(S[d]!=null){S[d]++;d+=" "+S[d]}else S[d]=1;
var R=g.K7();g.ol(!0);for(var c=0;c<T.length;c++){if(!T[c])continue;var e=c+1,O=E.R0.arV(k,n,e,this.wY,v,s,o);
for(var U=0;U<n.length;U++){var K=n[U],_=d.slice(d.startsWith("-e-")?3:0)+(e==1?"":"@"+e+"x")+"."+K.toLowerCase();
if(O[U])C[_]=new Uint8Array(O[U])}}g.ol(R)}}else{var R=[];for(var Y=0;Y<k.R.length;Y++)R.push(k.R[Y].K7());
var Z=this.a4i(),H=Z[0],D=Z[2],G=[];function N(V,v,r,y){if(v==V.length){y.push(r.slice(0));return}var W=V[v];
for(var Y=0;Y<W;Y++){r.push(Y);N(V,v+1,r,y);r.pop(Y)}}N(H,0,[],G);var z=this.xe.l().indexOf(!0);this.qT=[G,C,D,n,s,R,z,this.aES.bind(this),0,0];
this.aES();return}var L=UZIP.encode(C),p=new d2(M.E.b,!0);p.data={q:M.p.KZ,data:L,name:"assets.zip"};
this.a(p)};aG.prototype.aES=function(){var I=this.qT,k=I[0],a=I[1],n=this.KW,s=I[2],C=I[3],T=I[4],S=I[5],D=I[6],o=I[7],v=0;
while(k.length!=0&&v<1e3){var g=Date.now(),d=k.shift(),R=[];for(var Y=0;Y<d.length;Y++){var c=n.root.lR(s[Y]);
for(var e=0;e<c.children.length;e++)c.children[e].o.ol(!1);var O=c.children[d[Y]].o;R.push(D==2?O.getName():c.o.getName()+d[Y]);
O.ol(!0)}n.V();n.pa();var U=(D==0?d:R).join("-")+"."+C[0].toLowerCase();a[U]=new Uint8Array(kk.gj(n,C[0],n.Q,n._,T[0],this.wY));
I[8]++;I[9]+=a[U].length;v+=Date.now()-g}if(k.length!=0){alert(I[8]+" done, "+jm.z3(I[9])+".",800);setTimeout(o,35);
return}for(var Y=0;Y<n.R.length;Y++)n.R[Y].ol(S[Y]);n.V();var K=UZIP.encode(a),_=new d2(M.E.b,!0);_.data={q:M.p.KZ,data:K,name:"assets.zip"};
this.a(_)};function kt(){c2.call(this,"Export Color Lookup Tables","exlut");this.wY=null;this.KW=null;
var I=$.I("div","form");I.setAttribute("style","width:20em");this.body.appendChild(I);this.JQ=[new fM("Grid Points",1,256),new f8([12,50],[".CUBE"])];
var k=[16,0];for(var Y=0;Y<this.JQ.length;Y++){var a=this.JQ[Y];a.j(k[Y]);a.parent=this;a.O(M.E.B,this.Wm,this);
I.appendChild(a.Z);$.FI(I)}this.vz=$.ZI(this,I);this.O("closebtn",this.KC,this)}kt.prototype=new c2;
kt.prototype.Ud=function(I,k){if(Math.min(I.Q,I._)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(I.R.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};kt.prototype.KC=function(I){this.KW=null};kt.prototype.wu=function(I,k){this.wY=I};
kt.prototype.tc=function(I,k,a){this.KW=I};kt.prototype.ZR=function(){var I=this.KW,k=this.JQ[0].l(),a=[],n=new eZ(0,0,I.Q,I._),s=j.U(k*k*4),C=s.slice(0),T=new eZ(I.Q-k>>>1,I._-k>>>1,k,k),S=I.R[0],D=S.buffer,o=S.rect;
S.rect=T;S.buffer=s;for(var v=0;v<k;v++){this.a7X(k,v,s);S.V(T);I.V(T);var g=I.TB();j.ao(g,n,C,T);for(var d=0;
d<k;d++)for(var R=0;R<k;R++){var c=d*k+R<<2;a.push(C[c]/255,C[c+1]/255,C[c+2]/255)}}var e=aa.avq(a,k,I.name);
ji.save(e,I.name.split(".")[0]+".CUBE");S.buffer=D;S.rect=o;S.V();I.V()};kt.prototype.a7X=function(I,k,a){var n=255/(I-1),s=Math.round(k*n);
for(var C=0;C<I;C++)for(var T=0;T<I;T++){var S=C*I+T<<2;a[S]=Math.round(T*n);a[S+1]=Math.round(C*n);
a[S+2]=s;a[S+3]=255}};kt.prototype.k=function(){c2.prototype.k.call(this);for(var Y=0;Y<this.JQ.length;
Y++)this.JQ[Y].k();this.vz.k()};function ie(){c2.call(this,[1,14],"finfo");this.rJ=null;this.q6=null;
this.sj=null;this.nZ=$.I("div","form scrollable label12");this.nZ.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.nZ);var I=$.I("div","form");this.body.appendChild(I);this.eo=new fB(null,["Hello"]);
I.appendChild(this.eo.Z);this.axO=new iP("Add Parameter",!1,null,!0);I.appendChild(this.axO.Z);this.axO.O("click",this.ze,this);
this.zG=new iP("=== S A V E ===",!1,null,!0);I.appendChild(this.zG.Z);this.zG.O("click",this.XK,this);
this.abB=""}ie.prototype=new c2;ie.prototype.ts=function(I,k){return I<450||k<450?new kK(0,0):new kK(150,100)};
ie.prototype.ze=function(I){if(this.sj.length==0)return;var k=this.sj[this.eo.l()],a=this.Ur();a[k]=ei.Ct[k][0];
this.QQ(a);this.q6[k].Z.scrollIntoView();this.q6[k].$A()};ie.prototype.Eq=function(I){var k=this.Ur();
delete k[I.currentTarget.ar_];this.QQ(k)};ie.prototype.XK=function(I){var k=this.Ur(),a=this.rJ,n=!0;
for(var s in a)if(JSON.stringify(a[s])!=JSON.stringify(k[s]))n=!1;for(var s in k)if(JSON.stringify(a[s])!=JSON.stringify(k[s]))n=!1;
if(n)return;var C=new d2(M.E.r,!0);C.S=E.xf;C.data={q:X.R6,Rk:k};this.a(C);this.rJ=k;this.QQ(k)};ie.a5S=function(I){function k(s){var C=s.toLowerCase();
return s==C}var a=I.split(":").pop();for(var n=1;n<a.length-1;n++){if(a[n]==a[n].toUpperCase()&&(k(a[n+1])||k(a[n-1]))){a=a.slice(0,n)+" "+a.slice(n);
n++}}return a};ie.prototype.tc=function(I,k){this.rJ=I.Qd;this.QQ(I.Qd)};ie.prototype.QQ=function(I){var k=this.nZ,s=0;
$.GD(k);var a=this.q6={},n=["tiff","exif","exif:GPS"],C=this.sj=[],T=[];for(var S in ei.Ct){var D=ie.a5S(S),o=0,v=15,g=null;
if(I[S]==null){if(ei.Ct[S].length!=1||S=="photoshop:Credit"||S=="photoshop:Source"){C.push(S);T.push(D)}continue}for(var Y=0;
Y<n.length;Y++)if(S.startsWith(n[Y]))o=Y;if(o!=s){$.Se(k);s=o}if(S=="tiff:ImageDescription"||S=="dc:Keywords"){v=18.5;
g=3}var d=new ja(D,null,v,g);a[S]=d;var R=I[S];if(R instanceof Array)R=R[1]==0?"---":R[0]+"/"+R[1];var c=new iP("\u2716",null,hJ.get([5,4]));
k.appendChild(c.Z);c.O("click",this.Eq,this);c.ar_=S;d.j(R);k.appendChild(d.Z);$.FI(k);if(S=="exif:GPSLongitude"&&I["exif:GPSLatitude"]){this.abB=ie.aE7(I["exif:GPSLatitude"])+","+ie.aE7(I["exif:GPSLongitude"]);
var e=new iP("Show on map",!1,null,!0);k.appendChild(e.Z);$.FI(k);e.O("click",this.a4E,this)}}this.eo.wS(T);
this.eo.j(0)};ie.prototype.Ur=function(){var I=this.q6,k=ei.Ct,a={};for(var n in k){var s=k[n][0],C=typeof s;
if(s==null||I[n]==null)continue;var T=I[n].l(),S="The value of \""+ie.a5S(n)+"\" must ";if(C=="number"){T=parseFloat(T);
if(isNaN(T)){alert(S+"be a number.");T=s}}else if(s instanceof Array&&s.length==2){if(T.indexOf("/")==-1){alert(S+"be a fraction.");
T=s.slice(0)}else{T=T.split("/").map(parseFloat);if(isNaN(T[0])||isNaN(T[1])){T=s.slice(0)}}}a[n]=T}return a};
ie.aE7=function(I){var k=I.length,a=I.slice(0,k-1).split(",").map(parseFloat),n=I.slice(k-1),s=a[0]+a[1]/60+a[2]/3600;
if(n!="N"&&n!="E")s=-s;return s};ie.prototype.a4E=function(I){window.open("https://maps.google.com?q="+this.abB,"Map")};
function gI(){c2.call(this,[11,5],"gradienteditor");this.Zr=null;this.Kj=null;this.ie=null;this.T$=null;
this.OK=!1;this.jB=!1;this.zy=null;this.q9=null;this.hQ=-1;this.w7=-1;this.fD=0;this.v1=this.le.bind(this);
this.aW=this.$r.bind(this);this.g8=$.I("canvas");this.hp=this.g8.getContext("2d");this.g8.setAttribute("style","display:block");
this.hM=null;$.$j(this.g8);$.Ar(this.g8,this.bg.bind(this));this.Ci=$.I("div","form");this.b2=$.I("div");
this.dN=$.I("div","form");this.rL=$.I("div");this.YE=new fB([12,44],[[15,10,0],[24,6]]);this.YE.O(M.E.B,this.YP,this);
this.body.appendChild(this.YE.Z);$.Se(this.body);var I=this.Ci;this.OD=new fM([19,3,3],0,100,"%");this.OD.O(M.E.B,this.YP,this);
this.OD.parent=this;I.appendChild(this.OD.Z);$.FI(I);this.a5G=new gv([12,0]);I.appendChild(this.a5G.Z);
this.Bl=$.I("div","bordered padded noalign");I.appendChild(this.Bl);this.UA=new fM([12,0],0,100,"%");
this.UA.parent=this;this.UA.O(M.E.B,this.YP,this);this.Bl.appendChild(this.UA.Z);this.VH=new fM([12,40],0,100,"%");
this.VH.parent=this;this.VH.O(M.E.B,this.YP,this);this.Bl.appendChild(this.VH.Z);this.gH=new iP([5,4],!1,null,!0);
this.gH.O("click",this.abb,this);this.Bl.appendChild(this.gH.Z);I.appendChild(this.b2);this.axF=new gv([13,0]);
I.appendChild(this.axF.Z);this.Hm=$.I("div","bordered padded noalign");I.appendChild(this.Hm);this.Qf=new fB([12,44],[[12,45],[12,46],[12,47]]);
this.Qf.O(M.E.B,this.YP,this);this.Hm.appendChild(this.Qf.Z);this._m=new ek(!0);this._m.parent=this;
this._m.O(M.E.B,this.YP,this);this.Hm.appendChild(this._m.Z);this.$$=new fM([12,40],0,100,"%");this.$$.parent=this;
this.$$.O(M.E.B,this.YP,this);this.Hm.appendChild(this.$$.Z);this.z$=new iP([5,4],!1,null,!0);this.z$.O("click",this.aej,this);
this.Hm.appendChild(this.z$.Z);var I=this.dN;this.qf=new fM("Roughness",0,100,"%");this.qf.O(M.E.B,this.YP,this);
this.qf.parent=this;I.appendChild(this.qf.Z);I.appendChild(this.rL);this.y8=new iP([25,1,2],!1,null,!0);
this.y8.O("click",this.YP,this);I.appendChild(this.y8.Z);this.vz=$.ZI(this);this.O("closebtn",this.b5,this)}gI.prototype=new c2;
gI.prototype.b5=function(I){if(this.OK)this.T$(this.Zr)};gI.prototype.k=function(){c2.prototype.k.call(this);
this.vz.k();this.OD.k();this.a5G.k();this.axF.k();this.gH.k();this.z$.k();this.UA.k();this.VH.k();this.Qf.k();
this.$$.k();this.y8.k()};gI.prototype.wu=function(I,k){this.ie=I;if(k==f9.S8)this.LI()};gI.prototype.tc=function(I,k){this.Kj=JSON.parse(JSON.stringify(k.G));
this.Zr=JSON.parse(JSON.stringify(k.G));this.zy=this.q9=null;this.T$=k.XP;this.OK=!1;this.jB=k.Ph;this.LI();
this.vQ()};gI.prototype.ZR=function(I){var k=this.Kj;this.T$(k);this.close()};gI.prototype.rI=function(I){return I==as.Zf||I==as.QE};
gI.prototype.Bf=function(I,k,a,n){if(n.W(as.Zf)||n.W(as.QE)){if(this.q9)this.abb();if(this.zy)this.aej()}};
gI.prototype.abb=function(I){var k=this.Kj.Trns.v;if(this.q9==null||k.length==1)return;k.splice(k.indexOf(this.q9),1);
this.q9=null;this.LI();this.vQ()};gI.prototype.aej=function(I){var k=this.Kj.Clrs.v;if(this.zy==null||k.length==1)return;
k.splice(k.indexOf(this.zy),1);this.zy=null;this.LI();this.vQ()};gI.prototype.LI=function(){var I=this.g8,k=this.hp;
if(this.Kj==null)return;var a=$.Y();I.width=Math.floor(410*a);I.height=Math.floor(70*a);$.Kf(I,I.width,I.height);
I.style.marginTop="8px";this.hM=new eZ(0,0,Math.floor(380*a),Math.floor(32*a));this.hM.x=Math.floor((I.width-this.hM.Q)/2);
this.hM.y=Math.floor((I.height-this.hM._)/2);var n=this.hM,s=n.Q,C=n._,T=n.x,S=n.y,D=new eZ(0,0,s,C),o=k.getImageData(0,0,s,C),v=new Uint8Array(o.data.buffer);
j.lQ(v,s,C,8);var g=j.U(s*C*4);j.G.tj(this.Kj,g,D,[1/s,0,0,1/C],s/2,C/2,!1,0,this.ie.MW,this.ie.U2);
j.z.Pf("norm",g,n,v,n,n,1);k.clearRect(0,0,I.width,I.height);k.putImageData(o,T,S);var d=this.Kj;if(d.Clrs){var R=d.Trns.v,c=d.Clrs.v,e=j.G.px(d,this.ie.MW,this.ie.U2),O=Math.round(6*$.Y()),U=Math.round(14*$.Y()),K=this.q9?this.q9.v:null,_=this.zy?this.zy.v:null;
for(var Y=0;Y<R.length;Y++){var Z=R[Y].v,H=Math.round(255-255*Z.Opct.v.val/100);if((Z==K||R[Y-1]&&R[Y-1].v==K||Y==this.w7)&&Y!=0){k.fillStyle="#000000";
k.fillRect(T-3+s*(R[Y-1].v.Lctn.v+(Z.Lctn.v-R[Y-1].v.Lctn.v)*Z.Mdpn.v/100)/4096,S-6-2,6,6)}if(Z==K){k.fillStyle="#ffffff";
k.fillRect(T-O+s*(Z.Lctn.v/4096)-2,S-2-U-2,2*O+4,U+4)}k.fillStyle="rgb("+H+","+H+","+H+")";k.fillRect(T-O+s*(Z.Lctn.v/4096),S-2-U,2*O,U)}for(var Y=0;
Y<c.length;Y++){var G=c[Y].v,N=e[0][Y][0];if((G==_||c[Y-1]&&c[Y-1].v==_||Y==this.hQ)&&Y!=0){k.fillStyle="#000000";
k.fillRect(T-3+s*(c[Y-1].v.Lctn.v+(G.Lctn.v-c[Y-1].v.Lctn.v)*G.Mdpn.v/100)/4096,S+C+2,6,6)}if(G==_){k.fillStyle="#ffffff";
k.fillRect(T-O+s*(G.Lctn.v/4096)-2,S+C+2-2,2*O+4,U+4)}k.fillStyle="rgb("+Math.round(N.$)+", "+Math.round(N.H)+","+Math.round(N.J)+")";
k.fillRect(T-O+s*(G.Lctn.v/4096),S+C+2,2*O,U)}}if(this.jB){this.T$(this.Kj);this.OK=!0}};gI.prototype.vQ=function(){var I=this.Kj,k=I.Clrs?0:1;
this.YE.j(k);if($.TU(this.Ci))this.body.removeChild(this.Ci);if($.TU(this.dN))this.body.removeChild(this.dN);
(k==0?this.b2:this.rL).appendChild(this.g8);if(k==0){this.body.appendChild(this.Ci);this.OD.j(Math.round(100*I.Intr.v/4096));
var a=I.Trns.v,n=I.Clrs.v,s=this.q9!=null,C=this.w7!=-1;this.UA.wl(s);this.VH.wl(s||C);this.gH.wl(s);
if(s){this.Bl.setAttribute("style","");var T=this.q9.v;this.VH.j(Math.round(100*T.Lctn.v/4096));this.UA.j(T.Opct.v.val)}if(C)this.VH.j(a[this.w7].v.Mdpn.v);
var s=this.zy!=null,C=this.hQ!=-1;this.Qf.wl(s);this._m.wl(s);this.$$.wl(s||C);this.z$.wl(s);if(s){this.Hm.setAttribute("style","");
var S=this.zy.v;this.$$.j(Math.round(100*S.Lctn.v/4096));var D=S.Type.v.Clry;this.Qf.j(["FrgC","BckC","UsrS"].indexOf(D));
if(D=="FrgC")this._m.c1(this.ie.MW);if(D=="BckC")this._m.c1(this.ie.U2);if(D=="UsrS")this._m.j(S.Clr.v)}if(C)this.$$.j(n[this.hQ].v.Mdpn.v)}else{this.body.appendChild(this.dN);
this.qf.j(Math.round(100*I.Smth.v/4096))}this.body.appendChild(this.vz.Z)};gI.prototype.YP=function(I){var k=this.Kj,a=k.Clrs?0:1;
if(I.target==this.YE){var n=a==0?JSON.parse(fY.vq.aac).v:gJ.nI("grdm").Grad.v;this.Kj=n;this.vQ();this.LI();
return}if(a==0){k.Intr.v=Math.round(4096*this.OD.l()/100);var s=k.Trns.v,C=k.Clrs.v;if(this.q9!=null){var T=this.q9.v;
T.Lctn.v=Math.round(4096*(this.VH.l()/100));T.Opct.v.val=this.UA.l()}if(this.zy!=null){var S=this.zy.v;
S.Lctn.v=Math.round(4096*(this.$$.l()/100));if(I.target==this._m)this.Qf.j(2);var D=this.Qf.l();S.Type.v.Clry=["FrgC","BckC","UsrS"][D];
if(D==2)S.Clr={t:"Objc",v:this._m.l()};else if(S.Clr)delete S.Clr}if(this.w7!=-1)s[this.w7].v.Mdpn.v=this.VH.l();
if(this.hQ!=-1)C[this.hQ].v.Mdpn.v=this.$$.l()}else{k.Smth.v=Math.round(4096*this.qf.l()/100);if(I.target==this.y8)k.RndS.v=Math.floor(Math.random()*4294967295)}this.LI()};
gI.prototype.bg=function(I){var k=$.Ea(I,this.g8),a=this.hM,n=(k.x*$.Y()-a.x)/a.Q,s=(k.y*$.Y()-a.y)/a._,C=this.Kj.Trns.v,T=this.Kj.Clrs.v,S=null,D=null,o=-1,v=-1;
if(s<1)for(var Y=0;Y<C.length;Y++){var g=C[Y].v;if(Math.abs(g.Lctn.v/4096-n)<.02)S=C[Y];if(Y>0)if(Math.abs((C[Y-1].v.Lctn.v+(g.Lctn.v-C[Y-1].v.Lctn.v)*g.Mdpn.v/100)/4096-n)<.01)o=Y}if(s>0)for(var Y=0;
Y<T.length;Y++){var d=T[Y].v;if(Math.abs(d.Lctn.v/4096-n)<.02)D=T[Y];if(Y>0)if(Math.abs((T[Y-1].v.Lctn.v+(d.Lctn.v-T[Y-1].v.Lctn.v)*d.Mdpn.v/100)/4096-n)<.01)v=Y}if(D==null&&S==null&&o==-1&&v==-1){if(s<0){var g={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
g.v.Lctn.v=Math.round(n*4096);C.push(g);C.sort(this.aX);S=g}if(s>1){var T=this.Kj.Clrs.v,R=j.G.px(this.Kj,this.ie.MW,this.ie.U2),c=j.G.Rq(this.Kj,R,n),d={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:j.G.pI({$:c&255,H:c>>8&255,J:c>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
d.v.Lctn.v=Math.round(n*4096);T.push(d);T.sort(this.aX);D=d}}if(D!=null)v=-1;if(S!=null)o=-1;if(D!=null||S!=null||o>-1||v>-1){this.q9=S;
this.zy=D;this.w7=o;this.hQ=v;this.vQ();this.LI();$.YU(window,this.v1);$.hf(window,this.aW)}};gI.prototype.le=function(I){var k=$.Ea(I,this.g8),a=this.hM,n=(k.x*$.Y()-a.x)/a.Q,s=(k.y*$.Y()-a.y)/a._;
n=Math.max(0,Math.min(1,n));var C=this.Kj.Trns.v,T=this.Kj.Clrs.v;if(this.q9!=null){var S=this.q9.v;
S.Lctn.v=Math.round(4096*n);var D=C.indexOf(this.q9);if(D!=-1&&s<-1&&C.length>1)C.splice(D,1);if(D==-1&&s>-1)C.push(this.q9);
C.sort(this.aX)}if(this.zy!=null){var o=this.zy.v;o.Lctn.v=Math.round(4096*n);var v=T.indexOf(this.zy);
if(v!=-1&&s>2&&T.length>1)T.splice(v,1);if(v==-1&&s<2)T.push(this.zy);T.sort(this.aX)}if(this.w7>-1){var S=C[this.w7].v;
S.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(n*4096-C[this.w7-1].v.Lctn.v)/(S.Lctn.v-C[this.w7-1].v.Lctn.v))))}if(this.hQ>-1){var o=T[this.hQ].v;
o.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(n*4096-T[this.hQ-1].v.Lctn.v)/(o.Lctn.v-T[this.hQ-1].v.Lctn.v))))}if(this.q9!=null||this.zy!=null||this.w7>-1||this.hQ>-1){this.vQ();
this.LI()}};gI.prototype.$r=function(I){$.qD(window,this.v1);$.Yf(window,this.aW);if(Date.now()-this.fD<300){if(this.hQ!=-1||this.w7!=-1){var k=(this.hQ!=-1?this.Kj.Clrs.v[this.hQ]:this.Kj.Trns.v[this.w7]).v;
k.Mdpn.v=50;this.vQ();this.LI()}else if(this.zy!=null)this._m.fp()}this.fD=Date.now()};gI.prototype.aX=function(I,k){return I.v.Lctn.v-k.v.Lctn.v};
function cA(){c2.call(this,[11,5],"vgradienteditor");this.T$=null;this.Gz=new hG;this.Gz.parent=this;
this.body.appendChild(this.Gz.Z);this.vz=$.ZI(this,this.body)}cA.prototype=new c2;cA.prototype.tc=function(I,k){this.T$=k.XP;
this.Gz.j(k.P)};cA.prototype.k=function(){c2.prototype.k.call(this);this.Gz.k()};cA.prototype.ZR=function(I){this.T$(this.Gz.l());
this.close()};function bb(I){c2.call(this,I=="isize"?[11,10]:[11,3],I);this.a4d=I;this.Jh=null;var k=$.I("div","form");
k.setAttribute("style","width:20em; margin-bottom:1em; margin-top:-1em;");this.body.appendChild(k);var a=I=="csize";
this.ad0=new gv("Hi");k.appendChild(this.ad0.Z);$.FI(k);this.fx=new kp(!0,!0,a,a,!0);if(a)this.fx.afy(!1);
k.appendChild(this.fx.Z);this.qy=new dI([12,25,3]);this.qy.j(!0);this.qy.O(M.E.B,this.aoA,this);this.qx=new fB(null,[[12,14,2],[12,14,3],[12,14,4]]);
this.qx.j(1);this.Gw=new aB([12,23,2],41);this.Gw.j(4);if(I=="isize"){k.appendChild(this.qy.Z);k.appendChild(this.qx.Z)}else k.appendChild(this.Gw.Z);
this.vz=$.ZI(this,this.body)}bb.prototype=new c2;bb.prototype.Ud=function(I,k){return I!=null};bb.prototype.UC=function(){return!0};
bb.prototype.rI=function(I){return this.a4d=="isize"?!1:[as.C8,as.K0,as.yo,as.Sx].indexOf(I)!=-1};bb.prototype.Bf=function(I,k,a,n){if(n.W(as.da))this.ZR();
this.Gw.aml(n.m4())};bb.prototype.k=function(){c2.prototype.k.call(this);this.fx.k();this.qy.k();this.qx.k();
this.Gw.k();this.vz.k()};bb.prototype.ZR=function(I){var k=this.fx.l(),a=k.x,n=k.y,s=new d2(M.E.rd,!0),C=this.fx.AA.l();
if(this.a4d=="csize"){if(C){var T=this.fx.Ed,S=this.fx.M4;a=S.x-T.x;n=S.y-T.y}s.data=E.Zo.a3V(a,n,this.Gw.l(),C)}else{var D=this.qx.l();
if(!this.qy.l())D=null;var o=this.fx.aDg(),v=this.Jh;console.log(o);if(o==1)s.data=E.Zo.lJ(a/v.x,n/v.y,this.fx.VD(),D,!0);
else s.data=E.Zo.lJ(a,n,this.fx.VD(),D)}this.close();this.a(s)};bb.prototype.tc=function(I,k){this.Jh=new kK(I.Q,I._);
this.fx.j(this.Jh,I.oE);this.fx.$A();this.ad0.j(hJ.get(this.AS)+": "+(I.Q*I._/1e6).toFixed(2)+" MPx")};
bb.prototype.aoA=function(I){var k=this.qy.l(),a=this.fx,n=this.qx;if(k)n.MK();else n.hl();a.avc(k)};
function kM(){c2.call(this,"Import RAW","importraw");var I=$.I("div","flexrow"),k=$.I("div");k.setAttribute("style","margin-bottom: 1em");
this.body.appendChild(I);this.body.appendChild(k);var a=$.I("div","form");a.setAttribute("style","width:18em");
I.appendChild(a);var n=$.I("div","form");n.setAttribute("style","width:15em");I.appendChild(n);this.Nx=null;
this.aJ=null;this.qH=null;this.c0=null;this.apK=[];var s=[];for(var Y=0;Y<kM.Sb.length;Y++)s.push(kM.Sb[Y]+" Bits");
var C=this.qT=[new kp(!0,null,null,!0),new fM([12,72],1,8),new dI("Last one is Transparency"),new f8([12,34],s),new f8("Byte Order",["12-34","34-12"]),new fB("Guesses",[])];
for(var Y=0;Y<C.length;Y++){var T=C[Y];T.parent=this;T.O(M.E.B,Y==5?this.aj1:this.Rb,this);var S=Y==0?a:Y==5?k:n;
S.appendChild(T.Z)}this.g8=$.I("canvas");this.hp=this.g8.getContext("2d");this.body.appendChild(this.g8);
this.vz=$.ZI(this,this.body)}kM.prototype=new c2;kM.prototype.k=function(){c2.prototype.k.call(this);
var I=this.qT;this.vz.k();for(var Y=0;Y<I.length;Y++)I[Y].k()};kM.prototype.ZR=function(I){this.close();
var k=this.qT[0].l(),a=kk.Xl(this.aJ,[{data:this.qH,e3:new eZ(0,0,k.x,k.y)}]);if(this.c0)a.TL=this.c0;
var n=new d2(M.E.b,!0);n.data={q:!0?M.p.kz:M.p.c4,Z9:a};this.a(n)};kM.Sb=[8,16];kM.prototype.tc=function(I,k){this.Nx=new Uint8Array(k.De);
this.aJ=k.f3;var a=this.Nx.length,n=[1,3,4],s=0,C=0,T=1,S=1,D=this.apK=[],o=Math.round(Math.sqrt(a)*2);
o=Math.max(o,4e3);for(var v=0;v<3;v++){for(var g=0;g<2;g++){var d=kM.Sb[g],R=n[v],c=R*d,e=Math.round(a*8/c);
if(e!=a*8/c)continue;for(var O=0;O<=o;O++)for(var U=0;U<=o;U++)if(O*U==e){var K=0;if(O==U)K+=64;if(Math.round(O/100)==O/100&&Math.round(U/100)==U/100)K+=32;
if(Math.round(O/10)==O/10&&Math.round(U/10)==U/10)K+=16;if(Math.round(O/2)==O/2&&Math.round(U/2)==U/2)K+=8;
D.push([O,U,R,d,K])}}}var _=function(N,z){if(z[4]!=N[4])return z[4]-N[4];var L=Math.max(N[0],N[1])/Math.min(N[0],N[1]),p=Math.max(z[0],z[1])/Math.min(z[0],z[1]);
if(L!=p)return L-p;return z[0]-N[0]};D.sort(_);var Z=this.qT,H=[];for(var Y=0;Y<D.length;Y++){var G=D[Y];
H.push(G[0]+" x "+G[1]+", "+G[2]+"ch, "+G[3]+"-bit")}Z[5].wS(H);Z[5].j(0);this.aj1(null)};kM.prototype.aj1=function(I){var k=this.qT,a=this.apK[this.qT[5].l()];
k[0].j(new kK(a[0],a[1]),72);k[1].j(a[2]);k[3].j(kM.Sb.indexOf(a[3]));this.Rb()};kM.prototype.Rb=function(I){var k=this.qT,a=k[0].l(),n=a.x,s=a.y,C=kM.Sb[k[3].l()],T=this.Nx;
if(C==16&&k[4].l()==1){T=T.slice(0);for(var Y=0;Y<T.length;Y+=2){var S=T[Y];T[Y]=T[Y+1];T[Y+1]=S}}var D=this.qH=this.Zn(T,n,s,k[1].l(),C,k[2].l()),o=this.g8,v=this.hp,g=[D,new eZ(0,0,n,s)];
j.iz(g);for(var Y=0;Y<g.length;Y+=2)if(g[Y+1]._<300){D=g[Y];n=g[Y+1].Q;s=g[Y+1]._;break}o.width=n;o.height=s;
$.Kf(o,n,s);var d=new ImageData(new Uint8ClampedArray(D.buffer),n,s);v.putImageData(d,0,0)};kM.prototype.Zn=function(I,k,a,n,s,C){this.c0=null;
var T=[],S=k*a;for(var D=0;D<n;D++){var o=j.U(S);T.push(o);if(s==8)for(var Y=0;Y<S;Y++)o[Y]=I[Y*n+D];
else if(s==16)for(var Y=0;Y<S;Y++)o[Y]=Math.round((I[(Y*n+D)*2]<<8|I[(Y*n+D)*2+1])*(255/65535))}var v=j.U(S*4);
new Uint32Array(v.buffer).fill(4278190080);if(C){j.yv(T.pop(),v,3);n--}if(n==0){}else if(n==1)j.bS(T[0],v);
else{j.yv(T[0],v,0);j.yv(T[1],v,1);if(n>2){j.yv(T[2],v,2);if(n>3){this.c0=[];for(var Y=3;Y<n;Y++){var g=new X.uC;
g.name="Alpha "+(Y-2);g.rect=new eZ(0,0,k,a);g.channel=T[Y];this.c0.push(g)}}}}return v};function bF(I,k,a){gB.call(this);
this.Z=$.I("div","");this.$k=I;this.Ko=null;this.Gz=k==null?!1:k;this.qd=null;this.ix=a;this.nD=[];this.o2=[];
this.D9=[];this.Nk=[];this.dL=0;this.Ko=this.aqc(bF.Nk[I]);this.Ui();this.v_=null;this.a58;this.aa8}bF.prototype=new gB;
bF.prototype.Vr=function(I,k,a,n,s){this.v_=s;this.a58=JSON.parse(JSON.stringify(this.qd));if(this.Ko.lagl)this.aa8=this.Ko.lagl.l()[0]};
bF.prototype.Fr=function(I,k,a,n,s){var C=this.v_,T=this.$k,S=this.a58;if(C==null)return;var D=(s.x-C.x)/I.w.F,o=(s.y-C.y)/I.w.F;
if(T=="GrFl"){var v=JSON.parse(JSON.stringify(S.Ofst.v));v.Hrzn.v.val+=D*.5;v.Vrtc.v.val+=o*.5;this.Ko.Ofst.j(v,!0)}if(T=="patternFill"){var v=JSON.parse(JSON.stringify(S.phase.v));
v.Hrzn.v+=D;v.Vrtc.v+=o;this.Ko.phase.j(v,!0)}if(T=="DrSh"||T=="IrSh"||T=="ChFX"){var g=S.Dstn.v.val,d=this.aa8*Math.PI/180,R=-Math.cos(d)*g+D,c=Math.sin(d)*g+o;
this.Ko.Dstn.j(Math.sqrt(R*R+c*c),!0);this.Ko.lagl.j([Math.atan2(c,-R)*180/Math.PI],!0)}};bF.prototype.pE=function(I,k,a,n,s){this.v_=null};
bF.prototype.a8w=function(){for(var Y=0;Y<this.Nk.length;Y++){$.St(this.Nk[Y],"selected");if(this.D9[Y]instanceof dI)this.D9[Y].j(!1)}};
bF.prototype.aok=function(I){var k=this.akd.bind(this);for(var Y=0;Y<this.D9.length;Y++){var a=$.I("div","listitem");
this.Nk.push(a);if(Y>0)a.textContent="\u2003";a.appendChild(this.D9[Y].Z);if(fY.av$.indexOf(this.$k)!=-1){var n=new iP("+");
n.rG();n.Z.style.float="right";a.appendChild(n.Z);var s=new iP("\u2B0D");s.rG();s.Z.style.float="right";
s.Z.style["margin-right"]="2px";a.appendChild(s.Z)}a.addEventListener("click",k,!1);I.appendChild(a)}};
bF.t7=function(I,k){var a=k.getBoundingClientRect();return(I.clientY-a.top)/a.height};bF.prototype.akd=function(I){var k=I.target.tagName.toLowerCase();
if(k=="input"){return}if(k=="button"){var a=new d2(M.E.r,!0),n=I.target.textContent=="+",s=n?0:bF.t7(I,I.target)<.5?-1:1;
if(n)a.data={q:"st_dupsingle",o:this.parent.data.o,BO:this.ix};else a.data={q:"st_movsingle",o:this.parent.data.o,BO:this.ix,agD:s};
a.S=E.rV;a.tQ=!0;this.a(a);a=new d2("redrawall",!0);a.data={agD:s};this.a(a);return}$.dR(I);this.i$();
this.dL=this.Nk.indexOf(I.currentTarget);this.a(new d2("showme"))};bF.prototype.i$=function(){if(this.Ko.enab&&this.Ko.enab.l()==!1)this.A4({QB:"enab",P:!0})};
bF.prototype.a29=function(){var I=this.Nk[this.dL];if(I)$.fO(I,"selected");return this.o2[this.dL]};
bF.prototype.aqc=function(I){var k={};for(var Y=0;Y<I.length;Y++){var a=I[Y],n=null;if(a=="----")n={Z:$.I("hr")};
if(a=="\n")n={Z:$.I("br")};if(a=="blOptions")n=new gv([14,10]);if(a=="brst")n=new da([12,72],["R","G","B"]);
if(a=="knko")n=new fB("Knockout",[[13,1,0],"Shallow","Deep"]);if(a=="enab")n=new dI(fY.names[fY.order.indexOf(this.$k)]);
if(a=="lrMd"||a=="Md")n=new fB([12,19,0],aU.L6,aU.e2);if(a=="Opct")n=this.Gz?new fM([12,0],0,100,"%"):new iD([12,0],0,100,"%");
if(a=="iOpa")n=new iD([12,26],0,100,"%");if(a=="blIf")n=new eB;if(a=="ShdN")n=new iD([12,68],0,100,"%");
var s=this.$k=="St3D"&&a=="lagl";if(a=="lagl"||a=="Angl")n=new dr(s?"Light":[12,15],this.$k=="ebbl"||s);
if(a=="uglg")n=new dI([12,27]);if(a=="Dstn")n=new iD([12,28],0,200,"px");if(a=="Ckmt")n=new iD([12,29],0,100,"%");
if(a=="Srnk")n=new iD("Shrink",0,100,"%");if(a=="Drkn")n=new iD("Darken",0,100,"%");if(a=="blur")n=new iD([12,14,0],0,200,"px");
if(a=="TrnS"||a=="MpgS")n=new e$([12,21]);if(a=="Nose")n=new iD([12,30],0,100,"%");if(a=="layerConceals")n=new dI([12,31]);
if(a=="Cntn")n=new dI([12,25,4]);if(a=="AntA"||a=="antialiasGloss")n=new dI([12,25,1]);if(a=="GlwT")n=new fB([12,32],fY.ny.names);
if(a=="glwS")n=new fB([12,70],fY.ny.afp);if(a=="Inpr")n=new iD([12,12],1,100,"%");if(a=="bvlS")n=new fB([12,22],fY.pX.style);
if(a=="bvlT")n=new fB([12,32],fY.pX.a9C);if(a=="bvlD")n=new fB(null,fY.pX.dir);if(a=="srgR")n=new iD([12,34],0,1e3,"%");
if(a=="Sftn")n=new iD([12,35],0,20,"px");if(a=="Lald")n=k.lagl;if(a=="hglM"||a=="sdwM")n=new fB([12,36],aU.L6,aU.e2);
if(a=="hglC"||a=="sdwC")n=new ek;if(a=="hglO"||a=="sdwO")n=new iD([12,0],0,100,"%");if(a=="Invr"||a=="InvT")n=new dI([4,11]);
if(a=="overprint")n=new dI("Overprint");if(a=="Sz")n=new iD([12,14,0],1,200,"px");if(a=="Styl")n=new fB([12,40],fY.stroke.names);
if(a=="PntT")n=new fB([12,66],fY.stroke.avY);if(a=="Clr")n=new ek(!0);if(a=="Grad"){n=new hg(!0,this.Gz?null:[12,37],!0);
n.j(JSON.parse(fY.vq.ab$).v)}if(a=="Rvrs")n=new dI([12,23,0]);if(a=="Dthr")n=new dI([12,23,3]);if(a=="Type")n=new fB(this.Gz?null:[12,22],fY.G.names.slice(0,this.$k=="FrFX"?6:5));
if(a=="Ptrn")n=new jY([12,62]);if(a=="Scl")n=new iD([12,38],5,500,"%",0,!0);if(a=="Algn")n=new dI([12,39]);
if(a=="Ofst")n=new dB(!0);if(a=="phase")n=new dB(!1);if(a=="useShape")n=new dI([12,21]);if(a=="useTexture")n=new dI([12,67]);
if(a=="textureDepth")n=new iD([12,34],-300,300,"%");var C=a=="----"||a=="\n"?a+Y:a;if(n!=null)k[C]=n}return k};
bF.prototype.awG=function(I){var k=this.o2[this.dL];for(var Y=0;Y<I.length;Y++){var a=this.Ko[I[Y]];
if(a&&k.contains(a.Z))k.removeChild(a.Z)}};bF.prototype.a9P=function(I){var k=this.o2[this.dL];for(var Y=0;
Y<I.length;Y++){var a=this.Ko[I[Y]];if(a&&!k.contains(a.Z))k.appendChild(a.Z)}};bF.prototype.wu=function(I,k){if(this.Ko==null)return;
var a=k==f9._7;if(this.Ko.Grad){this.Ko.Grad.Uk(I.MW,I.U2);if(a||k==f9.S8||k==f9.RN)this.Ko.Grad.rt(I.iG)}if(this.Ko.Ptrn){if(a||k==f9.Al)this.Ko.Ptrn.rt(I.Vh)}if(this.Ko.TrnS){if(a||k==f9.H1)this.Ko.TrnS.rt(I.jf)}if(this.Ko.MpgS){if(a||k==f9.H1)this.Ko.MpgS.rt(I.jf)}};
bF.prototype.k=function(){for(var Y=0;Y<this.nD.length;Y++)this.nD[Y].k();for(var I in this.Ko)if(this.Ko[I]instanceof gB)this.Ko[I].k()};
bF.prototype.Ui=function(){for(var I in this.Ko){var k=this.Ko[I];k.parent=this;if(k instanceof gB)k.O(M.E.B,this.azo,this);
if(this.o2.length==0||I=="useShape"||I=="useTexture"){var a=new gv(k.ahZ()),n=$.I("div","bordered padded");
if(this.Gz==!1){n.appendChild(a.Z);n.appendChild($.I("hr",""))}this.nD.push(a);this.o2.push(n);this.D9.push(k)}else this.o2[this.o2.length-1].appendChild(k.Z)}};
bF.prototype.update=function(I,k){if(this.Ko==null)return;this.qd=JSON.parse(JSON.stringify(k));for(var a in k){if("Opct iOpa hglO sdwO Dstn Ckmt Srnk Drkn blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(a)!=-1)this.Ko[a].j(k[a].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn useShape useTexture Ofst phase blIf".split(" ").indexOf(a)!=-1){this.Ko[a].j(k[a].v,I)}if(["Md","hglM","sdwM"].indexOf(a)!=-1)this.Ko[a].j(aU.$k.indexOf(k[a].v.BlnM));
if(a=="lrMd"){var n=(k.hd?[[15,10,27]]:[]).concat(aU.L6),s=(k.hd?[1]:[]).concat(aU.e2);this.Ko[a].wS(n,s);
this.Ko[a].j(k[a].v)}if(a=="Angl")this.Ko[a].j([k[a].v.val]);if(a=="lagl"){var C=k.uglg&&k.uglg.v?I.hh():k.lagl.v.val;
this.Ko[a].j([C])}if(a=="Lald"){var C=k.uglg&&k.uglg.v?I.X$():k.Lald.v.val;this.Ko[a].j([null,C])}if(a=="Type")this.Ko[a].j(fY.G.types.indexOf(k.Type.v.GrdT));
if(a=="Styl")this.Ko[a].j(fY.stroke.types.indexOf(k.Styl.v.FStl));if(a=="PntT"){var T=fY.stroke.Ra.indexOf(k.PntT.v.FrFl);
this.Ko[a].j(T);if(!this.Gz){this.awG(fY.$w.concat(fY.Ym.concat(fY.o3)));this.a9P([fY.$w,fY.Ym,fY.o3][T])}}if(a=="GlwT")this.Ko[a].j(fY.ny.types.indexOf(k.GlwT.v.BETE));
if(a=="glwS")this.Ko[a].j(fY.ny.a5y.indexOf(k.glwS.v.IGSr));if(a=="bvlS")this.Ko[a].j(fY.pX.types.indexOf(k.bvlS.v.BESl));
if(a=="bvlT")this.Ko[a].j(fY.pX.awm.indexOf(k.bvlT.v.bvlT));if(a=="bvlD")this.Ko[a].j(["In","Out"].indexOf(k.bvlD.v.BESs))}};
bF.prototype.azo=function(I){for(var k in this.Ko){if(this.Ko[k]!=I.target)continue;var a=null,n=!1;
if("Opct iOpa Srnk Drkn hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(k)!=-1)a={type:"#Prc",val:I.target.l()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(k)!=-1)a={type:"#Pxl",val:I.target.l()};if(["Angl","lagl"].indexOf(k)!=-1)a={type:"#Ang",val:I.target.l()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(k)!=-1)a=I.target.l();
if(["Md","hglM","sdwM"].indexOf(k)!=-1)a={BlnM:aU.$k[I.target.l()]};if(k=="uglg"){a=I.target.l();n=!0}if(k=="PntT"){a={FrFl:fY.stroke.Ra[I.target.l()]};
n=!0}if(k=="Lald")a={type:"#Ang",val:I.target.l()[1]};if(k=="Type")a={GrdT:fY.G.types[I.target.l()]};
if(k=="Styl")a={FStl:fY.stroke.types[I.target.l()]};if(k=="GlwT")a={BETE:fY.ny.types[I.target.l()]};
if(k=="glwS")a={IGSr:fY.ny.a5y[I.target.l()]};if(k=="bvlS")a={BESl:fY.pX.types[I.target.l()]};if(k=="bvlT")a={bvlT:fY.pX.awm[I.target.l()]};
if(k=="bvlD")a={BESs:["In","Out"][I.target.l()]};this.A4({QB:k,P:a});if(n){if(this.Gz)this.update(null,this.qd);
else{var s=this.parent,C=s.Z9,T=this.ix,S=C.R[s.data.o].add.lmfx[fY.zQ[T[0]]].v[T[1]].v;this.update(C,S)}}}};
bF.prototype.A4=function(I){if(this.qd&&this.qd[I.QB])this.qd[I.QB].v=I.P;if(this.Gz){this.a(new d2(M.E.B))}else{I.q="changeprop";
I.o=this.parent.data.o;I.Gq=this.ix;var k=new d2(M.E.r,!0);k.data=I;k.S=E.rV;k.tQ=!0;this.a(k);this.a(new d2("afterchange",!0))}};
bF.prototype.l=function(){return JSON.parse(JSON.stringify(this.qd))};bF.Nk={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals Cntn".split(" "),St3D:"enab Md Clr Opct Angl Dstn Srnk ---- lagl Lald uglg Drkn".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(fY.$w),GrFl:["enab","Md","Opct"].concat(fY.Ym),patternFill:["enab","Md","Opct"].concat(fY.o3),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","overprint","\n","PntT","\n"].concat(fY.$w.concat(fY.Ym.concat(fY.o3)))};
function d5(){c2.call(this,[11,6],"layerstyle");this.asc=-1;this.data={};this.Z9=null;this.wY=null;this.Kg=[];
this._n=[];$.fO(this.body,"flexrow");this.tI=$.I("div","bordered");this.tI.setAttribute("style","min-width:13em;");
this.body.appendChild(this.tI);this.Bw=$.I("div","");this.Bw.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.Bw);this.TV=$.I("div","form");this.TV.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.TV);this.vz=$.ZI(this,this.TV);this.dF=new iP([12,87],!0,null,!0);this.dF.O("click",this.at$,this);
this.TV.appendChild(this.dF.Z);this.n_=new fn;this.n_.parent=this;this.n_.O(M.E.B,this.axV,this);this.TV.appendChild(this.n_.Z);
this.O("closebtn",this.b5,this);this.O("redrawall",this.aoZ,this)}d5.prototype=new c2;d5.prototype.UC=function(){return!0};
d5.prototype.s$=function(){return!0};d5.prototype.Vr=function(I,k,a,n,s){var C=this.aa();if(C)C.Vr(I,k,a,n,s)};
d5.prototype.Fr=function(I,k,a,n,s){var C=this.aa();if(C)C.Fr(I,k,a,n,s)};d5.prototype.pE=function(I,k,a,n,s){var C=this.aa();
if(C)C.pE(I,k,a,n,s)};d5.prototype.aa=function(I){if(I==null)I=this.data.index;return I==null?null:I==0?this.Kg[0]:this._n[I[0]][I[1]]};
d5.prototype.axV=function(I){var k=this.n_.l();this.A4({q:"setstl",P:k.ov});this.aoZ(null)};d5.prototype.at$=function(I){var k=this.Z9,a=this.data.o;
if(a==null)a=k.T[0];var n=this.Z9.R[a],s=hB.a7c(n),C=new d2(M.E.b,!0);C.data={q:M.p.iv,S9:"add",CU:f9.EW,Q$:[JSON.parse(JSON.stringify(s))]};
this.a(C)};d5.prototype.as5=function(I){this.data.index=I.currentTarget.ix;this.Ic(I.currentTarget.ix)};
d5.prototype.aoZ=function(I){this.tc(this.Z9,this.data)};d5.prototype.Ic=function(I,k){$.GD(this.Bw);
for(var Y=0;Y<this.Kg.length;Y++)this.Kg[Y].a8w();var a=this.aa(I);this.Bw.appendChild(a.a29());if(k)a.i$();
var n=this.Z9;if(n){var s=n.R[this.data.o];this.Kg[0].update(n,E.vu.os(n,s));var C=s.add.lmfx;if(C==null)return;
for(var Y=0;Y<fY.order.length;Y++){var T=C[fY.zQ[Y]].v;for(var S=0;S<T.length;S++)this._n[Y][S].update(n,T[S].v)}}if(k)a.i$()};
d5.prototype.k=function(){c2.prototype.k.call(this);this.dF.k();this.n_.k();this.vz.k();for(var Y=0;
Y<this.Kg.length;Y++)this.Kg[Y].k()};d5.prototype.tc=function(I,k){var a=k.o==null;this.data.o=k.o;this.data.index=k.index;
k=this.data;this.Z9=I;if(a)k.o=I.T.length==0?I.R.length-1:I.T[0];$.GD(this.tI);var n=I.R[k.o].add.lmfx;
this.Xd();this.Kg=[new bF("bops",!1,0)];this._n=[];for(var Y=0;Y<fY.order.length;Y++){this._n.push([]);
var s=n==null?[]:n[fY.zQ[Y]].v;for(var C=0;C<s.length;C++){var T=new bF(fY.order[Y],!1,[Y,C]);this.Kg.push(T);
this._n[Y].push(T)}if(s.length==0){var T=new bF(fY.order[Y],!1,[Y,0]);this.Kg.push(T);this._n[Y].push(T)}}this.k();
this.aEm(this.wY,f9._7);for(var Y=0;Y<this.Kg.length;Y++){this.Kg[Y].parent=this;this.Kg[Y].aok(this.tI);
this.Kg[Y].O("showme",this.as5,this)}if(k.index==null||k.index==0||!a&&n[fY.zQ[k.index[0]]].v.length==0){this.Ic(0)}else this.Ic(k.index,a);
this.O("afterchange",this.Xd,this)};d5.prototype.Xd=function(I){var k=this.Z9,a=this.data.o;if(a==null)a=k.T[0];
var n=this.Z9.R[a],s=hB.a7c(n);this.n_.j(s,k.add.Patt?k.add.Patt:[],k.hh(),k.X$())};d5.prototype.wu=function(I,k){this.wY=I;
this.aEm(I,k);if(k==f9.EW||k==f9._7){this.n_.rt([I.JP,I.Vh])}if(k==f9.DX){}};d5.prototype.aEm=function(I,k){for(var Y=0;
Y<this.Kg.length;Y++)this.Kg[Y].wu(I,k)};d5.prototype.b5=function(I){this.A4({q:"cancel"})};d5.prototype.ZR=function(I){this.A4({q:"confirm"});
this.close()};d5.prototype.A4=function(I){I.o=this.data.o;var k=new d2(M.E.r,!0);k.data=I;k.S=E.rV;k.tQ=!0;
this.a(k);this.Xd()};d5.adt=function(){var I=function(k){if(k==null||k.T.length==0)return{e:!1};var a=k.R[k.T[0]];
return{e:a.add.lmfx!=null}};return{name:[11,6],g6:!0,sub:[{name:[5,1],e:I},{name:[5,2]},{name:[2,2],e:I}]}};
d5.aul=function(){return{sub:[{K:M.E.r,S:E.rV,v:{q:"st_copy"}},{K:M.E.r,S:E.rV,v:{q:"st_paste"}},{K:M.E.r,S:E.rV,v:{q:"st_clear"}}]}};
d5.e$=function(I){var k=[{name:[14,10],g6:!0}];for(var Y=0;Y<fY.names.length;Y++)k.push({name:fY.names[Y]});
if(I){k[k.length-1].g6=!0;k.push(d5.adt());k.push({name:[6,30,1],e:function(a){return{e:a!=null&&a.T.length!=0&&a.R[a.T[0]].ez()}}});
k.push({name:["VAR0 VAR1",[12,49],[9,1]],e:function(a){return{e:a!=null&&a.T.length!=0&&a.R[a.T[0]].add.lmfx!=null}}})}return k};
d5.x4=function(I){var k=[{K:M.E.b,v:{q:M.p.Fu,aw:"layerstyle"}}];for(var Y=0;Y<fY.names.length;Y++)k.push({K:M.E.b,v:{q:M.p.Fu,aw:"layerstyle",index:[Y,0]}});
if(I){k.push(d5.aul());k.push({K:M.E.b,v:{q:M.p.Fu,aw:"scaleeffects",P6:100,mU:{K:M.E.r,S:E.rV,v:{q:"scaleeffects"}}}});
var a={classID:"Mk",null:hW.Pg("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
k.push({K:M.E.rd,v:{pi:"make",zf:a}})}return k};d5.agN=function(I){var k=[];if(I)k.push({name:[6,48,0,0],LC:!0},{name:[6,48,0,1],LC:!0},{name:[6,48,0,2],LC:!0,g6:!0});
for(var a in fo.names)k.push({name:fo.names[a],g6:fo.aBB.indexOf(a)!=-1,LC:ke[a]!=null});return k};d5.gJ=function(I){var k=[];
if(I){k.push({K:M.E.r,S:E.lc,v:{q:"newfill",_W:0}});for(var Y=1;Y<3;Y++)k.push({K:M.E.rd,v:E.WX.HO(Y)})}for(var a in fo.names){var n=gJ.nI(a);
if(n==null)n={};for(var s in fo.Uw)if(fo.Uw[s]==a)n.classID=s;var C={pi:"make",zf:{classID:"Mk",null:hW.Pg("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:n}}}}};
k.push({K:M.E.rd,v:C})}return k};function hO(){c2.call(this,"Merge Channels","mergechannels");this.Sv=null;
var I=$.I("div","form");this.body.appendChild(I);this.qT=[];for(var Y=0;Y<3;Y++){var k=new fB(fo.fd[Y],[]);
this.qT.push(k);I.appendChild(k.Z);$.FI(I)}this.vz=$.ZI(this,I)}hO.prototype=new c2;hO.prototype.k=function(){c2.prototype.k.call(this);
this.vz.k();for(var Y=0;Y<3;Y++)this.qT[Y].k()};hO.prototype.tc=function(I,k,a,n){this.Sv=a;var s=[];
for(var Y=0;Y<a.length;Y++)s.push(a[Y].name);for(var Y=0;Y<3;Y++){var C=this.qT[Y];C.wS(s);C.j(Math.min(Y,a.length-1))}};
hO.prototype.ZR=function(I){var k=this.Sv,a=k[0],n=new d2(M.E.rd,!0);n.data=iJ.Dv(a.Q,a._,a.oE,"Merged Document","Wht",!1);
this.a(n);var s=[];for(var Y=0;Y<3;Y++)s.push(k[this.qT[Y].l()].TB());var a=k[k.length-1],C=a.R[0],T=C.buffer;
for(var Y=0;Y<T.length;Y+=4){T[Y]=s[0][Y];T[Y+1]=s[1][Y];T[Y+2]=s[2][Y]}C.V();a.V();this.close()};function dY(){c2.call(this,[1,10],"script");
var I=$.I("div","form");I.setAttribute("style","width:44em");this.body.appendChild(I);this.wY=null;this.rS=[];
this.Y_=[];this.aph;var k=this.zG=new iP([1,2],!1,null,!0);k.O("click",this.XK,this);I.appendChild(k.Z);
var a=new iP("JS Reference",!1,null,!0);a.O("click",this.aBs,this);I.appendChild(a.Z);I.appendChild(new gv("Demos:").Z);
this.a2z=[];var n=dY.Tm;for(var Y=0;Y<n.length;Y++){var s=new iP(n[Y].vo,!1,null,!0);this.a2z.push(s);
I.appendChild(s.Z);s.O("click",this.aw$,this)}this.Vv=$.I("textarea");$.bw(this.Vv);this.Vv.setAttribute("rows",16);
this.Vv.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");I.appendChild(this.Vv);
var C=new iP("Run",!0,null,!0);C.O("click",this.ZR,this);I.appendChild(C.Z);this._J=$.I("div");I.appendChild(this._J)}dY.prototype=new c2;
dY.prototype.k=function(){this.zG.k()};dY.prototype.XK=function(){var I=this.aph;if(I==null)I="script.jsx";
var k=new d2(M.E.b,!0);k.data={q:M.p.Fu,aw:"namewindow",P6:I.slice(0,I.length-4),h1:this.arQ.bind(this)};
this.a(k)};dY.prototype.arQ=function(I){var k=this.Vv.value,a=u.ba(k),n=new d2(M.E.b,!0);n.data={q:M.p.eR,De:a.buffer,h2:I+".jsx",aBQ:!0};
this.a(n)};dY.prototype.ati=function(I){var Y=this.rS.indexOf(I.target),k=this.aph=this.Y_[Y],a=this.wY.jp.sM[k],n=new Uint8Array(a),s=u.Im(n,0,n.length);
this.Vv.value=s};dY.prototype.tc=function(I,k,a){this.Vv.value=dY.Tm[0].y7;this.av2()};dY.prototype.av2=function(){var I=this.wY.jp,k=this._J;
$.GD(k);this.rS=[];this.Y_=[];k.textContent="Saved scripts: ";for(var a in I.sM){if(a.endsWith(".jsx")){var n=new iP(a,!1,null,!0);
this.rS.push(n);this.Y_.push(a);n.O("click",this.ati,this);k.appendChild(n.Z)}}};dY.prototype.wu=function(I,k){this.wY=I;
if(k==f9.aN)this.av2()};dY.prototype.aBs=function(I){var k=new d2(M.E.b,!0);k.data={q:M.p.Bc,link:"https://github.com/Adobe-CEP/CEP-Resources/blob/master/Documentation/Product%20specific%20Documentation/Photoshop%20Scripting/photoshop-javascript-ref-2020.pdf"};
this.a(k)};dY.prototype.ZR=function(I){var k=this.Vv.value,a=this.wY.jp.sM;k=dY.ab5(k,a);var n=new d2(M.E.b,!0);
n.data={q:M.p.XI,a2:k};this.a(n)};dY.ab5=function(I,k){var a=I.split("\n");for(var Y=0;Y<a.length;Y++){var n=a[Y].trim();
if(n.startsWith("#include")){var s=n.slice(n.indexOf("\"")+1,n.lastIndexOf("\"")),C=k[s];if(C==null)alert("\""+s+"\" not found in the Local Storage");
a[Y]=dY.ab5(u.Im(new Uint8Array(C)),k)}}return a.join("\n")};dY.prototype.aw$=function(I){var k=this.a2z.indexOf(I.currentTarget);
this.Vv.value=dY.Tm[k].y7};dY.Tm=[{vo:"Hello",y7:"\nalert(\"Hello Photopea!\");\n"},{vo:"Process Layers",y7:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{vo:"Clone Layers",y7:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function ez(){c2.call(this,[11,7],"newproject");this.data=null;this.Sv=null;this.SQ=0;var I=$.I("div","flexrow");
this.Q6=I;this.body.appendChild(I);var k=$.I("div","form");this.nZ=k;I.appendChild(k);this.EK=new ja([12,48],null,10);
k.appendChild(this.EK.Z);$.FI(k);this.fx=new kp(!0,null,null,null,!0);this.fx.j(new kK(1280,720),72);
if(ht==1){this.fx.j(new kK(8.3*300,11.7*300),300);this.fx.oK(4)}this.fx.avc(!0,!0);this.fx.O(M.E.B,this.pS,this);
k.appendChild(this.fx.Z);this.WO=new hS;this.WO.parent=this;if(ht==0)k.appendChild(this.WO.Z);this.WF=new iP("\u02C5",null,[0,14],!0);
this.WF.O("click",this.p5,this);if(ht==0)k.appendChild(this.WF.Z);var a=this.dD=$.I("span");k.appendChild(a);
a.style.display="none";this.azC=new fB([13,6],["sRGB","Adobe RGB","ProPhoto RGB","Display P3"]);a.appendChild(this.azC.Z);
this.Cp=new dI([1,16,1]);a.appendChild(this.Cp.Z);this.vz=new iP([12,49],!0,null,!0);this.vz.O("click",this.ZR,this);
k.appendChild(this.vz.Z);var n=ez.Nx,s=[];for(var Y=0;Y<n.length;Y++)s.push(n[Y].name);this.yI=new f8(null,s);
this.yI.O(M.E.B,this.agQ,this);k.appendChild(this.yI.Z);this.yI.Z.style["margin-top"]="1em";this.Ig=new bt(!0);
this.Ig.O(M.E.B,this.a98,this);k.appendChild(this.Ig.Z);this.agQ();this.Hv=new bL;this.Hv.parent=this;
this.Hv.Z.setAttribute("style","margin-left:1em");this.Hv.O("tempready",this.a5l,this)}ez.prototype=new c2;
ez.prototype.p5=function(I){var k=this.dD,a=k.style.display!="none";k.style.display=a?"none":"";this.WF.jO(a?"\u02C5":"\u02C4");
this.bb(this.Qq,this.L4)};ez.prototype.wu=function(I,k){this.Hv.wu(I)};ez.prototype.ts=function(I,k){return new kK(Math.max(0,Math.min(70,(I-690)/2)),I>k?Math.max(0,Math.min(50,(k-400)/2)):0)};
ez.prototype.bb=function(I,k){this.Qq=I;this.L4=k;this.nZ.setAttribute("style","width:"+Math.min(I-24,338)+"px");
this.Ig.Z.style.height=k-248-(this.dD.style.display=="none"?0:28)+(ht==0?0:28)+"px";var a=this.Hv.Z,n=a.parentNode;
if(I<500){if(n!=null)this.Q6.removeChild(a)}else{if(n==null)this.Q6.appendChild(a);this.Hv.bb(I-378,k-28)}};
ez.prototype.pS=function(){this.Hv.j(this.fx.l())};ez.prototype.a98=function(I){var k=this.Ig.l()[0],a=ez.Nx[this.yI.l()].iM[k],n=a[4];
if(n==0)n=72;var s=a[1],C=a[2],T=["px","%","mm","in"].indexOf(a[3]),S=[1,1,25.4/n,1/n][T];s/=S;C/=S;
this.fx.j(new kK(Math.round(s),Math.round(C)),n);this.fx.oK(T);this.pS();if(Date.now()-this.SQ<300)this.ZR();
this.SQ=Date.now()};ez.prototype.agQ=function(I){var k=ez.Nx[this.yI.l()].iM,a=[],n=[],s=Math.round(106*$.Y()),C=Math.round(106*$.Y()),T=0;
for(var Y=0;Y<k.length;Y++)T=Math.max(T,k[Y][1],k[Y][2]);for(var Y=0;Y<k.length;Y++){var S=k[Y],D=S[1]+" x "+S[2]+" "+S[3];
if(S[3]=="in")D=(S[1]*25.4).toFixed(0)+" x "+(S[2]*25.4).toFixed(0)+" mm";if(S[3]=="mm")D=(S[1]/25.4).toFixed(1)+" x "+(S[2]/25.4).toFixed(1)+" in";
if(S[4])D=D+" @ "+S[4]+" ppi";n.push(D);a.push(ez.cO(S,s,C,T))}this.Ig.NX(a,n,s,C)};ez.cO=function(I,k,a,n){var s=$.I("canvas",""),C=s.getContext("2d");
s.width=k;s.height=a;var T=Math.round(k/8),S=Math.floor(11*$.Y()),D=I[1],o=I[2];C.fillStyle="#000000";
C.font=Math.round(S*.9)+"px \"Open Sans\", Sans-Serif";var v=D+" x "+o+" "+I[3],g=C.measureText(v);C.fillText(v,Math.round((k-g.width)/2),a-Math.round(T/2));
if(I[0]!=null){C.font="bold "+S+"px \"Open Sans\", Sans-Serif";var v=I[0],g=C.measureText(v);C.fillText(v,Math.round((k-g.width)/2),a-Math.round(T/2)-Math.round(S*1.3))}a-=Math.round(2.5*S);
var d=Math.min((k-T)/D,(a-T)/o);d*=.5+.5*(Math.max(D,o)/n);var R=(k-D*d)/2,c=(a-o*d)/2;C.strokeRect(Math.round(R)+.5,Math.round(c)+.5,Math.round(D*d),Math.round(o*d));
return s.toDataURL()};ez.prototype.k=function(){c2.prototype.k.call(this);this.fx.k();this.EK.k();this.WO.k();
this.vz.k();this.EK.j(hJ.get([11,7]));this.yI.k();this.Cp.k();this.WF.k();this.Hv.k()};ez.prototype.ZR=function(I){var k=this.fx.l(),a=k.x,n=k.y;
this.close();var s=this.WO.l(),C=["sRGB IEC61966-2.1","Adobe RGB (1998)","ProPhoto RGB","image P3"][this.azC.l()],T=new d2(M.E.rd,!0);
T.data=iJ.Dv(a,n,this.fx.VD(),this.EK.l(),["Wht","Blck","Trns","Clr"][s[0]],this.Cp.l(),s[1],C);this.a(T);
this.anU()};ez.prototype.a5l=function(I){var k=I.data.Z9;k.oE=this.fx.VD();var a=new d2(M.E.b,!0);a.data={q:M.p.kz,Z9:k};
this.a(a);this.close();this.anU()};ez.prototype.anU=function(){var I=this.Sv[this.Sv.length-1],k=this.data.ans;
if(k)hK.Ms(function(){var a=new XMLHttpRequest,n="https://www.googleapis.com/drive/v3/files?"+hK.au$();
a.open("POST",n,!0);a.setRequestHeader("Content-Type","application/json");a.addEventListener("load",function(s){var C=JSON.parse(s.target.response);
I.cw={file:C,zP:"psd"};alert(I.name+" created in Google Drive")});a.send(JSON.stringify({name:I.name,aho:[k]}))})};
ez.prototype.tc=function(I,k,a,n){this.Sv=a;if(I!=null&&I.f!=null){var s=new eZ(0,0,I.Q,I._).LU(I.f.rect);
this.fx.j(new kK(s.Q,s._))}this.data=k;this.pS();if($.RI())ji.ad5(this.$N.bind(this))};ez.prototype.$N=function(I){if(I=="granted")ji.WA(this,this.VM.bind(this))};
ez.prototype.VM=function(I,k){this.fx.j(new kK(k.Q,k._))};ez.Nx=[{name:"Social",iM:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Youtube Thumbnail",1280,720,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],iM:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],iM:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],iM:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],iM:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],iM:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2ᴺ",iM:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function fR(I,k,a){c2.call(this,k,"sel_"+I);this.q=I;var n=$.I("div","form");this.body.appendChild(n);
this.EK=new fM(k,0,255,null,0,!1,!0);n.appendChild(this.EK.Z);this.EK.j(1);var s=$.I("span");s.textContent=a;
n.appendChild(s);$.FI(n);this.a4m=new dI("Apply at canvas bounds");if(I!="border")n.appendChild(this.a4m.Z);
this.vz=$.ZI(this,n)}fR.prototype=new c2;fR.prototype.Ud=function(I,k){if(I==null)return;if(I.f==null)alert("No selection!");
return I.f!=null};fR.prototype.ZR=function(I){var k=new d2(M.E.rd,!0);k.data=E.BN.VV(this.q,this.EK.l(),this.a4m.l());
k.tQ=!0;this.a(k);this.close()};fR.prototype.k=function(){c2.prototype.k.call(this);this.vz.k();if(this.EK)this.EK.k()};
fR.prototype.tc=function(I,k){this.EK.$A()};function gx(I,k,a,n,s,C){c2.call(this,a,k);this.adj=C;this.jB=s;
this.Nx=null;this.nZ=$.I("div","form");this.body.appendChild(this.nZ);this.a5D=$.I("div");this.nZ.appendChild(this.a5D);
var T=500;if(n){var S=n.split(",");n=S[0];if(S[1])T=parseFloat(S[1])}this.EK=I==0?new ja(a,null,10):I==1?new iD(a,0,T,n,1):new ja(a,null,24,5);
this.EK.O(M.E.B,this.FP,this);this.nZ.appendChild(this.EK.Z);this.vz=$.ZI(this,this.nZ);this.O("closebtn",this.b5,this)}gx.prototype=new c2;
gx.prototype.ts=function(I,k){return new kK(Math.max(0,Math.min(150,(I-250)/2)),Math.max(0,Math.min(150,(k-120)/2)))};
gx.prototype.UC=function(){return this.adj};gx.prototype.FP=function(I){var k=this.EK.l();if(this.jB)this.NR(k)};
gx.prototype.b5=function(I){if(this.jB)this.NR("cancel")};gx.prototype.ZR=function(I){if(this.jB)this.NR("confirm");
else this.NR(this.EK.l());this.close()};gx.prototype.NR=function(I){if(this.Nx.h1)this.Nx.h1(I);else if(this.Nx.mU){var k=this.Nx.mU,a=new d2(k.K,!0);
a.S=k.S;a.data=k.v;a.data.P=I;a.tQ=!0;this.a(a)}};gx.prototype.k=function(){c2.prototype.k.call(this);
this.vz.k();if(this.EK)this.EK.k()};gx.prototype.tc=function(I,k){this.Nx=k;this.EK.j(k.P6);this.EK.$A();
this.a5D.innerHTML=k.a1$?k.a1$:"";this.FP(null)};function bu(){c2.call(this,[1,5],"open_from_url");this.if=null;
var I=$.I("div","form");this.body.appendChild(I);this.DY=new ja("URL",null,22);I.appendChild(this.DY.Z);
$.FI(I);this.ww=new f8([21,0],[[21,2],[21,1]]);I.appendChild(this.ww.Z);this.vz=$.ZI(this,I)}bu.prototype=new c2;
bu.prototype.k=function(){c2.prototype.k.call(this);this.vz.k();this.ww.k()};bu.prototype.tc=function(I,k,a){this.DY.$A();
this.if=null;if(I&&a.indexOf(I)!=-1)this.if=a.indexOf(I)};bu.prototype.ZR=function(I){var k=new d2(M.E.b,!0),n=this.DY.l();
k.data={q:M.p._C,CU:{url:n,T_:!0,if:this.ww.l()==1?this.if:null}};this.a(k);this.close()};function jl(){c2.call(this,[12,79],"preferences");
this.wY=null;var I=$.I("div","form");this.body.appendChild(I);this.Nk=[new dI([8,2]),new ek,new ek,new dI([8,4]),new ek,new fB([12,80,3],[[12,93,3],[12,80,4]]),new iD([12,80,5],.02,100,null,2),new fB(null,j.wJ.g7),new fB([12,80,6],j.wJ.g7),new dI("Remind me to save"),new dI("Glass Menus"),new iD("Cursor Offset",0,200)];
for(var Y=0;Y<this.Nk.length;Y++){var k=this.Nk[Y];k.parent=this;k.O(M.E.B,this.zr,this);if(Y==9)continue;
if(Y==2){var a=new gv("Local guides:");I.appendChild(a.Z)}I.appendChild(k.Z);if(Y!=0&&Y!=1&&Y!=3&&Y!=4&&Y!=6)$.FI(I)}}jl.prototype=new c2;
jl.prototype.k=function(){c2.prototype.k.call(this);for(var Y=0;Y<this.Nk.length;Y++)this.Nk[Y].k()};
jl.prototype.tc=function(I,k,a){};jl.prototype.wu=function(I,k){this.wY=I;var a=I.M6;this.Nk[0].j(a.Fq);
this.Nk[1].c1(a.Kn);this.Nk[2].c1(a.rr);this.Nk[3].j(a.kG);this.Nk[4].c1(a.Oi);this.Nk[5].j(a.Ts);this.Nk[6].j(a.AX);
this.Nk[7].j(a.L9);this.Nk[8].j(a.NY);this.Nk[9].j(I.EY==1);var n=window.locStor.getItem("__glm");this.Nk[10].j(n=="1");
this.Nk[11].j(I.Xp)};jl.prototype.zr=function(I){var k=this.Nk;if(I.target==k[9])this.wY.EY=1-this.wY.EY;
var a=JSON.parse(JSON.stringify(this.wY.M6));a.Fq=k[0].l();a.Kn=k[1].mJ();a.rr=k[2].mJ();a.kG=k[3].l();
a.Oi=k[4].mJ();a.Ts=k[5].l();a.AX=k[6].l();a.L9=k[7].l();a.NY=k[8].l();window.locStor.setItem("__glm",k[10].l()?"1":"0");
this.wY.Xp=k[11].l();var n=new d2(M.E.b,!0);n.data={q:M.p.iv,CU:f9.nt,WM:a};this.a(n)};function jm(){c2.call(this,[11,8],"saveforweb");
this.a0K="";this.O("closebtn",function(){this.fP.JH()},this);this.Z9=null;this.ir=null;this.agW=null;
this.wY=null;$.fO(this.body,"flexrow");this.body.style.padding="0";var I=$.I("div");I.setAttribute("style","position:relative;");
var k=$.I("div");this.body.appendChild(I);this.body.appendChild(k);this.Hm=$.I("div","imgcont");I.appendChild(this.Hm);
this.fP=new dq;this.fP.bb(512,512);var a=this.nQ=$.I("video");a.setAttribute("controls","");a.setAttribute("preload","auto");
a.setAttribute("loop","");this.ER=$.I("div");this.ER.setAttribute("style","position:absolute;  right:0px; bottom:0px; padding: 3px 6px;  background-color:black;");
I.appendChild(this.ER);var n=this.nZ=$.I("div","form cell");n.setAttribute("style","width:195px; padding:9px 13px;");
k.appendChild(n);this.xe=new ja([12,48],null,7.6);this.xe.lj();n.appendChild(this.xe.Z);var s=kk.QW();
s[s.indexOf("WEBP")]="webP";this.Dx=new fB([12,50],s);this.Dx.Z.style.marginRight="0";this.Dx.lj();n.appendChild(this.Dx.Z);
this.Dx.O(M.E.B,this.Wm,this);$.FI(n);this.fx=new kp(!0,!0,!1,!0);this.fx.lj();this.fx.O(M.E.B,this.Wm,this);
this.fx.t0.Z.style.paddingBottom="8px";n.appendChild(this.fx.Z);this.V6=new g1;this.V6.O(M.E.B,this.Wm,this);
n.appendChild(this.V6.Z);this._2=new iP([1,2],!0,null,!0);this._2.O("click",this.ZR,this);n.appendChild(this._2.Z)}jm.prototype=new c2;
jm.prototype.Ud=function(I,k){return I!=null};jm.prototype.k=function(){c2.prototype.k.call(this);this.fx.k();
this.xe.k();this.Dx.k();this.V6.k();this._2.k()};jm.prototype.ZR=function(I){var k=this.xe.l().trim(),a=kk.QW()[this.Dx.l()],n=a=="JPG"||a=="PNG"||a=="GIF"||a=="SVG"||a=="WEBP",s=kk.wV(a),C="."+a.toLowerCase(),T=this.ir,S=k+C,D=this.Z9,o=D.IZ,v=this.V6.l();
if(D.ib())v.pop();if(o.length!=0&&n&&v.pop()){var g="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",d=[],R={},c=new eZ(0,0,D.Q,D._),e=D.TB();
for(var Y=0;Y<o.length;Y++)d.push(E.xG.mj(o,Y));d.reverse();var O=j.rect.au0([0,0,D.Q,D._],d);for(var Y=0;
Y<O.length;Y++){var U=O[Y],K=new eZ(U[0],U[1],U[2]-U[0],U[3]-U[1]),_=U.length==5?o[U[4]].v:null,Z=j.U(K.c()*4);
j.ao(e,c,Z,K);var H="img/img"+(Y+1)+C;R[H]=new Uint8Array(s.G0([[Z.buffer,0,D.oE,D.Qd]],K.Q,K._,v));
g+="<div style=\"background-image:url('"+H+"'); left:"+K.x+"px; top:"+K.y+"px; width:"+K.Q+"px; height:"+K._+"px\">";
if(_&&_.url.v!="")g+="\n\t<a href=\""+_.url.v+"\" target=\""+_.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
g+="</div>\n"}g+="</body>\n</html>\n";var G=j.U(Math.round(g.length*1.5)),N=u.oN(g,G,0);R["index.html"]=G.slice(0,N);
T=UZIP.encode(R);S=k+".zip"}else if(D.a7W()&&n&&v.pop()){var z=[],c,e;if(ht==0){c=new eZ(0,0,D.Q,D._);
e=D.TB();var L=D.root.children;for(var Y=0;Y<L.length;Y++){var p=L[Y].o;if(p.add.artb==null||!p.K7())continue;
z.push([p.getName(),p.OR()])}}else{c=D.W_();e=new Uint8Array(D.aai(this.wY));var V=D.add.arts;for(var Y=0;
Y<V.length;Y++){var r=V[Y];z.push([r.h2,j.X.qP(r.UL)])}}var R={};for(var Y=0;Y<z.length;Y++){var y,r=z[Y][1];
if(a=="SVG")y=new Uint8Array(s.G0(D,r.Q,r._,v,this.wY,Y));else{var W=j.U(r.c()*4);console.log(c,r);j.ao(e,c,W,r);
y=new Uint8Array(s.G0([[W.buffer,0,D.oE,D.Qd]],r.Q,r._,v))}R[z[Y][0]+C]=y}T=UZIP.encode(R);S=k+".zip"}var m=function(){if(D.fY)ji.J7("act=1&id="+D.fY);
this.fP.JH();this.close();var C=kk.QW()[this.Dx.l()];bU.event("efmt_"+C.toLowerCase(),.1);var h=new d2(M.E.b,!0);
h.data={q:M.p.KZ,data:T,name:S};this.a(h)}.bind(this);if(!this.wY.i2||bU.Oa()){m();return}var f=gP.mf()!=0;
m();var h=new d2(M.E.b,!0),b=dz.Iy("3UMe\\ORYBB@EVG9* 08{\"\",-;#a|gfbeVvg^QT[<7AO?/437#:xx%.zv%vgaxh\\WU^fWJB@W6@3K<;30,,+3`uy{sqc\\7"),i=dz.Iy(";QJXQ_*II9"),w=function(){h.data={q:M.p.Fu,aw:"account"};
this.a(h)}.bind(this);if(f){b=dz.Iy("0^Ne\\ORYLG:<2G&0>||5t{{lqhr<yG\\`bZXJC^SHK?4L868@#3!(&.tn%guakob^RiKME]O@>ENePEr,\"z*x<-\"hxdfzgjdnMMYn_LLVGF>;776>1,5*x!q&d lh\\!eWXMdR@UF;ADL9-CDNOC4r|o(lgs{m^eURiTSORCKTA5K75B!!-738}|lwt}<[XadZ]eDT\\N?9PB:8MO");
w=function(){};i=null}h.data={q:M.p.Fu,aw:dz.hC,P:b,h1:w,acQ:i};if(Math.random()<.1||f)this.a(h)};jm.prototype.tc=function(I,k){if(k.Uy!=null)this.Dx.j(k.Uy);
this.Z9=I;var a=this.Z9.name,n=a.lastIndexOf("."),a=n==-1?a:a.slice(0,n);this.xe.j(a);var s=I.Q,C=I._;
if(ht==1){var T=I.W_();s=T.Q;C=T._}var S=s+","+C;if(S!=this.a0K){this.a0K=S;this.fx.j(new kK(s,C),I.oE)}this.V6.atk();
if(k.a8I){this.fx.oK(3);this.V6.W7.PDF[2].Uz.j(!0)}this.Wm(null,!0)};jm.prototype.a4M=function(I,k){return I<k&&I<660};
jm.prototype.ts=function(I,k){return this.a4M(I,k)?new kK(0,0):new kK(Math.max(0,Math.min(150,(I-770)/2)),Math.max(0,Math.min(150,(k-590)/2)))};
jm.prototype.bb=function(I,k,a){this.Qq=I;this.L4=k;if(this.Z9==null)return;var n=this._2.Z,s=this.a4M(I,k),C,T,d="<span style=\"width:",R="display:inline-block; text-align:right;\">";
if(s){var S=this.nZ.getBoundingClientRect().height;C=I;T=k-Math.max(S,252);$.St(this.body,"flexrow")}else{C=Math.min(512,I-195-2*13);
T=Math.min(512,k-24);$.fO(this.body,"flexrow")}var D=s?I-2*13:195;this.nZ.style.width=D+"px";this.xe.Lm.style.width=D-77+"px";
this.fx.bb(D);var o=kk.QW()[this.Dx.l()],v=kk.wV(o);if(v.di||v.RZ)this.Hm.firstChild.setAttribute("style","display:block; width:"+C+"px; height:"+T+"px;");
else{this.fP.bb(C,T);this.nQ.width=C;this.nQ.height=T}if(this.ir==null)return;var g=this.ir.byteLength,c=d+64+"px;"+R+jm.z3(g)+"</span>";
if(C>400)c+=d+90+"px; opacity:"+.5+";"+R+g.toLocaleString()+" B</span>";this.ER.innerHTML=c;if(a)setTimeout(function(){this.bb(this.Qq,this.L4)}.bind(this),20)};
jm.z3=function(I){var k=I.toString(2),a=0;while(a+10<k.length)a+=10;var n=(I/Math.pow(2,a)).toFixed(1);
if(n.endsWith(".0"))n=n.slice(0,-2);var s="B KB MB GB TB PB".split(" ")[Math.floor(a/10)];return n+" "+s};
jm.prototype.wu=function(I,k){this.wY=I};jm.prototype.Wm=async function(I,k){var a=this.Z9,n=this.fx.l(),s=n.x,C=n.y,T=this.Dx.l(),S=kk.QW()[T],D=kk.asm(a)[0].length,o=["GIF","PNG","WEBP","MP4"].indexOf(S)!=-1&&D>1,e="";
if(o&&S!="MP4"&&k&&(D>4&&s*C>1024*1024||s*C*D>800*800*50)){var v=1;while(Math.max(s>>>v,C>>>v)>800)v++;
var g=window.confirm("Your animation is large ("+s+" x "+C+" px). Press \"OK\" to scale it to "+(100>>>v)+"%. Press \"Cancel\" to keep the size.");
if(g){this.fx.j(new kK(s>>>v,C>>>v),null,!0);s=s>>>v;C=C>>>v}}var d=a.ib();this.V6.G7(S,o,a.IZ.length!=0,a.a7W(),d!=null);
var R=window.locStor.getItem("sfwPrms");if(R==null)R={};else{R=JSON.parse(R);if(R.MP4&&R.MP4[0]==100)R.MP4[0]=50}var c=this.V6.l();
if(I&&I.target==this.V6){R[S]=c;window.locStor.setItem("sfwPrms",JSON.stringify(R))}else if(R[S]){this.V6.j(R[S],!0);
c=this.V6.l()}this.ir=await kk.gj(a,S,s,C,c,this.wY);if(this.ir==null){this.Z9=null;return}$.GD(this.Hm);
this.fP.JH();var O=kk.wV(S);if(O.RZ){this.Hm.innerHTML="<div></div>"}else if(O.di){var U=s,K=C,_;if(S=="PDF"||S=="AI"){_=URL.createObjectURL(new Blob([this.ir],{type:"application/pdf"}))}else{_=URL.createObjectURL(new Blob([this.ir],{type:"image/svg+xml"}))}this.Hm.innerHTML="<iframe src=\""+_+"\"></iframe>"}else if(S=="MP4"){var _=URL.createObjectURL(new Blob([this.ir]));
this.nQ.setAttribute("src",_);this.Hm.appendChild(this.nQ)}else{var Z=this.agW=O.Zn(this.ir),H=Z[0],G=H.e3,U=G.Q,K=G._;
if(H.Os){var N=ICC.R(H.Os.buffer),z=17,L=ICC.U.sampleLUT(N,z);for(var Y=0;Y<Z.length;Y++){var p=new Uint8Array(Z[Y].data);
ICC.U.applyLUT(L,z,p,p)}}this.fP.j(Z,Z.length>1?c[c.length-3]:0);this.Hm.appendChild(this.fP.Z);e="background: rgba(0,0,0,0);"}this.Hm.setAttribute("style","display:block; "+(O.RZ?"background:rgba(0,0,0,0);":"background-size:"+16/$.Y()+"px;")+e);
this.bb(this.Qq,this.L4,k)};function j3(){c2.call(this,[11,13],"shortcuts");this.wY=null;var I=this.Q6=$.I("div","scrollable");
I.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(I);
this.By()}j3.prototype=new c2;j3.prototype.k=function(){c2.prototype.k.call(this);this.By()};j3.prototype.wu=function(I,k){this.wY=I};
j3.prototype.tc=function(I,k,a,n){if($.TU(this.Z))this.By()};j3.prototype.By=function(){var I="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",k="",a=as,n=a.nU,s=a.bJ,C=a.dE;
k+="<h2 style=\"margin-top:0;\">Main Menu</h2>";k+=I;k+=this.Sw([[0,0],"---",[1,0],[n,a.TJ],[1,2],[n,a.Z7],[1,3],[s,n,a.Z7],[1,8],[C,s,n,a.Z7],[0,1],"---",[2,0],[s,n,a.AB],[2,1],[n,a.AB],[5,0],[n,a.E2],[5,1],[n,a.E5],[5,2],[n,a.xb],[2,2],"Delete",[2,3],[C,a.QE],[10,16],[C,n,a.qj],[12,79],[n,a.RA],[3],"---",[4,1],[n,a.eI],[4,2],[n,a.U$],[4,5],[n,a.Qt],[4,11],[n,a.rx],[0,3],"---",[6,13],[s,n,a.kO],[6,49,0],[n,a.qp],[6,6,0],[C,n,a.Rt],[6,9],[n,a.Rt],[6,10],[n,a.E],[0,5],"---",[7,0],[n,a.p],[7,1],[n,a.hW],[7,2],[s,n,a.rx],[0,7],"---",[8,0],[n,a.AC],[8,1],[n,a.q0],[8,3],[n,a.Hg],[8,2],[n,a.db],[8,4],[n,a.tP],[11,13],"?"]);
k+="</div>";k+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";k+=I;k+=this.Sw(["Vertical scroll","Wheel","Horizontal scroll",[n,"Wheel"],"Zooming",[C,"Wheel"]]);
k+="</div>";k+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
k+=I;k+=this.Sw([[10,11],[n],[10,7],"Space",[10,17],[n,a.lO]]);k+="</div>";k+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
k+=I;var T=[],S=this.wY;if(S==null)return;var D=S.L;for(var Y=0;Y<D.n7.length;Y++){var o=D.n7[Y],v=D.keys[Y];
for(var g=0;g<o.length;g++)T.push(o[g].S.name,v?v.vo:null)}T=T.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}",[12,86],[n,a.v6]]);
k+=this.Sw(T);k+="</div>";this.Q6.innerHTML=k};j3.prototype.Sw=function(I){var k="",a=!0;for(var Y=0;
Y<I.length;Y+=2){var n=I[Y],s=as.cq(I[Y+1]);if(s==null){a=!1;continue}var C=$.Pd(hJ.get(n));if(s=="---"){if(!a)k+="<br/>";
k+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+C+"</div>"}else k+="<div>"+C+" <span style=\"float:right; font-weight:bold;\">"+s+"</span> </div>";
a=!1}return k};function dF(I){c2.call(this,I?"Artboard Options":[8,11,1],(I?"a":"s")+"options");this.M4=null;
this.acw=I;var k=$.I("div","form");k.style.width="20em";this.body.appendChild(k);this.jU={Nm:[12,48],url:"URL",null:[12,71]};
this.Nk={};for(var a in this.jU){if(I&&a!="Nm")continue;var n=new ja(this.jU[a],null,15);this.Nk[a]=n;
k.appendChild(n.Z)}this.acN=new gv([12,14,0]);k.appendChild(this.acN.Z);this.$f=new gh(0,!0);k.appendChild(this.$f.Z);
this.vz=$.ZI(this,k)}dF.prototype=new c2;dF.prototype.tc=function(I,k,a){var n=k.P;this.M4=JSON.stringify(n);
if(n.UL){this.Nk.Nm.j(n.h2);var s=n.UL,C=s[0],T=s[1];this.$f.j([C,T,s[2]-C,s[3]-T])}else{for(var S in this.jU){if(n[S])this.Nk[S].j(n[S].v)}var D=n.bounds.v,C=D.Left.v,T=D.Top.v;
this.$f.j([C,T,D.Rght.v-C,D.Btom.v-T])}};dF.prototype.ZR=function(I){var k=JSON.parse(this.M4),a=new d2(M.E.r,!0),n=this.$f.l(),s=n[0],C=n[1];
console.log(n);if(this.acw){k.h2=this.Nk.Nm.l();k.UL=[s,C,s+n[2],C+n[3]];a.S=E.ka;a.data={q:"rpl",P:k}}else{for(var T in this.jU){var S=this.Nk[T].l();
k[T]={t:"TEXT",v:S}}var D=k.bounds.v;D.Left.v=s;D.Top.v=C;D.Rght.v=s+n[2];D.Btom.v=C+n[3];a.S=E.s4;a.data=k}a.tQ=!0;
this.a(a);this.close()};dF.prototype.k=function(){c2.prototype.k.call(this);this.vz.k();this.acN.k();
this.$f.k()};function cv(){c2.call(this,[2,3],"fill");this.wY=null;this.Tt=null;var I=$.I("div","form padded");
I.style.width="22em";this.body.appendChild(I);this.zE="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");
this.a3=new fB([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],[3,3,2]);
this.a3.O(M.E.B,this.a5w,this);I.appendChild(this.a3.Z);this.Hm=$.I("span");I.appendChild(this.Hm);this.Ta=new ek;
this.Ta.parent=this;this.Ta.c1(0);this.GR=new jY;this.GR.parent=this;this.hT=new fB([12,19,0],aU.L6,aU.e2);
I.appendChild(this.hT.Z);this.C3=new iD([12,0],0,100,"%",0,!1);this.C3.j(100);I.appendChild(this.C3.Z);
this.vw=new dI([13,5]);this.vw.j(!1);I.appendChild(this.vw.Z);this.vz=$.ZI(this,this.body)}cv.prototype=new c2;
cv.prototype.Ud=function(I,k){return I!=null};cv.prototype.UC=function(){return!0};cv.prototype.a5w=function(){var I=this.a3.l(),k=this.Ta.Z,a=this.GR.Z,n=this.Hm;
if(I==2)n.appendChild(k);else if(n.contains(k))n.removeChild(k);if(I==7)n.appendChild(a);else if(n.contains(a))n.removeChild(a)};
cv.prototype.k=function(){c2.prototype.k.call(this);this.a3.k();this.hT.k();this.C3.k();this.vw.k();
this.vz.k()};cv.prototype.ZR=function(I){if(!this.Tt.rb())return;var k=new d2(M.E.rd,!0),n=this.a3.l();
k.data=E.dX.HO(this.zE[n],aU._B[this.hT.l()],this.C3.l()/100,this.Ta.l(),this.vw.l(),this.GR.l());this.close();
this.a(k)};cv.prototype.tc=function(I,k){this.Tt=I};cv.prototype.wu=function(I,k){this.wY=I;if(k==f9._7||k==f9.Al){this.GR.rt(I.Vh);
this.GR.j({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"b4d43394-d71c-11e5-b1ae-a548a96e5f9f",t:"TEXT"}})}};
function h_(){c2.call(this,[14,9],"stroke");this.wY=null;this.nZ=$.I("div","form");this.nZ.setAttribute("style","width:24em");
this.body.appendChild(this.nZ);this._N=new bF("FrFX",!0);this._N.parent=this;var I=["Sz","Styl","Md","Opct"].concat(fY.$w);
for(var Y=0;Y<I.length;Y++){var k=this._N.Ko[I[Y]].Z;this.nZ.appendChild(k)}this.YI=!1;this.vz=$.ZI(this,this.body)}h_.prototype=new c2;
h_.prototype.Ud=function(I,k){return I!=null};h_.prototype.UC=function(){return!0};h_.prototype.k=function(){c2.prototype.k.call(this);
this.vz.k();this._N.k()};h_.prototype.ZR=function(I){var k=this._N.l(),a={classID:"Strk"};a.Md=k.Md;
a.Opct=k.Opct;a.Clr=k.Clr;a.Wdth={t:"long",v:k.Sz.v.val};var n=fY.stroke.types.indexOf(k.Styl.v.FStl);
a.Lctn={t:"enum",v:{StrL:["Insd","Cntr","Otsd"][n]}};var s=new d2(M.E.rd,!0);s.data={pi:"stroke",zf:a};
this.close();this.a(s)};h_.prototype.tc=function(I,k){if(!this.YI){var a=fY.iH[fY.order.indexOf("FrFX")];
a=JSON.parse(a);this._N.update(I,a);this.YI=!0}var a=this._N.l(),n=this.wY.MW;a.Clr.v=j.G.pI({$:n>>16&255,H:n>>8&255,J:n&255});
this._N.update(I,a)};h_.prototype.wu=function(I,k){this.wY=I};function aW(){c2.call(this,[11,9],"textwarp");
this.Nk=new g4;this.Nk.O(M.E.B,this.JT,this);this.Nk.parent=this;this.nZ=$.I("div","form");this.nZ.setAttribute("style","width:20em");
this.body.appendChild(this.nZ);this.nZ.appendChild(this.Nk.cG.Z);this.nZ.appendChild(this.Nk.Mc.Z);this.nZ.appendChild(this.Nk.MN.Z);
this.nZ.appendChild(this.Nk.Jl.Z);this.nZ.appendChild(this.Nk.UR.Z);this.vz=$.ZI(this,this.nZ);this.O("closebtn",this.b5,this)}aW.prototype=new c2;
aW.prototype.UC=function(){return!0};aW.prototype.k=function(){c2.prototype.k.call(this);this.vz.k();
this.Nk.k()};aW.prototype.JT=function(I){var k=this.Nk.l();this.NR({q:"warp",O8:k})};aW.prototype.NR=function(I){var k=new d2(M.E.r,!0);
k.S=E.N$;k.data=I;k.tQ=!0;this.a(k)};aW.prototype.b5=function(I){this.NR({q:"warpCancel"})};aW.prototype.ZR=function(I){this.NR({q:"warpConfirm"});
this.close()};aW.prototype.tc=function(I,k){var a=I.R[I.T[0]];this.Nk.j(a.add.TySh.At)};function cG(){c2.call(this,[11,12,0],"trim");
var I=this.nZ=$.I("div","form");this.nZ.setAttribute("style","width:22em");this.body.appendChild(this.nZ);
var k=new gv("Color To Trim:");I.appendChild(k.Z);this.$C=new da(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this.$C.j([!0]);this.nZ.appendChild(this.$C.Z);var k=new gv("Sides:");I.appendChild(k.Z);this.oh=new da(null,["Top","Left","Bottom","Right"]);
this.oh.j([!0,!0,!0,!0]);this.nZ.appendChild(this.oh.Z);this.vz=$.ZI(this,this.body)}cG.prototype=new c2;
cG.prototype.Ud=function(I,k){return I!=null};cG.prototype.UC=function(){return!0};cG.prototype.k=function(){c2.prototype.k.call(this);
this.$C.k();this.oh.k();this.vz.k()};cG.prototype.ZR=function(I){var k=this.$C.l().indexOf(!0),a=this.oh.l(),n=new d2(M.E.rd,!0);
n.data=E.Zo.ec(k,a);this.close();this.a(n)};function eS(){c2.call(this,"Raw Photopea","rawpea");this.qH=null;
this.wi=null;this.body.style.padding="0";var I=this.tS=new ke["Adobe Camera Raw Filter"](!0),k="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.body.appendChild(I.Z);this.vz=new iP([1,0],!0,null,!0);this.vz.O("click",this.ZR,this);this.nC=new iP(k+" JPG",!0,null,!0);
this.nC.O("click",this.adO,this);this.nC.Z.style.marginTop="6px";I.vs(this.vz.Z);I.vs(this.nC.Z)}eS.prototype=new c2;
eS.prototype.ts=function(){return new kK(0,0)};eS.prototype.bb=function(I,k){this.tS.bb(I,k)};eS.prototype.k=function(){c2.prototype.k.call(this);
this.tS.k()};eS.prototype.adO=function(I){var k=this.qH,a=this.wi,n=kk.wV("JPG").G0([[this.tS.l(!0).buffer]],a.Sz,a.Qe,[85]),s=new d2(M.E.b,!0);
s.data={q:M.p.KZ,data:n,name:"photo.jpg"};this.a(s)};eS.prototype.ZR=function(I){var k=this.qH,a=this.wi,n=ei.oD(k),k={e3:new eZ(0,0,a.Sz,a.Qe),data:this.tS.l(!0).buffer,Qd:n},s=kk.Xl("Raw Photo",[k]),C=new d2(M.E.b,!0);
C.data={q:M.p.kz,Z9:s};this.a(C);this.fF();this.close()};eS.prototype.fF=function(){this.qH=null;this.wi=null;
this.tS.a7B()};eS.prototype.tc=function(I,k,a,n){this.qH=k.eY;var s=this.wi=j.raw.ahi(this.qH),C=j.raw.aBx(k.eY),T=eX.atD(C);
j.raw.Dt(s.GG,s.GG,k.eY,[T.Ml,T.C0]);var S=gJ.nI("Adobe Camera Raw Filter");this.tS.j(S,s.GG,new eZ(0,0,s.Sz,s.Qe))};
function ir(I){c2.call(this,I?[11,11,0]:[11,11,1],I?"vbitmap":"rcolors");this.Nx=null;this.Vo=null;this.up=null;
this.q3=null;this.x5=null;this.aCj=null;this.KW=null;this.wY=null;this.qT="";this.sF=I;this.oj=this.LI.bind(this);
this.Ly=!1;this.body.style.padding="0";this.nZ=$.I("div","form hbar padded");this.body.appendChild(this.nZ);
this.iA=new da(null,["Fill","Stroke","Labels"]);this.iA.O(M.E.B,this.LI,this);var k=$.I("span","rangecontFloat form padded"),D=16;
k.appendChild(this.iA.Z);k.setAttribute("style","position:absolute; width:120px; z-index:2;  padding-right:0px; ");
var a=new gB;a.Z=k;var n=this.WE={cnum:new fM([12,82],2,50,null),nois:new dI([12,81]),mode:new fB(null,["Cartoon","Photo"]),segm:new dI("Segmentize"),cbok:new dI("Coloring book"),poly:new dI("Polygon"),merg:new dI("Merge colors"),polE:new fM("Roughness",2,30,null),dthr:new dI([12,23,3]),vprm:new iP("\u2026",!1,null,!0),ok:$.ZI(this,null,!1)},s=this;
for(var C in n){var T=n[C];T.parent=this;if(C=="ok"){}else if(C=="vprm"){T.O("click",function(v){var g=n.vprm.Z.getBoundingClientRect(),d=new d2(M.E.b,!0);
d.data={q:M.p.ut,zM:a,x:g.left,y:g.top+20};s.a(d)})}else T.O(M.E.B,this.LI,this)}var S=this.wC=$.I("div","flexrow");
this.body.appendChild(S);S.setAttribute("style","background-color:var(--bg-canvas)");this.EC=new dq;
this.EC.O("viewchange",this.D8,this);this.JS=new dq;this.g8=$.I("canvas");this.g8.setAttribute("style","margin:0 0 0 1px; padding:0; cursor:grab;");
this.hp=this.g8.getContext("2d");var o=j.U(16*16*4);j.lQ(o,D,D,8);this.ms=j.scale.pt(o,D,D);this.EC.a48(this.g8);
this.EC.nn(this.JS);this.JS.nn(this.EC);S.appendChild(this.EC.Z);if(I)S.appendChild(this.g8);else S.appendChild(this.JS.Z)}ir.prototype=new c2;
ir.prototype.ts=function(){return new kK(0,0)};ir.prototype.UC=function(){return!0};ir.prototype.bb=function(I,k){this.Qq=I;
this.L4=k;k=k-44;if(I<600)k-=29;if(this.Nx==null)return;var a=this.Nx.e3,n=iz.ay5(I,k,a.Q,a._);if(n==1)k-=3;
if(n==0){I=Math.floor(I/2);$.fO(this.wC,"flexrow")}else{k=Math.floor(k/2);$.St(this.wC,"flexrow")}$.hI(this.g8,I,k);
this.EC.bb(I,k);if(this.sF)this.D8();else this.JS.bb(I,k)};ir.prototype.Bf=function(I,k,a,n){this.EC.Bf(n)};
ir.prototype.k=function(){c2.prototype.k.call(this);for(var I in this.WE)this.WE[I].k()};ir.prototype.tc=function(I,k){this.KW=I;
this.x5=null;var a=I.R[I.T[0]],n=j.Wi.abQ(a.buffer.buffer,a.rect.Q,a.rect._).al8,s=n/((a.rect.Q-2)*(a.rect._-2)),C=this.WE;
C.cnum.j(20);C.nois.j(s<.75);C.mode.j(s<.75?1:0);C.segm.j(!1);C.cbok.j(!1);C.poly.j(!1);C.merg.j(!0);
C.polE.j(1);C.dthr.j(!1);var T=a.rect.clone();T.x=T.y=0;this.Nx={e3:T,data:a.buffer.buffer.slice(0)};
this.Vo=null;this.bb(this.Qq,this.L4);this.EC.j([this.Nx]);this.EC.wF();this.Ly=!0;this.iA.j([!0,!1,!1]);
setTimeout(this.oj,20)};ir.prototype.LI=function(){var I=!0,k=Date.now(),a=this.Nx,n=this.WE,s=n.cnum.l(),C=n.nois.l(),T=n.mode.l(),S=n.segm.l(),D=n.cbok.l(),o=n.poly.l(),v=n.merg.l(),g=n.polE.l(),p=null;
if(T==0)S=o=D=!1;var d=n.dthr.l(),R=["cnum","nois","mode"];if(T==1){R.push("cbok");if(this.sF){R.push("poly");
if(o)R.push("polE");R.push("vprm")}}if(this.sF)R.push("merg");else R.push("dthr");R.push("ok");$.GD(this.nZ);
for(var Y=0;Y<R.length;Y++)this.nZ.appendChild(n[R[Y]].Z);if(I)console.log("---------------------------------------");
var c=C||S,e=C+","+S;if(c&&(this.Vo==null||this.qT!=e)){this.qT=e;var O=new Uint8Array(a.data),U=a.e3.Q,K=a.e3._;
if(C){if(this.x5==null){this.x5=O.slice(0);j.yh.ZE=35;j.yh.ml(this.x5,this.x5,U,K,15,1);if(I){console.log("denoise",Date.now()-k);
k=Date.now()}}O=this.x5.slice(0)}else O=O.slice(0);if(S){var _=j.Wi.nJ(O,U,K,40,10),Z=_.RA,H=new Uint8Array(Z*4);
for(var Y=0;Y<Z;Y++){var G=Y*4,N=Y*6,z=1/_.cV[N+5];H[G]=_.cV[N]*z;H[G+1]=_.cV[N+1]*z;H[G+2]=_.cV[N+2]*z}for(var Y=0;
Y<O.length;Y+=4){var L=_.y9[Y>>>2]*4;O[Y]=H[L];O[Y+1]=H[L+1];O[Y+2]=H[L+2]}if(I){console.log("segm",Date.now()-k);
k=Date.now()}}this.Vo={e3:a.e3.clone(),data:O.buffer}}if(c)a=this.Vo;var O=new Uint8Array(a.data),U=a.e3.Q,K=a.e3._;
for(var Y=0;Y<O.length;Y+=4){if(O[Y+3]<10)O[Y]=O[Y+1]=O[Y+2]=O[Y+3]=0}if(T==0){p=j.Wi.a6T(O,U,K,s,c?.1:2e-4);
if(I){console.log("quantize",Date.now()-k);k=Date.now()}}if(T!=0||p&&p.RJ.length<2){p=gr.aaS(O.buffer,s,U,K,null,D)}if(this.sF){var V=p.y9.slice(0);
for(var Y=0;Y<V.length;Y++)V[Y]++;this.I_=j.Wi.a0$(p.y9,U,K);var r=new Uint8Array((U+2)*(K+2));j.O0(V,new eZ(1,1,U,K),r,new eZ(0,0,U+2,K+2));
if(!o){var y=Math.round((U+2)*(K+2)/1e4),W=id.CG(r.slice(0),U+2,K+2,Math.min(12,y)),m=id.iQ(W);if(I){console.log("trace smooth",Date.now()-k);
k=Date.now()}}else{var m=j.X.ds(r,U+2,K+2,g,I)}var f=m.length,h=new dc(1,0,0,1,-1,-1);for(var Y=0;Y<f;
Y++)j.X.h(m[Y].path.s,h,m[Y].path.s);this.q3=m;this.up=p;for(var Y=0;Y<f;Y++){var b=m[Y];if(p.RJ[b.color-1].est.q[3]>.05)continue;
var i=b.parent;while(i!=-1){var w=m[i];i=w.parent;if(p.RJ[w.color-1].est.q[3]<.05)break;j.X.concat(w.path,j.X.reverse(b.path))}}if(I){console.log("finding holes",Date.now()-k);
k=Date.now()}for(var Y=0;Y<m.length;Y++){var J=m[Y];if(J.parent!=-1){var q=m[J.parent];J.parent=q;if(q.Mb==null)q.Mb=[];
q.Mb.push(J)}J.depth=J.parent==-1?0:J.parent.depth+1}if(v){function x(dN,B){var kc={},ck=0,b3=0;for(var Y=0;
Y<dN.length;Y++){var P=dN[Y].color,hL="c"+P;if(P==B)throw P;if(kc[hL]==null)kc[hL]=0;kc[hL]++;if(kc[hL]>ck){ck=kc[hL];
b3=P}}return b3}var A=[],Q=[],B=-1,l=!0;for(var Y=0;Y<m.length;Y++)if(m[Y].parent==-1)Q.push(m[Y]);while(Q.length!=0){var P=x(Q,B);
B=P;for(var Y=0;Y<Q.length;Y++)if(Q[Y].color==P){var F=Q[Y];A.push(F);Q.splice(Y,1);Y--;if(F.Mb)for(var t=0;
t<F.Mb.length;t++){Q.push(F.Mb[t]);if(F.Mb[t].color!=P)l=!1}}}if(l)m=A;else{var b$=[];for(var hd=0;hd<500;
hd++){var di=[],W=b$[hd-1];b$.push(di);for(var Y=0;Y<m.length;Y++){var J=m[Y],q=J.parent;if(hd==0&&q==-1||hd!=0&&W.indexOf(q)!=-1){di.push(J);
m.splice(Y,1);Y--}}di.sort(function(dN,kc){return dN.color-kc.color});if(m.length==0)break}for(var Y=0;
Y<b$.length;Y++)m=m.concat(b$[Y])}}else{var A=[],hD=[];while(m.length!=0){hD.push(m.shift());while(hD.length!=0){var a$=hD.pop();
A.push(a$);if(a$.Mb)for(var Y=0;Y<a$.Mb.length;Y++){var J=a$.Mb[Y];m.splice(m.indexOf(J),1);hD.push(J)}}}m=A}this.q3=m;
for(var Y=0;Y<m.length;Y++){var b=m[Y],eJ=p.RJ[b.color-1].est.q;if(eJ[3]<=.05){m.splice(Y,1);Y--;continue}}for(var Y=1;
Y<m.length;Y++){var hY=m[Y-1],b=m[Y];if(hY.color==b.color&&(v||hY.parent==b.parent&&hY.depth>=2)){j.X.concat(hY.path,b.path);
m.splice(Y,1);Y--;continue}}if(I){console.log("reordering layers",Date.now()-k,f,m.length);k=Date.now()}this.D8()}else{var ik=new Uint32Array(U*K),fw=U*K,jb=this.aCj=new Uint8Array(ik.buffer);
if(d){var cd=[];for(var Y=0;Y<p.RJ.length;Y++)cd.push(p.RJ[Y].est.rgba);var L=j.U(U*K);UPNG.encode.dither(new Uint8Array(a.data),U,K,cd,jb,L)}else{for(var Y=0;
Y<fw;Y++){var P=p.RJ[p.y9[Y]];ik[Y]=P.est.rgba}}this.JS.j([{e3:a.e3,data:ik.buffer}]);if(this.Ly){this.JS.wF();
this.Ly=!1}}};ir.prototype.D8=function(I){if(this.q3==null)return;var k=this.iA.l(),a=this.Nx.e3.Q,n=this.Nx.e3._,s=this.q3,C=this.up.RJ,T=this.g8,S=this.hp,D=this.EC.DF(),v="rgba(0,0,0,0.3)";
S.setTransform(1,0,0,1,0,0);S.clearRect(0,0,T.width,T.height);S.translate(T.width/2,T.height/2);S.scale(D.F,D.F);
S.translate(D.i.x/D.F-a/2,D.i.y/D.F-n/2);S.scale(1/D.F,1/D.F);S.fillStyle=this.ms;S.fillRect(0,0,a*D.F,n*D.F);
S.scale(D.F,D.F);S.lineWidth=(a+n)*5e-4;var o=this.fk();S.strokeStyle=v;for(var g=0;g<2;g++){if(!k[g])continue;
for(var Y=0;Y<s.length;Y++){var d=s[Y],R=o[d.color-1];if(R.M==0)continue;S.fillStyle=R.K3;S.beginPath();
Typr.U.pathToContext({crds:d.path.s,cmds:d.path.m},S);if(g==0)S.fill();else S.stroke()}}if(k[2])this.aDX(S,a,n)};
ir.prototype.fk=function(){var I=this.up.RJ,k=[];for(var Y=0;Y<I.length;Y++){var a=I[Y].est.q,n={$:Math.round(255*a[0]),H:Math.round(255*a[1]),J:Math.round(255*a[2]),M:Math.round(255*a[3])};
n.K3="rgba("+n.$+","+n.H+","+n.J+","+n.M/255+")";k.push(n)}return k};ir.prototype.aDX=function(I,k,a){var n=this.fk(),s=this.a66(k,a,n);
function C(o,v,g,d){I.font=d+"px sans-serif";o++;var R=I.measureText(o);I.fillText(o,v-R.width/2,g+d*.25)}I.fillStyle="rgba(0,0,0,0.5)";
var T=this.I_;for(var Y=0;Y<T.length;Y++){var S=T[Y];if(S[3]<k*a*5e-4)continue;C(S[2],S[0],S[1],(k+a)*.008)}I.fillStyle="rgba(255,255,255,1)";
I.fillRect(0,0,s,s*n.length);for(var Y=0;Y<n.length;Y++){var D=n[Y];I.fillStyle=D.K3;I.fillRect(s,s*Y,s,s);
I.fillStyle="black";C(Y,s*.5,s*(Y+.5),s*.65)}};ir.prototype.a66=function(I,k,a){var n=a.length*(I+k)/70;
return Math.min(k,n)/a.length};ir.prototype.ZR=function(I){var k=this.KW,a=k.T[0],n=k.R[a],s=new d2(M.E.r,!0);
s.tQ=!0;s.S=E.xf;var C=this.wY.IE,T=this;if(this.sF){var S=this.fk(),v=0,d=!1;function D(U,e){var O=k.ux();
O.opacity=e.M;O.HA|=16;O.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.G.pI(e)}};O.add.vmsk=new X.JB;O.add.vstk=fY.Lg.nI(!0);
O.add.vmsk.d=U;O.Bb();O.Wr(k);return O}var o=this.iA.l();for(var Y=0;Y<3;Y++)if(o[Y])v++;if(v==0){alert("Enable Fill, Stroke or Labels");
return}var g=this.q3;if(v==1&&o[0]&&g.length==1)d=!0;var R=k.R.slice(0,a);if(!d)R.push(k.KM());if(o[0])for(var Y=0;
Y<g.length;Y++){var c=g[Y],e=S[c.color-1];j.X.h(c.path.s,new dc(1,0,0,1,n.rect.x,n.rect.y),c.path.s);
var O=D(j.X.ep(c.path,!1),e);O.GF("Path "+Y);R.push(O)}if(o[1]){var O=k.ux();O.GF("Stroke");R.push(O);
O.opacity=128;O.HA|=16;O.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.G.pI({$:0,H:0,J:0})}};O.add.vmsk=new X.JB;
O.add.vstk=fY.Lg.nI(!1,!0);var U=[];for(var Y=0;Y<g.length;Y++){var c=g[Y],K=j.X.ep(c.path,!1);if(Y==0)U=K;
else U=U.concat(K.slice(2))}O.add.vmsk.d=U;O.Bb();O.Wr(k)}if(o[2]){var _=this.Nx.e3,Z=_.Q,H=_._,G=this.a66(Z,H,S);
R.push(k.KM());function N(y,W,m,f){y=1+y+"";var O=k.ux();R.push(O);O.opacity=f;O.add.lnsr="rend";var h=O.add.TySh=f4.MU(W-G*.2,m+G*.25),b=O.add.TySh.RW,i=f4.dm(b,0,0);
i.CX.FontSize=Math.round(G*.6);f4.Xy(b,0,0,i);f4.lL(b,0,y);O.N5();if(jW.SJ(h,C,T)){jW.Rm(O,C,k);k.V()}}var z=this.I_;
for(var Y=0;Y<z.length;Y++){var L=z[Y];if(L[3]<Z*H*5e-4)continue;N(L[2],L[0],L[1],128)}var O=D(j.n.uQ.Rect(0,0,G,G*S.length),{$:255,H:255,J:255,M:255});
O.GF("white");R.push(O);for(var Y=0;Y<S.length;Y++){var e=S[Y],O=D(j.n.uQ.Rect(G,G*Y,G,G),e);O.GF("color");
R.push(O);N(Y,G/2,G*(Y+.5),255)}var O=k.ux();O.GF("Labels");O.add.lsct=gA.DG;O.pu="pass";O.HA=24;R.push(O)}var p=R[R.length-1];
if(!d){var O=k.ux();O.GF(n.getName());O.add.lsct=gA.rW;O.pu="pass";O.HA=24;R.push(O);p=O}var V=n.add.lmfx;
if(V)p.add.lmfx=JSON.parse(JSON.stringify(V));var r=R.length;for(var Y=a+1;Y<k.R.length;Y++)R.push(k.R[Y]);
s.data={q:X.J5,xj:R,iy:[r-1],xn:[11,11,0]}}else{var R=k.R.slice(0),O=k.ux();O.GF(n.getName());R.splice(k.T[0]+1,0,O);
O.rect=n.rect.clone();O.buffer=this.aCj;O.V();s.data={q:X.J5,xj:R,iy:[k.T[0]+1],xn:[11,11,1]}}this.a(s);
this.close();k.P5=!0};ir.prototype.wu=function(I,k){this.wY=I};function iz(I){c2.call(this,[[7,11],[7,13]][I],["redge","magiccut"][I]);
this.$C=I;this.Nx={};this.Fp=null;this.tb=null;this.KW=null;this.jF=null;this.cI=null;this.body.style.padding="0";
this.mO=[];this.gb=-1;this.nZ=$.I("div","form hbar padded");this.body.appendChild(this.nZ);this.j3=new bo;
this.j3.parent=this;this.j3.O(M.E.B,this.es,this);this.nZ.appendChild(this.j3.Z);var k=I==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
k=k.concat("tools/hand","zoomIn","zoomOut");var a=I==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.Il=new ak(null,k,a,28);this.Il.O(M.E.B,this.Bf,this);this.nZ.appendChild(this.Il.Z);this.FV=new fM([7,9],0,50,null);
this.FV.parent=this;this.FV.O(M.E.B,[this.anc,this.LI][I],this);this.nZ.appendChild(this.FV.Z);var n=this.a9H=new iP([2,2],!1,null,!0);
n.O("click",this.fF,this);this.nZ.appendChild(n.Z);var s=this.Fy=$.I("span","form");this.nZ.appendChild(s);
var C=this.a9E=new iP([12,90],!1,null,!0);C.O("click",function(D){alert(I==0?hJ.get([15,7,1]):"Mark the object with Green, background with Red. The majority of the area should stay unpainted. Two colors should never touch.",5e3)},this);
s.appendChild(C.Z);var T=new iP("Tutorial",!1,null,!0);T.O("click",this.avA,this);s.appendChild(T.Z);
this.Xf=new ak([12,46],["checker","#ffffff","#000000"]);this.Xf.O(M.E.B,this.afw,this);s.appendChild(this.Xf.Z);
this.aI=new fB(null,[[6,13],[6,2],[17,2]]);s.appendChild(this.aI.Z);this.vz=$.ZI(this,s,!1);var S=this.wC=$.I("div","flexrow");
this.body.appendChild(S);this.Vs=new dq(!0);this.pc=new dq;this.Vs.nn(this.pc);this.pc.nn(this.Vs);this.Vs.O("mousedown",this.e_,this);
this.Vs.O("mousemove",this.vC,this);this.Vs.O("mouseup",this.RG,this);this.Vs.O("zoom",this.es,this);
this.pc.O("zoom",this.es,this);S.appendChild(this.Vs.Z);S.appendChild(this.pc.Z)}iz.prototype=new c2;
iz.prototype.Ud=function(I,k){var a=I!=null&&!I.R[I.T[0]].rect.KH();if(!a)alert("The layer is empty.");
return a};iz.prototype.ts=function(){return new kK(0,0)};iz.prototype.UC=function(){return!0};iz.prototype.bb=function(I,k){this.Qq=I;
this.L4=k;k=k-12-33;if(I<900){this.Fy.setAttribute("style","display:block;  text-align:right;");k-=29}else{this.Fy.setAttribute("style","position:absolute;  right:0px")}this.Xf.jO(I<440?null:[12,46]);
this.FV.jO(I<470?null:[7,9]);var a=this.Nx.rect;if(a){var n=iz.ay5(I,k,a.Q,a._);if(n==0){I=Math.floor(I/2);
$.fO(this.wC,"flexrow")}else{k=Math.floor(k/2);$.St(this.wC,"flexrow")}this.Vs.bb(I,k);this.pc.bb(I,k)}};
iz.ay5=function(I,k,a,n){var s=I/2,C=k/2,T=Math.min(s/a,k/n),S=Math.min(I/a,C/n);return T>S?0:1};iz.prototype.k=function(){c2.prototype.k.call(this);
this.j3.k();this.FV.k();this.vz.k();this.Xf.k();this.aI.k();this.a9H.k();this.a9E.k()};iz.prototype.avA=function(I){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.$C],"_blank")};
iz.prototype.wu=function(I,k){this.tb=I;if(k==f9.yO||k==f9._7){this.j3.rt(I.Yg);this.j3.j(kJ.Nf(),I.Yg.HR,I.Yg.GR)}};
iz.prototype.Bf=function(I,k,a,n){var s=this.Il.l();if(n==null){this.Vs.Bf(dq.sp(s-3));return}this.jF=n;
var C=E.dX.JG(this.j3.l(),n);if(C!=null){this.j3.j(C);this.es()}else if(n.W(as.nU)&&n.W(as.AB)){var T=this.mO,S=0;
if(n.W(as.bJ)){if(this.gb+1<T.length)S=1}else if(this.gb>0)S=-1;if(S!=0){this.gb+=S;var D=this.gb,o=this.Nx;
if(S==1)j.ao(T[D][2],T[D][0],o.Tc,o.rect);else j.ao(T[D+1][1],T[D+1][0],o.Tc,o.rect);o.GE=o.rect;this.LI()}}else if(s<3)this.Vs.Bf(n)};
iz.prototype.e7=function(I){var k=this.Nx,a=this.mO,n=j.U(I.c()*4);j.ao(k.KL,k.rect,n,I);k.KL=null;var s=j.U(I.c()*4);
j.ao(k.Tc,k.rect,s,I);this.gb++;a[this.gb]=[I.clone(),n,s];while(a.length>this.gb+1)a.pop();while(a.length>50){a=a.slice(1);
this.gb--}};iz.prototype.es=function(){var I=this.tb,k=kN.fL(this.j3.l(),I.Yg.HR,this.Vs.DF().F);this.Vs.lt(k)};
iz.prototype.e_=function(I){var k=this.tb,a=this.Nx,n=this.jF,s=this.j3.l(),C=this.Vs.Ah(),T=[16777215,8421504,0][this.Il.l()];
this.Fp=new kN(s,k.Yg.HR,k.Yg.GR,{UA:1,oc:!0},T,k.U2,a.rect);a.KL=a.Tc.slice(0);if(n!=null&&n.W(as.bJ)&&this.cI){this.Fp.moveTo(this.cI.x,this.cI.y);
this.Fp.lineTo(C.x,C.y)}else this.Fp.moveTo(C.x,C.y);this.azD()};iz.prototype.vC=function(I){var k=this.Nx,a=this.Vs.Ah();
this.Fp.lineTo(a.x,a.y);this.azD()};iz.prototype.RG=function(I){this.cI=this.Vs.Ah();this.e7(this.Fp.Gp());
this.LI()};iz.prototype.azD=function(){var I=this.Nx,k=this.Fp,a=k.kU();if(a.KH())return;I.GE=a;j.z.Pf("norm",k.SW(),k.GT(),I.Tc,I.rect,a,1);
this.awW()};iz.prototype.fF=function(I){var k=this.Nx;k.KL=k.Tc.slice(0);k.GE=k.rect;j.IP(k.Tc,[4278190080,4292730333][this.$C]);
this.e7(k.rect);this.LI()};iz.prototype.tc=function(I,k){this.KW=I;var a=I.R[I.T[0]],n=a.rect.clone(),s=n.Q,C=n._,D;
this.FV.j(this.$C==0?3:s*C<3e6?3:0);this.Il.j(I.f==null?0:1);this.FV.hl();if(this.$C==0&&I.f!=null||this.$C==1)this.FV.MK();
var T=this.$C,S=j.U(n.c());if(T==0&&I.f){j.O0(I.f.channel,I.f.rect,S,n);var o=j.U(n.c());for(var v=0;
v<C;v++)for(var g=0;g<s;g++){var Y=v*s+g,d=S[Y];if(g>0&&S[Y-1]!=d||g<s-1&&S[Y+1]!=d||v>0&&S[Y-s]!=d||v<C-1&&S[Y+s]!=d)o[Y]=255}D=j.style.Cf(o,s,C)}else{D=new Float32Array(n.c());
D.fill(1e9)}n.x=n.y=0;this.Nx={rect:n,GG:a.buffer,Mr:S,eQ:D,AN:j.U(n.c()*4),tk:j.U(n.c()*4),Tc:j.U(n.c()*4),KL:null,BI:null,GE:n,aAJ:{}};
if(T==0)this.anc();else{this.Nx.aAJ=E.sl.azI(I);var R=this.Nx.Tc;j.IP(R,4287137928);var c=j.cY.getSelection(a.buffer,s,C),e=Math.round(s/60),O=Math.round(.7*C);
for(var v=0;v<C;v++)for(var g=0;g<s;g++){var U=(v*s+g)*4,K=c[U>>>2];K=K>128?255:128;if(v<e||v<O&&(g<e||g>s-1-e))K=0;
R[U]=R[U+1]=R[U+2]=K}this.LI()}this.mO=[1];this.gb=0;var _=this.j3.l();_.Brsh.v.Dmtr.v.val=Math.round(n.Q/(T==0?10:20));
this.j3.j(_);this.es();this.bb(this.Qq,this.L4);this.Vs.wF()};iz.prototype.anc=function(){var I=this.Nx,k=I.rect.c(),a=this.FV.l(),n=I.Mr.slice(0);
for(var Y=0;Y<k;Y++)if(I.eQ[Y]<a)n[Y]=128;j.IP(I.Tc,4294967295);j.yv(n,I.Tc,0);j.yv(n,I.Tc,1);j.yv(n,I.Tc,2);
I.GE=I.rect;this.LI()};iz.prototype.LI=function(){var I=this.Nx,s,S,D=0,o=0,v=0;this.awW();var k=I.rect,a=k.Q,n=k._,C=j.U(k.c()),T=I.GG;
j.Ez(I.Tc,C,0);for(var Y=0;Y<C.length;Y++){if(T[(Y<<2)+3]!=255)continue;var g=C[Y];if(g==0)D++;else if(g==255)o++;
else v++}if(D*o*v!=0){if(this.$C==0)S=j.cT.cT(k,T,C);else{var d=this.Il.l();for(var R=1;R<n;R++)for(var c=1;
c<a;c++){var Y=R*a+c,e=C[Y],O=C[Y-1];if(e==0&&O==255||e==255&&O==0){s="The Red and Green should never touch! Erase it with Grey.";
break}}var U=Date.now(),K=this.Nx.aAJ;j.ed(C,K.Qn);E.sl.Ox(K,!0,this.KW);var _=Math.ceil(this.FV.l()/2);
if(_==0){S=T.slice(0);j.yv(K.f,S,3)}else{var Z=K.f.slice(0),H=K.f.slice(0);for(var G=0;G<_;G++){for(var R=1;
R<n-1;R++)for(var c=1;c<a-1;c++){var Y=R*k.Q+c,N=Z[Y];if(Z[Y-a]!=N||Z[Y-1]!=N||Z[Y+1]!=N||Z[Y+a]!=N)H[Y]=128;
else H[Y]=N}var z=Z;Z=H;H=z}for(var R=0;R<n;R++)for(var c=0;c<a;c++){var Y=R*a+c;if(C[Y]==0||C[Y]==255)Z[Y]=C[Y]}S=j.cT.cT(k,T,Z,20,!1)}}}else{S=T.slice(0);
j.yv(C,S,3)}for(var Y=3;Y<S.length;Y+=4)if(S[Y]>T[Y])S[Y]=T[Y];if(k.a$(I.rect))I.BI=S;else j.ao(S,k,I.BI,I.rect);
this.afw();if(s)alert(s,4e3)};iz.prototype.awW=function(I){var k=this.Nx,a=k.GE;j.ao(k.GG,k.rect,k.AN,k.rect,a,!0);
var n=k.Tc,s=k.rect,C=Date.now();if(this.$C==1){var T=new Uint32Array(256);T[0]=4278190335;T[255]=4278255360;
var S=j.U(a.c()*4),D=a.c();j.ao(n,s,S,a);n=S;s=a;var o=new Uint32Array(n.buffer);for(var Y=0;Y<D;Y++)o[Y]=T[o[Y]&255]}console.log(Date.now()-C);
j.z.Pf("norm",n,s,k.AN,k.rect,a,.3);this.Vs.j([{e3:k.rect,data:k.AN.buffer}],null,null,a)};iz.prototype.afw=function(I){var k=this.Nx;
j.IP(k.tk,[0,4294967295,4278190080][this.Xf.l()]);j.z.Pf("norm",k.BI,k.rect,k.tk,k.rect,k.rect,1);this.pc.j([{e3:k.rect,data:k.tk.buffer}])};
iz.prototype.ZR=function(I){var k=this.KW,a=this.Nx,n=this.aI.l(),s=k.R[k.T[0]],C=new d2(M.E.r,!0);C.tQ=!0;
var T=s.rect.clone();if(n==0&&s.K7()||n!=0&&!s.K7()){C.S=E.xf;C.data={q:X.Jn,o:k.T[0]};this.a(C)}if(k.f!=null){C.S=E.FQ;
C.data={q:"fromAction",_f:E.BN.dS()};this.a(C)}if(n==0){var S=k.R.slice(0),D=k.ux();D.GF(s.getName());
S.splice(k.T[0]+1,0,D);D.rect=T;D.buffer=a.BI;D.V();C.S=E.xf;C.data={q:X.J5,xj:S,iy:[k.T[0]+1],xn:[7,11]};
this.a(C)}if(n==1){var o=s.IO();C.S=E.xf;C.data={q:X.IW,af2:!0};this.a(C);var v=s.IO();v.channel=j.U(T.c());
v.rect=T;v.color=0;v.WB=!0;j.Ez(a.BI,v.channel,3);if(o){var g=v.Rc(o);v.rect=g.rect;v.channel=g.channel;
v.color=g.color}v.Jk();s.Wr()}if(n==2){var d={rect:T,channel:j.U(T.c())};j.Ez(a.BI,d.channel,3);C.S=E.FQ;
C.data={q:"setsel",f:d,xn:this.AS};this.a(C)}this.close()};function kG(){c2.call(this,[1,13],"locstor");
this.wY=null;this.Pe=[];var I=this.body,k=$.I("p");k.textContent="These files are loaded every time you start Photopea.";
I.appendChild(k);this.abj=0;this.Cm=$.I("span");I.appendChild(this.Cm);this.Cm.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
var a=$.I("span","form");I.appendChild(a);this.Eq=new iP([5,4],!1,null,!0);this.Eq.O("click",this.Uo,this);
a.appendChild(this.Eq.Z);this.zg=new iP("Get all as ZIP",!1,null,!0);this.zg.O("click",this.XK,this);
a.appendChild(this.zg.Z);this.HM=new bt(!0);this.HM.parent=this;this.HM.oW(1);I.appendChild(this.HM.Z);
this.HM.Z.setAttribute("style","width: 40em; height: 25em")}kG.prototype=new c2;kG.prototype.k=function(){c2.prototype.k.call(this);
this.Cm.textContent=hJ.get([13,2])+": "+jm.z3(this.abj);this.Eq.k()};kG.prototype.wu=function(I,k){this.wY=I;
if(k==f9.aN)this.tc()};kG.prototype.tc=function(I,k){var a=this.wY.jp.sM,D=0;this.Pe=[];for(var n in a)this.Pe.push(n);
this.Pe.sort(function(v,g){v=v.split(".");g=g.split(".");return v[1]==g[1]?v[0]<g[0]?-1:1:v[1]<g[1]?-1:1});
var s=Math.floor(100*$.Y()),C=Math.floor(16*$.Y()),T=[],S=[];for(var Y=0;Y<this.Pe.length;Y++){var n=this.Pe[Y],o=kG.cO(n,a[n],s,C);
T.push(o);S.push(n);D+=a[n].byteLength}this.HM.NX(T,S,s,C);this.abj=D;this.k()};kG.prototype.Uo=function(I){var k=this.HM.l();
if(k.length==0){alert("Select a file first.");return}this.HM.j([]);var a=this.wY.jp.sM;for(var Y=0;Y<k.length;
Y++)delete a[this.Pe[k[Y]]];var n=new d2(M.E.b,!0);n.data={q:M.p.iv,CU:f9.aN};this.a(n)};kG.prototype.XK=function(I){var k=this.wY.jp.sM,a={};
for(var n in k)a[n]=new Uint8Array(k[n]);var s=UZIP.encode(a);ji.save(s,"resources.zip")};kG.cO=function(I,k,a,n){var s=$.I("canvas"),S=0;
s.width=a;s.height=n;var C=s.getContext("2d"),T=I.split(".").pop().toLowerCase();for(var Y=0;Y<T.length;
Y++)S+=T.charCodeAt(Y)*613<<8*Y;C.fillStyle="#"+j.pB(S&16777215);C.fillRect(0,0,20,n);var D=Math.floor(14*$.Y());
C.fillStyle="#000000";C.font="bold "+D+"px sans-serif";var o=(n-D)/2,v=jm.z3(k.byteLength),g=C.measureText(v);
C.fillText(v,a-12-g.width,n-o);return s.toDataURL()};function gk(){c2.call(this,[1,15],"pmanager");this.wY=null;
this.PF=new fB([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.PF.O(M.E.B,this.tc,this);
this.body.appendChild(this.PF.Z);var I=$.I("div","flexrow");this.body.appendChild(I);var k=this.aeK=$.I("div");
I.appendChild(k);var a=$.I("div","form");I.appendChild(a);a.setAttribute("style","width:140px; margin-left:12px");
this.alN=[f9.yO,f9.RN,f9.Al,f9.EW,f9.DX,f9.H1];this.rS=[new bo,new hg,new jY,new fn,new c1,new e$];for(var Y=0;
Y<this.rS.length;Y++)this.rS[Y].parent=this;this.yV=[];for(var Y=0;Y<4;Y++){var n=new iP("Hello",!0,null,!0);
n.O("click",this.n$,this);this.yV.push(n);a.appendChild(n.Z)}this.tc()}gk.prototype=new c2;gk.prototype.rI=function(I){return I==as.Zf||I==as.QE};
gk.prototype.n$=function(I){var Y=this.yV.indexOf(I.target);this.rS[this.PF.l()].CP(Y)};gk.prototype.k=function(){c2.prototype.k.call(this);
this.PF.k();for(var Y=0;Y<this.rS.length;Y++)this.rS[Y].k();var I=this.yV,k=this.PF.l(),a=f9.Pm[this.alN[k]],n=a[0].toUpperCase();
I[0].jO([[23,6],"."+n]);I[1].jO(["VAR0 ."+n,[1,8]]);I[2].jO([6,37]);I[3].jO([5,4])};gk.prototype.wu=function(I,k){this.wY=I;
this.tc()};gk.prototype.tc=function(I,k){if(!$.TU(this.Z))return;this.k();$.GD(this.aeK);this.aeK.appendChild(this.rS[this.PF.l()].X_);
var a=this.rS,n=this.wY;if(n==null)return;a[0].rt(n.Yg);a[1].Uk(n.MW,n.U2);a[1].rt(n.iG);a[2].rt(n.Vh);
a[3].rt([n.JP,n.Vh]);a[4].rt(n.lo);a[5].rt(n.jf)};function fz(I,k,a){c2.call(this,k,"cwindow");this.a8n=new kK(a[0],a[1]-33);
this.nZ=$.I("div","form");this.nZ.setAttribute("style","width:"+(a[2]-a[0])+"px; height:"+(a[3]-a[1])+"px");
this.body.appendChild(this.nZ)}fz.prototype=new c2;fz.prototype.ts=function(I,k){return this.a8n.clone()};
function eH(I){var k=eH.aob(I);c2.call(this,k,"res"+I);var a=this.abT.bind(this);window.addEventListener("message",function(s){if(typeof s.data=="string"&&s.data.startsWith("--et ")){console.log(s.data);
var C=this.adN=s.data.slice(5).split(",");C[0]=parseFloat(C[0]);bU.WC(C[0],C[1],a)}}.bind(this));this.xe=k;
this.YE=I;this.adb=null;this.h8=null;this.RP=0;this._9=null;this.RD=null;this.adN=null;this.wY=null;
this.body.setAttribute("style","padding:0");this.D3=new iP("",null,null,!0);this.body.appendChild(this.D3.Z);
this.D3.O("click",this.Px,this);this.D3.Z.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:150px");
this.jQ=new iP("\u25BC",null,null,!0);this.jQ.Z.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:270px");
this.jQ.O("click",this.axh,this);this.body.appendChild(this.jQ.Z);this.Mp=$.I("span","form");this.body.appendChild(this.Mp);
this.yV=[];for(var Y=0;Y<9;Y++){var n=new iP(eH.aob(Y));this.yV.push(n);if(Y==I)n.j(!0);this.Mp.appendChild(n.Z);
n.O("click",this.aiK,this)}this.ow=new iP([5,3],null,null,!0);this.ow.O("click",this.atz,this);this.a7R=new iP("Upload Current Document as a Template",null,null,!0);
this.a7R.O("click",this.ak1,this);this.PW=new ja("Creator / Brand name");this._2=new iP([1,2],null,null,!0);
this._2.O("click",this.XK,this);this.vF=$.I("iframe","scrollable");this.vF.setAttribute("style","border:none; margin:0; padding:0;");
this.X8=$.I("div","form scrollable padded");this.D_=new k9(I);this.D_.O("back",this.fF,this);this.D_.O("save",this.a2L,this);
this.body.appendChild(this.vF)}eH.prototype=new c2;eH.aob=function(I){var k;if(I==0)k=[25,0];else if(I==1)k="Plugins";
else for(var a in f9.Pm)if(f9.Pm[a][4]==I)k=f9.Pm[a][3];return k};eH.prototype.axh=function(I){this.Mp.style.display=this.Mp.style.display=="none"?"":"none"};
eH.prototype.aiK=function(I){var Y=this.yV.indexOf(I.target);if(Y==this.YE)return;this.close();var k=new d2(M.E.b,!0);
k.data={q:M.p.Fu,aw:"res"+Y};this.a(k)};eH.prototype.abT=function(I){this.Px();this.RD=JSON.parse(I.target.response);
this.eL()};eH.prototype.ts=function(I,k){return new kK(0,0)};eH.prototype.bb=function(I,k){this.Qq=I;
this.L4=k;this.Tt=null;k=k-4;I=I;var a=I>820,n="position:absolute; margin-top: -30px;  margin-left:270px;  margin-right:20px;",s="position:absolute; margin-top:   0px;  padding:10px;  display:none;  background-color: var(--base);  width:100%;  text-align:center;";
this.Mp.setAttribute("style",a?n:s);this.Mp.style.marginTop=(a?-31:0)+"px";this.jQ.Z.style.display=a?"none":"";
var C=this.X8;C.style.width=I-12+"px";C.style.height=k-12+"px";var C=this.D_.Z;C.style.width=I-12+"px";
C.style.height=k-12+"px";var C=this.vF;C.style.width=I+"px";C.style.height=k+"px";this.zi()};eH.prototype.wu=function(I,k){this.wY=I};
eH.prototype.k=function(){c2.prototype.k.call(this);for(var Y=0;Y<this.yV.length;Y++)this.yV[Y].k();
this.ow.k()};eH.prototype.tc=function(I,k,a,n){this.Tt=I;this.Px(null,!1)};eH.prototype.Px=function(I,k){var a=k!=null?k:$.TU(this.vF);
if(a){if(!bU.za()){alert("You need to log in first!");return}var n=bU.So();this.h8=n.tpl?n.tpl.list:[];
this.PW.j(n.tpl&&n.tpl.brnd?n.tpl.brnd:"");this.zi()}else{this.vF.setAttribute("src","");this.vF.setAttribute("src",bU.Wn("templates/?type="+this.YE+"&rsrc="+this.wY.Q$.join(",")))}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(a?this.X8:this.vF);var s=hJ.get(this.xe);this.D3.jO(a?"All "+s:"Add "+s)};eH.prototype.zi=function(){var I=hJ.get(this.xe),k=this.h8,a=this.YE,S=450;
if(k==null)return;var n=this.X8;$.GD(n);var s=$.I("h1");n.appendChild(s);s.textContent="Share your "+I+" with the world!";
var C=$.I("ul");n.appendChild(C);var T=$.I("li");C.appendChild(T);T.textContent="By publishing your "+I+", you agree to let others use them for all kinds of purposes, even commercially.";
n.appendChild(this.ow.Z);if(a==0)n.appendChild(this.a7R.Z);$.FI(n);n.appendChild(this.PW.Z);n.appendChild(this._2.Z);
$.FI(n);S=(this.Qq-20)/Math.max(1,Math.floor(this.Qq/S))-42;var D="display:inline-block; width:"+S+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var Y=k.length-1;Y>=0;Y--){var o=k[Y];if(o.type==null)o.type=0;if(o.type!=a)continue;var v=$.I("div");
n.appendChild(v);v.setAttribute("style",D);var g=$.I("img");v.appendChild(g);g.setAttribute("src",o.thmb);
g.setAttribute("style","float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var d=$.I("h3");v.appendChild(d);d.textContent=o.name;d.setAttribute("style","margin:0 0 10px 0");var R=$.I("p");
v.appendChild(R);R.textContent=o.desc;R.setAttribute("style","height:76px;  overflow:hidden; margin-bottom: 6px;");
for(var c=0;c<2;c++){var e=new iP(c==0?"Edit":"Delete",null,null,!0);e.akA=Y;e.eL=c==0;e.O("click",this.afR,this);
v.appendChild(e.Z)}}};eH.prototype.ak1=function(I){if(this.Tt==null){alert("No document opened.");return}var k=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!k)return;var a=new d2(M.E.b,!0);a.data={q:M.p.S7,Uy:"psd",Y2:this.asn.bind(this)};this.a(a)};eH.prototype.asn=function(I){this.a9z=I;
var k=new d2(M.E.b,!0);k.data={q:M.p.S7,Uy:"jpg",Y2:this.aek.bind(this),awY:1400};this.a(k)};eH.prototype.aek=function(I){this._9={type:0,catg:0,desc:"",file:this.a9z,name:this.Tt.name.split(".")[0],thmb:I,publ:!0,utme:""};
this.eL()};eH.prototype.atz=function(I){this._9={type:0,catg:0,desc:"",file:"",name:"",thmb:"",publ:!0,utme:""};
this.eL()};eH.prototype.afR=function(I){this.RP=I.target.akA;if(!I.target.eL){if(!window.confirm("Are you sure you want to delete your template?"))return;
this.h8.splice(this.RP,1);this.XK();this.zi();return}this.eL()};eH.prototype.eL=function(){if($.TU(this.X8))this.body.removeChild(this.X8);
this.body.appendChild(this.D_.Z);var I=this._9?this._9:this.RD?this.RD:this.h8[this.RP];if(I.type==null)I.type=0;
this.D_.j(I)};eH.prototype.a2L=function(I){var k=this.D_.l();if(this._9)this.h8.push(k);else if(this.RD){var a=this.adN;
bU.WC(a[0],a[1],this.fF.bind(this),JSON.stringify(k));return}else this.h8[this.RP]=k;this.XK();this.fF()};
eH.prototype.fF=function(){var I=this.RD;this._9=null;this.RD=null;this.body.removeChild(this.D_.Z);
this.body.appendChild(this.X8);this.zi();if(I)this.Px()};eH.prototype.XK=function(){var I=bU.So();if(this.h8.length==0)delete I.tpl;
else{I.tpl={list:JSON.parse(JSON.stringify(this.h8))};var k=this.PW.l().trim();if(k!="")I.tpl.brnd=k}bU.rO(I,function(){alert("Saved.")})};
function gO(){c2.call(this,"Make Selection","makesel");this.wY=null;var I=$.I("div","form");this.body.appendChild(I);
this.hz=new dI([12,25,1]);this.hz.j(!0);I.appendChild(this.hz.Z);$.FI(I);this.G2=new gm(!0);I.appendChild(this.G2.Z);
this.vz=$.ZI(this,this.body)}gO.prototype=new c2;gO.prototype.k=function(){c2.prototype.k.call(this);
this.G2.k();this.hz.k();this.vz.k()};gO.prototype.ZR=function(I){var k=new d2(M.E.r,!0);k.S=E.FQ;k.data={q:"frompath",ri:[null,0,this.G2.l(),this.hz.l()]};
this.close();this.a(k)};function eo(){c2.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");this.Tt=null;this.vq=null;
this.OA=null;var I=this.aBq=$.I("div","form");I.setAttribute("style","width:20em");this.body.appendChild(I);
this.Ee=new f8([12,50],["PSD","PSB"]);this.Ee.O(M.E.B,this.Wm,this);I.appendChild(this.Ee.Z);$.Se(I);
var k=new gv("Minify the file");I.appendChild(k.Z);$.FI(I);var a=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.dn=[];for(var Y=0;Y<a.length;Y++){var n=new dI(a[Y]);this.dn.push(n);I.appendChild(n.Z);n.O(M.E.B,this.Wm,this)}$.Se(I);
this.lE=new gv("aa.psd");this.l4=new gv("10 kB");I.appendChild(this.l4.Z);this.auC=new gv("1000 B");
I.appendChild(this.auC.Z);this.vz=new iP([1,2],!0,null,!0);this.vz.O("click",this.ZR,this);I.appendChild(this.vz.Z);
this.C1=new iP(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.C1.O("click",this.ZR,this);I.appendChild(this.C1.Z);
this.O("closebtn",this.b5,this)}eo.prototype=new c2;eo.prototype.tc=function(I,k,a,n){var s=$.TU(this.C1.Z),C=I.cw!=null&&I.cw.zP=="psd";
if(C&&!s)this.aBq.appendChild(this.C1.Z);if(!C&&s)this.aBq.removeChild(this.C1.Z);for(var Y=0;Y<this.dn.length;
Y++)this.dn[Y].j(!1);this.Tt=I;this.Wm()};eo.prototype.ZR=function(I){if(I.target==this.vz)ji.save(this.vq,this.OA);
else{if(this.dn[3].l()){alert("You should not save a ZIP as a PSD to Google Drive.");return}gM.aky(this.Tt,this.vq)}};
eo.prototype.b5=function(){this.Tt=null;this.vq=null};eo.prototype.Wm=function(){var I=this.Tt,k=[!1,!1,!1,!1];
for(var Y=0;Y<3;Y++)k[Y]=this.dn[Y].l();var a=this.dn[3].l(),n=k[3]=this.Ee.l()==1,s=I.name.slice(0,I.name.length-3),C=this.vq=kk.wV("PSD").G0(I,0,0,k),bQ=this.OA=s+"ps"+(n?"b":"d");
if(a){var T={};T[bQ]=new Uint8Array(C);C=this.vq=UZIP.encode(T);bQ=this.OA=s+"zip"}this.lE.j(bQ);this.l4.j(jm.z3(C.byteLength));
this.l4.Z.style["font-size"]="2em";this.auC.j(" \u2001 "+C.byteLength+" B");this.vz.jO(hJ.get([1,2])+" \""+bQ+"\"")};
eo.prototype.k=function(){c2.prototype.k.call(this);this.Ee.k();this.vz.k();this.C1.k()};function dd(){c2.call(this,"Confirm","confirm");
this.h1=null;var I=$.I("div");I.setAttribute("style","margin-bottom:1em");this.body.appendChild(I);this.EK=$.I("div");
this.EK.textContent="Hello";I.appendChild(this.EK);this.vz=$.ZI(this,this.body)}dd.prototype=new c2;
dd.prototype.ZR=function(I){if(this.h1==null)return;console.log("okconfirm");this.close();this.h1();
this.h1=null};dd.prototype.k=function(){c2.prototype.k.call(this);this.vz.k()};dd.prototype.tc=function(I,k){if(k.aoP||k.ak$)this.EK.innerHTML=k.P;
else this.EK.textContent=k.P;if(k.acQ)this.vz.jO(k.acQ);this.h1=k.h1;this.vz.Z.focus();if(k.aoP!=null)this.Z.style.top=Math.random()*(window.innerHeight-150)+"px";
this.afB=k.aoP!=null};dd.prototype.ts=function(I,k){return new kK(Math.max(0,(I-500)/2),Math.max(0,Math.min(60,(k-100)/2)))};
dd.prototype.bb=function(I,k){this.EK.style.width=I-30+"px"};function jD(){c2.call(this,[1,16,2],"newartb");
this.$C=0;this.jM=null;var I=$.I("div","form");I.style.width="260px";this.body.appendChild(I);this.HM=new kp;
I.appendChild(this.HM.Z);this.vz=$.ZI(this,I)}jD.prototype=new c2;jD.prototype.Ud=function(I,k){return I!=null};
jD.prototype.ZR=function(I){var k=this.HM.l();this.jM.Q=k.x;this.jM._=k.y;var a=new d2(M.E.r,!0);a.S=E.PZ;
a.data={aq6:this.jM,Ex:this.$C};this.a(a);this.close()};jD.prototype.k=function(){c2.prototype.k.call(this);
this.HM.k();this.vz.k()};jD.prototype.tc=function(I,k){this.$C=k.Ex;var a=new eZ(0,0,I.Q,I._);if(I.T.length!=0){var n=I.R[I.T[0]];
if(n.add.artb){a=n.OR();a.x+=a.Q+100}if(k.Ex==1)a=E.nF.GT(I)}this.jM=a;this.HM.j(new kK(a.Q,a._))};function iu(){c2.call(this,"Storage","storwindow");
this.body.setAttribute("style","padding:0");this.xE=null;this.O("closebtn",this.jl,this);this.O("canclose",this.jl,this)}iu.prototype=new c2;
iu.prototype.wu=function(I,k){if(this.xE)this.xE.wu(I,k)};iu.prototype.ts=function(I,k){return new kK(Math.max(0,Math.min(150,(I-980)/2)),Math.max(0,Math.min(150,(k-590)/2)))};
iu.prototype.bb=function(I,k){this.Qq=I;this.L4=k;I=Math.min(I,980);k=Math.min(k,590);if(this.xE)this.xE.bb(I,k)};
iu.prototype.k=function(){c2.prototype.k.call(this);if(this.xE)this.xE.k()};iu.prototype.tc=function(I,k,a,n){this.AS=k.Ex==0?"Open from Storage":"Save to Storage";
this.k();if(this.xE==null){this.xE=new eL;this.xE.parent=this;this.body.appendChild(this.xE.Z);this.k();
this.bb(this.Qq,this.L4)}Storage.oW(k.Ex,I?I.name:"");eL.QO(this.xE)};iu.prototype.jl=function(I){Storage.oW(0);
eL.ik();if(I.type=="canclose")this.close()};function eq(){c2.call(this,[2,14],"varsdats");var I=this.nZ=$.I("div","form");
I.setAttribute("style","width:300px");this.body.appendChild(I);this.Tt=null;this.lh=0;this.wY=null;this.v4=new f8(null,[[2,14],"Data Sets",[1,8]]);
this.v4.O(M.E.B,this.ajl,this);this.Xe=new eq.Y0;this.bd=new eq.o_;this.LY=new eq.vY;this.bd.O("activate",this.QN,this);
this.LY.O("export",this.qz,this);this.vz=$.ZI(this)}eq.prototype=new c2;eq.prototype.ajl=function(I){var k=this.v4.l(),a=this.nZ;
$.GD(a);a.appendChild(this.v4.Z);$.Se(a);a.appendChild([this.Xe,this.bd,this.LY][k].Z);a.appendChild(this.vz.Z)};
eq.prototype.ZR=function(I){var k=new d2(M.E.r,!0);k.S=E.xf;k.data={q:X.tV,P:JSON.stringify([this.Xe.l(),this.bd.l()])};
this.a(k);this.close()};eq.prototype.k=function(){c2.prototype.k.call(this);this.vz.k();this.LY.k()};
eq.prototype.tc=function(I,k){this.Tt=I;this.LY.Tt=I;if(I==null)return;this.Xe.tc(I,k);this.bd.tc(I,k);
this.v4.j(0);this.ajl();this.lh=0;this.LY.awr()};eq.prototype.wu=function(I,k){this.wY=I};eq.prototype.qz=function(I){var k=this.Xe.l(),a=this.bd.l(),n=this.LY.l();
if(k.length==0){alert("There are no variables.");return}if(a.length==0){alert("There are no data sets.");
return}var C=kk.axn(this.Tt,k,a,this.bd.a76(),n[0],n[1],n[2],this.wY,this);if(C!=null)ji.save(C,"images.zip")};
eq.prototype.QN=function(I){var k=this.bd.T,a=this.Xe.l(),n=this.bd.l();if(a.length==0){alert("There are no variables.");
return}if(n.length==0){alert("There are no data sets.");return}this.Yk();this.lh+=kk.azZ(this.Tt,this,a,n,this.bd.a76(),k)};
eq.prototype.Yk=function(){var I=new d2(M.E.r,!0);I.S=E.ca;I.data={q:"h_stepbck"};while(this.lh>0){this.a(I);
this.lh--}};eq.vY=function(){gB.call(this);var I=this.Z=$.I("div");this.sz=new ja("Variable for file names");
I.appendChild(this.sz.Z);$.Se(I);this.Tt=null;this.NM=["JPG","PNG","PDF"];this.Ee=new f8([12,50],this.NM);
this.Ee.O(M.E.B,this.awr,this);I.appendChild(this.Ee.Z);this.V6=new g1;I.appendChild(this.V6.Z);this.zg=new iP("Export all items",!0,null,!0);
this.zg.O("click",this.qz,this);I.appendChild(this.zg.Z)};eq.vY.prototype=new gB;eq.vY.prototype.k=function(I){this.sz.k();
this.Ee.k();this.zg.k();this.V6.k()};eq.vY.prototype.awr=function(I){if(this.Tt==null)return;var k=this.NM[this.Ee.l()],a=this.Tt,n=a.add.artd;
this.V6.G7(k,null,null,n!=null&&n.Cnt.v>1)};eq.vY.prototype.qz=function(I){this.a(new d2("export"))};
eq.vY.prototype.l=function(){var I=this.NM[this.Ee.l()];return[I,this.V6.l(),this.sz.l().trim()]};eq.o_=function(){gB.call(this);
this.PL=null;this.ee=[];this.T=0;var I=this.Z=$.I("div","form");this.PH=new gL("Import a CSV file");
I.appendChild(this.PH.Z);this.PH.O(M.E.B,this.aaf,this);this._J=$.I("div","scrollable");this._J.setAttribute("style","overflow:scroll;  height:234px;");
I.appendChild(this._J);this.a8Y=new gL("Source Images",!0);I.appendChild(this.a8Y.Z)};eq.o_.prototype=new gB;
eq.o_.prototype.aaf=function(I){var k=this.PH.l();for(var a in k){k=k[a];break}this.PL=ew.SF(u.Im(k));
this.lX()};eq.o_.prototype.a76=function(){return this.a8Y.l()};eq.o_.prototype.tc=function(I,k){var a=this.PL=JSON.parse(JSON.stringify(I.VJ));
this.lX()};eq.o_.prototype.l=function(){return this.PL};eq.o_.prototype.lX=function(){var I=this.vy.bind(this),k=this.PL,n="max-width: 100px; overflow:hidden; white-space: nowrap; border: 1px solid; padding:0px 5px;";
this.ee=[];var a=$.I("table");a.setAttribute("style","border-collapse: collapse;");for(var Y=0;Y<k.length;
Y++){var s=$.I("tr"),C=k[Y],T=Y==0?"th":"td";a.appendChild(s);var S=$.I(T);s.appendChild(S);S.setAttribute("style",n+"cursor:pointer;");
if(Y!=0)S.textContent="\u2713";this.ee.push(S);S.addEventListener("click",I,!1);for(var D=0;D<C.length;
D++){var S=$.I(T);S.textContent=C[D];s.appendChild(S);S.setAttribute("style",n);S.setAttribute("title",C[D])}}$.GD(this._J);
this._J.appendChild(a)};eq.o_.prototype.vy=function(I){this.T=this.ee.indexOf(I.currentTarget);this.a(new d2("activate"))};
eq.Y0=function(){gB.call(this);var I=this.Z=$.I("div","form marged");this.l0=null;this.yT=[];this.Y_=[];
this.cj=null;this.sy=new fB([0,3],[]);this.sy.O(M.E.B,this.aeF,this);I.appendChild(this.sy.Z);this.xy=[];
var k=["Visibility","Text Content","Pixel Content"];for(var Y=0;Y<k.length;Y++){$.Se(I);var a=new dI(k[Y]);
a.O(M.E.B,this.Rb,this);I.appendChild(a.Z);$.FI(I);var n=new ja("Variable Name");n.O(M.E.B,this.Rb,this);
I.appendChild(n.Z);this.xy.push(a,n)}};eq.Y0.prototype=new gB;eq.Y0.prototype.Rb=function(I){var k=this.sy.l(),a=this.cj[k],n=this.yT[k],s=this.l0["l"+a],C=this.xy;
if(s==null)this.l0["l"+a]=s=[];while(s.length!=0)s.pop();for(var Y=0;Y<3;Y++){var T=C[2*Y+1].l().trim();
if(!C[2*Y].l())continue;if(T.indexOf(" ")!=-1){alert("Variable names can not contain spaces. But you can use \".\", \":\", \"-\" or \"_\".",4e3)}T=T.replaceAll(" ","");
var S={varName:T,trait:["visibility","textcontent","fileref"][Y]};s.push(S);if(Y==2){S.align="center";
S.clip="false";S.placementMethod="fit";S.valign="middle"}}if(s.length==0)delete this.l0["l"+a];this.tc()};
eq.Y0.prototype.aeF=function(I){var k=this.sy.l(),a=this.cj[k],n=this.yT[k],s=this.l0["l"+a],C=this.xy;
if(s==null)s=[];for(var Y=0;Y<3;Y++){var T=Y==0||Y==1&&n==0||Y==2&&n==1;C[2*Y].wl(T);C[2*Y].j(!1);C[2*Y+1].wl(T);
if(!T)C[2*Y+1].j("")}for(var Y=0;Y<s.length;Y++){var S=s[Y],D=S.trait,o=["visibility","textcontent","fileref"].indexOf(D);
C[o*2].j(!0);C[o*2+1].j(S.varName)}};eq.Y0.prototype.tc=function(I,k){if(I){var a=JSON.parse(JSON.stringify(I.pn)),n=this.l0={};
for(var Y=0;Y<a.length;Y++){var s=a[Y],C=s.docRef;C="l"+C.slice(4,C.length-2);if(n[C]==null)n[C]=[];
n[C].push(s)}this.cj=[];this.yT=[];this.Y_=[];for(var Y=I.R.length-1;Y>=0;Y--){var T=I.R[Y],C=T.add.lyid;
if(T.add.lsct==gA.EB)continue;this.cj.push(C);this.yT.push(T.add.TySh?0:1);this.Y_.push(T.getName())}}var S=[],D=this.Y_;
for(var Y=0;Y<D.length;Y++){S.push(D[Y]+(this.l0["l"+this.cj[Y]]?" *":""))}var o=this.sy.l();this.sy.wS(S);
this.sy.j(o);this.aeF()};eq.Y0.prototype.l=function(){var I=this.l0,k=[];for(var a in I){var n=I[a];
for(var s=0;s<n.length;s++){n[s].docRef="id('"+a.slice(1)+"')";k.push(n[s])}}return k};function jX(){c2.call(this,["VAR0 VAR1",[15,10,22],[8,11,0]],"divslice");
this.mV=!1;var I=this.uX=[],k=$.I("div","form");k.setAttribute("style","width:20em");this.body.appendChild(k);
for(var Y=0;Y<2;Y++){var a=new dI([22,4,2+Y]);k.appendChild(a.Z);$.FI(k);var n=new f8(null,[["N equal parts"],["N pixels per part"]]);
k.appendChild(n.Z);$.FI(k);var s=new fM("N",0,1e3);s.j(4);s.parent=this;k.appendChild(s.Z);$.FI(k);if(Y==0)$.Se(k);
I.push(a,n,s)}for(var Y=0;Y<I.length;Y++)I[Y].O(M.E.B,this.lf,this);I.push($.ZI(this,k));this.O("closebtn",this.Yk,this)}jX.prototype=new c2;
jX.prototype.Yk=function(){if(this.mV){var I=new d2(M.E.r,!0);I.S=E.ca;I.data={q:"h_stepbck"};this.a(I)}};
jX.prototype.lf=function(I){this.Yk();this.mV=!0;var k=[];for(var Y=0;Y<6;Y++)k.push(this.uX[Y].l());
var a={__name:"Divide",classID:"divide",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"slice",typeID:"Ordn",enum:"Trgt"}}]}};
for(var n=0;n<2;n++){if(!k[n*3])continue;var s=k[n*3+1],C=k[n*3+2];a[["slices","pixels"][s]+["Across","Down"][n]]={t:"long",v:C}}var T=new d2(M.E.rd,!0);
T.data={pi:"divide",zf:a};this.a(T)};jX.prototype.ZR=function(I){this.close()};jX.prototype.k=function(){c2.prototype.k.call(this);
var I=this.uX;for(var Y=0;Y<I.length;Y++)I[Y].k()};jX.prototype.tc=function(I,k){this.mV=!1};function ge(){c2.call(this,"Stroke Path","strokepath");
this.wY=null;this.g3=null;this.Xj=null;this.vz=null;this.LV=[E.LD,E.yO,E.vV,E.oF,E.BM,E.Pq,E.jr,E.dA,E.ex,E.tW,E.Mj,E.m0,E.Er,E.l5,E.FY]}ge.prototype=new c2;
ge.prototype.k=function(){c2.prototype.k.call(this);if(this.vz){this.g3.k();this.vz.k()}};ge.prototype.ZR=function(I){var k=this.LV[this.g3.l()],a=null;
for(var n in E.MC)if(E.MC[n]==k)a=n;var s=new d2(M.E.rd,!0);s.data=E._v.pV(a,this.Xj.l());this.close();
this.a(s)};ge.prototype.wu=function(I,k){if(this.wY==null){var a=[];for(var Y=0;Y<this.LV.length;++Y){a.push(I.L.map[this.LV[Y]].S.name)}var n=$.I("div","form");
this.body.appendChild(n);this.g3=new fB("Tool",a);this.g3.j(1);n.appendChild(this.g3.Z);this.Xj=new dI("Simulate Pressure");
$.FI(n);n.appendChild(this.Xj.Z);this.vz=$.ZI(this,this.body)}this.wY=I};function iX(){c2.call(this,[1,18],"linkview");
$.fO(this.body,"form");var I=this.WE=[new ja(null,null,17),new iP([5,1],!1,null,!0),new iP([1,0],!1,null,!0)];
for(var Y=0;Y<3;Y++){var k=I[Y];this.body.appendChild(k.Z);if(Y!=0)k.O("click",this.S2,this);if(Y==0)$.FI(this.body)}}iX.prototype=new c2;
iX.prototype.tc=function(I,k){var a=k.a4X;if(a.startsWith("https://"))a=a.slice(8);this.WE[0].j(a)};
iX.prototype.S2=function(I){var k=this.WE,a=k[0].l(),n=I.target==this.WE[1];if(n){navigator.clipboard.writeText(a);
alert("Copied to a clipboard!")}else window.open("https://"+a,"Shared")};function dW(I){c2.call(this,I==0?[[23,6],[17,2]]:["VAR0 VAR1",[1,2],[17,2]],["loadsel","savesel"][I]);
this.Yx=null;this.TP=null;this.adQ=I;var k=$.I("div","form label8");k.setAttribute("style","max-width:26em");
this.body.appendChild(k);this.i5=new fB("Document",["abc","def"]);this.i5.O(M.E.B,this.Rb,this);k.appendChild(this.i5.Z);
$.FI(k);this.Ii=new fB([12,4],["abc","def"]);this.Ii.O(M.E.B,this.Rb,this);k.appendChild(this.Ii.Z);
this.ayK=new dI([4,11]);this.EK=new ja([12,48]);this.EK.j("Alpha");if(I==0){}else{k.appendChild(this.EK.Z)}this.Lv=new gm(!0);
k.appendChild(this.Lv.Z);this.vz=$.ZI(this,k)}dW.prototype=new c2;dW.prototype.UC=function(){return!0};
dW.prototype.k=function(){c2.prototype.k.call(this);this.vz.k();this.i5.k();this.Ii.k();this.EK.k();
this.ayK.k();this.Lv.k()};dW.prototype.Rb=function(I){var k=this.adQ;if(I==null||I==this.i5){var a=this.i5.l(),n=this.TP[a],s=[];
if(k==0)s.push(n.R[n.T[0]].getName()+" Transparency");else s.push([5,3]);for(var Y=0;Y<n.TL.length;Y++)s.push(n.TL[Y].name);
this.Ii.wS(s)}if(k==0)return;var C=this.Ii.l();this.EK.wl(C==0);this.Lv.wl(C!=0)};dW.prototype.tc=function(I,k,a){this.Yx=I;
this.TP=a;var n=[];for(var Y=0;Y<a.length;Y++){var s=a[Y].name;n.push(s.length<30?s:s.slice(0,27)+"...")}this.i5.wS(n);
this.i5.j(a.indexOf(I));this.Rb(null)};dW.prototype.ZR=function(I){var k=this.adQ,a=this.Ii.l(),n=this.i5.l(),s=this.TP[n],C=this.Lv.l(),T;
if(a==0){T=new d2(M.E.rd,!0);if(k==0)T.data=E.BN.B1(C,"Trsp",s.R[s.T[0]].getName());else T.data={pi:"duplicate",zf:{classID:"null",Nm:{t:"TEXT",v:this.EK.l()},null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}else{T=new d2(M.E.r,!0);
if(k==0){T.S=E.FQ;T.data={q:"fromchannel",ri:[-4-a,0,C]}}else{T.S=E.xf;T.data={q:X.QJ,ar:"seltochannel",ri:[a-1,C]}}}this.close();
this.a(T)};function cD(){c2.call(this,"PeaMark","peamark");var I=$.I("span");I.innerHTML="Test your desktop, laptop, phone, tablet, any device! Bigger score is better :)<br /><small>*** connect your laptop to a charger for better results</small><br/><br/>";
this.body.appendChild(I);var k=$.I("div","form");this.body.setAttribute("style","width:300px;");this.body.appendChild(k);
this.yx=[];this.k$=[];this.auQ=[];for(var Y=0;Y<2;Y++){var I=$.I("div");I.textContent="0";k.appendChild(I);
I.setAttribute("style","text-align:center; font-size:2em");var a=$.I("hr");this.k$.push(a);k.appendChild(a);
a.setAttribute("style","height:2px; background-color:#00ff00");var n=new iP("Test "+["C","G"][Y]+"PU",!0,null,!0);
k.appendChild(n.Z);n.O("click",this.a1Q,this);this.yx.push(I);this.auQ.push(n)}$.FI(this.body);this.aAf=new iP("Tweet your score!",!1,null,!0);
var s=this.aAf.Z;this.body.appendChild(s);this.aAf.O("click",this.aas,this);s.setAttribute("style","position:absolute;top:100px;right:10px;");
this.VL=$.I("div","scrollable");this.body.appendChild(this.VL);this.VL.style.height="160px";this.qT=[];
this.a3t=0;this.tt=this.aEM.bind(this);this.at1()}cD.prototype=new c2;cD.prototype.aas=function(I){var k=cD.Xs,a=k[k.length-1];
if(Math.min(a[2],a[3])==0){alert("Run both tests first.");return}window.open("https://twitter.com/intent/tweet?text="+encodeURIComponent("My #peamark score is "+a[2]+"/"+a[3]+"! Test your device at Photopea.com (More - PeaMark)"),"_blank")};
cD.prototype.a1Q=function(I){var k=this.auQ.indexOf(I.target),a=1024,n=1024,s=new eZ(0,0,a,n),C=this.tt;
if(k==0){var T=j.U(s.c());for(var S=0;S<n;S++)for(var D=0;D<a;D++)T[S*a+D]=((S>>>7)+(D>>>7)&1)*255;this.qT=[k,T,a,n];
for(var Y=0;Y<4;Y++)C(!0)}else{var o=j.U(s.c()*4),v=dZ.Ec(1,a,n);v.set(o);new Uint32Array(o.buffer).fill(4278190335);
var g=dZ.Ec(0,a,n);g.set(o);var d=[1,1,-1,0,-1,1,-1,0,-.3333333432674408,-.3333333432674408,-.3333333432674408,0,1,-1,-1,0],R={type:dZ.filter.aiS,JL:new Float32Array([1/a,1/n]),aE4:0,M0:30,a5T:new Float32Array([0,1]),aug:new Float32Array([0,0,0]),am5:new Float32Array(d),asx:new Float32Array(d)};
this.qT=[k,R,o,g,v];C(!0)}this.aoN=[[0,0],[0,0]];this.a3t=Date.now();setTimeout(this.tt,20)};cD.prototype.aEM=function(I){var k=this.qT,a=k[0],n=Date.now();
if(a==0){j.style.Cf(k[1],k[2],k[3])}else{dZ.FL(k[4]);dZ.filter.bl(k[1],k[3].e9);k[4].get(k[2])}var s=Date.now()-n;
if(I)return;var C=this.aoN[a];C[0]+=s;C[1]++;var T=[26,139],S=Math.round(1e3*T[a]/(C[0]/C[1]));this.yx[a].textContent=S;
var D=(Date.now()-this.a3t)/5e3;this.k$[a].style.width=Math.min(100,D*100)+"%";if(D<1)setTimeout(this.tt,20);
else{var o=cD.Xs;o[o.length-1][2+a]=S;this.at1()}};cD.prototype.at1=function(){var I=this.VL,a="",n=" style=\"text-align:right; width:4em;\">";
$.GD(I);var k=cD.Xs.slice(0);k.sort(function(D,o){return o[2]+o[3]-(D[2]+D[3])});var s="<td"+n,C="<th"+n;
for(var Y=0;Y<k.length;Y++){var T=k[Y],S=null;if((Y&1)==0)S="rgba(255,255,255,0.05)";if(T[1]=="Your Device")S="rgba(255,255,0,0.2)";
a+="<tr style=\""+(S?" background-color:"+S:"")+"\"><td>"+T[1]+"</td>"+s+T[2]+"</td>"+s+T[3]+"</td></tr>"}I.innerHTML="<table style=\"line-height:1.5em; border-collapse: collapse;\"><tr><th style=\"width:13.7em;\">Device</th>"+C+"CPU</th>"+C+"GPU</th></tr>"+a+"</table>"};
cD.Xs=[[0,"Ryzen 9 7900X + RTX 3080 Ti",1411,13059],[1,"Ryzen 7 5700U",1e3,1e3],[1,"MacBook Air 2017",539,367],[1,"MacBook Pro M1",1306,892],[2,"iPad Air 4th Gen",1386,386],[3,"iPhone 15 Pro",1700,934],[3,"Google Pixel 6a",830,638],[3,"Sony Xperia 1 II",410,720],[3,"iPhone 11",827,207],[3,"LG G4 (2015)",111,87],[0,"Your Device",0,0]];
function aX(I,k,a,n){gB.call(this);this.name=I;this.ap0=a;this.dd=n;this.TG=$.I("div","");this.TG.setAttribute("draggable","true");
this.zo=$.I("div","pbody");this.yR=new iP("",!1,"");this.yR.parent=this;this.avI=$.I("span","cross gsicon");
this.sr=$.I("span","label");var s=this.aDv.bind(this);this.TG.addEventListener("mousedown",this.a0z.bind(this),!1);
this.TG.addEventListener("contextmenu",s,!1);this.yR.Z.addEventListener("contextmenu",s,!1);this.avI.addEventListener("mousedown",this.KC.bind(this),!1);
this.TG.appendChild(this.sr);if(k)this.TG.appendChild(this.avI);this.S5=!1;this.sr.textContent=I}aX.prototype=new gB;
aX.prototype.eZ=function(){return null};aX.prototype.k=function(){var I=hJ.get(this.name),k=!1,a=this.Qq==0?22:Math.round(2+this.Qq/50);
if(I.endsWith(" *")){k=!0;I=I.slice(0,I.length-2);a-=2}var n=I.length>a;this.sr.textContent=n?I.slice(0,a-2):I;
if(n)for(var s=0;s<2;s++){var C=$.I("span");C.textContent=I.charAt(a-2+s);C.setAttribute("style","opacity:"+(.6-s*.4));
this.sr.appendChild(C)}if(k){var C=$.I("span");C.textContent=" *";this.sr.appendChild(C)}var T=I.split(" "),S=T.length==2?T[0].substring(0,2)+T[1][0]:I.substring(0,3);
if(S.charCodeAt(0)>=11776)S=S.substring(0,1);var D=this.ap0;if(D==null)this.yR.jO(S,I);else{var o;if(D.startsWith("---"))o="<img src=\""+PIMG[D.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(D.startsWith("==="))o="<img src=\""+D.slice(3)+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(D.indexOf("\"")==-1)o="<img src=\""+D+"\" alt=\""+$.Pd(I).replace(/"/g,"&quot;")+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.yR.jO(o,I)}};aX.prototype.enable=function(){this.zo.className="pbody"};aX.prototype.disable=function(){this.zo.className="pbody disabled"};
aX.prototype.wu=function(I,k){};aX.prototype.tc=function(I,k,a){};aX.prototype.wz=function(I){};aX.prototype.bb=function(I,k){};
aX.prototype.sO=function(I){this.name=I;this.k()};aX.prototype.UU=function(){};aX.prototype.a0z=function(I){if(I.button==0)this.a(new d2("select",!1));
if(I.button==1)this.mI()};aX.prototype.aDv=function(I){$.dR(I);if(this.dd!=null&&isNaN(this.dd))return;
var k=$.Ea(I,document.body),a=this.Oy;if(a==null){a=this.Oy=new io([{name:[1,12,0]}]);this.Oy.O("select",this.KC,this)}a.update(null);
a.k();a.parent=this;var n=new d2(M.E.b,!0);n.data={q:M.p.ut,zM:a,x:k.x+1,y:k.y+1};this.a(n)};aX.prototype.mI=function(){this.KC({})};
aX.prototype.KC=function(I){if(I.stopPropagation)I.stopPropagation();if(this.dd!=null&&!isNaN(this.dd)){var k=new d2(M.E.b,!0);
k.data={q:M.p.nx,zM:this.Oy};this.a(k);k.data={q:M.p.iv,CU:f9.Zp,P:parseFloat(this.dd),S9:"del"};this.a(k)}else if(this.a0s())this.a(new d2(M.E.CY,!1))};
aX.prototype.a0s=function(I){return!0};aX.prototype.Vr=function(I,k,a,n,s){};aX.prototype.Fr=function(I,k,a,n,s){};
aX.prototype.pE=function(I,k,a,n,s){};aX.og=function(I,k,a){if(I.childElementCount!=0)return;var n=I.textContent;
this.mb=this.apy.bind(this);this.aoH=this.ad7.bind(this);this.QC=k;this.a2n=a;this.Sp=I;this.a9Q=n;var s=$.I("input","");
s.setAttribute("type","text");s.setAttribute("size","10");s.setAttribute("value",n);$.GD(I);I.appendChild(s);
s.select();s.focus();$.bw(I);I.addEventListener("keyup",this.mb,!1);document.body.addEventListener("mousedown",this.aoH,!1)};
aX.og.prototype.apy=function(I){var k=as.rM,a=k(I.code,as.da);if(k(I.code,as._a)||a)this.ajO(a)};aX.og.prototype.ad7=function(I){var k=I.target;
if(k.tagName&&k.tagName.toLowerCase()=="input")return;this.ajO(!0)};aX.og.prototype.ajO=function(I){var k=this.Sp,a=k.firstChild.value;
k.removeEventListener("keyup",this.mb);document.body.removeEventListener("mousedown",this.aoH);if(this.a2n||I&&a!=""&&a!=this.a9Q){this.QC(a)}else{$.GD(k);
k.textContent=this.a9Q}};aX.Hg={ca:"0",aw5:"1",xf:"2",ac2:"3",a4p:"4",XS:"5",CSS:"6",yO:"7",a4Z:"8",ada:"9",aaW:"10",aAt:"11",aq5:"12",S8:"13",Cd:"14",ay6:"15",ahv:"16",Nl:"17",aew:"18",a4x:"19",a99:"20",EW:"21",a0n:"22",a4$:"23",auo:"24",an9:"25",azQ:"26"};
function ko(){aX.call(this,[9,9],!1,"---panels/actions",aX.Hg.aAt);this.wY=null;this.Sd=[0,0]}ko.prototype=new aX("");
ko.prototype.tq=function(){if(!$.TU(this.zo))return;if(this.$e){this.lX();return}this.$e=$.I("div","padded scrollable");
this.$e.setAttribute("style","width:260px;  height:260px");this.zo.appendChild(this.$e);this.O(M.E.B,this.FP,this);
this.ud=$.I("div","lpfoot");this.zo.appendChild(this.ud);this.rS=[];var I="<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\">",k="</svg>",a=I+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+k,n=I+"<path d=\"M0,0 L15,7.5 L0,15 Z\" />"+k;
this.a4T=I+"<circle cx=\"7.5\" cy=\"7.5\" r=\"7.5\" />"+k;this.ajA=I+"<path d=\"M1,1 L14,1 L14,14 L1,14 Z\" />"+k;
var s=[this.a4T,n,"lrs/folder","lrs/newlayer","lrs/bin",a],C=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var Y=0;Y<s.length;Y++){var T=s[Y];if(1<Y&&Y!=s.length-1)T="<img src=\""+PIMG[s[Y]]+"\" class=\"miniscale gsicon\" />";
var S=new iP(T,!1,C[Y]);S.O("click",this.fH,this);this.ud.appendChild(S.Z);this.rS.push(S)}this.lX()};
ko.prototype.k=function(){aX.prototype.k.call(this);if(this.$e==null)return;for(var Y=0;Y<this.rS.length;
Y++)this.rS[Y].k()};ko.prototype.fH=function(I){var Y=this.rS.indexOf(I.currentTarget),k=this.Sd,a=this.wY,n=a.Jb;
if(Y==0){var s,C=a.dv;if(n.length==0){alert("Create an Action Set first.");return}if(k.length<2){alert("Select a target action first.");
return}if(C==null){s=this.ajA;C=this.Sd}else{s=this.a4T;C=null}this.rS[0].jO(s);a.dv=C}else if(Y==1)this.aq7();
else if(Y==2||Y==3){var T={xn:"Action Set "+n.length,PJ:[],exp:!0};if(Y==2||n.length==0){k=[n.length];
n.push(T)}if(Y==3){var S=n[k[0]].PJ;k=[k[0],S.length];S.push({xn:"Action "+S.length,color:0,PJ:[],az9:!1,shift:!1,exp:!0,Gq:S.length})}this.Sd=k;
this.lX()}else if(Y==4){var D;if(k.length==1)D=n;else if(k.length==2)D=n[k[0]].PJ;else D=n[k[0]].PJ[k[1]].PJ;
var o=k.length-1;D.splice(k[o],1);if(D.length==0)k.pop();else while(k[o]>=D.length)k[o]--;if(k.length==0)k.push(0);
this.lX()}else if(Y==5){if(n.length==0){alert("No Actions Present.");return}var v=new d2(M.E.b,!0);v.data={q:M.p.FC,abv:f9.r,BO:k[0]};
this.a(v)}};ko.prototype.FP=function(I){var k=this.wY.Jb,a=I.data.q,n=I.data.FS;if(a=="sel")this.Sd=n;
if(a=="fold"){if(n.length==1)k[n[0]].exp=!k[n[0]].exp;else k[n[0]].PJ[n[1]].exp=!k[n[0]].PJ[n[1]].exp}if(a=="enab"){var s=k[n[0]].PJ[n[1]].PJ[n[2]];
s.e=!s.e}if(a=="nchange"){if(n.length==1)k[n[0]].xn=I.data.rN;else k[n[0]].PJ[n[1]].xn=I.data.rN}this.lX()};
ko.prototype.tc=ko.prototype.UU=function(){this.tq()};ko.prototype.wu=function(I,k){this.wY=I;if(this.$e==null)return;
if(k==f9.r||k==f9._7)this.lX()};ko.prototype.lX=function(){if(this.wY==null)return;$.GD(this.$e);var I=this.wY.Jb;
if(I.length==0)return;var k=JSON.stringify(this.Sd);for(var Y=0;Y<I.length;Y++){var a=I[Y],n=new ko.FR([Y],k,a.exp,a.xn.split("=").pop());
n.parent=this;this.$e.appendChild(n.Z);if(!a.exp)continue;for(var s=0;s<a.PJ.length;s++){var C=a.PJ[s],n=new ko.FR([Y,s],k,C.exp,C.xn.split("=").pop());
n.parent=this;this.$e.appendChild(n.Z);if(!C.exp)continue;for(var T=0;T<C.PJ.length;T++){var S=C.PJ[T],n=new ko.FR([Y,s,T],k,null,hJ.get(hW.aqV(S)),S.e);
n.parent=this;this.$e.appendChild(n.Z)}}}};ko.prototype.aq7=function(){var I=this.wY.Jb,k=this.Sd;if(I.length==0){alert("No Actions Present");
return}if(k.length==1){alert("Select an Action first");return}if(this.wY.dv!=null){alert("You can not apply actions while recording actions");
return}if(k.length==1)k.push(0);var a=I[k[0]],n=a.PJ[k[1]],s=new d2(M.E.b,!0);s.data={q:M.p.cb,ri:[n.xn,a.xn]};
this.a(s)};ko.FR=function(I,k,a,n,s){gB.call(this);this.FS=I;var C=this.FS.length-1;this.Z=$.I("div","layeritem"+(JSON.stringify(I)==k?" selected":""));
this.Jg=$.I("div","head");this.Z.appendChild(this.Jg);this.Jg.setAttribute("style","height:24px");this.KF=$.I("div","headL");
this.Jg.appendChild(this.KF);if(C!=0){var T=$.I("div");T.style.width=C*20+"px";this.KF.appendChild(T)}if(a!=null){var S=this.aEv=$.I("div",a?"open":"closed");
this.KF.appendChild(S)}else{var D=this.aCK=$.I("div","cmark");D.setAttribute("style","background-size:12px 12px; opacity:"+(s?1:.3));
this.KF.appendChild(D)}if(C==0){var o=$.I("div","folder");this.KF.appendChild(o)}var v=this.sr=$.I("div","label");
v.textContent=n;this.KF.appendChild(v);this.Z.addEventListener("mouseup",this.QN.bind(this),!1)};ko.FR.prototype=new gB;
ko.FR.prototype.QN=function(I){if(I.detail==1&&I.target.tagName.toLowerCase()!="input"){var k="sel";
if(I.target==this.aEv)k="fold";if(I.target==this.aCK)k="enab";var a=new d2(M.E.B,!0);a.data={q:k,FS:this.FS};
this.a(a)}else if(this.FS.length<3)var n=new aX.og(this.sr,this.QC.bind(this))};ko.FR.prototype.QC=function(I){var k=new d2(M.E.B,!0);
k.data={q:"nchange",rN:I,FS:this.FS};this.a(k)};function j9(){aX.call(this,[3],!1,"---lrs/adj",aX.Hg.aew)}j9.prototype=new aX("");
j9.prototype.tq=function(){if(!$.TU(this.zo)||this.rS)return;this.zo.setAttribute("style","text-align:center;  padding:6px; min-width:220px");
this.rS=[];var Y=0;for(var I in fo.names){var k=new iP("<img src=\""+PIMG["adj/"+I]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,fo.names[I]);
k.O("click",this.BA,this);this.rS.push(k);this.zo.appendChild(k.Z);if(Y==4||Y==10)$.FI(this.zo);Y++}this.k()};
j9.prototype.tc=function(){this.tq()};j9.prototype.UU=function(){this.tq()};j9.prototype.k=function(){aX.prototype.k.call(this);
if(this.rS==null)return;for(var Y=0;Y<this.rS.length;Y++)this.rS[Y].k()};j9.prototype.BA=function(I){var k=this.rS.indexOf(I.target),a=d5.gJ()[k],n=new d2(a.K,!0);
n.data=a.v;this.a(n)};function jn(){aX.call(this,[12,22],!1,null,aX.Hg.EW);this.$e=$.I("div","padded");
this.wY=null;this.zo.appendChild(this.$e);this.n_=new fn(null,17.7,10);this.n_.parent=this;this.n_.O(M.E.B,this.lf,this);
this.$e.appendChild(this.n_.X_)}jn.prototype=new aX("");jn.prototype.lf=function(I){var k=this.n_.l(),a=new d2(M.E.r,!0);
a.data={q:"setstl",P:k.ov};a.S=E.rV;this.a(a);a.data={q:"confirm"};this.a(a)};jn.prototype.wu=function(I,k){this.wY=I;
this.lX()};jn.prototype.lX=function(){var I=this.wY;if(I==null)return;this.n_.rt([I.JP,I.Vh]);this.n_.bb()};
jn.prototype.tc=function(){this.lX()};jn.prototype.UU=function(){this.lX()};var ia=function(){function I(){aX.call(this,[9,3],!1,"---panels/brush",aX.Hg.yO);
this.ZA=null;this.wY=null}I.prototype=new aX("");I.prototype.tq=function(){var s=$.I("div","");this.zo.appendChild(s);
this.tI=$.I("div","bordered cell");this.tI.setAttribute("style","width:10em; height:28.5em;");s.appendChild(this.tI);
this.Nk=[];this.Bk=null;this.E_=[];var C=this.aD3.bind(this);this.Kg=[new a("basic"),new a("useTipDynamics"),new a("useScatter"),new a("useColorDynamics"),new a("usePaintDynamics")];
for(var Y=0;Y<this.Kg.length;Y++){var T=$.I("div","listitem"),S=this.Kg[Y],o=null;S.parent=this;S.O("brushchange",this.afg,this);
var D=S.Ip;if(Y==0){this.Bk=new gv(D);T.appendChild(this.Bk.Z)}else{o=new dI(D,!1);o.O(M.E.B,this.aqC,this);
T.appendChild(o.Z)}this.E_.push(o);this.tI.appendChild(T);this.Nk.push(T);T.addEventListener("click",C,!1)}this.Bw=$.I("div","cell padded");
s.appendChild(this.Bw);this.setItem(0);this.g8=$.I("canvas");this.g8.height=10;s.appendChild(this.g8);
this.hp=this.g8.getContext("2d");this.LI()};I.prototype.bb=function(s,C){if(this.Qq==s)return;this.Qq=s;
this.L4=C;this.LI()};I.prototype.UU=function(){if(!$.TU(this.zo))return;if(this.tI){this.LI();return}this.tq();
this.k();this.wu(this.wY,f9._7)};I.prototype.k=function(){aX.prototype.k.call(this);if(this.tI==null)return;
this.Bk.k();for(var Y=1;Y<this.E_.length;Y++)this.E_[Y].k();for(var Y=0;Y<this.Kg.length;Y++)this.Kg[Y].k()};
I.prototype.afg=function(s){var C=this.Kg.indexOf(s.currentTarget),T=JSON.parse(JSON.stringify(this.Kg[C].ZA)),S=new d2(M.E.b,!0);
S.data={q:M.p.iv,CU:f9.Q2,ZA:T};this.a(S)};I.prototype.aqC=function(s){this.acq(this.E_.indexOf(s.currentTarget),s.currentTarget.D6())};
I.prototype.aD3=function(s){var Y=this.Nk.indexOf(s.currentTarget);if(s.target.tagName.toLowerCase()=="input")return;
if(this.E_[Y]&&!this.E_[Y].D6()){this.E_[Y].rG();this.acq(Y,!0)}this.setItem(Y)};I.prototype.acq=function(s,C){this.Kg[s].ayw(C)};
I.prototype.setItem=function(s){for(var Y=0;Y<this.Kg.length;Y++)this.Nk[Y].className="listitem";if(this.Bw.firstChild)this.Bw.removeChild(this.Bw.firstChild);
this.Nk[s].className="listitem selected";this.Bw.appendChild(this.Kg[s].Z)};I.prototype.wu=function(s,C){this.wY=s;
if(this.tI==null)return;for(var Y=0;Y<this.Kg.length;Y++)this.Kg[Y].wu(s,C);if(C==f9.Q2||C==f9._7){this.ZA=s.Yg.Cj;
this.LI()}if(C==f9.S8)this.LI()};I.prototype.LI=function(){if(this.ZA)this.enable();else{this.disable();
return}if(!$.TU(this.zo))return;var s=this.wY;for(var Y=0;Y<this.Kg.length;Y++){this.Kg[Y].j(this.ZA);
if(this.E_[Y])this.E_[Y].j(this.Kg[Y].D6())}var C=JSON.parse(JSON.stringify(this.ZA));C.Brsh.v.Dmtr.v.val=Math.min(C.Brsh.v.Dmtr.v.val,50);
$.hI(this.g8,this.Qq,80);var T=new eZ(0,0,this.g8.width,this.g8.height),S=this.wY.Yg,D=new kN(C,S?S.HR:null,S?S.GR:null,{UA:1},s.MW,s.U2,T,null,0),o=T._/2,v=T.Q-o*2;
D.moveTo(o,o);for(var Y=0;Y<=v;Y+=10)D.lineTo(o+Y,o+20*Math.sin(2*Math.PI*Y/v));D.finish();var g=this.hp.createImageData(T.Q,T._);
j.ao(D.SW(),D.GT(),g.data,T);this.hp.putImageData(g,0,0)};function k(s){gB.call(this);s=s.split(".")[0];
this.kh=s;var C=this.Z=$.I("span"),T=["Off","Fade"];T.push(s=="angleDynamics"?"Direction":"Pen Pressure");
var S=this.PF=new fB("Control",T);S.O(M.E.B,this.Rb,this);C.appendChild(S.Z);var D=this.avl=new fM(null,0,100,null,null,null,!0);
D.j(50);D.O(M.E.B,this.Rb,this)}k.prototype=new gB;k.prototype.j=function(s){s=s<2?s:2;this.PF.j(s);
this.lX()};k.prototype.l=function(){var s=this.PF.l(),C=this.kh;s=s<=1?s:C=="angleDynamics"?6:2;return s};
k.prototype.Rb=function(s){this.lX();s.target=s.currentTarget=this;this.a(s)};k.prototype.lX=function(s){this.avl.wl(this.PF.l()==1)};
function a(s){gB.call(this);this.Z=$.I("div");this.ZA=null;var C=["basic","useTipDynamics","useScatter","useColorDynamics","usePaintDynamics"].indexOf(s);
this.Ip=[[15,0],[15,1],[15,2],[15,3],"Transfer"][C];this.$C=s;this.Ko={};this.ac6=null;var T=["--br Brsh.Dmtr Brsh.Angl Brsh.Rndn Brsh.Hrdn Brsh.Spcn".split(" "),"szVr.jitter szVr.bVTy szVr.fStp minimumDiameter angleDynamics.jitter angleDynamics.bVTy angleDynamics.fStp roundnessDynamics.jitter minimumRoundness".split(" "),["scatterDynamics.jitter","Cnt","countDynamics.jitter"],["clVr.jitter","H","Strt","Brgh"],"opVr.jitter opVr.bVTy opVr.fStp prVr.jitter prVr.bVTy prVr.fStp".split(" ")][C];
for(var Y=0;Y<T.length;Y++){var S=T[Y],D;if(S=="--br"){D=new bo;this.Z.appendChild(D.X_.firstChild)}else if(S=="Brsh.Dmtr")D=new f7([12,14,0],1,1e3," px",0,!0);
else if(S=="Brsh.Angl")D=new f7([12,15],0,359," \xB0");else if(S=="Brsh.Rndn")D=new f7([12,16],0,100," %");
else if(S=="Brsh.Hrdn")D=new f7([12,17],0,100," %");else if(S=="Brsh.Spcn")D=new f7([12,18],1,300," %");
else if(S=="szVr.jitter")D=new f7([15,4,0],0,100,"%");else if(S=="minimumDiameter")D=new f7([15,4,1],0,100,"%");
else if(S=="angleDynamics.jitter")D=new f7([15,4,2],0,100,"%");else if(S.endsWith("bVTy"))D=new k(S);
else if(S.endsWith("fStp"))D=new fM(null,0,100,null,null,null,!0);else if(S=="roundnessDynamics.jitter")D=new f7([15,4,3],0,100,"%");
else if(S=="minimumRoundness")D=new f7([15,4,4],1,100,"%");else if(S=="scatterDynamics.jitter")D=new f7([15,5,0],0,1e3," %");
else if(S=="Cnt")D=new f7([15,5,1],1,20);else if(S=="countDynamics.jitter")D=new f7([15,5,2],0,100," %");
else if(S=="clVr.jitter")D=new f7([15,6,0],0,100," %");else if(S=="H")D=new f7([15,6,1],0,100," %");
else if(S=="Strt")D=new f7([15,6,2],0,100," %");else if(S=="Brgh")D=new f7([15,6,3],0,100," %");else if(S=="opVr.jitter")D=new f7("Opacity Jitter",0,100," %");
else if(S=="prVr.jitter")D=new f7("Flow Jitter",0,100," %");else throw S;this.Ko[S]=D;D.parent=this;
D.O(M.E.B,this.Rb,this)}}a.prototype=new gB;a.prototype.a0l=function(){this.a(new d2("brushchange"))};
a.prototype.j=function(s){this.ZA=JSON.parse(JSON.stringify(s));this.Z.className=this.D6()?"":"disabled";
this.LI()};a.prototype.k=function(){for(var s in this.Ko)this.Ko[s].k()};a.prototype.D6=function(){return!0};
a.prototype.wu=function(s,C){if(C==f9.yO||C==f9._7){var T=this.Ko["--br"];if(T)T.rt(s.Yg)}};a.prototype.Rb=function(s){var C=s.target,T=this.Ko,S;
for(var D in T)if(T[D]==C)S=D;if(S=="--br"){var o=new d2(M.E.b,!0);o.data={q:M.p.iv,CU:f9.Q2,ZA:C.l()};
this.a(o)}else{var v=n(this.ZA,S),g=C.l();if(v){if(S.endsWith("bVTy")||S.endsWith("fStp")||S=="Cnt")v.v=g;
else v.v.val=g;this.a0l()}}};a.prototype.LI=function(){var s=this.ZA,C=s.Brsh.v.classID,T=this.Ko,S=C!=this.ac6;
this.ac6=C;if(S){$.GD(this.Z);for(var D in T){if(C!="computedBrush"&&C!="sampledBrush"&&D=="Brsh.Rndn")continue;
if(C!="computedBrush"&&D=="Brsh.Hrdn")continue;var o=T[D],v=o.Z;if(D=="--br"){v=o.FG.Z;v.style.width="auto"}this.Z.appendChild(v)}}for(var D in T){if(D=="--br")continue;
var g=n(s,D),d;if(g){if(D.endsWith("bVTy")||D.endsWith("fStp")||D=="Cnt")d=g.v;else d=g.v.val;T[D].j(d);
if(D.endsWith("fStp"))T[D].wl(n(s,D.split(".")[0]+".bVTy").v==1)}}};a.prototype.D6=function(){var s=this.$C;
return s=="basic"?!0:this.ZA[s].v};a.prototype.ayw=function(s){var C=this.$C;if(C=="basic")return;this.ZA[C].v=s;
kJ.y4.ab3(this.ZA);this.a0l()};function n(s,C){var T=C.split(".");s=s[T[0]];for(var Y=1;Y<T.length;Y++){if(s==null)return s;
s=s.v[T[Y]]}return s}return I}();function ha(){aX.call(this,[9,0],!1,"---panels/history",aX.Hg.ca);this.zo.setAttribute("style","min-width:200px;");
this.sN=$.I("div","hpbody scrollable");this.sN.style.height="160px";this.zo.appendChild(this.sN);this.azu=-1;
this.C2=[];this.dC="";this.Is=new io([{name:"Clear History"}],[{K:M.E.r,S:E.ca,v:{q:"h_clear"}}])}ha.prototype=new aX("");
ha.prototype.eZ=function(){return this.Is};ha.prototype.bb=function(I,k){this.UU()};ha.prototype.tc=function(I){if(I==null){$.GD(this.sN);
this.dC="";return}$.GD(this.sN);var k=0;for(var Y=0;Y<I.history.length;Y++)if(Y<=I.R3&&!I.history[Y].LK)k=Y;
for(var Y=0;Y<I.history.length;Y++){var a=I.history[Y];if(a.LK)continue;var n=new eW(a,Y,k);n.parent=this;
this.sN.appendChild(n.Z);this.C2.push(n)}if(I.R3==I.history.length-1)this.UU()};ha.prototype.UU=function(){this.sN.scrollTop=this.sN.scrollHeight};
ha.prototype.k=function(){aX.prototype.k.call(this);for(var Y=0;Y<this.C2.length;Y++)this.C2[Y].k()};
function eW(I,Y,k){gB.call(this);this.index=Y;this.Z=$.I("div",Y==k?"listitem selected":"listitem");
this.xe=I.name;this.k();if(Y>k)this.Z.style.opacity=.4;this.Z.addEventListener("click",this.Vr.bind(this),!1)}eW.prototype=new gB;
eW.prototype.k=function(){this.Z.textContent=hJ.get(this.xe)};eW.prototype.Vr=function(I){if(this.index==this.parent.azu)return;
this.A4({q:"h_itemchange",index:this.index})};eW.prototype.A4=function(I){var k=new d2(M.E.r,!0);k.data=I;
k.S=E.ca;this.a(k)};function hI(){aX.call(this,[9,10],!1,"---panels/histogram",aX.Hg.a4p);var I=$.I("div","padded");
this.zo.appendChild(I);this.rP=new aJ(256,!0);I.appendChild(this.rP.Z);this.Tt=null}hI.prototype=new aX("");
hI.prototype.tc=function(I){this.Tt=I;this.lX()};hI.prototype.lX=function(){var I=this.Tt;if(!$.TU(this.zo))return;
if(I==null||I.T.length==0){this.rP.j(j.I3(j.U(4)));return}var k=I.TB(),a=new eZ(0,0,I.Q,I._),n=a.c();
if(I.f){var s=I.f.rect,C=j.U(s.c()*4);j.ao(k,a,C,s);j.Bj(I.f.channel,C);k=C;a=s;var T=I.f.channel;n=0;
for(var Y=0;Y<T.length;Y++)n+=T[Y];n=Math.round(n/255)}var S=j.I3(k);S[0][255]+=3*(n-S[5]);for(var Y=1;
Y<4;Y++)S[Y][255]+=n-S[5];this.rP.j(S,n)};hI.prototype.wu=function(I,k){this.rP.c1(kn.ZW[I.DU]["--text-color"])};
hI.prototype.k=function(){aX.prototype.k.call(this);this.rP.k()};hI.prototype.UU=function(){this.lX()};
function dG(){aX.call(this,[9,8],!1,"---adj/clrL",aX.Hg.aw5);this.$e=$.I("div","padded");this.zo.appendChild(this.$e);
this.bC=new fT(10);this.$e.appendChild(this.bC.Z);this.mm=new cf;this.mm.parent=this;this.$e.appendChild(this.mm.X_);
this.mm.X_.style.marginTop="6px";this.bC.O(M.E.B,this.a3h,this);this.mm.O(M.E.B,this.a3h,this)}dG.prototype=new aX("");
dG.prototype.a3h=function(I){var k;if(I.target==this.bC)k=this.bC.l();else{var a=this.mm.l();k=j.EQ(a)}var n=new d2(M.E.b,!0);
n.data={q:M.p.iv,CU:f9.S8,ar:0,P:k};this.a(n)};dG.f2=function(I,k){var a=k==f9._7,n=I.r3,s=I.zz,C=s.strokeStyleContent.v,T=null;
if((k==f9.l2||a)&&n.nE==1){T=j.G.GW(n.aG.Clr.v);T=T.$<<16|T.H<<8|T.J}if((k==f9.pf||a)&&s.strokeEnabled.v&&C.classID=="solidColorLayer"){T=j.G.GW(C.Clr.v);
T=T.$<<16|T.H<<8|T.J}if(k==f9.S8||a)T=I.MW;return T};dG.prototype.wu=function(I,k){var a=I.MW,n=k==f9._7,s=dG.f2(I,k);
if(s!=null){this.bC.j(s);this.mm.j({$:s>>>16&255,H:s>>>8&255,J:s>>>0&255,Nt:"Default/Color #"+j.pB(s)})}if(k==f9.$G||n){var C=I.alz;
this.mm.rt(C)}};dG.prototype.bb=function(I,k){this.mm.X_.children[0].style.width=I-32+"px"};function a9(){aX.call(this,[12,72],!1,"---adj/mixr",aX.Hg.ahv);
this.dy=null;this.yM=null;this.sN=$.I("div","lpbody scrollable");this.sN.style.marginTop="4px";this.ud=$.I("div","lpfoot");
this.zo.appendChild(this.sN);this.zo.appendChild(this.ud);this.QL=[];this.O("click",this.zn,this);this.M$=[];
a9.C6([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.M$,this.ud,this.hF.bind(this),this.GY.bind(this));
this.Is=new io([{name:"Merge Channels",LC:!0}],[{K:M.E.b,v:{q:M.p.Fu,aw:"mergechannels"}}])}a9.prototype=new aX("");
a9.prototype.eZ=function(){return this.Is};a9.C6=function(I,k,a,n,s){for(var Y=0;Y<I.length;Y++){var C=new iP("W",!1,I[Y]);
k.push(C);$.Ar(C.Z,n);a.appendChild(C.Z);var T=C.Z;T.addEventListener("drop",s,!1);T.addEventListener("dragover",function(S){S.preventDefault()},!1);
T.addEventListener("dragenter",$.dR,!1)}};a9.qi=function(I,k){for(var Y=0;Y<I.length;Y++)if(I[Y].Z==k.currentTarget)return Y};
a9.prototype.hF=function(I){var k=a9.qi(this.M$,I);if(k==0)this.a(j6.L3(!0,null,I));else{k--;var a=new d2(M.E.rd,!0),n={classID:"null"};
if(k==0)n.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(k==1)n.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else n.null=hW.Pg("Chnl",!0);a.data={pi:["duplicate","make","delete"][k],zf:n};this.a(a)}};a9.prototype.GY=function(I){var k=a9.qi(this.M$,I);
if(k==2){var a=new d2(M.E.rd,!0),n={classID:"null"};n.null=hW.Pg("Chnl",!0);a.data={pi:"duplicate",zf:n};
this.a(a)}else this.hF(I)};a9.prototype.l_=function(Y){var I=this.QL,k=I[Y];if(k==null){var a=$.I("canvas");
k=a.getContext("2d");I.push(k)}return k};a9.prototype.zn=function(I){var k=this.dy.slice(0),a=I.data.Gq,n=k[0]+k[1]+k[2],s=this.yM;
if(-5<a&&a<0){var C=-a-1;if(I.data.bU){if(C==0)k=n==3?[0,0,0]:[1,1,1];else{if(k[C-1]==0)k[C-1]=1;else if(!0)k[C-1]=0}}else{if(C==0)k=[1,1,1];
else{k=[0,0,0];k[C-1]=1}for(var Y=0;Y<s.TL.length;Y++)s.TL[Y].zh=!1;s.Ap=[]}var T=new d2(M.E.r,!0);T.S=E._F;
T.data={q:"setcls",N:k};this.a(T);return}if(-1<a){var S=s.R[a],D=S.YY==1?S.IO():S.kx(s).u;if(I.data.bU)D.zh=!D.zh;
else{for(var Y=0;Y<s.TL.length;Y++)s.TL[Y].zh=!1;s.Ap=[]}}else{var o=-a-5,D=s.TL[o];if(I.data.bU)D.zh=!D.zh;
else{for(var Y=0;Y<s.TL.length;Y++)s.TL[Y].zh=!1;D.zh=!0;s.Ap=[o];if(n!=0){var T=new d2(M.E.r,!0);T.S=E._F;
T.data={q:"setcls",N:[0,0,0]};this.a(T)}}}s.Xi=s.cd=!0};a9.prototype.UU=function(){this.Wm()};a9.prototype.tc=function(I){this.yM=I;
this.Wm()};a9.prototype.Wm=function(){var I=this.yM,k=this.sN,R=4;$.GD(k);if(I==null||!$.TU(k))return;
var a=I.Q,n=I._,s=new eZ(0,0,a,n),C=this.dy=I.w.N.slice(0),T=C[0]+C[1]+C[2],S=Math.round(34*$.Y()),D=S;
if(a>n)D=Math.round(D*n/a);else S=Math.round(S*a/n);var o=["RGB"].concat(fo.fd);for(var Y=0;Y<4;Y++){var v=this.l_(Y);
j.yd.b_(v,S,D,s,I.TB(),s,!1,Y==0?null:Y-1);var g=Y==0?T==3:C[Y-1]==1,d=new j6(-1-Y,!0,!0,v,o[Y],g,g);
d.parent=this;k.appendChild(d.Z);$.ZX(v.canvas)}for(var Y=0;Y<I.T.length;Y++){var c=I.R[I.T[Y]],e=c.YY;
if(e!=1&&e!=3)continue;var O=e==1?c.IO():c.kx(I).u,v=this.l_(R+Y);R++;j.yd._3(v,S,D,s,O);var d=new j6(I.T[Y],!0,!0,v,c.getName()+(e==1?"":" Filter")+" Mask",!0,O.zh);
d.parent=this;k.appendChild(d.Z);$.ZX(v.canvas)}for(var Y=0;Y<I.TL.length;Y++){var O=I.TL[Y],v=this.l_(R+Y);
j.yd._3(v,S,D,s,O);var d=new j6(-5-Y,!0,O.name=="Quick Mask",v,O.name,I.Ap.indexOf(Y)!=-1,O.zh,E.xf,{q:X.QJ,ar:"rnm",Gq:Y});
d.parent=this;k.appendChild(d.Z);$.ZX(v.canvas)}};a9.prototype.bb=function(I,k){this.sN.style.height=k-30-4+"px";
this.sN.style.width=I+"px"};a9.prototype.k=function(){aX.prototype.k.call(this);this.Wm();a9.jG(this.M$,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
a9.jG=function(I,k,a){var k=f8.Tj(k,null,"miniscale");for(var Y=0;Y<I.length;Y++)I[Y].jO(k[Y],a?a[Y]:null)};
function j6(I,k,a,n,s,C,T,S,D){gB.call(this);this.Z=$.I("div");this.aCX=I;this.a7r=k;this.hp=n;this.a7O=S;
this.agI=D;this.Jg=$.I("div",C?"head selected":"head");this.Jg.setAttribute("style","height: "+40+"px");
var o=$.I("div","headL"),v=$.I("div","headR"),g=15;this.Z.appendChild(this.Jg);this.Jg.appendChild(o);
this.Jg.appendChild(v);this.H5=$.I("div","eye");if(1<$.Y()&&$.Y()<1.5)g=g/$.Y();this.H5.setAttribute("style","background-size: "+g+"px "+g+"px;");
this.H5.style.opacity=T?1:.2;if(k)o.appendChild(this.H5);this.cH=$.I("div","thumb");if(n)this.cH.appendChild(n.canvas);
o.appendChild(this.cH);this.bX=$.I("div","label");if(a)this.bX.style.fontStyle="italic";this.bX.textContent=hJ.get(s);
o.appendChild(this.bX);var d=this.Jg;d.setAttribute("draggable","true");d.addEventListener("dragstart",function(R){R.stopPropagation();
R.dataTransfer.setData("Text","hello")},!1);d.addEventListener("drop",$.dR,!1);$.Ar(this.Jg,this.a5U.bind(this));
if(!a)this.Jg.addEventListener("mouseup",this.a6h.bind(this),!1)}j6.prototype=new gB;j6.prototype.QC=function(I){var k=new d2(M.E.r,!0);
k.S=this.a7O;k.data=this.agI;k.data.name=I;this.a(k)};j6.prototype.a5U=function(I){var k=I.ctrlKey||I.metaKey,a=this.aCX;
if(k&&I.target==this.hp.canvas){this.a(j6.L3(this.a7r,a,I))}else{var n=new d2("click",!0);n.data={Gq:a,bU:I.target==this.H5,O4:k};
this.a(n)}};j6.prototype.a6h=function(I){if(I.detail==2&&I.target==this.bX){var k=new aX.og(this.bX,this.QC.bind(this))}};
j6.L3=function(I,k,a){var n=0;if(a.shiftKey)n++;if(a.altKey)n+=2;var s=new d2(M.E.r,!0);s.S=E.FQ;if(I){if(-5<k&&k<0){s=new d2(M.E.rd,!0);
s.data=E.BN.B1(n,["RGB","Rd","Grn","Bl"][-1-k])}else s.data={q:"fromchannel",ri:[k,0,n]}}else s.data={q:"frompath",ri:[k,0,n]};
return s};function fh(){aX.call(this,[8,9],!1,"---panels/paths",aX.Hg.Nl);this.dy=null;this.yM=null;
this.sN=$.I("div","lpbody scrollable");this.sN.style.marginTop="4px";this.ud=$.I("div","lpfoot");this.zo.appendChild(this.sN);
this.zo.appendChild(this.ud);this.zo.addEventListener("click",this.a9f.bind(this),!1);this.QL=[];this.O("click",this.zn,this);
this.M$=[];a9.C6(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.M$,this.ud,this.hF.bind(this),this.GY.bind(this))}fh.prototype=new aX("");
fh.prototype.hF=function(I,k){var a=a9.qi(this.M$,I),n;if(a<2){if(a==1&&I.altKey){n=new d2(M.E.b,!0);
n.data={q:M.p.Fu,aw:"strokepath"}}else{n=new d2(M.E.rd,!0);n.data=E._v.pV(a==0?null:"PbTl")}}else if(a==2)n=j6.L3(!1,null,I);
else if(a==3){n=new d2(M.E.rd,!0);n.data={pi:"make",zf:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else if(a>3){var n=new d2(M.E.r,!0);
n.S=E.N4;n.data={q:"pathedit",ar:["new","del"][a-4],alK:k}}this.a(n)};fh.prototype.GY=function(I){this.hF(I,!0)};
fh.prototype.l_=function(Y){var I=this.QL,k=I[Y];if(k==null){var a=$.I("canvas");k=a.getContext("2d");
I.push(k)}return k};fh.prototype.a9f=function(I){if(I.target==this.sN){var k=this.yM;k.dz=[];k.L0=[];
k.cd=!0;k.Xi=!0}};fh.prototype.zn=function(I){var k=I.data.Gq,a=this.yM,n=I.data.O4,s=k,C=a.L0,T=a.dz;
if(k<0){s=-1-k;C=a.dz;T=a.L0}if(n){var S=C.indexOf(s);if(S==-1)C.push(s);else C.splice(S,1)}else{while(C.length!=0)C.pop();
while(T.length!=0)T.pop();C.push(s)}a.cd=!0;a.Xi=!0};fh.prototype.UU=function(){this.Wm()};fh.prototype.tc=function(I){this.yM=I;
this.Wm()};fh.prototype.Wm=function(){var I=this.yM,k=this.sN;$.GD(k);if(I==null||!$.TU(k))return;var a=I.Q,n=I._,s=new eZ(0,0,a,n),C=this.dy=I.w.N.slice(0),T=C[0]+C[1]+C[2],S=Math.round(34*$.Y()),D=S;
if(a>n)D=Math.round(D*n/a);else S=Math.round(S*a/n);var o=I.iQ(),v=o[0];for(var Y=0;Y<v.length;Y++){var g=v[Y],d=this.l_(Y);
j.yd.apb(d,S,D,s,g.add.vmsk);var R=new j6(g.Gq,!1,g.Gq>=0,d,g.name,o[1].indexOf(Y)!=-1,!1,E.N4,{q:"pathedit",ar:"rnm",Gq:g.Gq});
R.parent=this;k.appendChild(R.Z);$.ZX(d.canvas)}};fh.prototype.bb=function(I,k){this.sN.style.height=k-30-4+"px";
this.sN.style.width=I+"px"};fh.prototype.k=function(){aX.prototype.k.call(this);this.Wm();a9.jG(this.M$,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function jZ(I){aX.call(this,[9,I?4:5],!1,"---panels/"+(I?"character":"paragraph"),I?aX.Hg.ada:aX.Hg.aaW);
this.zo.setAttribute("style","min-width:240px;");this.vd=I;this.YL=null;this.wY=null}jZ.prototype=new aX("");
jZ.prototype.tq=function(){this.YL=new i_;var I=this.YL,k=this.zo;I.parent=this;if(this.vd){var a=$.I("div","marged");
k.appendChild(a);a.appendChild(I.ko.Z);k.appendChild($.I("hr"));var n=$.I("div","marged");k.appendChild(n);
n.appendChild(I.su.Z);n.appendChild(I.x1.Z);var s=$.I("div","marged");k.appendChild(s);s.appendChild(I.UZ.Z);
s.appendChild(I.j_.Z);k.appendChild($.I("hr"));var C=$.I("div","marged");k.appendChild(C);C.appendChild(I.Hk.Z);
C.appendChild(I.Xt.Z);var T=$.I("div","marged");k.appendChild(T);T.appendChild(I.KT.Z);T.appendChild(I.$d.Z);
T.appendChild(I.k_.Z);k.appendChild($.I("hr"));var S=$.I("div","marged");k.appendChild(S);S.appendChild(I.jc.Z);
S.appendChild(I.t8.Z);S.appendChild(I.al.Z);S.appendChild(I.iS.Z);S.appendChild(I.NK.Z);S.appendChild(I.Hl.Z);
S.appendChild(I.X9.Z);S.appendChild(I.Gg.Z)}else{var a=$.I("div","marged");k.appendChild(a);a.appendChild(I.n9.Z);
a.appendChild(I.Ye.Z);a.appendChild(I.OE.Z);a.appendChild(I.amh.Z);a.appendChild(I.ash.Z);a.appendChild(I.a1A.Z);
a.appendChild(I.a0q.Z);k.appendChild($.I("hr"));var n=$.I("div","marged");k.appendChild(n);n.appendChild(I.KN.Z);
n.appendChild(I.b0.Z);n.appendChild(I.bO.Z);k.appendChild($.I("hr"));var s=$.I("div","marged");k.appendChild(s);
s.appendChild(I.c8.Z);s.appendChild(I.$c.Z);s.appendChild(I.TR.Z);s.appendChild(I.XQ.Z)}};jZ.prototype.UU=function(){if(!$.TU(this.zo))return;
if(this.YL==null){this.tq();var I=this.wY;if(I)this.YL.j(I.kd,I.IE,I.YZ);this.YL.k()}};jZ.prototype.k=function(){aX.prototype.k.call(this);
if(this.YL)this.YL.k()};jZ.prototype.wu=function(I,k){this.wY=I;if(k!=f9._7&&k!=f9.ug&&k!=f9.xr&&k!=f9.fr)return;
if(this.YL)this.YL.j(I.kd,I.IE,I.YZ)};function hb(I){aX.call(this,I?"Character Styles":"Paragraph Styles",!1,null,I?aX.Hg.auo:aX.Hg.an9);
this.zo.setAttribute("style","min-width:240px;");var k=this.nb=$.I("div","scrollable");this.zo.appendChild(k);
k.setAttribute("style","max-height:400px;");this.wj=null;this.a60=null;this.uX=null;this.vd=I?0:1;this.Tt=null;
this.wY=null;this.aDC=hb.prototype.Od.bind(this)}hb.prototype=new aX("");hb.prototype.tc=function(I,k,a){this.Tt=I;
this.wY=a;this.Wm()};hb.prototype.Wm=function(){var I=this.nb;$.GD(I);if(!$.TU(this.zo))return;var k=this.Tt,a=this.wY;
if(k==null||a==null)return;var n=a.kd,s=this.wj=[],C={},T=this.a60=[],S=this.uX=[],D={},o=this.vd,v=o==0?"Style":"Paragraph";
for(var Y=0;Y<k.R.length;Y++){var g=k.R[Y].add.TySh;if(g==null)continue;var d=g.RW,R=g.h.Ha(),c=d.ResourceDict.FontSet,e=d.EngineDict[v+"Run"],O=e.RunArray;
for(var U=0;U<O.length;U++){var K=hb.a4V(O[U][v+"Sheet"][o==0?"StyleSheetData":"Properties"],o,c,T,D,R);
if(K.FillColor==null)K.FillColor={Type:1,Values:[1,0,0,0]};var _=JSON.stringify(K);if(C[_]==null){C[_]=!0;
s.push(K)}}}var Z=o==0?function(l,P){return P.FontSize-l.FontSize}:function(l,P){return l.Justify-P.Justify};
s.sort(Z);var H=[];if(o==0){var G=[[1,.28,.28,.28],[1,1,1,1],[1,.85,.95,1],[1,.95,.85],[1,0,0,.3],[1,.3,0,0]],N=G.length,z=new Array(N),L=1e9,p=0;
z.fill(1e9);for(var Y=0;Y<s.length;Y++){var V=s[Y],c=V.FontSize;L=Math.min(L,c);p=Math.max(p,c);var r=V.FillColor.Values,y=(r[1]+r[2]+r[3])/3;
H[Y]=y>.5?[1,.15,.15,.15]:[1,.85,.85,.85]}}var W=hb.a4V(o==0?n.CX:n.i9,o,n.JN,T,D,1),m=JSON.stringify(W);
for(var Y=0;Y<s.length;Y++){var f=$.I("div");I.appendChild(f);S.push(f);f.addEventListener("click",this.aDC,!1);
var V=s[Y],h=JSON.stringify(V)==m;if(o==0){var b=T[V.Font].Name,i=b.toLowerCase(),w=i.indexOf("bold")!=-1||i.indexOf("-black")!=-1,J=i.indexOf("italic")!=-1||i.indexOf("oblique")!=-1||i.endsWith("-it"),q=i.indexOf("light")!=-1,c=V.FontSize,r=V.FillColor.Values,x=H[Y];
if(h){x=x.slice(0);x[1]=Math.min(1,x[1]+.2)}var A=p==L?.5:(c-L)/(p-L),n=10+16*A,Q="overflow:hidden; white-space:nowrap; height:38px;  font-size:"+n+"px; color:"+CSS.zB({$:r[1]*255,H:r[2]*255,J:r[3]*255})+"; line-height:"+38+"px; background-color:"+CSS.zB({$:x[1]*255,H:x[2]*255,J:x[3]*255})+";";
if(w)Q+=" font-weight:bold;";if(J)Q+=" font-style:italic;";if(q)Q+=" font-weight:lighter;";f.setAttribute("style",Q);
var B=$.I("span");f.appendChild(B);B.setAttribute("style","display:inline-block;  width:"+(p>99?50:40)+"px;  text-align:right;  margin-right:5px;");
B.textContent=Math.round(c);B=$.I("span");f.appendChild(B);B.setAttribute("style","display:inline-block;  width:130px; ");
B.textContent=b}}};hb.prototype.Od=function(I){var k=JSON.parse(JSON.stringify(this.wY.kd)),Y=this.uX.indexOf(I.currentTarget),a=this.wj[Y];
for(var n in a)if(n!="Font")k.CX[n]=a[n];f4.YW(k,this.a60[a.Font].Name);console.log(k);var s=new d2(M.E.b,!0);
s.data={q:M.p.iv,CU:f9.ug,kd:k};this.a(s);var s=new d2(M.E.r,!0);s.S=E.N$;s.data={q:"updateStyles"};
this.a(s)};hb.a4V=function(I,k,a,n,s,C){var T=k==0?["Font","FontSize","FillColor"]:[],S={};for(var D=0;
D<T.length;D++)S[T[D]]=I[T[D]];if(k==0){if(S.Font!=null){var o=a[S.Font].Name;if(s[o]==null){s[o]=n.length;
n.push(a[S.Font])}S.Font=s[o]}S.FontSize=S.FontSize*C}return S};hb.prototype.UU=function(){if(!$.TU(this.zo))return};
hb.prototype.k=function(){aX.prototype.k.call(this)};hb.prototype.wu=function(I,k){this.wY=I;this.Wm()};
function hv(){aX.call(this,[9,13],!1,"---panels/glyphs",aX.Hg.a4x);this.wY=null}hv.prototype=new aX("");
hv.prototype.tq=function(){this.YL=new i_;this.YL.parent=this;this.alc=null;this.am0=null;this.$T=null;
this.a31=null;this.Xk=Math.round(290*$.Y());this.HZ=45;this.k$=4;this.aco=this.lX.bind(this);this.aw4=0;
this.bq=new fB(null,["Hi","Hello"]);this.bq.O(M.E.B,this.lX,this);var I=this.X4=new iP("-",null,null,!0);
I.O("click",this.acr,this);var k=this.asg=new iP("+",null,null,!0);k.O("click",this.acr,this);this.FG=new bt(!1);
this.FG.O(M.E.B,this.dk,this);this.FG.Z.style.height=250+"px";var a=this.$H=$.I("div","form padded");
this.zo.appendChild(a);a.appendChild(this.YL.ko.Z);$.FI(a);a.appendChild(this.bq.Z);a.appendChild(I.Z);
a.appendChild(k.Z);this.zo.appendChild(this.FG.Z)};hv.prototype.bb=function(I,k){if(this.Qq==I||this.YL==null)return;
this.Qq=I;this.Xk=Math.floor((I-13)*$.Y());this.$H.setAttribute("style","width:"+this.Xk/$.Y()+"px;");
this.FG.Z.style.height=k-73+"px";this.lX()};hv.prototype.dk=function(I){var k=this.ao$(),a=Math.round(this.Xk/k);
k/=$.Y();var n=this.FG.l()[0]*a*this.k$,s=this.FG.ap2();n+=Math.floor(s.y/k)*a;n+=Math.floor(s.x/k);
var C=this.$T[this.bq.l()];if(n>=C.length)return;var T=C[n],S=this.a31[T],D=new d2(M.E.r,!0);D.S=E.N$;
if(S.nA.length==0)D.data={q:"insertGlyph",P:n+1};else D.data={q:"insertText",P:String.fromCodePoint(S.nA[0])};
this.a(D)};hv.prototype.acr=function(I){var k=1.2;if(I.target==this.X4){if(this.HZ>20)this.HZ/=k}else{if(this.HZ<100)this.HZ*=k}this.lX()};
hv.prototype.UU=function(){this.wu(this.wY)};hv.prototype.wu=function(I,k){this.wY=I;if(!$.TU(this.zo))return;
if(this.YL==null)this.tq();this.YL.j(I.kd,I.IE,I.YZ);var a=I.kd,n=a.CX.Font,D=0;if(n==null)return;var s=a.JN[n].Name;
if(this.alc==s)return;var n=I.IE.B3(s);if(n==null)return;var C=n.maxp.numGlyphs,T=this.a31=new Array(C);
for(var Y=0;Y<C;Y++)T[Y]={nA:[]};var S=Date.now(),o=new Uint8Array(1048575);for(var Y=0;Y<1048575;Y++){var v=Typr.U.codeToGlyph(n,Y);
if(v!=0&&v<C){o[Y]=1;if(T[v].nA.length==0)D++;T[v].nA.push(Y)}}var g=hv.jv,d=[];for(var Y=0;Y<g.length;
Y++)d.push([]);for(var v=1;v<C;v++){d[0].push(v);var R=T[v].nA[0];if(R==null){continue}for(var c=1;c<g.length;
c++){var e=g[c].ty;for(var Y=0;Y<e.length;Y+=2)if(e[Y]<=R&&R<=e[Y+1]){d[c].push(v);break}}}this.$T=d;
var O=[];for(var Y=0;Y<g.length;Y++)O.push(g[Y].vo+" ("+d[Y].length+")");var U=this.bq.l();this.bq.wS(O);
this.bq.j(U);this.alc=s;this.am0=n;this.lX()};hv.prototype.ao$=function(I){var k=Math.floor(this.Xk/this.HZ);
return Math.floor(this.Xk/k)};hv.prototype.lX=function(I){if(!$.TU(this.zo)||this.$T==null)return;var k=this.$T[this.bq.l()],a=k.length,n=this.am0,s=Typr.U,C=this.ao$(),T=C,S=T*.8,D=T*.8/n.head.unitsPerEm,o=[],v=Math.floor(this.Xk/C),g=Math.ceil(a/v),d=this.k$,R=Date.now();
for(var c=0;c<g;c+=d){var e=$.I("canvas"),O=e.getContext("2d");e.width=C*v;e.height=T*d;O.fillStyle="white";
O.fillRect(0,0,v*C,T*d);for(var U=0;U<d;U++){for(var K=0;K<v;K++){var Y=k[(c+U)*v+K];if(Y==null)break;
var _=s.glyphToPath(n,Y),Z=j.X.TO(_.crds);O.fillStyle="#252525";if(Z.KH()){var H=n.hmtx,G=[],V=170;for(var N in H)G.push(N);
var z=H[G[0]][Y],L=H[G[1]][Y],p=Math.max(z,L);_={cmds:"M L M L M L".split(" "),crds:[0,0,p,0,0,-V,0,V,p,-V,p,V]};
Z.Q=p;Z.x=0;O.strokeStyle="rgba(0,255,0,1)"}O.beginPath();var r=K*C+(C-Z.Q*D)*.5-Z.x*D,y=U*T+S;O.translate(r,y);
O.scale(D,-D);s.pathToContext(_,O);O.scale(1/D,-1/D);O.translate(-r,-y);Z.KH()?O.stroke():O.fill()}}O.beginPath();
for(var K=0;K<v;K++){var W=K*C+C+.5;O.moveTo(W,0);O.lineTo(W,T*d)}for(var U=0;U<d;U++){var m=U*T+T+.5;
O.moveTo(0,m);O.lineTo(v*C,m)}O.strokeStyle="rgba(0,0,0,0.3)";O.stroke();o.push(e)}this.FG.NX(o,null,C*v,T*d)};
hv.jv=[{vo:"All Glyphs"},{vo:"Basic Latin, Latin 1",ty:[0,127,128,143]},{vo:"Latin Extended-A",ty:[256,383]},{vo:"Latin Extended-B",ty:[384,591]},{vo:"Punctuations",ty:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{vo:"Greek",ty:[880,1023]},{vo:"Cyrillic",ty:[1024,1279]},{vo:"Hebrew",ty:[1424,1535]},{vo:"Arabic",ty:[1536,1791]},{vo:"Emoji",ty:[9728,10095,127744,129535]}];
function fI(){aX.call(this,[13,0],!1,null,aX.Hg.S8);this.rH=0;this.a1J=0;this.wY=null}fI.prototype=new aX("");
fI.prototype.tq=function(){if(!$.TU(this.zo)||this.q2)return;var I=$.I("div","flexrow padded");this.zo.appendChild(I);
var k=$.I("div");I.appendChild(k);this.q2=[];for(var Y=0;Y<2;Y++){var a=new ek;this.q2.push(a);a.O("click",this.a6i,this);
k.appendChild(a.Z)}this.Co=new bB(192);console.log("hsb picker");this.Co.O(M.E.B,this.Bn,this);this.QM=new jI;
this.QM.parent=this;I.appendChild(this.Co.Z);this.wu(this.wY,f9._7)};fI.prototype.a6i=function(I){var k=I.currentTarget,a=this.q2.indexOf(k);
if(a==this.rH){this.QM.fp(a)}else{this.rH=a;this.lX()}};fI.prototype.Bn=function(I){var k=this.Co.l();
this.Co.j(k);var a=Math.round(k.$*255)<<16|Math.round(k.H*255)<<8|Math.round(k.J*255),n=new d2(M.E.b,!0);
n.data={q:M.p.iv,CU:f9.S8,ar:this.rH,P:a};this.a(n);this.a1J=Date.now()};fI.prototype.lX=function(){if(this.QM==null)return;
var I=this.wY,k=this.rH,a=[I.MW,I.U2];for(var Y=0;Y<2;Y++){var n=this.q2[Y],s=n.Z.style;n.c1(a[Y]);if(Y==k)s.filter="drop-shadow(0 0 1px #000000)"}var C=a[k];
if(Date.now()-this.a1J>100)this.Co.j({$:(C>>>16)/255,H:(C>>>8&255)/255,J:(C&255)/255})};fI.prototype.wu=function(I,k){this.wY=I;
if(this.QM==null)return;if(k==f9._7||k==f9.S8){this.QM.aaL(I.MW,I.U2);this.lX()}};fI.prototype.tc=function(){this.tq()};
fI.prototype.UU=function(){this.tq();this.lX()};function cB(){aX.call(this,"CSS",!1,"---panels/css",aX.Hg.CSS);
this.Tt=null;var I=$.I("div","padded");this.zo.appendChild(I);this.Vv=$.I("textarea");$.bw(this.Vv);
I.appendChild(this.Vv)}cB.prototype=new aX("");cB.prototype.bb=function(I,k){if(this.Qq==I)return;this.Qq=I;
this.Vv.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(I-10)+"px; height:"+(k-10)+"px")};
cB.prototype.tc=function(I){this.Tt=I;this.lX()};cB.prototype.wu=function(I,k){if(k==f9.xr)this.lX()};
cB.prototype.lX=function(){var I=this.Tt;if(I==null||I.T.length==0)return;if(!$.TU(this.zo))return;var k=I.R[I.T[0]],a=CSS.aea(k,I);
if(a.length!=0)this.Vv.value=a.join(";\n")+";";else this.Vv.value=""};cB.prototype.UU=function(){this.lX()};
function kw(){aX.call(this,"Text to Image",!1,null,aX.Hg.a4$);this.Tt=null;this.aBE=["512x512","1024x1024"];
this.if=0;this.y$={};this.LF=null;var I=["API Key","Generate"],k=this.uX=[new ja("Prompt",null,null,4),new dI("Inpaint the selection"),new iP([12,49],!0,null,!0)];
k[0].j("goat riding a bike");var a=$.I("div","form padded labfxd");this.zo.appendChild(a);for(var n=0;
n<k.length;n++){k[n].parent=this;a.appendChild(k[n].Z);if(n==2)k[n].O("click",this.a1Z,this)}this.rP=$.I("div","scrollable");
a.appendChild(this.rP);kw.akN=kw.prototype.aip.bind(this)}kw.prototype=new aX("");kw.prototype.a1Z=function(){var I=this.uX,k=I[0].l().trim(),a=I[1].l(),n=a?this.Tt:null;
if(!kw.uf(n))return;var s=function(){var C=kw.a8i(!0,null,k,n);if(C==1)$.fO(this.zo,"disabled")}.bind(this);
kw.f7(s)};kw.akN=null;kw.bC=0;kw.avO=null;kw.f7=function(I){if(!bU.Oa()&&$.t3()){var k="Go Premium for the unlimited access ($5 a month, press \"Account\" at the top). Or would you like to watch a short ad to do it for free?";
gP.f7(I,k,"inpa")}else I()};kw.uf=function(I){if(I&&kw.p_(I)==null){alert("Your area is too big, we support only smaller areas.");
return!1}return!0};kw.p_=function(I){function k(D,o){if((D&o)==0)return D;return D+o+1-(D&o)}var a=I.R[I.T[0]].rect,n=I.f.rect.LU(a),T=7;
if(n.c()>1e3*1e3)return null;var s=k(n.Q,7)*k(n._,7)*1.2>512*512||Math.max(k(n.Q,7),k(n._,7))>1024;if(Math.max(n.Q,n._)>1024*(s?2:1))return null;
var C=512*512;if(s){C=1024*1024;T=15}while(!0){var S=n.clone();S.CJ(1,1);S=S.LU(a);if(S.c()>n.c()&&k(S.Q,T)*k(S._,T)<=C)n=S;
else break}n.Q=k(n.Q,T);n._=k(n._,T);return n};kw.a8i=function(I,k,a,n,s,C){if(!navigator.onLine){alert("Get online to use this feature.");
return}var T=n?kw.p_(n).c()>512*512:!0,S,D,o="l6(--.4;KXQHFL?@NJivodh\\jp\"/(v{sw\":G@#';::FH<9OEDRR`hQ&W3]2cpx}q|%.>KD9=-1>:<DDGYZS\\^R(X-^76:{'3@9#254:c[^4FBiCG_OZ{Tcd)~,%zn%$D~&|&'FSL7?D8CKTLTPmzs^fdr`mtktu5B;*!61(5<3<=\\ib<s.RjZe&Gd{'4-\"r\"('#3ERK1@@FI;pODSL`cUj{Z";
o=JSON.parse(dz.R8(o));var v=dz.R8("UYqalMih`cpkf~knry{,$2(:3.A48@BEXG^QPdeicnahzzqu'(\" %5&(.5G4KP>GV[[MOUkm]acll|"),g={};
g[o[11]]=I?v:k;var d={};d[o[0]]=a;d[o[1]]=T?2:1;d[o[2]]=30;d[o[3]]=n?o[4]:o[5];d[o[12]]=o[13];if(C)for(var R in C)d[R]=C[R];
console.log(d);var c=o[6]+(n==null?o[7]:o[8]),e=new XMLHttpRequest;e.open("POST",c,!0);for(var O in g)e.setRequestHeader(O,g[O]);
if(s==null)s=kw.akN;e.onload=s;e.responseType="arraybuffer";if(n==null){e.setRequestHeader("content-type","application/x-www-form-urlencoded");
var U=[];for(var R in d)U.push(encodeURIComponent(R)+"="+encodeURIComponent(d[R]));e.send(U.join("&"));
S=D=512}else{var K=kw.p_(n),_=n.R[n.T[0]],Z=n.f,H=j.U(K.c()*4);j.ao(_.buffer,_.rect,H,K);var G=j.U(K.c());
j.O0(Z.channel,Z.rect,G,K);j.round(G);for(var Y=0;Y<G.length;Y++)if(H[Y*4+3]<128)G[Y]=255;if(T){console.log("downscaling");
var N=j.tR(H,K);H=N.GG;var z=j.lF(G,K);G=z.GG;K=z.rect}var L=kk.wV("jpg"),p=L.G0([[H.buffer]],K.Q,K._,[90]),V=j.U(K.c()*4);
V.fill(255);j.bS(G,V);var r=UPNG.encode([V.buffer],K.Q,K._,null,null,null,!0),y=new FormData;y.append(o[9],new Blob([p],{type:"image/jpeg"}));
y.append(o[10],new Blob([r],{type:"image/png"}));for(var R in d)y.append(R,d[R]);e.send(y);S=K.Q;D=K._}kw.avO=[S,D,T,I];
return 1};kw.ou=function(I){kw.bC=Date.now();var k=this.avO,a=k[0],n=k[1],s=k[2],C=k[3],S=30;if(!C)return;
var T=bU.Oa()?"Premium":"Free",D=Math.max(a*n,512*512),o=(D*6849e-9-1.133)*Math.max(S,10);if(s==2)o+=D*49278e-9;
for(var Y=0;Y<o;Y++)bU.event("dez"+"go_De"+"zgo "+T+(I?" "+I:""))};kw.prototype.aip=function(I){var k=this.uX;
$.St(this.zo,"disabled");var a={created:Math.round(Date.now()/1e3),data:[{b64_json:kk.Tk(I.target.response)}]},n=this.y$,s=k[0].l().trim();
if(n[s]==null)n[s]=[];n[s].push(a);kw.ou();this.lX()};kw.prototype.bb=function(I,k){if(this.Qq==I)return;
this.Qq=I;this.zo.style.width=I-16+"px";this.rP.style.height=k-190+"px"};kw.prototype.tc=function(I,k){this.Tt=I;
if(I)this.if=k.indexOf(I);this.lX()};kw.prototype.wu=function(I,k){};kw.prototype.k=function(I,k){aX.prototype.k.call(this);
var a=this.uX,s=" target=\"_blank\" style=\"color:inherit;\">";for(var n=0;n<a.length;n++)this.uX[n].k()};
kw.prototype.lX=function(){var I=this.rP,k=this.y$;$.GD(I);var a=[];for(var n in k){k[n].sort(function(R,c){return c.created-R.created});
a.push([n,k[n]])}a.sort(function(R,c){return c[1][0].created-R[1][0].created});var s=this.asN.bind(this),C=this.LF=[[],[]];
for(var Y=0;Y<a.length;Y++){var n=a[Y][0],T=a[Y][1],S=$.I("div");S.textContent=n;I.appendChild(S);for(var D=0;
D<T.length;D++){var o=T[D].data;for(var v=0;v<o.length;v++){var g=o[v].b64_json,d=$.I("img");d.setAttribute("src","data:image/png;base64,"+g);
d.onclick=s;d.style.width=128/$.Y()+"px";d.style.marginRight="4px";d.style.cursor="pointer";I.appendChild(d);
C[0].push(d);C[1].push(o[v])}}}};kw.prototype.asN=function(I){var Y=this.LF[0].indexOf(I.target),k=this.LF[1][Y].b64_json,a=kk.gu(k);
ji.Td({url:"file",if:this.if},a,this)};kw.prototype.UU=function(){this.lX()};function a3(){aX.call(this,[9,6],!1,"---panels/info",aX.Hg.ac2);
this.zo.setAttribute("style","min-width:240px;");this.Tt=null;this.wY=null;this.JM=null;var I=this.GC=[];
for(var k=0;k<3;k++){var a=$.I("div","marged row");this.zo.appendChild(a);var n=$.I("div","cell");n.setAttribute("style","width:10em");
a.appendChild(n);var s=$.I("div","cell");s.setAttribute("style","width:10em");a.appendChild(s);var C=[8,4,3][k];
for(var Y=0;Y<C;Y++){var T=new gv("");I.push(T);T.j(0);T.Z.style.padding="0";var S=Y<(k==1?2:4)?n:s;
S.appendChild(T.Z);$.FI(S)}if(k<2)$.Se(this.zo)}this.gX=I[8];this.YN=I[9];this.t0=I[10];this.AK=I[11];
$.Se(this.zo);this.JM=$.I("div");this.JM.setAttribute("style","min-width:240px;display:flex;flex-direction:row;flex-wrap:wrap;");
this.zo.appendChild(this.JM)}a3.prototype=new aX("");a3.prototype.Fr=function(I,k,a,n,s){if(!$.TU(this.zo)||I==null)return;
var C=I.w.m_(s.x,s.y),T=new kK(Math.floor(C.x),Math.floor(C.y));if(!s.ZT){var S=0,D=0,o=0,v=0,g=this.GC;
if(!s.ZT&&!I.a1E()&&new eZ(0,0,I.Q-1,I._-1).oi(T)){var d=I.TB(),Y=I.Q*T.y+T.x<<2;S=d[Y+0];D=d[Y+1];o=d[Y+2];
v=d[Y+3]}var R=j.MP([S/255,D/255,o/255]);g[0].j("R: "+S);g[1].j("G: "+D);g[2].j("B: "+o);g[3].j("A: "+v);
g[4].j("C: "+Math.round(R[0]*100)+"%");g[5].j("M: "+Math.round(R[1]*100)+"%");g[6].j("Y: "+Math.round(R[2]*100)+"%");
g[7].j("K: "+Math.round(R[3]*100)+"%");var c=j.arb(S,D,o);g[12].j("H: "+Math.round(c.L4*360)+"\xB0");
g[13].j("S: "+Math.round(c.Yl*100)+"%");g[14].j("B: "+Math.round(c.J*100/255)+"%")}var e=I.w.F>1?new kK(C.x,C.y):T;
this.gX.j("X: "+j.wJ.qO(e.x,I.oE,a,I.Q));this.YN.j("Y: "+j.wJ.qO(e.y,I.oE,a,I._));this.ta()};a3.prototype.ta=function(){var I=this.Tt,k=this.wY,a=0,n=0;
if(I&&k){if(I.w.uR){a=I.w.uR.Q;n=I.w.uR._}else if(I.f){a=I.f.rect.Q;n=I.f.rect._}a=j.wJ.qO(Math.abs(a),I.oE,k,I.Q);
n=j.wJ.qO(Math.abs(n),I.oE,k,I._)}this.t0.j(hJ.get([12,41]).charAt(0)+": "+a);this.AK.j(hJ.get([12,42]).charAt(0)+": "+n)};
a3.prototype.k=function(){aX.prototype.k.call(this);this.ta()};a3.prototype.UU=function(){this.tc(this.Tt,null,this.wY)};
a3.prototype.tc=function(I,k,a){this.Tt=I;this.wY=a;if(!$.TU(this.zo))return;console.log("update");this.ta();
if(I&&I.T.length!=0){var n=I.T[0],s=I.R[n],C=fo.get(s.add)!=null,T=C&&I.T[0]>0;this.JM.innerHTML="";
for(var Y=0;Y<I.wQ.length;Y++){var S=I.wQ[Y],s=I.w.kF(S.x,S.y),D=E.aY.jx(I,s,1,T?1:2),o={$:D>>>16&255,H:D>>>8&255,J:D&255},e="<span style=\"display:inline-block; width:25px; text-align:right\">",O="</span>";
if(T){var v=I.T[0];I.T[0]=n-1;var g=E.aY.jx(I,s,1,1),d={$:g>>>16&255,H:g>>>8&255,J:g&255};I.T[0]=v}var R=$.I("div");
R.setAttribute("style","padding: 0.5em 0.5em; width: 40%");var c="<b>#"+(Y+1)+"</b>",U=[o.$,o.H,o.J],K=T?[d.$,d.H,d.J]:null,_=["R","G","B"];
for(var Z=0;Z<3;Z++)c+="<br/>"+e+_[Z]+O+": "+(T?e+K[Z]+O+" /":"")+e+U[Z]+O;R.innerHTML=c;this.JM.appendChild(R)}}};
function aq(){aX.call(this,[9,1],!1,"---panels/layers",aX.Hg.xf);this.m3=null;this.ES=[];this.Z9=null;
this.TP=null;this.Jg=$.I("div","lphead");this.sN=$.I("div","lpbody scrollable");this.sN.addEventListener("scroll",this.au3.bind(this),!1);
this.ud=$.I("div","lpfoot");var I=this.a7T=$.I("span");I.setAttribute("style","display:inline-block; height:26px");
this.Jg.appendChild(I);this.xT=new fB(null,aU.L6,aU.e2);this.xT.O(M.E.B,this.anB,this);this.Jg.appendChild(this.xT.Z);
this.pe=new fM([12,0],0,100,"%",0);this.pe.O(M.E.B,this.avb,this);this.pe.parent=this;this.Jg.appendChild(this.pe.Z);
this.cg=new da([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"miniscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.cg.O(M.E.B,this.aur,this);this.Jg.appendChild(this.cg.Z);this.dV=new fM([12,26],0,100,"%",0);this.dV.O(M.E.B,this.aaG,this);
this.dV.parent=this;this.Jg.appendChild(this.dV.Z);this.M$=[];this.C6();if(ht==0)this.zo.appendChild(this.Jg);
this.zo.appendChild(this.sN);this.sN.addEventListener("dragover",function(s){s.preventDefault()},!1);
this.sN.addEventListener("dragenter",$.dR,!1);this.sN.addEventListener("drop",this.adT.bind(this),!1);
this.zo.appendChild(this.ud);this.zo.addEventListener("contextmenu",$.dR,!1);if(ht==0)this.O("rclick",this.azS,this);
var k=function(s,C,Y){return{nK:this.gt[Y]==1}}.bind(this);if(ht==0){this.a8d=new io([{name:[0,6],e:k},{name:[14,10],e:k},{name:[6,57,2],e:k,g6:!0},{name:"Long-tap as a right click",e:k,g6:!0},{name:"\u2796 Thumbnail Size"},{name:"\u2795 Thumbnail Size"},{name:"Thumbnails by Layer",e:function(){return{nK:bA.cr==0,e:!0}}},{name:"Thumbnails by Document",e:function(){return{nK:bA.cr==1,e:!0}}}]);
this.a8d.O("select",this.aqH,this)}this.gt=[0,1,1,0];var a=window.locStor;if(a){var n=a.getItem("lpOpt");
if(n){n=JSON.parse(n);this.gt=n[0];bA.Ob=n[1];bA.cr=n[2]}}this.aqH()}aq.prototype=new aX("");aq.Cx=function(I){var k=I==null?0:I.T.length;
return{e:k!=0&&(k!=1||I.T[0]!=0)&&(k!=1||!I.R[I.T[0]].hd()||I.R[I.T[0]].K7()),qr:hJ.get(k>1||k==1&&I.R[I.T[0]].hd()?[6,12,0]:[6,10])}};
aq.prototype.sW=function(){if(this.ag6)return;var I=d5.e$(!0),k=d5.x4(!0);this.ag6=new io(I,k);var I=[{name:[14,10]},{name:[14,11],g6:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],g6:!0},{name:[6,7,0]},{name:"New Smart Obj. via Copy",e:function(a){return{e:a.R[a.T[0]].add.SoLd!=null}},g6:!0},{name:[6,8],e:aq.asH},{name:[6,34],e:function(a){var n=a.R[a.T[0]];
return{e:n.add.lmfx!=null&&!n.hd()}}},{name:[6,40],g6:!0,e:function(a){var n=a.R[a.T[0]];return{e:n.add.TySh!=null}}},{name:"",g6:!0,e:function(a){var n=a.R[a.T[0]],s=n.add.TySh,C=s?s.RW:null;
return{e:s!=null&&C.Curve==null,qr:hJ.get(s&&f4.Dd(C)==0?[16,3,1]:[16,3,0])}}},aq.aEX(!1),d5.adt(),{name:[6,12,0],e:aq.Cx},{name:[6,12,1],g6:!0},{name:[13,0],sub:function(){var a=[];
for(var Y=0;Y<hp.Ze.length;Y++)a.push({name:[13,1,Y],yd:"#"+j.pB(hp.Ze[Y])});return a}()}],k=[{K:M.E.b,v:{q:M.p.Fu,aw:"layerstyle"}},{K:M.E.r,S:E.FQ,v:{q:"fromlayer",ri:[null,0,0]}},{K:M.E.r,S:E.xf,v:{q:X.T0}},{K:M.E.b,v:{q:M.p.Fu,aw:"duplinto"}},{K:M.E.r,S:E.xf,v:{q:X.Va}},{K:M.E.rd,v:{pi:"newPlacedLayer"}},{K:M.E.r,S:E.xf,v:{q:X.o4}},{K:M.E.rd,v:{pi:"rasterizeLayer",zf:{classID:"rasterizeLayer",null:hW.Pg("Lyr",!0)}}},{K:M.E.rd,v:{pi:"rasterizeLayer",zf:{classID:"rasterizeLayer",null:hW.Pg("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"layerStyle"}}}}},{K:M.E.r,S:E.xf,v:{q:X.asP}},{K:M.E.r,S:E.N$,v:{q:"switchPntPrgr"}},{K:M.E.r,S:E.xf,v:{q:X.oH}},d5.aul(),{K:M.E.rd,v:{pi:"mergeLayersNew",zf:{__name:"Merge Layers",classID:"Mrg2"}}},{K:M.E.rd,v:{pi:"flattenImage"}},{sub:function(){var a=[];
for(var Y=0;Y<8;Y++)a.push({K:M.E.r,S:E.xf,v:{q:X.MR,a5z:Y}});return a}()}];this.Bw=new io(I,k);var I=[{name:[6,45],e:function(a){var n=a.R[a.T[0]];
return{e:n.kx(a).u==null}}},{name:[6,47]}],k=[{K:M.E.r,S:E.xf,v:{q:X.lP}},{K:M.E.r,S:E.xf,v:{q:X.YS}}];
this.aoD=new io(I,k);var I=[{name:"enab/disab",e:function(a){return{qr:hJ.get(a.R[a.T[0]].IO().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],e:function(a){return{e:a.rb(!1,!0)}}}],k=[{K:M.E.r,S:E.xf,v:{q:X.AZ}},{K:M.E.r,S:E.xf,v:{q:X.Ro}},{K:M.E.r,S:E.xf,v:{q:X.iR}}];
this.aAc=new io(I,k);var I=[{name:"enab/disab",e:function(a){return{qr:hJ.get(a.R[a.T[0]].kx(a).u.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],k=[{K:M.E.r,S:E.xf,v:{q:X.oV}},{K:M.E.r,S:E.xf,v:{q:X.hw}}];
this.akW=new io(I,k);var I=[{name:"enab/disab",e:function(a){return{qr:hJ.get(a.R[a.T[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],k=[{K:M.E.r,S:E.xf,v:{q:X.EF}},{K:M.E.r,S:E.xf,v:{q:X.UN}},{K:M.E.r,S:E.xf,v:{q:X.mR}}];
this.a46=new io(I,k);this.anF=new io(d5.agN(!0),d5.gJ(!0));this.a7v=new io(d5.e$(),d5.x4())};aq.prototype.au3=function(I){var k=this.sN.scrollTop-600;
for(var Y=0;Y<this.ES.length;Y++){var a=this.ES[Y],n=a.CZ;if(k<a.CZ)a.adM();if(a.CZ>k+this.L4+600)break}};
aq.prototype.eZ=function(){return this.a8d};aq.prototype.aqH=function(I){var k=this.gt;if(I){var a=I.target.Ke(),Y=a[0];
if(Y<4)k[Y]=1-k[Y];else if(Y<6){if(Y==4&&bA.Ob-10>=10)bA.Ob-=10;if(Y==5&&bA.Ob+10<=200)bA.Ob+=10;if(this.Z9)this.Z9.q_=!0}else{if(Y==6)bA.cr=0;
if(Y==7)bA.cr=1;if(this.Z9)this.Z9.q_=!0}var n=window.locStor;if(n)n.setItem("lpOpt",JSON.stringify([k,bA.Ob,bA.cr]))}if(k[0]==1)this.aav();
var s=[[{Z:this.a7T}],[this.xT,this.pe],[this.cg,this.dV]];for(var Y=0;Y<3;Y++)for(var C=0;C<s[Y].length;
C++)s[Y][C].Z.style.display=k[Y]==1?"inline-block":"none";this.bb(this.Qq,this.L4)};aq.prototype.aa$=function(){var I=this.b7;
if(I==null)return!1;if(I.l()){var k=this.vK.l(),a=this.f9[k].l();if(k==0)return a.indexOf(!0)!=-1;if(k==1)return a!=""}return!1};
aq.aEX=function(I){var k=function(n){var s=n!=null&&n.T.length!=0&&n.R[n.T[0]].Pi;return{nK:s,e:n!=null&&n.Py(n.T[0]),v:{K:M.E.rd,v:{pi:s?"ungroup":"groupEvent",zf:{classID:s?"Ungr":"GrpL",null:hW.Pg("Lyr",!0)}}}}},a={name:[6,6,0],g6:!0,e:k};
if(I)a.kA=[as.dE,as.nU,as.Rt];return a};aq.asH=function(I,k){if(I)for(var Y=0;Y<I.T.length;Y++){var a=I.R[I.T[Y]];
if(a.add.TySh||a.add.SoLd||a.add.SoCo||a.add.GdFl||a.add.PtFl)return{e:!0}}return{e:!1}};aq.prototype.adT=function(I){$.dR(I);
var k=I.dataTransfer.getData("Text"),a=1,n=0;if(k==""){$.bR(I,this,this.TP.indexOf(this.Z9),n+(a>.5?0:1))}else if(k!="--panel"){var k=JSON.parse(k),s=k._W;
if(s=="l")this.A4({q:X._k,source:k.BO,target:n,p1:a})}};aq.prototype.azS=function(I){var k=this.Z9,a=I.data,s;
if(k.T.indexOf(a.o)==-1){var n={q:X.u5,o:I.target.Sp.index,h7:a.YY};this.A4(n)}if(k.T.indexOf(a.o)==-1)return;
this.sW();if(a.YY==1){s=this.aAc}else if(a.YY==2){s=this.a46}else if(a.YY==3){s=this.akW}else if(a.YY==4){s=this.aoD}else if(a.YY==5){s=this.ag6}else{s=this.Bw}s.k();
s.update(k);s.parent=this;var C=new d2(M.E.b,!0);C.data={q:M.p.ut,zM:s,x:a.pN.x+1,y:a.pN.y+1};this.a(C)};
aq.prototype.k=function(){aX.prototype.k.call(this);this.xT.k();this.pe.k();this.cg.k();this.dV.k();
if(this.b7){this.b7.k();this.f9[0].k()}if(this.Z9)this.tc(this.Z9);var I="lrs/link lrs/fx lrs/mask lrs/adj lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var Y=0;Y<this.M$.length;Y++){var k=this.M$[Y];k.jO($.z5(I[Y],null,"miniscale"));if(Y==1||Y==3){k.Z.style.position="relative";
var a=$.I("img","gsicon");a.setAttribute("src",PIMG["tools/corner"]);a.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%;  height:100%;");
k.Z.appendChild(a)}}};aq.prototype.tc=function(I,k){if(I&&!I.q_)return;if(I==null)$.fO(this.zo,"disabled");
else $.St(this.zo,"disabled");this.Z9=I;this.TP=k;if(this.m3!=null){$.GD(this.sN);this.m3=null;this.ES=[]}if(I==null)return;
var a=!1;for(var Y=0;Y<I.TL.length;Y++)if(I.TL[Y].zh)a=!0;this.m3=new hp(I.root,this,I,{Ej:0,j5:!1},{anE:a,avj:this.aa$()},this.ES,0,new eZ(0,0,I.Q,I._));
if(I.T.length==0||I.R[I.T[0]]==null)$.fO(this.Jg,"disabled");else{$.St(this.Jg,"disabled");if(I.T.length==1&&I.Me){var n=I.T[0];
for(var Y=0;Y<this.ES.length;Y++){var s=this.ES[Y];if(s.Sp.index==n&&s.Jg.scrollIntoView)s.Jg.scrollIntoView({block:"nearest"})}}var C=I.R[I.T[0]];
if(C.hd()){this.xT.wS([[15,10,27]].concat(aU.L6),[1].concat(aU.e2));var T=aU._B.indexOf(C.pu);this.xT.j(T+1)}else{this.xT.wS(aU.L6,aU.e2);
var T=aU._B.indexOf(C.pu);this.xT.j(T)}this.pe.j(Math.round(100*C.opacity/255));this.cg.j([C.hY(0),C.hY(1),C.hY(2),C.hY(31)]);
var S=I.BY();this.xT.wl(!S);this.dV.wl(!S);this.pe.wl(!S);this.cg.wl(!(S&&!C.hY(31)));this.dV.j(Math.round(100*(C.add.iOpa!=null?C.add.iOpa/255:1)));
this.M$[2].aeg(hJ.get(C.IO()?[6,23]:[6,21]))}this.au3(null)};aq.prototype.bb=function(I,k){this.Qq=I;
this.L4=k;var a=this.Jg.getBoundingClientRect().height;if(55<a&&a<56)a=60.2;var n=this.ud.getBoundingClientRect().height,s=k-(a+n+3);
this.sN.style.height=s+"px";this.sN.style.width=I+"px"};aq.prototype.anB=function(I){this.A4({q:X.zO,WM:this.xT.l()})};
aq.prototype.avb=function(I){this.A4({q:X.jT,WM:Math.round(255*this.pe.l()/100)})};aq.prototype.aur=function(I){this.A4({q:X.gs,WM:[this.cg.l(),[0,1,2,31]]})};
aq.prototype.aaG=function(I){this.A4({q:X.Ik,WM:Math.round(255*this.dV.l()/100)})};aq.prototype.qs=function(I){if(I.target==this.vK)this.aav();
var k=this.b7.l();if(k)$.St(this.iK,"disabled");else $.fO(this.iK,"disabled");this.k();this.Z9.q_=!0;
this.tc(this.Z9);this.Z9.q_=!1};aq.prototype.aav=function(){var I=this.iK;if(I==null){var k=this.a7T,a=this.b7=new dI([0,6]);
a.O(M.E.B,this.qs,this);k.appendChild(a.Z);I=this.iK=$.I("span","disabled");k.appendChild(I);this.vK=new fB(null,["Kind",[12,48]],[]);
this.vK.O(M.E.B,this.qs,this);var n=this.f9=[new da(null,["<img src=\""+PIMG.pix_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/adj"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/htype"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.shape_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.so_layer+"\" class=\"miniscale gsicon\" />"],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new ja(null,null,8)];
n[0].O(M.E.B,this.qs,this);n[1].O("input",this.qs,this)}$.GD(I);I.appendChild(this.vK.Z);I.appendChild(this.f9[this.vK.l()].Z)};
aq.prototype.a74=function(I){this.sW();this.ao3(I,this.anF)};aq.prototype.a7y=function(I){this.sW();
this.ao3(I,this.a7v)};aq.prototype.ao3=function(I,k){var a=I.currentTarget;if($.TU(k.Z))return;I.stopPropagation();
var n=a.getBoundingClientRect();k.k();k.update(this.Z9);k.parent=this;var s=new d2(M.E.b,!0);s.data={q:M.p.ut,zM:k,x:n.left,y:n.top,axR:!0};
this.a(s)};aq.prototype.aEp=function(I){this.A4({q:X.az2})};aq.prototype.awA=function(I){this.A4({q:this.Z9.T.length>1?X.L7:X.ce})};
aq.prototype.ayC=function(I){this.A4({q:X.mT})};aq.prototype.a8g=function(I){var k=this.Z9;if(k.T.length==0)return;
var a=k.R[k.T[0]],n=a.YY;this.A4({q:n<=0?a.fv?X.UN:X.Va:n==3?X.hw:X.Ro})};aq.prototype.axY=function(I){this.A4({q:X.w2})};
aq.prototype.A4=function(I){var k=new d2(M.E.r,!0);k.data=I;k.S=E.xf;this.a(k)};aq.prototype.C6=function(){var I=[[6,54,0],[11,6],[6,21],[6,1],[6,20],[6,13],[5,4]],k=[this.axY,this.a7y,this.aEp,this.a74,this.awA,this.ayC,this.a8g],a=this.adV.bind(this);
for(var Y=0;Y<I.length;Y++){var n=new iP("W",!1,I[Y]);this.M$.push(n);$.Ar(n.Z,k[Y].bind(this));if(ht==0||Y>3&&Y!=5)this.ud.appendChild(n.Z);
if(Y>=I.length-3){var s=n.Z;s.addEventListener("drop",a,!1);s.addEventListener("dragover",function(C){C.preventDefault()},!1);
s.addEventListener("dragenter",$.dR,!1)}}};aq.prototype.adV=function(I){$.dR(I);var k=0,a=this.M$;while(a[k].Z!=I.currentTarget)k++;
a[k].Jw();var n=I.dataTransfer.getData("Text");if(n=="")return;var n=JSON.parse(n);if(n._W=="l"){var s={q:[X.L7,X.T0,X.Va][k-4]};
if(this.Z9.T.indexOf(n.BO)==-1)s.o=n.BO;this.A4(s)}if(k!=6)return;if(n._W=="sm"||n._W=="s"){var C=new d2(M.E.r,!0);
C.S=E.rV;C.data={q:n._W=="sm"?"st_clear":"st_delsingle",o:n.BO,BO:n.Rv};this.a(C)}if(n._W=="fm"||n._W=="f"){this.A4({q:n._W=="fm"?X.YS:X.ph,src:n.BO,Rv:n.Rv})}if(n._W=="m"||n._W=="vm"){this.A4({q:n._W=="m"?X.Ro:X.UN,o:n.BO})}};
function hp(I,k,a,n,s,C,T,S){gB.call(this);this.parent=k;this.CZ=T;this.Sp=I;C.push(this);this.KW=a;
this.Pa=n;var D=k.sN,o=I.o,v=a.T.indexOf(I.index)!=-1,c=null;this.Jg=$.I("div",v?"head selected":"head");
if(o.add.artb!=null){$.fO(this.Jg,"artb");S=o.OR()}var g=this.auS=Math.floor(10+o.ae8/$.Y()),d="height: "+g+"px;";
if(v&&s.anE)d+="background-color:rgba(255,50,50,0.4);";this.Jg.setAttribute("style",d);this.vE=S;var R=this.auP=this.aC7.bind(this),e=s.avj&&!this.afh();
if(!e){if(I.depth!=0){D.appendChild(this.Jg);T+=g-.3}if(o.ez()||o.st())if(o.V0()){c=this.axr=$.I("div","lpineck");
D.appendChild(c);if(o.ez()){c.addEventListener("contextmenu",R,!1);var O=new aq.AV(hJ.get([12,1]),"sm","layerstyle",I.depth,0,null);
T+=21;O.parent=this;c.appendChild(O.Z);var U=o.add.lmfx,K=U.masterFXSwitch.v;O.ol(K);for(var Y=0;Y<fY.order.length;
Y++){var _=U[fY.zQ[Y]].v;if(_.length==0)continue;for(var Z=0;Z<_.length;Z++){var O=new aq.AV(hJ.get(fY.names[Y]),"s","layerstyle",I.depth,1,[Y,Z]);
T+=21;O.ol(K&&_[Z].v.enab.v);O.parent=this;c.appendChild(O.Z)}}}if(o.st()){var H=o.kx(a).u;if(H)this.W8=$.I("div","thumb");
var O=new aq.AV(hJ.get([12,55]),"fm",null,I.depth,0,-1,H?this.W8:null,g);T+=H?g:21;O.parent=this;c.appendChild(O.Z);
this.atU=O.Z;this.atU.addEventListener("contextmenu",R,!1);var U=o.add.SoLd.filterFX.v,G=U.filterFXList.v,K=U.enab.v;
O.ol(K);for(var Y=G.length-1;Y>=0;Y--){var N=G[Y].v,z=gJ.Qa(N);if(fo.ke[z])z=fo.ke[z];var L=N.Nm.v;if(gJ.names[z])L=hJ.get(gJ.names[z]);
if(fo.names[z])L=hJ.get(fo.names[z]);var p="afw_"+z,O=new aq.AV(L,"f",p,I.depth,1,Y);T+=21;O.ol(K&&N.enab.v);
O.parent=this;c.appendChild(O.Z)}}}}var V=o.add.lclr;if(V==null)V=0;V=V==0?n.Ej:hp.Ze[V];this.awk=V;
if(o.hd()&&(o.add.lsct==gA.rW||s.avj)){var r={Ej:V,j5:n.j5||o.hY(31)};for(var Y=I.children.length-1;
Y>=0;Y--){var y=new hp(I.children[Y],k,a,r,s,C,T,S);T=y.ahR}}this.ahR=T}hp.prototype=new gB;hp.Ze=[16777215,16711680,16748544,16763904,4513024,22015,11141375,7829367];
hp.prototype.adM=function(){if(this.tz)return;var I=this.Sp,k=I.o,a=this.KW,n=this.Pa,g=!0,r=!1;I.cO(a,this.vE,!0);
var s=$.I("div","headL"),C=$.I("div","headR");this.Jg.appendChild(s);this.Jg.appendChild(C);var T=this.Jg;
T.setAttribute("draggable","true");T.addEventListener("dragstart",this.u0.bind(this),!1);T.addEventListener("drop",this.uo.bind(this),!1);
T.addEventListener("dragover",this.BW.bind(this),!1);T.addEventListener("dragenter",$.dR,!1);T.addEventListener("dragleave",this.ZK.bind(this),!1);
var S=[],D=[null,null,null,null],o=k.K7(),v=I;while(v.parent){v=v.parent;o=o&&v.o.K7()}if(k.Pi){for(var Y=I.index-1;
Y>=0;Y--){var d=a.R[Y];if(!d.Pi){g=d.K7();break}}}var R=k.K7()?o&&g?2:1:0;this.tz=$.I("div");var c=$.I("div",R==0?"sqr":"eye");
this.tz.appendChild(c);c.style.opacity=[.12,.33,1][R];var e=$.I("div","space");this.bX=$.I("div","label");
this.bX.setAttribute("style","max-width:calc(100% - "+(96+I.depth*20)+"px); margin-top:"+(this.auS-19)/2+"px;"+(k.kb?"text-decoration:underline;":""));
this.bX.textContent=k.getName();this.ZG=$.I("div","lock");this.a73=$.I("div","lrfx");this.Io=$.I("div","arfx");
var O=this.auP,U=this.aiD.bind(this);this.Jg.addEventListener("click",U,!1);this.Jg.addEventListener("contextmenu",O,!1);
var K=this.awk;if(K!=0){var _=[K>>16,K>>8&255,K&255];for(var Y=0;Y<3;Y++){_[Y]="calc("+_[Y]+"*0.7 + (var(--absc)) * 255 * 0.3)"}this.tz.setAttribute("style","background-color:rgba("+_.join(",")+",1);")}var Z=this.arK.bind(this);
this.tz.addEventListener("mousedown",Z,!1);this.tz.addEventListener("mouseover",Z,!1);this.Io.addEventListener("click",this.aca.bind(this),!1);
S[0]=this.tz;S[1]=e;S[10]=this.bX;if(k.hd()){var H=$.I("div","arrow"),G=$.I("div","folder");this.wH(G);
H.addEventListener("click",this.a2E.bind(this),!1);S[2]=H;S[3]=G;H.className=k.add.lsct==gA.rW?"open":"closed"}else{this.cH=$.I("div","thumb");
S[5]=this.cH;hp.kQ(this.cH,k.w8);this.wH(this.cH);if(fo.get(k.add))$.fO(k.w8.canvas,"gsicon")}var N=k.IO();
if(N){this.oQ=$.I("div","chain");this.Z2=$.I("div","thumb");hp.kQ(this.Z2,k.n4,!0);this.oQ.style.opacity=N.n2?1:0;
this.oQ.addEventListener("click",this.aby.bind(this),!1)}var z=k.wc()&&k.add.vmsk;if(k.add.vmsk&&!z){this.KP=$.I("div","chain");
this.la=$.I("div","thumb");hp.kQ(this.la,k.Gl,!0);this.KP.style.opacity=k.add.vmsk.n2?1:0;this.KP.addEventListener("click",this.agg.bind(this),!1)}if(k.st()&&k.V0()&&k.kx(a).u){hp.kQ(this.W8,k.lT,!1);
this.wH(this.W8);this.W8.addEventListener("click",U,!1);this.W8.addEventListener("contextmenu",O,!1)}if(I.index==a.T[0]){var L=k.YY,p;
if(L<=0)p=this.cH;else if(L==1)p=this.Z2;else if(L==3)p=this.W8;if(p)p.className="thumb active";if(k.fv&&this.la)this.la.className="thumb active"}e.setAttribute("style","width:"+Math.max(0,I.depth-1)*18+"px");
var V=k.add.lspf!=null&&k.add.lspf!=0||n.j5;this.ZG.style.opacity=k.hY(31)?1:.5;S[4]=k.Pi?$.I("div","clipp"):null;
S[6]=N?this.oQ:null;S[7]=N?this.Z2:null;S[8]=k.add.vmsk&&!z?this.KP:null;S[9]=k.add.vmsk&&!z?this.la:null;
var y=k.sk,W=a.T;if(y!=0)for(var Y=0;Y<W.length;Y++)if(a.R[W[Y]].sk==y){r=!0;break}if(r){D[0]=$.I("div",k.Fz?"link":"linkX");
D[0].addEventListener("click",this.a1Y.bind(this),!1)}D[1]=V?this.ZG:null;D[2]=k.ez()?this.a73:null;
D[3]=k.ez()||k.st()?this.Io:null;this.Io.className=k.V0()?"arfx open  gsicon":"arfx closed  gsicon";
var m=S;for(var Y=0;Y<m.length;Y++)if(m[Y])s.appendChild(m[Y]);m=D;for(var Y=0;Y<m.length;Y++)if(m[Y])C.appendChild(m[Y])};
hp.kQ=function(I,k,a){var n=k.canvas;$.ZX(n);if(a)I.setAttribute("draggable","true");I.appendChild(n);
n.setAttribute("style",n.getAttribute("style")+"; pointer-events:none")};hp.prototype.wH=function(I){$.Ar(I,function(k){if(this.parent.gt[3]==0)return;
$.V$(k);$.hf(document.body,function(){clearTimeout(this.awU)}.bind(this));this.awU=setTimeout(function(){var a=new d2("rclick",!0);
a.data={o:this.Sp.index,YY:this.YY(k),pN:$.Ea(k,document.body)};this.a(a)}.bind(this),600)}.bind(this))};
hp.t7=function(I,k){var a=k.getBoundingClientRect();return(I.clientY-a.top)/a.height};hp.prototype.u0=function(I){I.stopPropagation();
var k=I.target==this.Z2?"m":I.target==this.la?"vm":"l";I.dataTransfer.setData("Text",JSON.stringify({_W:k,BO:this.Sp.index}))};
hp.prototype.ZK=function(I){$.dR(I);this.FN()};hp.prototype.uo=function(I){$.dR(I);this.FN();var k=I.dataTransfer.getData("Text"),a=this.parent.Z9,n=hp.t7(I,this.Jg),s=this.Sp.index;
if(n>.8){var C=!0,T=a.root.lR(s);while(T.parent!=null){var S=T.parent,D=S.children;if(D.indexOf(T)!=0)C=!1;
T=T.parent}if(C){s=0;n=1}}if(k==""){$.bR(I,this,this.parent.TP.indexOf(a),s+(n>.5?0:1))}else if(k!="--panel"){var k=JSON.parse(k),o=k._W;
if(o=="l")this.A4({q:X._k,source:k.BO,target:s,p1:n});else if(o=="m"||o=="vm")this.A4({q:o=="m"?X.apD:X.zY,src:k.BO,DR:s});
else hp.aD9(I,k,this)}};hp.aD9=function(I,k,a,n){var s=k._W,C=a.Sp.index,T=k.BO;if(s=="s"||s=="sm")a.A4({q:X.qk,src:T,DR:C,Rv:k.Rv});
if(s=="f"||s=="fm")a.A4({q:X.a3m,src:T,DR:C,Rv:k.Rv,Xn:n==null?0:n})};hp.prototype.BW=function(I){$.dR(I);
var k=hp.t7(I,this.Jg),a=this.Sp.o.hd()&&.5<k&&k<.8;this.FN();var n="inset 0 "+(a?0:k>.5?-3:3)+"px "+(a?"5px black":"0 rgba(0,0,0,0.5)");
this.Jg.style.boxShadow=n};hp.prototype.FN=function(I){this.Jg.style.boxShadow=""};hp.ap_=-1;hp.J_=!1;
hp.aqw=function(I){hp.J_=!1;document.body.removeEventListener("mouseup",hp.aqw)};hp.prototype.arK=function(I){if(I.button!=0)return;
if(I.type=="mousedown"){hp.J_=!0;document.body.addEventListener("mouseup",hp.aqw,!1)}if(I.type=="mouseover"&&(!hp.J_||hp.ap_==this.Sp.index))return;
$.dR(I);this.A4({q:X.Jn,o:this.Sp.index});hp.ap_=this.Sp.index};hp.prototype.a2E=function(I){$.dR(I);
this.A4({q:X.agd,o:this.Sp.index})};hp.prototype.aby=function(I){this.A4({q:X.$M,o:this.Sp.index})};
hp.prototype.agg=function(I){this.A4({q:X.Jx,o:this.Sp.index})};hp._w=0;hp.prototype.QC=function(I){this.A4({q:X.kg,o:this.Sp.index,name:I})};
hp.prototype.aca=function(I){this.A4({q:X.ayH,o:this.Sp.index})};hp.prototype.a1Y=function(I){this.A4({q:X.H$,o:this.Sp.index})};
hp.prototype.aC7=function(I){if(I.button!=2&&!$.adZ(I)&&!(I.ctrlKey&&as.WQ()))return;var k=this.YY(I);
if(k!=3&&I.currentTarget==this.atU)k=4;if(I.target==this.a73||I.currentTarget==this.axr)k=5;var a=new d2("rclick",!0);
a.data={o:this.Sp.index,YY:k,pN:$.Ea(I,document.body)};this.a(a)};hp.prototype.YY=function(I){var k=I.target,a=k;
return a==this.la?2:a==this.Z2?1:a==this.cH?0:a==this.W8?3:-1};hp.prototype.aiD=function(I){var k=I.target,R;
if(k==this.tz.firstChild||k==this.Io||k==this.oQ||k==this.KP||k.tagName&&k.tagName.toLowerCase()=="input")return;
var a=this.YY(I),n=this.parent.Z9,s=this.Sp.index,C=n.R[s];if(k==this.ZG){this.A4({q:X.gs,o:s,WM:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}var T=hp._w,S=Date.now()-T<300;hp._w=Date.now();if(k==this.bX){if(S){this.Jg.setAttribute("draggable","false");
var D=new aX.og(this.bX,this.QC.bind(this))}else this.A4({q:X.u5,o:s,h7:a,a0:!0});return}if(ht==0&&I.button==0&&S){if(k==this.bX)return;
var o=new d2(M.E.r,!0),v=new d2(M.E.b,!0),g=new d2(M.E.rd,!0);if(a==0&&C.add.SoCo){var d=j.G.GW(C.add.SoCo.Clr.v);
v.data={q:M.p.Fu,aw:"colorpicker",Ej:d.$<<16|d.H<<8|d.J,XP:function(O){var U=j.G.pI({J:O&255,H:O>>>8&255,$:O>>16&255});
U={classID:"null",Clr:{t:"Objc",v:U}};var K=new d2(M.E.r,!0);K.S=E.xf;K.data={q:X.AU,l6:[s],M2:!0,P:{nE:1,aG:U}};
this.a(K)}.bind(this),Ph:!0}}else if(a==0&&(fo.get(C.add)||C.add.SoCo||C.add.GdFl||C.add.PtFl))v.data={q:M.p.N7,aw:aX.Hg.XS};
else if(a!=0&&a!=-1)v.data={q:M.p.N7,aw:aX.Hg.XS};else if(a==0&&C.add.SoLd)g.data={pi:"placedLayerEditContents",zf:{classID:"placedLayerEditContents"}};
else if(a==0&&C.add.TySh){o.S=E.N$;o.data={q:"editCurr",qb:s}}else v.data={q:M.p.Fu,aw:"layerstyle",o:s};
this.a(g.data?g:v.data?v:o);return}if(I.button!=0)return;if(a==1||a==3){var c=a==3?C.kx(n).u:C.IO();
R=c.zh?n.w.N.join("")=="111"?1:2:0}var e={q:X.u5,o:s,h7:a,ax5:R,a0:!0};this.A4(e)};hp.prototype.A4=function(I){var k=new d2(M.E.r,!0);
k.data=I;k.S=E.xf;this.a(k)};hp.prototype.afh=function(){var I=this.Sp.o,k=I.add,a=this.parent.vK.l(),n=this.parent.f9[a].l();
if(a==0){if(n[0]&&k.SoLd==null&&k.TySh==null&&I.Lk())return!0;if(n[1]&&fo.get(k)!=null)return!0;if(n[2]&&k.TySh!=null)return!0;
if(n[3]&&k.vstk!=null)return!0;if(n[4]&&k.SoLd!=null)return!0;return!1}if(a==1)return I.getName().toLowerCase().indexOf(n.toLowerCase())!=-1};
aq.AV=function(I,k,a,n,s,C,T,S){gB.call(this);this.a0y=k;this.Dg=a;this.index=C;this.Z=$.I("div","styleitem");
this.Jg=$.I("div","head");this.ath=null;if(k=="f"){var D=this.ath=$.I("div","headR");D.textContent="\u2699";
this.Jg.appendChild(D)}this.tz=$.I("div","eye gsicon");this.bX=$.I("div","label");this.Z.appendChild(this.Jg);
this.Jg.appendChild(this.tz);if(T){this.Z2=T;this.Jg.appendChild(T);this.Jg.setAttribute("style","height: "+S+"px")}this.bX.innerHTML=I;
this.Z.setAttribute("style","margin-left: "+(24+n*16+s*22)+"px");this.Jg.appendChild(this.bX);this.tz.addEventListener("click",this.ahl.bind(this),!1);
var o=this.Z;o.setAttribute("draggable","true");o.addEventListener("dragstart",this.u0.bind(this),!1);
if(!0){o.addEventListener("drop",this.uo.bind(this),!1);o.addEventListener("dragover",this.BW.bind(this),!1);
o.addEventListener("dragenter",$.dR,!1);o.addEventListener("dragleave",this.ZK.bind(this),!1)}this.Z.addEventListener("click",this.pE.bind(this),!1)};
aq.AV.prototype=new gB;aq.AV.prototype.u0=function(I){I.stopPropagation();I.dataTransfer.setData("Text",JSON.stringify({_W:this.a0y,BO:this.parent.Sp.index,Rv:this.index}))};
aq.AV.prototype.ZK=function(I){$.dR(I);this.FN()};aq.AV.prototype.uo=function(I){$.dR(I);this.FN();var k=I.dataTransfer.getData("Text");
if(k=="")return;var k=JSON.parse(k);hp.aD9(I,k,this.parent,this.index+(hp.t7(I,this.Jg)>.5?0:1))};aq.AV.prototype.BW=function(I){$.dR(I);
var k=hp.t7(I,this.Jg)>.5;this.FN();var a="border-"+(k?"bottom":"top");this.Jg.style[a]="0.2em solid rgba(0,0,0,0.5)"};
aq.AV.prototype.FN=function(I){this.Jg.style.border="none"};aq.AV.prototype.ol=function(I){this.tz.style.opacity=I?1:.2};
aq.AV.prototype.pE=function(I){var k=hp._w,a=Date.now()-k<300;hp._w=Date.now();if(I.target==this.tz)return;
var n=this.parent.Sp.index;if(a&&this.Dg!=null){var n=this.parent.Sp.index,s=new d2(M.E.b,!0);if(this.Dg.indexOf("afw_")==0){var C=this.Dg.slice(4),T=ke[C]||gJ.L[C],S=I.target==this.ath;
if(!S&&!T)return;s.data=E.S0.aos(S?"blendOptions":C,{o:n,index:this.index})}else s.data={q:M.p.Fu,aw:this.Dg,o:n,index:this.index};
this.a(s)}else{if(I.target.className!="thumb")this.parent.A4({q:X.u5,o:n,h7:0})}};aq.AV.prototype.ahl=function(I){var k={fm:X.K$,f:X.CK,sm:X.eB,s:X.Op}[this.a0y];
this.parent.A4({q:k,o:this.parent.Sp.index,index:this.index})};function cO(){aX.call(this,"Guide Guy",!1,"---panels/guideguy",aX.Hg.ay6);
this.Tt=null;this.PF=new fB(null,j.wJ.g7)}cO.prototype=new aX("");cO.prototype.tq=function(){this.GC=[];
var I=$.I("div","form padded");this.zo.appendChild(I);I.setAttribute("style","width:200px");this.zo.appendChild(I);
var k=$.I("canvas"),a=k.getContext("2d");k.width=k.height=160;var n=[32,0,16,160,0,32,160,16,0,112,160,16],s="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),C=[0,0,0,0,0,0,0,0,0,0];
I.appendChild(this.PF.Z);for(var Y=0;Y<10;Y++){a.clearRect(0,0,160,160);a.setTransform(1,0,0,1,80,80);
a.rotate((Y&3)*Math.PI/2);a.translate(-80,-80);a.fillStyle="rgba(0,0,0,0.3)";if(Y<4){for(var T=0;T<12;
T+=4){a.fillStyle=T==0?"#000000":"rgba(0,0,0,0.3)";a.fillRect(n[T],n[T+1],n[T+2],n[T+3])}}else if(Y<6){var S=8*6;
a.fillRect(0,0,S,160);a.fillRect(8*7,0,S,160);a.fillStyle="#000000";a.fillRect(8*14,0,S,160)}else if(Y<8){a.fillRect(0,0,16,160);
a.fillRect(160-16,0,16,160);a.fillRect(32,0,160-64,160);a.fillStyle="#000000";a.fillRect(32,80-8,160-64,8*1)}else{a.fillRect(0,0,8*7,160);
a.fillRect(8*13,0,160,160);a.fillStyle="#000000";a.fillRect(8*7,80-8,8*6,8*1)}var D="<img src=\""+k.toDataURL()+"\" class=\"autoscale gsicon\" /> ",o=new fM(D,0,200,null,Y==4||Y==5?0:2,null,null,4,s[Y]);
o.parent=this;o.O(M.E.B,this.aqp,this);o.j(C[Y]);o.k();this.GC.push(o);I.appendChild(o.Z)}var v=[[11,14],[11,15,0]];
this.rS=[];for(var Y=0;Y<v.length;Y++){var g=new iP(v[Y],!0,null,!0);this.rS.push(g);g.O("click",this.n$,this);
I.appendChild(g.Z)}for(var Y=0;Y<6;Y++){a.setTransform(1,0,0,1,80,80);a.rotate(Math.floor(Y/3)*Math.PI/2);
a.translate(-80,-80);a.clearRect(0,0,160,160);a.fillStyle="rgba(0,0,0,0.3)";a.fillRect(0,0,160,160);
a.clearRect(16,16,128,128);a.fillStyle="#000000";var d=Y%3;a.fillRect([0,9,18][d]*8,0,16,160);var D="<img src=\""+k.toDataURL()+"\" class=\"autoscale gsicon\" /> ",g=new iP(D,!1,null,!1);
this.rS.push(g);g.O("click",this.n$,this);I.appendChild(g.Z)}};cO.prototype.k=function(){aX.prototype.k.call(this);
this.PF.k();if(this.GC==null)return;for(var Y=0;Y<this.rS.length;Y++)this.rS[Y].k()};cO.prototype.aqp=function(I){var k=this.GC,a=k.indexOf(I.target),n=Math.floor(a/2),s=a&1,C=[];
for(var Y=0;Y<4;Y++)C.push(k[2*Y+s].l());var T=-1;if(n==2&&C[2]!=0&&C[3]!=0&&C[4]!=0)T=4;if(n==3&&C[3]!=0&&C[2]!=0&&C[4]!=0)T=4;
if(n==4&&C[4]!=0&&C[2]!=0&&C[3]!=0)T=3;if(T!=-1)k[2*T+s].j(0)};cO.prototype.n$=function(I){var k=this.Tt,a=this.rS.indexOf(I.target),n=[[],[]];
if(k==null)return;var s=k.f?k.f.rect:new eZ(0,0,k.Q,k._),C=s.Q,T=s._;if(a==0){var S=[[],[]],D=this.PF.l();
for(var Y=0;Y<this.GC.length;Y++){var o=this.GC[Y].l();o=j.wJ.Z8(o,k.oE,k.Q,D);S[Y&1].push(o)}var v=[cO.avu(S[0],s.x,s.x+C),cO.avu(S[1],s.y,s.y+T)];
n=cO.iN(v);E.R0.VE(n,k.Ru())}else if(a==1){}else{a-=2;var g=Math.floor(a/3),v=[[],[]];v[g].push([s.x,s.x+C/2,s.x+C,s.y,s.y+T/2,s.y+T][a]);
n=cO.iN(v);E.R0.VE(n,k.Ru())}this.aD8(n)};cO.iN=function(I){var k=[],a=[];for(var n=0;n<2;n++)for(var Y=0;
Y<I[n].length;Y++){k.push([n,I[n][Y]]);a.push(-1)}return[k,a]};cO.prototype.a9t=function(I){var k=this.aqd.indexOf(I.target)};
cO.prototype.aD8=function(I){var k=new d2(M.E.r,!0);k.S=E.Mt;k.data={q:"gids",qJ:I};this.a(k)};cO.avu=function(I,k,a){var n=[],s=I[2],C=I[3],T=I[4],S=0;
if(s==0)S++;if(C==0)S++;if(T==0)S++;if(S>1&&s==0&&C==0){if(I[0]!=0)n.push(k+I[0]);if(I[1]!=0)n.push(a-I[1]);
return n}var D=a-k-I[0]-I[1];if(s==0){if(T==0){s=Math.floor(D/C);T=(D-s*C)/(s-1)}else{s=1;while(C*s+T*(s-1)+C+T<=D)s++}}else if(s!=0&&C!=0){if(s*C>D)s=Math.floor(D/C);
T=(D-s*C)/(s-1)}n.push(k+I[0],a-I[1]);var C=(D-T*(s-1))/s;for(var Y=1;Y<s;Y++){if(T==0)n.push(k+I[0]+Y*C);
else n.push(k+I[0]+Y*C+(Y-1)*T,k+I[0]+Y*C+Y*T)}return n};cO.prototype.tc=function(I,k,a){this.Tt=I};
cO.prototype.UU=function(){if($.TU(this.zo)&&this.GC==null)this.tq();this.k()};cO.prototype.wu=function(I){this.PF.j(I.M6.NY)};
function gQ(){aX.call(this,[9,2],!1,"---panels/properties",aX.Hg.XS);this.abO=null;this.KW=null;this.wY=null;
this.a9b=-1;this.$e=null}gQ.prototype=new aX("");gQ.prototype.bb=function(I,k){this.Qq=I;this.L4=k;I=I-16;
k=k-30;var a=this.$e;if(a){a.style.width=I+"px";a.style.height=k+"px";for(var Y=0;Y<3;Y++)this.gv[Y].bb(I-12,k)}};
gQ.prototype.tq=function(){this.$e=$.I("div","padded scrollable");this.zo.appendChild(this.$e);var I=$.I("span");
this.$e.appendChild(I);this.Ss=[new iP([0,3]),new iP([12,73]),new iP([12,91,0])];for(var Y=0;Y<this.Ss.length;
Y++){var k=this.Ss[Y];k.O("click",this.a47,this);I.appendChild(k.Z);if(Y==2)k.Z.style.marginRight="0"}this.$e.appendChild($.I("hr"));
this.wg=new gQ.s6;this.wg.parent=this;this.dJ=new gQ.N9;this.dJ.parent=this;this.$l=new gQ.Q5;this.$l.parent=this;
this.gv=[this.wg,this.dJ,this.$l];this.$e.appendChild(this.wg.Z);this.ud=$.I("div","lpfoot");this.zo.appendChild(this.ud);
this.M$=[];for(var Y=0;Y<3;Y++){var k=new iP("W");k.O("click",this.hF,this);this.M$.push(k);this.ud.appendChild(k.Z)}this.bb(this.Qq,this.L4)};
gQ.prototype.hF=function(I){var Y=this.M$.indexOf(I.target),k=new d2(M.E.r,!0);k.S=E.xf;if(Y==0)k.data={q:X.oH};
if(Y==1)k.data={q:X.Jn};if(Y==2)k.data={q:X.Va};this.a(k)};gQ.prototype.a47=function(I){var Y=this.Ss.indexOf(I.currentTarget);
this.fX(Y);this.a3c(Y==1?this.dJ.et:-1)};gQ.prototype.fX=function(I){for(var Y=0;Y<3;Y++){this.Ss[Y].Jw();
var k=this.gv[Y].Z;if(k.parentNode==this.$e&&Y!=I)this.$e.removeChild(k);if(k.parentNode!=this.$e&&Y==I)this.$e.appendChild(k)}this.Ss[I].rG()};
gQ.prototype.a3c=function(I){var k=this.KW.T[0],a=this.KW.R[k],n=I+1;if(I==1&&a.fv)return;var s=new d2(M.E.r,!0);
s.S=E.xf;if(I!=1&&a.fv){s.data={q:X.u5,o:k,h7:2};this.a(s)}s.data={q:X.u5,o:k,h7:n};this.a(s)};gQ.prototype.k=function(){aX.prototype.k.call(this);
if(this.$e==null)return;this.tc(this.KW);for(var Y=0;Y<3;Y++){this.Ss[Y].k();this.gv[Y].k()}a9.jG(this.M$,["lrs/clipping","lrs/eye","lrs/bin"],[[6,6,0],[5,5],[6,31]])};
gQ.prototype.UU=function(){if(!$.TU(this.zo))return;if(this.$e==null){this.tq();this.wu(this.wY,f9._7);
this.tc(this.abO);this.k()}};gQ.prototype.tc=function(I){this.abO=I;if(this.$e==null)return;this.wg.tc(I);
this.dJ.tc(I);this.$l.tc(I);if(I==null||I.T.length==0||I.R[I.T[0]]==null){$.fO(this.zo,"disabled");this.KW=null;
return}else $.St(this.zo,"disabled");var k=I.T[0],a=I.R[k];this.M$[0].j(a.Pi);this.M$[1].j(a.K7());var n=I.iQ(),s=n[0],C=n[1];
if(C.length!=0){var T=s[C[0]],S=T.add.vogk,D=!1;if(S)for(var Y=0;Y<S.length;Y++){var o=S[Y].v;if(!j.Z_.fn(o))continue;
D=!0;k=T.Gq}}k+=","+D;if(I!=this.KW||this.a9b!=k){this.KW=I;this.a9b=k;if(D)this.fX(2);else if(a.YY<1&&!a.fv||fo.get(a.add))this.fX(0);
else this.fX(1)}this.Ss[1].wl(this.dJ.et!=-1);this.Ss[2].wl(D)};gQ.prototype.wu=function(I,k){this.wY=I;
if(this.wg)this.wg.wu(I,k);if(this.$l)this.$l.wu(I,k)};gQ.s6=function(){gB.call(this);this.Z=$.I("div","form");
this.aoo=new gv("Hello");this.CI=new iP([1,12,2],null,null,!0);this.CI.Z.style.aAl="right";this.CI.O("click",this.vr,this);
this.Z.appendChild(this.aoo.Z);this.Z.appendChild(this.CI.Z);this.ga=null;this.iT=null;this.KW=null;
this.wY=null;this.ai1=-1;this.aEy=null;this.Sf=null;this.j3=new gh(0,!0,!0);this.j3.parent=this;this.j3.O(M.E.B,this.a8T,this);
this.Z.appendChild(this.j3.Z);this.Gb=new ek(!0);this.Gb.parent=this;this.Gb.O(M.E.B,this.acg,this);
this.Ff=$.I("div","marged hiline");this.Ff.appendChild(this.Gb.Z);this.HQ=new bF("GrFl",!0);this.HQ.parent=this;
this.HQ.O(M.E.B,this.ajI,this);this.lK=$.I("div","marged hiline");var I="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");
for(var Y=0;Y<I.length;Y++){var k=this.HQ.Ko[I[Y]].Z;this.lK.appendChild(k)}this.Vn=new bF("patternFill",!0);
this.Vn.parent=this;this.Vn.O(M.E.B,this.apE,this);this.vm=$.I("div","marged hiline");var I=["Ptrn","Angl","Scl","Algn","phase"];
for(var Y=0;Y<I.length;Y++){var k=this.Vn.Ko[I[Y]].Z;this.vm.appendChild(k)}this.YV={};for(var a in fo.names){if(ke[a]==null)continue;
this.YV[a]=new ke[a];this.YV[a].O(M.E.B,this.a8y,this);this.YV[a].parent=this}var n=this.avv=$.I("div","marged hiline");
this.zm=new gh(0,!0);n.appendChild(this.zm.Z);this.zm.O(M.E.B,this.vA,this);this.amK=null;this.tA=new hS;
this.tA.parent=this;this.tA.O(M.E.B,this.vA,this);n.appendChild(this.tA.Z)};gQ.s6.prototype=new gB;gQ.s6.prototype.a8T=function(I){var k=this.j3.l(),a=this.Sf,n=new eZ(k[0],k[1],k[2],k[3]);
if(n.a$(a))return;this.Sf=n;var s=new d2(M.E.r,!0);if(a.Q==n.Q&&a._==n._){s.S=E.Mt;s.data={q:"trsl",YM:n.x-a.x,qG:n.y-a.y}}else{s.S=E.Yo;
s.data={q:"scl",xn:[2,4],P:new kK(n.Q/a.Q,n._/a._),GJ:0}}this.a(s)};gQ.s6.prototype.bb=function(I,k){var a=this.YV;
for(var n in a)a[n].bb(I,k)};gQ.s6.prototype.vr=function(I){var k=this.KW,a=k.R[k.T[0]],n=fo.get(a.add);
this.iT.j(gJ.nI(n));this.a8y()};gQ.s6.prototype.k=function(){for(var I in this.YV)this.YV[I].k();this.HQ.k();
this.Vn.k();this.tA.k();this.zm.k();this.CI.k();this.j3.k()};gQ.s6.prototype.vA=function(I){var k=new d2(M.E.r,!0),n=this.zm.l(),s=this.amK;
if(I.target==this.zm&&n[2]==s[2]&&n[3]==s[3]){k.S=E.Mt;k.data={q:"trsl",YM:n[0]-s[0],qG:n[1]-s[1]}}else{var C=X.ZZ(new eZ(n[0],n[1],n[2],n[3])),T=this.tA.aax();
T.artboardRect={t:"Objc",v:C};var S=this.KW,D=S.R[S.T[0]],o=D.add.artb.guideIndeces;if(o)T.guideIndeces=JSON.parse(JSON.stringify(o));
k.S=E.xf;k.data={q:X.wX,h6:T}}this.a(k)};gQ.s6.prototype.acg=function(I){var k=this.KW,a=k.T[0];if(k.R[a].add.SoCo==null)return;
var n=JSON.parse(JSON.stringify(k.R[a].add.SoCo));n.Clr.v=this.Gb.l();this.fS({nE:1,aG:n})};gQ.s6.prototype.ajI=function(I){var k=this.KW,a=k.T[0];
if(k.R[a].add.GdFl==null)return;this.fS({nE:2,aG:this.HQ.l()})};gQ.s6.prototype.apE=function(I){this.fS({nE:3,aG:this.Vn.l()})};
gQ.s6.prototype.fS=function(I){this.aw1(E.xf,{q:X.AU,l6:[this.KW.T[0]],M2:!0,P:I})};gQ.s6.prototype.a8y=function(I){this.aw1(E.N1,{q:"edit_layer",P:this.iT.l()})};
gQ.s6.prototype.aw1=function(I,k){var a=new d2(M.E.r,!0);a.S=I;a.data=k;this.a(a)};gQ.s6.prototype.tc=function(I,k){var a=hJ.get([0,3]),n=!1,s=!1,C=null;
this.KW=I;if(I&&I.R.length>0&&I.T.length!=0&&I.R[I.T[0]]){var T=I.R[I.T[0]],S=fo.get(T.add);if(S!=null&&this.YV[S]!=null){C=this.YV[S].Z;
this.iT=this.YV[S];this.YV[S].j(JSON.parse(JSON.stringify(T.add[S])));if(I.T[0]!=this.ai1){var D=I.TB(I.T[0]-1);
this.aEy=j.I3(D)}this.YV[S].cC(this.aEy);a=hJ.get(fo.names[S]);n=!0}if(S==null&&T.add.artb==null){var o=this.Sf=j.X.aj(E.nF.GT(I));
s=!o.KH();var v=I.eu();o.x-=v.x;o.y-=v.y;this.j3.j([o.x,o.y,o.Q,o._],[I.oE,I.Q,this.wY.M6.NY])}if(T.add.SoCo){C=this.Ff;
this.Gb.j(T.add.SoCo.Clr.v);a=hJ.get([6,48,0,0])}if(T.add.GdFl){C=this.lK;this.HQ.update(I,T.add.GdFl);
a=hJ.get([6,48,0,1])}if(T.add.PtFl){C=this.vm;this.Vn.update(I,T.add.PtFl);a=hJ.get([6,48,0,2])}if(T.add.artb){var g=T.add.artb,d=T.OR();
C=this.avv;this.tA.as8(g);var R=this.amK=[d.x,d.y,d.Q,d._];this.zm.j(R,[I.oE,I.Q,this.wY.M6.NY]);a=hJ.get([1,16,0])}this.ai1=I.T[0]}if(C!=this.ga){if(this.ga)this.Z.removeChild(this.ga);
if(C!=null)this.Z.appendChild(C);this.ga=C}this.aoo.j(a);this.CI.Z.style.display=n?"":"none";this.j3.Z.style.display=s?"":"none"};
gQ.s6.prototype.wu=function(I,k){this.wY=I;this.HQ.wu(I,k);this.Vn.wu(I,k);if(k==f9.nt)this.tc(this.KW,I);
for(var a in this.YV)this.YV[a].wu(I,k)};gQ.N9=function(){gB.call(this);this.Z=$.I("div","form");this.KW=null;
this.et=0;var I=$.I("span","fitem");this.Z.appendChild(I);this.Ss=[new iP([6,2]),new iP([6,3]),new iP([6,50])];
for(var Y=0;Y<this.Ss.length;Y++){var k=this.Ss[Y];k.O("click",this.aj0,this);I.appendChild(k.Z)}this.GZ=new f7([12,74],0,255);
this.GZ.O(M.E.B,this.Rb,this);this.Z.appendChild(this.GZ.Z);this.u_=new f7([7,6],0,500,"px",2,!0);this.u_.O(M.E.B,this.Rb,this);
this.Z.appendChild(this.u_.Z);this.bh=new iP([4,11],null,null,!0);this.bh.O("click",this.a52,this)};
gQ.N9.prototype=new gB;gQ.N9.prototype.a52=function(){var I=new d2(M.E.r,!0);I.S=E.N1;I.data={q:"start",g5:"nvrt"};
this.a(I)};gQ.N9.prototype.Rb=function(I){var k=this.GZ.l(),a=this.u_.l(),n=new d2(M.E.r,!0);n.S=E.xf;
n.data={q:X.Gt,Tu:this.KW.T[0],M4:{d9:this.et,GZ:k,u_:a}};this.a(n)};gQ.N9.prototype.k=function(){for(var Y=0;
Y<this.Ss.length;Y++)this.Ss[Y].k();this.GZ.k();this.u_.k();this.bh.k()};gQ.N9.prototype.tc=function(I){this.KW=I;
this.Wm()};gQ.N9.prototype.aj0=function(I){this.Wm(this.Ss.indexOf(I.currentTarget));this.parent.a3c(this.et)};
gQ.N9.prototype.Wm=function(I){var k=this.KW,a=this.Ss;for(var Y=0;Y<3;Y++){var n=a[Y];n.Jw();n.hl()}if(k==null||k.R.length==0||k.T.length==0||k.R[k.T[0]]==null)return;
var s=-1,C=k.R[k.T[0]];if(C.st()&&C.kx(k).u!=null){a[2].MK();s=2}if(C.add.vmsk){a[1].MK();s=1}if(C.IO()){a[0].MK();
s=0}if(I!=null)s=I;else if(C.fv)s=1;else if(C.YY==3)s=2;else if(C.YY==1)s=0;this.et=s;if(s==-1){this.GZ.hl();
this.u_.hl();return}var T=C.je(s);this.GZ.MK();this.u_.MK();this.GZ.j(T.GZ);this.u_.j(T.u_);a[s].rG();
var S=this.bh.Z;if(s==0)this.Z.appendChild(S);else if(S.parentNode==this.Z)this.Z.removeChild(S)};gQ.Q5=function(){gB.call(this);
this.Z=$.I("div","form");this.Tt=null;this.wY=null;this.bC=-1;this.j3=new gh(0,!1);this.cW=new f7([12,15],-180,180,"\xB0",2);
this.ac=new gh(1,!0);this.P2=new f7([12,94,0],0,100,null,2);this.vJ=new f7([12,78],3,30);this.VC=new iP(["\u279C  ",[12,76,0]],null,null,!0);
this.j3.O(M.E.B,this.yp,this);this.cW.O(M.E.B,this.yp,this);this.ac.O(M.E.B,this.yp,this);this.P2.O(M.E.B,this.yp,this);
this.vJ.O(M.E.B,this.yp,this);this.VC.O("click",this.yp,this)};gQ.Q5.prototype=new gB;gQ.Q5.prototype.k=function(){this.j3.k();
this.cW.k();this.ac.k();this.P2.k();this.vJ.k()};gQ.Q5.prototype.yp=function(I){var k=this.Tt,a=j.Z_.UX(k),n=I.target.l(),s=[this.j3,this.cW,this.ac,this.P2,this.vJ,this.VC].indexOf(I.target);
if(s==0){var C=k.eu(),T=[],S=T[0]=n[0]+C.x,D=T[1]=n[1]+C.y;T[2]=S+n[2];T[3]=D+n[3];n=T}if(s==1)n=n*Math.PI/180;
var o={0:1,1:2,2:3,3:3,4:4}[s];a[o]=n;var v=new d2(M.E.r,!0);v.S=E.xf;v.data={q:X.Rn,P:a,a8j:s==5};this.a(v)};
gQ.Q5.prototype.tc=function(I){var k=this.Z;this.Tt=I;if(I==null)return;var a=this.wY,n=[I.oE,I.Q,a.M6.NY],s=j.Z_.UX(I),C=s[0],T=s[1];
if(T==null)return;var S=C!=this.bC;this.bC=C;if(S)$.GD(k);if(S)k.appendChild(this.j3.Z);if(S)k.appendChild(this.cW.Z);
var D=I.eu();this.j3.j([T[0]-D.x,T[1]-D.y,T[2]-T[0],T[3]-T[1]],n);this.cW.j(s[2]*180/Math.PI);if(C==2){if(S)k.appendChild(this.ac.Z);
var o=s[3];this.ac.j(o,n)}if(C==7||C==8){if(S)k.appendChild(this.P2.Z);this.P2.j(s[3])}if(C==8){if(S)k.appendChild(this.vJ.Z);
this.vJ.j(s[4])}k.appendChild(this.VC.Z)};gQ.Q5.prototype.wu=function(I,k){this.wY=I;this.tc(this.Tt)};
function hr(I){aX.call(this,I.name,!0);this.Z9=I;this.tb=null;this.js=new ks(this.zo);this.js.parent=this}hr.prototype=new aX;
hr.d5=function(){var I=document.createElement("canvas"),k=document.createElement("canvas"),a=16,n=j.U(16*16*4);
j.lQ(n,a,a,8);var s=j.scale.pt(n,a,a);return{pZ:I,zC:k,PJ:I.getContext("2d",{willReadFrequently:!0}),AQ:k.getContext("2d"),ms:s}}();
hr.prototype.a0s=function(){if(this.Z9.qg())return window.confirm(hJ.get([22,6,3])+" "+this.Z9.name+". "+hJ.get([22,6,4]));
return!0};hr.prototype.wu=function(I,k){this.tb=I};hr.prototype.tc=function(I){this.UU();this.lX()};
hr.prototype.bb=function(I,k){if(I<=0||k<=0)return;this.Qq=I;this.L4=k;var a=this.Z9,n=hr.d5,s=$.Y();
a.w.PJ.Q=Math.floor(I*s);a.w.PJ._=Math.floor(k*s);$.hI(n.pZ,I,k);$.hI(n.zC,I,k);$.hI(dZ.$P(),I,k);if(a.w.F==0)a.w.F=E.rD.H8(a.Q,a._,I*s,k*s);
this.lX()};hr.prototype.UU=function(){var I=this.zo.firstChild,k=hr.d5,a=dZ.QV&&ht==0;if(!a&&I==dZ.$P()||a&&I==k.pZ)this.zo.removeChild(I);
var n=a?dZ.$P():k.pZ;if(!$.TU(n))this.zo.appendChild(n)};hr.prototype.lX=function(){if(this.tb==null)return;
var I=this.Z9,k=dZ.QV&&ht==0;if(k)this.a0G();else this.oj()};hr.prototype.a0G=function(){if(dZ.QV&&hr.fQ==null){var I=hr.fQ=[],k=[0,2,8,32,128];
for(var Y=0;Y<5;Y++)I[Y]=[new hr.g9(!1,k[Y],!1),new hr.g9(!0,k[Y],!1)];I.push([new hr.g9(!1,0,!0),new hr.g9(!0,0,!0)])}var a=this.Z9,n=hr.d5,c,U=0,z,L;
if(a.cU==null)return;var s=a.w,C=s.PJ.Q,T=s.PJ._,S=dZ.hp;n.PJ.clearRect(0,0,C,T);var D=this.a0S(a);if(s.lx==null||s.lx.Q!=C||s.lx._!=T)s.lx=new dZ.$n(C,T);
if(D){var o=Date.now(),v=T,g=new Uint8Array(n.PJ.getImageData(0,0,C,v).data.buffer);s.lx.set(g,new eZ(0,0,C,v));
this.HB=!0}else if(this.tb.yF){if(this.HB){dZ.FL(s.lx);dZ.g_(1);this.HB=!1}var d=j.wJ.I0,g=new Uint8Array(a.w.zd.data.buffer);
s.lx.set(g,new eZ(0,0,d,T));var g=new Uint8Array(a.w.SZ.data.buffer);s.lx.set(g,new eZ(0,0,C,d));var g=new Uint8Array(n.PJ.getImageData(0,T-d,C,d).data.buffer);
s.lx.set(g,new eZ(0,T-d,C,d));this.HB=!0}else if(this.HB){dZ.FL(s.lx);dZ.g_(1);this.HB=!1}var R=s.kF(0,0);
if(hr.amx==null)hr.amx=new Float32Array(4*1024);var e=[0,0,0,0],O=hr.amx;if(a.add.artd){O.fill(0);e=hr.Yb(a);
var K=a.Q,_=a._,N=0;for(var Y=0;Y<a.R.length;Y++){var Z=a.R[Y],H=Z.add.artb;if(H==null||!Z.K7())continue;
var G=Z.OR();O[U]=G.x/K;O[U+1]=G.y/_;O[U+2]=G.Q/K;O[U+3]=G._/_;U+=4;if(U==O.length)break}if(U>2*4)N++;
if(U>8*4)N++;if(U>32*4)N++;c=hr.fQ[N+1];O=new Float32Array(O.buffer,0,[2,8,32,128][N]*4)}else c=hr.fQ[a.ym?5:0];
var p=a.nh();if(p==null)c=c[0];else{c=c[1];L=p[a.add.fcmy==1?6:4];z=p[2]}dZ.awT(C,T);dZ.g_(0);dZ.awT(C,T);
c.pz();var V=new dc;V.scale(C,T);V.concat(s.Q8(!0));V.scale(1/a.Q,1/a._);var r=[V.M,V.J,0,V.mL,V.Jo,0,V.Dw,V.rk,1];
c.Wb(s.lx.e9,a.cU.e9,new Float32Array(r),new Float32Array([C/8,T/8,R.x/C,R.y/T]),a.Q,a._,1/a.w.F,C,T,new Float32Array(e),O,new Float32Array(j.LT.wZ(j.LT.aq4(s.N))),L,z);
S.drawArrays(S.TRIANGLES,0,6)};hr.Yb=function(I){return[0,0,0,0]};hr.a9L=function(I){var k=j.G.GW(I.v),a=[k.$/255,k.H/255,k.J/255,1];
for(var Y=0;Y<4;Y++)a[Y]=Math.min(1,a[Y]);return a};hr.K3=function(I,k){var a=I[2]*255;if(dZ.QV)a=k?0:Math.max(2,a);
return"rgba("+I[0]*255+","+I[1]*255+","+a+","+I[3]+")"};hr.Tb=function(I){var k=I.length;if(dZ.QV)for(var Y=0;
Y<k;Y+=4){if(I[Y+2]==0)I[Y+2]=3}};hr.prototype.oj=function(){var I=this.Z9,k=hr.d5;if(ht==0&&I.buffer==null)return;
var a=I.w,n=a.PJ,s=n.Q,C=n._,T=new eZ(0,0,I.Q,I._);k.AQ.clearRect(0,0,s,C);k.PJ.clearRect(0,0,s,C);var S=I.add.prvw==0;
if(ht==1&&S){k.PJ.fillStyle="white";k.PJ.fillRect(-5e3,-5e3,2e4,2e4)}var D=a.Q8(!0),o=D.clone();o.Us();
if(I.add.artd==null){k.PJ.save();var v=o.yt(new kK(0,0));o.translate(-v.x,-v.y);k.PJ.translate(Math.round(v.x),Math.round(v.y));
k.PJ.fillStyle=ht==0?k.ms:"#ffffff";if(I.ym)k.PJ.fillRect(-5e3,-5e3,2e4,2e4);else{var g=I.add.arts;if(ht==1)for(var Y=0;
Y<g.length;Y++){var d=j.X.TO(g[Y].UL);this.FE(j.X.Eu(d),o,k.PJ);if(S)k.PJ.stroke();else k.PJ.fill()}else{this.FE(j.X.Eu(T),o,k.PJ);
k.PJ.fill()}}k.PJ.restore()}else{k.PJ.fillStyle=hr.K3(hr.Yb(I));k.PJ.fillRect(0,0,s,C);k.PJ.save();k.PJ.setTransform(o.M,o.J,o.mL,o.Jo,o.Dw,o.rk);
var R=I.root.children;for(var Y=0;Y<R.length;Y++){var c=R[Y].o;if(c.add.artb==null||!c.K7())continue;
var e=c.OR(),O=c.Iv();if(O!=0)continue;k.PJ.fillStyle=k.ms;k.PJ.save();k.PJ.scale(1/a.F,1/a.F);k.PJ.fillRect(a.F*e.x,a.F*e.y,e.Q*a.F,e._*a.F);
k.PJ.restore()}k.PJ.restore()}if(a.XJ.length!=n.c()){a.XJ=j.U(n.c());a.gT=j.U(n.c()*4)}a.gT.fill(0);
if(ht==1){var o=a.Q8(!0);o.Us();k.PJ.save();var U=j.X.Eu(a.PJ);j.X.h(U.s,a.Q8(!0),U.s);var d=j.X.qP(U.s);
k.PJ.setTransform(o.M,o.J,o.mL,o.Jo,o.Dw,o.rk);I.root.W9(I,k.PJ,this.tb,d);k.PJ.restore()}else{j.scale.avL(I.buffer,T,D,a.gT,n,I.ym);
var K=I.nh();if(K)ICC.U.applyLUT(K[I.add.fcmy==1?5:3],K[2],a.gT,a.gT);if(a.N[0]+a.N[1]+a.N[2]!=3)j.LT.asX(a.gT,a.gT,j.LT.aq4(a.N));
k.AQ.putImageData(new ImageData(new Uint8ClampedArray(a.gT.buffer),n.Q,n._),0,0);k.PJ.drawImage(k.zC,0,0);
k.PJ.getImageData(0,0,1,1)}this.a0S(I)};hr.prototype.a0S=function(I){var k=I.w,a=k.N[0]+k.N[1]+k.N[2],n=hr.d5,s=!1,C=[];
for(var Y=0;Y<I.T.length;Y++){var T=I.R[I.T[Y]];if(T==null)continue;var S=T.YY;if(S!=1&&S!=3)continue;
var D=S==1?T.IO():T.kx(I).u;if(D.zh)C.push(D)}for(var Y=0;Y<I.TL.length;Y++)if(I.TL[Y].zh)C.push(I.TL[Y]);
for(var Y=0;Y<C.length;Y++){var D=C[Y];this.ari(D,k,C.length==1&&a==0?2:1,D.color,D.Ej);s=!0}var o=this.tb;
s=this.aE2(I,n.PJ,k,C.length!=0)||s;if(I.f&&o.Q7&&o.M6.ue){this.ari(I.f,k,0,0,null);s=!0}return s};hr.prototype.ari=function(I,k,a,n,s){var C=0;
if(s)C=Math.round(s.J)<<16|Math.round(s.H)<<8|Math.round(s.$);var T=k.Q8(!0),S=k.PJ,D=new eZ(0,0,k.Z9.Q,k.Z9._),o=hr.d5;
if(k.gT==null||k.gT.length!=S.c()*4){k.XJ=j.U(S.c());k.gT=j.U(S.c()*4)}k.XJ.fill(n);k.gT.fill(0);var v=I.channel,g=I.rect;
j.scale.h(v,g,T,k.XJ,S);if(a==0){var d=new Uint32Array([4278190080,4294967295]);hr.Tb(new Uint8Array(d.buffer));
j.f.arn(k.XJ,k.gT,S,d,$.Y()>1.9)}else{var R=Date.now();j.f.a3w(k.XJ,k.gT,S,a,C);hr.Tb(k.gT)}var c=new ImageData(new Uint8ClampedArray(k.gT.buffer),S.Q,S._);
o.AQ.putImageData(c,0,0);o.PJ.save();if(a!=0){var e=new eZ(0,0,D.Q,D._),O=T.clone();O.Us();this.FE(j.X.Eu(e),O,o.PJ);
o.PJ.clip()}o.PJ.drawImage(o.zC,0,0);o.PJ.restore()};hr.prototype.aE2=function(I,k,a,n){var s=I.D.$Z!=null||I.D.sV!=null||I.D.YF!=null||I.D.PT!=null||I.D.q1.length!=0||I.D.OT.length!=0,C=this.tb,T=C.M6,S=kn.ZW[C.DU],D=Math.round(12*$.Y()),o=D/I.w.F,v=a.Q8(!0);
v.Us();k.save();k.setTransform(v.M,v.J,v.mL,v.Jo,v.Dw,v.rk);var g=hr.Yb(I)[0];g=g<.5?g+.5:g-.5;g=""+Math.round(g*255).toString(16);
while(g.length<2)g="0"+g;k.font=o+"px sans-serif";if(I.add.artd){k.fillStyle="#"+g+g+g;for(var Y=0;Y<I.R.length;
Y++){var d=I.R[Y];if(d.add.artb==null||!d.K7())continue;var R=d.OR();k.save();k.beginPath();k.rect(R.x,R.y-2*o,R.Q,2*o);
k.clip();k.fillText(d.getName(),R.x+2,R.y-o*.7);k.beginPath();k.restore();s=!0}}if(I.add.arts&&C.P$==E.ka){var c=I.add.arts;
for(var Y=0;Y<c.length;Y++){var R=c[Y],e=j.X.TO(R.UL),O=(Y+1+"").padStart(2,"0");O+=" - "+R.h2;k.save();
k.beginPath();k.fillStyle=R.T?"#cce6ff":"#dddddd";k.rect(e.x,e.y,k.measureText(O).width+o,o*1.5);k.fill();
k.fillStyle="black";k.fillText(O,e.x+o/2,e.y+o*1.1);k.restore()}s=!0}function U(il){return il==1||il==2||il==4||il==5}var K=hr.K3([.3,.5,1,1]),_=hr.K3([1,1,1,1]);
if(C.Q7&&T.DD){k.fillStyle=k.strokeStyle=K;k.lineWidth=1.5/a.F;var Z=I.iQ(),H=Z[0],G=Z[1];for(var N=0;
N<G.length;N++){var d=H[G[N]],z=d.add.vmsk,L=z.d,p=j.X.wb(L);this.FE(p,null,k);k.stroke();s=!0;var V=3*$.Y()/a.F;
for(var Y=0;Y<z.Ma.length;Y++){var r=j.n.afc(L,z.Ma[Y]);if(r==null)continue;var y=r.x,W=r.y;k.beginPath();
var m=Y==0;if(z.u8)m=!m;if(m){k.moveTo(y-V,W-V);k.lineTo(y+V,W+V);k.moveTo(y-V,W+V);k.lineTo(y+V,W-V);
k.stroke()}else{k.arc(y,W,V*1,0,2*Math.PI);k.fill()}s=!0}if(I.T.length!=1)continue;var f=-1,h=-1,b=-1;
for(var Y=0;Y<L.length;Y++){if(L[Y].type>5)continue;if(L[Y].type==0||L[Y].type==3){h=Y+1;b=L[Y].length;
if(L[Y].Np!=-1)f++;continue}if(z.T.indexOf(f)!=-1){var y=L[Y].A.x,W=L[Y].A.y;k.fillRect(y-V*.8,W-V*.8,2*V*.8,2*V*.8)}if(z.Ut.indexOf(Y)!=-1){var i=L[Y],w=[i.A];
k.beginPath();k.moveTo(i.VW.x,i.VW.y);k.lineTo(i.A.x,i.A.y);k.lineTo(i.zK.x,i.zK.y);var J=h+(Y+b-h-1)%b,q=h+(Y+b-h+1)%b,x=L[J],A=L[q];
if(x&&U(x.type)&&z.Ut.indexOf(J)==-1){k.moveTo(x.A.x,x.A.y);k.lineTo(x.zK.x,x.zK.y);w.push(x.zK)}if(A&&U(A.type)&&z.Ut.indexOf(q)==-1){k.moveTo(A.A.x,A.A.y);
k.lineTo(A.VW.x,A.VW.y);w.push(A.VW)}k.stroke();if(!i.A.a$(i.VW))w.push(i.VW);if(!i.A.a$(i.zK))w.push(i.zK);
for(var Q=0;Q<w.length;Q++){var r=w[Q],y=r.x,W=r.y;if(Q==0&&(i.type==2||i.type==5))k.fillRect(y-1.2*V,W-1.2*V,2.4*V,2.4*V);
else{k.beginPath();k.arc(y,W,V*1.2,0,2*Math.PI);k.fill();if(Q!=0)k.fillStyle=_;k.beginPath();k.arc(y,W,V*.8,0,2*Math.PI);
k.fill();k.fillStyle=K}}}s=!0}}}k.lineWidth=1/a.F;if(I.D.Pu){k.fillStyle=k.strokeStyle=K;var A={s:[],m:[]},B=hr.aDI;
if(B==null){B=hr.aDI={s:[1,0],m:["M"]};for(var Y=1;Y<30;Y++){var l=Math.PI*2*Y/30;B.s.push(Math.cos(l),Math.sin(l));
B.m.push("L")}B.m.push("Z","M","L","M","L");B.s.push(-.5,0,.5,0,0,-.5,0,.5)}for(var Y=0;Y<I.D.Pu.length;
Y++){var x=E.Ou.aeP(I.D.Pu[Y],a),P=new dc(x[0],0,0,x[0],x[1],x[2]);j.X.concat(A,B,P)}this.FE(A,null,k);
k.stroke();s=!0}var F=new dc(1,0,0,1,.5/a.F,.5/a.F);if(I.ym){k.fillStyle=k.strokeStyle=K;var A={s:[0,0,I.Q,0,I.Q,I._,0,I._],m:["M","L","L","L","Z"]};
this.FE(A,F,k);k.stroke();s=!0}if(I.D.xo){k.fillStyle=k.strokeStyle=hr.K3([0,0,0,.5]);this.FE(I.D.xo,null,k,!0);
k.fill("evenodd")}k.strokeStyle=K;k.fillStyle=_;if(I.D.YF){this.FE(I.D.YF,F,k);k.stroke()}var t=hr.MQ(I.D.Wv,k,a);
k.fill();k.stroke();s=s||t;k.fillStyle=k.strokeStyle=hr.K3([0,0,0,dZ.QV&&ht==0?1:.5],!0);if(I.D.$Z){this.FE(I.D.$Z,null,k);
k.fill()}if(I.D.sV){this.FE(I.D.sV,F,k);k.stroke()}for(var b$ in I.D.QS)if(I.D.QS[b$].sV){this.FE(I.D.QS[b$].sV,null,k);
k.stroke();s=!0}var t=hr.MQ(I.D.t6,k,a);k.stroke();s=s||t;if(I.D.Jt){this.FE(I.D.Jt,F,k);k.strokeStyle="rgba(0,0,0,0.5)";
k.lineWidth=$.Y()*2.5/a.F;k.stroke();k.strokeStyle="white";k.lineWidth=$.Y()*2/a.F;k.stroke()}if(I.D.tK.length+I.D.SV.length+I.D._r.length!=0){s=!0;
k.fillStyle=_;hr.VP(I.D.tK,k,a,6);k.fill();hr.VP(I.D.SV,k,a,6);k.fill();k.fillStyle=K;hr.VP(I.D.tK,k,a,4);
k.fill();hr.VP(I.D._r,k,a,4);k.fill();k.fillStyle=hr.K3([.7,.7,.7,1]);hr.VP(I.D.SV,k,a,4);k.fill()}if(I.D.q1.length!=0){for(var Y=0;
Y<I.D.q1.length;Y++){var hd=I.D.q1[Y],di=hd[1],hD;if(n){hD=k.getImageData(di.x,di.y,di.Q,di._);j.z.Pf("norm",hd[0],di,new Uint8Array(hD.data.buffer),di,di,1)}else hD=new ImageData(new Uint8ClampedArray(hd[0].buffer),di.Q,di._);
k.putImageData(hD,di.x,di.y)}}var a$=.5/a.F;k.lineWidth=1/a.F;if(I.D.eQ){s=!0;var eJ=I.D.eQ,hY=eJ.xQ,p={m:[],s:[]};
for(var Y=0;Y<eJ.y1.length;Y++)j.X.concat(p,j.X.Eu(eJ.y1[Y]));p.s=p.s.concat(hY);for(var Y=0;Y<hY.length;
Y+=4){p.m.push("M","L")}for(var Y=0;Y<p.s.length;Y++){p.s[Y]+=a$}k.strokeStyle=hr.K3([.9,.2,.2,1]);this.FE(p,null,k);
k.stroke();var ik=$.Y(),fw=2/a.F;k.font=o*.9+"px sans-serif";for(var Y=0;Y<hY.length;Y+=4){var y=hY[Y],W=hY[Y+1],jb=hY[Y+2],cd=hY[Y+3],dN=Math.sqrt((cd-W)*(cd-W)+(jb-y)*(jb-y));
dN=j.wJ.qO(dN,I.oE,C,W==cd?I.Q:I._);var kc=new kK((y+jb)/2,(W+cd)/2);k.fillStyle=hr.K3([.9,.2,.2,1]);
var ck=k.measureText(dN).width;k.fillRect(kc.x-ck/2-fw*ik,kc.y-3.5*fw*ik,ck+2*fw*ik,7*fw*ik);k.fillStyle=hr.K3([1,1,1,1]);
k.save();k.translate(kc.x-ck/2,kc.y+2*fw*ik);k.scale(.1,.1);k.font=o*9+"px sans-serif";k.fillText(dN,0,0);
k.restore()}}if(C.Q7){if(T.Po&&I.w.F>10&&ht==0){this.lQ(I,k,1,1,.25,T.Ts,16777215);s=!0}if(T.kG){var b3=j.wJ.Z8(T.AX,I.oE,I.Q,T.L9),hL=b3;
if(T.L9==4)hL*=I._/I.Q;this.lQ(I,k,b3,hL,1,T.Ts,T.Oi);s=!0}if(T.Fq){var gS=I.Ru(),jF=I.ev(),kB=Math.max(I.w.PJ.Q,I.w.PJ._)/I.w.F;
kB=Math.max(Math.max(I.Q,I._)*2,kB);for(var Y=0;Y<gS[0].length;Y++){var jw=gS[0][Y],iT=gS[1][Y];if(iT!=-1&&iT!=jF)continue;
var gY=a.kF(jw[1],jw[1]),aL=a.m_(Math.floor(gY.x)+.5,Math.floor(gY.y)+.5),dw=j.uU(iT==-1?T.Kn:T.rr);
dw=[dw.$/255,dw.H/255,dw.J/255,1];k.beginPath();k.strokeStyle=hr.K3(dw);if(jw[0]==0){var ka=aL.x;k.moveTo(ka,-kB);
k.lineTo(ka,kB)}else{var cy=aL.x;k.moveTo(-kB,cy);k.lineTo(kB,cy)}k.stroke();s=!0}}var jP=I.wQ;if(jP.length>0&&C.P$==E.a9q){var di=7/I.w.F,aA=di/3,d1=di*4;
k.strokeStyle=k.fillStyle="black";for(var Y=0;Y<jP.length;Y++){var ag=jP[Y];k.fillRect(ag.x-.5*aA,ag.y-.5*d1,aA,d1);
k.fillRect(ag.x-.5*d1,ag.y-.5*aA,d1,aA);k.lineWidth=2.5/I.w.F;k.beginPath();k.arc(ag.x,ag.y,di,0,2*Math.PI);
k.stroke();k.font=1.9*di+"px serif";k.lineWidth=1.25/I.w.F;k.strokeText(""+(Y+1),ag.x+.75*di,ag.y+2.5*di)}s=!0}var b0=I.IZ;
if(T.IZ&&b0.length!=0){k.font=o*.8+"px sans-serif";var kx=[],br=[];for(var Y=0;Y<b0.length;Y++){var ft=E.xG.mj(b0,Y);
kx.push(ft);if(I.Fl.indexOf(Y)!=-1)br.push(ft)}kx.reverse();var iv=Date.now();kx=j.rect.au0([0,0,I.Q,I._],kx);
for(var Q=0;Q<2;Q++)for(var Y=0;Y<kx.length;Y++){var k6=kx[Y],f=k6[4],b=f!=null?b0[f]:null;if(b&&Q==0||b==null&&Q==1)continue;
var y=Math.round(k6[0]),W=Math.round(k6[1]),jb=Math.round(k6[2]),cd=Math.round(k6[3]);k.strokeStyle=k.fillStyle=hr.K3(b?[0,.7,.7,1]:[.8,.8,.8,1]);
k.strokeRect(y+a$,W+a$,jb-y,cd-W);var ay=Y+1,eT=k.measureText(ay),ck=eT.width;k.fillRect(y,W,ck+o/2,o);
k.fillStyle=hr.K3([1,1,1,1]);k.fillText(ay,y+o/4,W+o*.8)}var fw=2/I.w.F,kD=2*fw;for(var Y=0;Y<br.length;
Y++){var k6=br[Y],y=Math.round(k6[0]),W=Math.round(k6[1]),jb=Math.round(k6[2]),cd=Math.round(k6[3]);
k.strokeStyle=k.fillStyle=hr.K3([1,.6,0,1]);k.strokeRect(y+a$,W+a$,jb-y,cd-W);var cP=[y,W,jb,W,jb,cd,y,cd];
for(var cU=0;cU<cP.length;cU+=2){var ka=cP[cU],cy=cP[cU+1],gu=cP[cU+2&7],jd=cP[cU+3&7];k.fillRect(ka-fw,cy-fw,kD,kD);
k.fillRect(Math.round((ka+gu)/2)-fw,Math.round((cy+jd)/2)-fw,kD,kD)}}s=!0}var i$=I.add.Anno;if(i$&&i$.length!=0)for(var Y=0;
Y<i$.length;Y++){var hT=i$[Y],dw=hT[2],ka=hT[0]-a$,cy=hT[1]-a$,kD=30/a.v0,jk=.4*kD,i1=.6*kD;k.beginPath();
k.moveTo(ka,cy+i1);k.lineTo(ka,cy);k.lineTo(ka+kD,cy);k.lineTo(ka+kD,cy+kD);k.lineTo(ka+jk,cy+kD);k.closePath();
k.lineTo(ka+jk,cy+i1);k.lineTo(ka+jk,cy+kD);if(Y==I.w.f4){k.lineWidth*=5;k.strokeStyle=hr.K3([0,0,0,.5]);
k.stroke();k.lineWidth/=5}k.fillStyle=hr.K3([dw.$/255,dw.H/255,dw.J/255,1]);k.fill();k.strokeStyle=hr.K3([0,0,0,1]);
k.stroke()}}k.strokeStyle=hr.K3([1,0,0,1]);if(I.D.PT){this.FE(I.D.PT,F,k);k.stroke()}k.restore();if(C.yF){if(I.w.SZ==null||I.w.SZ.width!=I.w.PJ.Q||I.w.zd.height!=I.w.PJ._){I.w.SZ=k.createImageData(I.w.PJ.Q,j.wJ.I0);
I.w.zd=k.createImageData(j.wJ.I0,I.w.PJ._)}var S=kn.ZW[C.DU],aZ=0,az=0,hM=I.Q,ku=I._;if(I.ev()!=-1){var R=I.R[I.ev()].OR();
aZ=R.x;az=R.y;hM=R.Q;ku=R._}aZ*=a.F;az*=a.F;var a=I.w,dM=[1,I.oE,I.oE/2.54,I.oE/25.4,hM/100][T.NY],fb=a.F*I.Q/2,j$=a.F*I._/2,e0=[a.F*dM,new kK(a.i.x+(aZ+fb*dM-fb),a.i.y+(az+j$*dM-j$))];
if(T.NY==4)dM*=ku/hM;var ff=[a.F*dM,new kK(a.i.x+(aZ+fb*dM-fb),a.i.y+(az+j$*dM-j$))],dm=this.js.fy;j.wJ.aBX(a,S["--text-color"],S["--bg-input"],Math.floor(dm.x),Math.floor(dm.y),e0,ff);
var dX=dq.ayE(a.F,hr.K3([1,1,1,1]),I.Q,I._);hr.Tb(I.w.zd.data);hr.Tb(I.w.SZ.data);k.putImageData(I.w.zd,0,0);
k.putImageData(I.w.SZ,0,0);k.putImageData(dX,0,I.w.PJ._-dX.height)}if(I.D.OT.length!=0){for(var Y=0;
Y<I.D.OT.length;Y++){var hd=I.D.OT[Y],di=hd[1];k.putImageData(new ImageData(new Uint8ClampedArray(hd[0].buffer),di.Q,di._),di.x,di.y)}}return s};
hr.prototype.lQ=function(I,k,a,n,s,C,T){while(a*I.w.F<4){a*=2;n*=2}var S=I.Q,D=I._,o=.5/I.w.F;T=j.uU(T);
k.strokeStyle=hr.K3([T.$/255,T.H/255,T.J/255,s],!1);k.save();k.rect(0,0,S,D);k.clip();k.beginPath();
for(var v=0;v<=S;v+=a){k.moveTo(v+o,0);k.lineTo(v+o,D)}if(C==0){for(var g=0;g<=D;g+=n){k.moveTo(0,g+o);
k.lineTo(S,g+o)}}else{n*=Math.sqrt(4/3);var d=n*Math.floor(S/n),R=S*(n/(2*a));for(var g=-d;g<=D+d;g+=n){k.moveTo(0,g);
k.lineTo(S,g-R);k.moveTo(0,g);k.lineTo(S,g+R)}}k.stroke();k.restore()};hr.VP=function(I,k,a,n){k.beginPath();
var s=n*$.Y()/a.F,C=!1;for(var Y=0;Y<I.length;Y+=2){C=!0;var T=I[Y],S=I[Y+1];k.moveTo(T+s,S);k.arc(T,S,s,0,2*Math.PI)}return C};
hr.MQ=function(I,k,a,n){k.beginPath();var s=(n?n:1)*(4*$.Y()+.5)/a.F,C=!1;for(var Y=0;Y<I.length;Y+=2){C=!0;
var T=I[Y],S=I[Y+1];k.rect(T-s,S-s,2*s,2*s)}return C};hr.Th=function(I,k,a,n){a.beginPath();if(n)a.rect(-1e5,-1e5,1e6,1e6);
var s=I;if(k){s=j.X.clone(I);j.X.h(s.s,k,s.s)}Typr.U.pathToContext({cmds:s.m,crds:s.s},a)};hr.prototype.FE=hr.Th;
hr.g9=function(I,k,a){dZ.tv.call(this);var n=this.atF=k!=0,s=a?"true":"in01(sCoord)",C="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\t"+(I?"uniform sampler2D lut;  uniform float N;  "+dZ.TE.a4o:"")+"\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(n?"uniform vec4 bgClr;  uniform vec4 ars["+k+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+dZ.TE.apR+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = texture2D(target, sCoord"+(a?"-floor(sCoord)":"")+"); \t\t\t\t"+(I?"tgt.rgb = mapLut(tgt, lut, N).rgb; ":"")+"\t\t\t\ttgt = ctrn * tgt; "+(n?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+k+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = "+s+" ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = "+s+" ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",T="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.Ui(C,T)};hr.g9.prototype=new dZ.tv;hr.g9.prototype.Wb=function(I,k,a,n,s,C,T,S,D,o,v,g,d,R){this.rl("tmat gsize source target lut N contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var c=dZ.hp,e=this.Qt;c.uniformMatrix3fv(e.tmat,!1,a);c.uniform4fv(e.gsize,n);c.uniform3f(e.contSizeZoom,s,C,T);
c.uniform2f(e.cnvSize,S,D);c.uniformMatrix4fv(e.ctrn,!1,g);if(this.atF){c.uniform4fv(e.ars,v);c.uniform4fv(e.bgClr,o)}c.uniform1i(e.source,0);
c.uniform1i(e.target,1);c.activeTexture(c.TEXTURE0);c.bindTexture(c.TEXTURE_2D,I);c.activeTexture(c.TEXTURE1);
c.bindTexture(c.TEXTURE_2D,k);if(d){c.uniform1f(e.N,R);c.uniform1i(e.lut,2);c.activeTexture(c.TEXTURE2);
c.bindTexture(c.TEXTURE_2D,d.e9);var O=c.LINEAR;c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,O);
c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,O)}c.activeTexture(c.TEXTURE0)};function bw(){aX.call(this,[9,7],!1,"---panels/layercomps",aX.Hg.a4Z);
this.zo.setAttribute("style","min-width:240px;");this.KW=null;this.MH=-1;this.ES=[];this.sN=$.I("div","scrollable");
this.sN.style.height="160px";this.zo.appendChild(this.sN);this.ud=$.I("div","lpfoot");this.zo.appendChild(this.ud);
this.rS=[];var I=["<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],k=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var Y=0;Y<I.length;Y++){var a=I[Y];if(Y>0)a="<img src=\""+PIMG[I[Y]]+"\" class=\"miniscale gsicon\" />";
var n=new iP(a,!1,k[Y]);n.O("click",this.a2y,this);this.ud.appendChild(n.Z);this.rS.push(n)}}bw.prototype=new aX("");
bw.prototype.bb=function(I,k){this.zo.setAttribute("style","width:"+(I-2)+"px;");this.sN.style.height=k-28+"px"};
bw.prototype.A4=function(I){var k=new d2(M.E.r,!0);k.data=I;k.S=E.bI;this.a(k)};bw.aic="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
bw.prototype.a2y=function(I){var Y=this.rS.indexOf(I.currentTarget)-1;if(Y==-1){var k=new d2(M.E.b,!0);
k.data={q:M.p.XI,a2:bw.aic};this.a(k);return}if(Y!=1)if(this.MH==-1)return;this.A4({q:["updLC","addLC","delLC"][Y],Gq:this.MH});
if(Y==2)this.MH=-1};bw.prototype.k=function(){aX.prototype.k.call(this);for(var Y=0;Y<this.rS.length;
Y++)this.rS[Y].k()};bw.prototype.tc=function(I){if(I==null)$.fO(this.zo,"disabled");else $.St(this.zo,"disabled");
this.KW=I;$.GD(this.sN);if(I==null)return;var k=I._y.lastAppliedComp?I._y.lastAppliedComp.v:0,a=I._y.list.v.slice(0);
a.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var Y=0;Y<a.length;
Y++){var n=a[Y].v,s=new eg(n.Nm.v,n.compID.v,n.capturedInfo.v,k,this.MH);s.O("activate",this.QN,this);
s.parent=this;this.sN.appendChild(s.Z);this.ES.push(s)}};bw.prototype.QN=function(I){this.MH=I.currentTarget.Gq;
this.tc(this.KW)};function eg(I,Y,k,a,n){gB.call(this);this.Gq=Y;this.Z=$.I("div","head listitem"+(Y==n?" selected":""));
var s=Y==a,C=new iP(s?"\u2713":"\u2014");if(s)C.rG();this.Z.appendChild(C.Z);C.O("click",this.QZ,this);
var T=this.sr=$.I("span");T.textContent=I;this.Z.appendChild(T);this.rS=[];if(Y!=0){this.Z.addEventListener("mouseup",this.QN.bind(this),!1);
this.a1U=$.I("span","headR");this.Z.appendChild(this.a1U);var S=["lrs/eye","pos","lrs/fx"],D=["Visibility","Position","Appearance"];
for(var o=0;o<S.length;o++){var v=new iP("<img src=\""+PIMG[S[o]]+"\" class=\"autoscale gsicon\" />",!1,D[o]);
if((k>>o&1)==0)v.Z.setAttribute("style","opacity:0.3");v.O("click",this.apZ,this);this.a1U.appendChild(v.Z);
this.rS.push(v)}}}eg.prototype=new gB;eg.prototype.QN=function(I){if(I.target!=this.sr&&I.target!=this.Z)return;
if(I.detail==1)this.a(new d2("activate",!1));else{var k=new aX.og(this.sr,this.QC.bind(this))}};eg.prototype.apZ=function(I){var Y=this.rS.indexOf(I.currentTarget);
this.A4({q:"editLC",awK:Y,Gq:this.Gq})};eg.prototype.QC=function(I){this.A4({q:"editLC",rN:I,Gq:this.Gq})};
eg.prototype.QZ=function(I){this.A4({q:"setLC",Gq:this.Gq})};eg.prototype.A4=function(I){var k=new d2(M.E.r,!0);
k.data=I;k.S=E.bI;this.a(k)};function g3(){aX.call(this,[9,11],!1,"---panels/navigator",aX.Hg.aq5);var I=this.zo;
$.fO(I,"padded");I.setAttribute("style","cursor:grab;");this.g8=$.I("canvas");I.appendChild(this.g8);
$.FI(I);$.$j(this.g8);$.Ar(this.g8,this.iE.bind(this));this.rZ=new iD(null,2,6400,"%",null,!0);this.rZ.O(M.E.B,this.a9v,this);
I.appendChild(this.rZ.Z);this.atI=this.pW.bind(this);this.a9j=this.HL.bind(this);this.Tt=null;this.Zq=null;
this.jQ=!1}g3.prototype=new aX("");g3.prototype.bb=function(I,k){this.Qq=I*1.2;this.L4=k*1.2;this.lX()};
g3.prototype.a9v=function(I){var k=this.rZ.l(),a=this.Tt,n=k/100;if(.8<n&&n<1.2)n=1;else if(1.8<n)n=Math.round(n);
var s=new d2(M.E.r,!0);s.S=E.VX;s.data={q:"zoom",F:n};this.a(s)};g3.prototype.iE=function(I){var k=this.Tt;
if(k==null)return;this.jQ=!0;$.YU(window,this.atI);$.hf(window,this.a9j)};g3.prototype.pW=function(I){var k=$.Ea(I,this.g8),a=this.Tt,n=this.g8.width,s=this.g8.height,C=(k.x*$.Y()-n/2)/n,T=(k.y*$.Y()-s/2)/s,S=$.Y()*a.w.F,D=Math.round(-a.w.F*a.Q*C),o=Math.round(-a.w.F*a._*T);
E.gz.pl(a,D,o)};g3.prototype.HL=function(I){$.qD(window,this.atI);$.Yf(window,this.a9j);this.jQ=!1};
g3.prototype.tc=function(I){if(I==null&&this.Tt!=null)this.g8.width=100;this.Tt=I;this.lX()};g3.prototype.aDe=function(){var I=this.Tt,k=$.Y(),a=E.rD.H8(I.Q,I._,k*(this.Qq-10),k*(this.L4-36)),n=j.QU(I.TB(),new eZ(0,0,I.Q,I._),a);
this.Zq=[n.GG,n.rect]};g3.prototype.lX=function(){var I=this.Tt;if(I==null||I.w.F==0)return;var k=I.w;
if(!$.TU(this.zo))return;this.rZ.j(k.F*100);if(!this.jQ)this.aDe();var a=this.Zq[0],n=this.Zq[1],s=n.Q,C=n._,T=this.g8;
T.width=s;T.height=C;$.Kf(T,s,C);var S=this.zo;S.style.width=this.g8.style.width+12+"px";var D=T.getContext("2d"),o=D.createImageData(s,C);
j.ed(a,o.data);D.putImageData(o,0,0);D.getImageData(0,0,1,1);var v=k.PJ,g=k.m_(v.x,v.y),d=k.m_(v.x+v.Q,v.y+v._),R=s/I.Q;
D.scale(R,R);D.lineWidth=4/R;D.strokeStyle="#ff0000";D.strokeRect(g.x,g.y,d.x-g.x,d.y-g.y)};g3.prototype.wu=function(I,k){};
g3.prototype.UU=function(){this.lX()};function j4(I,k){aX.call(this,I.name,!1,I.icon,k);this.aDf=I}j4.prototype=new aX("");
j4.prototype.tq=function(){var I=this.zo,k=this.aDf;if(!$.TU(I)||this.K5)return;var a=this.K5=$.I("iframe");
a.setAttribute("src",k.url);this.zo.appendChild(a)};j4.prototype.UU=j4.prototype.tc=function(){this.tq()};
j4.prototype.wz=function(I){if($.TU(this.K5))this.K5.contentWindow.postMessage(I,"*")};j4.prototype.bb=function(I,k){if(this.K5==null)return;
this.K5.setAttribute("style","width:"+I+"px; height:"+k+"px")};function ii(){aX.call(this,[9,12],!1,"---panels/tpreset",aX.Hg.Cd);
this.wY=null;this.FH=new hk(E.yO);this.FH.parent=this;var I=$.I("div","padded");I.setAttribute("style","width:20em");
this.zo.appendChild(I);I.appendChild(this.FH.X_)}ii.prototype=new aX("");ii.prototype.UU=function(){this.FH.rt(this.wY.RR)};
ii.prototype.wu=function(I,k){this.wY=I;if(k==f9._7||k==f9.Cd)this.FH.rt(I.RR)};ii.prototype.bb=function(I,k){this.FH.a8f(this.wY.P$)};
ii.prototype.k=function(){aX.prototype.k.call(this);this.FH.k()};var iH=function(){var I=[],k=null,a=null,n=null,s=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200],[255,100,100]];
function C(){aX.call(this,"Memory",!1,null,aX.Hg.a99);var d=$.I("div","padded");this.zo.appendChild(d);
a=new iP(["<< VAR0",[0,13,2]],!1,null,!0);a.addEventListener("click",function(R){I.pop();S()});d.appendChild(a.Z);
k=$.I("div","scrollable");k.setAttribute("style","width:20em;  height:26em; margin-top:8px;");d.appendChild(k)}C.prototype=new aX("");
C.prototype.tc=function(d,R,c){n=R;this.UU()};C.prototype.UU=function(){a.wl(!1);if(!$.TU(k))return;
var d={h2:"Total:",V7:[]};for(var Y=0;Y<n.length;Y++)d.V7.push(o(n[Y]));g(d);I=[d];S()};C.prototype.k=function(){aX.prototype.k.call(this);
a.k()};function T(d){var R=d.currentTarget,Y=0;while((R=R.previousSibling)!=null)Y++;I.push(I[I.length-1].V7[Y-1]);
S()}function S(){a.wl(I.length>1);var d=I[I.length-1];$.GD(k);D(d,k,0);d.V7.sort(function(R,c){return c.mk[0]-R.mk[0]});
for(var Y=0;Y<d.V7.length;Y++)D(d.V7[Y],k,1)}function D(d,R,c){var e=jm.z3,O=c!=0&&d.V7,U="margin-left:"+c*10+"px; margin-bottom:8px; padding:3px 5px;";
if(O)U+="cursor:pointer;";if(d._W!=null)U+="background-color:rgba("+s[d._W].join(",")+",0.2);";var K=$.I("div");
R.appendChild(K);K.setAttribute("style",U);K.innerHTML=$.Pd(d.h2)+"<br />"+"RAM: <b>"+e(d.mk[0])+"</b>\u2001GPU: <b>"+e(d.mk[1])+"</b>";
if(O)K.addEventListener("click",T,!1)}function o(d){var R={h2:d.name,V7:[],_W:0},c=dZ.QV?1:0,e=1-c,O={h2:"History",V7:[],_W:5};
R.V7.push(O);for(var Y=1;Y<d.history.length;Y++){var U=d.history[Y];O.V7.push({h2:hJ.get(U.name),_W:5,mk:[U.d2(),0]})}g(O);
var O={h2:"Final Image",mk:[d.Q*d._*4,c*d.Q*d._*4],_W:2};R.V7.push(O);for(var Y=0;Y<d.R.length;Y++){var K=v(d.R[Y]);
if(K.V7.length!=0)R.V7.push(K)}var _=d.add.lnk2;if(_)for(var Y=0;Y<_.length;Y++){var K=_[Y],Z={h2:K.f3,V7:[],_W:4},H=0;
Z.V7.push({h2:"Raw file",mk:[K.raw.length,0]});if(K.IV)for(var G=0;G<K.IV.length;G+=2)H+=K.IV[G].length;
if(H!=0)Z.V7.push({h2:"Decoded pixels",mk:[H,0]});g(Z);R.V7.push(Z)}g(R);return R}function v(d){var R={h2:d.getName(),V7:[],_W:1},c=dZ.QV?1:0,e=1-c,O=d.rect.c();
if(O!=0)R.V7.push({h2:"Layer pixels",mk:[O*4,c*O*4]});if(d.add.lmfx&&d.qj.JP.type){var U=d.qj.JP.type,H=0;
for(var K in U){var _=0;for(var Z=0;Z<U[K].length;Z++)if(K=="ebbl"){if(U[K][Z].cn)_+=U[K][Z].cn.bF.c();
if(U[K][Z].KU)_+=U[K][Z].KU.bF.c();if(U[K][Z].w5)_+=U[K][Z].w5.bF.c();if(U[K][Z].bK)_+=U[K][Z].bK.bF.c()}else _+=U[K][Z].bF.c();
if(_!=0)R.V7.push({h2:hJ.get(fY.names[fY.order.indexOf(K)]),mk:[e*_*4,c*_*4],_W:3})}if(d.qj.AN)H+=O;
if(d.qj.tk)H+=O;if(d.qj.a1)H+=O;if(d.qj.a1)H+=O;if(d.qj.tp)H+=O;if(d.qj._z)H+=O;var G=d.qj.he?d.qj.he.length:0;
if(H+G!=0)R.V7.push({h2:"Additional Blending Data",mk:[e*H*4+G,c*H*4]})}var N=d.IO(),z=N?N.rect.c():0;
if(z!=0){R.V7.push({h2:"Raster Mask",mk:[z,0]})}var N=d.add.vmsk,z=N&&N.fm?N.fm.rect.c():0;if(z!=0){R.V7.push({h2:"Vector Mask",mk:[z,0]})}g(R);
return R}function g(d){d.mk=[0,0];for(var Y=0;Y<d.V7.length;Y++){d.mk[0]+=d.V7[Y].mk[0];d.mk[1]+=d.V7[Y].mk[1]}}return C}();
function ih(){aX.call(this,[9,14],!1,"---panels/notes",aX.Hg.a0n);this.zo.setAttribute("style","min-width:240px;");
var I=$.I("div","padded");this.zo.appendChild(I);this.fZ=new ja("Author");I.appendChild(this.fZ.Z);this.Vv=$.I("textarea");
$.bw(this.Vv);I.appendChild(this.Vv);var k=new iP("<<",null,null,!0);I.appendChild(k.Z);this.aAH=k;var a=new iP(">>",null,null,!0);
I.appendChild(a.Z);k.O("click",this.Ja,this);a.O("click",this.Ja,this);var n=this.ap4=new gv("");I.appendChild(n.Z)}ih.prototype=new aX("");
ih.prototype.Ja=function(I){var k=I.target==this.aAH?-1:1,a=this.Tt,n=a.add.Anno;if(n==null)return;var s=n.length,C=a.w.f4;
a.w.f4=(C+k+s)%s;a.cd=!0;this.lX()};ih.prototype.lX=function(){var I=this.Tt;if(I==null)return;var k=I.add.Anno;
if(k==null||k.length==0)return;var a=I.w.f4,n=k[a];this.Vv.value=n[4];this.ap4.j(a+1+" / "+k.length);
this.fZ.j(n[3])};ih.prototype.bb=function(I,k){if(this.Qq==I)return;this.Qq=I;k=Math.min(k,200);this.Vv.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(I-10)+"px; height:"+(k-66)+"px")};
ih.prototype.tc=function(I,k,a){this.Tt=I;this.lX()};function je(){aX.call(this,[1,16,1],!1,"---tools/artb",aX.Hg.azQ);
this.WG=[];this.nb=[];this.rS=[];this.$e=null;this.ud=null}je.prototype=new aX("");je.prototype.tq=function(){this.$e=$.I("div","padded scrollable");
this.$e.setAttribute("style","width:260px;  height:260px");this.zo.appendChild(this.$e);this.ud=$.I("div","lpfoot");
this.zo.appendChild(this.ud);var I=["lrs/newlayer","lrs/bin"],k=[[15,8,2],[5,4]];for(var Y=0;Y<I.length;
Y++){var a="<img src=\""+PIMG[I[Y]]+"\" class=\"miniscale gsicon\" />",n=new iP(a,!1,k[Y]);n.O("click",this.fH,this);
this.ud.appendChild(n.Z);this.rS.push(n)}};je.prototype.k=function(){aX.prototype.k.call(this);if(this.$e==null)return;
for(var Y=0;Y<this.rS.length;Y++)this.rS[Y].k()};je.prototype.fH=function(I){var Y=this.rS.indexOf(I.currentTarget),k=new d2(M.E.r,!0);
k.S=E.ka;k.data={q:Y==0?"new":"del"};this.a(k);if(Y==0)this.aCA(this.WG.length-1)};je.prototype.tc=je.prototype.UU=function(I){if(I)this.WG=I.add.arts;
if(!$.TU(this.zo))return;if(this.$e==null)this.tq();this.lX(I)};je.prototype.S2=function(I){var Y=this.nb.indexOf(I.currentTarget);
if(I.target.tagName=="BUTTON"){this.aCA(Y)}var k=this.WG;for(var a=0;a<k.length;a++)k[a].T=!1;k[Y].T=!0;
this.lX()};je.prototype.aCA=function(Y){var I=new d2(M.E.b,!0);I.data={q:M.p.Fu,aw:"aoptions",P:this.WG[Y]};
this.a(I)};je.prototype.lX=function(){$.GD(this.$e);var I=this.WG,k=this.S2.bind(this);this.nb=[];for(var Y=0;
Y<I.length;Y++){var a=I[Y],n=$.I("div","layeritem"+(a.T?" selected":""));this.$e.appendChild(n);this.nb.push(n);
n.addEventListener("click",k);var s=$.I("div","head");n.appendChild(s);s.setAttribute("style","height:24px");
var C=$.I("div","headL");s.appendChild(C);var T=$.I("div","headR");s.appendChild(T);var S=$.I("div","label");
S.textContent=Y+1+". "+a.h2;C.appendChild(S);var D=new iP("Options",null,null,!0);T.appendChild(D.Z)}};
function j2(){gB.call(this);this.S=0;this.vZ=null;this.Z=$.I("div","toolconf");this.FH=null;this.Hr=null;
this.body=new $.I("div","body")}j2.prototype=new gB;j2.prototype.aD$=function(I,k){this.S=I;this.vZ=k;
if(E.k1[I]){var a=this.FH=new hk(I);this.Z.appendChild(a.Z);a.parent=this}else{this.Hr=$.I("div");this.Z.appendChild(this.Hr)}this.Z.appendChild(this.body);
this.k()};j2.prototype.a3U=function(I,k){};j2.prototype.a3P=function(I){};j2.prototype.wu=function(I,k){if(k==f9._7||k==f9.Cd)if(this.FH)this.FH.rt(I.RR)};
j2.prototype.vD=function(I){};j2.prototype.k=function(){if(this.FH)this.FH.k();else this.Hr.innerHTML=$.z5(this.vZ,null,"toolicon");
this.Qi()};j2.prototype.Qi=function(){};function cC(){j2.call(this);this.tA=new hS;this.tA.O(M.E.B,this.vA,this);
this.body.appendChild(this.tA.Z)}cC.prototype=new j2;cC.prototype.Qi=function(){this.tA.k()};cC.prototype.vA=function(I){var k=new d2(M.E.b,!0);
k.data={q:M.p.R9,S:this.S,CU:this.tA.aax()};this.a(k)};cC.prototype.vD=function(I){this.tA.as8(I.sw)};
function e3(I){j2.call(this);if(I==null)return;this.wY=null;this.GC={};if(I.indexOf("brush")!=-1&&I.indexOf("prsr")==-1)I.push("prsr");
for(var Y=0;Y<I.length;Y++){var k=I[Y],a=null;if(k=="brush"){a=new bo}if(k=="bmode"){a=new fB([12,19,0],aU.L6,aU.e2)}if(k=="bmode0"){a=new fB([12,19,0],aU.L6.slice(23))}if(k=="emode"){a=new fB([12,36],[[9,3],[10,38]])}if(k=="opacity"){a=new fM([12,0],0,100,"%");
a.j(100)}if(k=="flow"){a=new fM([12,63],0,100,"%");a.j(100)}if(k=="smth"){a=new fM([19,3,0],0,100,"%");
a.j(0)}if(k=="samp"){a=new fB([12,36],[[12,25,4],[12,25,5],[12,46]])}if(k=="wconf"){a=new bX;a.j([40,!0,!0])}if(k=="sall"){a=new dI([12,25,2])}if(k=="smode"){a=new fB([12,36],[[19,7,0],[19,7,1]]);
a.j(1)}if(k=="pdetail"){a=new dI([12,65]);a.rG()}if(k=="rng"){a=new fB([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
a.j(1)}if(k=="expo"){a=new fM([12,5],0,100,"%");a.j(50)}if(k=="algnd"){a=new dI([12,75]);a.j(!1)}if(k=="sfrom"){a=new fB([12,70],[[17,1],[17,3],[17,0]])}if(k=="alt"){a=new da(null,["Alt"],!0,["Select Source"])}if(k=="qsmode"){a=new f8([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(k=="redge"){a=new iP([7,11],!1,null,!0)}if(k=="sesu"){a=new iP("Select Subject",!1,null,!0)}if(k=="setop"){a=new gm}if(k=="patch"){a=new f8(null,[[12,70],[12,71]])}if(k=="strn"){a=new fM([12,64],1,100,"%");
a.j(50)}if(k=="prsr"){a=this.GC.brush.hn}this.body.appendChild(a.Z);if(k=="prsr")continue;a.parent=this;
this.GC[k]=a;if(k=="brush")a.O(M.E.B,this.aBu,this);else if(k=="redge"||k=="sesu")a.O("click",bG.avi,this);
else a.O(M.E.B,this.Ry,this)}}e3.prototype=new j2;e3.prototype.a3U=function(I,k){I=I[1];var a=this.GC;
if(I.Md)a.bmode.j(aU.$k.indexOf(I.Md.v.BlnM));if(I.Opct)a.opacity.j(I.Opct.v);if(I.flow)a.flow.j(I.flow.v);
if(I.Brsh)a.brush.j(I,k.Yg.HR,k.Yg.GR);if(I.FrgC){var n=j.G.GW(I.FrgC.v),s=new d2(M.E.b,!0);s.data={q:M.p.iv,CU:f9.S8,ar:0,P:n.$<<16|n.H<<8|n.J};
this.a(s)}this.aBu();this.Ry()};e3.prototype.a3P=function(){if(E.k1[this.S]==null)return null;var I=this.GC,k;
for(var a in E.MC)if(E.MC[a]==this.S)k=a;var n=JSON.parse(JSON.stringify(I.brush.l()));n.classID=k;if(I.bmode)n.Md={t:"enum",v:{BlnM:aU.$k[I.bmode.l()]}};
if(I.opacity)n.Opct={t:"long",v:I.opacity.l()};if(I.flow)n.flow={t:"long",v:I.flow.l()};var s=this.wY.MW;
s={$:s>>>16,H:s>>>8&255,J:s&255};n.FrgC={t:"Objc",v:j.G.pI(s)};return["Brush Preset "+n.Brsh.v.Dmtr.v.val,n]};
e3.prototype.Qi=function(){for(var I in this.GC)this.GC[I].k()};e3.prototype.vD=function(I){if(I.a9G=="showBrushOpts"){this.GC.brush.a5e(I.pN.x,I.pN.y)}for(var k in I.j8){var a=I.j8[k];
if(k!="qsmode")a*=100;if(this.GC[k])this.GC[k].j(a)}};e3.prototype.wu=function(I,k){j2.prototype.wu.call(this,I,k);
this.wY=I;var a=this.GC.brush;if(a==null)return;if(k==f9._7||k==f9.yO)a.rt(I.Yg);if(k==f9.Q2){a.j(I.Yg.Cj,I.Yg.HR,I.Yg.GR)}};
e3.prototype.aBu=function(){var I=new d2(M.E.b,!0);I.data={q:M.p.iv,CU:f9.Q2,ZA:this.GC.brush.l()};this.a(I)};
e3.prototype.Ry=function(){var I=new d2(M.E.b,!0);I.data={q:M.p.R9,S:this.S};for(var k in this.GC){if(k=="brush"||k=="redge")continue;
var n=this.GC[k].l();if(["opacity","flow","smth","expo","strn"].indexOf(k)!=-1)I.data[k]=n/100;else if(k=="bmode")I.data.bmode=aU._B[n];
else if(k=="bmode0")I.data.bmode=aU._B[23+n];else I.data[k]=n}this.a(I)};function bG(I,k){j2.call(this);
if(I)return;this.GC={};for(var Y=0;Y<k.length;Y++){var a=k[Y],n=null;if(a=="sesu"&&!$.t3(0))continue;
if(a=="binop")n=new gm;if(a=="feat"){n=new fM([7,6],0,100,"px");n.j(0)}if(a=="redge")n=new iP([7,11],!1,null,!0);
if(a=="sesu")n=new iP("Select Subject",!1,null,!0);if(a=="wconf")n=new bX;if(a=="cstr")n=new iC;if(a=="anta"){n=new dI([12,25,1]);
n.j(!0)}if(a=="sall")n=new dI([12,25,2]);if(a=="redge"||a=="sesu")n.O("click",bG.avi,this);else n.O(M.E.B,this.Ry,this);
n.parent=this;this.body.appendChild(n.Z);this.GC[a]=n}}bG.prototype=new j2;bG.prototype.vD=function(I){if(I.bf!=null)this.GC.binop.j(I.bf);
else if(I.J$){for(var k in I.J$)if(this.GC[k])this.GC[k].j(I.J$[k])}else{var a=bG.ZM;if(a==null){var n=fd.a3s(!0);
a=bG.ZM=new io(n.items,n.xV)}a.k();a.parent=this;a.update(I.Lr,I.tb);var s=new d2(M.E.b,!0);s.data={q:M.p.ut,zM:a,x:I.Yc.E1+2,y:I.Yc.uI+1};
this.a(s)}};bG.prototype.Qi=function(){for(var I in this.GC)this.GC[I].k()};bG.avi=function(I){var k=I.target==this.GC.sesu,a=new d2(k?M.E.r:M.E.b,!0);
if(k){a.S=E.FQ;a.data={q:"bgrm",P:2}}else a.data={q:M.p.Fu,aw:"redge"};this.a(a)};bG.prototype.Ry=function(){var I=new d2(M.E.b,!0);
I.data={q:M.p.R9,S:this.S,J$:{}};for(var k in this.GC)I.data.J$[k]=this.GC[k].l();this.a(I)};function ds(){e3.call(this,["brush","strn"])}ds.prototype=new e3;
function jU(){e3.call(this,"brush bmode opacity flow smth prsr".split(" "))}jU.prototype=new e3;function dk(){e3.call(this,["brush","bmode0","samp","wconf"])}dk.prototype=new e3;
function gX(){e3.call(this,["brush"])}gX.prototype=new e3;function a7(){e3.call(this,["brush","bmode","opacity","smth","prsr"])}a7.prototype=new e3;
function eD(){e3.call(this,["brush","rng","expo"])}eD.prototype=new e3;function iA(){e3.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}iA.prototype=new e3;
function iZ(I){j2.call(this);if(I==null)return;this.Ss=[];this.uM=new iP("\u2026",!1,null,!0);if(!I)this.body.appendChild(this.uM.Z);
this.uM.O("click",this.Sn,this);this.LL=new gB;this.LL.parent=this;var k=this.LL.Z=$.I("div","floatcont form"),a=[[17,0],[17,1],[11,12,0],[17,2]];
for(var Y=0;Y<a.length;Y++){var n=new iP(a[Y],!1,null,!0);this.Ss.push(n);n.O("click",this.aw0,this);
if(!I||Y==1)k.appendChild(n.Z)}this.MG=new iC;this.MG.O(M.E.B,this.gm,this);if(!I)this.body.appendChild(this.MG.Z);
this.mF=new iP([15,7,6],!1,null,!0);this.mF.O("click",this.aw0,this);if(!I)this.body.appendChild(this.mF.Z);
this.vT=new dI([15,7,10]);this.vT.O(M.E.B,this.gm,this);if(!I)this.body.appendChild(this.vT.Z);this.lS=new dI("Content-Aware");
this.lS.O(M.E.B,this.gm,this);if(!I)this.body.appendChild(this.lS.Z);this.Aa=new go;this.Aa.O("click",this.EP,this)}iZ.prototype=new j2;
iZ.prototype.Sn=function(I){if($.TU(this.LL.Z))return;var k=this.uM.Z.getBoundingClientRect(),a=new d2(M.E.b,!0);
a.data={q:M.p.ut,zM:this.LL,x:k.left,y:k.top+k.height+4};this.a(a)};iZ.prototype.Qi=function(){this.Aa.k();
for(var Y=0;Y<this.Ss.length;Y++)this.Ss[Y].k();this.MG.k();this.vT.k();this.mF.k()};iZ.prototype.vD=function(I){if(I.oy){this.MG.ak8(I.oy[0],I.oy[1]);
return}var k=this.Aa.Z;if(I.x2)this.body.appendChild(k);else if(this.body.contains(k))this.body.removeChild(k);
if(I.MG)this.MG.j(I.MG)};iZ.prototype.EP=function(I){var k={q:M.p.R9,S:this.S,Ln:this.Aa.l()?"commit":"cancel"},a=new d2(M.E.b,!0);
a.data=k;this.a(a)};iZ.prototype.aw0=function(I){I.target.Z.blur();var k={q:M.p.R9,S:this.S,Ln:"cropby",ain:this.Ss.indexOf(I.target)};
if(I.target==this.mF)k.Ln="straighten";var a=new d2(M.E.b,!0);a.data={q:M.p.nx,zM:this.LL};this.a(a);
a.data=k;this.a(a)};iZ.prototype.gm=function(I){var k={q:M.p.R9,S:this.S,Ln:"config",gL:{lp:this.MG.l(),OX:this.vT.l(),_t:this.lS.l()},aE9:I.target==this.MG},a=new d2(M.E.b,!0);
a.data=k;this.a(a)};function d7(){iZ.call(this,!1)}d7.prototype=new iZ;function kz(){iZ.call(this,!0)}kz.prototype=new iZ;
function de(){e3.call(this,["brush","rng","expo"])}de.prototype=new e3;function ea(){e3.call(this,"brush emode opacity flow smth prsr".split(" "))}ea.prototype=new e3;
function b5(){e3.call(this,["brush","samp","wconf"])}b5.prototype=new e3;function gF(){bG.call(this,!1,["binop","feat","anta","redge","cstr"])}gF.prototype=new bG(!0);
function gC(){j2.call(this);var I=this.GC=[new fB([12,20,0],["1x1","3x3","5x5","11x11","31x31"]),new fB([12,70],[[17,1],[17,3],[17,0]]),new dI([12,20,1]),new dI([8,0])];
I[1].j(2);I[2].j(!0);for(var Y=0;Y<I.length;Y++){var k=I[Y];k.O(M.E.B,this.Ry,this);this.body.appendChild(k.Z)}}gC.prototype=new j2;
gC.prototype.Ry=function(I){var k=this.GC,a=[];for(var Y=0;Y<k.length;Y++)a[Y]=k[Y].l();var n=new d2(M.E.b,!0);
n.data={q:M.p.R9,S:this.S,J$:a};this.a(n)};gC.prototype.Qi=function(){for(var Y=0;Y<this.GC.length;Y++)this.GC[Y].k()};
function bp(){j2.call(this);this.mv=!1;this.HQ=new bF("GrFl",!0);this.HQ.parent=this;this.HQ.update(null,JSON.parse(fY.iH[6]));
this.HQ.O(M.E.B,this.Rb,this);var I="Grad Type Md Opct Rvrs Dthr".split(" ");for(var Y=0;Y<I.length;
Y++)this.body.appendChild(this.HQ.Ko[I[Y]].Z);this.ID=new iP([6,48,1],!1,null,!0);this.ID.O("click",this.Rb,this);
this.body.appendChild(this.ID.Z)}bp.prototype=new j2;bp.prototype.Qi=function(I){var I=this.mv;this.body.children[2].style.display=I?"none":"";
this.body.children[3].style.display=I?"none":"";this.HQ.k();this.ID.k()};bp.prototype.wu=function(I,k){j2.prototype.wu.call(this,I,k);
var a=k==f9.S8,n=this.HQ.Ko.Grad;n.Uk(I.MW,I.U2);if(a||k==f9.RN||k==f9._7)n.rt(I.iG)};bp.prototype.Rb=function(I){if(I.target==this.ID){var k=new d2(M.E.rd,!0);
k.data=E.WX.HO(1);this.a(k);return}this.k();var k=new d2(M.E.b,!0);k.data={q:M.p.R9,S:this.S,CU:this.HQ.l()};
this.a(k)};bp.prototype.vD=function(I){this.mv=I.n;this.k();this.HQ.update(null,I.CU);this.k()};function bx(){j2.call(this);
this.cv=new dI([8,7,1]);this.body.appendChild(this.cv.Z);this.cv.O(M.E.B,this.Ry,this)}bx.prototype=new j2;
bx.prototype.Ry=function(){var I={q:M.p.R9,S:this.S,C_:this.cv.l()},k=new d2(M.E.b,!0);k.data=I;this.a(k)};
function i5(){j2.call(this);var I=$.I("span","fitem");this.body.appendChild(I);this.DL=[new fM([12,15],-180,180,"\xB0"),new iP([1,12,2],null,null,!0)];
for(var Y=0;Y<this.DL.length;Y++){var k=this.DL[Y];k.parent=this;I.appendChild(k.Z);k.O(Y==1?"click":M.E.B,this.FP,this)}}i5.prototype=new j2;
i5.prototype.Qi=function(){for(var Y=0;Y<this.DL.length;Y++)this.DL[Y].k()};i5.prototype.vD=function(I){this.DL[0].j(I.Mq*180/Math.PI)};
i5.prototype.FP=function(I){var k=this.DL.indexOf(I.target),a=new d2(M.E.b,!0);a.data={q:M.p.R9,S:this.S,Mq:k==1?0:I.target.l()*Math.PI/180};
this.a(a)};function bq(){e3.call(this,["brush","algnd","sfrom","alt"])}bq.prototype=new e3;function hh(){j2.call(this);
this.tx=new i_;this.tx.parent=this;this.body.appendChild(this.tx.ko.Z);this.body.appendChild(this.tx.su.Z);
this.body.appendChild(this.tx.$d.Z);this.body.appendChild(this.tx.k_.Z);var I=$.I("span","fitem");this.body.appendChild(I);
I.appendChild(this.tx.n9.Z);I.appendChild(this.tx.Ye.Z);I.appendChild(this.tx.OE.Z);this.ap=new fB("Aa",[[22,5,0],[12,95,0],[12,95,1],[12,95,2],[12,95,3]]);
this.ap.O(M.E.B,this.EP,this);this.body.appendChild(this.ap.Z);this.df=new fB(null,["\u2191","-","\u2193"],null,["VAR0: VAR1",[12,75],[22,4,1]]);
this.df.O(M.E.B,this.EP,this);this.body.appendChild(this.df.Z);this.wO=new iP([11,9],!1,null,!0);this.wO.O("click",this.aDi,this);
this.body.appendChild(this.wO.Z);this.Aa=new go;this.Aa.O("click",this.EP,this)}hh.prototype=new j2;
hh.prototype.Qi=function(){this.Aa.k();this.tx.k();this.wO.k()};hh.prototype.aDi=function(I){var k={q:M.p.R9,S:this.S,Ln:"showwarp"},a=new d2(M.E.b,!0);
a.data=k;this.a(a)};hh.prototype.vD=function(I){if(I.Ln=="showactive")this.body.appendChild(this.Aa.Z);
if(I.Ln=="hideactive")this.body.removeChild(this.Aa.Z);if(I.Ln=="changeOther"){this.ap.j(I.hz);this.df.j([0,2,1][I.o6])}if(I.Ln=="showpan"){var k=[{name:[0,1],g6:!0}],a=[{K:M.E.r,S:E.N$,v:{q:"editCurr",qb:I.qb}}],n=I.Yc;
if(I.a6g){k=[{name:["VAR0: VAR1",[0,5],[7,0]],g6:!0}];a=[{K:M.E.rd,v:E.BN.dS(!0)}];var s=fd.a3N();k=k.concat(s[0]);
a=a.concat(s[1])}k.push({name:[11,9]});a.push({K:M.E.b,v:{q:M.p.R9,S:this.S,Ln:"showwarp"}});var C=new io(k,a);
C.parent=this;C.k();C.update(I.Lr,I.tb);var T=new d2(M.E.b,!0);T.data={q:M.p.ut,zM:C,x:n.E1+2,y:n.uI+1};
this.a(T)}};hh.prototype.wu=function(I,k){j2.prototype.wu.call(this,I,k);if(k!=f9._7&&k!=f9.ug&&k!=f9.xr&&k!=f9.fr)return;
this.tx.j(I.kd,I.IE,I.YZ)};hh.prototype.EP=function(I){var k={q:M.p.R9,S:this.S,Ln:this.Aa.l()?"commit":"cancel"};
if(I.target==this.ap||I.target==this.df){k.Ln="changeOther";k.hz=this.ap.l();k.o6=[0,2,1][this.df.l()]}var a=new d2(M.E.b,!0);
a.data=k;this.a(a)};function iq(){bG.call(this,!1,["binop","feat","anta","redge"])}iq.prototype=new bG(!0);
function dv(){j2.call(this);var I=[],a="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this._H=new dI([12,85]);this._H.j(!0);this._H.O(M.E.B,this.Ry,this);I.push(this._H.Z);this.w1=new fB(null,[[0,4],[0,3]]);
this.w1.O(M.E.B,this.Ry,this);this.w1.j(1);I.push(this.w1.Z);this.VS=new dI([20,1]);this.VS.O(M.E.B,this.Ry,this);
I.push(this.VS.Z);this._Y=new dI([12,83]);this._Y.O(M.E.B,this.Ry,this);I.push(this._Y.Z);this.LL=new gB;
this.LL.Z=$.I("div","floatcont form");this.LL.Z.setAttribute("style","max-width: 200px;");this.LL.parent=this;
var k=this.LL.Z;this.a1a=new fB("Scale for exported files",["1x","2x","3x","4x"]);k.appendChild(this.a1a.Z);
this.u4=new iP(a+" PNG",!1,"Save selected layers as PNG",!0);k.appendChild(this.u4.Z);this.u4.O("click",this.lA,this);
this.a6M=new iP(a+" SVG",!1,"Save selected layers as SVG",!0);k.appendChild(this.a6M.Z);this.a6M.O("click",this.lA,this);
var n=new iP(a,!1,"Save selected layers",!0);I.push(n.Z);n.O("click",function(D){if($.TU(this.LL.Z))return;
var o=n.Z.getBoundingClientRect(),v=new d2(M.E.b,!0);v.data={q:M.p.ut,zM:this.LL,x:o.left,y:o.top+o.height,Dr:!0};
this.a(v)},this);var s=$.I("span","fitem");I.push(s);var C=$.I("span","fitem");I.push(C);this.rS=[];
for(var Y=0;Y<8;Y++){var T=Y==3||Y==7?[20,4,6]:[20,4,Y<3?Y:Y-1],S=new iP("Hi",!1,T);(Y<4?s:C).appendChild(S.Z);
S.O("click",this.lA,this);this.rS.push(S)}for(var Y=0;Y<I.length;Y++)this.body.appendChild(I[Y]);this.a79=I}dv.prototype=new j2;
dv.prototype.vD=function(I){var k=I.sw,a=I.ac5;this._H.j(k.BE);this.VS.j(k.ip);this._Y.j(k.eQ);if(a){$.GD(this.body);
for(var Y=0;Y<a.length;Y++)if(a[Y]==1&&this.a79[Y])this.body.appendChild(this.a79[Y])}};dv.prototype.lA=function(I){var k=this.rS.indexOf(I.target),a;
if(k==-1){a=new d2(M.E.b,!0);a.data={q:M.p.R9,S:this.S,ar:I.target==this.u4?"getPNG":"getSVG",NT:this.a1a.l()+1}}else{a=new d2(M.E.r,!0);
a.S=E.Mt;a.data={q:"algn",P:k}}this.a(a)};dv.prototype.Ry=function(I){var k=new d2(M.E.b,!0);k.data={q:M.p.R9,S:this.S,ar:"prms",BE:this._H.D6(),afe:this.w1.l(),ip:this.VS.D6(),eQ:this._Y.D6()};
this.a(k)};dv.prototype.Qi=function(){this._H.k();this.w1.k();this.VS.k();this._Y.k();var I="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var Y=0;Y<8;Y++){this.rS[Y].jO($.z5("align/"+I[Y],null,"autoscale"))}};function fS(){bG.call(this,!1,"binop feat redge sesu wconf sall".split(" "))}fS.prototype=new bG(!0);
function gn(){e3.call(this,["setop","patch"])}gn.prototype=new e3;function hs(){e3.call(this,["setop"])}hs.prototype=new e3;
function d0(I){var k=I==E.a9R?[]:["bmode"];e3.call(this,k.concat(["opacity","wconf","sall"]))}d0.prototype=new e3;
function dO(){bG.call(this,!1,["binop","feat","anta","redge"])}dO.prototype=new bG(!0);function hA(){bG.call(this,!1,["binop","feat","anta","redge"])}hA.prototype=new bG(!0);
function a1(){bG.call(this,!1,["binop","feat","redge","cstr"])}a1.prototype=new bG(!0);function i0(){j2.call(this);
this.wY=null;this.Pa=null;this.I_=[new ja("X",null,3.2,null,!0),new ja("Y",null,3.2,null,!0),new ja("W",null,3.2,null,!0),new ja("H",null,3.2,null,!0),new ja([12,15],"\xB0",3.7,null,!0),new ja(["VAR0 1",[12,80,0]],null,3.5,null,!0),new ja(["VAR0 2",[12,80,0]],null,3.5,null,!0),new iP([15,7,6],!1,null,!0),new iP([2,2],!1,null,!0)];
for(var Y=0;Y<this.I_.length;Y++){var I=this.I_[Y];this.body.appendChild(I.Z);if(Y>6)I.O("click",this.Qs,this)}this.J6=0}i0.prototype=new j2;
i0.prototype.Qs=function(I){var k=this.I_.indexOf(I.target)==7,a=new d2(M.E.r,!0);if(k){if(this.J6==0)return;
a.S=E.Yo;a.data={q:"rot",xn:[2,5],P:-this.J6}}else{a.S=E.jt;for(var Y=0;Y<6;Y++)this.I_[Y].j(null)}this.a(a)};
i0.prototype.vD=function(I){function k(S,D,o){var v=Math.sqrt(Math.pow(D.x-S.x,2)+Math.pow(D.y-S.y,2)),g=Math.sqrt(Math.pow(D.x-o.x,2)+Math.pow(D.y-o.y,2)),d=Math.sqrt(Math.pow(o.x-S.x,2)+Math.pow(o.y-S.y,2));
return Math.acos((g*g+v*v-d*d)/(2*g*v))}if(I==null)return;this.Pa=I;var a=I.azV,n=I.A3,s=n.x-a.x,C=n.y-a.y;
this.J6=-Math.atan2(C,s);if(I.jI)this.J6=k(n,a,I.jI);var T=this.I_;T[0].j(this.kX(I,a.x));T[1].j(this.kX(I,a.y));
T[2].j(this.kX(I,s));T[3].j(this.kX(I,C));T[4].j((this.J6*180/Math.PI).toFixed(2));T[5].j(this.kX(I,kK.f0(a,n)));
if(I.jI){T[6].j(this.kX(I,kK.f0(a,I.jI)))}else T[6].j("")};i0.prototype.kX=function(I,k){var a=j.wJ.qO(k,I.oE,this.wY,I.ap8,!1);
return parseFloat(a).toFixed(2)};i0.prototype.wu=function(I,k){this.wY=I;this.vD(this.Pa)};i0.prototype.Qi=function(){var I=this.I_;
for(var Y=0;Y<I.length;Y++)I[Y].k();$.Ir(I[2],I[3])};function dy(){e3.call(this,["brush","strn","pdetail"])}dy.prototype=new e3;
function at(){e3.call(this,["brush","sfrom"]);this.anG=[];var I=[[7,12]];for(var Y=0;Y<I.length;Y++){var k=new iP(I[Y],!1,null,!0);
this.anG.push(k);k.parent=this;this.body.appendChild(k.Z);k.O("click",this.atg,this)}}at.prototype=new e3;
at.prototype.atg=function(I){var k=this.anG.indexOf(I.currentTarget),a=new d2(M.E.rd,!0);a.data=E.dX.HO(k==0?"contentAware":"aiHeal");
this.a(a)};function dQ(){e3.call(this,["brush","strn"])}dQ.prototype=new e3;function ai(){e3.call(this,["brush","flow","smode"])}ai.prototype=new e3;
function ah(){j2.call(this);this.Us=!1;var I=$.I("span","fitem");this.body.appendChild(I);this.VU=new f8(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
I.appendChild(this.VU.Z);this.VU.O(M.E.B,this.Ry,this);this.Z1=new iP([20,2]);this.body.appendChild(this.Z1.Z);
this.Z1.O("click",this.aaA,this);this.Kx=new iP([20,3]);this.body.appendChild(this.Kx.Z);this.Kx.O("click",this.aaA,this);
this.cv=new dI([8,7,1]);this.body.appendChild(this.cv.Z);this.cv.O(M.E.B,this.Ry,this)}ah.prototype=new j2;
ah.prototype.Qi=function(){this.Z1.k();this.Kx.k()};ah.prototype.Ry=function(){var I={q:M.p.R9,S:this.S,KJ:this.VU.l()==0,C_:this.cv.l()},k=new d2(M.E.b,!0);
k.data=I;this.a(k)};ah.prototype.vD=function(I){if(this.Us!=I.Us)this.VU.j(1-this.VU.l());this.Us=I.Us};
ah.prototype.aaA=function(I){var k=new d2(M.E.r,!0);k.S=E.VX;k.data={q:"adapt",P:I.target==this.Z1?"pixel":"fitscr"};
this.a(k)};function e9(I,k){j2.call(this);if(I==null)return;this.qT=I;this.WE={};this.aka=k;for(var Y=0;
Y<I.length;Y++){var a=I[Y],n=null;if(a=="tmode"){n=new fB(null,[[12,76,1],[12,76,0],[12,76,2]]);n.j(0);
if(k)n.a3$(2)}if(a=="make"){n=new f8("Make",[[17,2],[12,76,1]],null,!0)}if(a=="anta"){n=new dI([12,25,1]);
n.j(!0)}if(a=="binop"){n=new fB(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(a=="pshape")n=new fB(null,[[12,93,0],[12,93,1],[12,93,4],[12,93,2]]);
if(a=="shape")n=new c1([12,76,1]);if(a=="crad"){n=new fM([12,94,0],0,50,"px");n.j(0)}if(a=="cstr"){n=new iC}if(a=="irad"){n=new fM([12,94,1],0,100,"%");
n.j(40)}if(a=="length"){n=new fM([12,80,0],4,40);n.j(4)}if(a=="sides"){n=new fM([12,78],3,30);n.j(5)}if(a=="width"){n=new fM([12,41],0,100,"px");
n.j(5)}if(a=="tolr"){n=new fM([12,24],0,100);n.j(5)}if(a=="fstyle"){n=new kd([12,26])}if(a=="sstyle"){n=new jo}if(a=="psnap"){n=new dI([8,10])}if(a=="crnr"){n=new iP("\u2312",!1,[12,94,0],!0)}if(a=="aopts"){n=new bi;
n.j([!1,!1,50,60,0])}if(a=="smplp"){n=new iP([12,94,2],!1,["VAR0 (VAR1)",[12,94,2],[8,9]],!0)}n.parent=this;
this.body.appendChild(n.Z);this.WE[a]=n;n.O(a=="crnr"||a=="smplp"?"click":M.E.B,this.Ry,this)}}e9.prototype=new j2;
e9.prototype.vD=function(I){if(I.bf!=null)this.WE.binop.j(I.bf);else if(I.ar=="vals")for(var k in I.asq)this.WE[k].j(I.asq[k]);
else{var a=e9.ZM,n=function(C){return{e:C!=null&&C.rb(!1)}};if(a==null)a=e9.ZM=new io([{name:"Remove Anchor Point",e:function(C){var T=C?C.iQ():null;
return{e:C&&T[1].length!=0&&T[0][T[1][0]].add.vmsk.Ut.length!=0}}},{name:"Remove Path",e:function(C){var T=C?C.iQ():null;
return{e:C&&T[1].length!=0&&T[0][T[1][0]].add.vmsk.T.length!=0}},g6:!0},{name:"Make Selection"},{name:[2,3],e:n},{name:[14,9],e:n}],[{K:M.E.r,S:E.Kc,v:{q:"remove",Iq:!0}},{K:M.E.r,S:E.N4,v:{q:"remove"}},{K:M.E.b,v:{q:M.p.Fu,aw:"makesel"}},{K:M.E.rd,v:E._v.pV(null)},{K:M.E.b,v:{q:M.p.Fu,aw:"strokepath"}}]);
a.parent=this;a.update(I.Lr,I.tb);var s=new d2(M.E.b,!0);s.data={q:M.p.ut,zM:a,x:I.Yc.E1+2,y:I.Yc.uI+1};
this.a(s)}};e9.prototype.a1O=function(Y){return null};e9.prototype.Qi=function(){for(var I in this.WE){this.WE[I].k()}};
e9.prototype.Ry=function(I){var k=new d2(M.E.b,!0),n=this.WE;if(I.target==n.crnr){k=new d2(M.E.r,!0);
k.S=E.Kc;k.data={q:"crnr"}}else if(I.target==n.smplp){k=new d2(M.E.r,!0);k.S=E.N4;k.data={q:"smplp"}}else if(I.target==n.make){var Y=I.target.l();
console.log(Y);if(Y==0)k.data={q:M.p.Fu,aw:"makesel"};else{k=new d2(M.E.r,!0);k.S=E.lc;k.data={q:"newfill",_W:0}}}else if(I.target==n.fstyle){k.data={q:M.p.iv,CU:f9.l2,P:n.fstyle.l()}}else if(I.target==n.sstyle){k.data={q:M.p.iv,CU:f9.pf,P:n.sstyle.l()}}else if(I.target==n.tmode){k.data={q:M.p.iv,CU:f9.YC,P:n.tmode.l()}}else{if(n.pshape)this.$R();
k.data={q:M.p.R9,S:this.S};for(var s in n)k.data[s]=n[s].l()}this.a(k)};e9.prototype.$R=function(){var I=this.WE,k=I.tmode.l(),a=I.pshape?this.a1O(I.pshape.l()):this.qT,n;
if(k==0)n=["anta","make"];if(k==1)n=["anta","fstyle","sstyle"];if(k==2)n=["make","binop","fstyle","sstyle"];
var s=I.binop;if(s){var C=s.l();if(k==0){s.agl(0)}else{s.a3$(0);if(C==0){s.j(1);this.Ry({target:s})}}}$.GD(this.body);
for(var Y=0;Y<a.length;Y++){var T=a[Y];if(n.indexOf(T)!=-1)continue;this.body.appendChild(I[T].Z)}};
e9.prototype.wu=function(I,k){j2.prototype.wu.call(this,I,k);var a=this.WE.fstyle,n=this.WE.sstyle,s=this.WE.tmode;
if(a)a.wu(I,k);if(n)n.wu(I,k);if(k==f9._7||k==f9.DX)if(I.lo.length!=0&&this.WE.shape){this.WE.shape.rt(I.lo)}if(k==f9._7||k==f9.l2)if(a)a.j(null,I.r3,I.a1i);
if(k==f9._7||k==f9.pf)if(n)n.j(null,I.zz,I.a2v);if(k==f9._7||k==f9.YC){var C=I.vj;if(this.aka&&C==2)C=0;
if(s){s.j(C);this.$R()}}};function jJ(){e9.call(this,["tmode","make","fstyle","sstyle","binop"],!0)}jJ.prototype=new e9;
function gp(){e9.call(this,"tmode make anta fstyle sstyle binop".split(" "))}gp.prototype=new e9;function g9(){e9.call(this,["fstyle","sstyle","smplp"]);
this.aCq=null;this.a5j=null;this.auY=null;this.hX=new fB([12,76,0],[[18,1],[18,2],[18,3],[18,4],[18,5]],[4]);
this.jQ=new iP("\u25BC");this.jQ.rG();this.ia=new iP("\u25B2");this.ia.rG();this.KB=[this.hX,this.jQ,this.ia];
for(var Y=0;Y<this.KB.length;Y++){var I=this.KB[Y];this.body.appendChild(I.Z);I.parent=this;I.O(Y==0?M.E.B:"click",this.lf,this)}}g9.prototype=new e9;
g9.prototype.vD=function(I){if(I.Ln=="main"){var k=this.KB,a=I.nW;if(a){this.a5j=a.clone();this.auY=JSON.stringify(I.Z_);
var n=a.T.slice(0),s=n.length;for(var Y=0;Y<n.length;Y++)n[Y]++;n.sort(function(D,o){return D-o});k[0].MK();
k[1].wl(s!=0);k[2].wl(s!=0);k[0].jO(s==0?"No Paths":s==1?"Path "+n[0]:"Paths "+n.slice(0,3).join(",")+(s>3?"..":""));
if(s!=0){var C=a.T[0],T=j.n.XN(a.d,C),S=a.d[T];this.hX.j([3,0,1,2][S.Np])}}else for(var Y=0;Y<k.length;
Y++)k[Y].hl()}else e9.prototype.vD.call(this,I)};g9.prototype.Qi=function(){e9.prototype.Qi.call(this);
this.hX.k()};g9.prototype.lf=function(I){if(I.target==this.hX||I.target==this.jQ||I.target==this.ia){var k={},a=this.a5j,n=a.d,s=a.T,C=j.n.gZ(n),T=JSON.parse(this.auY);
s.sort(function(K,_){return K-_});if(I.target==this.hX){var S=this.hX.l();if(S<4)for(var Y=0;Y<s.length;
Y++)n[j.n.XN(n,s[Y])].Np=[1,2,3,0][S];else{if(C<=1)return;a.d=j.n.Su(n);a.T=a.d.length==2?[]:[0];a.Ut=[];
T=[j.Z_.k5()]}}else{var D=I.target==this.jQ?-1:1,o=[];for(var Y=0;Y<C;Y++){var v=j.n.XN(n,Y),g=v+1+n[v].length;
o.push(n.slice(v,g))}var d=s.slice(0);for(var Y=0;Y<s.length;Y++)d[Y]=Math.max(Y,Math.min(C-1-(s.length-1-Y),d[Y]+D));
if(s.join(",")==d.join(","))return;var R=JSON.parse(JSON.stringify(T));for(var Y=0;Y<s.length;Y++){var c=D==-1?Y:s.length-1-Y,v=s[c],g=d[c];
if(v!=g){var e=o[v];o[v]=o[g];o[g]=e;e=R[v];R[v]=R[g];R[g]=e}}var O=n.slice(0,2);for(var Y=0;Y<o.length;
Y++)O=O.concat(o[Y]);a.d=O;a.T=d;T=R}k.nW=a;k.Z_=T;var U=new d2(M.E.b,!0);U.data={q:M.p.R9,S:this.S,ri:k};
this.a(U)}};function fk(){e9.call(this,["fstyle","sstyle","crnr","psnap"])}fk.prototype=new e9;function hw(){e9.call(this,"tmode make anta fstyle sstyle binop cstr crad".split(" "))}hw.prototype=new e9;
function i7(){e9.call(this,"tmode make anta fstyle sstyle binop cstr".split(" "))}i7.prototype=new e9;
function h9(){e9.call(this,"tmode make anta fstyle sstyle binop pshape sides irad crad width aopts length".split(" "));
this.WE.aopts.j([!1,!0,50,60,0])}h9.prototype=new e9;h9.prototype.a1O=function(Y){var I=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["length"]];
return"tmode make fstyle sstyle binop pshape".split(" ").concat(I[Y])};function iF(){e9.call(this,"tmode make anta fstyle sstyle binop width aopts".split(" "))}iF.prototype=new e9;
function hV(){e9.call(this,"tmode make anta fstyle sstyle binop cstr shape".split(" "))}hV.prototype=new e9;
function j0(){bG.call(this,!1,["binop","feat","redge","sesu"])}j0.prototype=new bG(!0);function jr(){e3.call(this,["brush","qsmode","redge","sesu"])}jr.prototype=new e3;
function dl(){j2.call(this);this.Gf=[];for(var Y=0;Y<2;Y++){var I=new iP(Y==0?[8,11,3]:["VAR0...",[15,10,22]],null,null,!0);
this.Gf.push(I);I.O("click",this.lf,this);this.body.appendChild(I.Z)}}dl.prototype=new j2;dl.prototype.lf=function(I){var k;
if(this.Gf.indexOf(I.target)==0){k=new d2(M.E.rd,!0);k.data={pi:"make",zf:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}}}else{k=new d2(M.E.b,!0);
k.data={q:M.p.Fu,aw:"divslice"}}this.a(k)};dl.prototype.Qi=function(I){for(var Y=0;Y<this.Gf.length;
Y++)this.Gf[Y].k()};function g2(){j2.call(this);var I=this.uX=[new iP("\u25BC",null,null,!0),new iP("\u25B2",null,null,!0),new iP([5,4],null,null,!0),new iP(["VAR0...",[15,10,22]],null,null,!0)];
for(var Y=0;Y<4;Y++){var k=I[Y];this.body.appendChild(k.Z);k.O("click",this.lf,this)}}g2.prototype=new j2;
g2.prototype.lf=function(I){var k=this.uX.indexOf(I.target),a;if(k==3){a=new d2(M.E.b,!0);a.data={q:M.p.Fu,aw:"divslice"}}else{a=new d2(M.E.r,!0);
a.S=E.s4;a.data={q:k==2?"delete":"reorder",dir:k==0?-1:1}}this.a(a)};g2.prototype.k=function(){j2.prototype.k.call(this);
for(var Y=0;Y<4;Y++)this.uX[Y].k()};function c8(I,k){j2.call(this);if(window.Typr==null||I)return;this.adw=k;
this.fq=null;this.aiQ=$.I("span","");this.ag0=$.I("span","");var a=1,n=this.HF={GJ:new aB(null,24),gX:new fM("X",0,0,"px",0,!1,!0,4),YN:new fM("Y",0,0,"px",0,!1,!0,4),t0:new fM("W",0,0,["%","px"],2,!1,!0,5),jC:new iP("<img src=\""+PIMG["lrs/link"]+"\" class=\"autoscale gsicon\" />",null,[12,51],null),AK:new fM("H",0,0,["%","px"],2,!1,!0,5),aBe:new fM("\u2221",0,0,"\xB0",a,!1,!0),aay:new fM("\u25B1 H",-85,85,"\xB0",a,!1,!0),aAo:new fM("\u25B1 V",-85,85,"\xB0",a,!1,!0),qx:new fB(null,[[12,14,2],[12,14,3],"Bicubic Sharper"]),d_:new fB("Protect",[])};
n.qx.j(1);n.jC.j(!0);for(var s in n){var C=n[s],T=!0;if(k&&(C==n.aBe||C==n.aay||C==n.aAo||C==n.qx))T=!1;
if(!k&&C==n.d_)T=!1;if(T)this.aiQ.appendChild(C.Z);var S=C==n.jC?"click":M.E.B;C.O(S,this.aei,this)}this.Bu=new f8("Split",f8.Tj(["split/vh","split/v","split/h"]),["Crosswise",[22,4,3],[22,4,2]],null,!0);
this.Bu.j(-1);this.Bu.O(M.E.B,this.agt,this);this.U3=new g4(!0,!0,!0);this.U3.O(M.E.B,this.agt,this);
this.U3.parent=this;var D=this.ag0,o=this.U3;D.appendChild(this.Bu.Z);D.appendChild(o.cG.Z);D.appendChild(o.Mc.Z);
D.appendChild(o.MN.Z);D.appendChild(o.Jl.Z);D.appendChild(o.UR.Z);this.wO=new iP([11,9]);this.wO.O("click",this.ayS,this);
this.Aa=new go;this.Aa.O("click",this.EP,this)}c8.prototype=new j2;c8.prototype.vD=function(I){if(I.Yc){var k=c8,a=this.ZM;
if(a==null)a=this.ZM=new io(k.aCB(),k.a2c(this.S));a.k();a.parent=this;a.update(I.Lr,I.tb);var n=new d2(M.E.b,!0);
n.data={q:M.p.ut,zM:a,x:I.Yc.E1+2,y:I.Yc.uI+1};this.a(n);return}$.GD(this.body);this.fq=I;if(I.HF){var s=I.HF.Sq,C=I.HF.Ce.clone(),T=Math.atan2(-C.J,C.M),S=new dc;
S.rotate(-T);C.concat(S);var D=this.HF;D.GJ.j(I.HF.T7);D.gX.j(I.HF.gk.x);D.YN.j(I.HF.gk.y);D.t0.j(C.M*(D.t0.Qg()=="%"?100:s.Q));
D.AK.j(C.Jo*(D.AK.Qg()=="%"?100:s._));D.aBe.j(-T*180/Math.PI);D.aay.j(Math.atan(C.mL/C.Jo)*180/Math.PI);
D.aAo.j(0*180/Math.PI);this.body.appendChild(this.aiQ);this.wO.Jw();if(I.HF.O1!=null)D.jC.j(I.HF.O1)}if(I.dh){if(I.azY)this.Bu.j(-1);
this.U3.j(I.dh);this.body.appendChild(this.ag0);this.wO.rG()}if(I.TL)D.d_.wS(I.TL);this.body.appendChild(this.Aa.Z);
if(I.atr&&!this.adw)this.body.appendChild(this.wO.Z)};c8.prototype.aei=function(I){var k=this.HF,a=this.fq.HF.Sq;
if(I.target==k.jC)k.jC.j(!k.jC.l());else if(k.jC.D6()){var n=k.AK,s=k.t0,C=a._,T=a.Q;if(I.target==k.t0){n=k.t0;
s=k.AK;C=a.Q;T=a._}var S=n.l()/(n.Qg()=="%"?100:C);S*=s.Qg()=="%"?100:T;s.j(S)}var D=[];for(var o in k)if(k[o]!=k.jC&&k[o]!=k.GJ){var S=k[o].l();
if((k[o]==k.t0||k[o]==k.AK)&&S==0){S=.1;k[o].j(S)}if(k[o]==k.t0&&k[o].Qg()=="px")S/=a.Q/100;if(k[o]==k.AK&&k[o].Qg()=="px")S/=a._/100;
D.push(S)}var v=new kK(D[0],D[1]);if(I.target==k.GJ){this.mS({Ln:"ctyp",T7:k.GJ.l()})}else if(I.target==k.gX||I.target==k.YN){this.mS({Ln:"cen",gk:v})}else{var g=this.fq.HF.Ce.clone(),d=g.clone(),R=Math.atan2(-g.J,g.M);
d.translate(-v.x,-v.y);d.rotate(-R);var c=new dc(d.M,d.J,d.mL,d.Jo,0,0);c.Us();d.concat(c);var e=D[2]/100,O=D[3]/100;
d.concat(new dc(e,e*Math.tan(D[6]*Math.PI/180),O*Math.tan(D[5]*Math.PI/180),O,0,0));d.rotate(-D[4]*Math.PI/180);
d.translate(v.x,v.y);this.fq.HF.Ce=d;this.mS({Ln:"trn",HF:d,Dc:k.qx.l(),JC:k.d_.l(),O1:k.jC.l()})}};
c8.prototype.agt=function(I){var k=this.Bu;this.mS(I.target==k?{Ln:"splt",P:k.l()}:{Ln:"wrp",dh:this.U3.l()})};
c8.prototype.ayS=function(I){this.mS({Ln:"switchWarp"})};c8.prototype.EP=function(I){this.mS({Ln:this.Aa.l()?"commit":"cancel"})};
c8.prototype.mS=function(I){I.q=M.p.R9;I.S=this.S;var k=new d2(M.E.b,!0);k.data=I;this.a(k)};c8.prototype.Qi=function(){var I=this.HF;
for(var k in I)I[k].k();$.Ir(I.t0,I.AK);this.Aa.k();this.Bu.k();this.U3.k();this.wO.k()};c8.aCB=function(){var I=function(k){var a=!0;
if(k==null||k.T.length==0)a=!1;else{var n=k.T;for(var Y=0;Y<n.length;Y++){if(k.R[n[Y]].add.TySh)a=!1}}return{e:a}};
return[{name:[5,9],kA:"Shift+Alt+Ctrl + T",g6:!0},{name:[12,38]},{name:[2,5]},{name:"Skew"},{name:[24,4],e:I},{name:[2,9],e:I,g6:!0},{name:[11,9],e:function(k){if(k==null||k.T.length!=1)return{e:!1};
var a=k.R[k.T[0]];return{e:a.add.TySh==null&&!a.hd()}},g6:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
c8.a2c=function(I){if(I==null)I=E.Yo;return[{K:M.E.r,S:I,v:{q:"again"}},{K:M.E.b,v:{q:M.p.$g,S:I,sw:{Ex:3}}},{K:M.E.b,v:{q:M.p.$g,S:I,sw:{Ex:4}}},{K:M.E.b,v:{q:M.p.$g,S:I,sw:{Ex:5}}},{K:M.E.b,v:{q:M.p.$g,S:I,sw:{Ex:2}}},{K:M.E.b,v:{q:M.p.$g,S:I,sw:{Ex:1}}},{K:M.E.b,v:{q:M.p.$g,S:I,sw:{Ex:-1}}},{K:M.E.rd,v:E.nF.fU(!0,90,!0)},{K:M.E.rd,v:E.nF.fU(!0,-90,!0)},{K:M.E.rd,v:E.nF.fU(!0,-180,!0)},{K:M.E.rd,v:E.nF.fU(!1,"Hrzn",!0)},{K:M.E.rd,v:E.nF.fU(!1,"Vrtc",!0)}]};
function e1(){c8.call(this)}e1.prototype=new c8(!0);function iG(){c8.call(this)}iG.prototype=new c8(!0);
function fW(){c8.call(this,!1,!0)}fW.prototype=new c8(!0);function eK(){j2.call(this);var I=this.qT=[new fB([12,36],["Rigid",[15,10,0],[24,4]]),new fB([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new fM([7,4],0,100,"px"),new dI("Show Mesh"),new iP("\u25BC",null,null,!0),new iP("\u25B2",null,null,!0)];
for(var Y=0;Y<I.length;Y++){var k=I[Y];k.parent=this;this.body.appendChild(k.Z);k.O(Y<4?M.E.B:"click",this.a7U,this)}this.Aa=new go;
this.Aa.O("click",this.EP,this);this.body.appendChild(this.Aa.Z)}eK.prototype=new j2;eK.prototype.Qi=function(){var I=this.qT;
for(var Y=0;Y<4;Y++)I[Y].k();this.Aa.k()};eK.prototype.vD=function(I){var I=I.CU;for(var Y=0;Y<4;Y++)this.qT[Y].j(I[Y])};
eK.prototype.a7U=function(I){var k=[];for(var Y=0;Y<4;Y++)k[Y]=this.qT[Y].l();var a=this.qT.indexOf(I.target);
if(a<4)this.mS({Ln:"prm",CU:k});else this.mS({Ln:"moveDepth",a0b:a==5})};eK.prototype.EP=function(I){this.mS({Ln:this.Aa.l()?"commit":"cancel"})};
eK.prototype.mS=function(I){I.q=M.p.R9;I.S=this.S;var k=new d2(M.E.b,!0);k.data=I;this.a(k)};function hH(){j2.call(this);
var I=this.GC=[new fB([12,20,0],["1x1","3x3","5x5","11x11","31x31"])];for(var Y=0;Y<I.length;Y++){var k=I[Y];
k.O(M.E.B,this.Ry,this);this.body.appendChild(k.Z)}}hH.prototype=new j2;hH.prototype.Ry=function(I){var k=this.GC,a=[];
for(var Y=0;Y<k.length;Y++)a[Y]=k[Y].l();var n=new d2(M.E.b,!0);n.data={q:M.p.R9,S:this.S,J$:a};this.a(n)};
hH.prototype.Qi=function(){for(var Y=0;Y<this.GC.length;Y++)this.GC[Y].k()};function jq(){bG.call(this,!1,["binop"]);
this.du=new iP("Remove",!1,null,!0);this.du.O("click",this.BA,this);this.du.Z.style.marginRight="2em";
this.a38=new ja("New content");this.dD=new iP("\u2026",!1,null,!0);this.dD.O("click",this.Sn,this);this.uF=new iP([18,0],!1,null,!0);
this.uF.O("click",this.BA,this);this.Cg=new iP("Undo",!1,null,!0);this.Cg.O("click",this.BA,this);this.body.appendChild(this.du.Z);
this.body.appendChild(this.a38.Z);this.body.appendChild(this.dD.Z);this.body.appendChild(this.uF.Z);
this.body.appendChild(this.Cg.Z);this.LL=new gB;this.LL.parent=this;var I=this.LL.Z=$.I("div","floatcont form label6");
I.style.width="270px";var k=this.xE="dpmpp_2m_karras euler euler_a ddim dpm k_lms pndm".split(" ");this.aC$=["stablediffusion_inpaint_2","absolute_reality_1_8_1_inpaint","dreamshaper_8_inpaint"];
var a=this.GU=[new dI("Use default settings"),new fB("Model",["Stable Diffusion 2.0","Absolute Reality 1.8.1","Dreamshaper 8"]),new ja("Neg. prompt",null,13.25),new iD("Guidance",-20,20),new iD("Steps",10,50),new fB("Sampler",k)];
a[0].O(M.E.B,this.k,this);a[0].j(!0);a[1].j(1);a[3].j(6);a[4].j(20);for(var Y=0;Y<a.length;Y++){I.appendChild(a[Y].Z);
$.FI(I)}}jq.prototype=new bG(!0);jq.prototype.k=function(){j2.prototype.k.call(this);this.uF.k();var I=this.GU;
for(var Y=0;Y<I.length;Y++){I[Y].k();if(Y>0)I[Y].wl(!I[0].l())}};jq.prototype.BA=function(I){if(I.target==this.Cg){var k=new d2(M.E.r,!0);
k.S=E.ca;k.data={q:"h_stepbck"};this.a(k);return}var n=this.GU,s={},C=["model","negative_prompt","guidance","steps","sampler"],T=!n[0].l();
if(T){for(var Y=1;Y<n.length;Y++)s[C[Y-1]]=n[Y].l();s.model=this.aC$[s.model];s.sampler=this.xE[s.sampler];
s.steps=Math.min(s.steps,50)}var k=new d2(M.E.rd,!0);k.data=E.dX.HO("aiHeal");if(I.target==this.uF){k.data.zf.prmt={t:"TEXT",v:this.a38.l()};
if(T)k.data.zf.CU=s}this.a(k)};jq.prototype.Sn=function(I){if($.TU(this.LL.Z))return;var k=this.dD.Z.getBoundingClientRect(),a=new d2(M.E.b,!0);
a.data={q:M.p.ut,zM:this.LL,x:k.left,y:k.top+k.height+4,Dr:!0};this.a(a)};function b9(){gB.call(this);
this.Z=$.I("div","cmanager");window.alert=function(n,s){this.aAR(n,s);console.log("Alert: "+n)}.bind(this);
window.onblur=function(n){var s=this;s.Kz()}.bind(this);this.Qq=0;this.L4=0;this.zk=[];this.LM={};this.WH=$.I("div","alertcont");
this.Z.appendChild(this.WH);this.asl=$.I("div","alertcont");this.Z.appendChild(this.asl);this.AF=$.I("div","alertcont");
this.a88=0;this.z_=-1;this.avh=null;this.Gf=null;var I=this.aDS=$.I("div","alertpanel");I.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.AF.appendChild(I);var k=this.Lm=$.I("input");k.setAttribute("type","text");$.bw(k);k.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
k.addEventListener("input",this.aCe.bind(this),!1);k.addEventListener("keydown",this.ag9.bind(this),!1);
I.appendChild(k);var a=this.VL=$.I("div","contextpanel scrollable");a.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
a.addEventListener("click",this.arv.bind(this),!1);I.appendChild(a);$.Ar(document.body,this.anw.bind(this))}b9.prototype=new gB;
b9.prototype.Y$=function(){if($.TU(this.AF))this.Z.removeChild(this.AF)};b9.prototype.aCC=function(I,k){var a=this.avh=[],n=k.a9y;
for(var Y=0;Y<fd.data.length;Y++){var s=fd.data[Y],C=[hJ.get(s.name)],T=[Y];b9.lH(s.items,C,T,a,I,k,n==null?null:n[Y]==null?0:n[Y])}var S=k.L;
for(var Y=0;Y<S.n7.length;Y++){var D=S.n7[Y],o=S.keys[Y];for(var v=0;v<D.length;v++)a.push([["Tools",hJ.get(D[v].S.name)],[-1,D[v].S.id],o?o.vo:null])}this.Z.appendChild(this.AF);
var g=this.Lm;g.focus();g.select();this.lX()};b9.prototype.aCe=function(I){this.z_=-1;this.lX()};b9.prototype.lX=function(){var I=this.Lm.value.toLowerCase().trim().replace(/  +/g," "),k=this.avh,a=[],n=[],s=I.split(" ");
if(I!="")for(var Y=0;Y<k.length;Y++){var C=k[Y][0],T=[],S=0;for(var D=0;D<C.length;D++)T[D]=-1;for(var o=0;
o<s.length;o++)for(var D=0;D<C.length;D++){var v=C[D].toLowerCase().indexOf(s[o]);if(v!=-1){T[D]=[v,v+s[o].length];
S++;break}}if(S==s.length){a.push(k[Y]);n.push(T)}}var g=[],d=this.VL;$.GD(d);for(var Y=0;Y<a.length;
Y++){var R=a[Y],c=R[0],v=n[Y],e="enab",U="";if(Y==this.z_)e+=" active";var O=$.I("div",e);g.push(O);
d.appendChild(O);for(var D=0;D<c.length;D++){var K=v[D],_=s[D],Z=c[D];if(K!=-1)Z=Z.slice(0,K[0])+"<span style=\"color:black\">"+Z.slice(K[0],K[1])+"</span>"+Z.slice(K[1]);
U+=Z;if(D<c.length-1)U+=" \uFE65 "}if(R[2]&&(typeof R[2]!="string"||R[2].length==1))U+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+as.cq(R[2])+"</span>";
O.innerHTML=U}this.Gf=[a,g]};b9.prototype.ag9=function(I){var k=as.rM,a=I.code;if(k(a,as._a))this.Y$();
var n=k(a,as.yo),s=k(a,as.Sx),C=k(a,as.da);if(n||s){this.z_=Math.max(0,Math.min(this.Gf[0].length-1,this.z_+(n?-1:1)));
this.lX()}if(C&&this.z_!=-1)this.aeb(this.z_)};b9.lH=function(I,k,a,n,s,C,T){if(typeof T=="number"){if(T==0)return;
if(T==1)T=null}for(var Y=0;Y<I.length;Y++){if(T!=null&&(T[Y]==0||T[Y]==null))continue;var S=I[Y],D=k.slice(0),o=a.slice(0),v=hJ.get(S.name);
if(S.e){var g=S.e(s,C,Y);if(g.qr)v=g.qr;if(g.e==!1)continue}D.push(v);o.push(Y);if(S.sub)b9.lH(S.sub,D,o,n,s,C,T?T[Y]:null);
else n.push([D,o,S.kA])}};b9.prototype.arv=function(I){var k=I.target;if(k.tagName.toLowerCase()=="span")k=k.parentNode;
var a=this.Gf[1].indexOf(k);if(a!=-1)this.aeb(a)};b9.prototype.aeb=function(I){var k=this.Gf[0][I][1];
if(k[0]==-1){var a=new d2(M.E.b,!0);a.data={q:M.p.$g,S:k[1]};this.a(a)}else{var n=fd.data[k[0]].xV[k[1]];
for(var Y=2;Y<k.length;Y++)n=n.sub[k[Y]];var s=new d2(n.K,!0);s.S=n.S;s.data=n.v;this.a(s)}this.Y$()};
b9.prototype.bb=function(I,k){this.Qq=I;this.L4=k;this.VL.style["max-height"]=k-120+"px"};b9.prototype.aAW=function(I){var k=$.I("div","alertpanel");
k.textContent=hJ.get(I);this.WH.appendChild(k);this.LM[JSON.stringify(I)]=k};b9.prototype.a6u=function(I){var k=this.LM[JSON.stringify(I)];
this.WH.removeChild(k);delete this.LM[JSON.stringify(I)]};b9.prototype.aAR=function(I,k){var a=this.asl;
for(var Y=0;Y<a.children.length;Y++)if(a.children[Y].textContent==I)return;var n=$.I("div","alertpanel tpanel");
n.textContent=I;n.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");a.appendChild(n);if(k==null)k=1500;
var s=k,C=Math.max(Date.now()+s,this.a88+s);setTimeout(function(){n.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){a.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},C-Date.now()-30);
setTimeout(function(){a.removeChild(a.firstChild);a.setAttribute("style","transition: transform 0.7s;  margin-top: 5.5em;  transform: translateY(0em);")},C-Date.now());
this.a88=C};b9.prototype.anw=function(I){var k=this.zk;for(var Y=k.length-1;Y>=0;Y--){var a=k[Y],n=I.target;
while(n!=null){if(n==a.Z){this.Kz(a);return}n=n.parentNode}}this.Kz();var s=I.target;while(s!=this.AF&&s!=document.body)s=s.parentNode;
if(s!=this.AF)this.Y$()};b9.prototype.Kz=function(I){var k=this.zk;for(var Y=0;Y<k.length;Y++){if(I&&I.atC(k[Y]))continue;
var a=k[Y].Z;if(!(k[Y]instanceof io))$.H0(k[Y],this.Z);else this.Z.removeChild(a);a.style.height="auto";
$.St(a,"scrollable");k.splice(Y,1);Y--}};b9.prototype.a5W=function(I){this.Kz(I.zM);var k=I.zM,a=k.Z;
if(this.zk.indexOf(k)!=-1)return;this.zk.push(k);this.Z.appendChild(a);var n=this.Qq,s=this.L4,C=I.x,T=I.y,S=this.Z.getBoundingClientRect(),D=k instanceof io,o=-1,v=s-2;
if(D||I.Dr){var g=k.oe(),d=k.ast();if(D)g=Math.min(g,200);var R=n-g-2,c=s-d-2;if(T<c)o=2;else if(C<R)o=1;
else if(0<T-d-2)o=0;else o=3;if(I.axR)o=0;if(I.aou)o=2;if(o==2){C=Math.min(C,R)}else if(o==1){T=Math.min(T,c)}else if(o==0){T=T-d-2;
C=Math.min(C,R);v=I.y}else if(o==3){C=C-g-2;T=Math.min(T,c)}}T=Math.max(2,T);var top=Math.round(T-S.y+this.Z.offsetTop);
a.style.position="absolute";a.style["z-index"]=10;if(T+k.ast()>v){a.style.height=v-T+"px";$.fO(a,"scrollable");
if(o==3)C-=10}a.style.left=Math.round(C)+"px";a.style.top=top+"px";if(!(k instanceof io))$.TC(k)};b9.prototype.ago=function(I){var k=I.zM,a=this.zk.indexOf(k);
if(a==-1)return;this.zk.splice(a,1);var n=k.Z;if(!(k instanceof io))$.H0(k,this.Z);else this.Z.removeChild(k.Z)};
b9.prototype.bN=function(){var I=this.zk;return I.length==0?null:I[I.length-1]};b9.prototype.akh=function(){this.ago({zM:this.bN()})};
function aP(){gB.call(this);this.Z=$.I("div","confbar")}aP.prototype=new gB;aP.prototype.ajC=function(I){I.parent=this;
$.GD(this.Z);this.Z.appendChild(I.Z)};function a2(){gB.call(this);var I=this.Z=$.I("div","toolconf");
I.style.marginLeft="40px";this.adC=null;this.Tt=null;this.i_=[new iR(0),new iR(1),new fM([14,9],0,100,"px"),new eI(!0),new fM([12,0],0,100,"%",0)];
for(var Y=0;Y<this.i_.length;Y++){var k=this.i_[Y];k.parent=this;k.O(M.E.B,this.a3q,this);I.appendChild(k.Z)}var a=this.YL=new i_;
this.YL.parent=this;this.ae3=new gv("Tt:");var n=this.Fs=$.I("span");I.appendChild(n);n.appendChild(this.ae3.Z);
n.appendChild(a.ko.Z);n.appendChild(a.su.Z);n.appendChild(a.$d.Z)}a2.prototype=new gB;a2.prototype.a3q=function(I){var k=this.i_.indexOf(I.target),a=I.target.l();
if(k==4){var n=new d2(M.E.r,!0);n.S=E.xf;n.data={q:X.jT,WM:Math.round(255*a/100)};this.a(n);return}var s=JSON.parse(JSON.stringify(this.adC.qm));
if(k<2){var C,T=a;if(k==0){C=s.Bv;s.Bv=T}else{C=s.mx;s.mx=T}if(C.length!=T.length){var S=[1,0,0,1,0,0];
if(C.length==4){S=C[3].slice(0);S[1]*=-1;S[2]*=-1}if(C.length==2){S=C[1][1].slice(0)}if(T.length==4){T[2]=[0,0,0,1,1,0,0];
T[3]=S;S[1]*=-1;S[2]*=-1}if(T.length==2){T[1]=[[0,0,1,1,0,0,0,0,0],S]}}}if(k==2)s.YX=a;if(k==3)s=a;var n=new d2(M.E.b,!0);
n.data={q:M.p.iv,CU:f9.to,P:s};this.a(n)};a2.prototype.k=function(){for(var Y=0;Y<this.i_.length;Y++)this.i_[Y].k();
this.YL.k()};a2.prototype.jn=function(I,k){this.Tt=I;this.i_[0].rt(I);this.i_[1].rt(I)};a2.prototype.tc=function(I){if(I.T.length==0)return;
var k=I.R[I.T[0]];this.i_[4].j(Math.round(k.opacity*100/255));this.Fs.setAttribute("style","line-height:1.5em; display:"+(k.add.TySh?"":"none"))};
a2.prototype.wu=function(I,k){this.adC=I;var a=I.qm,n=this.Tt;this.i_[0].j(a.Bv,n);this.i_[1].j(a.mx,n);
if(a.YX!=null)this.i_[2].j(a.YX);this.i_[3].j(a);this.YL.j(I.kd,I.IE,I.YZ)};function ji(I){gB.call(this);
ji.$e=this;ji.Td=I;this.wY=null;this.rf=$.I("input","");this.rf.setAttribute("type","file");this.rf.setAttribute("multiple","");
this.rf.addEventListener("change",function(k){this.l1(k.target.files,null,this.wa,null);this.wa=null}.bind(this),!1);
document.body.appendChild(this.rf);this.rf.setAttribute("style","display:none");this.aqJ=[];this.XC=!1;
this.aA0=[];this.OB=!1;this.azr={};this.wa=null}ji.prototype=new gB;ji.Td=null;ji.C4=function(I){try{var k={};
k[I.type]=I;navigator.clipboard.write([new ClipboardItem(k)])}catch(jL){console.error(jL,jL.message)}};
ji.WA=function(I,k){navigator.clipboard.read().then(function(a){for(var Y=0;Y<a.length;Y++){try{var n=a[Y],s={},C=0,T=0;
for(var S=0;S<n.types.length;S++){var D=n.types[S];C++;n.getType(D).then(function(o){var v=D;new Response(o).arrayBuffer().then(function(g){s[this._W]=g;
T++;if(T==C)ji.ah0(s,I,k)}.bind({_W:this._W}))}.bind({_W:D}))}}catch(jL){console.error(jL,jL.message)}}}).catch(function(a){})};
ji.ad5=function(I){navigator.permissions.query({name:"clipboard-read"}).then(function(k){I(k.state)})};
ji.ah0=function(I,k,a){var n=["text/plain","image/png","text/html","text/plain"];for(var s in I)console.log(s,s.startsWith("text")?u.Im(new Uint8Array(I[s])).slice(0,100)+"...":I[s]);
for(var C=0;C<n.length;C++){var T=n[C],S=I[T];if(S==null)continue;if(T=="image/png"){ji.Td({name:"image.png"},S,k,a);
return}if(T=="text/plain"){var D=u.Im(new Uint8Array(S));if(C==0)if(!D.startsWith("<!--")&&!D.startsWith("<svg"))continue;
if(a&&D.startsWith("<svg"))continue;var o=new d2(M.E.b,!0);o.data={q:M.p.ahj,P:D};k.a(o);return}if(T=="text/html"){var D=u.Im(new Uint8Array(S)),v=D.indexOf("src=\"");
if(v!=-1&&D.slice(v+5,v+9)!="http"){var g=v+10;while(D[g]!="\"")g++;var d=D.slice(v+5,g);ji.Td({name:"chart.png"},kk.Yt(d).buffer,k,a);
return}}}};ji.prototype.yL=function(I){if(I==null)I=[23,5];var k=JSON.stringify(I),a=this.azr;if(a[k]==null)a[k]=0;
if(a[k]==0){var n=new d2(M.E.b,!0);n.data={q:M.p.bm,cJ:I};this.a(n)}a[k]++};ji.prototype.hH=function(I){if(I==null)I=[23,5];
var k=JSON.stringify(I),a=this.azr;if(a[k]==null)a[k]=0;a[k]--;if(a[k]==0){var n=new d2(M.E.b,!0);n.data={q:M.p.ki,cJ:I};
this.a(n)}};ji.prototype.aif=function(I,k){this.wa=I;var a=window.showOpenFilePicker;if(a&&window.self==window.top){var n=this;
a({multiple:!0}).then(function(T){var S=[];function D(o){S.push(o);if(S.length==T.length){n.l1(S,null,n.wa,null,T);
n.wa=null}else T[S.length].getFile().then(D)}T[S.length].getFile().then(D)});return}var s=this.rf;if(k)s.setAttribute("accept",k);
else s.removeAttribute("accept");var C=document.createEvent("MouseEvents");C.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
s.dispatchEvent(C)};ji.prototype.BF=function(I){if(I.url.indexOf("photopea.com#i")!=-1||I.url.indexOf("photopea.com/#i")!=-1){this.uB(I.url.split("#i").pop());
return}this.aqJ.push(I);this.aEG()};ji.prototype.aEG=function(){var I=this.aqJ;if(I.length==0||this.XC)return;
this.XC=!0;var k=I.shift();this.yL();if(k.S9==null)k.S9={};var a=new XMLHttpRequest;a.GX=k;var n=k.url;
if(k.T_&&!n.startsWith("data:image"))n="mirror.php?url="+encodeURIComponent(n);a.open("GET",n);if(k.Yr)for(var s in k.Yr)a.setRequestHeader(s,k.Yr[s]);
a.responseType="arraybuffer";a.onload=this.a4B.bind(this);a.send()};ji.prototype.l1=function(I,k,a,n,s){for(var Y=0;
Y<I.length;Y++){this.yL();var C=I[Y],T=new FileReader;T.GX=C;T.GX.if=a;T.GX.Vt=n;T.ac0=k;if(s)T.GX.$K=s[Y];
T.onload=this.a4B.bind(this);T.onerror=function(S){this.hH()}.bind(this);this.aA0.push([T,C])}this.rf.value=null;
this.a5b()};ji.prototype.a5b=function(){var I=this.aA0;if(I.length==0||this.OB)return;this.OB=!0;var k=I.shift();
k[0].readAsArrayBuffer(k[1])};ji.prototype.abG=function(I,k,a){this.yL("Saving ...");this.wY=k;setTimeout(a.bind({Yx:I,caller:this}),50)};
ji.V_=function(I){var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=new Uint8Array(I),n=a.length,s=n%3,C=n-s,T=[],S=0,D=0,o=0;
for(var Y=0;Y<C;Y+=3){S=a[Y];D=a[Y+1];o=a[Y+2];T.push(k[S>>2]+k[(S&3)<<4|D>>4]+k[(D&15)<<2|o>>6]+k[o&63])}if(s==1){S=a[C];
T.push(k[S>>2]+k[(S&3)<<4]+"==")}if(s==2){S=a[C];D=a[C+1];T.push(k[S>>2]+k[(S&3)<<4|D>>4]+k[(D&15)<<2]+"=")}var v=T.join("");
return v};ji.aau=function(I,k){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(64),S=0,D=0,o=0,g=0;
for(var Y=0;Y<64;Y++)n[Y]=a.charCodeAt(Y);var s=new Uint8Array(I),C=k%3,T=k-C,v=new Uint8Array(Math.floor(k/3)*4+(C==0?0:4));
for(var Y=0;Y<T;Y+=3){S=s[Y];D=s[Y+1];o=s[Y+2];v[g]=n[S>>>2];v[g+1]=n[(S&3)<<4|D>>>4];v[g+2]=n[(D&15)<<2|o>>>6];
v[g+3]=n[o&63];g+=4}if(C==1){S=s[T];v[g]=n[S>>2];v[g+1]=n[(S&3)<<4];v[g+2]=61;v[g+3]=61}if(C==2){S=s[T];
D=s[T+1];v[g]=n[S>>2];v[g+1]=n[(S&3)<<4|D>>4];v[g+2]=n[(D&15)<<2];v[g+3]=61}return v};ji.prototype.a4B=function(I){var k,a=I.target.GX;
if(I.target instanceof XMLHttpRequest)k=I.target.response;else k=I.target.result;ji.Td(a,k,this,I.target.ac0);
this.hH();if(I.target instanceof XMLHttpRequest){this.XC=!1;this.aEG()}else{this.OB=!1;this.a5b()}};
ji.a0X=function(I,k){var a=new XMLHttpRequest;a.open("POST","https://api.imgur.com/3/image",!0);a.Y2=k;
a.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");a.setRequestHeader("Content-type","application/x-www-form-urlencoded");
a.setRequestHeader("Accept","application/json");a.addEventListener("load",ji.aeG);a.send("type=base64&image="+encodeURIComponent(ji.V_(I)));
alert("Saving to Imgur ...",4e3)};ji.aeG=function(I){var k=JSON.parse(I.target.response);if(k.success){if(I.target.Y2)I.target.Y2(k.data.link);
else window.open(k.data.link,"Imgur")}};ji.prototype.uB=function(I,k,a){this.yL();var n=new XMLHttpRequest;
n.responseType="arraybuffer";n.open("GET","https://f000.backblazeb2.com/file/"+(a?"pp-resources":"psdshared")+"/"+I);
n.onload=this.auj.bind(this);n.send();n.Pa=[Date.now(),I,k?I:null,a]};ji.prototype.auj=function(I){var k=I.target.Pa,a=new Uint8Array(I.target.response);
console.log(a.length+" B,",Date.now()-k[0]+" ms");for(var Y=0;Y<a.length;Y++)a[Y]=255-a[Y];a=pako.inflateRaw(a);
var n=JSON.parse(u.Im(a,0,2e3));ji.Td({name:n.name,fY:k[2]},a.slice(2e3).buffer,this);this.hH();if(!k[3])ji.J7("act=0&id="+k[1])};
ji.prototype.axJ=function(I,k,a,n){if(!(I instanceof ArrayBuffer))throw"e";I=new Uint8Array(I);var s=new Uint8Array(I.length+2e3),d="";
for(var Y=0;Y<2e3;Y++)s[Y]=32;u.oN(JSON.stringify({name:k}),s,0);s.set(I,2e3);I=s;I=pako.deflateRaw(I);
for(var Y=0;Y<I.length;Y++)I[Y]=255-I[Y];I=I.buffer;var C=I.byteLength,T=jm.z3(C),S=~~(609e5/2),D=~~(209e5/2);
if(C>S){confirm("Your file is "+T+". Our limit is "+jm.z3(S)+". Delete some layers and try again.");
return}if(C>D){var o=confirm("Your file is quite large ("+T+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!o)return}var v=sha1(I),g=[];for(var Y=0;Y<20;Y++){var R=parseInt(v.slice(Y*2,Y*2+2),16);g.push(R);
d+=String.fromCharCode(R)}var c=btoa(d).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(ji.al9(c,n)){console.log("file already exists");
if(a)a(c);else window.open("https://www.photopea.com#i"+c+".psd");return}this.yL("Publishing ...");var e=new XMLHttpRequest;
e.Pa=[I,v,c,a,n];e.open("GET",bU.Wn("papi/img/publish.php?rnd="+Math.random()+"&id="+c+"&size="+C+"&bname="+n));
e.onload=this.a1w.bind(this);e.send()};ji.al9=function(I,k){try{var a=new XMLHttpRequest;a.open("HEAD","https://f000.backblazeb2.com/file/"+k+"/"+I,!1);
a.send();if(a.status==200)return!0}catch(jL){return!1}return!1};ji.prototype.a1w=function(I){console.log(I.target.response);
var k=JSON.parse(I.target.response),a=I.target.Pa,n=new XMLHttpRequest;n.open("POST",k.uploadUrl);n.setRequestHeader("Authorization",k.authorizationToken);
n.setRequestHeader("X-Bz-File-Name",a[2]);n.setRequestHeader("Content-Type","b2/x-auto");n.setRequestHeader("X-Bz-Content-Sha1",a[1]);
n.send(new Blob([a[0]]));n.onload=this.ayQ.bind({k3:this,Pa:a})};ji.prototype.ayQ=function(I){this.k3.hH("Publishing ...");
if(this.Pa[3])this.Pa[3](this.Pa[2]);else window.open("https://www.photopea.com#i"+this.Pa[2]+".psd");
if(this.Pa[4]=="psdshared")ji.J7("act=2&id="+this.Pa[2]+"&fileId="+JSON.parse(I.target.response).fileId)};
ji.J7=function(I){var k=new XMLHttpRequest;k.open("GET","/papi/img/update.php?"+I+"&rnd="+Math.random());
k.send()};ji.save=function(I,k){var a=new Uint8Array(I),n=document.createElement("a");if(typeof n.download=="string"){var s=new Blob([a]),C=window.URL.createObjectURL(s);
n.href=C;n.download=k;document.body.appendChild(n);n.click();document.body.removeChild(n)}else{var T="data:application/octet-stream;base64,"+ji.V_(I);
window.open(T)}};function ig(){this.size=16;this.data=j.U(16)}ig.prototype.jL=function(I,k){if(I+k<=this.size)return;
var a=this.size;while(I+k>this.size)this.size*=2;var n=j.U(this.size);for(var Y=0;Y<a;Y++)n[Y]=this.data[Y];
this.data=n};var gM={};gM.ew=function(I,k,a,n){var s=k.split(":"),C=s[0];if(s.length==2){if(C=="jpg")n=[Math.round(100*parseFloat(s[1]))];
if(C=="webp")n=[Math.round(100*parseFloat(s[1]))];if(C=="psd")n=[!0,!0,!1,!1,!1];if(C=="svg")n=s[1].split(",").map(function(S){return S=="true"});
if(C=="jpg"||C=="webp")if(I.ib())n.push(!1)}var T=kk.gj(I,C.toUpperCase(),null,null,n,a);return T};gM.anl=function(I,k,a){var n=I.TB(),s=k[0];
return gM.ew(I,s,a)};gM.aBS=function(){var I=this.Yx,k=this.caller,a=I.S9.nj,n=a.formats,s,C;I.TB();
var T=Date.now();if(a.version==1){var S=[],D=0,v=0;for(var Y=0;Y<n.length;Y++){var o=gM.ew(I,n[Y],k.wY);
S.push(o);D+=o.byteLength}s=new Uint8Array(2e3+D);var g="{ \"source\": "+JSON.stringify(I.qe)+", \"versions\": [\n";
for(var Y=0;Y<n.length;Y++){var d=new Uint8Array(S[Y]);g+="\t{\"format\": \""+n[Y].split(":")[0]+"\", \"start\": "+v+", \"size\": "+d.length+" }"+(Y+1<n.length?", ":"")+"\n";
s.set(d,2e3+v);v+=S[Y].byteLength}g+="] }";var R=u.oN(g,s,0);for(var Y=R;Y<2e3;Y++)s[Y]=32;C="application/octet-stream"}else{var c=new ig,e=0,O="",U=encodeURIComponent;
O="p="+U("{ \"source\": "+JSON.stringify(I.qe)+", \"versions\": [");u.y0(c,e,O);e+=O.length;for(var Y=0;
Y<n.length;Y++){O=U(" {\"format\": \""+n[Y].split(":")[0]+"\", \"data\": \"");u.y0(c,e,O);e+=O.length;
var o=gM.ew(I,n[Y],k.wY),K=ji.aau(o,o.byteLength),R=K.length;c.jL(e,R);for(var _=0;_<R;_++){c.jL(e,3);
var Z=K[_];if(Z==43){c.data[e]=37;c.data[e+1]=50;c.data[e+2]=66;e+=3}else if(Z==47){c.data[e]=37;c.data[e+1]=50;
c.data[e+2]=70;e+=3}else if(Z==61){c.data[e]=37;c.data[e+1]=51;c.data[e+2]=68;e+=3}else{c.data[e]=Z;
e++}}O=U("\" }"+(Y+1<n.length?", ":""));u.y0(c,e,O);e+=O.length}O=U("] }");u.y0(c,e,O);e+=O.length;s=c.data.slice(0,e);
C="application/x-www-form-urlencoded"}var H=new XMLHttpRequest;H.open("POST",a.url,!0);if(C)H.setRequestHeader("Content-Type",C);
H.addEventListener("load",gM.ag5.bind(this));H.send(new Blob([s.buffer]))};gM.ag5=function(I){this.caller.hH("Saving ...");
var k=I.target.response;if(k.charAt(0)=="{"){k=JSON.parse(k);if(k.newSource)this.Yx.qe=k.newSource;if(k.message)alert(k.message,2e3);
if(k.script){var a=new d2(M.E.b,!0);a.data={q:M.p.XI,a2:k.script};this.caller.a(a)}}else alert("Saved. Response: "+k,1500)};
gM.am2=function(I){var k=I.KS,a=k[1].split(".").pop(),n=gM.ew(I,a,null,a=="psd"&&k[0]==1?[!0,!1,!0,!1]:null),s=Storage.zx(k[0]);
return s.aes(k[1],n)};gM.aky=function(I,k){var a=I.cw.zP;if(k==null)k=gM.ew(I,a);hK.Ms(function(){var n=new XMLHttpRequest,s="https://www.googleapis.com/upload/drive/v3/files/"+I.cw.file.id+"?uploadType=media"+"&"+hK.au$();
n.open("PATCH",s,!0);n.addEventListener("load",function(C){var T=JSON.parse(C.target.response);alert(T.name+" updated")});
n.send(k);alert("Saving \""+I.cw.file.name+"\" to Google Drive ...")})};gM.Td=function(I,k,a,n){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)gM.anO(I,k,a,n);
else{try{gM.anO(I,k,a,n)}catch(jL){if(jL=="low_ram"){}else{var s="Error. Please, send your file to support@photopea.com and we will solve it.";
if(kk.V1(k)=="eps")s="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(s,1e4)}}}};gM.anO=function(I,k,a,n){var s;if(I.name){var C=I.name.lastIndexOf(".");s=C==-1?I.name:I.name.slice(0,C)}else{if(I.url.substring(0,5)=="data:"||I.url.indexOf("googleapis")!=-1)s="image";
else s=I.url.substring(I.url.lastIndexOf("/")+1).split(".")[0];s=s.slice(0,50)}var T=I.name?I.name:I.url,S=new Uint8Array(k),D=kk.V1(k);
if(D!=null&&kk.wV(D))bU.event("fmt_"+D,.1);if(D==null)D=u.x8(S,0,4);if(D=="ai"&&T&&T.toLowerCase().endsWith(".pdf"))D="pdf";
if(T&&T.toLowerCase().endsWith(".raw")&&D!="tiff"){var o=new d2(M.E.b,!0);o.data={q:M.p.Fu,aw:"importraw",De:k,f3:T.split("/").pop()};
a.a(o);return}else if(D=="json"){var v="";for(var Y=0;Y<S.length;Y++)v+=String.fromCharCode(S[Y]);v=decodeURIComponent(escape(v));
var g=JSON.parse(v);if(g.name&&g.url){var o=new d2(M.E.b,!0);o.data={q:M.p.anu,P:g};a.a(o)}else{alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(g)}return}if(D=="html"){var v=u.Im(S,0,S.length),d=new DOMParser,R=d.parseFromString(v,"text/html"),c=R.getElementsByTagName("meta");
for(var Y=0;Y<c.length;Y++){var e=c[Y],O=e.getAttribute("property"),U=e.getAttribute("content"),K=null;
if(O=="og:image")K=U;if(O==null&&U&&U.startsWith("0;url=/imgres?")){var _=U.slice(14).split("&");for(var Z=0;
Z<_.length;Z++)if(_[Z].startsWith("imgurl"))K=decodeURIComponent(_[Z].slice(7))}if(K==null)continue;
var o=new d2(M.E.b,!0);o.data={q:M.p._C,CU:{url:K,T_:!0,if:I.if}};a.a(o)}return}if(kk.wV(D)){var H,G,N=kk.wV(D);
if(I.if!=null&&"jpg png gif pdf svg ai psd".split(" ").indexOf(D)!=-1){var o=new d2(M.E.b,!0);if(0<=I.if)o.data={q:M.p.c4,target:I.if,qb:I.Vt,Z9:k,Ip:s};
else{o=new d2(M.E.r,!0);o.data={q:X.hR,data:new Uint8Array(k),f3:s+"."+D};o.S=E.xf}a.a(o);return}var z=[s,N,D,I,a,n,k];
if(N.di){var L=ht==0?"psd":"ai";H=new iJ(s+(D==L?"":"-"+D)+"."+L);N.Zn(k,H,gM.J2,z)}else{G=N.Zn(k,null,gM.J2,z,a)}if(N.Gr!=!0)gM.J2(H,G,z);
else a.yL();return}var p=new d2(M.E.b,!0);p.data={q:M.p.eR,De:k,h2:I.name};var V=I instanceof File&&I.lu!=!0,o=new d2(M.E.b,!0);
o.data={q:M.p.iv,S9:"add",CU:null,Q$:null,aiz:I.lu};if(D=="zip"){var r=Date.now(),y=UZIP.parse(k),W="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var m in y){var f=!1;for(var Y=0;Y<W.length;Y++)if(m.toLowerCase().endsWith("."+W[Y]))f=!0;if(m.startsWith("__MACOSX/")||y[m].length==0)f=!0;
if(f)continue;var h=m.split("/").pop();gM.Td({name:h},y[m].buffer,a,n)}}else if(D=="jsx"||T&&T.toLowerCase().endsWith(".jsx")){if(V)a.a(p);
var v=u.Im(new Uint8Array(k));o.data={q:M.p.XI,a2:v};a.a(o)}else if(D=="otf"){if(V)a.a(p);var b=Typr.parse(k);
o.data.CU=f9.xr;for(var Y=0;Y<b.length;Y++){o.data.Q$=b[Y];a.a(o)}}else if(D=="asl"){if(V)a.a(p);var b=k5.SF(k,T);
o.data.CU=f9.Al;o.data.Q$=b.Qc;a.a(o);o.data.CU=f9.EW;o.data.Q$=b.Fm;a.a(o)}else if(D=="tpl"){if(V)a.a(p);
var b=hR.SF(k);o.data.CU=f9.yO;o.data.Q$={HR:b.HR,GR:b.GR,list:[]};a.a(o);if(b.a0C.length!=0){o.data.CU=f9.DX;
o.data.Q$=b.a0C;a.a(o)}if(b.Fm.length!=0){o.data.CU=f9.EW;o.data.Q$=b.Fm;a.a(o)}o.data.CU=f9.Cd;o.data.Q$=b.list;
a.a(o)}else{var i="";for(var w in f9.Pm)if(f9.Pm[w][0]==D)i=w;if(i!=""){if(V)a.a(p);o.data.Q$=f9.Pm[i][2].SF(k,T);
o.data.CU=i;a.a(o)}else if(k.byteLength==0)alert("Empty file (0 Bytes)");else alert("Unknown file format: "+JSON.stringify(D))}};
gM.J2=function(I,k,a){var n=a[0],s=a[1],C=a[2],T=a[3],S=a[4],D=a[5],o=a[6];if(s.Gr)S.hH();if(!s.di){if(k.length==0)return;
if(k[0].t33421||k[0].t50706){j.raw.normalize(k[0],o);console.log(k[0]);var v=new d2(M.E.b,!0);v.data={q:M.p.Fu,aw:"rawpea",eY:k[0]};
S.a(v);return}if(D){D(new Uint8Array(k[0].data),k[0].e3);return}I=kk.Xl(n,k)}I.fY=T.fY;I.eS=C;I.S9=T.S9;
I.qe=T.url;I.Uj=T.Uj;I.cw=T.cw;I.$K=T.$K;I.KS=T.KS;if(I.cw)I.cw.zP=C;if(I.R.length!=0){var v=new d2(M.E.b,!0);
v.data={q:T.if==null?M.p.kz:M.p.c4,target:T.if,qb:T.Vt,Z9:I};S.a(v)}};function cr(I){gB.call(this);this.R2=cr.R2++;
this.Pl=I;this.akF=this.aj7.bind(this);this.a4f=this.aEj.bind(this);this.a0u=this.Ul.bind(this);this.aym=this.ah4.bind(this);
this.a2P=this.aim.bind(this);this.a0H=this.acZ.bind(this);this.j7=0;this.a6Y=0;this.aEE=0;this.Z=$.I("div","panelblock");
this.o5=$.I("div","block");this.bp=$.I("div","collapsed");this.Z.appendChild(this.o5);this.S5=-1;this.QH=!0;
this.FF=$.I("div","panelhead");this.o5.appendChild(this.FF);this.H7(this.FF);this.Cz=new iP("\u2261");
this.Cz.Z.setAttribute("style","position:absolute; right:4px;");this.Cz.O("click",this.agh,this);this.sN=$.I("div","body");
this.o5.appendChild(this.sN);this.Nk=[];this.p2=null;this.as=null}cr.R2=0;cr.prototype=new gB;cr.UJ=26.1;
cr.prototype.agh=function(I){var k=this.Nk[this.S5].eZ(),a=I.currentTarget.Z.getBoundingClientRect();
k.k();k.update();k.parent=this;var n=new d2(M.E.b,!0);n.data={q:M.p.ut,zM:k,x:a.left,y:a.top+a.height+2};
this.a(n)};cr.prototype.FX=function(I){var k=this.o5,a=this.FF,n=this.sN;if($.TU(a))k.removeChild(a);
if($.TU(n))k.removeChild(n);if(I==0)k.appendChild(a);k.appendChild(n);this.aEE=I};cr.dR=function(I){I.stopPropagation();
I.preventDefault()};cr.prototype.aj7=function(I){var k=I.dataTransfer.types;if(k[1]!=null&&k[1]!=this.R2+"")return;
cr.dR(I);var bQ=I.currentTarget;if(I.target==bQ)$.fO(bQ,"highlight")};cr.prototype.aEj=function(I){cr.dR(I);
var bQ=I.currentTarget;if(I.target==bQ)$.St(bQ,"highlight")};cr.prototype.H7=function(I){I.addEventListener("dragenter",this.akF,!1);
I.addEventListener("dragleave",this.a4f,!1);I.addEventListener("dragover",cr.dR,!1);I.addEventListener("drop",this.a0u,!1);
I.addEventListener("dragstart",function(k){k.dataTransfer.setData("Text","--panel");k.dataTransfer.setData(this.R2+"","")}.bind(this),!1)};
cr.prototype.Ul=function(I){this.a4f(I);var k=null,bQ=I.currentTarget,a=this.a7D(bQ);if(bQ==this.sN&&this.S5!=-1)k=this.S5;
else if(bQ==this.FF)k=null;else if(a!=-1)k=a;var n=I.dataTransfer.getData("Text");if(n==""||n.startsWith("http")||n.startsWith("data:image/"))$.bR(I,this,k);
else if(n=="--panel"){var s=$.Ea(I,bQ),C=this.Nk,T=C.slice(0),Y=this.S5,S=a==-1?C.length:s.x<bQ.getBoundingClientRect().width/2?a:a+1;
if(Y==S||Y+1==S||bQ==this.sN)return;var D=Y<S?S-1:S,o=C[Y];C.splice(Y,1);C.splice(D,0,o);$.GD(this.FF);
for(var v=0;v<C.length;v++)this.FF.appendChild(C[v].TG);this.D7(D);var g=[];for(var Y=0;Y<C.length;Y++)g[Y]=T.indexOf(C[Y]);
var d=new d2("shuffleItems",!1);d.data={aiL:g};this.a(d)}else if(k!=null&&this instanceof es){var d=new d2(M.E.b,!0);
d.data={q:M.p.av4,aCw:k};this.a(d)}};cr.prototype.TM=function(){return null};cr.prototype.aiV=function(){if(this.TM()){this.FF.style.padding="0px";
this.as=this.TM();this.sN.appendChild(this.as);this.XU.wl(!1);var I=new d2(M.E.b,!0);I.data={q:M.p.yi,P:1};
this.a(I)}};cr.prototype.av_=function(){if(this.as){this.FF.style.padding="";this.sN.removeChild(this.as);
this.as=null;this.XU.wl(!0);var I=new d2(M.E.b,!0);I.data={q:M.p.yi,P:0};this.a(I)}};cr.prototype.a7D=function(I){var k=this.Nk;
for(var Y=0;Y<k.length;Y++)if(k[Y].TG==I)return Y;return-1};cr.prototype.AW=function(){for(var Y=0;Y<this.Nk.length;
Y++)this.Nk[Y].yR.Jw()};cr.prototype.xF=function(){return this.S5};cr.prototype.qS=function(){if(this.QH)return;
this.QH=!0;this.Z.removeChild(this.bp);this.Z.appendChild(this.o5)};cr.prototype.collapse=function(){if(!this.QH)return;
this.QH=!1;this.Z.appendChild(this.bp);this.Z.removeChild(this.o5)};cr.prototype.UJ=function(){var I=0;
if(this.aEE==0){I=this.FF.getBoundingClientRect().height+1;I=Math.max(I,cr.UJ)}return I};cr.prototype.aty=function(){return this.UJ()+this.sN.getBoundingClientRect().height};
cr.prototype.bb=function(I,k){this.FF.style.maxWidth=I+"px";var a=this.UJ();if(this.S5!=-1)this.Nk[this.S5].bb(I,k-a);
return k-a};cr.prototype.wu=function(I,k){if(this.S5!=-1)this.Nk[this.S5].wu(I,k)};cr.prototype.tc=function(I,k,a){this.Nk[this.S5].tc(I,k,a)};
cr.prototype.m$=function(I){this.av_();if(this.Nk.indexOf(I)!=-1){this.D7(this.Nk.indexOf(I));return}I.parent=this;
this.Nk.push(I);this.FF.appendChild(I.TG);I.TG.addEventListener("mouseover",this.aym,!1);this.H7(I.TG);
this.bp.appendChild(I.yR.Z);I.yR.O("click",this.am4,this);I.O("select",this.auE,this);I.O(M.E.CY,this.acE,this);
this.D7(this.Nk.length-1)};cr.prototype.ah4=function(I){if(I.buttons==0)return;var k=I.currentTarget,a=k,Y=0;
while((a=a.previousSibling)!=null)Y++;this.a6Y=Y;k.addEventListener("mouseout",this.a2P,!1);this.j7=setTimeout(this.a0H,700)};
cr.prototype.aim=function(I){var k=I.currentTarget,a=k,Y=0;while((a=a.previousSibling)!=null)Y++;k.removeEventListener("mouseout",this.a2P);
clearTimeout(this.j7)};cr.prototype.acZ=function(I){this.a(new d2(M.E.amV,!1))};cr.prototype.aex=function(I){return this.a6Y};
cr.prototype.rR=function(Y){var I=new d2(M.E.CY,!1);I.data={vI:Y};this.a(I);var k=this.Nk[Y];this.Nk.splice(Y,1);
this.FF.removeChild(k.TG);this.bp.removeChild(k.yR.Z);k.TG.className="";k.yR.removeEventListener("click",this.am4,this);
k.yR.Jw();k.removeEventListener("activate",this.auE);k.removeEventListener(M.E.CY,this.acE);var n=this.S5;
if(Y<n)n--;else if(Y==n&&Y==this.Nk.length)n--;this.D7(n);if(this.Nk.length==0)this.aiV()};cr.prototype.akl=function(){return this.Nk.length};
cr.prototype.mI=function(){if(this.Nk.length!=0)this.Nk[this.S5].mI()};cr.prototype.D7=function(I,k){if(k==null)k=!0;
for(var Y=0;Y<this.Nk.length;Y++)this.Nk[Y].TG.className="";if(this.p2)this.sN.removeChild(this.p2);
this.p2=null;this.S5=I;if(I==-1)return;var a=this.Nk[this.S5];this.p2=a.zo;this.sN.appendChild(a.zo);
a.TG.className="active";if(!this.QH){this.a(new d2("showFloat"));this.Nk[I].yR.rG()}if(k)this.a(new d2(M.E.B,!1));
a.UU();var n=this.Cz.Z;if(n.parentNode)this.FF.removeChild(n);if(a.eZ())this.FF.appendChild(n);var s=new d2(M.E.b,!0);
s.data={q:M.p.JI};this.a(s)};cr.prototype.auE=function(I){if(this.Pl&&!this.Pl.aBF())return;var Y=this.Nk.indexOf(I.currentTarget);
this.D7(Y)};cr.prototype.acE=function(I){if(this.Pl&&!this.Pl.aBF())return;var Y=this.Nk.indexOf(I.currentTarget);
this.rR(Y)};cr.prototype.am4=function(I){var k=this.Nk.indexOf(I.currentTarget.parent);if(this.Nk[k].yR.D6())this.a(new d2("hideFloat"));
else this.D7(k)};cr.prototype.aze=function(I){this.a(I)};function es(I){cr.call(this,I);this.Qq=0;this.L4=0;
$.hf(this.FF,this.akO.bind(this));this.$J=0;this.a5H=this.aAQ.bind(this);this.H7(this.sN);this.M3=["default;"];
this.XU=new $.uw(this.sN);this.ha=new eL(!0);this.ha.parent=this;this.mZ=this.ha.Z;eL.QO(this.ha)}es.prototype=new cr;
es.prototype.akO=function(I){if(I.target!=this.FF)return;var k=this.$J;this.$J=Date.now();if(Date.now()-k>300)return;
var a=new d2(M.E.b,!0);a.data={q:M.p.Fu,aw:"newproject"};this.a(a)};es.prototype.lt=function(I,k){if(k)this.M3.push(I);
else{var a=this.M3.length-1;if(this.M3[a]==I)return;this.M3[a]=I}this.Db()};es.prototype.aef=function(){this.M3.pop();
this.Db()};es.prototype.Db=function(){var I=this.M3[this.M3.length-1];this.XU.tc(I,this.Vc)};es.prototype.wu=function(I,k){cr.prototype.wu.call(this,I,k);
this.ha.wu(I,k);if(!I.i2){}};es.prototype.k=function(){cr.prototype.k.call(this);this.ha.k()};es.prototype.tc=function(I,k){for(var Y=0;
Y<k.length;Y++){var a=k[Y];this.Nk[Y].sO(a.name+(a.qg()?" *":""))}cr.prototype.tc.call(this,I,k)};es.prototype.TM=function(){return this.mZ};
es.prototype.bb=function(I,k){if(this.Nk.length==0)k+=cr.UJ-1;this.Qq=I;this.L4=k;k=cr.prototype.bb.call(this,I,k);
this.Vc="height:"+k+"px; width:"+I+"px; overflow:hidden; position:relative;";this.Db();this.ha.bb(I,k)};
es.prototype.m$=function(I){cr.prototype.m$.call(this,I);I.TG.addEventListener("click",this.a5H,!1)};
es.prototype.rR=function(Y){var I=this.Nk[Y];$.Yf(I.TG,this.a5H);cr.prototype.rR.call(this,Y)};es.prototype.aAQ=function(I){var k=this.$J;
this.$J=Date.now();if(Date.now()-k>300)return;var a=this.a7D(I.currentTarget),n=this.Nk[a].Z9.name,s=new d2(M.E.b,!0),C={K:M.E.r,S:E.xf,v:{q:X.eA}};
s.data={q:M.p.Fu,aw:"namewindow",P6:n.slice(0,n.length-4),mU:C};this.a(s)};function eU(I){gB.call(this);
if(I)return;kn.aba(1);this.Z=$.I("div","flexrow app");this.Dm=$.I("div");this.Z.appendChild(this.Dm);
setTimeout(function(){var a=window.hideCap;if(a)a()},25e3);this.Ka=new as;window.addEventListener("blur",function(a){this.Ka.reset()}.bind(this),!1);
window.addEventListener("resize",this.f$.bind(this),!1);var k=this.Dm;this.Hs=new jC;this.Hs.parent=this;
k.appendChild(this.Hs.Z);this.Wo=new b9;this.Wo.parent=this;k.appendChild(this.Wo.Z);this.SC=new en(!0);
this.SC.parent=this;k.appendChild(this.SC.Z);this.O(M.E.b,this.Ns,this);this.Ol=this.O6.bind(this);window.requestAnimationFrame(this.Ol)}eU.prototype=new gB;
eU.prototype.O6=function(I){this.mt();window.requestAnimationFrame(this.Ol)};eU.prototype.k=function(){};
eU.prototype.f$=function(I){var k=window.innerWidth,a=window.innerHeight;this.bb(k,a)};eU.prototype.bb=function(I,k){this.Wo.bb(I,k);
this.Hs.bb(I,k)};eU.prototype.Ns=function(I){var k=I.data.q;if(k==M.p.ut)this.Wo.a5W(I.data);if(k==M.p.nx)this.Wo.ago(I.data);
if(k==M.p.bm)this.Wo.aAW(I.data.cJ);if(k==M.p.ki)this.Wo.a6u(I.data.cJ);if(k==M.p.wL)this.Wo.Kz()};function au(){eU.call(this);
this.fy={x:0,y:0,ZT:!1};this.Zm=!1;this.qt=!1;this.sD=null;this.a2D=0;this.a0e=!1;this.SQ=0;window.onmessage=function(v){if(Storage.a6L(v.source))return;
if(v.data instanceof ArrayBuffer){var g=kk.V1(v.data),d=kk.wV(g);ji.Td({url:"file"},v.data,this);if(d==null)this.L1()}else if(v.data instanceof Object||v.data.startsWith("{")||v.data.startsWith("amp-")||v.data.startsWith("0=goog")||v.data.startsWith("3PCoo")||v.data.startsWith("ima://")){}else if(v.data.startsWith("--ur ")){var R=v.data.split(" ").pop(),_=null;
R=R.length==0?[]:R.split(",");console.log(R);var c=this.Wp.Q$,e=new d2(M.E.b,!0);e.data={q:M.p.iv,CU:f9.yy,WM:R};
this.a(e);var O=R,U=c;if(U.length>O.length){var K=U;U=O;O=K}for(var Y=0;Y<O.length;Y++)if(U.indexOf(O[Y])==-1)_=O[Y];
ji.J7("act=3&id="+_+"&dif="+(O==R?1:-1));alert((O==R?"Resource added.":"Resource removed.")+" "+_)}else if(v.data.startsWith("--ot ")){if(this.Hs.bN())this.Hs.bN().close();
this.N2.uB(v.data.split(" ").pop(),!0)}else if(v.data.startsWith("--et ")){}else{var e=new d2(M.E.b,!0);
e.data={q:M.p.XI,a2:v.data};this.a(e);this.L1()}}.bind(this);window.onbeforeunload=function(v){this.ayG();
for(var Y=0;Y<this.HU.length;Y++)if(this.HU[Y].qg())return this.HU[Y].name}.bind(this);window.setInterval(this.a5Y.bind(this),5*60*1e3);
var I=this;if(window.indexedDB&&(!gP.hS()||document.hasStorageAccess==null)){var k={jL:window.indexedDB.open("pp",1)};
k.jL.onupgradeneeded=function(v){var g=v.target.result,d=g.createObjectStore("rsrc",{keyPath:"k"})};
k.jL.onsuccess=function(v){var g=I.Wp.jp.Bq=v.target.result,d=g.transaction(["rsrc"],"readwrite").objectStore("rsrc"),R=d.get("fs0");
R.onsuccess=function(v){if(v.target.result){var O=I.Wp.jp.sM=v.target.result.fset;for(var U in O){if(!U.endsWith(".jsx")&&!U.endsWith(".psd"))ji.Td({url:U,lu:!0},O[U],I)}}};
var c=new BroadcastChannel("pp-tabs"),e=[];c.onmessage=function(v){if(v.data=="id")c.postMessage(I.Wp.jp.id);
else e.push(v.data)};c.postMessage("id");setTimeout(function(){var d=g.transaction(["rsrc"],"readwrite").objectStore("rsrc"),O=d.getAllKeys();
O.onsuccess=function(){var U=O.result,K=[],_=0;for(var Y=0;Y<U.length;Y++){if(U[Y]=="fs0")continue;if(e.indexOf(U[Y])!=-1)continue;
K.push(U[Y])}for(var Y=0;Y<K.length;Y++){var R=d.get(K[Y]);R.onsuccess=function(v){if(v.target.result){var Z=v.target.result.fset;
for(var H in Z){try{ji.Td({url:H,lu:!0},Z[H],I);var G=I.um();G.be=G.QG=-1}catch(v){console.log(v)}}_++;
if(_==K.length)for(var Y=0;Y<K.length;Y++){var R=d.delete(K[Y])}}}}}},200)}}var a=["rwx~#.-(;.]6EF","rx'|#1,6><@87f?NO","\"|'/-&(0><BBDEEMGrVPb"],n=$.EV[dz.tL][dz.a5k];
for(var Y=0;Y<a.length;Y++){var s=$.R8(a[Y]);if(n.indexOf(s)!=-1){var C=$.EV[dz.tL][dz.sN],T=$.R8("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
$.GD(C);C[dz.am_]=T;return}}this.L=au.alk();this.Wp={L:this.L,aws:!1,P$:null,bn:0,Yg:{GR:[],HR:[],list:[],Cj:null},RR:[],ayy:[],iG:[],jf:[],p4:[],Vh:[],alz:[],a10:[],p4:[],lo:[jx.nI()],JP:[],Jb:[],dv:null,vj:0,qm:fY.qm.nI(),amG:fY.qm.nI(),r3:{nE:1,aG:JSON.parse(JSON.stringify(fY.T8[0]))},zz:fY.Lg.nI(),a1i:[null].concat(fY.T8),a2v:[null].concat(fY.T8),IE:new jL(function(v){var g=new d2(M.E.b,!0);
g.data={q:M.p._C,CU:{url:bU.Wn("rsrc/fonts/"+v)}};this.a(g)}.bind(this)),kd:{JN:[],CX:null,i9:null},font:null,YZ:[],Q$:[],a9I:{},MW:0,U2:16777215,yF:!1,Q7:!0,M6:{Fq:!0,kG:!1,ue:!0,DD:!0,Po:!0,IZ:!0,AX:20,L9:0,Ts:0,NY:0,Oi:8421504,Kn:65535,rr:33023},Rl:!0,n1:[!0,!0,!1,!0,!0],Kg:[0,1,2,3,5,6,7,9,10,16,17,100],DU:1,bA:!0,JA:{},i2:!0,ayt:!1,compact:!1,EY:1,Xp:0,mZ:!0,nN:{},Ya:null,jp:{id:"ts"+Math.round(Math.random()*16777215),az1:!1,a7L:!1,sM:{},iO:{},Bq:null},a1S:0,aBc:null,uZ:null,agn:null,aO:null};
jL.x3.Ui(this);this.ahS={Sq:new eZ,UW:new kK};this.Wp.kd=f4.apw();this.VF=new fd;this.FA=new aP;this.nz=new a2;
this.cN=new c0(this.L,!0);this.qN=new aF;this.sB=new es(this);this.cQ=$.I("div");this.ge=!1;this.Uh=this.a17.bind(this);
$.fO(this.sB.Z,"mainblock");this.SC.parent=this.VF.parent=this.FA.parent=this.cN.parent=this.qN.parent=this.sB.parent=this;
this.sB.O(M.E.B,this.Q_,this);this.sB.O(M.E.CY,this.arw,this);this.sB.O("shuffleItems",this.asu,this);
this.sB.O(M.E.amV,this.a13,this);this.O("mouse",this.a0t,this);this.O(M.E.r,this.CP,this);this.O(M.E.rd,this.a9c,this);
document.body.addEventListener("keydown",this.Ww.bind(this),!1);window.addEventListener("keyup",this.mb.bind(this),!1);
window.addEventListener("paste",this.aj5.bind(this),!1);window.addEventListener("copy",this.azc.bind(this),!1);
window.addEventListener("wheel",function(v){if(v.ctrlKey)v.preventDefault()},{passive:!1});window.addEventListener("beforeinstallprompt",function(v){if(window.innerWidth>400)v.preventDefault();
this.Wp.Ya=v}.bind(this));if(window.location.href.indexOf("photopea.com")!=-1&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(v){if(v.aCP){console.log("Service worker installing")}else if(v.a9e){console.log("Service worker installed")}else if(v.active){console.log("Service worker active")}}).catch(function(v){console.log("Registration failed with "+v)})}this.JZ=0;
this.HU=[];this.N2=new ji(gM.Td);this.N2.parent=this;var S=this.Dm,D=this.aS=$.I("div");D.appendChild(this.VF.Z);
D.appendChild(this.FA.Z);this.SC.a00(D);var o=this.apI=$.I("div","flexrow");S.appendChild(o);o.appendChild(this.cN.Z);
o.appendChild(this.sB.Z);o.appendChild(this.qN.Z);this.N2.BF({url:bU.Wn("rsrc/basic/basic.zip")});this.Na(E.Mt);
bU.Ui(this.arh.bind(this));if(this.VT())return;if(ht==0)bU.event("web_PPea",.002);if(ht==1)fetch("//www.photopea.com/papi/event.php?id=web_VPea")}au.prototype=new eU(!0);
au.prototype.L1=function(I){var k=new d2(M.E.b);k.data={q:M.p.Wq,CU:I?I:"done"};this.a(k)};au.prototype.a5Y=function(){var I=this.Wp.jp,a=!1;
if(I.Bq==null)return;var k=this.HU;for(var Y=0;Y<k.length;Y++){var n=k[Y];if(n.QG!=n.R3){var s=Date.now(),C=kk.gj(n,"psd",0,0,[!0,!1,!0,!1,!0]);
n.QG=n.R3;I.iO[n.name]=C;a=!0;console.log(Date.now()-s,"saving "+n.name,C.byteLength)}}if(a){var T=new d2(M.E.b);
T.data={q:M.p.iv,CU:f9.aN,aEa:!0};this.a(T)}};au.prototype.arh=function(){$.EV[dz.a1K](this.avQ.bind(this),Math.pow(Math.PI,8)+$.EV[dz.a6G][dz.age]()*1e4);
var I=bU.So();if(I!=null&&I.globals!=null)this.dY(I.globals);else{this.a0e=!0;var k=hJ.aaK();if(k&&k.length!=0){var a=k[0];
hJ.aeI(a,this.Uh)}}if(!this.VT()){var n=$.axz();if(n==0)this.ayt=!0;if(n==2)this.Wp.i2=!1;if(n!=1&&Math.random()<.002)$.acU()}if(!gP.hS()||!this.Wp.i2){this.a3_();
this.p3()}else{var s=$.Wl($.EV[dz.akG]);s[dz.RF](dz.c9,this.aeM.bind(this));var C=$.Iy("_MYOqDLGJa;A:6");
if(ht!=0)C=dz.R8("@C/25N4/9A?C;:iBQRv")+C;s[dz.HC]($.Iy("61="),C);s[dz.Fn]()}this.Zm=!0;this.L1()};au.prototype.aeM=function(I){var k=JSON.parse(I.target[dz.T$]),a=$.EV[dz.Xr][dz.a5Z]()/1e3,n=$.EV[dz.tL][dz.a5k],s=!1;
for(var C in k)if(C.indexOf(".")!=-1&&n.indexOf(C)!=-1&&parseInt(k[C])>a)s=!0;if(s)this.Wp.i2=!1;this.a3_();
this.p3()};au.prototype.p3=function(I){this.qt=!0;if(!this.Wp.mZ)this.sB.mZ=null;else if(this.HU.length==0)this.sB.aiV();
this.wU(f9._7);this.k();this.f$();this.qN.tc(this.um(),this.HU,this.Wp)};au.prototype.dY=function(I){var k=this.Wp;
if(I.fcolor!=null){k.MW=I.fcolor;var a=k.kd.CX.FillColor;if(a){var n=j.uU(k.MW);a.Values=[1,n.$/255,n.H/255,n.J/255]}}if(I.bcolor!=null)k.U2=I.bcolor;
if(I.rulers!=null)k.yF=I.rulers;if(I.extras!=null)k.Q7=I.extras;if(I.favFam!=null)k.YZ=I.favFam;if(I.rsrc!=null)k.Q$=I.rsrc;
if(I.font!=null)k.kd.JN[0].Name=I.font;if(I.panels!=null)k.Kg=I.panels;if(I.as!=null)k.EY=I.as;if(I.co!=null)k.Xp=I.co;
if(I.eparams){var s=I.eparams,C=k.M6;if(s.guides!=null)C.Fq=s.guides;if(s.grid!=null)C.kG=s.grid;if(s.gsize!=null)C.AX=s.gsize;
if(s.gunits!=null)C.L9=s.gunits;if(s.gtype!=null)C.Ts=s.gtype;if(s.runits!=null)C.NY=s.runits;if(s.gcol!=null)C.Oi=s.gcol;
if(s.gucol!=null)C.Kn=s.gucol;if(s.glcol!=null)C.rr=s.glcol;if(s.sels!=null)C.ue=s.sels;if(s.paths!=null)C.DD=s.paths;
if(s.pgrid!=null)C.Po=s.pgrid;if(s.slices!=null)C.IZ=s.slices}if(I.lang!=null)hJ.aeI(I.lang,this.Uh);
if(I.theme!=null)k.DU=I.theme;if(I.topt||k.BJ){var T=I.topt?I.topt:{},S=k.BJ?k.BJ:{};for(var D in this.L.map){if(D>=103)continue;
var o="t"+D;if(T[o]||S[o])this.L.map[D].S.j9(T[o],S[o],this)}}};au.prototype.a3_=function(){if(this.Wp.aws)return;
this.Wp.aws=!0;var I=null,k=window.location.href,a=k.indexOf("="),n=k.indexOf("#");if(a!=-1)I=k.substring(k.indexOf("?")+1,a);
if(n!=-1&&n!=k.length-1){I="p";a=n}if(n!=-1&&k[n+1]=="i"){this.N2.uB(k.slice(n+2,n+10))}else if(k.slice(n+1).startsWith("goog_rewarded")){}else if(n!=-1&&k[n+1]=="t"){this.N2.uB(k.slice(n+2,n+10).split("").reverse().join(""),!0)}else if(I=="p"||I=="state"){var s=k.substring(a+1,k.length);
s=JSON.parse(decodeURIComponent(s));if(I=="p"){var C=s.apis,T=this.Wp;if(C){if(C.rmbg)T.nN.yK=C.rmbg;
if(C.dezgo)T.nN.acl=C.dezgo}if(s.script=="alert(73)")this.Wp.i2=!1;if(s.script)d_.aht(this);if(s.server)this.sD=s.server;
if(s.resources)for(var Y=0;Y<s.resources.length;Y++)this.N2.BF({url:s.resources[Y]});if(s.files)for(var Y=0;
Y<s.files.length;Y++)this.N2.BF({url:s.files[Y],S9:{nj:s.server,ai3:s.script}});var S=s.environment;
if(S==null)S={};if(S.plugins!=null)this.qN.auf(S.plugins);if(S.localsave!=null)this.Wp.bA=S.localsave;
if(S.customIO!=null)this.Wp.JA=S.customIO;if(S.vmode!=null){var D=S.vmode;if(D==1)this.Wp.compact=!0;
if(D==2)this.FX(1)}if(S.intro!=null)this.Wp.mZ=S.intro;if(S.menus!=null)this.Wp.a9y=S.menus;if(S.tmnu!=null)this.Wp.BJ=S.tmnu;
if(S.panels!=null)this.Wp.Kg=S.panels;if(S.showtools!=null){var o=S.showtools,v=o.indexOf(this.Wp.P$);
this.Wp.tw=o;if(v==-1)this.Na(o[0])}if(S.phrases!=null)hJ.awn(S.phrases);if(S.autosave!=null){this.Wp.EY=0;
window.setInterval(function(){var R=new d2(M.E.b);R.data={q:M.p.Vd};this.a(R)}.bind(this),S.autosave*1e3)}if(S.icons!=null){for(var g in S.icons)if(S.icons[g].indexOf("\"")==-1){if((g==dz.a7k||g==dz.a81)&&this.Wp.i2)continue;
PIMG[g]=S.icons[g];PIMG["__"+g]=!0}}this.dY(S);if(s.files==null&&s.script){bg._K(s.script,this);this.L1()}}else if(I=="state"){var d=this.N2;
if(s.action=="create"){var R=new d2(M.E.b);R.data={q:M.p.Fu,aw:"newproject",ans:s.folderId};this.a(R)}if(s.action=="open"){for(var Y=0;
Y<s.ids.length;Y++)hK.Ms(function(){var e="https://www.googleapis.com/drive/v3/files/"+this.agM,O=new XMLHttpRequest;
O.open("GET",e);O.setRequestHeader("Authorization",hK.acO());O.send();O.onload=function(U){var K=JSON.parse(U.target.response);
d.BF({url:e+"?alt=media",name:K.name,cw:{file:K,zP:""},Yr:{Authorization:hK.acO()}})}}.bind({agM:s.ids[Y]}));
alert("Loading files from Google Drive ...")}}}else{var c=window.launchQueue;if(c){var d=this.N2;c.setConsumer(function(e){var O=e.files;
console.log(O);for(var Y=0;Y<O.length;Y++){var U=O[Y];U.getFile().then(function(K){d.l1([K],null,null,null,[U])})}})}}};
au.prototype.k=function(){var I=document.getElementById("cap");if(I){var k=!1,a=I.getElementsByTagName("h1")[0],C=0,S=0,D=0;
a.textContent=k?"Photopea":hJ.get([0,17,0]);var n=I.getElementsByTagName("p"),s=$.Pd(hJ.get([0,17,1])),T=["PSD","XCF","Sketch","XD","CDR"];
for(var Y=0;Y<T.length;Y++)s=s.replace(T[Y],"<b>"+T[Y]+"</b>");if(!k)s+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
n[0].innerHTML=s;s=hJ.get([0,17,2])+" "+hJ.get([0,17,3]);for(var Y=0;Y<s.length;Y++){var o=s[Y];if(o=="<")S++;
if(o==">")D++}if(!k&&S*D==9){var v=["//github.com/photopea/"+["photo","vector"][ht]+"pea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var Y=0;Y<3;Y++){var g=s.indexOf("<",C),d=s.indexOf(">",C),R=s.slice(0,g)+"<a href=\""+v[Y]+"\" target=\"_blank\">"+s.slice(g+1,d)+"</a>";
C=R.length;s=R+s.slice(d+1)}n[1].innerHTML=s}else n[1].innerHTML=hJ.get([0,17,2])}var c=document.getElementById("sponsors");
if(c)c.textContent=hJ.get([0,17,4]);this.SC.k();this.VF.k();this.nz.k();this.qN.k();this.cN.k();this.Hs.k();
this.sB.k();for(var e in this.L.map)if(this.L.map[e].ie)this.L.map[e].ie.k()};au.prototype.VT=function(){var I=$.EV[dz.ly][dz.a3l];
if(I&&I[1]){if(I[1].endsWith(dz.Iy("UUPSDm@ID")))return!0}return 4<$.EV[dz.ly][dz.cS][dz.arx](dz.Iy("'$!|"))};
au.prototype.bb=function(I,k){I=Math.floor(I);k=Math.floor(k);var a=$.Iy("WUMK&AM"),n=dz.$k,s=$.EV[dz.tL],C=Math.max(I,window.screen.width),T=Math.max(k,window.screen.height),g=0;
if(gP.dx==null)gP.dx=Math.min(C,T)<500||C<750?0:C<1500?1:2;var S=gP.dx,D=!this.qt||this.VT()||!this.Wp.i2||bU.Oa()||$.VI()==dz.Iy("eQLZRRM?8a4=8");
if(!D&&gP.hS()){if(this.a9N==null)this.a9N=Math.random()<.5;D=this.a9N}if(D){if(S!=0&&$.EV[a]&&this.qt)$.EV[a]()}else{if(S==0)k-=84;
else I-=S==1?180:320}eU.prototype.bb.call(this,I,k);if(D&&this.ge){this.Z[dz.anH](this.cQ);$.GD(this.cQ);
this.ge=!1}if(!D&&!this.ge){var o=function(c){if(Math.random()<.002){if(ht==0&&gP.mf())bU.event("gota_0")}if(ht==0&&c)$.EV.___a=!0;
this.aaU(I,k);var e=S==0?s[dz.sN]:this.Z;e.appendChild(this.cQ);this.cQ[dz.A_](n,$.Iy("_MMJLNDfKCAg")+(S==0?10:10)+$.Iy("_d$ebOS?I:==Ba-+# }$M"));
this.cQ[n][$.Iy("_MMJLND&<:E")]=(S==0?0:19)+$.Iy("_d");this.cQ[n][$.Iy("i5WJHX")]=S==0?0:1}.bind(this);
function v(){gP.abD(o)}setTimeout(v,2300);this.ge=!0}if($.TU(this.VF.Z))g+=31;if($.TU(this.FA.Z))g+=32;
this.SC.aaM=this.Wp.i2&&this.qt;this.SC.bb(I,g);var d=k-g,R=$.Iy("_d");this.cQ[n][dz.abA]=(S==0?100>>>1:k-11)+R;
this.cQ[n][dz.azb]=(S==0?I:6*Math.pow(10,2))+R;if($.TU(this.cN.Z))this.cN.bb(I,d);this.qN.bb(I,d);this.sB.bb(I-this.cN.oe()-this.qN.oe(),d)};
au.prototype.aaU=function(I,k){var a=function(){var n=new d2(M.E.b);n.data={q:M.p.Fu,aw:"account"};this.a(n)}.bind(this);
gP.akC(I,k,this.cQ,a)};au.prototype.azc=function(I){console.log("systemCopy")};au.prototype.aj5=function(I){if($.RI())return;
console.log("systemPaste");if(!I.clipboardData)return;var k=I.target.tagName.toLowerCase(),a=I.clipboardData.items;
if(a==null)return;var n=this.aaD.bind(this);for(var Y=0;Y<a.length;Y++){var s=a[Y],C=s.getAsFile();if(s.type.indexOf("image")!=-1){if(C.size==this.Wp.a1S)return;
this.Wp.a1S=C.size;if(C){C.name="image.png";this.N2.l1([C],n)}}}};au.prototype.aaD=function(I,k){var a={buffer:I,rect:k},n=this.Wp;
if($.RI()){var s=this.ahS,C=s.Sq;if(C.Q==k.Q&&C._==k._){a.rect=C;a.UW=s.UW}}else{if(n.uZ){var T=new d2(M.E.r,!0);
T.S=E.ca;T.data={q:"h_stepbck"};this.a(T)}}n.uZ=a;var T=new d2(M.E.b,!0);T.data={q:M.p.ZJ,apa:!0};this.a(T)};
au.prototype.as_=function(){if(this.Hs.bN()!=null)alert(hJ.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
au.prototype.CP=function(I){var k=this.um();if(k==null){alert(hJ.get([15,7,7]));return}var a=I.S==E._F||I.S==E.VX;
if(this.Hs.UC()&&I.tQ!=!0&&!a){this.as_();return}var n=this.L,s=this.Wp.P$,C=I.S;if(C==E.N$&&s==E.B6)C=E.B6;
if(s!=C&&n.map[s].S.UC()&&!a&&!(s==E.DV&&C==E.OJ)){console.log("disabling",s);n.map[s].S.disable(k,this,this.Wp,this.Ka)}var T=this.L.map[C].S;
T.CP(I.data,this,k,this.Ka,this.Wp)};au.prototype.a9c=function(I){var k=this.Wp;if(I.data.Ay!=!0)hW.a4L({pi:I.data.pi,zf:I.data.zf},this,k,this.um());
var a=k.dv,n=k.Jb;if(a==null)return;var s={abU:!1,k2:"Step",ayb:0,e:!0,exp:!1,pi:I.data.pi};if(a[2]==null)a[2]=n[a[0]].PJ[a[1]].PJ.length-1;
if(I.data.zf)s.zf=I.data.zf;n[a[0]].PJ[a[1]].PJ.splice(a[2]+1,0,s);a[2]++;this.wU(f9.r)};au.prototype.Ns=function(I){if(this.ayt){I.data=0;
return I.type}var k=I.data&&I.data.q==M.p.Fu&&I.data.aw==dz.an0;if($.EV.__csrf&&!bU.Oa()&&!k){var a=dz.Iy("?XNGVEhYC9EM@;D5'+05,~\")ggs|\"x7YOYOJa\"KGI8>AKF3/=/ y1!tomv((xeeoTO[cB]+J:?8A6E$# ),\"%-2)EdajmcfpkJZbTE?VH@>SG&0#;+z~~mm&ShlnfdVOx");
alert(a,5e3);return}eU.prototype.Ns.call(this,I);var n=I.data.q;if(n==M.p.cb)hW.awy(this.um(),this.Wp.Jb,I.data.ri[0],I.data.ri[1],this);
if(n==M.p.av4){this.a9O(I.data.aCw)}if(n==M.p.anR){this.k();this.f$()}if(n==M.p.JI)this.f$();if(n==M.p.gI)if(this.Wp.Ya){this.Wp.Ya.prompt();
this.Wp.Ya=null}if(n==M.p.Zk)this.sB.lt(I.data.s3,I.data.push);if(n==M.p.aCf)this.sB.aef();if(n==M.p.a97)this.Q_(null,I.data.dir);
if(n==M.p.kZ)this.sB.rR(this.HU.indexOf(I.data.Yx?I.data.Yx:this.um()));if(n==M.p.yi){var s=navigator.keyboard;
if(I.data.mn&&s)s.lock(["Escape"]);if(I.data.mn&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}else if(I.data.mn)document.body.webkitRequestFullScreen();if(I.data.P!=null)this.FX(I.data.P)}if(n==M.p.a9h){if(I.data.ZT)this.Ka.eP(I.data.afL);
else this.Ka.R1(I.data.afL);this.Bf(I.data.ZT?"down":"up")}if(n==M.p.anu){var C=I.data.P;this.qN.auf([C]);
this.k()}if(n==M.p.lV){var T=this.um(),S=T.TB().slice(0),D=T.R[T.T[0]],o=new eZ(0,0,T.Q,T._),v=iJ.I8()+"-d71c-11e5-b1ae-a548a96e5f9f",g=new d2(M.E.b,!0);
if(I.data.CU==0){var d={name:"Default/"+T.name.split(".")[0],id:v,ZS:[S,o]};g.data={q:M.p.iv,S9:"add",CU:f9.Al,Q$:[d]};
this.a(g)}if(I.data.CU==1){var R=j.U(o.c()*4);j.IP(R,4294967295);j.z.Pf("norm",S,o,R,o,o,1);var c=j.U(o.c());
j.xD(R,c);j.Us(c);var e=j.PD(c,o);if(e.KH())e=o;var O=j.U(e.c());j.O0(c,o,O,e);e.x=e.y=0;var U={Sq:e,id:v,ZS:[O,e]},K=kJ.Nf(v),_=K.Brsh.v;
_.Dmtr.v.val=Math.max(e.Q,e._);_.Spcn.v.val=10;g.data={q:M.p.iv,S9:"add",CU:f9.yO,Q$:{list:[{t:"Objc",v:K}],HR:[U],GR:[]}};
this.a(g);g.data={q:M.p.iv,CU:f9.Q2,ZA:K};this.a(g)}if(I.data.CU==2){var Z=T.iQ(),H=Z[0][Z[1][0]],G={z2:"Default/"+D.getName(),Nu:v,d:H.add.vmsk.clone().d},N=j.n.oz(G.d),z=new dc(N.Q,0,0,N._,N.x,N.y);
z.Us();j.n.de(G.d,z);N.x=N.y=0;G.UL=N.clone();g.data={q:M.p.iv,S9:"add",CU:f9.DX,Q$:[G]};this.a(g)}}if(n==M.p._C)this.N2.BF(I.data.CU);
if(n==M.p.Av){var L=I.data.a6P,p=I.data.n5;if(L!=!0&&p!=!0&&this.m6("open"))return;var V=this.sB.xF();
if(p)V=-1-V;this.N2.aif(L||p?V:null,I.data.anA)}if(n==M.p.FC){var r=I.data.abv,y=I.data.y9,W=this.wh(r);
if(y){var m=r==f9.yO,f=[];for(var Y=0;Y<y.length;Y++)f.push((m?W.list:W)[y[Y]]);W=m?{GR:W.GR,HR:W.HR,list:f}:f}if(r==f9.EW){var o=new iJ;
for(var Y=0;Y<W.length;Y++){var h=W[Y].ov.Lefx;if(h)hB.amZ(h,o,this.Wp.Vh)}W={Qc:o.add.Patt?o.add.Patt:[],Fm:W}}if(r==f9.Cd){var b=this.Wp.Yg;
W={HR:[],GR:[],list:W};console.log(W)}if(r==f9.r)W=W[I.data.BO];var i=f9.Pm[r],S=i[2].TZ(W);ji.save(S,i[1]+"."+i[0])}if(n==M.p.eR){var w=this.Wp.jp,J=I.data.aBQ;
if(w.Bq&&!w.az1&&!J){w.a7L=window.confirm("Load \""+I.data.h2+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
w.az1=!0}if((w.a7L||J)&&w.Bq){w.sM[I.data.h2]=I.data.De;var g=new d2(M.E.b);g.data={q:M.p.iv,CU:f9.aN};
this.a(g)}}if(n==M.p.abF){var T=this.um(),A="<!DOCTYPE HTML>";if(T==null)return;var q=kk.$U(T.TB().buffer,T.Q,T._),x=window.open();
A+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";A+="<body><img src=\""+q+"\" /></body>";
A+="</html>";x.document.write(A)}if(n==M.p.S7){if(this.m6("publishOnline"))return;var Q=I.data.Uy=="jpg"||I.data.Uy=="png",T=this.um();
if(T==null)return;if(!Q&&T.fY)return;var a="Your "+(Q?"picture":"document")+" will be published at "+(Q?"Imgur":["Photo","Vector"][ht]+"pea")+".com under a public URL (known only to you). Proceed?";
if(!Q)a+=" We guarantee 6+ months of storage.";var B=I.data.Y2?!0:confirm(a);if(B){if(I.data.Uy=="psd"){var g=new d2(M.E.r,!0);
g.S=E.xf;g.data={q:X.kT};this.a(g);var l=new eZ(0,0,T.Q,T._);for(var Y=0;Y<T.R.length;Y++){var D=T.R[Y];
if(D.rect.KH()||D.hd()||D.IO()||D.IM()||D.wc()||D.add.TySh||D.add.vmsk||D.add.SoLd)continue;var P=l.LU(D.rect);
if(!P.a$(D.rect)&&!P.KH()){var F=j.U(P.c()*4);j.ao(D.buffer,D.rect,F,P);D.buffer=F;D.rect=P}if(!j.yD(D.buffer,D.rect.Q,D.rect._))continue;
var t=D.K7(),b$=D.opacity,hd=D.pu,di=D.Pi;D.ol(!0);D.opacity=255;D.pu="norm";T.T=[Y];g.data={q:X.P1,Uy:"jpg"};
this.a(g);var hD=T.R[Y];D.ol(t);hD.ol(t);D.opacity=hD.opacity=b$;D.pu=hD.pu=hd,D.Pi=hD.Pi=di}}if(T.Cq){T.pa()}var a$=T.Q,eJ=T._,hY=I.data.awY,ik;
if(hY)while(Math.max(a$,eJ)>hY){a$=a$>>>1;eJ=eJ>>>1}console.log(a$,eJ);if(I.data.Uy=="psd")ik=kk.gj(T,"psd",0,0,[!0,!0,!0,!1,!0]);
else if(I.data.Uy=="ai")ik=kk.gj(T,"ai");else if(I.data.Uy=="png")ik=kk.gj(T,"png",a$,eJ);else{var fw=kk.gj(T,"png",a$,eJ),jb=kk.gj(T,"jpg",a$,eJ);
ik=fw.byteLength<jb.byteLength?fw:jb}if(I.data.Y2==null)I.data.Y2=function(c$){var ba=Q?c$:"https://www."+["photo","vector"][ht]+"pea.com/#i"+c$,g=new d2(M.E.b);
g.data={q:M.p.Fu,aw:"linkview",a4X:ba};this.a(g)}.bind(this);if(Q)ji.a0X(ik,I.data.Y2);else this.N2.axJ(ik,T.name,I.data.Y2,"psdshared")}}if(n==M.p.Vd){var T=this.um(),cd=!1;
if(T==null)return;if(T.Cq){T.pa()}if(I.data.Cc){if(!this.nL(T,I.data.Cc))return;var S=gM.anl(T,I.data.Cc,this.Wp);
this.L1(S);cd=!0}else if(T.Uj){if(this.HU.indexOf(T.Uj.DJ)!=-1){var S=new Uint8Array(kk.wV("PSD").G0(T,null,null,[!0,!1])),g=new d2(M.E.r,!0);
g.data={q:X.hR,Z9:T.Uj.DJ,data:S,id:T.Uj.afN,f3:T.name};g.S=E.xf;this.a(g);alert("Smart Object updated")}cd=!0}else if(this.m6("save")){cd=!0}else if(T.cw){gM.aky(T);
cd=!0}else if(T.KS){var dN=gM.am2(T);if(dN==1){alert("Already saving another file. Try again later.");
return}cd=!0}else if(T.S9&&T.S9.nj){if(!this.nL(T,T.S9.nj.formats))return;this.N2.abG(T,this.Wp,gM.aBS);
cd=!0}else if(T.$K&&(ht==0&&"psd jpg png gif webp svg bmp".split(" ").indexOf(T.eS)!=-1||ht==1&&T.eS=="ai")){this.akt();
return}if(cd){T.be=T.R3;T.om=Date.now();T.Xi=!0}else{var g=new d2(M.E.b,!0);g.data={q:M.p.qv};this.a(g)}}if(n==M.p.qv){if(!this.Wp.bA){alert("function is disabled");
return}if(this.m6("saveAsPSD"))return;var T=this.um();if(T==null)return;if(!this.nL(T))return;var g=new d2(M.E.r,!0);
g.data={q:X.kT};g.S=E.xf;this.a(g);var kc=T.R.length,ck="Your document has "+T.R.length+" layers.";if(kc>1<<15){alert(ck+" PSD files can have up to "+(1<<15)+" layers.",5e3);
return}if(kc>8e3&&!confirm(ck+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var b3={B9:[]};T.root.arU([],b3);var hL=b3.B9;if(hL.length>11&&!confirm("One layer is nested "+(hL.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+hL.join(" \uD83E\uDC1A ")+"."))return;
var gS=window.showSaveFilePicker;if(window.parent!=window)gS=null;if(gS&&!I.data.atq){var jF={suggestedName:T.name,types:[{description:["PSD","AI"][ht]+" Files",accept:ht==0?{"image/psd":[".psd"]}:{"application/pdf":[".ai"]}}]};
gS(jF).then(function(I){T.$K=I;T.name=I.name;T.cd=!0;T.eS="psd";this.akt()}.bind(this));return}var kB=window.gtag;
if(T.uK()&&kB)kB("event",T.eS+":"+$.R8(bU.Oa()?"\"'|('61":"w'| "),{event_category:"Formats"});if(T.Cq){T.pa()}var jw=ht==0?"PSD":"AI",iT=kk.wV(jw);
bU.event("efmt_"+jw.toLowerCase(),.1);if(I.data.atq){var S=T.eS=="psd"?iT.G0(T):gM.ew(T,T.eS,this.Wp);
this.aoE(S,T,this)}else{var S=iT.G0(T);ji.save(S,T.name);T.be=T.R3;T.om=Date.now();T.Xi=!0}}if(n==M.p.Bc)window.open(I.data.link,"_blank");
if(n==M.p.ae_){if(this.Hs.UC()){this.as_();return}var T=this.um(),D=T.R[T.T[0]],C=T.SR(D.add.SoLd.Idnt.v);
for(var Y=0;Y<this.HU.length;Y++){var aL=this.HU[Y].Uj;if(aL!=null&&aL.afN==C.DZ&&aL.DJ==T){this.sB.D7(Y);
return}}ji.Td({name:C.f3,Uj:{afN:D.add.SoLd.Idnt.v,DJ:T}},C.raw.buffer,this)}if(n==M.p.aqG){var T=this.um(),D=T.R[T.T[0]],C=T.SR(D.add.SoLd.Idnt.v);
ji.save(C.raw.buffer,C.f3)}if(n==M.p.aDL){console.log(I.data);ji.Td({name:I.data.KS[1].split("/").pop(),KS:I.data.KS},I.data.b6,this)}if(n==M.p.ao6){var T=this.um();
T.KS=I.data.KS;T.name=T.KS[1].split("/").pop();var g=new d2(M.E.b);g.data={q:M.p.Vd};this.a(g)}if(n==M.p.Rp){this.ahF()}if(n==M.p.eM){this.awb(I.data.JR,I.data.dQ,I.data.jb)}if(n==M.p.ZJ){this.ahf(I.data.apa,I.data.ay_,I.data.jb)}if(n==M.p.ahj){var dw=I.data.P;
if(this.Wp.P$==E.N$&&this.zj().UC()){var g=new d2(M.E.r,!0);g.S=E.N$;g.data={q:"insertText",P:dw};this.a(g);
return}if(dw.startsWith("vcb;")){var ka=JSON.parse(dw.slice(4));ka[0]=jx.a0D(ka[0]);var g=new d2(M.E.r,!0);
g.S=E.N4;g.data={q:"append",xn:"Paste Paths",a1z:ka};this.a(g)}else if(dw.startsWith("lrs;")){var cy=dw.split(";"),jP=this.HU[parseInt(cy[1])];
if(jP==null)return;var aA=this.um(),d1=jP.T;jP.T=JSON.parse(cy[2]);var ag=jP.hu(null,jP!=aA);jP.T=d1;
var g=new d2(M.E.r,!0);g.data={q:X.Qr,R:ag,DJ:jP,aR:aA};g.S=E.xf;this.a(g)}else if(dw.startsWith("<!--")||dw.startsWith("<svg")){var b0=u.ba(dw),kx=kk.wV("svg"),o=new iJ("image.psd");
kx.Zn(b0.buffer,o);if(this.HU.length!=0){var br=o.R;if(br.length==3&&br[0].getName()=="</Layer group>"&&br[2].hd())br=[br[1]];
var g=new d2(M.E.r,!0);g.S=E.xf;g.data={q:X.Qr,R:br,DJ:o,aR:this.um()};this.a(g)}else this.aAF(o)}}if(n==M.p.XI){bg._K(I.data.a2,this)}if(n==M.p.Wq){if(window.parent!=window)window.parent.postMessage(I.data.CU,"*");
this.qN.wz(I.data.CU)}if(n==M.p.N7){var ft=parseFloat(I.data.aw);if(this.Wp.Kg.indexOf(ft)==-1){var g=new d2(M.E.b,!0);
g.data={q:M.p.iv,CU:f9.Zp,P:ft,S9:"add"};this.a(g)}this.qN.abk(I.data.aw)}if(n==M.p.EM){this.Wo.aCC(this.um(),this.Wp)}if(n==M.p.Fu){var iv="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var Y=0;Y<iv.length;Y+=2)if(I.data.aw==iv[Y]&&this.m6(iv[Y+1]))return;if(!this.Wp.bA&&I.data.window=="saveforweb"){alert("function is disabled");
return}this.Hs.aAZ(I.data.aw,this.um(),I.data,this.HU,this.Ka)}if(n==M.p.KZ)ji.save(I.data.data,I.data.name);
if(n==M.p.kz){if(!this.Hs.UC()||I.tQ)this.aAF(I.data.Z9)}if(n==M.p.c4){this.sB.D7(I.data.target);var g=new d2(M.E.r,!0);
g.data={q:X.a3n,Z9:I.data.Z9,Ip:I.data.Ip,qb:I.data.qb};g.S=E.xf;this.a(g);this.Na(E.Yo)}if(n==M.p.aiC){dZ.QV=!dZ.QV;
if(this.HU.length>0)this.um().V()}if(n==M.p.ahA){var k6=bU.So();if(k6!=null&&k6.globals!=null)this.dY(k6.globals);
this.p3()}if(n==M.p.Gj){this.N2.l1(I.data.data,null,I.data.if,I.data.Vt,I.data.aDH)}if(n==M.p.$g){var ay=this.zj();
if(!this.Hs.bN()!=null)this.Na(I.data.S,I.data.sw);var eT=this.zj();if(eT!=ay&&I.data.azA)eT.Vr(this.um(),this,this.Wp,this.Ka,this.fy)}if(n==M.p.Zj){if(this.L.Ot)this.Na(this.L.Ot)}if(n==M.p.R9){var kD=this.L.map[I.data.S].S,T=this.um();
kD.Un(I.data,this,T,this.Ka,this.Wp);if(T)T.q_=!0;this.aCZ()}if(n==M.p.at){var cP=this.L.map[I.data.S];
this.a2Z(cP);cP.ie.vD(I.data)}if(n==M.p.iv){var T=this.um(),cU,gu=!(T&&T.T.length!=0&&T.R[T.T[0]].add.TySh),jd=I.data.CU,i$=I.data.Q$,hT=this.Wp;
if(I.data.S9=="set"){var eT=E.MC[i$[1].classID];if(hT.P$!=eT)this.Na(eT);this.L.map[eT].ie.a3U(i$,hT)}if(I.data.S9=="add"){var i=f9.Pm[jd];
if(jd==f9.Zp){hT.Kg.push(I.data.P);hT.Kg.sort(function(c$,ba){return c$-ba})}else if(i==null){if(i$)hT.IE.ahm(i$,I.data.aiz);
if(T)T.Xi=!0}else{var jk=this.wh(jd);if(jd==f9.yO){jk.HR=jk.HR.concat(i$.HR);jk.GR=jk.GR.concat(i$.GR);
jk=jk.list;i$=i$.list}if(jd==f9.EW&&T){for(var Y=0;Y<i$.length;Y++){var h=i$[Y].ov.Lefx;if(h)hB.abo(h,T,hT.Vh)}}if(jd==f9.Cd&&i$==null){var o=this.L.map[hT.P$].ie.a3P();
if(o==null)return;i$=[o]}for(var Y=0;Y<i$.length;Y++)jk.push(i$[Y]);if(jd==f9.DX){var i1={};for(var Y=0;
Y<jk.length;Y++){var aZ=jk[Y].z2;while(i1[aZ]!=null)aZ=jk[Y].z2=aZ+"X";i1[aZ]=!0}}if(I.data.aiz!=!0)if(jk.length!=i$.length||jd==f9.$G||jd==f9.EW||jd==f9.OU||jd==f9.r)alert(hJ.get(i[3])+" "+hJ.get([23,1])+".")}}if(I.data.S9=="del"){if(jd==f9.Zp){hT.Kg.splice(hT.Kg.indexOf(I.data.P),1)}else{var i=f9.Pm[jd],y=I.data.y9,jk=this.wh(jd);
if(jd==f9.yO)jk=jk.list;for(var Y=0;Y<y.length;Y++)jk[y[Y]]=null;for(var Y=0;Y<jk.length;Y++)if(jk[Y]==null){jk.splice(Y,1);
Y--}alert(hJ.get(i[3])+" deleted.")}}if(I.data.S9=="rnm"){var i=f9.Pm[jd],jk=this.wh(jd);if(jd==f9.yO)jk=jk.list;
if(jk[I.data.y9[0]]==null)return;i[2].sO(jk[I.data.y9[0]],(I.data.$F?I.data.$F:"")+I.data.P)}if(jd==f9.l2){var az=I.data.P;
hT.r3=az;hT.a1i[az.nE]=az.aG}if(jd==f9.pf){var az=I.data.P;hT.zz=JSON.parse(JSON.stringify(az));var hM=fY.NU(az);
hT.a2v[hM.nE]=hM.aG}if(jd==f9.to){hT.qm=I.data.P;var ku=fY.qm.nI(),dM=!0;for(var o in ku)if(hT.qm[o]==null)dM=!1;
if(dM)hT.amG=JSON.parse(JSON.stringify(hT.qm))}if(jd==f9.YC){hT.vj=I.data.P}if(jd==f9.ug){hT.kd=I.data.kd;
var fb=hT.kd.CX.FillColor;if(gu&&fb){var j$=fb.Values,e0={$:j$[1]*255,H:j$[2]*255,J:j$[3]*255},ff=j.EQ(e0);
if(hT.MW!=ff){hT.MW=ff;cU=f9.S8}}}if(jd==f9.Q2){var F=JSON.parse(JSON.stringify(I.data.ZA)),dm=F.useBrushSize;
if(dm&&dm.v){F.Brsh.v.Dmtr.v.val=hT.Yg.Cj.Brsh.v.Dmtr.v.val;dm.v=!1}hT.Yg.Cj=F;var dX={pi:"select",zf:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"name",v:{classID:"Brsh",val:F.Nm.v.split("/").pop()}}]}}},cP=this.zj();
cP.k3=this;cP.track(dX)}if(jd==f9.fr){hT.YZ=I.data.WM}if(jd==f9.yy){hT.Q$=I.data.WM}if(jd==f9.S8){var dX,il="Clrs";
if(I.data.ar<2){var j1=I.data.P,c5=I.data.ar==0,iE=j.G.pI(j.uU(j1));if(c5)hT.MW=j1;else hT.U2=j1;il=c5?"FrgC":"BckC";
dX={pi:"set",zf:{__name:"Set",classID:"setd",T:{t:"Objc",v:iE}}}}if(I.data.ar==2){var f6=hT.MW;hT.MW=hT.U2;
hT.U2=f6;dX={pi:"exchange",zf:{__name:"Exchange",classID:"Exch"}}}if(I.data.ar==3){hT.MW=0;hT.U2=16777215;
if(T!=null&&T.T.length!=0&&T.R[T.T[0]].YY==1){var f6=hT.MW;hT.MW=hT.U2;hT.U2=f6}dX={pi:"reset",zf:{__name:"Reset",classID:"Rset"}}}if(dX){dX.zf.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:il}}]};
var cP=this.zj();cP.k3=this;cP.track(dX)}var fb=hT.kd.CX.FillColor;if(gu&&fb){var fP=j.uU(hT.MW),jE=[1,fP.$/255,fP.H/255,fP.J/255];
if(jE.join(",")!=fb.Values.join(",")){fb.Values=jE;cU=f9.ug}}}if(jd==f9.W2){hT.yF=!hT.yF;this.f$()}if(jd==f9.Ux){hT.Q7=!hT.Q7;
this.f$()}var iQ=hT.M6;if(jd==f9.y5){iQ.ue=!iQ.ue;this.f$()}if(jd==f9.Nl){iQ.DD=!iQ.DD;this.f$()}if(jd==f9.WD){iQ.Fq=!iQ.Fq;
this.f$()}if(jd==f9.IX){iQ.kG=!iQ.kG;this.f$()}if(jd==f9.ej){iQ.Po=!iQ.Po;this.f$()}if(jd==f9.MO){iQ.IZ=!iQ.IZ;
this.f$()}if(jd==f9.nt){hT.M6=I.data.WM;this.f$()}if(jd==f9.auv){hT.Rl=!hT.Rl;this.f$()}if(jd==f9.V3){hT.n1[I.data.Je]=!hT.n1[I.data.Je];
this.f$()}if(jd==f9.ah){hJ.a56(I.data.lang,this.Uh)}if(jd==f9.hq){hT.DU=I.data.DU;this.k()}if(jd==f9.aN&&hT.jp.Bq){var j8=hT.jp.Bq.transaction(["rsrc"],"readwrite").objectStore("rsrc"),bs={k:"fs0",fset:hT.jp.sM};
if(I.data.aEa)bs={k:hT.jp.id,fset:hT.jp.iO};var e6=Object.keys(bs.fset).length==0?j8.delete(bs.k):j8.put(bs);
e6.onerror=function(I){console.log(I);alert("Storing failed. Browser says: "+I.target.error.message,7e3)}}this.wU(jd);
if(cU)this.wU(cU)}};au.prototype.akt=function(){var I=new d2(M.E.b,!0);I.data={q:M.p.bm,cJ:"Saving ..."};
this.a(I);setTimeout(function(){var I=new d2(M.E.b,!0);I.data={q:M.p.qv,atq:!0};this.a(I)}.bind(this),20)};
au.prototype.aoE=function(I,k){k.$K.createWritable().then(function(a){a.write(I);return a}).then(function(a){return a.close()}).then(function(a){k.be=k.R3;
k.om=Date.now();k.Xi=!0;var n=new d2(M.E.b,!0);n.data={q:M.p.ki,cJ:"Saving ..."};this.a(n)}.bind(this)).catch(function(a){var n=new d2(M.E.b,!0);
n.data={q:M.p.ki,cJ:"Saving ..."};this.a(n)}.bind(this))};au.prototype.amY=function(){var I=this.Wp,k=I.Q$,a=I.a9I;
for(var Y=0;Y<k.length;Y++){var n=k[Y];if(a[n])continue;a[n]=!0;this.N2.uB(n,!1,!0)}};au.prototype.a17=function(){this.k();
this.f$()};au.prototype.m6=function(I){var k=this.Wp.JA[I];if(k){var a=new d2(M.E.b,!0);a.data={q:M.p.XI,a2:k};
this.a(a)}return k!=null};au.prototype.nL=function(I,k){var a=!0,T=15;if(k){a=!1;for(var Y=0;Y<k.length;
Y++)if(k[Y].startsWith($.Iy("__M")))a=!0}var n=I.uK()||I.Uj&&I.Uj.DJ.uK();if(this.VT())n=!1;var s=new $.EV[dz.Xr],C=(s[$.R8("xy,b-66:")]()&1)*60+s[$.Iy("VQ]3LNRN<G")]();
if(n&&!bU.Oa()&&C>T&&a){var S=$.EV[$.R8("}$z{2*35")][$.R8("y'|!")],D=$.Iy("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
D+="\n\n"+$.Iy("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-C+120)+$.Iy("nYRTXTBMd");
if(S.indexOf($.R8("\"|'/-1)(W0?@"))==-1)D=hJ.get([0,11+6,3+2]);$.EV._cwY(D);return!1}return!0};au.prototype.wh=function(I){var k=this.Wp,a=[f9.yO,f9.RN,f9.H1,f9.OU,f9.Al,f9.DX,f9.EW,f9.$G,f9.r,f9.Cd,f9.gh],n=[k.Yg,k.iG,k.jf,k.p4,k.Vh,k.lo,k.JP,k.alz,k.Jb,k.RR,k.ayy];
return n[a.indexOf(I)]};au.prototype.ahF=function(){var I=this.awb(),k=this.um();if(k==null||k.T.length==0)return;
var a=k.R[k.T[0]],n=new d2(M.E.r);if(I==1){n.S=E.N4;n.data={q:"remove",xn:"Cut Paths"}}else{n=new d2(M.E.rd);
n.data={pi:"delete"}}this.a(n)};au.prototype.awb=function(I,k,a){if(I==null)I=!1;var n=this.Wp;console.log("doCopy",I,k);
var s=this.um();if(n.P$==E.N$&&this.zj().UC()){var C=new d2(M.E.r,!0);C.S=E.N$;C.data={q:"copyText"};
this.a(C);return}if(s==null||s.T.length==0&&!I)return;var T=s.R[k==null?s.T[0]:k],S=s.iQ(),D=S[0],o=S[1],v=D[o[0]];
if(!I&&v!=null&&v.add.vmsk.T.length!=0){var g=E._v.S1(v.add.vmsk,v.add.vogk);if($.RI()){g[0]=jx.afi(g[0]);
var d="vcb;"+JSON.stringify(g);ji.C4(new Blob([d],{type:"text/plain"}))}else n.aO=g;return 1}else if(s.f==null){if($.RI()){var d="lrs;"+this.HU.indexOf(s)+";"+JSON.stringify(s.T);
ji.C4(new Blob([d],{type:"text/plain"}))}}else{var R,c;if(I){var e=new eZ(0,0,s.Q,s._);c=e.LU(s.f.rect);
R=j.U(c.c()*4);j.ao(s.TB(),e,R,c);j.zV(s.f.channel,s.f.rect,R,c)}else if(s.Ap.length!=0){c=s.f.rect.clone();
R=j.U(c.c()*4);var O=s.TL[s.Ap[0]],U=O.tf(c);j.bS(U,R);j.yv(s.f.channel,R,3)}else{var K=T.Fk(s,s.f);
if(K==null){alert("Copied area is empty");return}R=K.b6;c=K.rect}var _=s.w.N,Z=_[0]+_[1]+_[2];if(Z==1){var H=_.indexOf(1);
for(var Y=0;Y<R.length;Y+=4)R[Y]=R[Y+1]=R[Y+2]=R[Y+H]}var G=new kK(s.Q,s._);if($.RI()&&a!=!0){var N=kk.wV("PNG").acy(R.buffer,c.Q,c._);
ji.C4(new Blob([new Uint8Array(N)],{type:"image/png"}));this.ahS={Sq:c,UW:G}}else n.uZ={buffer:R,rect:c,UW:G};
n.aBc=c.clone();n.aO=null}};au.prototype.ahf=function(I,k,a){if(k)this.a1h=!0;console.log("doPaste");
var n=this.Wp,s=n.uZ,D;if(this.HU.length==0){if(!I&&$.RI()){ji.WA(this,null);return}if(s){var C=kk.Xl("image.psd",[{data:s.buffer.buffer,e3:s.rect}]),T=new d2(M.E.b);
T.data={q:M.p.kz,Z9:C};this.a(T)}return}var C=this.um();if(n.P$==E.N$&&this.zj().UC()){ji.WA(this,null);
return}var S=C.R[C.T.length==0?C.R.length-1:C.T[0]];if(n.aO){var o=C.iQ(!0),v=o[0],g=o[1];D=v[g[0]]}var T=new d2(M.E.r,!0);
if(n.aO!=null&&D!=null){T.S=E.N4;T.data={q:"append",xn:"Paste Paths",a1z:n.aO}}else if(!I&&$.RI()&&a!=!0){ji.WA(this,this.aaD.bind(this));
return}else{if(s==null)return;if(C.rb(!1)&&(C.w.N.join("")!="111"||C.Ap.length!=0||S.YY>0||S.rect.KH())){T.S=E.yO;
T.data={q:"draw",avF:!0,xn:[5,2]}}else{T.S=E.xf;T.data={q:X.Ab,abR:this.a1h};this.a1h=!1}T.data.uZ=s;
if(s.rect.x==0&&s.rect.y==0){s.rect.x=C.Q-s.rect.Q>>1;s.rect.y=C._-s.rect._>>1}}this.a(T)};au.prototype.a6W=function(){var I=this.Wp.IE;
if(I.a7i())return;for(var Y=0;Y<this.HU.length;Y++){var k=this.HU[Y];if(!jW.PX(k,I,this))continue;if(k.P5)jW.tY(k,I,this);
var a=k.add.lnk2;if(a)for(var n=0;n<a.length;n++){var s=a[n];if(s.P5)E.c$.cR(k,s.DZ,s.IV[1],s.IV[1],I)}if(k.a2F)continue;
k.a2F=!0;if(k.S9&&k.S9.ai3)bg._K(k.S9.ai3,this);this.L1();var C=new d2(M.E.r);C.S=E.Ao;C.data={q:"cropAndStr"};
var T=new d2(M.E.b);T.data={q:M.p.N7,aw:aX.Hg.azQ};T.data={q:M.p.Fu,aw:"mockups",Ej:6566431}}};au.prototype.wU=function(I){this.amY();
var k=this.Wp,a=k.P$,S=!1;if(I==f9.Q2){if(this.L.map[a].ie)this.L.map[a].ie.wu(k,I)}else for(var n in this.L.map)if(this.L.map[n].ie)this.L.map[n].ie.wu(k,I);
if(I==f9.xr){if(a!=E.N$)this.L.map[E.N$].S.wu(k,I);this.a6W()}this.sB.wu(k,I);this.cN.wu(k,I);this.Hs.wu(k,I);
if(ht==1&&I==f9.to){var s=new d2(M.E.r,!0);s.S=E.xf;s.data={q:X.Hb};this.a(s)}else this.zj().wu(k,I);
this.qN.wu(k,I);this.VF.wu(k,I);if(ht==1)this.nz.wu(k,I);if(I==f9.hq||I==f9._7){kn.aba(k.DU);this.update(!0)}var C=k.kd,T=C.CX.Font;
if(I==f9.ug&&T!=null&&C.JN[T].Name!=k.font){k.font=C.JN[T].Name;S=!0}if([f9.Zp,f9.fr,f9.yy,f9.S8,f9.W2,f9.Ux,f9.nt,f9.WD,f9.IX,f9.y5,f9.Nl,f9.ej,f9.MO,f9.ah,f9.hq].indexOf(I)!=-1||S)this.aCZ()};
au.prototype.aCZ=function(){if(!this.Zm)return;var I={},k=this.L.map;for(var a in k){var n=k[a].S;if(n.Hj&&n.Hj()!=null)I["t"+a]=n.Hj()}var s=this.Wp,C=s.M6,T={guides:C.Fq,grid:C.kG,sels:C.ue,paths:C.DD,pgrid:C.Po,slices:C.IZ,gsize:parseFloat(C.AX.toFixed(2)),gunits:C.L9,gtype:C.Ts,runits:C.NY};
if(C.Oi!=8421504)T.gcol=C.Oi;if(C.Kn!=65535)T.gucol=C.Kn;if(C.rr!=33023)T.glcol=C.rr;var S={fcolor:s.MW,bcolor:s.U2,rulers:s.yF,extras:s.Q7,favFam:s.YZ,rsrc:s.Q$,panels:s.Kg,eparams:T,lang:hJ.au2(),theme:s.DU,as:s.EY,co:s.Xp,topt:I};
if(s.font!=null)S.font=s.font;var D=bU.So();if(D==null)D={};D.globals=S;bU.rO(D)};au.prototype.K1=function(I){var k=this.Ka,a=this.fy,n=this.Wp.P$,s=this.L.map[n].S,C=null,T=!1;
for(var Y=0;Y<this.L.ahr.length;Y++){var S=this.L.ahr[Y],D=!0;for(var o=0;o<S.kA.length;o++){var v=S.kA[o];
if(!k.W(v))D=!1}if(D&&(!S.Cr||!s.UC())&&(S.Bx==null||S.Bx.indexOf(n)!=-1)){C=S.S;T=S.Cr;break}}if((!a.ZT||n==E.hV||I)&&this.L.kN!=C&&(C!=n||!T)){var g=this.um();
if(this.L.kN!=null&&C==null)this.zj().disable(g,this,this.Wp,k,!0);this.L.kN=C;this.zj().enable(g,this,this.Wp,k,C!=null&&C!=n)}};
au.prototype.Wt=function(I){var k=this.Wp.P$,a=this.um();if(k!=null){this.L.map[k].S.disable(a,this,this.Wp,this.Ka)}};
au.prototype.a2Z=function(I){if(I.ie==null){I.ie=new I.Ty(I.S.id);I.ie.aD$(I.S.id,I.S.vZ);I.ie.wu(this.Wp,f9._7);
I.ie.k()}};au.prototype.Na=function(I,k){if(I==E.Yo&&this.Hs.bN())return;var a=this.um(),n=this.Wp;if(this.L.map[I].S.eE(a,n,k)){this.Wt();
if(I!=n.P$)this.L.Ot=n.P$?n.P$:E.Mt;n.P$=I;this.cN.Na(n.P$);var s=this.L.map[I];this.L.dH[s.fJ]=s.ay2;
this.a2Z(s);this.FA.ajC(ht==0?s.ie:this.nz);var C=s.S;C.enable(a,this,this.Wp,this.Ka,!1,k);if(a)a.q_=!0;
this.f$();this.SC.a41()}};au.prototype.zj=function(I){var k=this.L,a=k.$b,n=k.kN,s=this.Wp.P$;if(a)s=a;
else if(n&&I==null)s=n;return k.map[s].S};au.prototype.aAF=function(I){var k=this.Wp,a=this.HU.indexOf(I);
if(a!=-1){this.sB.D7(a);return}if(this.sD&&(I.S9==null||I.S9.nj==null)){I.S9={nj:this.sD}}if(I.qe==null){I.qe="local,"+this.a2D+","+I.name;
this.a2D++}I.om=Date.now();if(ht==1&&I.add.arts==null)I.a6E();if(gP.mf()!=0&&!this.a0e&&$.EV[$.R8("t$&!'31")].toString().indexOf($.R8(" u,$4&"))==-1){alert($.R8("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var Y=0;Y<I.R.length;Y++){var n=I.R[Y];if(n.add.SoLd!=null){var s=Date.now()}}var C=I.R.length,T=dz.Hd(),S=Math.PI*(6550<<14)+($.Vl(31)?20:10)*7e7;
if(T>S){var C=I.R.length;I.R=[];return C}if(dZ.QV){dZ.C7(Math.max(I.Q,I._));for(var Y=0;Y<I.R.length;
Y++){var n=I.R[Y];if(n.Lk())dZ.C7(Math.max(n.rect.Q,n.rect._))}}I.N_();I.B2();if(I.awN)I.axj();else I.V();
I.awN=!1;this.HU.push(I);this.sB.m$(new hr(I));I.q_=!0;I.Xi=!0;this.a6W();var D=new d2(M.E.r);D.S=E.N1;
D.data={q:"auto",Vf:2}};au.prototype.um=function(){return this.HU[this.JZ]};au.prototype.aBF=function(){return this.Hs.bN()==null};
au.prototype.Q_=function(I,k){this.Wt();var a=this.HU.length;if(k!=null)this.sB.D7((this.sB.xF()+k+a)%a);
this.JZ=this.sB.xF();var n=this.um();this.VF.jn(n,this.Wp);if(ht==1)this.nz.jn(n,this.Wp);this.qN.tc(n,this.HU,this.Wp);
this.f$();if(n)n.q_=!0};au.prototype.arw=function(I){this.Wt();var k=this.HU,a=k[I.data.vI];k.splice(I.data.vI,1);
if(k.length==0){this.Q_(I);var n=dZ.$P(),s=hr.d5.pZ;if(n.parentNode)n.parentNode.removeChild(n);if(s.parentNode)s.parentNode.removeChild(s)}this.ayG(a.name)};
au.prototype.ayG=function(I){var k=this.Wp.jp,a=!1;if(k.Bq==null)return;for(var n in k.iO){if(I==null||n==I){delete k.iO[n];
a=!0}}if(a){var s=new d2(M.E.b);s.data={q:M.p.iv,CU:f9.aN,aEa:!0};this.a(s)}};au.prototype.asu=function(I){var k=[],a=I.data.aiL;
for(var Y=0;Y<a.length;Y++)k[Y]=this.HU[a[Y]];this.HU=k;this.JZ=this.sB.xF()};au.prototype.a13=function(I){var k=this.sB,a=k.aex(),n=this.zj(),s=this.um();
if(a==k.xF()||!n.ask())return;this.a9O(a,n)};au.prototype.a9O=function(I,k){console.log("dup2doc");var a=this.Wp,n=this.sB,s=this.um(),C=this.HU[I],T,S=new d2(M.E.r,!0);
S.S=E.xf;if(s.f==null){S.data={q:X.Qr,R:s.hu(null,!0),DJ:s,aR:C,a6m:k==null};this.a(S)}else T=s.R[s.T[0]].Fk(s,s.f);
var D=this.fy,o=a.yF;a.yF=!1;D=s.w.m_(D.x,D.y);if(k)k.Lh(s,this,a,this.Ka);n.D7(I);if(s.f){S.data={q:X.Ab,uZ:{buffer:T.b6,rect:T.rect}};
this.a(S)}D=C.w.kF(D.x,D.y);if(k)k.Vr(C,this,a,this.Ka,D);a.yF=o};au.prototype.a0t=function(I){var k=this.um(),a=this.Ka,n=this.Wp,s=I.NZ;
if(s)this.fy=s;if(s)s.y-=n.Xp;if(this.D4==null)this.D4=0;if(I.action=="multidown"){this.EI=I.kH.length;
this.D4=Date.now()}if(I.action=="up"&&Date.now()-this.D4<100){var C=new d2(M.E.r);C.S=E.ca;C.data={q:this.EI==2?"h_stepbck":"h_stepfwd"};
this.a(C)}if(I.action.startsWith("multi")){var T=new d2(M.E.r,!0);T.data={q:I.action,kH:I.kH};T.S=E.VX;
this.a(T);return}var S=this.L.map[E.Mt].S;if((I.action=="down"||I.action=="rdown")&&n.P$!=E.Mt&&this.L.kN!=E.Mt&&S.aom(k,this,n,a,s)){this.L.$b=E.Mt;
S.enable(k,this,n,a,!0)}if(I.action=="idown"){a.eP("Space");this.K1(!0);I.action="down"}var D=this.Hs.bN(),o=D!=null&&D.s$()&&this.L.kN==null?D:this.zj();
if(I.action=="scroll"){var v=!a.W(as.nU)&&I.O4,T=new d2(M.E.r,!0);T.data={q:"scroll",P8:I.P8.clone(),NZ:s,atK:v};
T.S=a.W(as.dE)||v?E.VX:E._F;this.a(T)}if(D!=null&&o!=D&&this.Hs.UC()&&o.id!=E._F&&o.id!=E.VX)return;
if(I.action=="down")o.Vr(k,this,n,a,s);if(I.action=="rdown")o.oS(k,this,n,a,s);if(I.action=="move")o.Fr(k,this,n,a,s);
if(I.action=="up"||I.action=="iup"||I.action=="cancellast")o.pE(k,this,n,a,s,I.action=="cancellast");
if(I.action=="rup")o.pC(k,this,n,a,s);if(I.action=="iup"){a.R1("Space");this.K1(!0)}if(I.action=="cancellast"){if(k&&k.history.length!=0&&Date.now()-k.history[k.history.length-1].aoG<200){var C=new d2(M.E.r);
C.S=E.ca;C.data={q:"h_stepbck"};this.a(C)}}var g=this.qN;if(I.action=="down")g.Vr(k,this,n,a,s);if(I.action=="move")g.Fr(k,this,n,a,s);
if(I.action=="up")g.pE(k,this,n,a,s);if(I.action=="down"||I.action=="up"){this.K1()}if(I.action=="down"||I.action=="up"||I.action=="ctx"){k.q_=!0}if((I.action=="up"||I.action=="rup")&&this.L.$b){this.L.$b=null;
S.disable(k,this,n,a)}};au.prototype.mt=function(I){var k=this.um(),a=this.fy;if(k&&this.zj().zJ(a,this.Ka)){var n=k.w,s=n.PJ.Q,C=n.PJ._,T=0,S=0,D=16;
if(a.x<D)T=D-a.x;if(a.x>s-D)T=a.x-(s-D);if(a.y<D)S=D-a.y;if(a.y>C-D)S=a.y-(C-D);var o=this.Ka.W(as.bJ)?8:1;
if((T!=0||S!=0)&&(k.Q*n.F>s||k._*n.F>C)){T=Math.min(5,T*.5)*o;S=Math.min(5,S*.5)*o;if(a.x>D)T=-T;if(a.y>D)S=-S;
n.i.x+=T;n.i.y+=S;this.a0t({NZ:this.fy,action:"move"});k.cd=!0}}this.update()};au.prototype.update=function(I){var k=this.um();
if(k==null)return;if(ht!=0){if(k.buffer)throw"e"}if(k.q_){var a=this.L.map;for(var n in a){if(a[n].S.Iw)a[n].S.Iw(k,this,this.Wp,this.Ka)}if(ht==1){a[E.nf].S.Iw(k,this,this.Wp,this.Ka,!0)}}if(k.Cq&&ht==0)if(dZ.QV)dZ.C7(Math.max(k.Q,k._));
if(k.Cq&&ht==0){k.pa()}var s=k.w,C=this.SQ,T=this.SQ=Date.now();if(k.Cq||k.LQ||k.Xi||k.cd||I||s.v0!=s.F||!s.GL.a$(s.i)){var S=s.v0;
if(s.v0!=s.F){var D=E.rD.arJ(s.F,s.v0>s.F),o=.12;if(s.v0<s.F&&s.v0<D)s.v0=D;if(s.v0>s.F&&s.v0>D)s.v0=D;
var v=Math.abs(s.F-D)*(T-C)*.001/o;if(s.v0<s.F)s.v0=Math.min(s.F,s.v0+v);else s.v0=Math.max(s.F,s.v0-v)}var g=S==s.F?0:(s.v0-s.F)/(S-s.F);
s.GL.x=s.i.x+g*(s.GL.x-s.i.x);s.GL.y=s.i.y+g*(s.GL.y-s.i.y);this.sB.wu(this.Wp,null);this.sB.tc(k,this.HU)}if((k.Cq||k.cd||k.q_)&&(!this.fy.ZT||k.Sc)){if(k.q_)k.B2();
this.qN.tc(k,this.HU,this.Wp);this.cN.afJ(k,this.Ka);if(ht==1)this.nz.tc(k);k.Me=!1}k.Sc=!1;k.q_=!1;
k.Cq=null;k.LQ=k.Xi=k.cd=!1};au.prototype.Ww=function(I){var k=I.target.tagName.toLowerCase(),a=I.target.getAttribute("type"),n=as,s=n.rM(I.code,n.da);
if(!((k=="input"||k=="select"||k=="button")&&n.rM(I.code,n.mK))){if(n.a0L(I)&&k!="select"){I.preventDefault()}this.Ka.eP(n.aol(I));
this.Bf("down")}};au.prototype.mb=function(I){if(I.key==" ")this.Ka.bD();if(as.rM(I.code,as.a8Z))this.Ka.reset();
this.Ka.R1(as.aol(I));var k=I.target.tagName.toLowerCase();if(as.a0L(I)&&k!="select"){I.preventDefault()}this.Bf("up")};
au.prototype.Bf=function(I){var k=this.Ka,a=this.um(),n=a!=null&&a.T.length!=0;if(this.Wo.bN()!=null){if(k.W(as._a)||k.W(as.da)){this.Wo.akh()}return}this.K1();
var s=this.Ai(as.nU),C=k.W(as.dE),T=k.W(as.bJ);if(s&&k.W(as.AB)&&I=="down"){var S=new d2(M.E.r),D=new d2(M.E.b);
S.S=E.ca;if(T){S.data={q:"h_stepfwd"}}else{S.data={q:"h_stepbck"}}if(this.Hs.bN()!=null&&this.Hs.bN().UC()){}else this.a(S)}if(s){var S=new d2(M.E.r),o=new d2(M.E.rd),D=new d2(M.E.b);
if(k.W(as.rx)&&k.W(as.Qt)){D.data={q:M.p.Fu,aw:"storwindow"};this.a(D)}if(!C&&I=="down")for(var v in fo.keys){var g=fo.keys[v],d=!0;
for(var Y=0;Y<g.length;Y++)if(!k.W(g[Y]))d=!1;if(d){S.S=E.N1;if(v=="hue2"&&T&&a.R[a.T[0]].add.SoLd==null)S.data={q:"auto",Vf:3};
else S.data={q:"start",g5:v}}}if(k.W(as.p)){if(C){o.data={pi:"selectAllLayers",zf:{classID:"null",null:hW.Pg("Lyr",!0)}}}else o.data=E.BN.dS(!0)}if(k.W(as.E5)){if(C)D.data={q:M.p.Fu,aw:"csize"};
else if(a)D.data={q:M.p.eM,JR:T}}if(k.W(as.hW)&&a.f){o.data=E.BN.dS()}if(k.W(as.E)&&I=="down"){if(T)o.data={pi:"mergeVisible"};
else if(aq.Cx(a).e)o.data={pi:"mergeLayersNew",zf:{__name:"Merge Layers",classID:"Mrg2"}}}if(k.W(as.v6)){if(T&&this.Wp.P$!=E.Yo)D.data={q:M.p.Fu,aw:"afw_fade"};
else if(C){S.S=E.OJ;S.data={q:"applylast"}}else D.data={q:M.p.EM}}if(k.W(as.Rt)){if(C&&a&&a.Py(a.T[0])){S.S=E.xf;
S.data={q:X.oH}}else{S.S=E.xf;S.data={q:X.L7,hA:T}}}if(ht==1&&k.W(as.On)){S.S=E.xf;S.data={q:X.L7,kb:!0,hA:C}}if(k.W(as.y2)){D.data={q:M.p.iv,CU:f9.Ux}}if(k.W(as.rx)){if(T){S.data=null;
if(C)D.data={q:M.p.Fu,aw:"finfo"};else o.data={pi:"inverse"}}else if(C)D.data={q:M.p.Fu,aw:"isize"}}if(k.W(as.qp)){o.data={pi:(T?"cut":"copy")+"ToLayer"}}if(k.W(as.RA)){D.data={q:M.p.Fu,aw:"preferences"}}if(k.W(as.kO)){if(T){S.S=E.xf;
S.data={q:X.mT}}else if(I=="down")D.data={q:M.p.Fu,aw:"newproject"}}if(k.W(as.TJ)){if(C)D.data={q:M.p.Fu,aw:"storwindow",Ex:0};
else{D.data={q:M.p.Av};k.reset()}}if(k.W(as.NL)){D.data={q:M.p.abF};k.reset()}if(k.W(as.Hg)){D.data={q:M.p.iv,CU:f9.W2}}if(k.W(as.Z7)&&I=="down"){if(T){if(C)D.data={q:M.p.Fu,aw:"saveforweb"};
else D.data={q:M.p.qv}}else D.data={q:M.p.Vd}}if(k.W(as.qj)){if(T){S.S=E.xf;S.data={q:X.T0};this.a(S);
S.S=E.Yo;S.data={q:"again"}}else D.data={q:M.p.$g,S:E.Yo}}if(k.W(as.xb)){D.data={q:M.p.ZJ}}if(k.W(as.aBi)){this.sB.mI()}if(k.W(as.E2)&&a&&a.ayj()){D.data={q:M.p.Rp}}if(k.W(as.fc)&&a){S.S=E.VX;
S.data={q:"prvw"}}if(k.W(as.CQ)||k.W(as.Zi)){S.S=E.xf;S.data={q:X.CN,ar:0};if(k.W(as.CQ))S.data.ar=T?3:2;
else S.data.ar=T?0:1}if(k.W(as.Cy)&&a){S.S=E.xf;S.data={q:X.Jn}}if(k.W(as.da)&&a){var R=0;if(T)R++;if(C)R+=2;
S.S=E.FQ;S.data={q:"frompath",ri:[null,0,R]}}if(k.W(as.nB)){o.data=E.Zo.ec(0)}if(k.W(as.mK)){var c=this.HU.length,e=k.W(as.bJ)?-1:1;
if(c>1)this.sB.D7((this.sB.xF()+c+e)%c)}if(k.W(as.db)){D.data={q:M.p.iv,CU:f9.WD}}if(k.W(as.tP)){D.data={q:M.p.iv,CU:f9.IX}}E.rD.a5m(k,S);
if(this.Hs.bN()!=null&&this.Hs.bN().UC()){}else{if(S.data)this.a(S);if(o.data)this.a(o);if(D.data)this.a(D)}}if(!s&&C){var O;
if(k.W(as.CQ))O="Bckw";if(k.W(as.Zi))O="Frwr";if(k.W(as.Cy))O="Back";if(k.W(as.nB))O="Frnt";if(O){var o=new d2(M.E.rd);
o.data={pi:"select",zf:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:O}}]},MkVs:{t:"bool",v:!1}}};
this.a(o)}}if(a&&a.T.length!=0){var U=a.R[a.T[0]],K=U.YY;if(K==1||K==3||s){var S=new d2(M.E.r),_=K==3?U.kx(a).u:U.IO();
if(_){var Z=_.zh?a.w.N.join("")=="111"?1:2:0;S.S=E.VX;if(_&&k.W(as._a)&&Z!=0){S.data={q:"mskView",P:0}}if(_&&k.W(as.agL)){S.data={q:"mskView",P:Z==1?0:1}}if(_&&k.W(as.aaY)){S.data={q:"mskView",P:Z==2?0:2}}if(S.data)this.a(S)}}}var H=k.Sj();
if(a&&s&&2<=H&&H<=5){var G=[1,1,1];if(H>2){G=[0,0,0];G[H-3]=1}var N=new d2(M.E.r,!0);N.S=E._F;N.data={q:"setcls",N:G};
this.a(N)}if(!k.W(as.nU)&&!C&&I=="down"){var S=new d2(M.E.r),D=new d2(M.E.b),z=this.L.map[this.Wp.P$],L=-1;
for(var Y=0;Y<this.L.keys.length;Y++)if(this.L.keys[Y]&&this.Ai(this.L.keys[Y]))L=Y;if(L!=-1){var p=null;
if(z.fJ!=L)p=this.L.dH[L];if(z.fJ==L&&T)p=(z.ay2+1)%this.L.n7[L].length;if(p!=null){var V=this.L.n7[L][p].S.id,r=this.Wp.tw;
if((r==null||r.indexOf(parseInt(V))!=-1)&&!this.fy.ZT)D.data={q:M.p.$g,S:V}}}if(k.W(as.y2))D.data={q:M.p.$g,S:E._F};
if(k.W(as.Hg))D.data={q:M.p.$g,S:E.d8};if(k.W(as.E2))D.data={q:M.p.iv,CU:f9.S8,ar:2};if(k.W(as.hW))D.data={q:M.p.iv,CU:f9.S8,ar:3};
if(D.data)this.a(D);if(k.W(as.apj)&&a&&a.T.length==1){var U=a.R[a.T[0]];S.S=E.xf;var y=U.hY(0)||U.hY(1)||U.hY(2)||U.hY(31);
S.data={q:X.gs,WM:y?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[31]]};this.a(S)}var H=k.Sj();if(n&&H!=-1&&this.Ai(as.J0[H])){var W=a.T[0],U=a.R[W],m=as.axp(Math.round(100*U.opacity/255),H);
S.S=E.xf;S.data={q:X.jT,WM:Math.round(255*m/100)};this.a(S)}var f=this.Wp.bn;if(k.W(as.mK)){D.data={q:M.p.yi,P:f==0?1:0};
this.a(D)}if(k.W(as.v6)||k.W(as._a)&&f==2){var h=document.fullscreenElement!=null==(f==2);D.data={q:M.p.yi,P:f==0?2:0,mn:h};
this.a(D)}if(k.W(as.axf)&&!this.fy.ZT){S.S=E.FQ;S.data={q:"qmask"};this.a(S)}}if(!k.W(as.nU)&&!C&&T){var S=new d2(M.E.r),D=new d2(M.E.b);
if(k.W(as.Cy))D.data={q:M.p.Fu,aw:"shortcuts"};if(k.W(as.ayc))D.data={q:M.p.Fu,aw:"fill"};if(k.W(as.au8))D.data={q:M.p.Fu,aw:"sel_feather"};
if(n&&(k.W(as.AC)||k.W(as.q0))){var W=a.T[0],U=a.R[W],b=aU._B,i=b.length,w=b.indexOf(U.pu);S.S=E.xf;
S.data={q:X.zO,WM:(w+i+(k.W(as.AC)?1:-1))%i};this.a(S)}if(D.data)this.a(D)}var S=new d2(M.E.r),J=I=="down"&&(this.Ai(as.Zf)||this.Ai(as.QE));
if((s||C)&&J){S=new d2(M.E.rd);S.data=E.dX.HO(s?"BckC":"FrgC");this.a(S)}else if(this.Hs.bN()==null&&a&&J&&!this.fy.ZT){if(a.f!=null){S=new d2(M.E.rd);
S.data={pi:"delete"}}else if(a.T.length!=0){var U=a.R[a.T[0]];if(U.YY==1)S.data={q:X.Ro};else if(U.YY==3)S.data={q:X.hw};
else S.data={q:X.Va};S.S=E.xf}this.a(S)}if(this.Hs.bN()!=null){if(k.W(as._a)){this.Hs.bN().ayA()}else{this.Hs.bN().Bf(a,this,this.Wp,k)}}if(this.Wp.P$==null)return;
var z=this.zj();if(this.Hs.bN()==null||this.L.kN)z.Bf(a,this,this.Wp,k)};au.prototype.Ai=function(I){var k=this.Ka,a=this.L.map[this.Wp.P$].S,top=this.Hs.bN(),n=this.um();
return k.W(I)&&!a.rI(I,n)&&(top==null||!top.rI(I,n))};au.prototype.FX=function(I){var k=this.apI,a=this.Dm;
this.Wp.bn=I;var n=$.TU,s=this.VF.Z;if(n(s))this.aS.removeChild(s);var C=this.FA.Z;if(n(C))this.aS.removeChild(C);
var T=this.cN.Z;if(n(T))k.removeChild(T);var S=this.sB.Z;if(n(S))k.removeChild(S);var D=this.qN.Z;if(n(D))k.removeChild(D);
if(I==0){this.aS.appendChild(s);this.aS.appendChild(C);a.appendChild(k);k.appendChild(T);k.appendChild(S);
k.appendChild(D)}if(I==1){this.aS.appendChild(s);k.appendChild(S)}if(I==2){k.appendChild(S)}this.sB.FX(I==2?1:0);
this.f$()};au.prototype.avQ=function(I){if(this.VT())return 1;if($.axz()==0){this.Wp={};this.bb=function(k,a){return Math.sqrt(k*a)}}return-1};
au.alk=function(){var I=ht==0?[[{S:new E.R0,Ty:dv},{S:new E.Ou,Ty:cC}],[{S:new E.Xu,Ty:a1,eK:0},{S:new E.yl,Ty:gF,eK:0}],[{S:new E.Oz,Ty:iq,eK:0},{S:new E.y3,Ty:dO,eK:0},{S:new E.jX,Ty:hA,eK:0}],[{S:new E.h$,Ty:fS,eK:0},{S:new E.sl,Ty:jr,eK:0},{S:new E.NB,Ty:j0,eK:0}],[{S:new E.agU,Ty:d7},{S:new E.aEI,Ty:kz},{S:new E.xG,Ty:dl,eK:0},{S:new E.wW,Ty:g2,eK:0}],[{S:new E.aY,Ty:gC},{S:new E.lz,Ty:hH,eK:0},{S:new E.xx,Ty:i0}],[{S:new E.Vp,Ty:at,eK:0},{S:new E.ey,Ty:bq,eK:0},{S:new E.Oz(!0),Ty:jq,eK:0},{S:new E.hE,Ty:gn,eK:0},{S:new E.ahN,Ty:hs,eK:0},{S:new E.G8,Ty:gX,eK:0}],[{S:new E.Xo,Ty:jU,eK:0},{S:new E.BR,Ty:a7,eK:0},{S:new E.cx,Ty:dk,eK:0}],[{S:new E.kD,Ty:iA,eK:0}],[{S:new E.ME,Ty:ea,eK:0},{S:new E.MX,Ty:b5,eK:0},{S:new E.If(!0),Ty:d0,eK:0}],[{S:new E.hJ,Ty:bp,eK:0},{S:new E.If,Ty:d0,eK:0}],[{S:new E.Vy,Ty:ds,eK:0},{S:new E.EZ,Ty:dy,eK:0},{S:new E.MV,Ty:dQ,eK:0}],[{S:new E.g2,Ty:de,eK:0},{S:new E.Tl,Ty:eD,eK:0},{S:new E.QA,Ty:ai,eK:0}],[{S:new E.S4,Ty:hh},{S:new E.hr,Ty:hh}],[{S:new E.my(0),Ty:jJ},{S:new E.tn,Ty:gp},{S:new E.my(1),Ty:jJ},{S:new E.my(2),Ty:jJ},{S:new E.my(3),Ty:jJ},{S:new E.my(4),Ty:jJ}],[{S:new E.ss,Ty:g9},{S:new E.ua,Ty:fk}],[{S:new E.Rect,Ty:hw},{S:new E.hO,Ty:i7},{S:new E.V9,Ty:iF},{S:new E.eO,Ty:h9},{S:new E.WU,Ty:hV}],[{S:new E.gz,Ty:bx},{S:new E.RM,Ty:i5}],[{S:new E.rD,Ty:ah}]]:[[{S:new E.R0,Ty:dv}],[{S:new E.ua,Ty:fk}],[{S:new E.my(0),Ty:jJ}],[{S:new E.tn,Ty:gp}],[{S:new E.S4,Ty:hh},{S:new E.hr,Ty:hh}],[{S:new E.V9,Ty:iF}],[{S:new E.Rect,Ty:hw},{S:new E.hO,Ty:i7}],[{S:new E.oo,Ty:bx}],[{S:new E.SN,Ty:bp}],[{S:new E.gz,Ty:bx},{S:new E.RM,Ty:i5}],[{S:new E.rD,Ty:ah}]],S="",D="";
if(ht==0&&!$.t3(1))I[6].splice(2,1);var k=ht==0?[as.xb,as.U$,as.eI,as.aBi,as.E5,as.rx,as.qp,as.eW,as.Z7,as.E,as.Rt,null,as.TJ,as.qj,as.NL,as.p,as.Qt,as.y2,as.AB]:[as.xb,as.p,as.NL,null,as.qj,as.agL,as.U$,null,as.Rt,as.y2,as.AB],a=[{S:E.VX,Cr:!1,kA:[as.a9w,as.lO]},{S:E._F,Cr:!1,kA:[as.lO]},{S:E.s4,Cr:!0,kA:[as.nU],Bx:[E._q]},{S:E._q,Cr:!0,kA:[as.nU],Bx:[E.s4]},{S:E.Kc,Cr:!0,kA:[as.nU],Bx:[E.N4,E.nf,E.T4]}];
if(ht==0)a.push({S:E.N4,Cr:!0,kA:[as.nU],Bx:[E.Kc,E.lc,E.VO,E.NW,E.O3,E.d7]});a.push({S:E.Mt,Cr:!0,kA:[as.nU]});
var n={ahr:a,n7:I,dH:[],keys:k,uG:[{S:new E.acu,Ty:e1},{S:new E.aof,Ty:iG},{S:new E.ajT,Ty:fW},{S:new E.aY(!0),Ty:gC},{S:new E.lU,Ty:eK}],H4:[{S:new E.c$},{S:new E.History},{S:new E.oC},{S:new E.vu},{S:new E.zw},{S:new E.S0}],map:{},Ot:null,kN:null,$b:null},s=n.n7;
for(var Y=0;Y<s.length;Y++){var C=s[Y];if(gP=="---")continue;for(var T=0;T<C.length;T++)if(C[T].eK!=null&&C[T].eK!=ht){C.splice(T,1);
T--}if(C.length==0){s.splice(Y,1);n.keys.splice(Y,1);Y--}}for(var Y=0;Y<n.n7.length;Y++){var o=n.n7[Y];
if(o=="---")continue;var v=n.keys[Y];for(var T=0;T<o.length;T++){n.map[o[T].S.id]=o[T];o[T].fJ=Y;o[T].ay2=T;
var g=hJ.get(o[T].S.name);D+="<li>"+o[T].S.id+": "+g+"</li>";S+="\t"+JSON.stringify(o[T].S.name)+", "+(v?"\""+v.vo+"\"":"null")+", "+o[T].S.id+", // "+g+"\n"}n.dH[Y]=0}for(var Y=0;
Y<n.uG.length;Y++)n.map[n.uG[Y].S.id]=n.uG[Y];for(var Y=0;Y<n.H4.length;Y++)n.map[n.H4[Y].S.id]=n.H4[Y];
return n};function fL(I){gB.call(this);if(I==null)return;this.Qq=null;this.L4=null;this.Z=$.I("div","sbar"+" "+I);
this.Rs=new $.I("div","top");this.Rs.innerHTML="> <";this.Z.appendChild(this.Rs);this.fe=1;this.Rs.addEventListener("click",this.ap5.bind(this),!1)}fL.prototype=new gB;
fL.prototype.ap5=function(I){if(this.Qq!=null&&this.Qq<500&&this.fe==0)return;if(this.fe==0)this.qS(!0);
else this.collapse(!0)};fL.prototype.avz=function(I){this.fe=I;this.Rs.innerHTML=this.fe==0?"< >":"> <"};
fL.prototype.a8V=function(){var I=new d2(M.E.b,!0);I.data={q:M.p.JI};this.a(I)};fL.prototype.qS=function(I){this.avz(1);
if(I)this.a8V()};fL.prototype.collapse=function(I){this.avz(0);if(I)this.a8V()};fL.prototype.gw=function(){return this.fe==1};
function et(I,k){fL.call(this,"vcolumn");this.E0=I;this.anf=k;this.mG();this.Q6=$.I("div");this.Q6.setAttribute("style","cursor:default;");
this.at5=this.a8M.bind(this);this.aF5=this.ayz.bind(this);this.afF=this.auI.bind(this);$.Ar(this.Z,this.at5);
this.Z.appendChild(this.Q6);this.HN=$.I("div");this.Q6.appendChild(this.HN);this.kq=-1;this.a4Q=$.I("div","float");
var a=this.Rz=$.I("canvas","gsicon"),n=Math.round(12*$.Y());a.width=a.height=n;var s=a.getContext("2d");
s.moveTo(2,2);s.lineTo(n-2,n-2);s.moveTo(2,7);s.lineTo(n-7,n-2);s.stroke();this.Rz.setAttribute("style","position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
$.$j(this.Rz);$.Ar(this.Rz,this.at5);$.ZX(a);this.PY=[];this.Mx=[];this.av8=null;this.sm=null;this.aBH=0}et.prototype=new fL;
et.prototype.a8M=function(I){var k=I.target==this.Rz;if(!k){if(I.target!=this.Z)return;if(!this.gw())return}else{var a=this.PY[this.kq].o5;
a.style.pointerEvents="none";var n=a.getBoundingClientRect();this.av8=[n.width,n.height];this.Mx[this.kq]=[n.width,n.height]}I.stopPropagation();
this.sm=$.Ea(I,document.body);this.aBH=this.E0;$.YU(document,this.aF5);$.hf(document,this.afF)};et.prototype.ayz=function(I){var k=$.Ea(I,document.body);
if(this.gw()){this.E0=this.aBH+this.sm.x-k.x;this.mG()}else{var a=this.Mx[this.kq],n=this.av8;a[0]=n[0]+this.sm.x-k.x;
a[1]=n[1]+k.y-this.sm.y}var s=new d2(M.E.b,!0);s.data={q:M.p.JI};this.a(s)};et.prototype.auI=function(I){if(!this.gw()){var k=this.PY[this.kq].o5;
k.style.pointerEvents="auto"}$.qD(document,this.aF5);$.Yf(document,this.afF)};et.prototype.ayO=function(I){I.O("showFloat",this.arq,this);
I.O("hideFloat",this.dB,this);this.PY.push(I);I.parent=this;this.Q6.appendChild(I.Z)};et.prototype.acz=function(Y){var I=this.PY[Y];
I.removeEventListener("showFloat",this.arq,this);I.removeEventListener("hideFloat",this.dB,this);this.PY.splice(Y,1);
I.parent=null;this.Q6.removeChild(I.Z)};et.prototype.a3x=function(){return this.PY.length};et.prototype.AW=function(){for(var Y=0;
Y<this.PY.length;Y++)this.PY[Y].AW()};et.prototype.arq=function(I){this.AW();var k=this.a4Q;this.HN.appendChild(k);
this.kq=this.PY.indexOf(I.currentTarget);var a=this.PY[this.kq].o5;$.GD(k);k.appendChild(a);k.appendChild(this.Rz);
this.bb(this.Qq,this.L4)};et.prototype.dB=function(I){this.AW();if(this.kq!=-1){this.HN.removeChild(this.a4Q);
this.kq=-1}};et.prototype.mG=function(){function I(k){return Math.round(k*$.Y())/$.Y()}this.Z.setAttribute("style","width: "+this.E0+"px; border-left-width:"+I(4)+"px; cursor:ew-resize;")};
et.prototype.qS=function(I){this.mG();this.dB();for(var Y=0;Y<this.PY.length;Y++)this.PY[Y].qS();fL.prototype.qS.call(this,I)};
et.prototype.collapse=function(I){this.Z.removeAttribute("style");for(var Y=0;Y<this.PY.length;Y++)this.PY[Y].collapse();
fL.prototype.collapse.call(this,I)};et.a5c=11;et.prototype.bb=function(I,k){this.Qq=I;this.L4=k;k-=et.a5c;
var a=this.PY.length;if(a==0)return;if(!this.gw()){var n=k<400?k:400+(k-400)*.5;for(var Y=0;Y<a;Y++){var s=this.PY[Y],C=this.Mx[Y];
s.bb(C?C[0]:this.E0,C?C[1]:n)}}else{var T=k;for(var Y=0;Y<a;Y++){var s=this.PY[Y],S=s.aty();if(Y==a-1){S=T;
s.Z.style.borderBottom="none"}s.bb(this.E0,S);T-=S+4}}};function en(I){gB.call(this);this.Z=$.I("div");
this.Q6=null;this.CF=0;this.OF=0;this.aoK=I;this.akM=this.e_.bind(this);this.ax7=this.vC.bind(this);
this.ajh=this.RG.bind(this);this.uj=null;this.cs=null;this.ro=null;$.Ar(this.Z,this.akM);var k=this.Z,n="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
k.addEventListener("touchmove",$.V$,!1);this.aaM=!0;this.rS=[];var a=this.awD=$.I("div");a.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.Z.appendChild(a);var s=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",n+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",n+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",n+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var Y=0;Y<s.length;Y++){var C=new iP(s[Y]);this.rS.push(C);C.Z.setAttribute("style","margin-left:"+(Y<7?4:0)+"px;cursor:pointer;");
C.O("click",this.n$,this)}}en.prototype=new gB;en.prototype.k=function(){var I=this.awD;$.GD(I);for(var Y=0;
Y<this.rS.length;Y++){var k=this.rS[Y];if(Y<5)k.k();I.appendChild(k.Z)}};en.prototype.n$=function(I){var Y=this.rS.indexOf(I.currentTarget);
if(Y==0){if(window.showCap)window.showCap();return}var k=" issues learn blog api twitter facebook".split(" "),a=["","//github.com/photopea/"+["photo","vector"][ht]+"pea/issues","//www.photopea.com/learn","//blog.photopea.com","//www.photopea.com/api","//www.reddit.com/r/photopea","//www.twitter.com/photopeacom","//www.facebook.com/photopea"],n=window.ga;
if(n)n("send","event","Links",k[Y]);var s=new d2(M.E.b,!0);s.data={q:M.p.Bc,link:a[Y]};this.a(s)};en.prototype.e_=function(I){if(I.aAA){I.preventDefault();
I.stopPropagation()}var k=window;$.YU(k,this.ax7);$.hf(k,this.ajh);k=this.Q6;this.uj=new kK(parseInt(k.style.left),parseInt(k.style.top));
this.cs=$.Ea(I,this.Z);this.ro=k.getBoundingClientRect()};en.prototype.vC=function(I){var k=$.Ea(I,this.Z),a=this.uj.x+k.x-this.cs.x,n=this.uj.y+k.y-this.cs.y,s=this.CF-this.ro.width,C=this.OF-this.ro.height;
if(this.aoK)this.Q6.style.left=Math.min(0,Math.max(s,a))+"px";else this.Q6.style.top=Math.min(0,Math.max(C,n))+"px";
if(a-10>0){this.cs.x=k.x-10;this.uj.x=0}if(a+10<s){this.cs.x=k.x+10;this.uj.x=s}};en.prototype.RG=function(I){var k=window;
$.qD(k,this.ax7);$.Yf(k,this.ajh)};en.prototype.a00=function(I){if(this.Q6){this.Z.removeChild(this.Q6)}this.Q6=I;
this.Z.appendChild(I);I.style.position="absolute";if(this.aoK)I.style.left=0;else I.style.top=0};en.prototype.bb=function(I,k){this.CF=I;
this.OF=k;this.Z.setAttribute("style","position:relative; width: "+I+"px; height: "+k+"px; overflow:hidden; white-space: nowrap; ");
var a=this.Q6.firstChild,n=this.awD,s=a?a.firstChild.getBoundingClientRect().width+80:1e9,C=170,T=this.aaM&&I>s+C;
n[dz.$k][dz.a9F]=T?"":dz.yc;var S=this.rS;for(var Y=0;Y<S.length;Y++){var D=Y>4||I-s>500?"":dz.yc,o=S[Y];
o.Z.style.display=D}};en.prototype.a41=function(){this.Q6.style.left="0";this.Q6.style.top="0"};function aF(){gB.call(this);
this.wY=null;this.Du=aF.NL;this.ad8="";this.Z=$.I("div","rightbar");this.fK=[new et(300),new et(268,!0)];
this.PY=[new cr,new cr,new cr,new cr,new cr,new cr,new cr];this.a0Y=[]}aF.prototype=new gB;aF.prototype.k=function(){var I=this.Du;
for(var Y=0;Y<I.length;Y++)I[Y].zM.k()};aF.NL=ht==0?[{zM:new ko,AP:3},{zM:new j9,AP:1},{zM:new ia,AP:4},{zM:new a9,AP:2},{zM:new jZ(!0),AP:5},{zM:new hb(!0),AP:5},{zM:new fI,AP:0},{zM:new hv,AP:5},{zM:new hI,AP:3},{zM:new ha,AP:0},{zM:new a3,AP:3},{zM:new aq,AP:2},{zM:new bw,AP:4},{zM:new g3,AP:3},{zM:new ih,AP:5},{zM:new jZ(!1),AP:5},{zM:new fh,AP:2},{zM:new gQ,AP:3},{zM:new jn,AP:1},{zM:new dG,AP:0},{zM:new ii,AP:5},{zM:new cB,AP:6,Ny:!0}]:[{zM:new je,AP:5},{zM:new jZ(!0),AP:5},{zM:new jZ(!1),AP:5},{zM:new hv,AP:5},{zM:new ha,AP:0},{zM:new aq,AP:2},{zM:new cB,AP:6,Ny:!0}];
if($.t3())aF.NL.push({zM:new kw,AP:6,Ny:!0});aF.NL.push({zM:new cO,AP:6,Ny:!0},{zM:new iH,AP:6,Ny:!0});
(function(){var I=[{id:aX.Hg.apu,name:"Gallery",url:"//www.photopea.com/plugins/gallery.html",icon:"===data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtyhvagAAAAp0Uk5TAP+mc4pfC+rILiKk3cQAAALjSURBVHic7dq/bxMxFAdwKy1HM16up4QtDCDYkv8gTIgtZWGNWMpIJKhgLAtriyrx71Lnh8/2e76c3/tOxW9olUb56Fvf3bPPOWNKlSpVqtSxPv6uIfXj1d77hOFs/bTeGc6r68UjuESCjTHPkF5dr801FrwxV1iwNS+x4MRs7a+3iNP5j5Vmxv5sEN7+fJnuwDkGHFlrB95hwLEDNxiwciDGM+Zpgw9v6vrXBxg4fr+/Lr6F54cYrNz1OtlAQK/Hf0eAI78bzPVgdRu0l40avAgblhdRCEYddKIFySS0VoJkErpRgmTO6P5nETiOPa+disBzCq5U4HMKflWB9xR8oQLfUfBSBTILA3eYReAtBWcqkHrd5ws4rOAHBX7aMCe2Ww2KwHsK6i49eHOAty94g4VPAfhJSjGNngUj7ko+0e/OYXoPMwrB+WDwcIIs4r9XQcSMxdJy/4kTEb2AJ0B3p08iChecy+NnLslboiWxtxWxIm9KFu1em6IRBbcVwcDTiHz1gUEfHXo/3QNGTYoe6FwwavQDI6bB6OryG4AMJD2v1YFMmx8UMQkyU+WgiCmQjGAU8Tx14FMgu9nkRUz0ySTIBvQipvpkEkzshrmIhxFmIvJgIqCL2NMneTC5XXeItIxenwKTAQ8RvT5JIrJgz35iGwRkInJgT0BacUQOzNrwjCMyYFZAEpEBM3dk21NgZsC4CVEwe8u47QeZPpgVkYCCPe2mD8weQVuLHlC06d6kQcEIRhEjUPitQJsCP8s8P2IIMvetuREDUHSIo4gBqPhepeVARcAuogdW4hG01VDwi8ZzETtQF9CtwjtQGfAYsQPVX501ISi+SLpaB6ByBG21AYioNRps0aA90FiwQYOPEcFggwbrBRps0GBdwAIW8AmBW6w3la8z+Zrhn7e5woIt/pkl4d1JqlbqpWFYs40xf5GgfdZtvMV50zvVLRSt1/ul8QPqccF4X7tUqVKl/uf6BxTPzN+MDvNvAAAAAElFTkSuQmCC"}];
for(var Y=0;Y<I.length;Y++)aF.NL.push({zM:new j4(I[Y],100+Y),AP:6,Ny:!0})}());aF.prototype.auf=function(I){for(var Y=0;
Y<I.length;Y++){var k=I[Y],a=new j4(k,"plg_"+k.name);this.Du.push({zM:a,AP:6});this.a0Y.push(a.dd)}this.lX()};
aF.prototype.wu=function(I,k){this.wY=I;var a=this.Du;for(var Y=0;Y<a.length;Y++)a[Y].zM.wu(I,k);if(k==f9.Zp||k==f9._7)this.lX()};
aF.prototype.wz=function(I){var k=this.Du;for(var Y=0;Y<k.length;Y++)k[Y].zM.wz(I)};aF.prototype.bb=function(I,k){this.Qq=I;
this.L4=k;this.lX();this.fK[0].bb(I,k);this.fK[1].bb(I,k)};aF.prototype.lX=function(){var I=this.wY,k=this.Qq,a=this.L4;
if(I==null||k==0)return;var n=I.Kg.concat(this.a0Y),s=k<500||k<700&&k<a,C=JSON.stringify(n)+","+s;if(C!=this.ad8){this.ad8=C;
$.GD(this.Z);var T=[];for(var Y=0;Y<this.fK.length;Y++){var S=this.fK[Y];T[Y]=S.gw();while(S.a3x()!=0)S.acz(0);
S.qS()}var D=[];for(var Y=0;Y<this.PY.length;Y++){var o=this.PY[Y];o.qS();while(o.akl()!=0)o.rR(0);D.push(0)}for(var Y=0;
Y<n.length;Y++){var v=this.asK(n[Y].toString());if(v==null)continue;this.PY[v.AP].m$(v.zM);this.PY[v.AP].D7(0);
D[v.AP]++}var g=[];for(var Y=0;Y<D.length;Y++){if(D[Y]==0)continue;var d=Y<3||s?1:0,S=this.fK[d];S.parent=this;
S.ayO(this.PY[Y]);g[d]=!0}for(var Y=0;Y<this.fK.length;Y++)if(g[Y])this.Z.appendChild(this.fK[Y].Z);
this.fK[0].collapse();if(k<700||this.wY.compact||!T[1]){this.fK[1].collapse()}var R=new d2(M.E.b,!0);
R.data={q:M.p.JI};this.a(R)}};aF.prototype.asK=function(I){for(var Y=0;Y<this.Du.length;Y++)if(this.Du[Y].zM.dd==I)return this.Du[Y]};
aF.prototype.abk=function(I){var k=this.asK(I);this.PY[k.AP].m$(k.zM)};aF.prototype.tc=function(I,k,a){var n=this.Du;
for(var Y=0;Y<n.length;Y++)n[Y].zM.tc(I,k,a)};aF.prototype.Vr=function(I,k,a,n,s){var C=this.Du;for(var Y=0;
Y<C.length;Y++)C[Y].zM.Vr(I,k,a,n,s)};aF.prototype.Fr=function(I,k,a,n,s){var C=this.Du;for(var Y=0;
Y<C.length;Y++)C[Y].zM.Fr(I,k,a,n,s)};aF.prototype.pE=function(I,k,a,n,s){var C=this.Du;for(var Y=0;
Y<C.length;Y++)C[Y].zM.pE(I,k,a,n,s)};function c0(I,k){fL.call(this,"toolbar");this.Z.removeChild(this.Rs);
this.ks=$.I("div","tools");this.Z.appendChild(this.ks);this.tw=null;this.P$=null;this.azx=k;this.jF=null;
this.Tt=null;this.aBY=-1;this.adB={};this.ay3=I;this.L=null;this.Nk=null;this.xw=null;this.Hc=null;this.Is=new jI;
this.Is.Z.style.marginTop="5px";this.Is.Z.style.marginBottom="3px";this.Is.parent=this;this.Bo=new iP($.z5("lrs/mask"),!1,[6,6,1]);
this.Bo.O("click",function(C){var T=new d2(M.E.r,!0);T.S=E.FQ;T.data={q:"qmask"};this.a(T)},this);var a=new da(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
a.O(M.E.B,this.aiv,this);var n=$.I("span","rangecontFloat form padded");n.appendChild(a.Z);n.setAttribute("style","position:absolute; width:119px; z-index:2;  padding-right:0px; ");
var s=this.Z;this.a9a=[!1,!1,!1,!1];this.ln=new iP($.z5("kb"),!1,"Virtual Keys");this.ln.O("click",function(C){var T=this.ln.Z.getBoundingClientRect();
n.style.top=T.top-110+"px";n.style.left=T.left+T.width+8+"px";if($.TU(n)){$.H0({Z:n},s)}else{s.appendChild(n);
$.TC({Z:n})}},this)}c0.prototype=new fL;c0.prototype.aiv=function(I){var k=I.target.l();this.ln.j(k[0]||k[1]||k[2]||k[3]);
var a=new d2(M.E.b,!0);for(var Y=0;Y<4;Y++){if(k[Y]!=this.a9a[Y]){a.data={q:M.p.a9h,ZT:k[Y],afL:["ControlLeft","AltLeft","ShiftLeft","NoTouch"][Y]};
this.a(a)}}this.a9a=k.slice(0)};c0.prototype.afJ=function(I,k){this.jF=k;this.Tt=I;if(I==null||I.T.length==0||I.R[I.T[0]]==null)return;
var a=I.Bo()!=null,n=I.w.N,s=I.R[I.T[0]].YY,C=s==1||s==3||a||n[0]+n[1]+n[2]==1;this.Is.ahn(C);this.Bo.j(a)};
c0.prototype.a0_=function(I,k){var a=I.length,n=[];for(var Y=0;Y<a;Y++)n[Y]=I[Y].slice(0);I=n;var s=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],C=Math.min(s.length/2,a-k);
for(var Y=0;Y<C;Y++){var T=s[2*Y],S=s[2*Y+1];I[T]=I[T].concat(I[S]);I[S]=null}for(var Y=0;Y<I.length;
Y++)if(I[Y]==null){I.splice(Y,1);Y--}return I};c0.prototype.afV=function(I,k){for(var Y=0;Y<k.length;
Y++)for(var a=0;a<k[Y].length;a++)if(k[Y][a].S.id==I)return Y};c0.prototype.aie=function(I){var k=this.ay3;
this.Nk=[];this.xw=[];this.Hc=[];this.L=[];var a=k.n7;if(I!=null&&this.azx)a=this.a0_(a,I);var n=this.tw;
if(n){var s=[];for(var Y=0;Y<a.length;Y++){var C=[];for(var T=0;T<a[Y].length;T++){var S=a[Y][T];if(n==null||n.indexOf(parseInt(S.S.id))!=-1)C.push(S)}if(C.length>0)s.push(C)}a=s}for(var Y=0;
Y<a.length;Y++){var D=[],o=this.Nk.length,v=null,g=-1;for(var T=0;T<a[Y].length;T++){var S=a[Y][T].S,d=this.afV(S.id,k.n7),R=k.keys[d];
if(R==as.y2&&T==1)R=as.Hg;this.L.push(S);var c=new hC(S.name,R,S.vZ,this.Nk.length,Y,a[Y].length>1);
this.Nk.push(c);var e=this.adB[S.id];if(e==null)e=0;if(e>g){g=e;v=c}c.O(M.E.B,this.HW,this);c.O("mover",this.dj,this);
D.push({name:S.name,yd:S.vZ,kA:R?R.vo:""})}this.xw.push(v);this.Hc.push(D.length==1?null:[D,o])}};c0.prototype.bb=function(I,k){var a=this.L4=k,n=32;
if(1<$.Y()&&$.Y()<1.5)n=18+14*(1/$.Y());var s=39+23,C=Math.floor((a-s)/n);if(C!=this.aBY){this.aBY=C;
this.aie(C);this.Na()}var T=this.xw.length*n+s,S=Math.min(1,a/T);if(.75<=S){this.ks.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+S+","+S+");");
this.Z.setAttribute("style","height:"+(k-2)+"px;")}else{a-=4;this.ks.setAttribute("style","height: "+a+"px;  width:"+Math.ceil(T/a)*34+"px");
this.Z.setAttribute("style","")}};c0.prototype.k=function(){if(this.L==null)return;for(var Y=0;Y<this.Nk.length;
Y++)this.Nk[Y].k()};c0.prototype.HW=function(I){var k=new d2(M.E.b,!0);k.data={q:M.p.$g,S:this.L[I.id].id};
this.a(k)};c0.prototype.am6=function(I){var k=I.target.ats+I.target.Ke()[0];this.Nk[k].RG(null,!0)};
c0.prototype.dj=function(I){var k=this.jF,a=new d2(M.E.b,!0);a.data={q:M.p.wL};this.a(a);var n=I.target,s=this.Hc[n.fJ];
if(s==null)return;var C=new io(s[0],null,!0);C.ats=s[1];C.fJ=n.fJ;C.O("select",this.am6,this);C.parent=this;
C.k();var T=n.Z.getBoundingClientRect(),a=new d2(M.E.b,!0);a.data={q:M.p.ut,zM:C,x:T.left+T.width+8,y:T.top};
if(k==null||!(k.W(as.lO)||k.W(as.nU)))this.a(a)};c0.prototype.Na=function(I){if(I==null)I=this.P$;this.P$=I;
if(this.L==null)return;this.adB[I]=Date.now();var k=-1;for(var Y=0;Y<this.L.length;Y++)if(this.L[Y].id==I)k=Y;
for(var Y=0;Y<this.Nk.length;Y++){var a=this.Nk[Y];a.aiI(k==Y)}if(k==-1)return;this.xw[this.Nk[k].fJ]=this.Nk[k];
$.GD(this.ks);var n=this.xw;for(var Y=0;Y<n.length;Y++){this.ks.appendChild(n[Y].Z)}if(!this.azx)return;
this.ks.appendChild(this.Is.Z);if(this.L4>640&&ht==0)this.ks.appendChild(this.Bo.Z);this.ks.appendChild(this.ln.Z)};
c0.prototype.wu=function(I,k){if(k==f9._7&&I.tw){this.tw=I.tw;this.aie();this.Na()}this.Is.aaL(I.MW,I.U2);
if(ht==1&&(k==f9.to||k==f9._7)){this.Is.a4S(I,this.Tt)}};function hC(I,k,a,n,s,C){gB.call(this);this.j7=0;
this.js=this.ajZ.bind(this);this.fJ=s;this.FS=n;this.xe=I;this.kh=k;this.aAI=C;this.vZ=a;this.Z=$.I("button","");
this.Z.innerHTML=$.z5(this.vZ);if(this.aAI){var T=$.I("img","gsicon");T.setAttribute("src",PIMG["tools/corner"]);
T.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");this.Z.appendChild(T)}this.Z.addEventListener("touchstart",$.V$,!1);
this.k();$.Ar(this.Z,this.e_.bind(this));$.hf(this.Z,this.RG.bind(this));this.Z.addEventListener("contextmenu",this.js,!1);
this.Z.addEventListener("contextmenu",hC.dR,!1)}hC.prototype=new gB;hC.dR=function(I){I.stopPropagation();
I.preventDefault();return!1};hC.prototype.k=function(){var I=this.kh?" ("+this.kh.vo+")":"";this.Z.setAttribute("title",hJ.get(this.xe)+I)};
hC.prototype.e_=function(I){hC.bC=this.FS;this.j7=setTimeout(this.js,160)};hC.prototype.RG=function(I,k){if(k==null&&hC.bC!=this.FS)return;
clearTimeout(this.j7);var a=new d2(M.E.B,!1);a.target=this;a.id=this.FS;this.a(a)};hC.prototype.ajZ=function(I){var k=new d2("mover",!1);
k.target=this;k.id=this.FS;this.a(k)};hC.prototype.aiI=function(I){this.Z.className=I?"toolbtn active":"toolbtn"};
function fd(){gB.call(this);this.Z=$.I("div","topbar");this.Wx=$.I("span");this.aCo=$.I("span");this.awl=0;
this.Z.appendChild(this.Wx);this.Z.appendChild(this.aCo);this.yM=null;this.Hy=null;this.wp=[];this.Kg=[];
var I=this.e_.bind(this);for(var Y=0;Y<fd.data.length;Y++){var k=$.I("button");this.wp.push(k);var a=fd.data[Y];
k.addEventListener("mouseover",I,!1);$.Ar(k,I)}this.MM=new iP([0,13,0],!1,null,!0);this.MM.O("click",this.u3,this);
this.Rf=new iP("Donate",!1,null,!0);this.Rf.O("click",this.u3,this);this.uO=new iP($.z5("tools/zoom",null,"autoscale"),!1,[12,86]);
this.uO.O("click",this.u3,this);this.Sr=new iP("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.Sr.O("click",this.u3,this)}fd.prototype=new gB;fd.prototype.a6S=function(){if(this.Kg.length!=0)return;
for(var Y=0;Y<fd.data.length;Y++){var I=fd.data[Y],k=new io(I.items,I.xV);k.parent=this;this.Kg.push(k)}this.k()};
fd.prototype.k=function(){this.MM.k();this.uO.k();this.Sr.k();for(var Y=0;Y<this.wp.length;Y++)this.wp[Y].textContent=hJ.get(fd.data[Y].name);
this.atc();for(var Y=0;Y<this.Kg.length;Y++)this.Kg[Y].k()};fd.prototype.u3=function(I){var k=new d2(M.E.b,!0);
if(I.target==this.MM)k.data={q:M.p.Fu,aw:"account"};else if(I.target==this.Rf)k.data={q:M.p.Fu,aw:"confirm",h1:function(){},ak$:!0,P:"<h2 style=\"margin-top:0;\">Donate $8 and remove ads for 30 days!</h2><p>Press \"Account\" at the top and get a 30-day Premium!</p></p>All our payments are one-time payments (there is no subscription).</p>"};
else if(I.target==this.uO)k.data={q:M.p.EM};else k.data={q:M.p.yi,mn:!0};this.a(k)};fd.prototype.jn=function(I,k){this.yM=I;
this.Hy=k};fd.prototype.wu=function(I,k){this.Hy=I;if(k==f9._7){var a=I.a9y;$.GD(this.Wx);for(var Y=0;
Y<this.wp.length;Y++){var n=fd.data[Y];if(a==null||a[Y]==1||a[Y]instanceof Array)this.Wx.appendChild(this.wp[Y]);
if(a!=null&&a[Y]instanceof Array){this.a6S();this.Kg[Y].af3(a[Y])}}var s=this.aCo;$.GD(s);if(I.i2){s.appendChild(this.MM.Z);
s.appendChild(this.Rf.Z)}s.appendChild(this.uO.Z);s.appendChild(this.Sr.Z)}this.atc()};fd.prototype.atc=function(I,k){var a=this.MM,n=12255232;
if(bU.U8())n=bU.Oa()?43520:16755200;a.Z.setAttribute("style","color:#ffffff; background-color:#"+j.pB(n));
this.Rf.Z.style.display=bU.Oa()?"none":""};fd.prototype.e_=function(I){this.a6S();var Y=this.wp.indexOf(I.currentTarget),k=this.Kg[Y];
if(I.type=="mouseover"&&!$.TU(this.Kg[this.awl].Z))return;if($.TU(k.Z))return;I.aAA=!0;this.awl=Y;for(var Y=0;
Y<fd.data.length;Y++)this.Kg[Y].update(this.yM,this.Hy);var a=I.target.getBoundingClientRect(),n=new d2(M.E.b,!0);
n.data={q:M.p.ut,zM:k,x:a.left,y:a.top+a.height+2,aou:!0};this.a(n)};fd.a3s=function(I){var k=as,a=k.nU,n=k.bJ,s=k.dE,C=function(o){return{e:o!=null}},T=function(o){return{e:o!=null&&o.f!=null}},S={name:[0,5],items:[{name:[7,0],e:C,kA:[a,k.p]},{name:[7,1],kA:[a,k.hW],e:T},{name:[7,2],kA:[n,a,k.rx],e:T,g6:!0},{name:"Remove BG",e:function(o){return{e:$.t3(0)&&o!=null&&o.T.length!=0&&!o.R[o.T[0]].rect.KH()}}},{name:[7,8],e:C,LC:!0},{name:[7,13],LC:!0,e:function(o){return{e:o!=null&&o.T.length!=0&&!o.R[o.T[0]].rect.KH()}}},{name:"Subject",e:function(o){return{e:o!=null&&o.T.length!=0&&!o.R[o.T[0]].rect.KH()}},g6:!0},{name:[7,11],LC:!0,e:function(o){return{e:o!=null&&o.T.length!=0&&!o.R[o.T[0]].rect.KH()}}},{name:[7,3],e:C,g6:!0,sub:[{name:[7,9],LC:!0,e:T},{name:[19,3,0],LC:!0,e:T},{name:[7,4],LC:!0,e:T},{name:[7,5],LC:!0,e:T},{name:[7,6],LC:!0,e:T,kA:"Shift+F6"}]},{name:"Grow",e:T},{name:"Similar",e:T,g6:!0},{name:[7,10],e:T,g6:!0},{name:[6,6,1],e:function(o){return{e:o!=null,nK:o!=null&&o.Bo()!=null}},kA:[k.axf],g6:!0},{name:[[23,6],[17,2]]},{name:["VAR0 VAR1",[1,2],[17,2]],e:T}],xV:[{K:M.E.rd,v:E.BN.dS(!0)},{K:M.E.rd,v:E.BN.dS()},{K:M.E.rd,v:{pi:"inverse"}},{K:M.E.r,S:E.FQ,v:{q:"bgrm",P:1}},{K:M.E.b,v:{q:M.p.Fu,aw:"crange"}},{K:M.E.b,v:{q:M.p.Fu,aw:"magiccut"}},{K:M.E.r,S:E.FQ,v:{q:"bgrm",P:2}},{K:M.E.b,v:{q:M.p.Fu,aw:"redge"}},{sub:[{K:M.E.b,v:{q:M.p.Fu,aw:"sel_border"}},{K:M.E.b,v:{q:M.p.Fu,aw:"sel_smoothness"}},{K:M.E.b,v:{q:M.p.Fu,aw:"sel_expand"}},{K:M.E.b,v:{q:M.p.Fu,aw:"sel_contract"}},{K:M.E.b,v:{q:M.p.Fu,aw:"sel_feather"}}]},{K:M.E.rd,v:{pi:"grow",zf:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{K:M.E.rd,v:{pi:"similar",zf:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{K:M.E.b,v:{q:M.p.$g,S:E.Ll}},{K:M.E.r,S:E.FQ,v:{q:"qmask"}},{K:M.E.b,v:{q:M.p.Fu,aw:"loadsel"}},{K:M.E.b,v:{q:M.p.Fu,aw:"savesel"}}]};
if(I){var D=S.items.length-1;S.items.splice(D-2,0,{name:[6,49],kA:[a,k.qp],g6:!0});S.xV.splice(D-2,0,{K:M.E.rd,v:{pi:"copyToLayer"}});
S.items.splice(D-1,0,{name:[10,16],kA:[s,a,k.qj]});S.xV.splice(D-1,0,{K:M.E.b,v:{q:M.p.$g,S:E.Yo}})}return S};
fd.l9=function(I,k){if(I==null||I.T.length==0)return!1;var a=I.R[I.T[0]];return a.add.TySh!=null&&k.P$==E.N$};
fd.a3N=function(){var I=as,k=I.nU,a=I.bJ,n=I.dE,s=function(C){return{e:C!=null}};return[[{name:[5,0],kA:[k,I.E2],e:function(C,T){return{e:C!=null&&(C.ayj()||fd.l9(C,T))}}},{name:[5,1],kA:[k,I.E5],e:s},{name:[5,2],kA:[k,I.xb],e:function(C,T){return{e:fd.l9()||$.RI()||T.uZ!=null||T.aO!=null||T.al7!=null}}},{name:[2,2],e:function(C,T){return{e:C!=null&&(C.f!=null||fd.l9(C,T))}},kA:"Delete",g6:!0}],[{K:M.E.b,v:{q:M.p.Rp}},{K:M.E.b,v:{q:M.p.eM}},{K:M.E.b,v:{q:M.p.ZJ}},{K:M.E.rd,v:{pi:"delete"}}]]};
fd.data=function(){var I=as,k=I.nU,a=I.bJ,n=I.dE,s=function(e){return{e:e!=null&&e.T.length!=0}},C=function(e){return{e:e!=null&&e.T.length!=0&&e.R[e.T[0]].add.SoLd!=null}},T=function(e){return{e:e!=null}},S=function(e){return{e:e!=null&&e.rb(!1)}},D=[],o=[],v="none maxx avrg medn minn rang stdv summ vari".split(" "),g=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"];
for(var Y=0;Y<v.length;Y++){D.push({name:g[Y],e:function(e,O){if(e==null||e.T.length!=1)return{e:!1};
var U=e.R[e.T[0]].add.SoLd;if(U==null)return{e:!1};return{e:!0,nK:U.Impr.v.classID==this.ap6}}.bind({ap6:v[Y]})});
o.push({K:M.E.r,S:E.xf,v:{q:X.EO,WM:v[Y]}})}var d=fd.a3N(!0),R=[{name:[0,0],items:[{name:[5,3],kA:[n,k,I.kO],title:[11,7],LC:!0},{name:[1,0],kA:[k,I.TJ],LC:!0},{name:[1,11],LC:!0,e:T},{name:["VAR0 VAR1",[1,0],[0,14]],g6:!0,sub:[{name:"Storage",LC:!0,kA:[n,k,I.TJ]},{name:[1,5],LC:!0},{name:[11,0],LC:!0},{name:["PSD VAR0",[25,0]],LC:!0}]},{name:[1,18],g6:!0,e:T,sub:[{name:"PNG",kA:"Imgur.com",e:function(e,O){return{e:e!=null&&O.bA}}},{name:"JPG",kA:"Imgur.com",e:function(e,O){return{e:e!=null&&O.bA}}},{name:ht==0?"PSD":"AI",kA:["Photo","Vector"][ht]+"pea.com",e:function(e,O){return{e:e!=null&&O.bA&&!e.fY}}}]},{name:"Save ...",kA:[k,I.Z7],e:function(e,O){var U=hJ.get([1,2]),K=!0;
if(e){if(e.Uj)U+=" ("+hJ.get([6,7,1])+")";if(e.cw)U+=" (Google Drive)";if(e.KS)U+=" ("+Storage.list[e.KS[0]][0]+")";
K="psd jpg png gif webp svg bmp".split(" ").indexOf(e.eS)!=-1;if(ht==1)K=e.eS=="ai"}return{e:e!=null&&(e.KS!=null||e.$K!=null&&K||e.Uj!=null||e.S9!=null&&e.S9.nj!=null||e.cw!=null||O.JA.save!=null),qr:U}}},{name:ht==0?[1,3]:"Save as AI",e:function(e,O){return{e:e!=null&&O.bA}}},{name:["VAR0 VAR1",[1,2],[0,14]],e:T,sub:[{name:(ht==0?"PSD":"AI")+" to Storage",e:function(e,O){return{e:e!=null&&O.bA}}},{name:["VAR0 PSD/PSB",[1,2]],LC:!0,e:function(e,O){return{e:e!=null&&O.bA}}}]},{name:[1,8],e:T,sub:function(){var e=kk.QW(0),O=[];
for(var Y=0;Y<e.length;Y++)O.push({name:e[Y],kA:"."+e[Y].toLowerCase()});O.push({name:[0,14],sub:function(){var e=kk.QW(1),O=[];
for(var Y=0;Y<e.length;Y++)O.push({name:e[Y],kA:"."+e[Y].toLowerCase()});return O}()});return O}()},{name:[1,4],LC:!0,e:T,g6:!0},{name:[1,9],LC:!0,e:T},{name:"Export Color Lookup",LC:!0,e:T,g6:!0},{name:[1,14],LC:!0,e:T,g6:!0},{name:[1,17],sub:[{name:"Batch",LC:!0},{name:"PDF Presentation",LC:!0},{name:"Convert Formats",LC:!0},{name:"Generate Mockups",LC:!0,e:T,g6:!0},{name:"Crop and Straighten Photos",e:T}]},{name:[1,10],LC:!0}],xV:[{K:M.E.b,v:{q:M.p.Fu,aw:"newproject"}},{K:M.E.b,v:{q:M.p.Av}},{K:M.E.b,v:{q:M.p.Av,a6P:!0}},{sub:[{K:M.E.b,v:{q:M.p.Fu,aw:"storwindow",Ex:0}},{K:M.E.b,v:{q:M.p.Fu,aw:"open_from_url"}},{K:M.E.b,v:{q:M.p.Fu,aw:"camera"}},{K:M.E.b,v:{q:M.p.Fu,aw:"res0"}}]},{sub:[{K:M.E.b,v:{q:M.p.S7,Uy:"png"}},{K:M.E.b,v:{q:M.p.S7,Uy:"jpg"}},{K:M.E.b,v:{q:M.p.S7,Uy:ht==0?"psd":"ai"}}]},{K:M.E.b,v:{q:M.p.Vd}},{K:M.E.b,v:{q:M.p.qv}},{sub:[{K:M.E.b,v:{q:M.p.Fu,aw:"storwindow",Ex:1}},{K:M.E.b,v:{q:M.p.Fu,aw:"savepsb"}}]},{sub:function(){var e=kk.QW(0),O=[];
for(var Y=0;Y<e.length;Y++)O.push({K:M.E.b,v:{q:M.p.Fu,aw:"saveforweb",Uy:Y}});O.push({sub:function(){var U=kk.QW(0).length,e=kk.QW(1),O=[];
for(var Y=0;Y<e.length;Y++)O.push({K:M.E.b,v:{q:M.p.Fu,aw:"saveforweb",Uy:U+Y}});return O}()});return O}()},{K:M.E.b,v:{q:M.p.Fu,aw:"saveforweb",Uy:3,a8I:!0}},{K:M.E.b,v:{q:M.p.Fu,aw:"eassets"}},{K:M.E.b,v:{q:M.p.Fu,aw:"exlut"}},{K:M.E.b,v:{q:M.p.Fu,aw:"finfo"}},{sub:[{K:M.E.b,v:{q:M.p.Fu,aw:"batch"}},{K:M.E.b,v:{q:M.p.Fu,aw:"pdfpres"}},{K:M.E.b,v:{q:M.p.Fu,aw:"cformat"}},{K:M.E.b,v:{q:M.p.Fu,aw:"mockups"}},{K:M.E.r,S:E.Ao,v:{q:"cropAndStr"}}]},{K:M.E.b,v:{q:M.p.Fu,aw:"script"}}]},{name:[0,1],items:[{name:[2,8],e:T},{name:[2,0],e:T,kA:[a,k,I.AB]},{name:[2,1],e:T,kA:[k,I.AB],g6:!0},{name:[2,11],kA:[a,k,I.v6],g6:!0,LC:!0,e:function(e,O){return{e:iU.ah9(e)&&O.P$!=E.Yo}}},d[0][0],d[0][1],{name:[5,7],kA:[a,k,I.E5],e:function(e){return{e:e!=null&&e.f!=null}}},d[0][2],d[0][3],{name:[2,3],e:S,LC:!0,kA:[a,I.ayc]},{name:[14,9],e:S,LC:!0,g6:!0},{name:[10,48],e:S},{name:[10,46],e:function(e){return{e:E.lU.uf(e)}}},{name:[10,16],e:T,kA:[n,k,I.qj]},{name:[2,4],e:T,sub:c8.aCB()},{name:[2,10,1],e:T},{name:[2,10,0],e:T,g6:!0},{name:[12,87],e:T,sub:[{name:[12,62],e:T},{name:[9,3],e:T},{name:[10,31],e:function(e){return{e:e!=null&&e.iQ()[1].length!=0}}}]},{name:[1,15],LC:!0},{name:[12,79],LC:!0,kA:[k,I.RA]},{name:[1,13],LC:!0}],xV:[{K:M.E.r,S:E.ca,v:{q:"h_undoredo"}},{K:M.E.r,S:E.ca,v:{q:"h_stepfwd"}},{K:M.E.r,S:E.ca,v:{q:"h_stepbck"}},{K:M.E.b,v:{q:M.p.Fu,aw:"afw_fade"}},d[1][0],d[1][1],{K:M.E.b,v:{q:M.p.eM,JR:!0}},d[1][2],d[1][3],{K:M.E.b,v:{q:M.p.Fu,aw:"fill"}},{K:M.E.b,v:{q:M.p.Fu,aw:"stroke"}},{K:M.E.b,v:{q:M.p.$g,S:E.To}},{K:M.E.r,S:E.OJ,v:{q:"start",R_:"rigidTransform"}},{K:M.E.b,v:{q:M.p.$g,S:E.Yo}},{sub:c8.a2c()},{K:M.E.rd,v:{pi:"align",zf:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{K:M.E.r,S:E.xf,v:{q:X.a9$}},{sub:[{K:M.E.b,v:{q:M.p.lV,CU:0}},{K:M.E.b,v:{q:M.p.lV,CU:1}},{K:M.E.b,v:{q:M.p.lV,CU:2}}]},{K:M.E.b,v:{q:M.p.Fu,aw:"pmanager"}},{K:M.E.b,v:{q:M.p.Fu,aw:"preferences"}},{K:M.E.b,v:{q:M.p.Fu,aw:"locstor"}}]},{name:[0,2],items:[{name:[12,36],e:T,g6:!0,sub:[{name:"RGB",e:function(e){if(e==null)return{e:!1};
return{nK:e.add.fcmy==null,e:!0}}},{name:"CMYK",e:function(e){if(e==null)return{e:!1};return{nK:e.add.fcmy!=null,e:!0}}}]},{name:[3],e:T,g6:!0,sub:function(){var e=[];
for(var O in fo.names){e.push({name:fo.names[O],LC:ke[O]!=null,kA:fo.keys[O],g6:fo.aBB.indexOf(O)!=-1});
if(O=="selc"){e.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],LC:!0,g6:!0});e.push({name:[19,7,0],kA:[k,a,I.Qt],e:S});
e.push({name:[4,18],LC:!0,e:S})}}return e}()},{name:[4,16,0],e:S},{name:[4,16,1],e:S},{name:[4,16,2],e:S,g6:!0},{name:[11,11,1],e:S,LC:!0},{name:[11,11,0],e:S,LC:!0},{name:"Wavelet Decompose",e:S,g6:!0},{name:[11,3],e:T,LC:!0,kA:[n,k,I.E5]},{name:[11,10],e:T,LC:!0,kA:[n,k,I.rx]},{name:[2,4],e:T,sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],e:function(e){return{e:e!=null&&e.f!=null}}},{name:[11,12,0],e:T,kA:[k,I.nB],LC:!0},{name:[11,12,2],e:T,g6:!0},{name:[12,53],e:T},{name:[2,12],e:S,LC:!0,g6:!0},{name:[2,14],e:T,LC:!0}],xV:[{sub:[{K:M.E.r,S:E.Mt,v:{q:"fcmy",P:0}},{K:M.E.r,S:E.Mt,v:{q:"fcmy",P:1}}]},{sub:function(){var e=[];
for(var O in fo.names){e.push({K:M.E.r,S:E.N1,v:{q:"start",g5:O}});if(O=="selc"){e.push({K:M.E.r,S:E.OJ,v:{q:"start",R_:"adaptCorrect"}});
e.push({K:M.E.rd,v:{pi:"desaturate"}});e.push({K:M.E.r,S:E.N1,v:{q:"start",g5:"matc"}})}}return e}()},{K:M.E.rd,v:{pi:"levels",zf:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{K:M.E.rd,v:{pi:"levels",zf:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{K:M.E.rd,v:{pi:"levels",zf:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{K:M.E.b,v:{q:M.p.Fu,aw:"rcolors"}},{K:M.E.b,v:{q:M.p.Fu,aw:"vbitmap"}},{K:M.E.r,S:E.xf,v:{q:X.azG}},{K:M.E.b,v:{q:M.p.Fu,aw:"csize"}},{K:M.E.b,v:{q:M.p.Fu,aw:"isize"}},{sub:[{K:M.E.rd,v:E.nF.fU(!0,90)},{K:M.E.rd,v:E.nF.fU(!0,-90)},{K:M.E.rd,v:E.nF.fU(!0,-180)},{K:M.E.rd,v:E.nF.fU(!1,"Hrzn")},{K:M.E.rd,v:E.nF.fU(!1,"Vrtc")}]},{K:M.E.rd,v:{pi:"crop",zf:{__name:"Crop",classID:"Crop"}}},{K:M.E.b,v:{q:M.p.Fu,aw:"trim"}},{K:M.E.rd,v:{pi:"revealAll",zf:{classID:"RvlA"}}},{K:M.E.rd,v:{pi:"duplicate",zf:{classID:"Dplc",null:hW.Pg("Dcmn",!0)}}},{K:M.E.r,S:E.N1,v:{q:"start",g5:"aply"}},{K:M.E.b,v:{q:M.p.Fu,aw:"varsdats"}}]},{name:[0,3],items:[{name:[5,3],e:T,sub:[{name:[0,3],kA:[a,k,I.kO]},{name:[0,4]},{name:[1,16,0],LC:!0},{name:[1,16,3],LC:!0,g6:!0},{name:[6,49,0],kA:[k,I.qp]},{name:[6,49,1],kA:[a,k,I.qp],e:function(e){return{e:e!=null&&e.f!=null&&e.rb(!1)}}}]},{name:[6,0],e:s,kA:[k,I.qp]},{name:[11,4],e:s},{name:[5,4],e:s,g6:!0},{name:[11,6],e:s,g6:!0,sub:d5.e$(!0)},{name:[6,48,1],e:T,sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],e:T,g6:!0,sub:d5.agN()},{name:[6,2],e:T,sub:[{name:[6,4],e:function(e){return{e:e!=null&&e.T.length!=0&&e.R[e.T[0]].IO()==null}}},{name:[6,5,0],e:function(e){return{e:e!=null&&e.T.length!=0&&e.R[e.T[0]].IO()==null}}},{name:[6,5,1],e:function(e){return{e:e!=null&&e.T.length!=0&&e.R[e.T[0]].IO()==null&&e.f!=null}}},{name:[6,5,2],e:function(e){return{e:e!=null&&e.T.length!=0&&e.R[e.T[0]].IO()==null&&e.f!=null}}},{name:[6,5,3],e:function(e){return{e:e!=null&&e.T.length!=0&&e.R[e.T[0]].IO()==null}},g6:!0},{name:[5,4],e:function(e){return{e:e!=null&&e.T.length!=0&&e.R[e.T[0]].IO()!=null}}},{name:[5,8],e:function(e){return{e:e!=null&&e.T.length!=0&&e.R[e.T[0]].IO()!=null&&e.rb(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],e:function(e){return{e:e!=null&&e.T.length!=0&&e.R[e.T[0]].IO()!=null}}}]},{name:[6,3],e:T,sub:[{name:[6,4],e:function(e){return{e:e!=null&&e.T.length!=0&&e.R[e.T[0]].add.vmsk==null}}},{name:[6,5,0],e:function(e){return{e:e!=null&&e.T.length!=0&&e.R[e.T[0]].add.vmsk==null}}},{name:[12,76,7],e:function(e){return{e:e!=null&&e.T.length!=0&&e.R[e.T[0]].add.vmsk==null}},g6:!0},{name:[5,4],e:function(e){return{e:e!=null&&e.T.length!=0&&e.R[e.T[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],e:function(e){return{e:e!=null&&e.T.length!=0&&e.R[e.T[0]].add.vmsk!=null}}}]},aq.aEX(!0),{name:[6,7,1],e:T,g6:!0,sub:[{name:[6,7,0],g6:!0},{name:"Open (Edit Contents)",e:C,LC:!0},{name:"Replace Contents",e:C,LC:!0},{name:"Export Contents",e:C,LC:!0,g6:!0},{name:[6,36,4],e:C,sub:D},{name:"Turn into JPG",e:C}]},{name:[6,8],e:aq.asH},{name:[6,34],g6:!0,e:function(e){if(e==null||e.T.length==0)return{e:!1};
var O=e.R[e.T[0]];return{e:O.add.lmfx!=null&&!O.hd()}}},{name:[6,9],e:T,g6:!0,kA:[k,I.Rt]},{name:[6,55],e:T,sub:[{name:[6,56,0],kA:[a,k,I.Zi]},{name:[6,56,1],kA:[k,I.Zi]},{name:[6,56,2],kA:[k,I.CQ]},{name:[6,56,3],kA:[a,k,I.CQ]}]},{name:"Combine Shapes",e:T,g6:!0,sub:[{name:[18,1],yd:"set/union"},{name:[18,2],yd:"set/difference"},{name:[18,3],yd:"set/intersection"},{name:[18,4],yd:"set/xor"}]},{name:[6,58],e:T,g6:!0,sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,12,0],kA:[k,I.E],e:aq.Cx},{name:[6,12,1],e:T},{name:[2,13],e:T}],xV:[{sub:[{K:M.E.r,S:E.xf,v:{q:X.mT}},{K:M.E.r,S:E.xf,v:{q:X.ce}},{K:M.E.b,v:{q:M.p.Fu,aw:"newartb",Ex:0}},{K:M.E.b,v:{q:M.p.Fu,aw:"newartb",Ex:1}},{K:M.E.rd,v:{pi:"copyToLayer"}},{K:M.E.rd,v:{pi:"cutToLayer"}}]},{K:M.E.r,S:E.xf,v:{q:X.T0}},{K:M.E.b,v:{q:M.p.Fu,aw:"duplinto"}},{K:M.E.r,S:E.xf,v:{q:X.Va}},{sub:d5.x4(!0)},{sub:[{K:M.E.r,S:E.lc,v:{q:"newfill",_W:0}},{K:M.E.rd,v:E.WX.HO(1)},{K:M.E.rd,v:E.WX.HO(2)}]},{sub:d5.gJ()},{sub:[{K:M.E.r,S:E.xf,v:{q:X.IW,Ex:"RvlA"}},{K:M.E.r,S:E.xf,v:{q:X.IW,Ex:"HdAl"}},{K:M.E.r,S:E.xf,v:{q:X.IW,Ex:"RvlS"}},{K:M.E.r,S:E.xf,v:{q:X.IW,Ex:"HdSl"}},{K:M.E.r,S:E.xf,v:{q:X.IW,Ex:"Trns"}},{K:M.E.r,S:E.xf,v:{q:X.Ro}},{K:M.E.r,S:E.xf,v:{q:X.iR}},{K:M.E.r,S:E.xf,v:{q:X.AZ}}]},{sub:[{K:M.E.r,S:E.xf,v:{q:X.h5,nr:!1}},{K:M.E.r,S:E.xf,v:{q:X.h5,nr:!0}},{K:M.E.r,S:E.xf,v:{q:X.h5,awv:!0}},{K:M.E.r,S:E.xf,v:{q:X.UN}},{K:M.E.r,S:E.xf,v:{q:X.EF}}]},{K:M.E.r,S:E.xf,v:{q:X.oH}},{sub:[{K:M.E.rd,v:{pi:"newPlacedLayer"}},{K:M.E.rd,v:{pi:"placedLayerEditContents",zf:{classID:"placedLayerEditContents"}}},{K:M.E.rd,v:{pi:"placedLayerReplaceContents",zf:{classID:"placedLayerReplaceContents"}}},{K:M.E.rd,v:{pi:"placedLayerExportContents",zf:{classID:"placedLayerExportContents"}}},{sub:o},{K:M.E.r,S:E.xf,v:{q:X.asQ}}]},{K:M.E.rd,v:{pi:"rasterizeLayer",zf:{classID:"rasterizeLayer",null:hW.Pg("Lyr",!0)}}},{K:M.E.rd,v:{pi:"rasterizeLayer",zf:{classID:"rasterizeLayer",null:hW.Pg("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"layerStyle"}}}}},{K:M.E.r,S:E.xf,v:{q:X.L7}},{sub:[{K:M.E.r,S:E.xf,v:{q:X.CN,ar:0}},{K:M.E.r,S:E.xf,v:{q:X.CN,ar:1}},{K:M.E.r,S:E.xf,v:{q:X.CN,ar:2}},{K:M.E.r,S:E.xf,v:{q:X.CN,ar:3}}]},{sub:[{K:M.E.r,S:E.xf,v:{q:X.Zg,_R:0}},{K:M.E.r,S:E.xf,v:{q:X.Zg,_R:1}},{K:M.E.r,S:E.xf,v:{q:X.Zg,_R:2}},{K:M.E.r,S:E.xf,v:{q:X.Zg,_R:3}}]},{sub:[{K:M.E.r,S:E.xf,v:{q:X.x6,ar:"makeframes"}},{K:M.E.r,S:E.xf,v:{q:X.x6,ar:"unmakeframes"}},{K:M.E.r,S:E.xf,v:{q:X.x6,ar:"merge"}}]},{K:M.E.rd,v:{pi:"mergeLayersNew",zf:{__name:"Merge Layers",classID:"Mrg2"}}},{K:M.E.rd,v:{pi:"flattenImage"}},{K:M.E.r,S:E.OJ,v:{q:"start",R_:"defr"}}]},fd.a3s(!1),function(){var e={name:[0,6],items:[{name:[24,18,4],kA:[n,k,I.v6],e:T,g6:!0}],xV:[{K:M.E.r,S:E.OJ,v:{q:"applylast"}}]};
for(var Y=0;Y<gJ.jv.length;Y++){var O=gJ.jv[Y];if(O.aG!=null){var U={name:gJ.names[O.aG],LC:!0,g6:O.g6,e:T};
if(O.aG=="VaPo")U.e=S;e.items.push(U);e.xV.push({K:M.E.r,S:E.OJ,v:{q:"start",R_:O.aG}});continue}var K={name:O.Nt,sub:[],e:T};
e.items.push(K);var _={sub:[]};e.xV.push(_);for(var Z=0;Z<O.rF.length;Z++){var H={name:gJ.names[O.rF[Z]],LC:gJ.nI(O.rF[Z])!=null};
K.sub.push(H);var G={K:M.E.r,S:E.OJ,v:{q:"start",R_:O.rF[Z]}};_.sub.push(G)}}return e}(),{name:[0,7],items:[{name:[8,0],e:T,kA:[k,I.AC]},{name:[8,1],e:T,kA:[k,I.q0]},{name:[20,3],e:T,kA:[k,I.Vz]},{name:[20,2],e:T,kA:[k,I.m9]},{name:[8,14],e:function(e,O){return{e:e!=null,nK:e!=null&&e.ym}},g6:!0},{name:[12,36],g6:!0,sub:[{name:"Fullscreen",e:function(e,O){return{nK:document.fullscreenElement!=null}},g6:!0},{name:"Standard",e:function(e,O){return{nK:O.bn==0}}},{name:"Menu Bar and Canvas",e:function(e,O){return{nK:O.bn==1}}}]},{name:[8,13],kA:[k,I.y2],e:function(e,O){return{nK:O.Q7}}},{name:[8,12],g6:!0,sub:[{name:[17,2],e:function(e,O){return{e:O.Q7,nK:O.M6.ue}}},{name:[8,9],e:function(e,O){return{e:O.Q7,nK:O.M6.DD}}},{name:[8,2],e:function(e,O){return{e:O.Q7,nK:O.M6.Fq}},kA:[k,I.db]},{name:[8,4],e:function(e,O){return{e:O.Q7,nK:O.M6.kG}},kA:[k,I.tP]},{name:[8,8],e:function(e,O){return{e:O.Q7,nK:O.M6.Po}}},{name:[8,11,0],e:function(e,O){return{e:O.Q7,nK:O.M6.IZ}}}]},{name:[8,3],e:function(e,O){return{nK:O.yF}},kA:[k,I.Hg],g6:!0},{name:[8,5],e:function(e,O){return{nK:O.Rl}}},{name:[8,6],g6:!0,sub:[{name:[8,2],e:function(e,O){return{nK:O.n1[0]}}},{name:[8,4],e:function(e,O){return{nK:O.n1[1]}}},{name:[9,1],e:function(e,O){return{nK:O.n1[2]}}},{name:[8,11,0],e:function(e,O){return{nK:O.n1[3]}}},{name:[8,7,0],e:function(e,O){return{nK:O.n1[4]}}}]},{name:[11,15,2],e:function(e,O){return{e:e!=null,nK:e!=null&&e.fW}}},{name:[11,15,0],e:T},{name:[11,14],e:T,LC:!0},{name:[11,15,1],e:function(e,O){return{e:e!=null&&e.T.length!=0}},g6:!0},{name:[8,11,2],e:function(e,O){return{e:e!=null&&e.IZ.length!=0}}}],xV:[{K:M.E.r,S:E.VX,v:{q:"zoom",KJ:!0}},{K:M.E.r,S:E.VX,v:{q:"zoom",KJ:!1}},{K:M.E.r,S:E.VX,v:{q:"adapt",P:"fitscr"}},{K:M.E.r,S:E.VX,v:{q:"adapt",P:"pixel"}},{K:M.E.r,S:E.Mt,v:{q:"pview"}},{sub:[{K:M.E.b,v:{q:M.p.yi,mn:!0}},{K:M.E.b,v:{q:M.p.yi,P:0}},{K:M.E.b,v:{q:M.p.yi,P:1}},{K:M.E.b,v:{q:M.p.yi,P:2}}]},{K:M.E.b,v:{q:M.p.iv,CU:f9.Ux}},{sub:[{K:M.E.b,v:{q:M.p.iv,CU:f9.y5}},{K:M.E.b,v:{q:M.p.iv,CU:f9.Nl}},{K:M.E.b,v:{q:M.p.iv,CU:f9.WD}},{K:M.E.b,v:{q:M.p.iv,CU:f9.IX}},{K:M.E.b,v:{q:M.p.iv,CU:f9.ej}},{K:M.E.b,v:{q:M.p.iv,CU:f9.MO}}]},{K:M.E.b,v:{q:M.p.iv,CU:f9.W2}},{K:M.E.b,v:{q:M.p.iv,CU:f9.auv}},{sub:[{K:M.E.b,v:{q:M.p.iv,CU:f9.V3,Je:0}},{K:M.E.b,v:{q:M.p.iv,CU:f9.V3,Je:1}},{K:M.E.b,v:{q:M.p.iv,CU:f9.V3,Je:2}},{K:M.E.b,v:{q:M.p.iv,CU:f9.V3,Je:3}},{K:M.E.b,v:{q:M.p.iv,CU:f9.V3,Je:4}}]},{K:M.E.r,S:E.Mt,v:{q:"lockguides"}},{K:M.E.r,S:E.Mt,v:{q:"gids",qJ:[[],[]]}},{K:M.E.b,v:{q:M.p.Fu,aw:"addguides"}},{K:M.E.r,S:E.Mt,v:{q:"gidsFromLayer"}},{K:M.E.r,S:E.s4,v:{q:"deleteAll"}}]},function(){var e={name:[0,8],items:[{name:[0,14],g6:!0,sub:[]},{name:"Plugins",g6:!0}],xV:[{sub:[]},{K:M.E.b,v:{q:M.p.Fu,aw:"res1"}}]};
for(var Y=0;Y<aF.NL.length;Y++){var O=aF.NL[Y],U=function(){var K=O.zM.dd;return function(_,Z){return{nK:Z.Kg.indexOf(parseInt(K))!=-1}}}();
(O.Ny?e.items[0].sub:e.items).push({name:O.zM.name,e:U});(O.Ny?e.xV[0].sub:e.xV).push({K:M.E.b,v:{q:M.p.N7,aw:O.zM.dd}})}return e}(),function(){var e={name:[0,14],items:[],xV:[]},O={name:[0,9],sub:[]};
e.items.push(O);var U={sub:[]};e.xV.push(U);var K=hJ.ajj();for(var Y=0;Y<K.length;Y++){var _=K[Y],Z=_.code,H=hJ.ag4(Z);
O.sub.push({name:_.name,kA:Z,e:function(G,N){return{nK:this.kA==hJ.au2()}}});U.sub.push({K:M.E.b,v:{q:M.p.iv,CU:f9.ah,lang:H}})}O.sub.push({name:[0,12]});
U.sub.push({K:M.E.b,v:{q:M.p.Bc,link:"https://www.photopea.com/translate/"}});var O={name:[0,15],sub:[]};
e.items.push(O);var U={sub:[]};e.xV.push(U);for(var Y=0;Y<kn.ZW.length;Y++){O.sub.push({name:kn.ZW[Y].name,e:function(G,N){return{nK:this.name==kn.ZW[N.DU].name}}});
U.sub.push({K:M.E.b,v:{q:M.p.iv,CU:f9.hq,DU:Y}})}e.items.push({name:ht==0?[0,17,6]:"Install Vectorpea",e:function(G,N){return{e:N.Ya!=null}}});
e.xV.push({K:M.E.b,v:{q:M.p.gI}});if(ht==0){e.items.push({name:[11,13]});e.xV.push({K:M.E.b,v:{q:M.p.Fu,aw:"shortcuts"}});
e.items.push({name:[0,16],e:function(G){return{nK:dZ.QV,e:dZ.aEi}},g6:!0});e.xV.push({K:M.E.b,v:{q:M.p.aiC}})}e.items.push({name:"PeaMark"});
e.xV.push({K:M.E.b,v:{q:M.p.Fu,aw:"peamark"}});e.items.push({name:"",e:function(G,N){return N.i2?{qr:"About "+["Photopea","Vectorpea"][ht],e:!0}:{qr:"",e:!1}}});
e.xV.push({K:M.E.b,v:{q:M.p.Fu,aw:"aboutpp"}});return e}()],c=[R[0],R[1],{name:"Object",items:[{name:[6,9],e:T,g6:!0,kA:[k,I.Rt]},{name:[6,6,0],sub:[{name:[5,5],kA:[k,I.On]},{name:[5,6],kA:[n,k,I.On]}]}],xV:[{K:M.E.r,S:E.xf,v:{q:X.L7}},{sub:[{K:M.E.r,S:E.xf,v:{q:X.L7,kb:!0}},{K:M.E.r,S:E.xf,v:{q:X.L7,kb:!0,hA:!0}}]}]},{name:[0,7],items:[{name:"Outline View",e:function(e,O){return{nK:e&&e.add.prvw==0,e:e!=null}},g6:!0,kA:[k,I.fc]},{name:[8,0],e:T,kA:[k,I.AC]},{name:[8,1],e:T,kA:[k,I.q0]},{name:[12,36],g6:!1,sub:[{name:"Fullscreen",e:function(e,O){return{nK:document.fullscreenElement!=null}},g6:!0},{name:"Standard",e:function(e,O){return{nK:O.bn==0}}},{name:"Menu Bar and Canvas",e:function(e,O){return{nK:O.bn==1}}}]}],xV:[{K:M.E.r,S:E.VX,v:{q:"prvw"}},{K:M.E.r,S:E.VX,v:{q:"zoom",KJ:!0}},{K:M.E.r,S:E.VX,v:{q:"zoom",KJ:!0}},{K:M.E.r,S:E.VX,v:{q:"zoom",KJ:!1}},{sub:[{K:M.E.b,v:{q:M.p.yi,mn:!0}},{K:M.E.b,v:{q:M.p.yi,P:0}},{K:M.E.b,v:{q:M.p.yi,P:1}},{K:M.E.b,v:{q:M.p.yi,P:2}}]}]},R[7],R[8]];
return ht==0?R:c}();function jC(){gB.call(this);this.Z=$.I("div","");this.CF=0;this.OF=0;this.wY=null;
this.AP=$.I("div","");this.AP.setAttribute("style","width:200em; height:100em; position:absolute;");
this.hD=[];this.wq=[];this.YI={}}jC.prototype=new gB;jC.prototype.tq=function(I){var k=Date.now(),a=[];
if(I=="-"){a=[new kh,new cD,new bN,new h4("pdfpres"),new h4("cformat"),new h4("batch"),new h4("mockups"),new ie,new hO,new jm,new dF,new dF(!0),new ez,new bu,new dY,new cw,new jl,new j3,new dh,new gI,new cA,new dg,new d5,new bb("isize"),new bb("csize"),new cG,new kM,new dt,new aW,new b6,new eS,new cv,new h_,new ir(!1),new ir(!0),new iz(0),new iz(1),new aG,new kt,new fj,new jX,new kG,new gk,new eH(0),new eH(1),new eH(2),new eH(3),new eH(4),new eH(5),new eH(6),new eH(7),new eH(8),new gO,new eo,new kC,new dd,new jD,new iu,new eq,new iX,new dW(0),new dW(1),new fR("border",[7,9],"px"),new fR("smoothness",[19,3,0],"px"),new fR("expand",[7,4],"px"),new fR("contract",[7,5],"px"),new fR("feather",[7,6],"px"),new gx(0,"namewindow",[12,48]),new gx(2,"billto","Bill To"),new gx(1,"cornerradius",[12,94,0],"px",!0,!0),new gx(1,"scaleeffects",[6,30,1],"%",!0),new gx(1,"doczoom","Zoom","%",!0),new gx(1,"setFPS","Set FPS","fps,120",!1),new gx(1,"simplifypath",[12,94,2],"%,100",!0,!0)];
if(ht==0){a.push(new ge)}}else a=[new iU(I.slice(4))];this.ax3(a);this.YI[I]=!0};jC.prototype.ax3=function(I){var k=this.wY;
for(var Y=0;Y<I.length;Y++){var a=I[Y];a.parent=this;this.wq.push(a);this.CV(a);a.k();if(k)a.wu(k,f9._7);
a.O(M.E.CY,this.Ac,this);$.H0(a)}};jC.prototype.bb=function(I,k){this.CF=I;this.OF=k;for(var Y=0;Y<this.wq.length;
Y++)this.CV(this.wq[Y])};jC.prototype.k=function(){for(var Y=0;Y<this.wq.length;Y++)this.wq[Y].k()};
jC.prototype.bN=function(){return this.hD.length==0?null:this.hD[this.hD.length-1]};jC.prototype.UC=function(){for(var Y=0;
Y<this.hD.length;Y++)if(this.hD[Y].UC())return!0;return!1};jC.prototype.aAZ=function(I,k,a,n,s){var C=I.startsWith("afw_"),T=null;
if(!C&&!this.YI["-"])this.tq("-");if(C&&!this.YI[I])this.tq(I);if(typeof I=="object"){T=I;if(!T.a9i(M.E.CY,this.Ac))T.O(M.E.CY,this.Ac,this);
T.parent=this}else for(var Y=0;Y<this.wq.length;Y++)if(this.wq[Y].id==I)T=this.wq[Y];if(this.UC()&&T.UC()){alert("Finish the current action first");
return}if(!T.Ud(k))return;if(this.hD.indexOf(T)!=-1){if(I=="colorpicker")T.tc(k,a,n,s);return}var S=this.hD.length-1;
if(S>=0)$.fO(this.hD[S].Z,"wdisabled");this.Z.appendChild(T.Z);this.hD.push(T);this.CV(T);$.TC(T);T.tc(k,a,n,s)};
jC.prototype.CV=function(I){var k=this.CF,a=this.OF,n=I.ts(k,a),s;if(n!=null){s=n}else{n=new kK(0,0);
s=I.aDE();if(s==null){var C=this.hD.indexOf(I)+1;if(k<450||a<450)s=new kK(0,0);else s=new kK(C*150,C*150)}}I.Z.style.left=s.x+"px";
I.Z.style.top=this.Z.offsetTop+s.y+"px";I.bb(this.CF-n.x*2,this.OF-n.y*2-34)};jC.prototype.wu=function(I,k){this.wY=I;
for(var Y=0;Y<this.wq.length;Y++)this.wq[Y].wu(I,k)};jC.prototype.Ac=function(I){var k=this.hD.pop();
$.H0(k,this.Z);var a=this.hD.length-1;if(a>=0)$.St(this.hD[a].Z,"wdisabled");if(this.AP.parentNode==this.Z)this.Z.removeChild(this.AP)};
window.onload=function(){document.body.appendChild(new au().Z)}}())